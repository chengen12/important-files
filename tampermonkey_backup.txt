{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"iZhihu","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://www.zhihu.com/*","https://www.zhihu.com/*"],"orig_matches":["http://www.zhihu.com/*","https://www.zhihu.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512425},"enabled":true,"position":1,"file_url":"https://greasyfork.org/scripts/350-izhihu/code/iZhihu.user.js","uuid":"448690c0-2bc3-49b7-92d9-64baee8f2041","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBpWmhpaHUKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dpdGh1Yi5jb20vdW5vZ3ovaXpoaWh1Ci8vIEB2ZXJzaW9uICAgICAgMi4xMy4zCi8vIEBkZXNjcmlwdGlvbiAg55+l5LmO5o+S5Lu2Ci8vIEBtYXRjaCAgICAgICAgaHR0cDovL3d3dy56aGlodS5jb20vKgovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly93d3cuemhpaHUuY29tLyoKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy56aGlodS5jb20vKgovLyBAaW5jbHVkZSAgICAgIGh0dHBzOi8vd3d3LnpoaWh1LmNvbS8qCi8vIEByZXF1aXJlICAgICAgaHR0cDovL2Nkbi5zdGF0aWNmaWxlLm9yZy9qcXVlcnkvMS44LjIvanF1ZXJ5Lm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9jZG4uc3RhdGljZmlsZS5vcmcvaUNoZWNrLzEuMC4xL2ljaGVjay5taW4uanMKLy8gQHJlc291cmNlICAgICBqcVVJX0NTUyBodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2lDaGVjay8xLjAuMS9za2lucy9zcXVhcmUvYmx1ZS5jc3MKLy8gQHJlc291cmNlICAgICB1aS1iZ19pY2hlY2stc2tpbl9zcXVhcmVfYmx1ZSBodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2lDaGVjay8xLjAuMS9za2lucy9zcXVhcmUvYmx1ZS5wbmcKLy8gQHJlc291cmNlICAgICB1aS1iZ19pY2hlY2stc2tpbl9zcXVhcmVfYmx1ZTJ4IGh0dHA6Ly9jZG4uc3RhdGljZmlsZS5vcmcvaUNoZWNrLzEuMC4xL3NraW5zL3NxdWFyZS9ibHVlQDJ4LnBuZwovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9jZG4uc3RhdGljZmlsZS5vcmcvanF1ZXJ5dWkvMS4xMC40L2pxdWVyeS11aS5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL3B1cmwvMi4zLjEvcHVybC5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL3VuZGVyc2NvcmUuanMvMS42LjAvdW5kZXJzY29yZS1taW4uanMKLy8gQGdyYW50ICAgICAgICBHTV94bWxIdHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgR01fZ2V0UmVzb3VyY2VUZXh0Ci8vIEBncmFudCAgICAgICAgR01fZ2V0UmVzb3VyY2VVUkwKLy8gQGljb24gICAgICAgICBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vdW5vZ3ovaXpoaWh1L2RldmVsb3AvbWlzYy94cGktY29uZmlnL2ljb242NC5wbmcKLy8gQGNvcHlyaWdodCAgICAyMDE1KywgQOmSouebhemDreWtkCBA5YiY5YuHIEDloqjno4oKLy8gPT0vVXNlclNjcmlwdD09Cgp2YXIganFVSV9Dc3NTcmMgPSBHTV9nZXRSZXNvdXJjZVRleHQoImpxVUlfQ1NTIikKR01fYWRkU3R5bGUgKGpxVUlfQ3NzU3JjLnJlcGxhY2UoJ3VybChibHVlJywgJ3VybChodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2lDaGVjay8xLjAuMS9za2lucy9zcXVhcmUvYmx1ZScpKTsKCnZhciB2ZXJzaW9uPScyLjEzLjMnOwp2YXIgdXBkYXRlRGF0ZT0nMjAxNi00LTI1JzsKCmlmICggdHlwZW9mIHVuc2FmZVdpbmRvdyA9PT0gInVuZGVmaW5lZCIpIHsKICAgIHVuc2FmZVdpbmRvdyAgICA9ICggZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBkdW1teUVsZW0gICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsKICAgICAgICBkdW1teUVsZW0ub25jbGljaz1mdW5jdGlvbigpe3JldHVybiB3aW5kb3c7fTsKICAgICAgICByZXR1cm4gZHVtbXlFbGVtLm9uY2xpY2sgKCk7CiAgICB9ICkgKCk7Cn0KCi8v5Li75YWl5Y+jCi8vJChmdW5jdGlvbiBtYWluKCl7CgoKLyoqCiAqIEBjbGFzcyBVdGlscyDovoXliqnnsbsKICovCmZ1bmN0aW9uIHV0aWxzKCl7Cn07Cgp2YXIgY2ZnRGVmYXVsdCA9IHsKICAgICdjb21tZW50X3NpZGViYXInOiB0cnVlCiAgLCAnYW5zd2VyX29yZGVyQnlUaW1lJzogZmFsc2UKICAsICdBdXRob3JMaXN0JzpmYWxzZQogICwgJ1Nob3dDb21tZW50Jzp0cnVlCiAgLCAnSG9tZUxheW91dCc6ZmFsc2UKICAsICdRdWlja0Zhdm8nOnRydWUKICAsICdRdWlja0Zhdm9QaW5uZWQnOnt9CiAgLCAnQXV0aG9yUmVhcic6ZmFsc2UKICAsICdIb21lTm90aSc6ZmFsc2UKICAsICdRdWlja0Jsb2NrJzpmYWxzZQogICwgJ05vdGk3Jzp0cnVlCiAgLCAnSG9tZUZlZWRzQ29sdW1ucyc6ZmFsc2UKICAsICdSaWdodENvbW1lbnRfQXV0b1Njcm9sbFBhZ2VXaGVuQ2xvc2luZyc6dHJ1ZQogICwgJ1RvcE5hdkF1dG9Gb2xkJzpmYWxzZQp9OwogIAovKioKICog6K+75Y+W6YWN572uCiAqLwp1dGlscy5nZXRDZmcgPSBmdW5jdGlvbihrZXkpewogIGlmKCFrZXkpcmV0dXJuIGZhbHNlOwogIHZhciBjZmcgPSAkLmV4dGVuZChjZmdEZWZhdWx0LCB0aGlzLmdldFZhbHVlKCdpemhpaHUnLGNmZ0RlZmF1bHQpKTsKICByZXR1cm4ga2V5ID8gY2ZnW2tleV0gOiBjZmc7Cn07Cgp1dGlscy5zZXRDZmcgPSBmdW5jdGlvbihrZXksdmFsdWUpewogIGlmKCFrZXkpcmV0dXJuOwogIHZhciBjZmcgPSAkLmV4dGVuZChjZmdEZWZhdWx0LCB0aGlzLmdldFZhbHVlKCdpemhpaHUnLGNmZ0RlZmF1bHQpKTsKICBjZmdba2V5XT12YWx1ZTsKICB0aGlzLnNldFZhbHVlKCdpemhpaHUnLGNmZyk7Cn07CgovKioKICog6K+75Y+W5a2Y5YKoCiAqLwp1dGlscy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKGtleSwgZGVmYXVsdFZhbHVlKXsKICAgIHZhciB2PXVuc2FmZVdpbmRvdy5sb2NhbFN0b3JhZ2Vba2V5XTsKICAgIGlmKHYpCiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uodik7CiAgICBlbHNlCiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTsKfTsKCi8qKgogKiDlhpnlhaXlrZjlgqgKICovCnV0aWxzLnNldFZhbHVlID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSl7CiAgdW5zYWZlV2luZG93LmxvY2FsU3RvcmFnZVtrZXldID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpOwp9OwoKLyoqCiAqIOWIoOmZpOWtmOWCqAogKi8KdXRpbHMuZGVsZXRlVmFsdWUgPSBmdW5jdGlvbihrZXkpewogIHJldHVybiBkZWxldGUgdW5zYWZlV2luZG93LmxvY2FsU3RvcmFnZVtrZXldOwp9OwoKdXRpbHMudHJhbnNmZXJPbGRDZmc9ZnVuY3Rpb24oKXsKICAgIHZhciBvbGRIb21lTGF5b3V0ID0gdW5zYWZlV2luZG93LmxvY2FsU3RvcmFnZVsnaXpoX0hvbWVMYXlvdXQnXQogICAgICAsIG9sZEF1dGhvckxpc3QgPSB1bnNhZmVXaW5kb3cubG9jYWxTdG9yYWdlWydpemhfQXV0aG9yTGlzdCddCiAgICAgICwgb2xkU2hvd0NvbW1lbnQgPSB1bnNhZmVXaW5kb3cubG9jYWxTdG9yYWdlWydpemhfU2hvd0NvbW1lbnQnXQogICAgICAsIG9sZFF1aWNrRmF2byA9IHVuc2FmZVdpbmRvdy5sb2NhbFN0b3JhZ2VbJ2l6aF9RdWlja0Zhdm8nXQogICAgICAsIG9sZEF1dGhvclJlYXIgPSB1bnNhZmVXaW5kb3cubG9jYWxTdG9yYWdlWydpemhfQXV0aG9yUmVhciddCiAgICAgICwgb2xkSG9tZU5vdGkgPSB1bnNhZmVXaW5kb3cubG9jYWxTdG9yYWdlWydpemhfSG9tZU5vdGknXQogICAgOwogICAgaWYob2xkSG9tZUxheW91dCl7CiAgICAgICAgaXpoSG9tZUxheW91dD1vbGRIb21lTGF5b3V0OwogICAgICAgIHVuc2FmZVdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnaXpoX0hvbWVMYXlvdXQnKTsKICAgICAgICB0aGlzLnNldENmZygnSG9tZUxheW91dCcsaXpoSG9tZUxheW91dCk7CiAgICB9CiAgICBpZihvbGRBdXRob3JMaXN0KXsKICAgICAgICBpemhBdXRob3JMaXN0PW9sZEF1dGhvckxpc3Q7CiAgICAgICAgdW5zYWZlV2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpemhfQXV0aG9yTGlzdCcpOwogICAgICAgIHRoaXMuc2V0Q2ZnKCdBdXRob3JMaXN0JyxpemhBdXRob3JMaXN0KTsKICAgIH0KICAgIGlmKG9sZFNob3dDb21tZW50KXsKICAgICAgICBpemhSaWdodENvbW1lbnQ9b2xkU2hvd0NvbW1lbnQ7CiAgICAgICAgdW5zYWZlV2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpemhfU2hvd0NvbW1lbnQnKTsKICAgICAgICB0aGlzLnNldENmZygnU2hvd0NvbW1lbnQnLGl6aFJpZ2h0Q29tbWVudCk7CiAgICB9CiAgICBpZihvbGRRdWlja0Zhdm8pewogICAgICAgIGl6aFF1aWNrRmF2bz1vbGRRdWlja0Zhdm87CiAgICAgICAgdW5zYWZlV2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpemhfUXVpY2tGYXZvJyk7CiAgICAgICAgdGhpcy5zZXRDZmcoJ1F1aWNrRmF2bycsaXpoUXVpY2tGYXZvKTsKICAgIH0KICAgIGlmKG9sZEF1dGhvclJlYXIpewogICAgICAgIGl6aEF1dGhvclJlYXI9b2xkQXV0aG9yUmVhcjsKICAgICAgICB1bnNhZmVXaW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2l6aF9BdXRob3JSZWFyJyk7CiAgICAgICAgdGhpcy5zZXRDZmcoJ0F1dGhvclJlYXInLGl6aEF1dGhvclJlYXIpOwogICAgfQogICAgaWYob2xkSG9tZU5vdGkpewogICAgICAgIGl6aEhvbWVOb3RpPW9sZEhvbWVOb3RpOwogICAgICAgIHVuc2FmZVdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnaXpoX0hvbWVOb3RpJyk7CiAgICAgICAgdGhpcy5zZXRDZmcoJ0hvbWVOb3RpJyxpemhIb21lTm90aSk7CiAgICB9Cgp9OwoKCi8qKgogKiBAbWV0aG9kIGZvcm1hdFN0cgogKgogKiDmoLzlvI/ljJblrZfnrKbkuLLmqKHniYgs5pSv5oyBMuenjeagvOW8jzoKICoKICogICAgIGZvcm1hdFN0cigiaSBjYW4gc3BlYWsge2xhbmd1YWdlfSBzaW5jZSBpIHdhcyB7YWdlfSIse2xhbmd1YWdlOidqYXZhc2NyaXB0JyxhZ2U6MTB9KTsKICogICAgIGZvcm1hdFN0cigiaSBjYW4gc3BlYWsgezB9IHNpbmNlIGkgd2FzIHsxfSIsJ2phdmFzY3JpcHQnLDEwKTsKICoKICog5aaC5p6c5LiN5biM5pyb6KKr6L2s5LmJLOWImeeUqOS4pOS4quaLrOWPtyzlpoI6IGBmb3JtYXRTdHIoImkgY2FuIHNwZWFrIHswfSBzaW5jZSBpIHdhcyB7ezF9IiwnamF2YXNjcmlwdCcsMTApO2AKICoKICovCnV0aWxzLmZvcm1hdFN0ciA9IGZ1bmN0aW9uKHRwbCxvYmopewogIG9iaiA9IHR5cGVvZiBvYmogPT09ICdvYmplY3QnID8gb2JqIDogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsKICByZXR1cm4gdHBsLnJlcGxhY2UoL1x7XHt8XH1cfXxceyhcdyspXH0vZywgZnVuY3Rpb24gKG0sIG4pewogICAgaWYgKG0gPT0gInt7IikgeyByZXR1cm4gInsiOyB9CiAgICBpZiAobSA9PSAifX0iKSB7IHJldHVybiAifSI7IH0KICAgIHJldHVybiBvYmpbbl07CiAgfSk7Cn07Cgp1dGlscy5nZXRQYXJhbUluUXVlcnk9ZnVuY3Rpb24ocXVlcnlTdHIscGFyYW1OYW1lKXsKICAgIHZhciBwYXJhbT1wYXJhbU5hbWUrJz0nCiAgICAgICwgc3RhcnQ9cXVlcnlTdHIuaW5kZXhPZihwYXJhbSkrcGFyYW0ubGVuZ3RoCiAgICAgICwgZW5kPXF1ZXJ5U3RyLmluZGV4T2YoJyYnLHN0YXJ0KTsKICAgIHJldHVybiBlbmQ8c3RhcnQ/cXVlcnlTdHIuc3Vic3RyaW5nKHN0YXJ0KTpxdWVyeVN0ci5zdWJzdHJpbmcoc3RhcnQsZW5kKTsKfTsKCnV0aWxzLm9ic2VydmVET01BdHRyTW9kaWZpZWQgPSAoZnVuY3Rpb24oKXsKICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsCiAgICAgICAgZXZlbnRMaXN0ZW5lclN1cHBvcnRlZCA9IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyOwoKICAgIHJldHVybiBmdW5jdGlvbihvYmosIGNhbGxiYWNrKXsKICAgICAgICBpZiggTXV0YXRpb25PYnNlcnZlciApewogICAgICAgICAgICAvLyBkZWZpbmUgYSBuZXcgb2JzZXJ2ZXIKICAgICAgICAgICAgdmFyIG9icyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucywgb2JzZXJ2ZXIpewogICAgICAgICAgICAgICAgaWYoIG11dGF0aW9uc1swXS50eXBlID09ICdhdHRyaWJ1dGVzJyApCiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobXV0YXRpb25zWzBdKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG9icy5vYnNlcnZlKCBvYmosIHsgYXR0cmlidXRlczp0cnVlIH0pOwogICAgICAgIH1lbHNlIGlmKCBldmVudExpc3RlbmVyU3VwcG9ydGVkICl7CiAgICAgICAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKCdET01BdHRyTW9kaWZpZWQnLCBjYWxsYmFjaywgZmFsc2UpOwogICAgICAgIH0KICAgIH0KfSkoKTsKCnV0aWxzLm9ic2VydmVET01Ob2RlQWRkZWQgPSAoZnVuY3Rpb24oKXsKICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsCiAgICAgICAgZXZlbnRMaXN0ZW5lclN1cHBvcnRlZCA9IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyOwoKICAgIHJldHVybiBmdW5jdGlvbihvYmosIGNhbGxiYWNrKXsKICAgICAgICBpZiggTXV0YXRpb25PYnNlcnZlciApewogICAgICAgICAgICAvLyBkZWZpbmUgYSBuZXcgb2JzZXJ2ZXIKICAgICAgICAgICAgdmFyIG9icyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucywgb2JzZXJ2ZXIpewogICAgICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24obXV0YXRpb24pIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhtdXRhdGlvbik7CiAgICAgICAgICAgICAgICAgIH0pOyAgICAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG9icy5vYnNlcnZlKCBvYmosIHsgY2hpbGRMaXN0OnRydWUgfSk7CiAgICAgICAgfWVsc2UgaWYoIGV2ZW50TGlzdGVuZXJTdXBwb3J0ZWQgKXsKICAgICAgICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIGNhbGxiYWNrLCBmYWxzZSk7CiAgICAgICAgfQogICAgfQp9KSgpOwoKdXRpbHMuUmVnZXhTcmNQaWMgPSAvc3JjPSJbXHNcU10rPy5qcGciL2cKCi8vY29uc29sZS5sb2coKG5ldyBEYXRlKCkpLmdldFRpbWUoKSk7Cgp2YXIgJCA9IHdpbmRvdy4kOwp2YXIgXyA9IHRoaXMuXzsKdmFyIHB1cmwgPSB3aW5kb3cucHVybHx8JC51cmw7CgovL+S9v+eUqENhc3BlckpT55qE5qih5ouf55So5oi35pON5L2c77yaIGh0dHA6Ly9jYXNwZXJqcy5vcmcvYXBpLmh0bWwjY2xpZW50LXV0aWxzCi8vdmFyIGNsaWVudCA9IHdpbmRvdy5jcmVhdGUoKTsKCnZhciB1cmwgPSBwdXJsKCk7CnZhciBwYWdlID0gdXJsLnNlZ21lbnQoMSk7Cgp2YXIgcGFnZUlzPXt9CiAgLCAkd2luPSQod2luZG93KQogICwgX2RvYz13aW5kb3cuZG9jdW1lbnQKICAsICRib2R5PSQoX2RvYy5ib2R5KQogICwgX3BhdGg9d2luZG93LmZyYW1lRWxlbWVudD93aW5kb3cuZnJhbWVFbGVtZW50LnNyYy5yZXBsYWNlKC9odHRwcz86XC9cL3d3dy56aGlodS5jb20vLCcnKTp1cmwuZGF0YS5hdHRyWydwYXRoJ10KICAsIGNzcz0nJwogICwgJGg9JCgnaGVhZCcpCiAgLCAkcz0kKCc8c3R5bGU+JywgeyAndHlwZSc6ICd0ZXh0L2NzcycgfSkKICAsIGlQYXRoQW5zd2Vycz1fcGF0aC5pbmRleE9mKCcvYW5zd2VycycpCiAgLCBpUGF0aENvbGxlY3Rpb249X3BhdGguaW5kZXhPZignL2NvbGxlY3Rpb24nKQo7CnBhZ2VJcy5Ib21lPScvJz09X3BhdGg7CnBhZ2VJcy5BbnN3ZXI9MDxfcGF0aC5pbmRleE9mKCcvYW5zd2VyLycpOwpwYWdlSXMuUXVlc3Rpb249IXBhZ2VJcy5BbnN3ZXImJjA9PV9wYXRoLmluZGV4T2YoJy9xdWVzdGlvbi8nKTsKcGFnZUlzLkFuc3dlcnM9MDxpUGF0aEFuc3dlcnMmJl9wYXRoLnN1YnN0cihpUGF0aEFuc3dlcnMpPT0nL2Fuc3dlcnMnOwpwYWdlSXMuQ29sbGVjdGlvbj0wPT1pUGF0aENvbGxlY3Rpb247CnBhZ2VJcy5EZWJ1dHM9MD09X3BhdGguaW5kZXhPZignL2RlYnV0cy8nKTsKcGFnZUlzLk15Q29sbGVjdGlvbj0wPT1fcGF0aC5pbmRleE9mKCcvY29sbGVjdGlvbnMvbWluZScpOwpwYWdlSXMuU2V0dGluZ3NGaWx0ZXI9MD09X3BhdGguaW5kZXhPZignL3NldHRpbmdzL2ZpbHRlcicpCgp2YXIgaT0wCiAgLCAkdXNlcj0kKCcuenUtdG9wLW5hdi11c2VyaW5mbycpLy91c2VyX2F2YXRlcgogICwgej0kdXNlci5sZW5ndGg/JHVzZXIuYXR0cignaHJlZicpOicnCiAgLCAkYmFubmVyPSQoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5maXJzdCgpCiAgLCAkbWFpbj0kKCdbcm9sZT1tYWluXScpLy9tYWluCiAgLCBjc3NfQXV0aG9yTGlzdEl0ZW1BPSdwYWRkaW5nOjAgMTBweCAwIDA7JwogICwgY3NzX0F1dGhvckxpc3RJdGVtQV9uYW1lPSdwYWRkaW5nOjAgNXB4OycKOwoKd2luZG93LmlaaGlodSA9IHsKICAgICR3aW46JHdpbgogICwgJGJvZHk6JGJvZHkKICAsICRtYWluOiRtYWluCiAgLCBjb25maWc6JC5leHRlbmQoY2ZnRGVmYXVsdCwgdXRpbHMuZ2V0VmFsdWUoJ2l6aGlodScsY2ZnRGVmYXVsdCkpCn07Cgp2YXIgaXpoSG9tZUxheW91dCA9IHdpbmRvdy5pWmhpaHUuY29uZmlnWydIb21lTGF5b3V0J10KICAsIGl6aEF1dGhvckxpc3QgPSB3aW5kb3cuaVpoaWh1LmNvbmZpZ1snQXV0aG9yTGlzdCddCiAgLCBpemhSaWdodENvbW1lbnQgPSB3aW5kb3cuaVpoaWh1LmNvbmZpZ1snU2hvd0NvbW1lbnQnXQogICwgaXpoUXVpY2tGYXZvID0gd2luZG93LmlaaGlodS5jb25maWdbJ1F1aWNrRmF2byddCiAgLCBpemhBdXRob3JSZWFyID0gd2luZG93LmlaaGlodS5jb25maWdbJ0F1dGhvclJlYXInXQogICwgaXpoSG9tZU5vdGkgPSB3aW5kb3cuaVpoaWh1LmNvbmZpZ1snSG9tZU5vdGknXQogICwgaXpoUXVpY2tCbG9jayA9IHdpbmRvdy5pWmhpaHUuY29uZmlnWydRdWlja0Jsb2NrJ10KICAsIGl6aFRvcE5hdkF1dG9Gb2xkID0gd2luZG93LmlaaGlodS5jb25maWdbJ1RvcE5hdkF1dG9Gb2xkJ10KOwoKdXRpbHMudHJhbnNmZXJPbGRDZmcoKTsKCiRib2R5LmF0dHIoewogICAgJ2l6aEhvbWVMYXlvdXQnIDogaXpoSG9tZUxheW91dD8nMSc6JycKICAsICdpemhBdXRob3JMaXN0JyA6IGl6aEF1dGhvckxpc3Q/JzEnOicnCiAgLCAnaXpoUmlnaHRDb21tZW50JyA6IGl6aFJpZ2h0Q29tbWVudD8nMSc6JycKICAsICdpemhRdWlja0Zhdm8nIDogaXpoUXVpY2tGYXZvPycxJzonJwogICwgJ2l6aEF1dGhvclJlYXInIDogaXpoQXV0aG9yUmVhcj8nMSc6JycKICAsICdpemhIb21lTm90aScgOiBpemhIb21lTm90aT8nMSc6JycKICAsICdpemhRdWlja0Jsb2NrJyA6IGl6aFF1aWNrQmxvY2s/JzEnOicnCiAgLCAnaXpoVG9wTmF2QXV0b0ZvbGQnIDogaXpoVG9wTmF2QXV0b0ZvbGQ/JzEnOicnCn0pOwoKdmFyIF9RdWlja0Jsb2NrID0gbmV3IFF1aWNrQmxvY2sod2luZG93LmlaaGlodSkKICAsIF9RdWlja0Zhdm8gPSBuZXcgUXVpY2tGYXZvKHdpbmRvdy5pWmhpaHUpCiAgLCBfQ29tbWVudCA9IG5ldyBDb21tZW50KHdpbmRvdy5pWmhpaHUpCiAgLCBfTm90aTcgPSBuZXcgTm90aTcod2luZG93LmlaaGlodSkKICAsIF9BbnN3ZXIgPSBuZXcgQW5zd2VyKHdpbmRvdy5pWmhpaHUpCiAgLCBfU2VhcmNoaW5nTGlzdCA9IG5ldyBTZWFyY2hpbmdMaXN0KHdpbmRvdy5pWmhpaHUpCiAgLCBfVG9wTmF2ID0gbmV3IFRvcE5hdih3aW5kb3cuaVpoaWh1KQo7Cgpjc3MrPVsnLnRfc2hvd2ZyYW1le3BhZGRpbmc6MTBweCAxMHB4IDEwcHggMTBweDtiYWNrZ3JvdW5kOiNmMGYwZjA7Ym9yZGVyOjFweCBzb2xpZCAjZmZmO2JveC1zaGFkb3c6MnB4IDVweCAxNXB4ICMzMzM7Ym9yZGVyLXJhZGl1czoxMHB4Oy1tb3otYm94LXNoYWRvdzoycHggNXB4IDE1cHggIzMzMzstbW96LWJvcmRlci1yYWRpdXM6MTBweDstd2Via2l0LWJveC1zaGFkb3c6MnB4IDVweCAxNXB4ICMzMzM7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjEwcHh9I2laaGlodV9ydGpkZGl2e3dpZHRoOjY1MHB4O2hlaWdodDo0MzdweH0jaVpoaWh1X3NldGRpdnt3aWR0aDo2MDBweDtoZWlnaHQyOjI5NXB4fS50X3NldGRpdntwYWRkaW5nLWJvdHRvbToxMHB4O2JhY2tncm91bmQ6I2ZjZmNmYzt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS50X3NldF90Yntmb250LWZhbWlseToiTHVjaWRhIFNhbnMgVW5pY29kZSIsIkx1Y2lkYSBHcmFuZGUiLFNhbnMtU2VyaWYgIWltcG9ydGFudDtmb250LXNpemU6MTJweCAhaW1wb3J0YW50O3RleHQtc2hhZG93Om5vbmUgIWltcG9ydGFudDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2UgIWltcG9ydGFudDttYXJnaW46MCAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEyMCV9LnRfc2V0X3RiIHRoZWFkIHRke2JhY2tncm91bmQ6IzAwODBjMDtjb2xvcjojZmZmO2JvcmRlcjpub25lICFpbXBvcnRhbnQ7cGFkZGluZzo0cHggOHB4IDRweCAhaW1wb3J0YW50O2JvcmRlci1yYWRpdXMtdG9wbGVmdDoxMHB4O2JvcmRlci1yYWRpdXMtdG9wcmlnaHQ6MTBweDstbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDoxMHB4Oy1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDoxMHB4Oy13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czoxMHB4Oy13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MTBweH0udF9zZXRfdGIgdGgsLnRfc2V0X3RiIHRke3BhZGRpbmc6OHB4O2JhY2tncm91bmQ6I2U4ZWRmZjtib3JkZXI6bm9uZSAhaW1wb3J0YW50O2JvcmRlci10b3A6MnB4IHNvbGlkICNmY2ZjZmMgIWltcG9ydGFudDtjb2xvcjojNjY5O2xpbmUtaGVpZ2h0OjEuMWVtICFpbXBvcnRhbnR9LnRfc2V0X3RiIHRkIGlucHV0LC50X3NldF90YiB0ZCB0ZXh0YXJlYXtmb250LXNpemU6MTJweCAhaW1wb3J0YW50O3BhZGRpbmc6MCAhaW1wb3J0YW50fS50X3NldF90YiB0Ym9keSB0cjpob3ZlciB0aCwudF9zZXRfdGIgdGJvZHkgdHI6aG92ZXIgdGR7YmFja2dyb3VuZDojZDBkYWZkfS50X3NldF90YiB0Zm9vdCB0ZHtib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6MTBweDtib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OjEwcHg7LW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6MTBweDstbW96LWJvcmRlci1yYWRpdXMtYm90dG9tcmlnaHQ6MTBweDstd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MTBweDstd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjEwcHh9LnRfc2V0X2Z0e2ZvbnQtZmFtaWx5OkFyaWFsLHNhbnMtc2VyaWYs54C577+977+9ICFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHggIWltcG9ydGFudDtmb250LXdlaWdodDpib2xkICFpbXBvcnRhbnQ7dGV4dC1zaGFkb3c6bm9uZSAhaW1wb3J0YW50O21hcmdpbi10b3A6MTVweCAhaW1wb3J0YW50fS50X3NldF9mdCBhe3RleHQtZGVjb3JhdGlvbjpub25lO2NvbG9yOiMwMDB9LnRfc2V0YnRue2JvcmRlcjoxcHggc29saWQgYmxhY2s7cGFkZGluZzoycHg7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZDojZmZmO2NvbG9yOiMwMDgwYzB9LnRfc2V0ZnRidG4gc3BhbntwYWRkaW5nOjJweCAxMHB4IDJweCAxMHB4ICFpbXBvcnRhbnR9LnRfcnRqZGJ0bntiYWNrZ3JvdW5kOiMwMDgwYzAgIWltcG9ydGFudDtjb2xvcjojZmZmICFpbXBvcnRhbnR9LnRfcnRqZHR4dHBvc3twYWRkaW5nLXRvcDo1cHh9I2laaGlodV9ydGhpbnR7Zm9udC1mYW1pbHk6QXJpYWwsc2Fucy1zZXJpZizngLnvv73vv70gIWltcG9ydGFudDtmb250LXNpemU6MTZweCAhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OmJvbGQ7cGFkZGluZzo1cHggMTBweCA1cHggMTBweDtwb3NpdGlvbjpmaXhlZDt0b3A6MjBweDtib3JkZXItcmFkaXVzOjVweDstbW96LWJvcmRlci1yYWRpdXM6NXB4Oy13ZWJraXQtYm9yZGVyLXJhZGl1czo1cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3BhY2l0eTowLjd9LnRfcnRoaW50X257Y29sb3I6I2ZmZiAhaW1wb3J0YW50O2JhY2tncm91bmQ6IzAwMCAhaW1wb3J0YW50fS50X3J0aGludF9me2JhY2tncm91bmQ6Izg4MDAwMCAhaW1wb3J0YW50O2NvbG9yOiNmZmZmZGQgIWltcG9ydGFudH0udF91cGJ0bntiYWNrZ3JvdW5kOiMwMDgwYzAgIWltcG9ydGFudDtjb2xvcjojZmZmICFpbXBvcnRhbnR9LnRfdXBpbmZve2hlaWdodDoxMjBweCAhaW1wb3J0YW50O3ZlcnRpY2FsLWFsaWduOnRleHQtdG9wICFpbXBvcnRhbnR9I2l6aF91cGRhdGVkaXYgdGh7Ym9yZGVyLXJpZ2h0OjJweCBzb2xpZCAjZmNmY2ZjICFpbXBvcnRhbnR9I2l6aF91cGRhdGVkaXYgdGZvb3QgdGR7Ym9yZGVyOm5vbmUgIWltcG9ydGFudDtib3JkZXItdG9wOjJweCBzb2xpZCAjZmNmY2ZjICFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6QXJpYWwsc2Fucy1zZXJpZizngLnvv73vv70gIWltcG9ydGFudDtmb250LXNpemU6MTJweCAhaW1wb3J0YW50O2ZvbnQtc3R5bGU6bm9ybWFsICFpbXBvcnRhbnQ7dGV4dC1zaGFkb3c6bm9uZSAhaW1wb3J0YW50fS50X3R4dHNob3d7dGV4dC1hbGlnbjpjZW50ZXI7YmFja2dyb3VuZDojMDA4MGMwO2NvbG9yOiNmMGYwZjA7dXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmV9LnRfZnJzaG93e2ZvbnQtc2l6ZToxLjJlbTtwb3NpdGlvbjpmaXhlZDt6LWluZGV4Ojk5OTk5O3RvcDo0NXB4O3dpZHRoOjIwMHB4O29wYWNpdHk6MC45O2N1cnNvcjpwb2ludGVyfS50X3Rib3h7cGFkZGluZzoxMHB4O3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlcjoxcHggc29saWQgI2YwZjBmMDtsaW5lLWhlaWdodDoyMHB4OypoZWlnaHQ6MSU7d2lkdGg6MjAwcHg7LW1vei1ib3gtc2hhZG93OjJweCA1cHggMTVweCAjMzMzOy1tb3otYm9yZGVyLXJhZGl1czo3cHg7LXdlYmtpdC1ib3gtc2hhZG93OjJweCA1cHggMTVweCAjMzMzOy13ZWJraXQtYm9yZGVyLXJhZGl1czo3cHh9LnRfdGJveCBze3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMjBweDtsZWZ0OjE2MHB4O2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjA7d2lkdGg6MDtmb250LXNpemU6MDtsaW5lLWhlaWdodDowO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudCB0cmFuc3BhcmVudCAjZjBmMGYwIHRyYW5zcGFyZW50O2JvcmRlci1zdHlsZTpkYXNoZWQgZGFzaGVkIHNvbGlkIGRhc2hlZDtib3JkZXItd2lkdGg6MTBweH0udF90Ym94IGl7cG9zaXRpb246YWJzb2x1dGU7dG9wOi05cHg7bGVmdDotMTBweDtkaXNwbGF5OmJsb2NrO2hlaWdodDowO3dpZHRoOjA7Zm9udC1zaXplOjA7bGluZS1oZWlnaHQ6MDtib3JkZXItY29sb3I6dHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgIzAwODBjMCB0cmFuc3BhcmVudDtib3JkZXItc3R5bGU6ZGFzaGVkIGRhc2hlZCBzb2xpZCBkYXNoZWQ7Ym9yZGVyLXdpZHRoOjEwcHh9QG1lZGlhIHNjcmVlbiBhbmQgKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzowKXsjaVpoaWh1X3J0amRkaXZ7aGVpZ2h0OjQxN3B4fSNpWmhpaHVfc2V0ZGl2e2hlaWdodDI6Mjk1cHh9I2l6aF91cGRhdGVkaXZ7aGVpZ2h0OjMxNXB4fX0nCiAgICAgLCcnXS5qb2luKCdcbicpOwppZihwYWdlSXMuUXVlc3Rpb24mJml6aEF1dGhvckxpc3QpewogICAgY3NzKz1bJ2Rpdi51bm97cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO2JvcmRlcjoxcHggc29saWQgIzA3NzFDMTtib3JkZXItcmlnaHQtd2lkdGg6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo2cHh9JwogICAgICAgICAsJ2Rpdi51bm8gLmZyYW1le292ZXJmbG93LXg6aGlkZGVuO292ZXJmbG93LXk6YXV0bztkaXJlY3Rpb246cnRsfScKICAgICAgICAgLCdkaXYudW5vIHNwYW4ubWVULGRpdi51bm8gc3Bhbi5tZUIsZGl2LnVubyB1bC5wcCBsaSBzcGFuLm1le3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7ZGlzcGxheTpibG9jaztoZWlnaHQ6MXB4O3dpZHRoOjFweDtsaW5lLWhlaWdodDoxcHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50O30nCiAgICAgICAgICwnZGl2LnVubyBzcGFuLm1lVHtib3JkZXItd2lkdGg6NnB4IDRweDtib3JkZXItdG9wLXdpZHRoOjBweDtib3JkZXItYm90dG9tLWNvbG9yOiNmZmY7fScKICAgICAgICAgLCdkaXYudW5vIHNwYW4ubWVCe2JvcmRlci13aWR0aDo2cHggNHB4O2JvcmRlci1ib3R0b20td2lkdGg6MHB4O2JvcmRlci10b3AtY29sb3I6I2ZmZjttYXJnaW4tdG9wOi03cHg7fScKICAgICAgICAgLCdkaXYudW5vIHVse2JhY2tncm91bmQtY29sb3I6IzA3NzFDMTtwYWRkaW5nOjA7bWFyZ2luOjA7ZGlyZWN0aW9uOmx0cn0nCiAgICAgICAgICwnZGl2LnVubyB1bCBsaXtkaXNwbGF5OmJsb2NrO2xpc3Qtc3R5bGUtdHlwZTpub25lO21hcmdpbjowO3BhZGRpbmc6MDt3aGl0ZS1zcGFjZTpub3dyYXA7fScKICAgICAgICAgLCdkaXYudW5vIHVsIGxpIGF7ZGlzcGxheTpibG9jazt9ZGl2LnVubyBsaSBhLnNlbHt0ZXh0LWRlY29yYXRpb246bm9uZTt9JwogICAgICAgICAsJ2Rpdi51bm8gdWwgbGkgYXsnK2Nzc19BdXRob3JMaXN0SXRlbUErJ30nCiAgICAgICAgICwnZGl2LnVubyB1bC5wcCBsaSBzcGFuLm1le3Bvc2l0aW9uOnN0YXRpYzttYXJnaW46NnB4IC04cHg7Ym9yZGVyLXdpZHRoOjRweCA2cHg7Ym9yZGVyLXJpZ2h0LWNvbG9yOiNmZmY7ZmxvYXQ6cmlnaHQ7fScKICAgICAgICAgLCdkaXYudW5vIGxpIGEgc3Bhbi5uYW1le3RleHQtYWxpZ246cmlnaHQ7ZGlzcGxheTpibG9jazsnK2Nzc19BdXRob3JMaXN0SXRlbUFfbmFtZSsnYmFja2dyb3VuZC1jb2xvcjojZmZmO31kaXYudW5vIGxpIGEuc2VsIHNwYW4ubmFtZXtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzA3NzFDMTt9JwogICAgICAgICAsJ2Rpdi51bm8gbGkgYSBzcGFuLm5hbWUubm9uYW1le2NvbG9yOiMwMDA7fScKICAgICAgICAgLCdkaXYudW5vIGxpIGEgc3Bhbi5uYW1lLmNvbGxhcHNlZHtjb2xvcjojOTk5OTk5O30nCiAgICAgICAgICwnZGl2LnVubyBsaSBhIHNwYW4ubmFtZS5mcmllbmR7Zm9udC1zdHlsZTppdGFsaWM7fScKICAgICAgICAgLCdkaXYudW5vIGxpIHNwYW4uaHB7YmFja2dyb3VuZC1jb2xvcjojOTk5OTk5O3Bvc2l0aW9uOnJlbGF0aXZlO2Zsb2F0OnJpZ2h0O21hcmdpbi10b3A6LTJweDtsaW5lLWhlaWdodDoycHg7aGVpZ2h0OjJweDt9JwogICAgICAgICAsJ2Rpdi51bm8gdGFibGUucGx1c3tmbG9hdDpyaWdodDttYXJnaW46N3B4IC05cHg7aGVpZ2h0OjdweDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Ym9yZGVyLXN0eWxlOmhpZGRlbjt9ZGl2LnVubyB0YWJsZS5wbHVzIHRke2JvcmRlcjoxcHggc29saWQgI2ZmZjt3aWR0aDoxcHg7aGVpZ2h0OjFweDt9JwogICAgICAgICAsJ2Rpdi51bm8gYS5zZWwgdGFibGUucGx1c3t9ZGl2LnVubyBhLnNlbCB0YWJsZS5wbHVzIHRke30nCiAgICAgICAgICwnZGl2LnVubyBsaSBhIHNwYW4uZnVuY3t0ZXh0LWFsaWduOmNlbnRlcjt9JwogICAgICAgICAsJ2Rpdi5pemgtYW5zd2VyLXByZXZpZXd7cG9zaXRpb246Zml4ZWQ7bWFyZ2luLXRvcDoxcHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgIzA3NzFDMTtib3JkZXItdG9wLXdpZHRoOjIycHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6NnB4O2JveC1zaGFkb3c6NXB4IDVweCA1cHggIzc3Nzt9JwogICAgICAgICAsJ2Rpdi5pemgtYW5zd2VyLXByZXZpZXcgLnptLWVkaXRhYmxlLWNvbnRlbnR7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7b3ZlcmZsb3cteTphdXRvO3BhZGRpbmc6MTBweDt9JwogICAgICAgICAsJ2Rpdi5pemgtYW5zd2VyLXByZXZpZXcgaW1nLnptLWxpc3QtYXZhdGFye3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjEwcHg7dG9wOi0zNXB4O2JvcmRlcjoxcHggc29saWQgIzA3NzFDMTtib3JkZXItcmFkaXVzOjZweDt9JwogICAgICAgICAsJ2Rpdi5pemgtYW5zd2VyLXByZXZpZXcgc3Bhbi5jb21tZW50e3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMThweDtsaW5lLWhlaWdodDoxOHB4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjNweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cGFkZGluZzowIDVweDt9JwogICAgICAgICAsJyddLmpvaW4oJ1xuJyk7Cn0KY3NzKz1bJy56LWljb24taXpoLWZvbGR7YmFja2dyb3VuZC1wb3NpdGlvbjotMTczcHggLTEwN3B4O3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7fScKICAgICAsJyddLmpvaW4oJ1xuJyk7CmNzcys9WycudF9zZXRfdGJ7Zm9udC1mYW1pbHk6Ikx1Y2lkYSBTYW5zIFVuaWNvZGUiLCJMdWNpZGEgR3JhbmRlIixTYW5zLVNlcmlmICFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHggIWltcG9ydGFudDt0ZXh0LXNoYWRvdzpub25lICFpbXBvcnRhbnQ7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlICFpbXBvcnRhbnQ7bWFyZ2luOjAgIWltcG9ydGFudDtsaW5lLWhlaWdodDoxMjAlfScKICAgICAsJy50X3NldF90YiB0aGVhZCB0ZHtiYWNrZ3JvdW5kOiMwMDgwYzA7Y29sb3I6I2ZmZjtib3JkZXI6bm9uZSAhaW1wb3J0YW50O3BhZGRpbmc6NHB4IDhweCA0cHggIWltcG9ydGFudDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjZweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo2cHh9JwogICAgICwnLnRfc2V0X3RiIHRoLC50X3NldF90YiB0ZHtwYWRkaW5nOjhweDtiYWNrZ3JvdW5kOiNlN2YzZjk7Ym9yZGVyOm5vbmUgIWltcG9ydGFudDtib3JkZXItdG9wOjJweCBzb2xpZCAjZmNmY2ZjICFpbXBvcnRhbnQ7Y29sb3I6IzY2OTtsaW5lLWhlaWdodDoxLjFlbSAhaW1wb3J0YW50fScKICAgICAsJy50X3NldF90YiB0ZCBpbnB1dCwudF9zZXRfdGIgdGQgdGV4dGFyZWF7Zm9udC1zaXplOjEycHggIWltcG9ydGFudDtwYWRkaW5nOjAgIWltcG9ydGFudH0nCiAgICAgLCcudF9zZXRfdGIgdGJvZHkgdHI6aG92ZXIgdGgsLnRfc2V0X3RiIHRib2R5IHRyOmhvdmVyIHRke2JhY2tncm91bmQ6I2QwZGFmZH0nCiAgICAgLCcudF9zZXRfdGIgdGZvb3QgdGR7Ym9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OjEwcHg7Ym9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDoxMHB4Oy1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OjEwcHg7LW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OjEwcHg7LXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjEwcHg7LXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czoxMHB4fScKICAgICAsJy50X3NldF90YiB0ZHt3aGl0ZS1zcGFjZTpub3dyYXA7fScKICAgICAsJy50X3NldF90YiB0ZCAuaWNvbi1oZWxwe2Zsb2F0OnJpZ2h0O30nCiAgICAgLCcnXS5qb2luKCdcbicpOwpjc3MrPVsnLml6aF9ib3hTaGFkb3d7Ym94LXNoYWRvdzogNXB4IDVweCAzcHggMHB4ICM5OTkgIWltcG9ydGFudDt9JwogICAgICwnI3poLXF1ZXN0aW9uLW1ldGEtd3JhcC5pemhfbm9Cb3JkZXJ7Ym9yZGVyLWJvdHRvbS1jb2xvcjp0cmFuc3BhcmVudCAhaW1wb3J0YW50O30nCiAgICAgLCcjemgtcXVlc3Rpb24tZmlsdGVyLXdyYXAuaXpoX25vQm9yZGVye2JvcmRlci10b3AtY29sb3I6dHJhbnNwYXJlbnQgIWltcG9ydGFudDt9JwogICAgICwnYS5pemgtYnV0dG9uLm9ue2NvbG9yOiMyMjU1OTk7dGV4dC1zaGFkb3c6MCAwIDFweCAjMjI1NTk5O30nCiAgICAgLCdhLml6aC1idXR0b24gLnpnLWljb257b3BhY2l0eTowLjU7fScKICAgICAsJ2EuaXpoLWJ1dHRvbi5vbiAuemctaWNvbntvcGFjaXR5OjE7fScKICAgICAsJ2EuaXpoLWJ1dHRvbi5vZmZ7Y29sb3I6I2VlZTt9JwogICAgICwnYS5pemgtYnV0dG9uLm9mZiAuemctaWNvbntvcGFjaXR5OjAuMjt9JwogICAgICwnLml6aC1mZWVkcy1maWx0ZXJ7fScKICAgICAsJy5pemgtZmVlZHMtZmlsdGVyIC5pemgtZmVlZHMtZmlsdGVyLW9wdGlvbntvcGFjaXR5OjAuNTtjb2xvcjojOTk5OTk5O3BhZGRpbmctbGVmdDo1cHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y3Vyc29yOnBvaW50ZXI7fScKICAgICAsJy5pemgtZmVlZHMtZmlsdGVyIC5pemgtZmVlZHMtZmlsdGVyLW9wdGlvbiBpe2JhY2tncm91bmQtcG9zaXRpb246LTE4M3B4IC00cHg7fScKICAgICAsJy5pemgtZmVlZHMtZmlsdGVyIC5pemgtZmVlZHMtZmlsdGVyLW9wdGlvbi5vbntvcGFjaXR5OjE7Y29sb3I6IzIyNTU5OTt9JwogICAgICwnLml6aC1mZWVkcy1maWx0ZXIgLml6aC1mZWVkcy1maWx0ZXItb3B0aW9uLm9uIGl7YmFja2dyb3VuZC1wb3NpdGlvbjotMTgzcHggLTI0cHg7fScKICAgICAsJyddLmpvaW4oJ1xuJyk7CmlmKGl6aEhvbWVMYXlvdXQpewogICAgY3NzICs9ICBbJyN6aC1xdWVzdGlvbi1saXN0IHsgcGFkZGluZy1sZWZ0OjMwcHghaW1wb3J0YW50IH0nCiAgICAgICAgICAgICwnI3poLW1haW4tZmVlZC1mcmVzaC1idXR0b24geyBtYXJnaW4tbGVmdDotMzBweCFpbXBvcnRhbnQgfScKICAgICAgICAgICAgLCcuZmVlZC1pdGVtIHsnCiAgICAgICAgICAgICwnICAgIGJvcmRlci1ib3R0b206MXB4IHNvbGlkICNFRUUhaW1wb3J0YW50OycKICAgICAgICAgICAgLCcgICAgbWFyZ2luLXRvcDotMXB4IWltcG9ydGFudCcKICAgICAgICAgICAgLCd9JwogICAgICAgICAgICAsJy5mZWVkLWl0ZW0gLmF2YXRhciB7IGRpc3BsYXk6bm9uZSFpbXBvcnRhbnQgfScKICAgICAgICAgICAgLCcnCiAgICAgICAgICAgICwnLmZlZWQtbWFpbiwuZmVlZC1pdGVtLmNvbWJpbmUgeyBtYXJnaW4tbGVmdDowIWltcG9ydGFudCB9JwogICAgICAgICAgICAsJy5mZWVkLWl0ZW0tcSB7IG1hcmdpbi1sZWZ0Oi0zMHB4IWltcG9ydGFudDtwYWRkaW5nLWxlZnQ6MCFpbXBvcnRhbnQgfScKICAgICAgICAgICAgLCcnCiAgICAgICAgICAgICx3aW5kb3cuaVpoaWh1LkNvbW1lbnQuUmlnaHRDb21tZW50ID8gJycgOiAnLmZlZWQtaXRlbS1hIC56bS1jb21tZW50LWJveCB7IG1heC13aWR0aDo2MDJweCFpbXBvcnRhbnQgfScKICAgICAgICAgICAgLHdpbmRvdy5pWmhpaHUuQ29tbWVudC5SaWdodENvbW1lbnQgPyAnJyA6ICcuZmVlZC1pdGVtLXEgLnptLWNvbW1lbnQtYm94IHsgbWF4LXdpZHRoOjYzMnB4IWltcG9ydGFudDsgd2lkdGg6NjMycHghaW1wb3J0YW50IH0nCiAgICAgICAgICAgICwnJwogICAgICAgICAgICAsJy56bS10YWctZWRpdG9yLCcKICAgICAgICAgICAgLCcjemgtcXVlc3Rpb24tdGl0bGUsJwogICAgICAgICAgICAsJyN6aC1xdWVzdGlvbi1kZXRhaWwsJwogICAgICAgICAgICAsJyN6aC1xdWVzdGlvbi1tZXRhLXdyYXAsJwogICAgICAgICAgICAsJy56aC1hbnN3ZXJzLXRpdGxlLCcKICAgICAgICAgICAgLCcjemgtcXVlc3Rpb24tZmlsdGVyLXdyYXAgeycKICAgICAgICAgICAgLCcgICAgbWFyZ2luLWxlZnQ6LTMycHghaW1wb3J0YW50JwogICAgICAgICAgICAsJ30nCiAgICAgICAgICAgICwnJwogICAgICAgICAgICAsJyN6aC1xdWVzdGlvbi1sb2ctcGFnZS13cmFwIC56bS10YWctZWRpdG9yLCcKICAgICAgICAgICAgLCcjemgtcXVlc3Rpb24tbG9nLXBhZ2Utd3JhcCAjemgtcXVlc3Rpb24tdGl0bGUgeycKICAgICAgICAgICAgLCcgICAgbWFyZ2luLWxlZnQ6MCAhaW1wb3J0YW50JwogICAgICAgICAgICAsJ30nCiAgICAgICAgICAgICwnJwogICAgICAgICAgICAsJy56aC1hbnN3ZXJzLXRpdGxlLCcKICAgICAgICAgICAgLCcjemgtcXVlc3Rpb24tZmlsdGVyLXdyYXAgeycKICAgICAgICAgICAgLCcgICAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgI0VFRSFpbXBvcnRhbnQ7JwogICAgICAgICAgICAsJyAgICB6LWluZGV4OjEwMDAhaW1wb3J0YW50JwogICAgICAgICAgICAsJ30nCiAgICAgICAgICAgICwnJwogICAgICAgICAgICAsJyN6aC1xdWVzdGlvbi1tZXRhLXdyYXAgeycKICAgICAgICAgICAgLCcgICAgbWFyZ2luLWJvdHRvbTowIWltcG9ydGFudDsnCiAgICAgICAgICAgICwnICAgIHBhZGRpbmctYm90dG9tOjEwcHghaW1wb3J0YW50OycKICAgICAgICAgICAgLCcgICAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgI0VFRSFpbXBvcnRhbnQnCiAgICAgICAgICAgICwnfScKICAgICAgICAgICAgLCcnCiAgICAgICAgICAgICwnI3poLXF1ZXN0aW9uLWFuc3dlci13cmFwIHsgbWFyZ2luLXRvcDotMXB4IWltcG9ydGFudCB9JwogICAgICAgICAgICAsJycKICAgICAgICAgICAgLCcjemgtcXVlc3Rpb24tY29sbGFwc2VkLXdyYXAsI3poLXF1ZXN0aW9uLWFuc3dlci13cmFwIHsgYm9yZGVyOm5vbmUhaW1wb3J0YW50IH0nCiAgICAgICAgICAgICwnLnp1LXF1ZXN0aW9uLWNvbGxhcC10aXRsZSB7IGJvcmRlci10b3A6MXB4IHNvbGlkICNFRUUhaW1wb3J0YW50IH0nCiAgICAgICAgICAgICwnI3poLXF1ZXN0aW9uLWNvbGxhcHNlZC13cmFwPmRpdjpsYXN0LWNoaWxkLC56bS1pdGVtLWFuc3dlcjpsYXN0LWNoaWxkIHsgYm9yZGVyLWJvdHRvbToxcHggc29saWQgI0VFRSFpbXBvcnRhbnQgfScKICAgICAgICAgICAgLCcnCiAgICAgICAgICAgICwnLnp1LWF1dG9oaWRlLCcKICAgICAgICAgICAgLCcuem0tY29tbWVudC1vcC1saW5rLCcKICAgICAgICAgICAgLCcuem0tc2lkZS10cmVuZC1kZWwsJwogICAgICAgICAgICAsJy51bnBpbiB7JwogICAgICAgICAgICAsJyAgICB2aXNpYmlsaXR5OnZpc2libGUhaW1wb3J0YW50OycKICAgICAgICAgICAgLCcgICAgb3BhY2l0eTowOycKICAgICAgICAgICAgLCd9JwogICAgICAgICAgICAsJy5mZWVkLWl0ZW06aG92ZXIgLnp1LWF1dG9oaWRlLCcKICAgICAgICAgICAgLCcuem0taXRlbS1hbnN3ZXIgLnp1LWF1dG9oaWRlLCcKICAgICAgICAgICAgLCcuem0taXRlbS1jb21tZW50OmhvdmVyIC56bS1jb21tZW50LW9wLWxpbmssJwogICAgICAgICAgICAsJy56bS1zaWRlLXRyZW5kLXJvdzpob3ZlciAuem0tc2lkZS10cmVuZC1kZWwsJwogICAgICAgICAgICAsJy56bS1zaWRlLW5hdi1saTpob3ZlciAudW5waW4geycKICAgICAgICAgICAgLCcgICAgb3BhY2l0eToxOycKICAgICAgICAgICAgLCd9JwogICAgICAgICAgICAsJy56bS1pdGVtLXZvdGUtY291bnQ6aG92ZXIsLnptLXZvdGViYXIgYnV0dG9uOmhvdmVyeycKICAgICAgICAgICAgLCcgICAgYmFja2dyb3VuZDojYTZjZTU2IWltcG9ydGFudDsnCiAgICAgICAgICAgICwnICAgIGNvbG9yOiMzRTVFMDAgIWltcG9ydGFudCcKICAgICAgICAgICAgLCd9JwogICAgICAgICAgICAsJycKICAgICAgICAgICAgLCdhLGE6aG92ZXIsJwogICAgICAgICAgICAsJ2ksJwogICAgICAgICAgICAsJy56dS1hdXRvaGlkZSwnCiAgICAgICAgICAgICwnLnptLXZvdGViYXIgYnV0dG9uLCcKICAgICAgICAgICAgLCcuem0taXRlbS1jb21tZW50OmhvdmVyIC56bS1jb21tZW50LW9wLWxpbmssJwogICAgICAgICAgICAsJy56bS1jb21tZW50LW9wLWxpbmssJwogICAgICAgICAgICAsJy56bS1zaWRlLXRyZW5kLXJvdzpob3ZlciAuem0tc2lkZS10cmVuZC1kZWwsJwogICAgICAgICAgICAsJy56bS1zaWRlLXRyZW5kLWRlbCwnCiAgICAgICAgICAgICwnLnptLXNpZGUtbmF2LWxpLCcKICAgICAgICAgICAgLCcuenUtbWFpbi1mZWVkLWZyZXNoLWJ1dHRvbiwnCiAgICAgICAgICAgICwnLnpnLWljb24sJwogICAgICAgICAgICAsJy56bS1zaWRlLW5hdi1saTpob3ZlciAuemctaWNvbiwnCiAgICAgICAgICAgICwnLnptLXNpZGUtbmF2LWxpOmhvdmVyIGksJwogICAgICAgICAgICAsJy51bnBpbiwnCiAgICAgICAgICAgICwnLnptLXNpZGUtbmF2LWxpOmhvdmVyIC51bnBpbiB7JwogICAgICAgICAgICAsJyAgICAtbW96LXRyYW5zaXRpb246Y29sb3IgLjJzIGxpbmVhcixvcGFjaXR5IC4xNXMgbGluZWFyLGJhY2tncm91bmQtY29sb3IgLjJzIGxpbmVhcixiYWNrZ3JvdW5kLXBvc2l0aW9uIC4ycyBsaW5lYXIgLjFzOycKICAgICAgICAgICAgLCcgICAgLXdlYmtpdC10cmFuc2l0aW9uOmNvbG9yIC4ycyBsaW5lYXIsb3BhY2l0eSAuMTVzIGxpbmVhcixiYWNrZ3JvdW5kLWNvbG9yIC4ycyBsaW5lYXIsYmFja2dyb3VuZC1wb3NpdGlvbiAuMnMgbGluZWFyIC4xczsnCiAgICAgICAgICAgICwnICAgIHRyYW5zaXRpb246Y29sb3IgLjJzIGxpbmVhcixvcGFjaXR5IC4xNXMgbGluZWFyLGJhY2tncm91bmQtY29sb3IgLjJzIGxpbmVhcixiYWNrZ3JvdW5kLXBvc2l0aW9uIC4ycyBsaW5lYXIgLjFzOycKICAgICAgICAgICAgLCd9JwogICAgICAgICAgICAsJycKICAgICAgICAgICAgLCdoM3sgbGluZS1oZWlnaHQ6MjVweCB9JwogICAgICAgICAgICAsJy56dS1mb290ZXItaW5uZXIge3BhZGRpbmc6MTVweCAwIWltcG9ydGFudH0nCiAgICAgICAgICAgICwnLnptLXNpZGUtcGlubmVkLXRvcGljcyAuem0tc2lkZS1uYXYtbGl7ZmxvYXQ6bGVmdDtwYWRkaW5nLXJpZ2h0OjMwcHghaW1wb3J0YW50fScKICAgICAgICAgICAgLCcuem0tc2lkZS1saXN0LWNvbnRlbnR7Y2xlYXI6Ym90aH0nCiAgICAgICAgICAgICwnLnVucGlueyBkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQgfScKICAgICAgICAgICAsJyddLmpvaW4oJ1xuJyk7Cn0KCnZhciBjc3NfY29tbWVudD0nJzsKaWYocGFnZUlzLkhvbWV8fHBhZ2VJcy5RdWVzdGlvbnx8cGFnZUlzLkFuc3dlcil7CiAgICBjc3NfY29tbWVudCA9IHdpbmRvdy5pWmhpaHUuQ29tbWVudC5jc3M7Cn0KCmNzcyArPSB3aW5kb3cuaVpoaWh1LkFuc3dlci5jc3M7CgppZih3aW5kb3cuaVpoaWh1LlF1aWNrRmF2byl7CiAgICBjc3MgKz0gd2luZG93LmlaaGlodS5RdWlja0Zhdm8uY3NzOwp9CmlmKHdpbmRvdy5pWmhpaHUuUXVpY2tCbG9jayl7CiAgICBjc3MgKz0gd2luZG93LmlaaGlodS5RdWlja0Jsb2NrLmNzczsKfQppZih3aW5kb3cuaVpoaWh1Lk5vdGk3KXsKICAgIGNzcyArPSB3aW5kb3cuaVpoaWh1Lk5vdGk3LmNzczsKICAgIHdpbmRvdy5pWmhpaHUuTm90aTcuZW5oYW5jZSgpOwp9CnZhciBoZWFkcyA9IF9kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKTsKaWYgKGhlYWRzLmxlbmd0aCA+IDApIHsKICAgIHZhciBub2RlID0gX2RvYy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpOwogICAgbm9kZS50eXBlID0gInRleHQvY3NzIjsKICAgIG5vZGUuaWQgPSAiaXpoQ1NTX21haW4iOwogICAgbm9kZS5hcHBlbmRDaGlsZChfZG9jLmNyZWF0ZVRleHROb2RlKGNzcykpOwogICAgaGVhZHNbMF0uYXBwZW5kQ2hpbGQobm9kZSk7IAogICAgaWYoY3NzX2NvbW1lbnQhPScnKXsKICAgICAgICBub2RlID0gX2RvYy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpCiAgICAgICAgbm9kZS50eXBlID0gInRleHQvY3NzIjsKICAgICAgICBub2RlLmlkID0gIml6aENTU19jb21tZW50IjsKICAgICAgICBub2RlLmFwcGVuZENoaWxkKF9kb2MuY3JlYXRlVGV4dE5vZGUoY3NzX2NvbW1lbnQpKTsKICAgICAgICBoZWFkc1swXS5hcHBlbmRDaGlsZChub2RlKTsKICAgIH0KfQoKaWYoISQoJy5tb2RhbC1kaWFsb2ctYmcnKS5sZW5ndGgpewogICAgJGJvZHkuYXBwZW5kKAogICAgICAgICQoJzxkaXYnLCB7IGlkOiAnaXpoLWRsZy1iZycsICdjbGFzcyc6ICdtb2RhbC1kaWFsb2ctYmcnIH0pLmNzcyh7CiAgICAgICAgICAgICd6LWluZGV4JzogOTUKICAgICAgICAgICwgJ29wYWNpdHknOiAwLjUKICAgICAgICAgICwgJ3Bvc2l0aW9uJzogJ2ZpeGVkJwogICAgICAgICAgLCAndG9wJzogMAogICAgICAgICAgLCAnYm90dG9tJzogMAogICAgICAgICAgLCAnbGVmdCc6IDAKICAgICAgICAgICwgJ3JpZ2h0JzogMAogICAgICAgICAgLCAnZGlzcGxheSc6ICdub25lJwogICAgICAgIH0pCiAgICApOwp9Cgp3aW5kb3cuaVpoaWh1LmdldEl0ZW09ZnVuY3Rpb24oJGMpewogICAgdmFyICRpdGVtPSQobnVsbCk7CiAgICBpZigkYyAmJiAkYy5sZW5ndGgpeyAKICAgICAgICB2YXIgJGl0ZW1NZXRhPSRjLmNsb3Nlc3QoJy56bS1pdGVtLW1ldGEnKTsKICAgICAgICBpZiAoJGl0ZW1NZXRhLmlzKCcuZmVlZC1tZXRhJykgfHwgJGl0ZW1NZXRhLnBhcmVudCgpLmlzKCcuZmVlZC1tZXRhJykpewogICAgICAgICAgICAkaXRlbT0kYy5jbG9zZXN0KCcuZmVlZC1pdGVtJyk7CiAgICAgICAgICAgICRpdGVtLmF0dHIoJ2RhdGEtYWlkJywgJGl0ZW0uY2hpbGRyZW4oJ21ldGFbaXRlbXByb3A9YW5zd2VyLWlkXScpLmF0dHIoJ2NvbnRlbnQnKSkKICAgICAgICB9ZWxzZSBpZigkaXRlbU1ldGEuaXMoJy5hbnN3ZXItYWN0aW9ucycpKXsKICAgICAgICAgICAgJGl0ZW09JGMuY2xvc2VzdCgnLnptLWl0ZW0tYW5zd2VyLC5mZWVkLWl0ZW0nKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgJGl0ZW09JGl0ZW1NZXRhLnByZXYoKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gJGl0ZW07Cn07Cgp1dGlscy5vYnNlcnZlRE9NTm9kZUFkZGVkKGRvY3VtZW50LmJvZHksZnVuY3Rpb24oZXZlbnQpewoJaWYoaXpoVG9wTmF2QXV0b0ZvbGQpewoJCXdpbmRvdy5pWmhpaHUuVG9wTmF2Lm9uTm9kZUFkZGVkKGV2ZW50KQoJfQp9KQovKioKICogQGNsYXNzIEFuc3dlcgogKi8KZnVuY3Rpb24gQW5zd2VyKGlaaGlodSkgewogICAgaWYgKCB0eXBlb2YgaVpoaWh1ID09PSAndW5kZWZpbmVkJyB8fCAhaVpoaWh1KSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICBpWmhpaHUuQW5zd2VyID0gdGhpczsKCiAgICB0aGlzLl9lPW51bGw7CiAgICB0aGlzLnBwV2lkdGg9MDsKICAgIHRoaXMucHBIZWlnaHQ9NDAwOwoKICAgIHRoaXMuY3NzID0gCiAgICAgICAgWycuem0tdm90ZWJhciAuaXpoLWJ1dHRvbi5mb2xke21hcmdpbjo1cHggMHB4IDBweDtkaXNwbGF5OmJsb2NrO2NvbG9yOiM2OThFQkY7aGVpZ2h0OjI0cHg7bGluZS1oZWlnaHQ6MjRweDt3aWR0aDozOHB4O2JvcmRlci1yYWRpdXM6M3B4O2JvcmRlcjowcHggbm9uZTtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kOm5vbmUgcmVwZWF0IHNjcm9sbCAwJSAwJSAjRUZGNkZBO2ZvbnQtd2VpZ2h0OmZvbnQtd2VpZ2h0O3Bvc2l0aW9uOnJlbGF0aXZlO30nCiAgICAgICAgLCcnXS5qb2luKCdcbicpOwoKICAJdGhpcy5wcm9jZXNzQW5zd2VyPWZ1bmN0aW9uKCRhLCRwcCxiQXV0aG9yUmVhcixiQXV0aG9yTGlzdCl7CiAgICAgICAgaWYoISRhfHwhJGEubGVuZ3RoKXJldHVybjsKICAgICAgICBpZigkYS5hdHRyKCdpemhfcHJvY2Vzc2VkJyk9PScxJylyZXR1cm47CiAgICAgICAgdmFyIHNlbENvbGxhcHNlPScubWV0YS1pdGVtW25hbWU9Y29sbGFwc2VdJwogICAgICAgICAgLCAkbWV0YT0kYS5maW5kKCcuem0taXRlbS1tZXRhJykKICAgICAgICAgICwgJGF1dGhvcj0kYS5maW5kKCcuem0taXRlbS1hbnN3ZXItYXV0aG9yLWluZm8nKQogICAgICAgICAgLCAkZmF2bz0kYS5maW5kKCcubWV0YS1pdGVtW25hbWU9ZmF2b10nKQogICAgICAgICAgLCAkdm90ZT0kYS5maW5kKCcuem0tdm90ZWJhcicpCiAgICAgICAgOwogICAgICAgIGlmKGlaaGlodS5RdWlja0Jsb2NrKXsKICAgICAgICAgICAgLy8gUmVnaW9uOiDlv6vpgJ/lsY/olL0KICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suYWRkUXVpY2tCbG9jaygkYSkKCiAgICAgICAgICAgIC8vIFJlZ2lvbiBlbmQKICAgICAgICB9CiAgICAgICAgaWYoJGF1dGhvci5sZW5ndGgpey8vcmVsb2NhdGVQZXJzb25JbmZvCiAgICAgICAgICAgIGlmKGJBdXRob3JSZWFyKXsKICAgICAgICAgICAgICAgICRhdXRob3IuY3NzKHsKICAgICAgICAgICAgICAgICAgICAndGV4dEFsaWduJzoncmlnaHQnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmKCRhLmlzKCcuZmVlZC1pdGVtJykpewogICAgICAgICAgICAgICAgICAgICRhLmZpbmQoJy5lbnRyeS1ib2R5IC56bS1pdGVtLWFuc3dlci1kZXRhaWwgLnptLWl0ZW0tcmljaC10ZXh0JykKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkYXV0aG9yLmhpZGUoKSkuYmluZCgnRE9NTm9kZUluc2VydGVkJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGM9JChldmVudC50YXJnZXQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGMuaXMoJy56bS1lZGl0YWJsZS1jb250ZW50JykpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJy56bS1pdGVtLWFuc3dlci1hdXRob3ItaW5mbycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbnNlcnRCZWZvcmUoJGMuY2hpbGRyZW4oJy5hbnN3ZXItZGF0ZS1saW5rLXdyYXAnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOidhYnNvbHV0ZScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdyaWdodCc6MAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgJGF1dGhvci5pbnNlcnRCZWZvcmUoJG1ldGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRhdXRob3I9JGF1dGhvci5jaGlsZHJlbigpLmVxKDEpOwogICAgICAgICAgICBpZiAoJHBwICYmIGJBdXRob3JMaXN0KXsKICAgICAgICAgICAgICAgIC8vIFJlZ2lvbjog5Zue562U55uu5b2V6aG5CiAgICAgICAgICAgICAgICB2YXIgY29sbGFwc2VkPSRhLmF0dHIoJ2RhdGEtY29sbGFwc2VkJyk9PScxJwogICAgICAgICAgICAgICAgICAsICRwcGxhPSQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjonI2Fuc3dlci0nKyRhLmF0dHIoJ2RhdGEtYWlkJykKICAgICAgICAgICAgICAgICAgICAgICAgICAsIHRhcmdldDonX3NlbGYnCiAgICAgICAgICAgICAgICAgICAgICAgICAgLCBzdHlsZTpjc3NfQXV0aG9yTGlzdEl0ZW1BCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICwgJHBwbD0kKCc8bGk+JykuYXBwZW5kKCRwcGxhKQogICAgICAgICAgICAgICAgICAsICR1bm89aVpoaWh1LiR1bm9BbnN3ZXJzCiAgICAgICAgICAgICAgICBpZihjb2xsYXBzZWQpewogICAgICAgICAgICAgICAgICAgICRwcGwuYXBwZW5kVG8oJHBwKQogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgJHBwbC5pbnNlcnRCZWZvcmUoJHVuby4kZW5kT2ZMYXN0QSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKCRhLmF0dHIoJ2RhdGEtaXNvd25lcicpPT0nMScpewogICAgICAgICAgICAgICAgICAgIGlaaGlodS5BbnN3ZXIuX2U9JGEuZ2V0KDApOwogICAgICAgICAgICAgICAgICAgICRwcGxhLmFwcGVuZCgkKCc8c3Bhbj4nLCB7ICdjbGFzcyc6ICdtZScgfSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIG5hbWVDU1M9J25hbWUnOwogICAgICAgICAgICAgICAgaWYoJGEuYXR0cignZGF0YS1pc2ZyaWVuZCcpPT0nMScpewogICAgICAgICAgICAgICAgICAgIG5hbWVDU1MrPScgZnJpZW5kJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKGNvbGxhcHNlZCl7CiAgICAgICAgICAgICAgICAgICAgbmFtZUNTUys9JyBjb2xsYXBzZWQnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZighJGF1dGhvci5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgIG5hbWVDU1MrPScgbm9uYW1lJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICQoJzxzcGFuPicsewogICAgICAgICAgICAgICAgICAgICdjbGFzcyc6bmFtZUNTUwogICAgICAgICAgICAgICAgICAsIHN0eWxlOmNzc19BdXRob3JMaXN0SXRlbUFfbmFtZQogICAgICAgICAgICAgICAgfSkudGV4dCghJGF1dGhvci5sZW5ndGg/J+WMv+WQjeeUqOaItyc6JGF1dGhvci50ZXh0KCkpLmFwcGVuZFRvKCRwcGxhKTsKICAgICAgICAgICAgICAgIGlmICgkcHBsLndpZHRoKCk+aVpoaWh1LkFuc3dlci5wcFdpZHRoKQogICAgICAgICAgICAgICAgICAgIGlaaGlodS5BbnN3ZXIucHBXaWR0aD0kcHBsLndpZHRoKCk7CiAgICAgICAgICAgICAgICAvLyBSZWdpb24gZW5kCiAgICAgICAgICAgICAgICAvLyBSZWdpb246IOWbnuetlOevh+W5heaMh+ekugogICAgICAgICAgICAgICAgdmFyIG5IUD1NYXRoLmNlaWwoJCgnLnptLWVkaXRhYmxlLWNvbnRlbnQnLCRhKS50ZXh0KCkubGVuZ3RoLzEwMCk7CiAgICAgICAgICAgICAgICAkKCc8c3Bhbj4nLHsKICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOidocCcKICAgICAgICAgICAgICAgIH0pLmNzcyh7J3dpZHRoJzpuSFAqMTAsJ21hcmdpbi1sZWZ0JzotbkhQKjEwfSkuYXBwZW5kVG8oJHBwbGEpOwogICAgICAgICAgICAgICAgLy8gUmVnaW9uIGVuZAogICAgICAgICAgICAgICAgJHBwbGEubW91c2VvdmVyKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRmcm09JCh0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlKQogICAgICAgICAgICAgICAgICAgICAgLCAkdW5vPWlaaGlodS4kdW5vQW5zd2VycwogICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3NlbCcpOwogICAgICAgICAgICAgICAgICAgIGlmKGlaaGlodS5BbnN3ZXIuX2UpewogICAgICAgICAgICAgICAgICAgICAgICAkdW5vLmNoaWxkcmVuKCcubWVUJykuY3NzKCdkaXNwbGF5JywwPmlaaGlodS5BbnN3ZXIuX2Uub2Zmc2V0VG9wLSRmcm0uc2Nyb2xsVG9wKCk/Jyc6J25vbmUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHVuby5jaGlsZHJlbignLm1lQicpLmNzcygnZGlzcGxheScsJGZybS5oZWlnaHQoKTxpWmhpaHUuQW5zd2VyLl9lLm9mZnNldFRvcC0kZnJtLnNjcm9sbFRvcCgpK2laaGlodS5BbnN3ZXIuX2Uub2Zmc2V0SGVpZ2h0PycnOidub25lJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIFJlZ2lvbjog5Zue562U6aKE6KeICiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbT0kKCdzcGFuLm5hbWUnLHRoaXMpOwogICAgICAgICAgICAgICAgICAgIGlmKCFuYW0ubGVuZ3RoKXJldHVybjsKICAgICAgICAgICAgICAgICAgICB2YXIgYWlkPSQodGhpcykuYXR0cignaHJlZicpLnJlcGxhY2UoJyNhbnN3ZXItJywnJykKICAgICAgICAgICAgICAgICAgICAgICwgcHJ2PSR1bm8ubmV4dCgnLml6aC1hbnN3ZXItcHJldmlldycpCiAgICAgICAgICAgICAgICAgICAgICAsIHRvcD0kKHRoaXMpLnBvc2l0aW9uKCkudG9wKyR1bm8ucG9zaXRpb24oKS50b3AKICAgICAgICAgICAgICAgICAgICAgICwgc2VsPScuem0taXRlbS1hbnN3ZXJbZGF0YS1haWQ9JythaWQrJ10gPiAuem0taXRlbS1yaWNoLXRleHQnCiAgICAgICAgICAgICAgICAgICAgICAsIGN0eD1uYW0uaXMoJy5jb2xsYXBzZWQnKT8nI3poLXF1ZXN0aW9uLWNvbGxhcHNlZC13cmFwJzonI3poLXF1ZXN0aW9uLWFuc3dlci13cmFwJwogICAgICAgICAgICAgICAgICAgICAgLCBkaXY9JChzZWwsY3R4KQogICAgICAgICAgICAgICAgICAgICAgLCBjbXQ9JCgnLnptLWl0ZW0tbWV0YSA+IC56dS1xdWVzdGlvbi1hbnN3ZXItbWV0YS1jb21tZW50JyxkaXYucGFyZW50KCkpCiAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgIGlmKCFwcnYubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICAgICAgcHJ2PSQoJzxkaXY+Jyx7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzpkaXYuY2xhc3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2l6aC1hbnN3ZXItcHJldmlldycpLndpZHRoKGRpdi53aWR0aCgpKzIyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1vdXNlb3ZlcihmdW5jdGlvbigpeyR1bm8ubW91c2VvdmVyKCk7JCgnbGkgYVtocmVmPSMnKyQodGhpcykuYXR0cignZGF0YS1haWQnKSsnXScsJHVubykuYWRkQ2xhc3MoJ3NlbCcpOyQodGhpcykuc2hvdygpO30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubW91c2VvdXQoZnVuY3Rpb24oKXskdW5vLm1vdXNlb3V0KCk7JCgnbGkgYVtocmVmPSMnKyQodGhpcykuYXR0cignZGF0YS1haWQnKSsnXScsJHVubykucmVtb3ZlQ2xhc3MoJ3NlbCcpOyQodGhpcykuaGlkZSgpO30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xpY2soZnVuY3Rpb24oKXskKCdsaSBhW2hyZWY9IycrJCh0aGlzKS5hdHRyKCdkYXRhLWFpZCcpKyddJywkdW5vKVswXS5jbGljaygpO30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0QWZ0ZXIoJHVubykKICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZihwcnYuYXR0cignZGF0YS1haWQnKSE9YWlkKXsKICAgICAgICAgICAgICAgICAgICAgICAgcHJ2LmF0dHIoJ2RhdGEtYWlkJyxhaWQpLmVtcHR5KCkuYXBwZW5kKGRpdi5jbG9uZSgpLmNoaWxkcmVuKCkpLmZpbmQoJ2EnKS5hdHRyKCdvbmNsaWNrJywncmV0dXJuIGZhbHNlOycpOwogICAgICAgICAgICAgICAgICAgICAgICBpZigkKCdzcGFuLm1lJyx0aGlzKS5sZW5ndGgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcnYuZmluZCgnYS56dS1lZGl0LWJ1dHRvbicpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZighbmFtLmhhc0NsYXNzKCdub25hbWUnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2ltZy56bS1saXN0LWF2YXRhcicsZGl2LnBhcmVudCgpKS5jbG9uZSgpLmFwcGVuZFRvKHBydik7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0PWNtdC50ZXh0KCksaT10LmluZGV4T2YoJ+adoeivhOiuuicpOwogICAgICAgICAgICAgICAgICAgICAgICBpZihjbXQubGVuZ3RoJiZpPjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8c3Bhbj4nLHsnY2xhc3MnOidjb21tZW50J30pLnRleHQodC5zdWJzdHJpbmcoMCxpKSkucHJlcGVuZChjbXQuY2hpbGRyZW4oJ2knKS5jbG9uZSgpKS5hcHBlbmRUbyhwcnYpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgdGg9ZGl2LmhlaWdodCgpKzMzCiAgICAgICAgICAgICAgICAgICAgICAsIG1heFRvcD0kdW5vLnBvc2l0aW9uKCkudG9wKzEyCiAgICAgICAgICAgICAgICAgICAgICAsIGNvbnRlbnRQb3NpdGlvbj0nJzsKICAgICAgICAgICAgICAgICAgICBpZihtYXhUb3ArdGg8JHdpbi5oZWlnaHQoKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRvcCt0aDwkd2luLmhlaWdodCgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBydi5jc3Moeyd0b3AnOnRvcD5tYXhUb3A/dG9wOm1heFRvcCwnYm90dG9tJzonJ30pOwogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBydi5jc3Moeyd0b3AnOicnLCdib3R0b20nOjB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBwcnYuY3NzKHsndG9wJzptYXhUb3AsJ2JvdHRvbSc6MH0pOwogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50UG9zaXRpb249J2Fic29sdXRlJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcHJ2LmNzcyh7J2xlZnQnOiR1bm8ud2lkdGgoKX0pLnNob3coKS5jaGlsZHJlbigpLmZpcnN0KCkuY3NzKCdwb3NpdGlvbicsY29udGVudFBvc2l0aW9uKTsKICAgICAgICAgICAgICAgICAgICAvLyBSZWdpb24gZW5kCiAgICAgICAgICAgICAgICB9KS5tb3VzZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ3NlbCcpOwogICAgICAgICAgICAgICAgICAgIHZhciAkdW5vPSQodGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlKTsKICAgICAgICAgICAgICAgICAgICAkdW5vLm5leHQoKS5oaWRlKCk7CiAgICAgICAgICAgICAgICB9KS5jbGljayhmdW5jdGlvbigpeyQodGhpcykubW91c2VvdXQoKTsKICAgICAgICAgICAgICAgIGlaaGlodS4kdW5vQW5zd2Vycy5jc3MoJ2xlZnQnLDktaVpoaWh1LiR1bm9BbnN3ZXJzLndpZHRoKCkpO30pOwogICAgICAgICAgICAgICAgaWYoaVpoaWh1LkFuc3dlci5fZT09JGEuZ2V0KDApKXsKICAgICAgICAgICAgICAgICAgICBpWmhpaHUuQW5zd2VyLl9lPSRwcGxhLmdldCgwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYoaVpoaWh1LlF1aWNrRmF2bykKICAgICAgICAgICAgaVpoaWh1LlF1aWNrRmF2by5hZGRRdWlja0Zhdm8oJGZhdm8sJGEpOwoKICAgICAgICAkbWV0YS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQucHJvY2Vzc0NvbW1lbnQoJChldmVudC50YXJnZXQpKTsKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICBpWmhpaHUuQ29tbWVudC5wcm9jZXNzQ29tbWVudEJ1dHRvbigkYSk7CgogICAgICAgIHZhciAkY209JCgnLnptLWNvbW1lbnQtYm94JywkYSk7CiAgICAgICAgaWYoJGNtLmxlbmd0aCAmJiAkY20uaXMoJzp2aXNpYmxlJykpewogICAgICAgIAl2YXIgZm9jdXNOYW1lID0gaVpoaWh1LkNvbW1lbnQuc2Nyb2xsRm9jdXNDb21tZW50T25QYWdlTG9hZCgkY20pOwogICAgCiAgICAgICAgICAgIGlaaGlodS5Db21tZW50Lm1ldGFTY3JvbGxUb1ZpZXdCb3R0b20oJGNtLmNsb3Nlc3QoJy56bS1pdGVtLW1ldGEnKSxmdW5jdGlvbigpewogICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQucHJvY2Vzc0NvbW1lbnQoJGNtLCBmb2N1c05hbWUpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgJGEuYXR0cignaXpoX3Byb2Nlc3NlZCcsJzEnKTsKICAgIH07CgogICAgcmV0dXJuIHRoaXM7Cn0KCi8qKgogKiBAY2xhc3MgQ29tbWVudAogKi8KZnVuY3Rpb24gQ29tbWVudChpWmhpaHUpIHsKICAgIGlmICggdHlwZW9mIGlaaGlodSA9PT0gJ3VuZGVmaW5lZCcgfHwgIWlaaGlodSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgaVpoaWh1LkNvbW1lbnQgPSB0aGlzOwoKICAgIHZhciBjc3NfY29tbWVudD17CiAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzonI2ZmZicKICAgICAgICAgICwgJ291dGxpbmUnOidub25lJwogICAgICAgICAgLCAnei1pbmRleCc6Jzk5OTknCiAgICAgICAgICAsICdib3JkZXItcmFkaXVzJzonMCA2cHggMCAwJwogICAgICAgICAgLCAncG9zaXRpb24nOidhYnNvbHV0ZScKICAgICAgICAgICwgJ3Zpc2liaWxpdHknOidoaWRkZW4nCiAgICAgICAgICAsICd0b3AnOi03MAogICAgICAgIH0KICAgIDsKICAgIHRoaXMuUmlnaHRDb21tZW50ID0gaVpoaWh1LmNvbmZpZ1snU2hvd0NvbW1lbnQnXTsKICAgIHRoaXMuQXV0b1Njcm9sbFBhZ2VXaGVuQ2xvc2luZyA9IGlaaGlodS5jb25maWdbJ1JpZ2h0Q29tbWVudF9BdXRvU2Nyb2xsUGFnZVdoZW5DbG9zaW5nJ107CiAgICBpZiAoIXRoaXMuUmlnaHRDb21tZW50KXsKICAgICAgICB0aGlzLmNzcyA9IAogICAgICAgICAgICBbJy56bS1jb21tZW50LWJveC5lbXB0eSAuaXpoLWJ1dHRvbi1jY3tkaXNwbGF5Om5vbmU7fScKICAgICAgICAgICAgLCcnXS5qb2luKCdcbicpOwogICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNzcyA9IAogICAgICAgICAgICBbJy5tZW50aW9uLXBvcHVwe3otaW5kZXg6MTAwMDAgIWltcG9ydGFudDt9JwogICAgICAgICAgICAsJy56bS1pdGVtLW1ldGEgLm1ldGEtaXRlbS50b2dnbGUtY29tbWVudHtkaXNwbGF5OmJsb2NrO2Zsb2F0OnJpZ2h0O21hcmdpbi1sZWZ0OjdweCAhaW1wb3J0YW50O30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94e3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi10b3A6MDt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCAuaWNvbi1zcGlrZXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCA+IC56bS1jb21tZW50LWJveC1mdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveC5lbXB0eXtwYWRkaW5nLXRvcDoxMHB4ICFpbXBvcnRhbnQ7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3ggPiAuem0tY29tbWVudC1mb3Jte21hcmdpbjoxNXB4ICFpbXBvcnRhbnQ7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3guZW1wdHkgPiAuem0tY29tbWVudC1mb3Jte2JvdHRvbToyNXB4O30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94ID4gLnptLWNvbW1lbnQtZm9ybSAuem0tY29tbWVudC1lZGl0YWJsZXtwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206NjBweDt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtvdmVyZmxvdzphdXRvO30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94LmVtcHR5ID4gLnptLWNvbW1lbnQtZm9ybSAuem0tY29tbWVudC1lZGl0YWJsZXtib3R0b206MjVweDt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCA+IC56bS1jb21tZW50LWZvcm0gLnptLWNvbW1hbmR7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjQwcHg7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3guZW1wdHkgPiAuem0tY29tbWVudC1mb3JtIC56bS1jb21tYW5ke2JvdHRvbToxMHB4O30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94IFtjbGFzc149aXpoLWJ1dHRvbnMtY21de3Bvc2l0aW9uOmFic29sdXRlO3RvcDo3MHB4O30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94LmVtcHR5IFtjbGFzc149aXpoLWJ1dHRvbnMtY21de3RvcDphdXRvO2JvdHRvbTozMHB4O3otaW5kZXg6MTA7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3ggLml6aC1idXR0b25zLWNtLUx7bGVmdDowO30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94IC5pemgtYnV0dG9ucy1jbS1MID4gYXttYXJnaW4tcmlnaHQ6N3B4O30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94IC5pemgtYnV0dG9ucy1jbS1Se3JpZ2h0OjFlbTt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCAuaXpoLWJ1dHRvbnMtY20tUiA+IGF7bWFyZ2luLWxlZnQ6N3B4O30nCiAgICAgICAgICAgICwnLnptLWNvbW1lbnQtYm94IGEuaXpoLWJ1dHRvbi5vbntjb2xvcjojMjI1NTk5O3RleHQtc2hhZG93OjAgMCAxcHggIzIyNTU5OTt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCBhLml6aC1idXR0b24gLnpnLWljb257b3BhY2l0eTowLjU7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3ggYS5pemgtYnV0dG9uLm9uIC56Zy1pY29ue29wYWNpdHk6MTt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCBhLml6aC1idXR0b24ub2Zme2NvbG9yOiNlZWU7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3ggYS5pemgtYnV0dG9uLm9mZiAuemctaWNvbntvcGFjaXR5OjAuMjt9JwogICAgICAgICAgICAvLywnLnptLWNvbW1lbnQtYm94LmVtcHR5IFtjbGFzc149aXpoLWJ1dHRvbnMtY21de3RvcDphdXRvO2JvdHRvbTo3cHg7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3guZW1wdHkgLnptLWNvbW1lbnQtbGlzdHt2aXNpYmlsaXR5OmhpZGRlbjt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCAuem0tY29tbWVudC1saXN0IC56bS1pdGVtLWNvbW1lbnRbaXpoX2hpbGlnaHRde2JhY2tncm91bmQtY29sb3I6cmdiKDI1NSwyNTUsMTYwKTt9JwogICAgICAgICAgICAsJy56bS1jb21tZW50LWJveCAuaXpoLWJ1dHRvbi5vbiAuemctaWNvbi1jb21tZW50LWxpa2V7YmFja2dyb3VuZC1wb3NpdGlvbjotMjIycHggLTc5cHg7fScKICAgICAgICAgICAgLCcuem0tY29tbWVudC1ib3ggLml6aC1idXR0b24gLnotaWNvbi1mb2xke2hlaWdodDo2cHg7fScKICAgICAgICAgICAgLCcnXS5qb2luKCdcbicpOwogICAgICAgIHRoaXMub25XaW5Mb2FkPWZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBpWmhpaHU9d2luZG93LmlaaGlodTsKICAgICAgICAgICAgaVpoaWh1LiR3aW4uc2Nyb2xsKGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgIGlmKGlaaGlodS5Db21tZW50Lk9wZW5pbmcmJiFpWmhpaHUuQ29tbWVudC5QYWdlTm90U2Nyb2xsKXsKICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0ZT10cnVlOwogICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmJveCgkKGlaaGlodS5Db21tZW50Lk9wZW5pbmcpLHRydWUsYW5pbWF0ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIAogICAgICAgICAgICBpWmhpaHUuJHdpbi5yZXNpemUoZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgaWYoaVpoaWh1LkNvbW1lbnQuT3BlbmluZyl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRjbT0kKGlaaGlodS5Db21tZW50Lk9wZW5pbmcpOwogICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50Lk9wZW5pbmcgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmNsb3NlKG51bGwsJGNtKTsKICAgICAgICAgICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5vcGVuKG51bGwsJGNtKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmKGlaaGlodS5TY3JvbGxUb3ApewogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A9aVpoaWh1LlNjcm9sbFRvcDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLm9uV2luTG9hZCgpCiAgICB9CiAgICB0aGlzLnByb2Nlc3NDb21tZW50QnV0dG9uID0gZnVuY3Rpb24oJGEpewogICAgICAgIGlmKGlaaGlodS5Db21tZW50LlJpZ2h0Q29tbWVudCl7CiAgICAgICAgICAgIHZhciAkYmM9JGEuZmluZCgnLm1ldGEtaXRlbS50b2dnbGUtY29tbWVudCcpOwogICAgICAgICAgICAkYmMucHJlcGVuZFRvKCRiYy5wYXJlbnQoKSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuc2Nyb2xsRm9jdXNDb21tZW50T25QYWdlTG9hZCA9IGZ1bmN0aW9uKCRjbSl7CiAgICAgICAgaWYoIWlaaGlodS5Db21tZW50LlJpZ2h0Q29tbWVudClyZXR1cm47CiAgICAgICAgdmFyIGZvY3VzTmFtZT11cmwuZGF0YS5hdHRyLmZyYWdtZW50OwogICAgICAgIGlmKCFmb2N1c05hbWV8fGZvY3VzTmFtZT09JycpcmV0dXJuOwogICAgCWlmKHdpbmRvdy5pWmhpaHU0Q1JYKXsKICAgICAgICAgICAgdmFyICRpY20yQz0kY20uZmluZCgnLnptLWNvbW1lbnQtbGlzdCAuem0taXRlbS1jb21tZW50IGEuemctYW5jaG9yLWhpZGRlbltuYW1lPSInK2ZvY3VzTmFtZSsnIl0nKS5wYXJlbnQoKQogICAgICAgICAgICAgICwgb2Zmc2V0VG9wPSRpY20yQy5sZW5ndGg/JGljbTJDLm9mZnNldCgpLnRvcDowCiAgICAgICAgICAgIDtpZihvZmZzZXRUb3Ape2RvY3VtZW50LmJvZHkuc2Nyb2xsVG9wPW9mZnNldFRvcDt9CiAgICAJfQogICAgICAgIHJldHVybiBmb2N1c05hbWU7CiAgICB9OwogICAgCiAgICB0aGlzLm1ldGFTY3JvbGxUb1ZpZXdCb3R0b20gPSBmdW5jdGlvbigkaXRlbU1ldGEsZnVuY0FmdGVyU2Nyb2xsLGFsd2F5cyxhbmltYXRlKXsKICAgICAgICBpZighaVpoaWh1LkNvbW1lbnQuUmlnaHRDb21tZW50IHx8ICFpWmhpaHUuQ29tbWVudC5BdXRvU2Nyb2xsUGFnZVdoZW5DbG9zaW5nKXsKICAgICAgICAgICAgaWYoZnVuY0FmdGVyU2Nyb2xsKXtmdW5jQWZ0ZXJTY3JvbGwoKTt9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYodHlwZW9mIGFsd2F5cyA9PT0gJ3VuZGVmaW5lZCcpYWx3YXlzPXRydWU7Ly9pZiBmYWxzZSwgc2Nyb2xsaW5nIG9ubHkgd2hlbiB0aGUgLnptLWl0ZW0tbWV0YSBvdXQgb2YgdmlzaWJsZSByYW5nZQogICAgICAgIGlmKHR5cGVvZiBhbmltYXRlID09PSAndW5kZWZpbmVkJylhbmltYXRlPWZhbHNlOy8vaWYgZmFsc2UsIHNjcm9sbGluZyBpbnN0YW50bHkKICAgICAgICBpZihhbHdheXMpJGl0ZW1NZXRhLmNoaWxkcmVuKCcuem0tY29tbWVudC1ib3gnKS5jc3MoJ3Bvc2l0aW9uJywnZml4ZWQnKTsKICAgICAgICB2YXIgd2luSGVpZ2h0PWlaaGlodS4kd2luLmhlaWdodCgpCiAgICAgICAgICAsIHNjcm9sbE9iaj13aW5kb3cuaVpoaWh1NENSWD9kb2N1bWVudC5ib2R5OmRvY3VtZW50LmRvY3VtZW50RWxlbWVudAogICAgICAgICAgLCBzY3JvbGxUb3BOb3c9c2Nyb2xsT2JqLnNjcm9sbFRvcAogICAgICAgICAgLCBuYXZIZWlnaHQ9aVpoaWh1LiRib2R5LmNoaWxkcmVuKCkuZmlyc3QoKS5oZWlnaHQoKQogICAgICAgICAgLCBiYXI9JCgnLnp1LWdsb2JhbC1ub3RpZnkuenUtZ2xvYmFsLW5vdGlmeS1pbmZvOnZpc2libGUnKQogICAgICAgICAgLCBiYXJIZWlnaHQ9IWJhci5sZW5ndGg/MDpiYXIub3V0ZXJIZWlnaHQoKQogICAgICAgICAgLCBiYXNlVG9wPSgoYmFySGVpZ2h0JiZiYXIuY3NzKCdwb3NpdGlvbicpPT0nZml4ZWQnKT9iYXJIZWlnaHQ6KHNjcm9sbFRvcE5vdz5iYXJIZWlnaHQ/MDpiYXJIZWlnaHQtc2Nyb2xsVG9wTm93KSkrbmF2SGVpZ2h0CiAgICAgICAgICAsIG1heEhlaWdodD13aW5IZWlnaHQtYmFzZVRvcAogICAgICAgICAgLCBtZXRhSGVpZ2h0PSRpdGVtTWV0YS5pbm5lckhlaWdodCgpCiAgICAgICAgICAsIG9mZnNldFRvcD0kaXRlbU1ldGEub2Zmc2V0KCkudG9wCiAgICAgICAgICAsIG9mZnNldEJvdHRvbT1vZmZzZXRUb3ArbWV0YUhlaWdodAogICAgICAgICAgLCAkaXRlbT1pWmhpaHUuZ2V0SXRlbSgkaXRlbU1ldGEpCiAgICAgICAgICAsIGl0ZW1IZWlnaHQ9JGl0ZW0uaW5uZXJIZWlnaHQoKQogICAgICAgICAgLCBvZmZzZXRUb3BBPSRpdGVtLm9mZnNldCgpLnRvcAogICAgICAgICAgLCBvZmZzZXRCb3R0b21BPW9mZnNldFRvcEEraXRlbUhlaWdodAogICAgICAgICAgLCBzY3JvbGxUb3BFbmQ9aXRlbUhlaWdodD5tYXhIZWlnaHQ/b2Zmc2V0Qm90dG9tLXdpbkhlaWdodDoob2Zmc2V0VG9wQTw9c2Nyb2xsVG9wTm93P29mZnNldFRvcEEtYmFzZVRvcDpvZmZzZXRCb3R0b20td2luSGVpZ2h0KQogICAgICAgIDsKICAgICAgICBpZighYWx3YXlzKXsKICAgICAgICAgICAgYWx3YXlzPW9mZnNldFRvcDxzY3JvbGxUb3BOb3crYmFzZVRvcHx8b2Zmc2V0Qm90dG9tPnNjcm9sbFRvcE5vdyt3aW5IZWlnaHQtYmFzZVRvcDsKICAgICAgICB9CiAgICAgICAgaWYoYWx3YXlzKXsKICAgICAgICAgICAgaVpoaWh1LlNjcm9sbFRvcD1zY3JvbGxUb3BFbmQ7CiAgICAgICAgICAgIGlmKGFuaW1hdGUpewogICAgICAgICAgICAgICAgJChzY3JvbGxPYmopLmFuaW1hdGUoeydzY3JvbGxUb3AnOnNjcm9sbFRvcEVuZH0sZnVuY0FmdGVyU2Nyb2xsKTsKICAgICAgICAJfWVsc2V7CiAgICAgICAgICAgICAgICAkKHNjcm9sbE9iaikuc2Nyb2xsVG9wKHNjcm9sbFRvcEVuZCk7CiAgICAgICAgICAgICAgICBpZihmdW5jQWZ0ZXJTY3JvbGwpe2Z1bmNBZnRlclNjcm9sbCgpO30KICAgICAgICAJfQogICAgICAgIH1lbHNlewogICAgICAgICAgICBpZihmdW5jQWZ0ZXJTY3JvbGwpe2Z1bmNBZnRlclNjcm9sbCgpO30KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5ib3ggPSBmdW5jdGlvbigkY20sa2VlcFNpemUsYW5pbWF0ZSl7aWYoISRjbXx8ISRjbS5sZW5ndGgpcmV0dXJuOwogICAgICAgICRjbS5zdG9wKCk7CiAgICAgICAgaWYodHlwZW9mIGtlZXBTaXplID09PSAndW5kZWZpbmVkJylrZWVwU2l6ZT1mYWxzZTsKICAgICAgICBpZih0eXBlb2YgYW5pbWF0ZSA9PT0gJ3VuZGVmaW5lZCcpYW5pbWF0ZT1mYWxzZTsKICAgICAgICB2YXIgd2luSGVpZ2h0PWlaaGlodS4kd2luLmhlaWdodCgpCiAgICAgICAgICAsIHRoPWtlZXBTaXplP3BhcnNlSW50KCRjbS5hdHRyKCdpemhfY21IZWlnaHQnKSk6MAogICAgICAgICAgLCBzY3JvbGxUb3A9KGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKT9kb2N1bWVudC5ib2R5LnNjcm9sbFRvcDpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wCiAgICAgICAgICAsIG5hdkhlaWdodD1pWmhpaHUuJGJvZHkuY2hpbGRyZW4oKS5maXJzdCgpLmhlaWdodCgpCiAgICAgICAgICAsIGJhcj0kKCcuenUtZ2xvYmFsLW5vdGlmeS56dS1nbG9iYWwtbm90aWZ5LWluZm86dmlzaWJsZScpCiAgICAgICAgICAsIGJhckhlaWdodD0hYmFyLmxlbmd0aD8wOmJhci5vdXRlckhlaWdodCgpCiAgICAgICAgICAsIGJhc2VUb3A9KChiYXJIZWlnaHQmJmJhci5jc3MoJ3Bvc2l0aW9uJyk9PSdmaXhlZCcpP2JhckhlaWdodDooc2Nyb2xsVG9wPmJhckhlaWdodD8wOmJhckhlaWdodC1zY3JvbGxUb3ApKStuYXZIZWlnaHQKICAgICAgICAgICwgbWluSGVpZ2h0PTExMgogICAgICAgICAgLCBtYXhIZWlnaHQ9d2luSGVpZ2h0LWJhc2VUb3AtMzUKICAgICAgICAgICwgdG9vU21hbGw9bWF4SGVpZ2h0PG1pbkhlaWdodAogICAgICAgICAgLCAkbWV0YT0kY20uY2xvc2VzdCgnLnptLWl0ZW0tbWV0YScpCiAgICAgICAgICAsIG1ldGFIZWlnaHQ9MiokbWV0YS5oZWlnaHQoKS0kbWV0YS5pbm5lckhlaWdodCgpCiAgICAgICAgICAsIG9mZnNldFRvcD1zY3JvbGxUb3AtJG1ldGEub2Zmc2V0KCkudG9wCiAgICAgICAgICAsIG9mZnNldEJvdHRvbT0tb2Zmc2V0VG9wLXdpbkhlaWdodAogICAgICAgIDtpZih0b29TbWFsbCltYXhIZWlnaHQ9bWluSGVpZ2h0OwogICAgICAgIGlmKCF0aHx8aXNOYU4odGgpKXsKICAgICAgICAgICAgdmFyICR0PSRjbS5jbG9uZSgpLmNzcyh7J3Bvc2l0aW9uJzonYWJzb2x1dGUnLCd6LWluZGV4JzonLTEnfSkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSkuc2hvdygpCiAgICAgICAgICAgICAgLCAkbD0kdC5jaGlsZHJlbignLnptLWNvbW1lbnQtbGlzdCcpCiAgICAgICAgICAgIDsKICAgICAgICAgICAgaWYoISRjbS5pcygnLmVtcHR5JykmJiRsLmNoaWxkcmVuKCkubGVuZ3RoPjApJGwuY3NzKHsncG9zaXRpb24nOidhYnNvbHV0ZScsJ2hlaWdodCc6JycsJ3RvcCc6JycsJ2JvdHRvbSc6Jyd9KTsKICAgICAgICAgICAgdGg9JGwuaGVpZ2h0KCk7CiAgICAgICAgICAgIHRoKz10aD09MD9taW5IZWlnaHQ6MTAwOwogICAgICAgICAgICAkdC5yZW1vdmUoKTskdD1udWxsOy8vY29uc29sZS5sb2codGgpOwogICAgICAgICAgICAkY20uY3NzKCdoZWlnaHQnLHRoPD1taW5IZWlnaHQ/bWluSGVpZ2h0Oih0aDxtYXhIZWlnaHQ/dGgtMTAwOm1heEhlaWdodC04MCkpOwogICAgICAgIH0KICAgICAgICB2YXIgdGFyZ2V0PXt9LG90aGVyPXsnaGVpZ2h0JzonJ307CiAgICAgICAgJGNtLmF0dHIoJ2l6aF9jbUhlaWdodCcsdGgpLmNzcyh7J2Rpc3BsYXknOicnLCd2aXNpYmlsaXR5JzondmlzaWJsZScsJ3Bvc2l0aW9uJzonYWJzb2x1dGUnfSk7CiAgICAgICAgaWYodGg8PW1heEhlaWdodCl7CiAgICAgICAgICAgIHZhciB0b3A9LW9mZnNldFRvcC03MCxmaXhIZWlnaHQ9KHRoPD1taW5IZWlnaHQ/LTE6Nyk7CiAgICAgICAgICAgIGlmKCF0b29TbWFsbCYmdG9wK3RoPndpbkhlaWdodCl7CiAgICAgICAgICAgICAgICB0YXJnZXQ9eyd0b3AnOi1vZmZzZXRCb3R0b20tdGgtbWV0YUhlaWdodCtmaXhIZWlnaHQsJ2JvdHRvbSc6b2Zmc2V0Qm90dG9tfTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBvZmZzZXRUb3ArPSgoIXRvb1NtYWxsKSYmdG9wPmJhc2VUb3A/dG9wOmJhc2VUb3ApOwogICAgICAgICAgICAgICAgdGFyZ2V0PXsndG9wJzpvZmZzZXRUb3AsJ2JvdHRvbSc6LW9mZnNldFRvcC10aC1tZXRhSGVpZ2h0K2ZpeEhlaWdodH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJGNtLmZpbHRlcignLmVtcHR5JykuZmluZCgnLnptLWNvbW1lbnQtZm9ybSAuem0tY29tbWVudC1lZGl0YWJsZScpLmNzcyh7J2JvdHRvbSc6Jyd9KTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgdGFyZ2V0PXsndG9wJzpvZmZzZXRUb3ArYmFzZVRvcCwnYm90dG9tJzpvZmZzZXRCb3R0b219OwogICAgICAgICAgICAkY20uZmlsdGVyKCcuZW1wdHknKS5maW5kKCcuem0tY29tbWVudC1mb3JtIC56bS1jb21tZW50LWVkaXRhYmxlJykuY3NzKHsnYm90dG9tJzonMjBweCd9KTsKICAgICAgICB9CiAgICAgICAgaWYoYW5pbWF0ZSl7CiAgICAgICAgICAgICRjbS5hbmltYXRlKHRhcmdldCxmdW5jdGlvbigpeyRjbS5jc3Mob3RoZXIpO30pOwogICAgICAgIH1lbHNlewogICAgICAgICAgICAkY20uY3NzKCQuZXh0ZW5kKHRhcmdldCxvdGhlcikpOwogICAgICAgIH0KICAgICAgICAkY207CiAgICB9OwogICAgdGhpcy5vcGVuID0gZnVuY3Rpb24oJGFjLCRjbSxpY21Gb2N1cyl7Ly8gaWYgJGFjIGlzIG51bGwsIGp1c3QgcmUtc2l6aW5nIGFuZCByZS1sb2NhdGluZyBjb21tZW50LWJveAogICAgICAgIHZhciBub0NvbW1lbnRPcGVuaW5nID0gaVpoaWh1LkNvbW1lbnQuT3BlbmluZyA9PSBudWxsOwogICAgICAgIGlaaGlodS5Db21tZW50Lk9wZW5pbmcgPSAkY20uYXR0cignaXpoLW9wZW5pbmcnLCcxJykuY3NzKHsnZGlzcGxheSc6J25vbmUnfSkuZ2V0KDApOwogICAgICAgICQoJy56bS1jb21tZW50LWJveDp2aXNpYmxlOm5vdChbaXpoLW9wZW5pbmc9MV0pJykKICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgICQoZSkuY3NzKCd2aXNpYmlsaXR5JywnaGlkZGVuJykuY2xvc2VzdCgnLnptLWl0ZW0tbWV0YScpLmZpbmQoJy50b2dnbGUtY29tbWVudCcpWzBdLmNsaWNrKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIHZhciB3aW5XaWR0aD1pWmhpaHUuJHdpbi53aWR0aCgpCiAgICAgICAgICAsIG1jTGVmdD1pWmhpaHUuJG1haW4ub2Zmc2V0KCkubGVmdAogICAgICAgICAgLCAkY3Q9JGNtLmNsb3Nlc3QoJy56dS1tYWluLWNvbnRlbnQtaW5uZXInKQogICAgICAgICAgLCBjdE1hcmdpbkw9cGFyc2VJbnQoJGN0LmNzcygnbWFyZ2luLWxlZnQnKSkKICAgICAgICAgICwgY3RXaWR0aD0kY3Qud2lkdGgoKStjdE1hcmdpbkwKICAgICAgICAgICwgY3RMZWZ0PSRjdC5vZmZzZXQoKS5sZWZ0LWN0TWFyZ2luTAogICAgICAgICAgLCAkbWV0YT0kY20uY2xvc2VzdCgnLnptLWl0ZW0tbWV0YScpCiAgICAgICAgICAsIG10V2lkdGg9JG1ldGEuaW5uZXJXaWR0aCgpCiAgICAgICAgICAsIG1pbldpZHRoPWlaaGlodS4kbWFpbi53aWR0aCgpLWN0V2lkdGgKICAgICAgICAgICwgY21XaWR0aD1tdFdpZHRoCiAgICAgICAgICAsIG1heFdpZHRoPXdpbldpZHRoLWN0V2lkdGgKICAgICAgICAgICwgbz1mdW5jdGlvbigpewogICAgICAgICAgICAgICAgJGNtLmF0dHIoJ29wZW5lZCcsJzEnKTsKICAgICAgICAJCWlmKCEkYWMpewogICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmJveCgkY20pOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAJCX0KICAgICAgICAgICAgICAgIHZhciBjdXJyVG9wPV9kb2MuYm9keS5zY3JvbGxUb3AKICAgICAgICAgICAgICAgICAgLCAkbj0kYWMubmV4dCgpLCRuPSRuLmxlbmd0aD8kbjokYWMucGFyZW50KCkubmV4dCgpCiAgICAgICAgICAgICAgICAgICwgdD0kYWMub2Zmc2V0KCkudG9wLWlaaGlodS4kbWFpbi5vZmZzZXQoKS50b3AKICAgICAgICAgICAgICAgICAgLCBiPSRhYy5vZmZzZXQoKS50b3AtaVpoaWh1LiRtYWluLm9mZnNldCgpLnRvcAogICAgICAgICAgICAgICAgICAsIHc9JGFjLndpZHRoKCkKICAgICAgICAgICAgICAgICAgLCBpbkFuc3dlcj0kYWMuaXMoJy56bS1pdGVtLWFuc3dlcicpCiAgICAgICAgICAgICAgICAgICwgaW5RdWVzdGlvbj0kYWMuaXMoJyN6aC1xdWVzdGlvbi1kZXRhaWwnKQogICAgICAgICAgICAgICAgICAsICRxdWVzdGlvbk1ldGE9JCgnI3poLXF1ZXN0aW9uLW1ldGEtd3JhcCcpLy9xdWVzdGlvbl9tZXRhCiAgICAgICAgICAgICAgICAgICwgaD1pblF1ZXN0aW9uPyRxdWVzdGlvbk1ldGEub2Zmc2V0KCkudG9wKyRxdWVzdGlvbk1ldGEuaGVpZ2h0KCkrcGFyc2VJbnQoJHF1ZXN0aW9uTWV0YS5jc3MoJ3BhZGRpbmctYm90dG9tJykpLWlaaGlodS4kbWFpbi5vZmZzZXQoKS50b3AKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDokYWMuaGVpZ2h0KCkrcGFyc2VJbnQoJGFjLmNzcygncGFkZGluZy1ib3R0b20nKSkrcGFyc2VJbnQoJG4uY3NzKCdwYWRkaW5nLXRvcCcpKQogICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgaWYoISRhYy5maW5kKCcuaXpoX3RhcGVfYSwuaXpoX3RhcGVfYicpLmxlbmd0aCkKICAgICAgICAgICAgICAgICAgICAkYWMKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2PicsIHsgJ2NsYXNzJzogJ2l6aF90YXBlX2EnIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyAnY2xhc3MnOiAnaXpoX3RhcGVfYicgfSkpCiAgICAgICAgICAgICAgICBpZighJGNtKSRjbT0kYWMuZmluZCgnLnptLWNvbW1lbnQtYm94Jyk7CiAgICAgICAgICAgICAgICBpZigkY20ubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICBpZighJGNtLmF0dHIoJ3RhYmluZGV4JykpewogICAgICAgICAgICAgICAgICAgICAgICAkY20uYXR0cigndGFiaW5kZXgnLCctMScpLmZvY3VzKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKGluUXVlc3Rpb24pewogICAgICAgICAgICAgICAgICAgICAgICAkKCcjaXpoX1F1ZXN0aW9uU2hhZG93JykuY3NzKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoZWlnaHQnOmgKICAgICAgICAgICAgICAgICAgICAgICAgICAsICdtYXJnaW4tYm90dG9tJzotaAogICAgICAgICAgICAgICAgICAgICAgICB9KS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRxdWVzdGlvbk1ldGEubmV4dCgnOnZpc2libGUnKS5hbmRTZWxmKCkuYWRkQ2xhc3MoJ2l6aF9ub0JvcmRlcicpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAkYWMuYWRkQ2xhc3MoJ2l6aF9ib3hTaGFkb3cnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJGFjLmZpbmQoJy5pemhfdGFwZV9hJykuY3NzKHsKICAgICAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzonYWJzb2x1dGUnCiAgICAgICAgICAgICAgICAgICAgICAsICd3aWR0aCc6MQogICAgICAgICAgICAgICAgICAgICAgLCAnaGVpZ2h0JzpoCiAgICAgICAgICAgICAgICAgICAgICAsICd0b3AnOjAKICAgICAgICAgICAgICAgICAgICAgICwgJ21hcmdpbi1sZWZ0Jzp3LTEKICAgICAgICAgICAgICAgICAgICAgICwgJ3otaW5kZXgnOicxMDAwMCcKICAgICAgICAgICAgICAgICAgICAgICwgJ2JhY2tncm91bmQtY29sb3InOicjZmZmJwogICAgICAgICAgICAgICAgICAgIH0pLnNob3coKTsKICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5ib3goCiAgICAgICAgICAgICAgICAgICAgICAgICRjbS5jc3MoeydsZWZ0JzptdFdpZHRoLTF9KS5hdHRyKCdpemhfaW5RdWVzdGlvbicsaW5RdWVzdGlvbj8nMSc6JzAnKS5yZW1vdmVBdHRyKCdpemgtb3BlbmluZycpCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAkKCcubWVudGlvbi1wb3B1cCcpLmF0dHIoJ2RhdGEtYWlkJywkYWMuYXR0cignZGF0YS1haWQnKSk7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAkYWMuZmluZCgnLnp1LXF1ZXN0aW9uLWFuc3dlci1tZXRhLWNvbW1lbnQnKVswXS5jbGljaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGFjLmZpbmQoJy5pemhfdGFwZV9iJykuY3NzKHsKICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOidhYnNvbHV0ZScKICAgICAgICAgICAgICAgICAgLCAnd2lkdGgnOjEKICAgICAgICAgICAgICAgICAgLCAnaGVpZ2h0JzpoCiAgICAgICAgICAgICAgICAgICwgJ3RvcCc6MAogICAgICAgICAgICAgICAgICAsICdtYXJnaW4tbGVmdCc6dwogICAgICAgICAgICAgICAgICAsICd6LWluZGV4JzonOTk5OCcKICAgICAgICAgICAgICAgICAgLCAnYmFja2dyb3VuZC1jb2xvcic6JyNlZWUnCiAgICAgICAgICAgICAgICB9KS5zaG93KCk7CiAgICAgICAgICAgICAgICAvLyRhYy5jc3MoJ2JvcmRlci1jb2xvcicsJyM5OTk5OTknKTsKICAgICAgICAgICAgICAgIC8vJG4uY3NzKCdib3JkZXItY29sb3InLCcjOTk5OTk5Jyk7CiAgICAgICAgICAgICAgICAkKCcuemgtYmFja3RvdG9wJykuY3NzKCd2aXNpYmlsaXR5JywnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICBpWmhpaHUuJGJvZHkuc2Nyb2xsVG9wKGN1cnJUb3ApOwogICAgICAgICAgICAgICAgaWYoaWNtRm9jdXMpewogICAgICAgICAgICAgICAgICAgIHZhciAkaWNtPSQoaWNtRm9jdXMpLmF0dHIoJ2l6aF9oaWxpZ2h0JywnMScpCiAgICAgICAgICAgICAgICAgICAgICAsICRsaXN0PSRpY20uY2xvc2VzdCgnLnptLWNvbW1lbnQtbGlzdCcpOwogICAgICAgICAgICAgICAgICAgICRsaXN0LnNjcm9sbFRvcChpY21Gb2N1cy5vZmZzZXRUb3AtJGxpc3QuZ2V0KDApLm9mZnNldFRvcCk7CiAgICAgICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuSGlMaWdodEl0ZW09aWNtRm9jdXM7CiAgICAgICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuSGlMaWdodENvbG9yPSdyZ2IoMjU1LDI1NSwxNjApJzsKICAgICAgICAgICAgICAgICAgICAkaWNtLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpWmhpaHU9d2luZG93LmlaaGlodTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaVpoaWh1JiZpWmhpaHUuQ29tbWVudC5IaUxpZ2h0SXRlbSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGlaaGlodS5Db21tZW50LkhpTGlnaHRJdGVtKS5yZW1vdmVBdHRyKCdpemhfaGlsaWdodCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgIGlmKG1heFdpZHRoPjU0OSltYXhXaWR0aD01NDk7CiAgICAgICAgaWYoY21XaWR0aD5tYXhXaWR0aCkKICAgICAgICAgICAgY21XaWR0aD1tYXhXaWR0aDsKICAgICAgICBpZihjbVdpZHRoPG1pbldpZHRoKQogICAgICAgICAgICBjbVdpZHRoPW1pbldpZHRoOwogICAgICAgICRjbS5hZGRDbGFzcygnaXpoX2JveFNoYWRvdycpLmNzcygkLmV4dGVuZChjc3NfY29tbWVudCx7J3dpZHRoJzpjbVdpZHRoLTl9KSk7CiAgICAgICAgLy9pZighJGNtLmlzKCcuZW1wdHknKSkKICAgICAgICAgICAgJGNtLmNzcyh7J3BhZGRpbmcnOicxMDBweCAwcHggMHB4IDdweCd9KTsKICAgICAgICAkKCdpLnptLWNvbW1lbnQtYnViYmxlJywkY20pLmhpZGUoKTsKICAgICAgICBpZihub0NvbW1lbnRPcGVuaW5nKXsKICAgICAgICAgICAgdmFyIGNtV2lkdGhPdmVyPWNtV2lkdGgtd2luV2lkdGgKICAgICAgICAgICAgICAsIHNoaWZ0TGVmdD1jbVdpZHRoT3ZlcitjdFdpZHRoK2N0TGVmdAogICAgICAgICAgICA7CiAgICAgICAgICAgIGlmKHNoaWZ0TGVmdD4wKXsKICAgICAgICAgICAgICAgIGlmKHNoaWZ0TGVmdD5jdExlZnQpe3NoaWZ0TGVmdD1tY0xlZnQ7fQogICAgICAgICAgICAgICAgZWxzZSBpZihjbVdpZHRoT3Zlcj4wKXtzaGlmdExlZnQtPWNtV2lkdGhPdmVyO30KICAgICAgICAgICAgfQogICAgICAgICAgICBpZihzaGlmdExlZnQ8MCl7c2hpZnRMZWZ0PTA7fQogICAgICAgICAgICBpZihzaGlmdExlZnQgJiYgJGFjKXsKICAgICAgICAgICAgICAgICRjdC5jc3Moeydwb3NpdGlvbic6J3JlbGF0aXZlJywnbGVmdCc6MH0pLmFuaW1hdGUoe2xlZnQ6LXNoaWZ0TGVmdH0sbyk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgJGN0LmNzcyh7J3Bvc2l0aW9uJzoncmVsYXRpdmUnLCdsZWZ0Jzotc2hpZnRMZWZ0fSk7CiAgICAgICAgICAgICAgICBvKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgbygpOwogICAgICAgIH0JCiAgICB9OwogICAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKCRhYywkY20pewogICAgICAgIGlmKCEkY20pJGNtPSRhYy5maW5kKCcuem0tY29tbWVudC1ib3gnKTsKICAgICAgICB2YXIgJGN0PSRjbS5jbG9zZXN0KCcuenUtbWFpbi1jb250ZW50LWlubmVyJyk7CiAgICAgICAgdmFyIG89ZnVuY3Rpb24oKXsKICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ3Bvc2l0aW9uJywnJyk7CiAgICAgICAgICAgIGlmKCEkYWMpcmV0dXJuOwogICAgICAgICAgICB2YXIgJG49JGFjLm5leHQoKQogICAgICAgICAgICAgICwgJG49JG4ubGVuZ3RoPyRuOiRhYy5wYXJlbnQoKS5uZXh0KCkKICAgICAgICAgICAgICAsIGluUXVlc3Rpb249JGFjLmlzKCcjemgtcXVlc3Rpb24tZGV0YWlsJyk7CiAgICAgICAgICAgIGlmKCEkYWMpe3JldHVybjt9CiAgICAgICAgICAgIGlmKGluUXVlc3Rpb24pewogICAgICAgICAgICAgICAgJCgnI2l6aF9RdWVzdGlvblNoYWRvdycpLmhpZGUoKTsKICAgICAgICAgICAgICAgICQoJyN6aC1xdWVzdGlvbi1tZXRhLXdyYXAnKS5uZXh0KCc6dmlzaWJsZScpLmFuZFNlbGYoKS5yZW1vdmVDbGFzcygnaXpoX25vQm9yZGVyJyk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgJGFjLnJlbW92ZUNsYXNzKCdpemhfYm94U2hhZG93Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8kYWMuY3NzKCdib3JkZXItY29sb3InLCcjREREREREJyk7CiAgICAgICAgICAgIC8vJG4uY3NzKCdib3JkZXItY29sb3InLCcjREREREREJyk7CiAgICAgICAgICAgICQoJy5pemhfdGFwZV9hOnZpc2libGUsLml6aF90YXBlX2I6dmlzaWJsZScpLmhpZGUoKTsKICAgICAgICAgICAgJCgnLnpoLWJhY2t0b3RvcCcpLmNzcygndmlzaWJpbGl0eScsJ3Zpc2libGUnKTsKICAgICAgICB9OwoKICAgICAgICBpZihpWmhpaHUuQ29tbWVudC5PcGVuaW5nID09ICRjbS5nZXQoMCkpewogICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5PcGVuaW5nID0gbnVsbDsKICAgICAgICAgICAgJGN0LmFuaW1hdGUoe2xlZnQ6MH0sbyk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGlmKCEkYWMpeyRjdC5jc3Moe2xlZnQ6MH0pO30KICAgICAgICAgICAgbygpOwogICAgICAgIH0KICAgICAgICAKICAgIH07CiAgICB0aGlzLnByb2Nlc3NDb21tZW50ID0gZnVuY3Rpb24oJGNtLGZvY3VzTmFtZSl7CiAgICAgICAgdmFyIGxvYWRpbmc9ZmFsc2U7CiAgICAgICAgaWYoJGNtLmlzKCcuem0tY29tbWVudC1zcGlubmVyJykpewogICAgICAgICAgICAkY209JGNtLmNsb3Nlc3QoJy56bS1jb21tZW50LWJveCcpOwogICAgICAgICAgICBsb2FkaW5nPXRydWU7CiAgICAgICAgfQogICAgICAgIGlmKCEkY20uaXMoJy56bS1jb21tZW50LWJveCcpKXJldHVybjsKICAgICAgICB2YXIgJGl0ZW09aVpoaWh1LmdldEl0ZW0oJGNtKTsKICAgICAgICBpZihpWmhpaHUuQ29tbWVudC5SaWdodENvbW1lbnQmJmxvYWRpbmcpewogICAgICAgICAgICB2YXIgY21MZWZ0PSRpdGVtLndpZHRoKCktMTsKICAgICAgICAgICAgJGNtLmNzcyh7J2xlZnQnOmNtTGVmdCwnd2lkdGgnOjIxNiwnei1pbmRleCc6JzEwMDAwJ30pOwogICAgICAgIH0KICAgICAgICBpZigkY20uZmlsdGVyKCcuem0tY29tbWVudC1ib3gnKS5oYXMoJy56bS1jb21tZW50LWxpc3QnKS5sZW5ndGgpewovKiBDb2xsZWN0aW9ucyBmb3IgY29tbWVudAogICAgICAgICAgICAkY20uZmluZCgnLnptLWNvbW1lbnQtZWRpdGFibGUnKS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgIHZhciAkYz0kKGV2ZW50LnRhcmdldCksJGNtPSRjLmNsb3Nlc3QoJy56bS1jb21tZW50LWJveCcpOwogICAgICAgICAgICAgICAgaWYoJGMuaXMoJ2EubWVtYmVyX21lbnRpb24nKSl7CiAgICAgICAgICAgICAgICAgICAgaWYoJGNtLmNoaWxkcmVuKCcuaXpoX2NvbGxlY3Rpb25zJykubGVuZ3RoPD0wKXsKICAgICAgICAgICAgICAgICAgICAgICAgJCgnPGRpdiBjbGFzcz0iaXpoX2NvbGxlY3Rpb25zIj5sb2FkaW5nLi4uPC9kaXY+JykuYmluZCgnbW91c2VvdmVyJyxmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmJpbmQoJ21vdXNlb3V0JyxmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmFwcGVuZFRvKCRjbSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRjLmJpbmQoJ21vdXNlb3ZlcicsZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRjZT0kKHRoaXMpLmNsb3Nlc3QoJy56bS1jb21tZW50LWVkaXRhYmxlJyksJGNtPSQodGhpcykuY2xvc2VzdCgnLnptLWNvbW1lbnQtYm94Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICRjbS5jaGlsZHJlbignLml6aF9jb2xsZWN0aW9ucycpLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYm90dG9tJzokKHRoaXMpLmhlaWdodCgpLSQodGhpcykucG9zaXRpb24oKS50b3AtMQogICAgICAgICAgICAgICAgICAgICAgICAgICwgJ2xlZnQnOiQodGhpcykucG9zaXRpb24oKS5sZWZ0CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgJC5wb3N0KCdodHRwOi8vd3d3LnpoaWh1LmNvbScrJCh0aGlzKS5hdHRyKCdocmVmJykrJy9jb2xsZWN0aW9ucycKICAgICAgICAgICAgICAgICAgICAgICAgICAsICQucGFyYW0oe194c3JmOiQoJ2lucHV0W25hbWU9X3hzcmZdJykudmFsKCl9KQogICAgICAgICAgICAgICAgICAgICAgICAgICwgZnVuY3Rpb24ocmVzdWx0LHN0YXR1cyx4aHIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAkYy5iaW5kKCdtb3VzZW91dCcsZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRjZT0kKHRoaXMpLmNsb3Nlc3QoJy56bS1jb21tZW50LWVkaXRhYmxlJyksJGNtPSQodGhpcykuY2xvc2VzdCgnLnptLWNvbW1lbnQtYm94Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICRjbS5jaGlsZHJlbignLml6aF9jb2xsZWN0aW9ucycpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiovCiAgICAgICAgICAgIGlmKGlaaGlodS5Db21tZW50LlJpZ2h0Q29tbWVudCl7CiAgICAgICAgICAgICAgICAkY20uY2xvc2VzdCgnLnptLWl0ZW0tbWV0YScpLmZpbmQoJy50b2dnbGUtY29tbWVudCcpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICB2YXIgJG9wZW5lZEJ5PSQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICwgJGFjPSRvcGVuZWRCeS5jbG9zZXN0KCcuem0taXRlbS1tZXRhJykKICAgICAgICAgICAgICAgICAgICAgICwgJGNtPSgkYWMucGFyZW50KCkuaXMoJy56bS1pdGVtLW1ldGEuZmVlZC1tZXRhJyk/JGFjLnBhcmVudCgpOiRhYykuZmluZCgnLnptLWNvbW1lbnQtYm94JykuY3NzKCd2aXNpYmlsaXR5JywnaGlkZGVuJykKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgaWYoJGNtLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbT1pWmhpaHUuZ2V0SXRlbSgkY20pOwogICAgICAgICAgICAgICAgICAgICAgICBpZigkY20uaXMoJzpoaWRkZW4nKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5vcGVuKCRpdGVtLCRjbSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuY2xvc2UoJGl0ZW0sJGNtKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vaWYoJGNtLmlzKCcuZW1wdHknKSkgcmV0dXJuOwogICAgICAgICAgICB2YXIgJGxpc3Q9JGNtLmZpbmQoJy56bS1jb21tZW50LWxpc3QnKTsKICAgICAgICAgICAgJGxpc3QuYmluZCgnRE9NTm9kZUluc2VydGVkJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgIC8vdXRpbHMub2JzZXJ2ZURPTU5vZGVBZGRlZCgkbGlzdFswXSxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgIAkvKmlmKCFldmVudC5hZGRlZE5vZGVzKXJldHVybjsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb2RlcyAnK2V2ZW50LmFkZGVkTm9kZXMubGVuZ3RoKycgaW5zZXJ0ZWQnKTsKICAgICAgICAgICAgCWZvcih2YXIgaT0wO2k8ZXZlbnQuYWRkZWROb2Rlcy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgCQl2YXIgJGljbT0kKGV2ZW50LmFkZGVkTm9kZXNbaV0pOwogICAgICAgICAgICAgICAgfSovCiAgICAgICAgICAgICAgICB2YXIgJGljbT0kKGV2ZW50LnRhcmdldCkuZmlsdGVyKCcuem0taXRlbS1jb21tZW50LC56bS1jb21tZW50LWZvcm0nKTsKICAgICAgICAgICAgICAgIGlmKCEkaWNtLmxlbmd0aClyZXR1cm47CiAgICAgICAgICAgICAgICB2YXIgJGxpc3Q9JCh0aGlzKQogICAgICAgICAgICAgICAgICAsICRjbT0kbGlzdC5jbG9zZXN0KCcuem0tY29tbWVudC1ib3g6dmlzaWJsZScpOwogICAgICAgICAgICAgICAgaWYoJGljbS5pcygnLnptLWl0ZW0tY29tbWVudCcpKXsKICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCRpY20pOwogICAgICAgICAgICAgICAgICAgIGlmKGlaaGlodS5RdWlja0Jsb2NrKXsKICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnQWRkaW5nIFF1aWNrQmxvY2snKTsKICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suYWRkUXVpY2tCbG9ja0luT25lQ29tbWVudCgkaWNtKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoaVpoaWh1LkNvbW1lbnQuUmlnaHRDb21tZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgJGxpc3QuY3NzKCdoZWlnaHQnLCcxMDAlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICRpY20uc2hvdygpLmJpbmQoJ0RPTU5vZGVSZW1vdmVkJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGljbT0kKGV2ZW50LnRhcmdldCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighJGljbS5pcygnLnptLWl0ZW0tY29tbWVudCcpKXJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkbGlzdD0kaWNtLmhpZGUoKS5jbG9zZXN0KCcuem0tY29tbWVudC1saXN0JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkY209JGxpc3QuY2xvc2VzdCgnLnptLWNvbW1lbnQtYm94OnZpc2libGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRjbS5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ1JlZnJlc2hpbmcgY29tbWVudCBsaXN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGxpc3QuY2hpbGRyZW4oKS5sZW5ndGg9PTEpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuaXpoLXF1aWNrLWJsb2NrLXN3aXRjaCcsJGNtKS5hZGQoJy5pemgtYnV0dG9ucy1jbS1SJywkY20pLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuYm94KCRjbSxmYWxzZSxmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRjbS5sZW5ndGgpewogICAgICAgICAgICAJICAgICAgICAgICAgdmFyIGNvdW50Tm93PSRsaXN0LmNoaWxkcmVuKCkubGVuZ3RoCiAgICAgICAgICAgICAgICAgICAgICAgIAkgICwgY291bnRBbGw9cGFyc2VJbnQoJGNtLmF0dHIoJ2RhdGEtY291bnQnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBjb3VudFJlc3Q9Y291bnRBbGwtY291bnROb3cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBub3RBbGw9JCh0aGlzKS5oYXMoJy5sb2FkLW1vcmUnKS5sZW5ndGgKICAgICAgICAgICAgICAgICAgICAgICAgCTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCghbm90QWxsKSYmY291bnRSZXN0PjEpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgCXJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ1JlZnJlc2hpbmcgY29tbWVudCBsaXN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuaXpoLXF1aWNrLWJsb2NrLXN3aXRjaCcsJGNtKS5hZGQoJy5pemgtYnV0dG9ucy1jbS1SJywkY20pLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmJveCgkY20sZmFsc2UsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobm90QWxsfHxjb3VudFJlc3Q8MCkkbGlzdC5zY3JvbGxUb3AoJGljbS5nZXQoMCkub2Zmc2V0VG9wKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKCRpY20uaXMoJy56bS1jb21tZW50LWZvcm0nKSl7CiAgICAgICAgICAgICAgICAgICAgaWYoaVpoaWh1LkNvbW1lbnQuUmlnaHRDb21tZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGNtLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHJjbT0kaWNtOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGljbT0kcmNtLmNsb3Nlc3QoJy56bS1pdGVtLWNvbW1lbnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyY20uZmluZCgnYS56bS1jb21tZW50LWNsb3NlLnptLWNvbW1hbmQtY2FuY2VsJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkcmNtPSQodGhpcykuY2xvc2VzdCgnLnptLWNvbW1lbnQtZm9ybScpLmhpZGUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkY209JHJjbS5jbG9zZXN0KCcuem0tY29tbWVudC1ib3g6dmlzaWJsZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRjbS5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5ib3goJGNtLGZhbHNlLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyY20ucGFyZW50KCkuZmluZCgnYS5yZXBseS56bS1jb21tZW50LW9wLWxpbmsnKS5jbGljayhmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRyY209JCh0aGlzKS5jbG9zZXN0KCcuem0tY29tbWVudC1jb250ZW50LXdyYXAnKS5jaGlsZHJlbignLnptLWNvbW1lbnQtZm9ybScpLnRvZ2dsZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRpY209JCh0aGlzKS5jbG9zZXN0KCcuem0taXRlbS1jb21tZW50JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGxpc3Q9JGljbS5jbG9zZXN0KCcuem0tY29tbWVudC1saXN0JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGNtPSRsaXN0LmNsb3Nlc3QoJy56bS1jb21tZW50LWJveDp2aXNpYmxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGNtLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmJveCgkY20sZmFsc2UsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkcmNtLmlzKCc6dmlzaWJsZScpKSRsaXN0LnNjcm9sbFRvcCgkaWNtLmdldCgwKS5vZmZzZXRUb3AtJGxpc3QuZ2V0KDApLm9mZnNldFRvcCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyY20udG9nZ2xlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5ib3goJGNtLGZhbHNlLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsaXN0LnNjcm9sbFRvcCgkaWNtLmdldCgwKS5vZmZzZXRUb3AtJGxpc3QuZ2V0KDApLm9mZnNldFRvcCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgY21DbG9zZT1mdW5jdGlvbihldmVudCxhbHNvU2Nyb2xsVG9WaWV3Qm90dG9tKXsKICAgICAgICAgICAgICAgICAgICB2YXIgJGNtPSQodGhpcykuY2xvc2VzdCgnLnptLWNvbW1lbnQtYm94Jyk7CiAgICAgICAgICAgICAgICAJCWlmKCQodGhpcykuaXMoJ1tuYW1lPWNsb3NlZm9ybV0nKSYmKCEkY20uaXMoJy5lbXB0eScpKSlyZXR1cm47CiAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtPWlaaGlodS5nZXRJdGVtKCRjbSkvLy5hdHRyKCd0YWJpbmRleCcsJy0xJykuZm9jdXMoKS5yZW1vdmVBdHRyKCd0YWJpbmRleCcpCiAgICAgICAgICAgICAgICAgICAgICAsICRpdGVtTWV0YT0kY20uY2xvc2VzdCgnLnptLWl0ZW0tbWV0YScpCiAgICAgICAgICAgICAgICAgICAgICAsIGFsc29TY3JvbGw9dGhpcy5nZXRBdHRyaWJ1dGUoJ2l6aC1hbHNvU2Nyb2xsVG9WaWV3Qm90dG9tJyl8fCcnCiAgICAgICAgICAgICAgICAgICAgICAsIHNjcm9sbFRvcD0oZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApP2RvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgaWYoYWxzb1Njcm9sbCE9PScxJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtTWV0YS5maW5kKCcudG9nZ2xlLWNvbW1lbnQnKVswXS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcD1zY3JvbGxUb3A7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wPXNjcm9sbFRvcDsKICAgICAgICAgICAgICAgICAgICAgICAgfSwxMDApOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50Lm1ldGFTY3JvbGxUb1ZpZXdCb3R0b20oJGl0ZW1NZXRhLGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtTWV0YS5maW5kKCcudG9nZ2xlLWNvbW1lbnQnKVswXS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgIH0sZmFsc2UsdHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLCAkYnRuQ0M9JCgnPGE+Jyx7CiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzonenUtcXVlc3Rpb24tYW5zd2VyLW1ldGEtY29tbWVudCBpemgtYnV0dG9uLWNjJwogICAgICAgICAgICAgICAgICAsIGhyZWY6J2phdmFzY3JpcHQ6dm9pZCgwKTsnCiAgICAgICAgICAgICAgICAgICwgY2xpY2s6Y21DbG9zZQogICAgICAgICAgICAgICAgICAsICdkYXRhLXRpcCc6J3MkdCTmlLbotbfor4Torrrlubbot7Povazoh7PmiYDlsZ7lm57nrZQnCiAgICAgICAgICAgICAgICB9KS50ZXh0KCfmlLbotbcnKQogICAgICAgICAgICAgICwgJGJ1dHRvbnNMPSQoJzxkaXY+Jyx7CiAgICAgICAgICAgICAgICAJJ2NsYXNzJzonaXpoLWJ1dHRvbnMtY20tTCcKICAgICAgICAgICAgICAgIH0pLnByZXBlbmRUbygkY20pCiAgICAgICAgICAgICAgLCAkYnV0dG9uc1I9JCgnPGRpdj4nLHsKICAgICAgICAgICAgICAgIAknY2xhc3MnOidpemgtYnV0dG9ucy1jbS1SJwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgOwogICAgICAgICAgICBpZihpWmhpaHUuQ29tbWVudC5SaWdodENvbW1lbnQpewogICAgICAgICAgICAgICAgJGNtLmNoaWxkcmVuKCcuem0tY29tbWVudC1mb3JtJykuZmluZCgnW25hbWU9Y2xvc2Vmb3JtXScpLmNsaWNrKGNtQ2xvc2UpOwogICAgICAgICAgICAgICAgJGJ0bkNDLmNsb25lKHRydWUpLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAndXJsKCIvc3RhdGljL2ltZy9zcHJpdGVzLTEuOS4yLnBuZyIpJwogICAgICAgICAgICAgICAgICAsICdiYWNrZ3JvdW5kLXBvc2l0aW9uJzogJy0yNjFweCAtNjJweCcKICAgICAgICAgICAgICAgICAgLCAnYmFja2dyb3VuZC1yZXBlYXQnOiAnbm8tcmVwZWF0JwogICAgICAgICAgICAgICAgICAsICdkaXNwbGF5JzogJ2lubGluZS1ibG9jaycKICAgICAgICAgICAgICAgICAgLCAnd2lkdGgnOiAxNQogICAgICAgICAgICAgICAgICAsICdoZWlnaHQnOiAxNQogICAgICAgICAgICAgICAgICAsICdwb3NpdGlvbic6ICdhYnNvbHV0ZScKICAgICAgICAgICAgICAgICAgLCAnbGVmdCc6IDAKICAgICAgICAgICAgICAgICAgLCAndG9wJzogMAogICAgICAgICAgICAgICAgICAsICd6LWluZGV4JzogJzEwMDAwJwogICAgICAgICAgICAgICAgfSkuYXR0cignZGF0YS10aXAnLCdzJGwk5pS26LW36K+E6K66JykudGV4dCgnJykucHJlcGVuZFRvKCRjbSkKICAgICAgICAgICAgICAgICRidXR0b25zUi5wcmVwZW5kVG8oJGNtKTsKICAgICAgICAgICAgICAgIGlmKCRsaXN0LmNoaWxkcmVuKCkubGVuZ3RoPT0wKXsKICAgICAgICAgICAgICAgICAgICAkYnV0dG9uc1IuaGlkZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGJ0bkNDLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgJ2Zsb2F0JzonbGVmdCcKICAgICAgICAgICAgICAgICAgLCAnbWFyZ2luLWxlZnQnOjcKICAgICAgICAgICAgICAgIH0pLmF0dHIoJ2l6aC1hbHNvU2Nyb2xsVG9WaWV3Qm90dG9tJywnMScpLnByZXBlbmQoJzxpIGNsYXNzPSJ6LWljb24taXpoLWZvbGQiLz4nKS5wcmVwZW5kVG8oJGJ1dHRvbnNMKTsKICAgICAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICdjbGFzcyc6J2l6aC1idXR0b24gaXpoLWJhY2stdG9wJwogICAgICAgICAgICAgICAgICAsICdkYXRhLXRpcCc6J3MkbCTov5Tlm57pobbpg6gnCiAgICAgICAgICAgICAgICAgICwgaHJlZjonamF2YXNjcmlwdDp2b2lkKDApOycKICAgICAgICAgICAgICAgICAgLCBjbGljazpmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMucGFyZW50Tm9kZSkubmV4dEFsbCgnLnptLWNvbW1lbnQtbGlzdCcpLnNjcm9sbFRvcCgwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgJCgnPGk+JywgeyAnY2xhc3MnOiAnemctaWNvbiB6LWljb24tZm9sZCcgfSkKICAgICAgICAgICAgICAgICkuYWRkKAogICAgICAgICAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOidpemgtYnV0dG9uIGl6aC1zaG93LWdvb2QnCiAgICAgICAgICAgICAgICAgICAgICAsICdkYXRhLXRpcCc6J3MkbCTkurrmsJTlppnor4QnCiAgICAgICAgICAgICAgICAgICAgICAsIGhyZWY6J2phdmFzY3JpcHQ6dm9pZCgwKTsnCiAgICAgICAgICAgICAgICAgICAgICAsIGNsaWNrOmZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZT0kKHRoaXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkYz0kZS5jbG9zZXN0KCcuem0tY29tbWVudC1ib3gnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGw9JGMuZmluZCgnLnptLWNvbW1lbnQtbGlzdCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkbj0kbC5maW5kKCcuem0taXRlbS1jb21tZW50JykuaGFzKCdzcGFuLmxpa2UtbnVtLm5pbCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGUuaGFzQ2xhc3MoJ29uJykpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuYXR0cignc2Nyb2xsVG9wX3Nob3dnb29kJywkbFswXS5zY3JvbGxUb3ApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG4uc2hvdygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuYm94KCRjLGZhbHNlLGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlLnJlbW92ZUNsYXNzKCdvbicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHBhcnNlSW50KCRlLmF0dHIoJ3Njcm9sbFRvcCcpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFpc05hTihzY3JvbGxUb3ApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsLnNjcm9sbFRvcChzY3JvbGxUb3ApOwogICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlLmF0dHIoJ3Njcm9sbFRvcCcsJGxbMF0uc2Nyb2xsVG9wKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRuLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmJveCgkYyxmYWxzZSxmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZS5hZGRDbGFzcygnb24nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSBwYXJzZUludCgkZS5hdHRyKCdzY3JvbGxUb3Bfc2hvd2dvb2QnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighaXNOYU4oc2Nyb2xsVG9wKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbC5zY3JvbGxUb3Aoc2Nyb2xsVG9wKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICAgICAkKCc8aT4nLCB7ICdjbGFzcyc6ICd6Zy1pY29uIHpnLWljb24tY29tbWVudC1saWtlJyB9KQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkuY3NzKHsKICAgICAgICAgICAgICAgICAgICAnZmxvYXQnOidyaWdodCcKICAgICAgICAgICAgICAgIH0pLmFwcGVuZFRvKCRidXR0b25zUik7CgogICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuUGFnZU5vdFNjcm9sbCA9IHRydWU7CiAgICAgICAgICAgICAgICAkbGlzdC5zY3JvbGwoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JCh0aGlzKQogICAgICAgICAgICAgICAgICAgICAgLCAkYj0kZS5jbG9zZXN0KCcuem0tY29tbWVudC1ib3gnKS5maW5kKCcuaXpoLWJhY2stdG9wJykKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgaWYoJGUuaGVpZ2h0KCkgPCB0aGlzLnNjcm9sbFRvcCl7CiAgICAgICAgICAgICAgICAgICAgICAgICRiLnJlbW92ZUNsYXNzKCdvZmYnKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgJGIuYWRkQ2xhc3MoJ29mZicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnNjcm9sbCgpOwogICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuUGFnZU5vdFNjcm9sbCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIHZhciBpY21Gb2N1cz1udWxsOwogICAgICAgICAgICAgICAgICAgICRsaXN0LmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICdoZWlnaHQnOiRjbS5pcygnLmVtcHR5Jyk/Jyc6JzEwMCUnCiAgICAgICAgICAgICAgICAgICAgICAsICdvdmVyZmxvdyc6J2F1dG8nCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkbGlzdC5jaGlsZHJlbignLnptLWl0ZW0tY29tbWVudCcpLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgJGljbT0kKGUpOwogICAgICAgICAgICAgICAgICAgICRpY20uYmluZCgnRE9NTm9kZVJlbW92ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpY209JChldmVudC50YXJnZXQpOwogICAgICAgICAgICAgICAgICAgICAgICBpZighJGljbS5pcygnLnptLWl0ZW0tY29tbWVudCcpKXJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRjbT0kaWNtLmhpZGUoKS5jbG9zZXN0KCcuem0tY29tbWVudC1ib3g6dmlzaWJsZScpOwogICAgICAgICAgICAgICAgICAgICAgICBpZigkY20ubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCQodGhpcykuY2xvc2VzdCgnLnptLWNvbW1lbnQtbGlzdCcpLmNoaWxkcmVuKCkubGVuZ3RoPT0xKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuaXpoLXF1aWNrLWJsb2NrLXN3aXRjaCcsJGNtKS5hZGQoJy5pemgtYnV0dG9ucy1jbS1SJywkY20pLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5Db21tZW50LmJveCgkY20sZmFsc2UsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgJGljbS5maW5kKCdzcGFuLmxpa2UtbnVtJykuZWFjaChmdW5jdGlvbihpLGUpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGlwPWUuZ2V0QXR0cmlidXRlKCdkYXRhLXRpcCcpLnJlcGxhY2UoJ3MkciQnLCdzJGwkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRpcCE9JycpZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGlwJyx0aXApOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGlmICghaWNtRm9jdXMmJmZvY3VzTmFtZSYmZm9jdXNOYW1lIT0nJwogICAgICAgICAgICAgICAgICAgICAgICAmJiAkaWNtLmNoaWxkcmVuKCdhLnpnLWFuY2hvci1oaWRkZW5bbmFtZT0iJytmb2N1c05hbWUrJyJdJykubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWNtRm9jdXM9JGljbS5nZXQoMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5vcGVuKCRpdGVtLCRjbSxpY21Gb2N1cyk7CiAgICAgICAgICAgICAgICB1dGlscy5vYnNlcnZlRE9NTm9kZUFkZGVkKCRjbS5jaGlsZHJlbignLnptLWNvbW1lbnQtZm9ybScpLmNoaWxkcmVuKCcuem0tY29tbWVudC1lZGl0YWJsZScpWzBdLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JChldmVudC50YXJnZXQpCiAgICAgICAgICAgICAgICAgICAgICAsICRmPSRlLmNsb3Nlc3QoJy56bS1jb21tZW50LWZvcm0nKQogICAgICAgICAgICAgICAgICAgICAgLCAkbD0kZi5wcmV2KCcuem0tY29tbWVudC1saXN0JykKICAgICAgICAgICAgICAgICAgICAgICwgJGM9JGYuY2xvc2VzdCgnLnptLWNvbW1lbnQtYm94W29wZW5lZD0xXScpCiAgICAgICAgICAgICAgICAgICAgICAsIGNoPSRjLmhlaWdodCgpCiAgICAgICAgICAgICAgICAgICAgICAsIHdpbkhlaWdodD1pWmhpaHUuJHdpbi5oZWlnaHQoKQogICAgICAgICAgICAgICAgICAgICAgLCBzY3JvbGxUb3A9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCtkb2N1bWVudC5ib2R5LnNjcm9sbFRvcAogICAgICAgICAgICAgICAgICAgICAgLCBuYXZIZWlnaHQ9aVpoaWh1LiRib2R5LmNoaWxkcmVuKCkuZmlyc3QoKS5oZWlnaHQoKQogICAgICAgICAgICAgICAgICAgICAgLCBiYXI9JCgnLnp1LWdsb2JhbC1ub3RpZnkuenUtZ2xvYmFsLW5vdGlmeS1pbmZvOnZpc2libGUnKQogICAgICAgICAgICAgICAgICAgICAgLCBiYXJIZWlnaHQ9IWJhci5sZW5ndGg/MDpiYXIub3V0ZXJIZWlnaHQoKQogICAgICAgICAgICAgICAgICAgICAgLCBiYXNlVG9wPSgoYmFySGVpZ2h0JiZiYXIuY3NzKCdwb3NpdGlvbicpPT0nZml4ZWQnKT9iYXJIZWlnaHQ6KHNjcm9sbFRvcD5iYXJIZWlnaHQ/MDpiYXJIZWlnaHQtc2Nyb2xsVG9wKSkrbmF2SGVpZ2h0CiAgICAgICAgICAgICAgICAgICAgICAsIG1pbkhlaWdodD0xMTIKICAgICAgICAgICAgICAgICAgICAgICwgbWF4SGVpZ2h0PXdpbkhlaWdodC1iYXNlVG9wLTM1CiAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgIGlmKCEkYy5sZW5ndGgpcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIGlmKCEkYy5pcygnLmVtcHR5JykmJiRsLmNoaWxkcmVuKCkubGVuZ3RoPjApewogICAgICAgICAgICAgICAgICAgICAgICBsaD0kbC5oZWlnaHQoKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgbGg9MDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFyICR0PSRlLmNsb25lKCkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSkKICAgICAgICAgICAgICAgICAgICAJICAgIC5jc3Moeydwb3NpdGlvbic6J2Fic29sdXRlJywnei1pbmRleCc6Jy0xJywnd2lkdGgnOiRlLndpZHRoKCksJ21pbi1oZWlnaHQnOjIyfSkKICAgICAgICAgICAgICAgICAgICAgICwgZWg9JHQuaGVpZ2h0KCkKICAgICAgICAgICAgICAgICAgICAgICwgaD1NYXRoLm1heChlaCxsaCkrKGxoPT0wPzkwOjEwMCkKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgJHQucmVtb3ZlKCk7JHQ9bnVsbDsKICAgICAgICAgICAgICAgICAgICBpZihpc05hTihjaCl8fGNoIT1oKXsKICAgICAgICAgICAgICAgICAgICAgICAgJGMuYXR0cignaXpoX2NtSGVpZ2h0JyxoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQuYm94KCRjLHRydWUsZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZighJGYuaXMoJy5leHBhbmRlZCcpJiZldmVudC5hZGRlZE5vZGVzLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgICAgICRmLmNzcyh7J2hlaWdodCc6JycsJ2JvdHRvbSc6Jyd9KTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgZWgrPTMwOwogICAgICAgICAgICAgICAgICAgICAgICAkZi5jc3MobGg9PTB8fGVoPmNoP3snaGVpZ2h0JzonJywnYm90dG9tJzoyNX06eydoZWlnaHQnOmVoLCdib3R0b20nOicnfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgJGJ0bkNDLnByZXBlbmQoJzxpIGNsYXNzPSJ6LWljb24tZm9sZCIvPicpCiAgICAgICAgICAgICAgICAuY3NzKHsKICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOidhYnNvbHV0ZScKICAgICAgICAgICAgICAgICAgLCAnY3Vyc29yJzoncG9pbnRlcicKICAgICAgICAgICAgICAgICAgLCAnbWFyZ2luLWxlZnQnOi0xCiAgICAgICAgICAgICAgICAgICwgJ2xlZnQnOjAKICAgICAgICAgICAgICAgICAgLCAnYmFja2dyb3VuZC1jb2xvcic6JyNmYmZiZmInCiAgICAgICAgICAgICAgICAgICwgJ3BhZGRpbmcnOicycHggNXB4JwogICAgICAgICAgICAgICAgICAsICdib3R0b20nOi0yMgogICAgICAgICAgICAgICAgICAsICdib3JkZXInOicxcHggc29saWQgI2RkZCcKICAgICAgICAgICAgICAgICAgLCAnYm9yZGVyLXJhZGl1cyc6JzRweCcKICAgICAgICAgICAgICAgIH0pLmluc2VydEJlZm9yZSgkY20uZmluZCgnLnptLWNvbW1lbnQtYm94LWZ0JykpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGlaaGlodS5RdWlja0Jsb2NrKXsKICAgICAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLmFkZFF1aWNrQmxvY2tJbkNvbW1lbnRMaXN0KCRidXR0b25zTCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiB0aGlzOwp9CgovKioKICogQGNsYXNzIE5vdGk3CiAqLwpmdW5jdGlvbiBOb3RpNyhpWmhpaHUpIHsKICAgIGlmICggdHlwZW9mIGlaaGlodSA9PT0gJ3VuZGVmaW5lZCcgfHwgIWlaaGlodSB8fCAhaVpoaWh1LmNvbmZpZ1snTm90aTcnXSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgaVpoaWh1Lk5vdGk3ID0gdGhpczsKICAgIAogICAgdGhpcy4kbm90aTcgPSAkKCcjemgtdG9wLW5hdi1saXZlLW5ldycpOwogICAgdGhpcy4kZnJhbWUgPSAkKCcuem0tbm90aTctZnJhbWUnLHRoaXMuJG5vdGk3KTsKICAgIHRoaXMuJGNvbnRlbnQgPSAkKCcuem0tbm90aTctY29udGVudC1ib2R5Jyx0aGlzLiRub3RpNyk7CiAgICB0aGlzLiRmb290ZXIgPSAkKCcuem0tbm90aTctcG9wdXAtZm9vdGVyJyx0aGlzLiRub3RpNyk7CiAgICB0aGlzLiR0YWIgPSAkKCcuem0tbm90aTctcG9wdXAtdGFiLWNvbnRhaW5lcicsJyN6aC10b3AtbmF2LWxpdmUtbmV3LWlubmVyJyk7CgogICAgdGhpcy5jc3MgPSAKICAgICAgICBbJyN6aC10b3AtbmF2LWxpdmUtbmV3IC56bS1ub3RpNy1wb3B1cC1mb290ZXIgYVt1bnJlYWRvbmx5PSIxIl17Y29sb3I6IzIyNTU5OSAhaW1wb3J0YW50O3RleHQtc2hhZG93OjAgMCAxcHggIzIyNTU5OTt9JwogICAgICAgICwnJ10uam9pbignXG4nKTsKICAgIHRoaXMuZW5oYW5jZSA9IGZ1bmN0aW9uKCl7CiAgICAgICAgaVpoaWh1Lk5vdGk3LiR0YWIuZmluZCgnLnptLW5vdGk3LXBvcHVwLXRhYi1pdGVtJykuZWFjaChmdW5jdGlvbihpLGUpewogICAgICAgICAgICB1dGlscy5vYnNlcnZlRE9NQXR0ck1vZGlmaWVkKGUsZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgdmFyICRlPSQoZXZlbnQudGFyZ2V0KTsKICAgICAgICAgICAgICAgIGlmKCRlLmlzKCcuem0tbm90aTctcG9wdXAtdGFiLWl0ZW0uY3VycmVudCcpKXsKICAgICAgICAgICAgICAgIAl2YXIgY3VycmVudENsYXNzPSRlLmF0dHIoJ2NsYXNzJykKICAgICAgICAgICAgICAgIAkgICwgJGJGaWx0ZXJSZWFkPSQoJy5pemgtZmlsdGVyLXJlYWQnLGlaaGlodS5Ob3RpNy4kZm9vdGVyKTsKICAgICAgICAgICAgICAgIAlpZihjdXJyZW50Q2xhc3MhPSRiRmlsdGVyUmVhZC5hdHRyKCdjdXJyZW50Q2xhc3MnKSl7CiAgICAgICAgICAgICAgICAJICAgICRiRmlsdGVyUmVhZC5hdHRyKHsndW5yZWFkT25seSc6JycsJ2N1cnJlbnRDbGFzcyc6Y3VycmVudENsYXNzfSk7CiAgICAgICAgICAgICAgICAJfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICBpWmhpaHUuTm90aTcuJGZvb3Rlci5hcHBlbmQoCiAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgJ2NsYXNzJzonaXpoLWZpbHRlci1yZWFkJwogICAgICAgICAgICAgICwgaHJlZjonamF2YXNjcmlwdDp2b2lkKDApOycKICAgICAgICAgICAgICAsICd1bnJlYWRPbmx5JzonJwogICAgICAgICAgICAgICwgY2xpY2s6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICB2YXIgdW5yZWFkT25seT10aGlzLmdldEF0dHJpYnV0ZSgndW5yZWFkT25seScpPT0nMScKICAgICAgICAgICAgICAgICAgICAgICwgJGNvbnRlbnRWaXNpYmxlPWlaaGlodS5Ob3RpNy4kY29udGVudC5maWx0ZXIoJzp2aXNpYmxlJykKICAgICAgICAgICAgICAgICAgICAgICwgJHNjcm9sbGVyPSRjb250ZW50VmlzaWJsZS5jbG9zZXN0KCcuemgtc2Nyb2xsZXItaW5uZXInKQogICAgICAgICAgICAgICAgICAgICAgLCAkaXRlbXM9JGNvbnRlbnRWaXNpYmxlLmZpbmQoJy56bS1ub3RpNy1jb250ZW50LWl0ZW0nKQogICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICB1bnJlYWRPbmx5PSF1bnJlYWRPbmx5OwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCd1bnJlYWRPbmx5Jyx1bnJlYWRPbmx5PycxJzonJyk7CiAgICAgICAgICAgICAgICAgICAgaWYodW5yZWFkT25seSl7CiAgICAgICAgICAgICAgICAgICAgICAgICRzY3JvbGxlci5hdHRyKCdzY3JvbGxUb3AnLCRzY3JvbGxlclswXS5zY3JvbGxUb3ApOwogICAgICAgICAgICAgICAgICAgICAgICAkaXRlbXMubm90KCcudW5yZWFkJykuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gcGFyc2VJbnQoJHNjcm9sbGVyLmF0dHIoJ3Njcm9sbFRvcF91bnJlYWQnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFpc05hTihzY3JvbGxUb3ApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjcm9sbGVyLnNjcm9sbFRvcChzY3JvbGxUb3ApOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAkc2Nyb2xsZXIuYXR0cignc2Nyb2xsVG9wX3VucmVhZCcsJHNjcm9sbGVyWzBdLnNjcm9sbFRvcCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtcy5ub3QoJy51bnJlYWQnKS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSBwYXJzZUludCgkc2Nyb2xsZXIuYXR0cignc2Nyb2xsVG9wJykpOwogICAgICAgICAgICAgICAgICAgICAgICBpZighaXNOYU4oc2Nyb2xsVG9wKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY3JvbGxlci5zY3JvbGxUb3Aoc2Nyb2xsVG9wKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pLnRleHQoJ+makOiXj+W3suivuycpCiAgICAgICAgKTsKICAgIH07CgogICAgcmV0dXJuIHRoaXM7Cn0KCi8qKgogKiBAY2xhc3MgUXVpY2tCbG9jawogKi8KZnVuY3Rpb24gUXVpY2tCbG9jayhpWmhpaHUpIHsKICAgIGlmICggdHlwZW9mIGlaaGlodSA9PT0gJ3VuZGVmaW5lZCcgfHwgIWlaaGlodSB8fCAhaVpoaWh1LmNvbmZpZ1snUXVpY2tCbG9jayddKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICBpWmhpaHUuUXVpY2tCbG9jayA9IHRoaXM7CiAgICAKLyoKICAgIHZhciBjc3NfUXVpY2tCbG9jayA9IHsKICAgICAgICAgICAgJ2JhY2tncm91bmQtcG9zaXRpb24nOictMTQ2cHggLTIwMnB4JwogICAgICAgICAgLCAnd2lkdGgnOjE2CiAgICAgICAgICAsICdoZWlnaHQnOjE2CiAgICAgIAl9CiAgICA7CiovCiAgICB0aGlzLlBlbmRpbmcgPSB7VXNlcnM6JywnLENvdW50OjB9OwogICAgdGhpcy5CbG9ja2luZyA9IHtVc2VyczonLCcsQ291bnQ6MH07CiAgICB0aGlzLlVuZm9sbG93ZWQgPSB7VXNlcnM6JywnLENvdW50OjB9OwogICAgdGhpcy5SZWZvbGxvd2VkID0ge1VzZXJzOicsJyxDb3VudDowfTsKICAgIHRoaXMuVXNlcnMyQiA9IFtdCiAgICB0aGlzLlVzZXJzMkJCUSA9IFtdCiAgICB0aGlzLmNzcyA9IAogICAgICAgIFsnLml6aF9ibG9ja0NhcnR7YmFja2dyb3VuZC1jb2xvcjojMDc3MUMxO3Bvc2l0aW9uOmZpeGVkO3JpZ2h0OjA7ei1pbmRleDo5O3BhZGRpbmc6MCAzMHB4IDAgNjBweDtib3JkZXI6MXB4IHNvbGlkICMwNzcxQzE7Ym9yZGVyLWxlZnQtd2lkdGg6MTBweDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjZweDt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLmRve2NvbG9yOiNmZmY7dGV4dC1hbGlnbjpjZW50ZXI7ZGlzcGxheTpibG9jazttYXJnaW46MnB4O21pbi13aWR0aDo4MHB4O3dpZHRoOjEwMCU7aGVpZ2h0OjIwcHg7fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0LnBlbmRpbmcgLmRvOmFmdGVye3RleHQtZGVjb3JhdGlvbjpibGluaztjb2xvcjpyZWQ7fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0IC5kbzphZnRlcntwb3NpdGlvbjpyZWxhdGl2ZTtjb250ZW50OmF0dHIoaXpoX251bTJCKTt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLmRvIC5idXR0b257Y29sb3I6I2ZmZjt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLmZyYW1le292ZXJmbG93LXk6YXV0bztvdmVyZmxvdy14OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MjVweDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cGFkZGluZy10b3A6NXB4O30nCiAgICAgICAgLCcuaXpoX2Jsb2NrQ2FydCAubGlzdHtkaXNwbGF5OmJsb2NrO21hcmdpbjoycHg7d2lkdGg6MTAwJTtwYWRkaW5nLXJpZ2h0OjVweDt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLmxpc3QgLnJlbHtib3JkZXItd2lkdGg6MCAycHg7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci1jb2xvcjojZmZmO3dpZHRoOjI0cHg7aGVpZ2h0OjE4cHg7fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0IC5saXN0LmlfZm8gLnJlbHtib3JkZXItbGVmdC1jb2xvcjojMjU5O2JhY2tncm91bmQtcG9zaXRpb246LTEyMHB4IC0xODRweDt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLmxpc3QuZm9faSAucmVse2JvcmRlci1yaWdodC1jb2xvcjojMjU5O2JhY2tncm91bmQtcG9zaXRpb246LTEyMHB4IC0xNjRweDt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLmxpc3QuaV9mby5mb19pIC5yZWx7YmFja2dyb3VuZC1wb3NpdGlvbjotNzhweCAtMjAwcHg7fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0IC51c2VyMkJ7ZGlzcGxheTpibG9jazttYXJnaW46MnB4IDA7cGFkZGluZzowIDQwcHggMCA2MHB4O30nCiAgICAgICAgLCcuaXpoX2Jsb2NrQ2FydCAudXNlcjJCIGkuemctaWNvbntkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7bWFyZ2luLXRvcDo1cHg7fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0IC51c2VyMkIgLm5hbWV7ZGlzcGxheTpibG9jaztjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzAwMDt3aGl0ZS1zcGFjZTpub3dyYXA7cGFkZGluZzoycHggNXB4O2JvcmRlci1yYWRpdXM6M3B4O30nCiAgICAgICAgLCcuaXpoX2Jsb2NrQ2FydCAubGlzdCAudXNlcjJCLnVuZm8gLm5hbWV7YmFja2dyb3VuZC1jb2xvcjojZjAwO30nCiAgICAgICAgLCcuaXpoX2Jsb2NrQ2FydCAudXNlcjJCIC5kZWx7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tbGVmdDotNC41ZW07fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0IC51c2VyMkIgaS5zYXl7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tbGVmdDotNDRweDtib3JkZXItcmFkaXVzOjZweCA2cHggMCA2cHg7Ym9yZGVyOjFweCBzb2xpZCAjOTk5O3BhZGRpbmc6MCA1cHggMCAzcHg7fScKICAgICAgICAsJy5pemhfYmxvY2tDYXJ0IC51c2VyMkIgaS5zYXlfMXtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi1sZWZ0Oi0xMHB4O2hlaWdodDo2cHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO3dpZHRoOjZweDttYXJnaW4tdG9wOjE3cHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzk5OTt9JwogICAgICAgICwnLml6aF9ibG9ja0NhcnQgLnVzZXIyQiBpLnNheV8ye2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7bWFyZ2luLWxlZnQ6LTlweDtoZWlnaHQ6NnB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjt3aWR0aDo2cHg7bWFyZ2luLXRvcDoxN3B4O2JvcmRlci1yYWRpdXM6MCAwIDAgNnB4O2JvcmRlcjoxcHggc29saWQgIzk5OTtib3JkZXItd2lkdGg6MCAwIDFweCAxcHh9JwogICAgICAgICwnLml6aC1xdWljay1ibG9ja3twb3NpdGlvbjphYnNvbHV0ZTt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDo0ZW07bWFyZ2luLXRvcDoxLjVlbTt3aGl0ZS1zcGFjZTpub3dyYXA7fScKICAgICAgICAsJy5pemgtcXVpY2stYmxvY2sgW2NsYXNzXj1pemgtcXVpY2stYmxvY2tde3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7d2hpdGUtc3BhY2U6bm93cmFwO30nCiAgICAgICAgLCcuaXpoLXF1aWNrLWJsb2NrOmFmdGVye2NvbnRlbnQ6YXR0cihpemhfbnVtMkIpO21hcmdpbi10b3A6MWVtO2Rpc3BsYXk6YmxvY2s7fScKICAgICAgICAsJy56bS1jb21tZW50LWhkIC5pemgtcXVpY2stYmxvY2stcGVuZHtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjQwcHg7fScKICAgICAgICAsJycKICAgICAgICBdLmpvaW4oJ1xuJyk7CiAgICB0aGlzLnVuYmxvY2tBbGwgPSBmdW5jdGlvbigpewogICAgICAgICQoJy5ibG9ja2VkLXVzZXJzID4gLml0ZW0tY2FyZCcpLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgdmFyIHVpZD0kKGUpLmF0dHIoJ2RhdGEtaWQnKTsKICAgICAgICAgICAgJC5wb3N0KCcvc2V0dGluZ3MvdW5ibG9ja3VzZXInLCQucGFyYW0oewogICAgICAgICAgICAgICAgX3hzcmY6JCgnaW5wdXRbbmFtZT1feHNyZl0nKS52YWwoKQogICAgICAgICAgICAgICwgdWlkOnVpZAogICAgICAgICAgICB9KSxmdW5jdGlvbihyKXsKICAgICAgICAgICAgCS8vY29uc29sZS5sb2cocik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwoJICB9OwoJICB0aGlzLmRvVW5mb2xsb3cgPSBmdW5jdGlvbigpewogICAgICAgIHZhciAkZSA9IGlaaGlodS5RdWlja0Jsb2NrLlVzZXJzMkJCUS5zaGlmdCgpCiAgICAgICAgaWYodHlwZW9mICRlID09PSAndW5kZWZpbmVkJykgcmV0dXJuCgogICAgICAgIHZhciB1aWQ9JGUuYXR0cigndWlkJyk7CiAgICAgICAgJC5wb3N0KCcvbm9kZS9NZW1iZXJGb2xsb3dCYXNlVjInCiAgICAgICAgICAsICQucGFyYW0oewogICAgICAgICAgICAgICAgbWV0aG9kOid1bmZvbGxvd19tZW1iZXInCiAgICAgICAgICAgICAgLCBwYXJhbXM6SlNPTi5zdHJpbmdpZnkoeydoYXNoX2lkJzp1aWR9KQogICAgICAgICAgICAgICwgX3hzcmY6JCgnaW5wdXRbbmFtZT1feHNyZl0nKS52YWwoKQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAsIGZ1bmN0aW9uKHIpewogICAgICAgICAgICAgICAgICB2YXIgcXVlcnk9ZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuZGF0YSkKICAgICAgICAgICAgICAgICAgICAsIHBhcmFtcz11dGlscy5nZXRQYXJhbUluUXVlcnkocXVlcnksJ3BhcmFtcycpCiAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgZXZhbCgncGFyYW1zPScrcGFyYW1zKTsKICAgICAgICAgICAgICAgICAgdmFyIGJpZD0nZmItJytwYXJhbXMuaGFzaF9pZAogICAgICAgICAgICAgICAgICAgICwgd2hvPWJpZCsnLCcKICAgICAgICAgICAgICAgICAgICAsIHVuZm9sbG93ZWQ9aVpoaWh1LlF1aWNrQmxvY2suVW5mb2xsb3dlZAogICAgICAgICAgICAgICAgICAgICwgcmVmb2xsb3dlZD1pWmhpaHUuUXVpY2tCbG9jay5SZWZvbGxvd2VkCiAgICAgICAgICAgICAgICAgICAgLCAkY2FydERJVj0kKCcjaXpoX2Jsb2NrQ2FydCcpCiAgICAgICAgICAgICAgICAgICAgLCAkdXNlcj0kY2FydERJVi5maW5kKCcudXNlcjJCW3VpZD0nK3BhcmFtcy5oYXNoX2lkKyddJykKICAgICAgICAgICAgICAgICAgICAsICRsaXN0PSR1c2VyLmNsb3Nlc3QoJy5saXN0JykKICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAkdXNlci5wcmVwZW5kVG8oJGxpc3QubmV4dCgpLm5leHQoKSk7CiAgICAgICAgICAgICAgICAgIGlmKHVuZm9sbG93ZWQuVXNlcnMuaW5kZXhPZignLCcrd2hvKTwwKQogICAgICAgICAgICAgICAgICAgICAgdW5mb2xsb3dlZC5Vc2VycyArPSB3aG87CiAgICAgICAgICAgICAgICAgIGlmKHJlZm9sbG93ZWQuVXNlcnMuaW5kZXhPZignLCcrd2hvKT49MCkKICAgICAgICAgICAgICAgICAgICAgIHJlZm9sbG93ZWQuVXNlcnMgPSByZWZvbGxvd2VkLnJlcGxhY2UoJywnK3dobywnLCcpOwogICAgICAgICAgICB9CiAgICAgICAgKS5hbHdheXMoZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpewogICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5kb1VuZm9sbG93KCkKICAgICAgICB9KTsKCSAgfTsKICAgIHRoaXMuZG9RdWlja0Jsb2NrID0gZnVuY3Rpb24oKXsKICAgICAgICB2YXIgJGUgPSBpWmhpaHUuUXVpY2tCbG9jay5Vc2VyczJCQlEuc2hpZnQoKQogICAgICAgIGlmKHR5cGVvZiAkZSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybgoKICAgICAgICB2YXIgYmxvY2tpbmcgPSBpWmhpaHUuUXVpY2tCbG9jay5CbG9ja2luZwogICAgICAgICAgLCBocmVmID0gJGUuYXR0cignaHJlZicpCiAgICAgICAgICAsIHdobyA9IGhyZWYuc3BsaXQoJy8nKS5wb3AoKSsnLCcKICAgICAgICA7CiAgICAgICAgaWYodHlwZW9mIGJsb2NraW5nID09PSAndW5kZWZpbmVkJyB8fCAhYmxvY2tpbmcpewogICAgICAgICAgICBibG9ja2luZyA9IGlaaGlodS5RdWlja0Jsb2NrLkJsb2NraW5nID0geyBVc2VyczonLCcsIENvdW50OjAgfTsKICAgICAgICB9ZWxzZSBpZihibG9ja2luZy5Vc2Vycy5pbmRleE9mKCcsJyt3aG8pID49IDApewogICAgICAgICAgICByZXR1cm47IC8vIEFscmVhZHkgYmxvY2tpbmcKICAgICAgICB9CiAgICAgICAgdmFyICRjYXJ0RElWPSQoJyNpemhfYmxvY2tDYXJ0Jyk7CiAgICAgICAgJGNhcnRESVYuYWRkQ2xhc3MoJ2Jsb2NraW5nJyk7CiAgICAgICAgYmxvY2tpbmcuVXNlcnMgKz0gd2hvOwogICAgICAgIGJsb2NraW5nLkNvdW50ICsrOwogICAgICAgICQucG9zdChocmVmKycvYmxvY2snLCQucGFyYW0oewogICAgICAgICAgICBhY3Rpb246J2FkZCcKICAgICAgICAgICwgX3hzcmY6JCgnaW5wdXRbbmFtZT1feHNyZl0nKS52YWwoKSAKICAgICAgICB9KSxmdW5jdGlvbihyKXsKICAgICAgICAgICAgdmFyIGhyZWY9dGhpcy51cmwucmVwbGFjZSgnL2Jsb2NrJywnJykKICAgICAgICAgICAgICAsIHVzZXJJRD1ocmVmLnNwbGl0KCcvJykucG9wKCkKICAgICAgICAgICAgICAsIHdobz0nLCcrdXNlcklEKycsJwogICAgICAgICAgICAgICwgYmxvY2tpbmc9aVpoaWh1LlF1aWNrQmxvY2suQmxvY2tpbmcKICAgICAgICAgICAgOwoKICAgICAgICAgICAgaWYoMD09LS1ibG9ja2luZy5Db3VudCkkY2FydERJVi5yZW1vdmVDbGFzcygncGVuZGluZycpOwogICAgCiAgICAgICAgICAgIGlmKGJsb2NraW5nLlVzZXJzLmluZGV4T2Yod2hvKSA8IDApCiAgICAgICAgICAgICAgICByZXR1cm47IC8vIE5vIHRoaXMgdXNlciBpbiBwZW5kaW5nCiAgICAgICAgICAgICAgCiAgICAgICAgICAgIGJsb2NraW5nLlVzZXJzID0gYmxvY2tpbmcuVXNlcnMucmVwbGFjZSh3aG8sJywnKTsKICAgICAgICAgICAgJCgnI2l6aF9ibG9ja0NhcnQgLnVzZXIyQltocmVmPSInK2hyZWYrJyJdJykuZmluZCgnLmRlbCcpWzBdLmNsaWNrKCk7CiAgICAgICAgICAgICQoJ2FbaHJlZiQ9IicraHJlZisnIl0nKS5jc3MoJ3RleHQtZGVjb3JhdGlvbicsJ2xpbmUtdGhyb3VnaCcpOwogICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUil7CiAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLmRvUXVpY2tCbG9jaygpCiAgICAgICAgfSk7CiAgCX07CiAgICB0aGlzLnJlc2l6ZUJsb2NrQ2FydCA9IGZ1bmN0aW9uKCRjYXJ0RElWKXsKICAgICAgICBmdW5jdGlvbiBwYXJzZUNzc1B4KCRpdGVtLCBuYW1lKSB7CiAgICAgICAgICAgIHZhciBtID0gJGl0ZW0uY3NzKG5hbWUpOwogICAgICAgICAgICBpZiAobSAhPSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG0ucmVwbGFjZSgncHgnLCcnKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHZhciAkdXNlckRJViA9ICRjYXJ0RElWLmZpbmQoJy5saXN0IC51c2VyMkInKTsKICAgICAgICB2YXIgJHRpdGxlQm94ID0gJCgnI2l6aF9ibG9ja0NhcnQgLmRvJyk7CiAgICAgICAgdmFyIGggPSBwYXJzZUNzc1B4KCRjYXJ0RElWLmZpbmQoJ2Rpdi5mcmFtZScpLCdwYWRkaW5nVG9wJykgCiAgICAgICAgICAgICAgICArICgkdXNlckRJVi5oZWlnaHQoKSArIHBhcnNlQ3NzUHgoJHVzZXJESVYsJ21hcmdpblRvcCcpKSAqICR1c2VyRElWLmxlbmd0aCAKICAgICAgICAgICAgICAgICsgJHRpdGxlQm94LmhlaWdodCgpCiAgICAgICAgICAgICAgICArIHBhcnNlQ3NzUHgoJHRpdGxlQm94LCAnbWFyZ2luVG9wJykKICAgICAgICAgICAgICAgICsgcGFyc2VDc3NQeCgkdGl0bGVCb3gsICdtYXJnaW5Cb3R0b20nKTsKICAgICAgICAKICAgICAgICBpZihoK2laaGlodS4kbWFpbi5vZmZzZXQoKS50b3A8aVpoaWh1LiR3aW4uaGVpZ2h0KCkpewogICAgICAgICAgICAkY2FydERJVi5jc3MoeydoZWlnaHQnOmgsJ2JvdHRvbSc6Jyd9KTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgJGNhcnRESVYuY3NzKHsnaGVpZ2h0JzonJywnYm90dG9tJzowfSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuZ2V0Q2FydERJVj1mdW5jdGlvbigpewogICAgICAgIHZhciAkY2FydERJVj0kKCcjaXpoX2Jsb2NrQ2FydCcpOwogICAgICAgIGlmKCEkY2FydERJVi5sZW5ndGgpewogICAgICAgICAgICAkY2FydERJVj0kKCc8ZGl2PicsIHsgaWQ6ICdpemhfYmxvY2tDYXJ0JywgJ2NsYXNzJzogJ2l6aF9ibG9ja0NhcnQnIH0pLmNzcyh7CiAgICAgICAgICAgICAgICAndG9wJzppWmhpaHUuJG1haW4ub2Zmc2V0KCkudG9wCiAgICAgICAgICAgIH0pLmFwcGVuZCgKICAgICAgICAgICAgICAgICQoJzxkaXY+Jyx7CiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzonZG8nCiAgICAgICAgICAgICAgICAgICwgJ2l6aF9udW0yQic6MAogICAgICAgICAgICAgICAgICAsICd0aXRsZSc6J+S4i+S4uuOAjOWAmeWuoeOAjeWIl+ihqFxu54K55Ye75bem5LiK6KeS5Y+v5pS26LW3L+WxleW8gFxu5pWw5a2X5Li65Lq654qv5oC75pWw77yI57qi6Imy6KGo56S65LuN5pyJ5Lq654qv5q2j5b6F5YWl5YiX77yJJwogICAgICAgICAgICAgICAgfSkuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOididXR0b24gZGVsQWxsJwogICAgICAgICAgICAgICAgICAgICAgLCBocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7JwogICAgICAgICAgICAgICAgICAgICAgLCB0aXRsZTon5riF56m644CM5YCZ5a6h44CN5YiX6KGoJwogICAgICAgICAgICAgICAgICAgICAgLCBjbGljazpmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkY2FydERJVj0kKCcjaXpoX2Jsb2NrQ2FydCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICRjYXJ0RElWLmNzcygnYm90dG9tJywnJykuZmluZCgnLmxpc3QnKS5lbXB0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcy5wYXJlbnROb2RlKS5hdHRyKCdpemhfbnVtMkInLCcwJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgJGNhcnRESVYuY3NzKCdoZWlnaHQnLCcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLnRleHQoJ+Wkp+i1picpLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzonYmxvY2snCiAgICAgICAgICAgICAgICAgICAgICAsICdwb3NpdGlvbic6J2Fic29sdXRlJwogICAgICAgICAgICAgICAgICAgICAgLCAnbGVmdCc6MjQKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgKS5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgJCgnPGlucHV0PicsewogICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOid1bmZvJwogICAgICAgICAgICAgICAgICAgICAgLCBocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7JwogICAgICAgICAgICAgICAgICAgICAgLCB0eXBlOidjaGVja2JveCcKICAgICAgICAgICAgICAgICAgICAgICwgdGl0bGU6J+mAieS4reWQju+8jOWwhuaIkeWFs+azqOS5i+S6uuagh+WHuu+8jOaUueS7peaUvumAkO+8iOWPlua2iOWFs+azqO+8ieiuuuWkhCcKICAgICAgICAgICAgICAgICAgICAgICwgY2xpY2s6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGNhcnRESVY9JCh0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJHVzZXJzPSQoJy5mcmFtZSAubGlzdC5pX2ZvIC51c2VyMkInLCRjYXJ0RElWKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkYWN0aW9uPSQoJy5hY3Rpb24nLHRoaXMucGFyZW50Tm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jaGVja2VkKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVzZXJzLmFkZENsYXNzKCd1bmZvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhY3Rpb24udGV4dCgn5pS+6YCQJykuY3NzKCdwYWRkaW5nJywnMCAyZW0gMCAwJykuYXR0cigndGl0bGUnLCflr7nliJfooajlhoXmiJHlhbPms6jkuYvkurrlj5bmtojlhbPms6gnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVzZXJzLnJlbW92ZUNsYXNzKCd1bmZvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhY3Rpb24udGV4dCgn5pS255uRJykuY3NzKCdwYWRkaW5nJywnMCAwIDAgMmVtJykuYXR0cigndGl0bGUnLCflsIbkuIvliJfkurrniq/pgJDkuIDliqDlhaXpu5HlkI3ljZUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY3NzKHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXknOidibG9jaycKICAgICAgICAgICAgICAgICAgICAgICwgJ2Zsb2F0JzonbGVmdCcKICAgICAgICAgICAgICAgICAgICAgICwgJ2hlaWdodCc6MjIKICAgICAgICAgICAgICAgICAgICAgICwgJ2xpbmUtaGVpZ2h0JzoyMgogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICApLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAkKCc8c3Bhbj4nLHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzonJwogICAgICAgICAgICAgICAgICAgICAgLCBocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7JwogICAgICAgICAgICAgICAgICAgICAgLCB0aXRsZTon6YCJ5Lit5ZCO77yM5bCG5oiR5YWz5rOo55qE5Lq65qCH5Ye677yM5YeG5aSH44CM5Y+W5raI5YWz5rOo44CNJwogICAgICAgICAgICAgICAgICAgIH0pLnRleHQoJ+S7jui9uycpLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzonYmxvY2snCiAgICAgICAgICAgICAgICAgICAgICAsICdmbG9hdCc6J2xlZnQnCiAgICAgICAgICAgICAgICAgICAgICAsICdtYXJnaW4tcmlnaHQnOjIwCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICkuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOididXR0b24gYWN0aW9uJwogICAgICAgICAgICAgICAgICAgICAgLCBocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7JwogICAgICAgICAgICAgICAgICAgICAgLCB0aXRsZTon5bCG5LiL5YiX5Lq654qv6YCQ5LiA5Yqg5YWl6buR5ZCN5Y2VJwogICAgICAgICAgICAgICAgICAgICAgLCBjbGljazpmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRjYXJ0RElWPSQodGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJCgnLnVuZm8nLHRoaXMucGFyZW50Tm9kZSkuaXMoJzpjaGVja2VkJykpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5saXN0LmlfZm8gLnVzZXIyQicsJGNhcnRESVYpLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suVXNlcnMyQkJRLnB1c2goJChlKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5kb1VuZm9sbG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubGlzdCAudXNlcjJCJywkY2FydERJVikuZWFjaChmdW5jdGlvbihpLGUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5Vc2VyczJCQlEucHVzaCgkKGUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLmRvUXVpY2tCbG9jaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkudGV4dCgn5pS255uRJykuY3NzKHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXknOidibG9jaycKICAgICAgICAgICAgICAgICAgICAgICwgJ2Zsb2F0JzoncmlnaHQnCiAgICAgICAgICAgICAgICAgICAgICAsICdtYXJnaW4tbGVmdCc6MjAKICAgICAgICAgICAgICAgICAgICAgICwgJ21hcmdpbi1yaWdodCc6LTEwCiAgICAgICAgICAgICAgICAgICAgICAsICdwYWRkaW5nJzonMCAwIDAgMmVtJwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICApLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAkKCc8YT4nLHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzonemctaWNvbiB6Zy1pY29uLWRvdWJsZS1hcnJvdycKICAgICAgICAgICAgICAgICAgICAgICwgaHJlZjonamF2YXNjcmlwdDp2b2lkKDApOycKICAgICAgICAgICAgICAgICAgICAgICwgY2xpY2s6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGNhcnRESVY9JCgnI2l6aF9ibG9ja0NhcnQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkY2FydERJVi5hdHRyKCdtaW5pJykhPScxJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjYXJ0RElWLmZpbmQoJy5mcmFtZScpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNhcnRESVYuY3NzKHsnaGVpZ2h0JzonJywnYm90dG9tJzonJ30pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY2FydERJVi5hdHRyKCdtaW5pJywnMScpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY2FydERJVi5maW5kKCcuZnJhbWUnKS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLnJlc2l6ZUJsb2NrQ2FydCgkY2FydERJVik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjYXJ0RElWLmF0dHIoJ21pbmknLCcwJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICdwb3NpdGlvbic6J2Fic29sdXRlJwogICAgICAgICAgICAgICAgICAgICAgLCAnbGVmdCc6MAogICAgICAgICAgICAgICAgICAgICAgLCAndG9wJzo1CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKS5hcHBlbmQoCiAgICAgICAgICAgICAgICAkKCc8ZGl2PicseydjbGFzcyc6J2ZyYW1lJ30KICAgICAgICAgICAgICAgICkuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICQoJzxkaXY+Jyx7CiAgICAgICAgICAgICAgICAgICAgICAgICdjbGFzcyc6J2xpc3QgaV9mbyBmb19pJwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICApLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAkKCc8ZGl2PicsewogICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOidsaXN0IGlfZm8nCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICkuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICQoJzxkaXY+Jyx7CiAgICAgICAgICAgICAgICAgICAgICAgICdjbGFzcyc6J2xpc3QgZm9faScKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgKS5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgJCgnPGRpdj4nLHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzonbGlzdCcKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApLmFwcGVuZFRvKGlaaGlodS4kYm9keSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJGNhcnRESVYKICAgIH0KICAgIHRoaXMuaW4yQmxvY2tDYXJ0ID0gZnVuY3Rpb24odXJsLHJldHJpZWRDb3VudCl7CiAgICAgICAgdmFyICRlID0gaVpoaWh1LlF1aWNrQmxvY2suVXNlcnMyQi5zaGlmdCgpIHx8IG51bGwKICAgICAgICAgICwgJGNhcnRESVYgPSBpWmhpaHUuUXVpY2tCbG9jay5nZXRDYXJ0RElWKCkKCiAgICAgICAgJGNhcnRESVYuYWRkQ2xhc3MoJ3BlbmRpbmcnKTsKICAgICAgICBpZih0eXBlb2YgcmV0cmllZENvdW50ID09ICd1bmRlZmluZWQnKQogICAgICAgICAgICByZXRyaWVkQ291bnQgPSAwCgogICAgICAgIC8vY29uc29sZS5sb2cocmV0cmllZENvdW50KQogICAgICAgIGlmICghJGUgfHwgJGUubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgaWYoKHVybHx8JycpPT0nJyl7CiAgICAgICAgICAgICAgICAkY2FydERJVi5yZW1vdmVDbGFzcygncGVuZGluZycpCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgJC5hamF4KFsnJyx1cmxdLmpvaW4oJycpLHsKICAgICAgICAgICAgICAgICAgICB0eXBlOidHRVQnCiAgICAgICAgICAgICAgICAgICwgbWF4UmV0cnlDb3VudDogMwogICAgICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUil7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGRhdGEucGF5bG9hZCxmdW5jdGlvbihpLGUpewogICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5hZGRVc2VyMkIoZSkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLmluMkJsb2NrQ2FydChkYXRhLnBhZ2luZy5uZXh0KQogICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbihkYXRhLHRleHRTdGF0dXMsalhIUil7CiAgICAgICAgICAgICAgICAgICAgaWYgKCsrcmV0cmllZENvdW50IDwgdGhpcy5tYXhSZXRyeUNvdW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suaW4yQmxvY2tDYXJ0KHVybCxyZXRyaWVkQ291bnQpCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICRjYXJ0RElWLnJlbW92ZUNsYXNzKCdwZW5kaW5nJykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybgogICAgICAgIH0KCiAgICAgICAgdmFyIGhyZWYgPSAkZS5hdHRyKCdocmVmJykKICAgICAgICAgICwgdXNlcm5hbWUgPSBocmVmLnNwbGl0KCcvJykucG9wKCkKICAgICAgICAgICwgd2hvID0gdXNlcm5hbWUrJywnCiAgICAgICAgOwoKICAgICAgICBpZigkY2FydERJVi5maW5kKCcudXNlcjJCW2hyZWY9IicraHJlZisnIl0nKS5sZW5ndGgpewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAkLmFqYXgoJy9ub2RlL01lbWJlclByb2ZpbGVDYXJkVjI/JyskLnBhcmFtKHtwYXJhbXM6SlNPTi5zdHJpbmdpZnkoeyd1cmxfdG9rZW4nOnVzZXJuYW1lfSl9KSwgewogICAgICAgICAgICB0eXBlOiAnR0VUJwogICAgICAgICAgLCB1c2VyMkI6ICRlCiAgICAgICAgICAsIG1heFJldHJ5Q291bnQ6IDMKICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKXsKICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suYWRkVXNlcjJCKGRhdGEpCiAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLmluMkJsb2NrQ2FydCh1cmwpCiAgICAgICAgfSkuZmFpbChmdW5jdGlvbihkYXRhLHRleHRTdGF0dXMsalhIUil7CiAgICAgICAgICAgIGlmICgrK3JldHJpZWRDb3VudCA8IHRoaXMubWF4UmV0cnlDb3VudCl7CiAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5Vc2VyczJCLnVuc2hpZnQodGhpcy51c2VyMkIpCiAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5pbjJCbG9ja0NhcnQodXJsLHJldHJpZWRDb3VudCkKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIH0KICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24oZGF0YSx0ZXh0U3RhdHVzLGpYSFIpewogICAgICAgICAgICAkKCcjaXpoX2Jsb2NrQ2FydCcpLnJlbW92ZUNsYXNzKCdwZW5kaW5nJyk7CiAgICAgICAgfSk7CiAgICB9OwogICAgdGhpcy5hZGRVc2VyMkI9ZnVuY3Rpb24oZGF0YSl7CiAgICAgICAgaWYgKGRhdGEgPT09ICcnKSByZXR1cm4KICAgICAgICB2YXIgJGh0bWw9JChkYXRhLnJlcGxhY2UodXRpbHMuUmVnZXhTcmNQaWMsICcnKSkKICAgICAgICAgICwgaXNaSFBDPSRodG1sLmlzKCcuemgtcHJvZmlsZS1jYXJkJykKICAgICAgICAgICwgJGF2YXRhckxpbms9aXNaSFBDPyRodG1sLmZpbmQoJy5hdmF0YXItbGluazpmaXJzdCcpOiRodG1sLmZpbmQoJy56bS1pdGVtLWxpbmstYXZhdGFyOmZpcnN0JykKICAgICAgICAgICwgaHJlZj0kYXZhdGFyTGluay5hdHRyKCdocmVmJykKICAgICAgICBpZigoaHJlZnx8JycpPT0nJylyZXR1cm4KCiAgICAgICAgdmFyIHVzZXJJRD1ocmVmLnN1YnN0cig4KQogICAgICAgICAgLCB1c2VyTmFtZT1pc1pIUEM/JGF2YXRhckxpbmsudGV4dCgpOiRhdmF0YXJMaW5rLmF0dHIoJ3RpdGxlJykKICAgICAgICAgICwgJGJ0bkZvbGxvdz0kaHRtbC5maW5kKCdidXR0b25bZGF0YS1mb2xsb3ddJykKICAgICAgICAgICwgaGFzaElEPSEkYnRuRm9sbG93Lmxlbmd0aD8nJzokYnRuRm9sbG93LmF0dHIoJ2RhdGEtaWQnKQogICAgICAgICAgLCBmXz0kYnRuRm9sbG93Lmxlbmd0aCYmJGJ0bkZvbGxvdy5pcygnLnpnLWJ0bi11bmZvbGxvdycpCiAgICAgICAgICAsIF9mPSRidG5Gb2xsb3cubGVuZ3RoJiYkYnRuRm9sbG93LmlzKCdbZGF0YS1mb2xsb3dtZT0xXScpCiAgICAgICAgICAsIGNzc0Y9X2Z8fGZfPyd6Zy1pY29uIHJlbCAnOicnCiAgICAgICAgICAsICRjYXJ0RElWPWlaaGlodS5RdWlja0Jsb2NrLmdldENhcnRESVYoKQogICAgICAgICAgLCAkY2FydD0kY2FydERJVi5maW5kKCcubGlzdCcpCiAgICAgICAgICAsIHdobz0nLCcrdXNlcklEKycsJwogICAgICAgIDsKCiAgICAgICAgaWYoaGFzaElEPT0nJyl7CiAgICAgICAgICAgIHJldHVybjsgLy8gVXNlciBibG9ja2VkIG9yIHlvdSBibG9ja2VkCiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKCRjYXJ0RElWLmZpbmQoJy5saXN0IC51c2VyMkJbaHJlZj0iJytocmVmKyciXScpLmxlbmd0aCl7CiAgICAgICAgICAgIHJldHVybjsgLy8gVXNlciBhbHJlYWR5IGluIGJsb2NrIGxpc3QKICAgICAgICB9CgogICAgICAgIHZhciAkdXNlcjJCPSQoJzxkaXY+Jyx7CiAgICAgICAgICAgICAgICAnY2xhc3MnOid1c2VyMkInKyhmXyYmJGNhcnRESVYuZmluZCgnLmRvIC51bmZvOmNoZWNrZWQnKS5sZW5ndGg/JyB1bmZvJzonJykKICAgICAgICAgICAgICAsICdocmVmJzpocmVmCiAgICAgICAgICAgICAgLCAndWlkJzpoYXNoSUQKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmFwcGVuZCgKICAgICAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICdjbGFzcyc6J2J1dHRvbiBkZWwnCiAgICAgICAgICAgICAgICAgICwgaHJlZjonamF2YXNjcmlwdDp2b2lkKDApOycKICAgICAgICAgICAgICAgICAgLCBjbGljazpmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHVzZXI9JCh0aGlzKS5jbG9zZXN0KCcudXNlcjJCJykKICAgICAgICAgICAgICAgICAgICAgICAgICAsICRjYXJ0RElWPSQoJyNpemhfYmxvY2tDYXJ0JykKICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICAkdXNlci5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bTJCPSRjYXJ0RElWLmZpbmQoJy5saXN0IC51c2VyMkInKS5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgICAgICRjYXJ0RElWLmNoaWxkcmVuKCcuZG8nKS5hdHRyKCdpemhfbnVtMkInLG51bTJCPT0wPycwJzpudW0yQj45OTk/JzFrKyc6bnVtMkIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZihudW0yQikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLnJlc2l6ZUJsb2NrQ2FydCgkY2FydERJVik7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjYXJ0RElWLmNzcygnaGVpZ2h0JywnJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGV4dCgn6LWmJykKICAgICAgICAgICAgKS5hcHBlbmQoCiAgICAgICAgICAgICAgICAkKCc8aT4nLHsKICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOidzYXknCiAgICAgICAgICAgICAgICAgICwgJ2RhdGEtdGlwJzoncCR0JCcrdXNlcklECiAgICAgICAgICAgICAgICB9KS50ZXh0KCflhqTmnoknKQogICAgICAgICAgICApLmFwcGVuZCgkKCc8aT4nLHsnY2xhc3MnOidzYXlfMSd9KQogICAgICAgICAgICApLmFwcGVuZCgkKCc8aT4nLHsnY2xhc3MnOidzYXlfMid9KQogICAgICAgICAgICApLmFwcGVuZCgkKCc8aT4nLHsnY2xhc3MnOmNzc0Z9KQogICAgICAgICAgICApLmFwcGVuZCgKICAgICAgICAgICAgICAgICQoJzxhPicsewogICAgICAgICAgICAgICAgICAgICdjbGFzcyc6J25hbWUnCiAgICAgICAgICAgICAgICAgICwgaHJlZjpocmVmCiAgICAgICAgICAgICAgICAgICwgdGFyZ2V0OidfYmxhbmsnCiAgICAgICAgICAgICAgICB9KS50ZXh0KHVzZXJOYW1lKQogICAgICAgICAgICApLnNob3coKQogICAgICAgIDsKICAgICAgICBpZihmXyYmX2YpewogICAgICAgICAgICAkY2FydC5lcSgwKS5hcHBlbmQoJHVzZXIyQik7CiAgICAgICAgfWVsc2UgaWYoZl8pewogICAgICAgICAgICAkY2FydC5lcSgxKS5hcHBlbmQoJHVzZXIyQik7CiAgICAgICAgfWVsc2UgaWYoX2YpewogICAgICAgICAgICAkY2FydC5lcSgyKS5hcHBlbmQoJHVzZXIyQik7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICRjYXJ0LmVxKDMpLmFwcGVuZCgkdXNlcjJCKTsKICAgICAgICB9CiAgICAgICAgdmFyIG51bTJCPSRjYXJ0RElWLmZpbmQoJy5saXN0IC51c2VyMkInKS5sZW5ndGg7CiAgICAgICAgJGNhcnRESVYuY2hpbGRyZW4oJy5kbycpLmF0dHIoJ2l6aF9udW0yQicsbnVtMkI9PTA/JzAnOm51bTJCPjk5OTk/JzEwaysnOm51bTJCKTsKICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5yZXNpemVCbG9ja0NhcnQoJGNhcnRESVYpOwogICAgfQogICAgdGhpcy5hZGRRdWlja0Jsb2NrID0gZnVuY3Rpb24oJGEpewogICAgICAgIHZhciAkdm90ZUluZm89JCgnLnptLWl0ZW0tdm90ZS1pbmZvJywkYSkKICAgICAgICBpZigkdm90ZUluZm8ubGVuZ3RoKXsKICAgICAgICAgICAgdmFyICR2b3RlcnM9JHZvdGVJbmZvLmNoaWxkcmVuKCcudm90ZXJzJykKICAgICAgICAgICAgaWYoJHZvdGVycy5sZW5ndGgpewogICAgICAgICAgICAgICAgdmFyIHM9WyfvvIwnLCR2b3RlSW5mby5hdHRyKCdkYXRhLXZvdGVjb3VudCcpLCfkuKrkuZ/kuI3og73lv43vvIzmnpzmlq3mkpUnXS5qb2luKCcnKQogICAgICAgICAgICAgICAgICAsIGFpZD0kYS5hdHRyKCdkYXRhLWFpZCcpfHwkYS5jaGlsZHJlbignW2l0ZW1wcm9wPSJaUmVhY3RvciJdJykuYXR0cignZGF0YS1pZCcpCiAgICAgICAgICAgICAgICAgICwgdXJsPVsnLycsJGEuYXR0cignZGF0YS10eXBlJyk9PSdwJz8ncG9zdCc6J2Fuc3dlcicsJy8nLGFpZCwnL3ZvdGVyc19wcm9maWxlJ10uam9pbignJykKICAgICAgICAgICAgICAgICQoJzxhPicse2hyZWY6J2phdmFzY3JpcHQ6OycsJ2NsYXNzJzondGV4dCd9KS50ZXh0KHMpLmJpbmQoJ2NsaWNrJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgdmFyICR0PSRhLmZpbmQoJy5hdXRob3ItaW5mbyA+IGEubmFtZSwuem0taXRlbS1hbnN3ZXItYXV0aG9yLWluZm8gPiBhLmF1dGhvci1saW5rJykKICAgICAgICAgICAgICAgICAgICBpZigkdCYmJHQubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suVXNlcnMyQi5wdXNoKCR0KQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tCbG9jay5pbjJCbG9ja0NhcnQodXJsKQogICAgICAgICAgICAgICAgfSkuYXBwZW5kVG8oJHZvdGVJbmZvKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuYWRkUXVpY2tCbG9ja0luT25lQ29tbWVudCA9IGZ1bmN0aW9uKCRjbUl0ZW0pewogICAgICAgIHZhciAkd2hlcmU9JCgnLnptLWNvbW1lbnQtaGQnLCRjbUl0ZW0pOwogICAgICAgIGlmKCR3aGVyZS5maW5kKCcuaXpoLXF1aWNrLWJsb2NrLXBlbmQnKS5sZW5ndGgpcmV0dXJuOwogICAgICAgICQoJzxhPicsewogICAgICAgICAgICAnY2xhc3MnOidpemgtcXVpY2stYmxvY2stcGVuZCBpemgtYnV0dG9uJwogICAgICAgICAgLCBocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7JwogICAgICAgICAgLCAnZGF0YS10aXAnOidzJGwk5bCG5q2k5Lq65YiX5YWl5YCZ5a6h5ZCN5Y2V5Lul5b6F5pS255uRJwogICAgICAgIH0pLnRleHQoJ+WAmeWuoScpLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciAkZSA9ICQodGhpcykubmV4dCgpCiAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLlVzZXJzMkIucHVzaCgkZSkKICAgICAgICAgICAgaVpoaWh1LlF1aWNrQmxvY2suaW4yQmxvY2tDYXJ0KCk7CiAgICAgICAgfSkucHJlcGVuZFRvKCR3aGVyZSkuaGlkZSgpOwogICAgfTsKICAgIHRoaXMuYWRkUXVpY2tCbG9ja0luQ29tbWVudExpc3QgPSBmdW5jdGlvbigkd2hlcmUpewogICAgICAgIC8vIFJlZ2lvbjog5b+r6YCf5bGP6JS9CiAgICAgICAgdmFyICRjbT0kd2hlcmUuaXMoJy56bS1jb21tZW50LWJveCcpPyR3aGVyZTokd2hlcmUuY2xvc2VzdCgnLnptLWNvbW1lbnQtYm94JykKICAgICAgICAgICwgJHU9JCgnLnptLWl0ZW0tY29tbWVudCcsJGNtKQogICAgICAgIDsKICAgICAgICAkdS5lYWNoKGZ1bmN0aW9uKGksZSl7CiAgICAgICAgICAgIGlaaGlodS5RdWlja0Jsb2NrLmFkZFF1aWNrQmxvY2tJbk9uZUNvbW1lbnQoJChlKSk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyICRidG5RdWlja0Jsb2NrPSQoJzxhPicsewogICAgICAgICAgICAgICAgJ2NsYXNzJzonaXpoLXF1aWNrLWJsb2NrLXN3aXRjaCBpemgtYnV0dG9uJwogICAgICAgICAgICAgICwgaHJlZjonamF2YXNjcmlwdDp2b2lkKDApOycKICAgICAgICAgICAgICAsICdkYXRhLXRpcCc6J3MkdCTlvIDlp4vku47or4TorrrogIXkuK3pgInmi6nlsY/olL3lr7nosaEnCiAgICAgICAgICAgIH0pLnRleHQoJ+W/q+mAn+Wxj+iUvScpLmNzcyh7J21hcmdpbi1sZWZ0Jzo3fSkucHJlcGVuZFRvKCR3aGVyZSkuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGlmKHRoaXMuZ2V0QXR0cmlidXRlKCdvbicpPT0nMScpewogICAgICAgICAgICAgICAgICAgICQoJy56bS1jb21tZW50LWhkIC5pemgtcXVpY2stYmxvY2stcGVuZCcpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoeydkYXRhLXRpcCc6J3MkdCTlvIDlp4vku47or4TorrrogIXkuK3pgInmi6nlsY/olL3lr7nosaEnLCdvbic6JzAnfSkucmVtb3ZlQ2xhc3MoJ29uJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICQoJy56bS1jb21tZW50LWhkIC5pemgtcXVpY2stYmxvY2stcGVuZCcpLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoeydkYXRhLXRpcCc6J3MkdCTnu5PmnZ/ku47or4TorrrogIXkuK3pgInmi6nlsY/olL3lr7nosaEnLCdvbic6JzEnfSkuYWRkQ2xhc3MoJ29uJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgOwogICAgICAgIGlmKCRjbS5pcygnLmVtcHR5JykpewogICAgICAgICAgICAkYnRuUXVpY2tCbG9jay5oaWRlKCk7CiAgICAgICAgfQogICAgICAgIC8vIFJlZ2lvbiBlbmQKICAgIH07CiAgICAKICAgIGlaaGlodS4kYm9keS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAkKGV2ZW50LnRhcmdldCkuZmlsdGVyKCcjemgtdG9vbHRpcCcpLmJpbmQoJ0RPTU5vZGVJbnNlcnRlZCcsZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICB2YXIgJGE9JChldmVudC50YXJnZXQpLmZpbHRlcignI3poLXRvb2x0aXAtcGVvcGxlJykuZmluZCgnYVtuYW1lPWZvY3VzXScpCiAgICAgICAgICAgICAgLCBiaWQ9JGEuYXR0cignaWQnKQogICAgICAgICAgICAgICwgd2hvPScsJytiaWQrJywnCiAgICAgICAgICAgIDsKICAgICAgICAgICAgaWYoJGEuaXMoJy56Zy1idG4tdW5mb2xsb3cnKSYmaVpoaWh1LlF1aWNrQmxvY2suVW5mb2xsb3dlZC5Vc2Vycy5pbmRleE9mKHdobyk+PTApewogICAgICAgICAgICAgICAgJGEudGV4dCgn5YWz5rOoJykucmVtb3ZlQ2xhc3MoJ3pnLWJ0bi11bmZvbGxvdycpLmFkZENsYXNzKCd6Zy1idG4tZm9sbG93Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoJGEuaXMoJy56Zy1idG4tZm9sbG93JykmJmlaaGlodS5RdWlja0Jsb2NrLlJlZm9sbG93ZWQuVXNlcnMuaW5kZXhPZih3aG8pPj0wKXsKICAgICAgICAgICAgICAgICRhLnRleHQoJ+WPlua2iOWFs+azqCcpLnJlbW92ZUNsYXNzKCd6Zy1idG4tZm9sbG93JykuYWRkQ2xhc3MoJ3pnLWJ0bi11bmZvbGxvdycpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9KTsKICAgIHJldHVybiB0aGlzOwp9CgovKioKICogQGNsYXNzIFF1aWNrRmF2bwogKi8KZnVuY3Rpb24gUXVpY2tGYXZvKGlaaGlodSkgewogICAgaWYgKCB0eXBlb2YgaVpoaWh1ID09PSAndW5kZWZpbmVkJyB8fCAhaVpoaWh1IHx8ICFpWmhpaHUuY29uZmlnWydRdWlja0Zhdm8nXSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgaVpoaWh1LlF1aWNrRmF2byA9IHRoaXM7CiAgICAKICAgIHRoaXMuRGVmYXVsdENvdW50ID0gNDsKICAgIHRoaXMuUGlubmVkTGlzdCA9IGlaaGlodS5jb25maWdbJ1F1aWNrRmF2b1Bpbm5lZCddOwogICAgdGhpcy5jc3MgPSAKICAgICAgICBbJy5pemgtUGluNFF1aWNrRmF2b3twYWRkaW5nOjNweCA1cHggMDtmbG9hdDpyaWdodDtkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6NHB4O21hcmdpbi1yaWdodDoyZW07bGluZS1oZWlnaHQ6MS4yNTt9JwogICAgICAgICwnLml6aC1QaW40UXVpY2tGYXZvIC56bS1pdGVtLXRvcC1idG57dmlzaWJpbGl0eTp2aXNpYmxlO21hcmdpbjowIDRweDtmbG9hdDpyaWdodDt9JwogICAgICAgICwnZGl2Lml6aF9mYXZ7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDo5OTk5O2Rpc3BsYXk6bm9uZTtib3JkZXI6MXB4IHNvbGlkICM5OTk5OTk7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6NXB4IDVweCA1cHggMDttYXJnaW4tbGVmdDotMXB4O30nCiAgICAgICAgLCdkaXYuaXpoX2ZhdiAudGl0bGV7cGFkZGluZzowIDVweDtiYWNrZ3JvdW5kLWNvbG9yOiMwODc0YzQ7Y29sb3I6I2ZmZjtmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZToxNXB4O3RleHQtYWxpZ246Y2VudGVyO2JvcmRlci1yYWRpdXM6M3B4IDNweCAwIDA7fScKICAgICAgICAsJ2Rpdi5pemhfZmF2IGEuZmF2e2Rpc3BsYXk6YmxvY2s7Y2xlYXI6Ym90aDtmbG9hdDtsZWZ0O3BhZGRpbmc6MCAzNnB4IDAgMjRweDtsaW5lLWhlaWdodDoyO30nCiAgICAgICAgLCdkaXYuaXpoX2ZhdiBhLmZhdiBpe3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi10b3A6MC41ZW07fScKICAgICAgICAsJ2Rpdi5pemhfZmF2IGEuZmF2IGkuc3Bpbm5lci1ncmF5e2xlZnQ6MDt9JwogICAgICAgICwnZGl2Lml6aF9mYXYgYS5mYXYgaS56LWljb24tY29sbGVjdHtsZWZ0OjEwcHg7dmlzaWJpbGl0eTpoaWRkZW47YmFja2dyb3VuZC1wb3NpdGlvbjotNTZweCAtMzZweDt9JwogICAgICAgICwnZGl2Lml6aF9mYXYgYS5mYXYuc2VsZWN0ZWQgaS56LWljb24tY29sbGVjdHt2aXNpYmlsaXR5OnZpc2libGU7fScKICAgICAgICAsJ2Rpdi5pemhfZmF2IGEuZmF2OmhvdmVye3RleHQtZGVjb3JhdGlvbjpub25lfScKICAgICAgICAsJ2Rpdi5pemhfZmF2IGEuZmF2IHNwYW57ZmxvYXQ6cmlnaHQ7ZGlzcGxheTpibG9jazttYXJnaW4tcmlnaHQ6LTMycHh9JwogICAgICAgICwnLm1ldGEtaXRlbS5vbntwb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OjEwMDAwO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICM5OTk5OTk7Ym9yZGVyLXRvcC1jb2xvcjojZmZmO21hcmdpbjotMXB4IC04cHggLTFweCAtMXB4O3BhZGRpbmc6MCA3cHg7Ym9yZGVyLXJhZGl1czoycHggMnB4IDNweCAzcHg7fScKICAgICAgICAsJyddLmpvaW4oJ1xuJyk7CiAgICB0aGlzLmFkZFF1aWNrRmF2byA9IGZ1bmN0aW9uKCR2LCRhKXsKICAgICAgICBpZigkdi5sZW5ndGgpewogICAgICAgICAgICBpZigkYS5jaGlsZHJlbignLml6aF9mYXYnKS5sZW5ndGg8PTApewogICAgICAgICAgICAgICAgJCgnPGRpdj4nLCB7ICdjbGFzcyc6ICdpemhfZmF2JyB9KQogICAgICAgICAgICAgICAgCS5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnc3Bpbm5lci1ncmF5JyB9KSkKICAgICAgICAgICAgICAgIAkuYXBwZW5kKCcmbmJzcDvliqDovb3kuK0uLi4mbmJzcDsnKQogICAgICAgICAgICAgICAgCS5iaW5kKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpewoJICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnNob3coKS5wYXJlbnQoKS5maW5kKCcubWV0YS1pdGVtW25hbWU9ZmF2b10nKS5hZGRDbGFzcygnb24nKTsKICAgICAgICAgICAgICAgIAl9KQogICAgICAgICAgICAgICAgCS5iaW5kKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCl7CgkgICAgICAgICAgICAgICAgICAgICQodGhpcykuaGlkZSgpLnBhcmVudCgpLmZpbmQoJy5tZXRhLWl0ZW1bbmFtZT1mYXZvXScpLnJlbW92ZUNsYXNzKCdvbicpOwoJICAgICAgICAgICAgICAgIH0pCgkgICAgICAgICAgICAuYXBwZW5kVG8oJGEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICR2LmJpbmQoJ21vdXNlZW50ZXInLGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB2YXIgJGE9aVpoaWh1LmdldEl0ZW0oJCh0aGlzKSkKICAgICAgICAgICAgICAgICAgLCAkbT0kKHRoaXMpLmFkZENsYXNzKCdvbicpLmNsb3Nlc3QoJy56bS1pdGVtLW1ldGEnKQogICAgICAgICAgICAgICAgICAsIGFpZD0kYS5hdHRyKCdkYXRhLWFpZCcpCiAgICAgICAgICAgICAgICAgICwgJG9wPSQodGhpcykub2Zmc2V0UGFyZW50KCkKICAgICAgICAgICAgICAgICAgLCBib3R0b20xPXBhcnNlSW50KCRvcC5jc3MoJ21hcmdpbi1ib3R0b20nKSkKICAgICAgICAgICAgICAgICAgLCBib3R0b20yPXBhcnNlSW50KCRhLmNzcygncGFkZGluZy1ib3R0b20nKSkKICAgICAgICAgICAgICAgICAgLCBwb3M9JCh0aGlzKS5wb3NpdGlvbigpCiAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAkYS5jaGlsZHJlbignLml6aF9mYXYnKS5jc3MoewogICAgICAgICAgICAgICAgICAgICdib3R0b20nOihpc05hTihib3R0b20xKT8wOmJvdHRvbTEpKyhpc05hTihib3R0b20yKT8wOmJvdHRvbTIpKyRvcC5oZWlnaHQoKS1wb3MudG9wCiAgICAgICAgICAgICAgICAgICwgJ2xlZnQnOnBvcy5sZWZ0KyRtLnBvc2l0aW9uKCkubGVmdAogICAgICAgICAgICAgICAgfSkuc2hvdygpOwogICAgICAgICAgICAgICAgJC5nZXRKU09OKCcvY29sbGVjdGlvbnMvanNvbicsJC5wYXJhbSh7YW5zd2VyX2lkOmFpZH0pLGZ1bmN0aW9uKHJlc3VsdCxzdGF0dXMseGhyKXsKICAgICAgICAgICAgICAgICAgICB2YXIgYWlkPXRoaXMudXJsLnN1YnN0cih0aGlzLnVybC5pbmRleE9mKCdhbnN3ZXJfaWQ9JykrMTApCiAgICAgICAgICAgICAgICAgICAgICAsIHNlbD1wYWdlSXMuUXVlc3Rpb24/Jy56bS1pdGVtLWFuc3dlcicKICAgICAgICAgICAgICAgICAgICAgICAgICAgOnBhZ2VJcy5Ib21lPycuZmVlZC1pdGVtJwogICAgICAgICAgICAgICAgICAgICAgICAgICA6cGFnZUlzLkFuc3dlcj8nLnptLWl0ZW0tYW5zd2VyJwogICAgICAgICAgICAgICAgICAgICAgICAgICA6JycKICAgICAgICAgICAgICAgICAgICAgICwgJGE9JChzZWwrJ1tkYXRhLWFpZD0nK2FpZCsnXScpCiAgICAgICAgICAgICAgICAgICAgICAsICR2PSRhLmNoaWxkcmVuKCcuaXpoX2ZhdicpLmVtcHR5KCkuYXBwZW5kKCQoJzxkaXY+Jyx7J2NsYXNzJzondGl0bGUnLHRpdGxlOifku6XkuIvkuLrmnIDov5HpgInmi6nnmoTmlLbol4/lpLknfSkuYXBwZW5kKCflv6vpgJ/mlLbol48nKSkKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgaWYoJyc9PXNlbClyZXR1cm47CiAgICAgICAgICAgICAgICAgICAgdmFyIGZhdkFsbD1yZXN1bHQubXNnWzBdCiAgICAgICAgICAgICAgICAgICAgICAsIGZhdlNlbD1yZXN1bHQubXNnWzFdCiAgICAgICAgICAgICAgICAgICAgICAsIG51bT1pWmhpaHUuUXVpY2tGYXZvLkRlZmF1bHRDb3VudAogICAgICAgICAgICAgICAgICAgICAgLCBmYXY9bmV3IEFycmF5KCkKICAgICAgICAgICAgICAgICAgICAgICwgZmF2Tm9ybWFsPW5ldyBBcnJheSgpCiAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICQuZWFjaChmYXZBbGwsZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZJRD1lWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgLCBwaW5uZWQ9aVpoaWh1LlF1aWNrRmF2by5QaW5uZWRMaXN0W2ZJRF0KICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICBpZihwaW5uZWQpewogICAgICAgICAgICAgICAgICAgICAgICAgIGZhdi5wdXNoKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICBmYXZOb3JtYWwucHVzaChlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIG51bSAtPSBmYXYubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgIGlmKG51bSA+IDApewogICAgICAgICAgICAgICAgICAgICAgICBmYXY9ZmF2LmNvbmNhdChmYXZOb3JtYWwuc2xpY2UoMCxudW0pKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZmF2Tm9ybWFsLmxlbmd0aD0wOwogICAgICAgICAgICAgICAgICAgIHdoaWxlKGZhdi5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZT1mYXYuc2hpZnQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICwgZklEPWVbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAsIGZOYW1lPWVbMV0KICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICBmYXZOb3JtYWxbZklEXT1mTmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRmPSQoJzxhLz4nLHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOidmYXYnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaHJlZjonamF2YXNjcmlwdDo7JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGFpZDphaWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBmaWQ6ZklECiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50ZXh0KGZOYW1lKS5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1PScvY29sbGVjdGlvbi8nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRmPSQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGk9JGYuY2hpbGRyZW4oJzpmaXJzdCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRpLmhhc0NsYXNzKCdzcGlubmVyLWdyYXknKSlyZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdSs9JGYuaGFzQ2xhc3MoJ3NlbGVjdGVkJyk/J3JlbW92ZSc6J2FkZCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGkuYXR0cignY2xhc3MnLCdzcGlubmVyLWdyYXknKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLnBvc3QodSwkLnBhcmFtKHtfeHNyZjokKCdpbnB1dFtuYW1lPV94c3JmXScpLnZhbCgpLGFuc3dlcl9pZDokKHRoaXMpLmF0dHIoJ2FpZCcpLGZhdmxpc3RfaWQ6JCh0aGlzKS5hdHRyKCdmaWQnKX0pLGZ1bmN0aW9uKHJlc3VsdCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3Q9dGhpcy51cmwuc3Vic3RyaW5nKHRoaXMudXJsLmxhc3RJbmRleE9mKCcvJykrMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGZpZD11dGlscy5nZXRQYXJhbUluUXVlcnkodGhpcy5kYXRhLCdmYXZsaXN0X2lkJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGFpZD11dGlscy5nZXRQYXJhbUluUXVlcnkodGhpcy5kYXRhLCdhbnN3ZXJfaWQnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgc2VsPXBhZ2VJcy5RdWVzdGlvbj8nLnptLWl0ZW0tYW5zd2VyJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnBhZ2VJcy5Ib21lPycuZmVlZC1pdGVtJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOicnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkdmk9Jyc9PXNlbD9udWxsOiQoc2VsKydbZGF0YS1haWQ9JythaWQrJ10gLml6aF9mYXYgYVtmaWQ9JytmaWQrJ10nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaW5jPTA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCcnPT1zZWwpcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihhY3Q9PSdyZW1vdmUnJiZyZXN1bHQubXNnPT0nT0snKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2aS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluYz0tMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoYWN0PT0nYWRkJyYmcmVzdWx0Lm1zZy5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHZpLmFkZENsYXNzKCdzZWxlY3RlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jPTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5jIT0wKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2aS5jaGlsZHJlbignc3BhbicpLnRleHQocGFyc2VJbnQoJHZpLmNoaWxkcmVuKCdzcGFuJykudGV4dCgpKStpbmMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR2aS5jaGlsZHJlbignOmZpcnN0JykuYXR0cignY2xhc3MnLCd6LWljb24tY29sbGVjdCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkucHJlcGVuZCgkKCc8aS8+Jyx7J2NsYXNzJzonei1pY29uLWNvbGxlY3QnfSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNwYW4vPicpLnRleHQoZVszXSkpOwogICAgICAgICAgICAgICAgICAgICAgICAkZi5hcHBlbmRUbygkdi8qLmNoaWxkcmVuKHBpbm5lZD8nLnBpbm5lZCc6Jy5ub3JtYWwnKSovKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICQuZWFjaChmYXZTZWwsZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmF2Tm9ybWFsW2VdKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHYuZmluZCgnYS5mYXZbZmlkPScrZSsnXScpLmFkZENsYXNzKCdzZWxlY3RlZCcpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkdi5iaW5kKCdtb3VzZWxlYXZlJyxmdW5jdGlvbigpewogICAgICAgICAgICAgICAgdmFyICRhPWlaaGlodS5nZXRJdGVtKCQodGhpcykucmVtb3ZlQ2xhc3MoJ29uJykpOwogICAgICAgICAgICAgICAgJGEuY2hpbGRyZW4oJy5pemhfZmF2JykuaGlkZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwoKICAgIGlaaGlodS4kYm9keS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKCQl2YXIgJGU9JChldmVudC50YXJnZXQpOwoJCWlmKCRlLmlzKCcubW9kYWwtZGlhbG9nJykpewoJCQkkZS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKCQkJCXZhciAkZT0kKGV2ZW50LnRhcmdldCkKICAgICAgICAgICAgICAgICAgLCAkZmF2TGlzdD0kZS5maW5kKCcuem0tZmF2by1saXN0LWNvbnRlbnQnKQogICAgICAgICAgICAgICAgOwoJCQkJaWYoJGZhdkxpc3QubGVuZ3RoKXsKCQkJCQl2YXIgJGZhdkl0ZW1zPSRmYXZMaXN0LmNoaWxkcmVuKCcuem0tZmF2by1saXN0LWl0ZW0tbGlua1tkYXRhLWxpZF0nKQogICAgICAgICAgICAgICAgICAgICAgLCBmdW5jUGluPWZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBpbm5lZD1lLmNoZWNrZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkZT0kKGUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGY9JGUuY2xvc2VzdCgnLnptLWZhdm8tbGlzdC1pdGVtLWxpbmsnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgO2lmKCEkZi5sZW5ndGgpcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpZD0kZS5hdHRyKCdsaWQnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRjaGVja3M9JGUuY2xvc2VzdCgnLnptLWZhdm8tbGlzdC1jb250ZW50JykuZmluZCgnLml6aC1QaW40UXVpY2tGYXZvIC50X2pjaGtib3gnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHRpbWU9NTAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBjc3NTdGFydD17cG9zaXRpb246J3JlbGF0aXZlJywnYmFja2dyb3VuZC1jb2xvcic6JyMwODc0QzQnLCd6LWluZGV4JzonMTAwJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBjc3NFbmQ9e3Bvc2l0aW9uOicnLCdiYWNrZ3JvdW5kLWNvbG9yJzonJywnei1pbmRleCc6Jyd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgZnVuY1JvbGxVcD1mdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGI9JGUuY2xvc2VzdCgnLnptLWZhdm8tbGlzdC1pdGVtLWxpbmsnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGE9JGIucHJldigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoISRhLmxlbmd0aHx8KCRhLmhhc0NsYXNzKCdwaW5uZWQnKSYmcGFyc2VJbnQoJGEuYXR0cignZGF0YS1saWQnKSk8cGFyc2VJbnQoJGIuYXR0cignZGF0YS1saWQnKSkpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYi5hbmltYXRlKHtib3R0b206JGEub3V0ZXJIZWlnaHQoKX0sewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246dGltZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgc3RlcDpmdW5jdGlvbihub3cpeyRiLmNzcyhjc3NTdGFydCk7fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgY29tcGxldGU6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYi5jc3MoJC5leHRlbmQoe2JvdHRvbTowfSxjc3NFbmQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYi5pbnNlcnRCZWZvcmUoJGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmNSb2xsVXAoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGZ1bmNSb2xsRG93bj1mdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGE9JGUuY2xvc2VzdCgnLnptLWZhdm8tbGlzdC1pdGVtLWxpbmsnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGI9JGEubmV4dCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoISRiLmxlbmd0aHx8KCEkYi5oYXNDbGFzcygncGlubmVkJykmJnBhcnNlSW50KCRiLmF0dHIoJ2luZGV4JykpPnBhcnNlSW50KCRhLmF0dHIoJ2luZGV4JykpKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGEuYW5pbWF0ZSh7dG9wOiRiLm91dGVySGVpZ2h0KCl9LHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOnRpbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHN0ZXA6ZnVuY3Rpb24obm93KXskYS5jc3MoY3NzU3RhcnQpO30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGNvbXBsZXRlOmZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGEuY3NzKCQuZXh0ZW5kKHt0b3A6MH0sY3NzRW5kKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGEuaW5zZXJ0QWZ0ZXIoJGIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmNSb2xsRG93bigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwaW5uZWQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmLmFkZENsYXNzKCdwaW5uZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jUm9sbFVwKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZi5yZW1vdmVDbGFzcygncGlubmVkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY1JvbGxEb3duKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpWmhpaHUuUXVpY2tGYXZvLlBpbm5lZExpc3RbbGlkXT1waW5uZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5zZXRDZmcoJ1F1aWNrRmF2b1Bpbm5lZCcsaVpoaWh1LlF1aWNrRmF2by5QaW5uZWRMaXN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIDsKCQkJCQkkZmF2SXRlbXMuZWFjaChmdW5jdGlvbihpLGUpewoJCQkJCQl2YXIgbGlkPWUuZ2V0QXR0cmlidXRlKCdkYXRhLWxpZCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkcGluPSQoJzxhLz4nLHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdjbGFzcyc6J2l6aC1QaW40UXVpY2tGYXZvJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdsaWQnOmxpZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdkYXRhLXRpcCc6J3MkYiTkv53mjIHlnKjjgIzlv6vpgJ/mlLbol4/jgI3oj5zljZXpobbpg6jmmL7npLonCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5hcHBlbmQoJCgnPHNwYW4vPicpLmFwcGVuZCgn572u6aG2JykuYWRkKCc8aS8+Jyx7J2NsYXNzJzonem0taXRlbS10b3AtYnRuJ30pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJCgnLnpnLWdyYXknLGUpKS5hdHRyKCdpbmRleCcsaSkKICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICBlLnNldEF0dHJpYnV0ZSgnaW5kZXgnLGkpOwogICAgICAgICAgICAgICAgICAgICAgICAkcGluLmJpbmQoJ2NsaWNrJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWQ9IXRoaXMuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmNQaW4odGhpcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmNoZWNrZWQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJ3NwYW4nKS50ZXh0KCflj5bmtojnva7pobYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCdpJykuYWRkQ2xhc3MoJ3ptLWl0ZW0tdG9wLWJ0bi1jYW5jZWwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJ3NwYW4nKS50ZXh0KCfnva7pobYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCdpJykucmVtb3ZlQ2xhc3MoJ3ptLWl0ZW0tdG9wLWJ0bi1jYW5jZWwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGV2ZW50LnByZXZlbnREZWZhdWx0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWxCdWJibGU9dHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSlbMF0uY2hlY2tlZD1mYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaVpoaWh1LlF1aWNrRmF2by5QaW5uZWRMaXN0W2xpZF0pewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBpbi5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgkJCQkJfSk7CgkJCQl9CgkJCX0pOwoJCX0KCX0pOwoKICAgIHJldHVybiB0aGlzOwp9CgovKioKICogQGNsYXNzIFNlYXJjaGluZ0xpc3QKICovCmZ1bmN0aW9uIFNlYXJjaGluZ0xpc3QoaVpoaWh1KSB7CiAgICBpZiAoIHR5cGVvZiBpWmhpaHUgPT09ICd1bmRlZmluZWQnIHx8ICFpWmhpaHUpIHsKICAgICAgICByZXR1cm4gbnVsbAogICAgfQogICAgaVpoaWh1LlNlYXJjaGluZ0xpc3QgPSB0aGlzCiAgICAKICAgIHRoaXMuJHRvcFNlYXJjaCA9ICQoJyN6aC10b3Atc2VhcmNoLWZvcm0nKQogICAgdGhpcy4kdG9wU2VhcmNoSW5wdXQgPSAkKCcjemgtdG9wLXNlYXJjaC1mb3JtID4gaW5wdXQjcScpCiAgICBpZiAoIXRoaXMuJHRvcFNlYXJjaC5sZW5ndGgpIHJldHVybgoKICAgIHRoaXMuU2VhcmNoRW5naW5lT3V0c2lkZUxpc3QgPSB7CiAgICAgICAgJ2dvb2dsZSc6IHtpY29uOidodHRwczovL3d3dy5nb29nbGUuY29tL2Zhdmljb24uaWNvJyx1cmw6J2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vP3E9c2l0ZTp6aGlodS5jb20lMjB7MH0jcT1zaXRlOnpoaWh1LmNvbSt7MH0nfQogICAgICAsICdiYWlkdSc6IHtpY29uOidodHRwOi8vd3d3LmJhaWR1LmNvbS9mYXZpY29uLmljbycsdXJsOidodHRwOi8vd3d3LmJhaWR1LmNvbS9zP3dkPXNpdGU6emhpaHUuY29tJTIwezB9J30KICAgIH0KCiAgICB1dGlscy5vYnNlcnZlRE9NTm9kZUFkZGVkKHRoaXMuJHRvcFNlYXJjaFswXSxmdW5jdGlvbihldmVudCl7CiAgICAgICAgdmFyIF9hID0gZXZlbnQuYWRkZWROb2RlcyB8fCBbXQogICAgICAgIGlmICghX2EubGVuZ3RoKSByZXR1cm4KICAgICAgICB1dGlscy5vYnNlcnZlRE9NTm9kZUFkZGVkKF9hWzBdLGZ1bmN0aW9uKGV2ZW50KXtjb25zb2xlLmxvZyhpWmhpaHUuY29uZmlnWydTZWFyY2hFbmdpbmVPdXRzaWRlJ10pCiAgICAgICAgICAgIHZhciBfYSA9IGV2ZW50LmFkZGVkTm9kZXMgfHwgW251bGxdCiAgICAgICAgICAgICAgLCAkaXRlbSA9ICQoX2FbMF0pCiAgICAgICAgICAgICAgLCBzZW9LZXkgPSBpWmhpaHUuY29uZmlnWydTZWFyY2hFbmdpbmVPdXRzaWRlJ10gfHwgJ2JhaWR1JwogICAgICAgICAgICAgICwgc2VvID0gaVpoaWh1LlNlYXJjaGluZ0xpc3QuU2VhcmNoRW5naW5lT3V0c2lkZUxpc3Rbc2VvS2V5XSB8fCB7aWNvbjonJyx1cmw6Jyd9CiAgICAgICAgICAgICAgLCBzdHJTZWFyY2hVcmwgPSBzZW8udXJsLnJlcGxhY2UoL1x7MFx9L2csIGZ1bmN0aW9uKCl7cmV0dXJuIGlaaGlodS5TZWFyY2hpbmdMaXN0LiR0b3BTZWFyY2hJbnB1dC52YWwoKX0pCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlb0tleSkKICAgICAgICAgICAgaWYgKCRpdGVtLmlzKCcuYWMtcm93W3JvbGU9b3B0aW9uXScpKXsKICAgICAgICAgICAgICAgIHZhciAkYSA9ICRpdGVtLmNoaWxkcmVuKCdhJykKICAgICAgICAgICAgICAgICAgLCBocmVmID0gJGEuYXR0cignaHJlZicpCiAgICAgICAgICAgICAgICAgICwgY3NzID0gJ2Zsb2F0OnJpZ2h0O2JhY2tncm91bmQtcG9zaXRpb246LTI4NHB4IC0ycHg7JwogICAgICAgICAgICAgICAgICAsICRhTmV3ID0gJCgnPGE+Jywge2NsYXNzOid6Zy1pY29uJyxzdHlsZTpjc3MsaHJlZjpocmVmLHRhcmdldDonX2JsYW5rJyxjbGljazpmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpCiAgICAgICAgICAgICAgICAgICAgfX0pCiAgICAgICAgICAgICAgICBpZiAoaHJlZi5pbmRleE9mKCcvc2VhcmNoPycpID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgJGFOZXcuY3NzKHttYXJnaW5Ub3A6JzAuNWVtJ30pCiAgICAgICAgICAgICAgICAgICAgJGl0ZW0uYXBwZW5kKCQoJzxhPicsIHtjbGFzczonaWNvbicsc3R5bGU6J21hcmdpbi10b3A6MC41ZW07ZmxvYXQ6bGVmdCcsaHJlZjpzdHJTZWFyY2hVcmwsdGFyZ2V0OidfYmxhbmsnLGNsaWNrOmZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkKICAgICAgICAgICAgICAgICAgICB9fSkuYXBwZW5kKCQoJzxpbWc+Jywge2JvcmRlcjowLHNyYzpzZW8uaWNvbix3aWR0aDoxNixoZWlnaHQ6MTZ9KSkpCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhyZWYuaW5kZXhPZignL3F1ZXN0aW9uLycpIDwgMCkgewogICAgICAgICAgICAgICAgICAgICRhTmV3LmNzcyh7bWFyZ2luVG9wOictMS41ZW0nfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRpdGVtLmFwcGVuZCgkYU5ldykKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICB9KQoKICAgIHJldHVybiB0aGlzCn0KCi8qKgogKiBAY2xhc3MgVG9wTmF2CiAqLwpmdW5jdGlvbiBUb3BOYXYoaVpoaWh1KSB7CiAgICBpZiAoIHR5cGVvZiBpWmhpaHUgPT09ICd1bmRlZmluZWQnIHx8ICFpWmhpaHUgfHwgIWlaaGlodS5jb25maWdbJ1RvcE5hdkF1dG9Gb2xkJ10pIHsKICAgICAgICByZXR1cm4gbnVsbAogICAgfQogICAgaVpoaWh1LlRvcE5hdiA9IHRoaXMKICAgIAogICAgdGhpcy4kdG9wTmF2ID0gJCgnYm9keSA+IC56dS10b3A6Zmlyc3QnKQogICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICB0aGlzLnN0eWxlLnRvcCA9ICcwJwogICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnaXpoLW1vdXNlb3ZlcicsICcxJykKICAgICAgICAgICAgJCgnI2l6aENTU19Ob3RpTnVtJykucmVtb3ZlKCkKICAgICAgICB9KQogICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdpemgtbW91c2VvdmVyJywgJzAnKQogICAgICAgICAgICBpWmhpaHUuVG9wTmF2LmZ1bmNGb2xkKCkKICAgICAgICB9KQogICAgaWYgKCF0aGlzLiR0b3BOYXYubGVuZ3RoKSByZXR1cm4KCiAgICB0aGlzLnRvcE5hdkhlaWdodCA9IHRoaXMuJHRvcE5hdi5oZWlnaHQoKSAtIDUKCiAgICB0aGlzLmZ1bmNGb2xkID0gZnVuY3Rpb24oZXZlbnQpewogICAgICAgIHZhciBzY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IDAKICAgICAgICAgICwgX3NlbGYgPSBpWmhpaHUuVG9wTmF2CiAgICAgICAgICAsIGlzTW91c2VPdmVyID0gJzEnID09PSAoX3NlbGYuJHRvcE5hdi5hdHRyKCdpemgtbW91c2VvdmVyJykgfHwgJycpCiAgICAgICAgICAsICRoZWFkID0gJCgnaGVhZDpmaXJzdCcpCiAgICAgICAgICAsICRjc3NOb3RpTnVtID0gJCgnI2l6aENTU19Ob3RpTnVtJykKICAgICAgICAgICwgJGZsb2F0aW5nQmFyID0gJCgnYm9keSA+IC5nb29nLXNjcm9sbGZsb2F0ZXItZmxvYXRpbmcnKQogICAgICAgIGlmIChzY3JvbGxUb3AgPT09IDApIHsKICAgICAgICAgICAgX3NlbGYuJHRvcE5hdi5jc3Moe3RvcDowfSkKICAgICAgICB9IGVsc2UgaWYgKCFpc01vdXNlT3ZlcikgewogICAgICAgICAgICBpZiAoc2Nyb2xsVG9wIDwgX3NlbGYudG9wTmF2SGVpZ2h0KSB7CiAgICAgICAgICAgICAgICBfc2VsZi4kdG9wTmF2LmNzcyh7dG9wOi1zY3JvbGxUb3B9KQogICAgICAgICAgICAgICAgJGZsb2F0aW5nQmFyLmNzcyh7bWFyZ2luVG9wOi1zY3JvbGxUb3B9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3NlbGYuJHRvcE5hdi5jc3Moe3RvcDotX3NlbGYudG9wTmF2SGVpZ2h0fSkKICAgICAgICAgICAgICAgICRmbG9hdGluZ0Jhci5jc3Moe21hcmdpblRvcDotX3NlbGYudG9wTmF2SGVpZ2h0fSkKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2Nyb2xsVG9wID4gMjApIHsKICAgICAgICAgICAgICAgIGlmICghJGNzc05vdGlOdW0ubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnPHN0eWxlPicsIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdpemhDU1NfTm90aU51bScKICAgICAgICAgICAgICAgICAgICAgICwgdHlwZTogJ3RleHQvY3NzJwogICAgICAgICAgICAgICAgICAgIH0pLmFwcGVuZFRvKCdoZWFkOmZpcnN0JykudGV4dCgnI3poLXRvcC1uYXYtY291bnQsI3poLXRvcC1uYXYtbmV3LXBte3Bvc2l0aW9uOmFic29sdXRlO3RvcDo0MHB4O2JvcmRlci1yYWRpdXM6MCAhaW1wb3J0YW50fS50b3AtbmF2LXByb2ZpbGUgLnp1LXRvcC1uYXYtdXNlcmluZm97b3ZlcmZsb3c6dmlzaWJsZSAhaW1wb3J0YW50fScpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkY3NzTm90aU51bS5yZW1vdmUoKQogICAgfQoKICAgIGlaaGlodS4kd2luLnNjcm9sbCh0aGlzLmZ1bmNGb2xkKQoKICAgIHRoaXMub25Ob2RlQWRkZWQgPSBmdW5jdGlvbihldmVudCl7CiAgICAgICAgaVpoaWh1LlRvcE5hdi5mdW5jRm9sZCgpCiAgICAgICAgJC5lYWNoKGV2ZW50LnJlbW92ZWROb2RlcywgZnVuY3Rpb24oaSwgZSl7CiAgICAgICAgICAgIHZhciAkZmxvYXRpbmdCYXIgPSAkKGUpLmZpbHRlcignLmdvb2ctc2Nyb2xsZmxvYXRlcicpLmNzcyh7bWFyZ2luVG9wOicnfSkKICAgICAgICB9KQogICAgfQoKICAgIHJldHVybiB0aGlzCn0KCmFsbExpbmtzID0gZnVuY3Rpb24oX25hbWUsIF9saXN0U2VsLCBfbGlzdE5hbWUpIHsKICAgIHRoaXMubmFtZSA9IF9uYW1lCiAgICB0aGlzLmxpc3RTZWwgPSBfbGlzdFNlbAogICAgdGhpcy5saXN0TmFtZSA9IF9saXN0TmFtZQogICAgdGhpcy5kbGdJRCA9ICdpemgtZGxnLScgKyBfbmFtZQogICAgdGhpcy4kZGxnID0gbnVsbAogICAgdmFyIF9pbml0aWFsVGl0bGUgPSBfbGlzdE5hbWUgKyAn5Zyw5Z2A5riF5Y2VJwogICAgICAsIF9yZXN1bHQgPSBuZXcgQXJyYXkoKQogICAgICAsIF9sb2FkVGltZXMgPSAwCgogICAgLy/liIbmnpDlhoXlrrkKICAgIHZhciBwcm9jZXNzTm9kZSA9IGZ1bmN0aW9uKGNvbnRlbnQsJGRsZyl7CiAgICAgIHZhciAkcUN1cnJlbnQgPSBudWxsOwogICAgICAkKCcuem0taXRlbS1hbnN3ZXInLCBjb250ZW50KS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBpdGVtKXsKICAgICAgICB2YXIgJGEgPSAkKGl0ZW0pCiAgICAgICAgICAsICRxID0gJGEuY2xvc2VzdCgiLnptLWl0ZW0iKS5jaGlsZHJlbigiaDIiKS5jaGlsZHJlbigiYSIpCiAgICAgICAgOwogICAgICAgIGlmKCRxLmxlbmd0aCl7CiAgICAgICAgICAkcUN1cnJlbnQ9JHE7CiAgICAgICAgfWVsc2UgaWYoJHFDdXJyZW50KXsKICAgICAgICAgICRxPSRxQ3VycmVudDsKICAgICAgICB9ZWxzZXsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIGhyZWZRdWVzdGlvbiA9IHVybC5kYXRhLmF0dHJbImJhc2UiXSArICRxLmF0dHIoImhyZWYiKS5yZXBsYWNlKHVybC5kYXRhLmF0dHJbImJhc2UiXSwnJyk7CiAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgdGl0bGU6ICRxLnRleHQoKSwKICAgICAgICAgICAgLy9xdWVzdGlvblVybDogaHJlZlF1ZXN0aW9uLAogICAgICAgICAgICBhbnN3ZXJVcmw6IGhyZWZRdWVzdGlvbiArICgkYS5wYXJlbnQoKS5pcygiLnptLWl0ZW0tZmF2IikgPyAiL2Fuc3dlci8iICsgJGEuYXR0cigiZGF0YS1hdG9rZW4iKSA6ICIiKSwKICAgICAgICAgICAgYW5zd2VyQXV0aG9yOiAkYS5maW5kKCcuem0taXRlbS1hbnN3ZXItYXV0aG9yLXdyYXAgYVtocmVmXj0iL3Blb3BsZSJdJykudGV4dCgpLnRyaW0oKSwKICAgICAgICAgICAgc3VtbWFyeTogJGEuZmluZCgiLnptLWl0ZW0tYW5zd2VyLXN1bW1hcnkiKS5jaGlsZHJlbigpLnJlbW92ZSgpLmVuZCgpLnRleHQoKSwKICAgICAgICAgICAgY29udGVudDogJGEuZmluZCgiLnptLWVkaXRhYmxlLWNvbnRlbnQiKS5odG1sKCkKICAgICAgICB9OwogICAgICAgIF9yZXN1bHQucHVzaChvYmopOwogICAgICAgIHZhciBzdHJUaXRsZSA9IHV0aWxzLmZvcm1hdFN0cignKiDjgIp7dGl0bGV944CLJiMxMzsqIHthbnN3ZXJBdXRob3J977yaJiMxMzsqIHtzdW1tYXJ5fScsIG9iaikKICAgICAgICAgICwgc3RyVVJMID0gdXRpbHMuZm9ybWF0U3RyKCd7YW5zd2VyVXJsfScsIG9iaikKICAgICAgICAgICwgJGxpID0gJCgnPGxpPicpLmFwcGVuZCgkKCc8YT4nLCB7IGhyZWY6IHN0clVSTCwgdGl0bGU6IHN0clRpdGxlIH0pLnRleHQoc3RyVVJMKSkuY3NzKHsgJ2xpc3Qtc3R5bGUtdHlwZSc6ICdub25lJyB9KQogICAgICAgICQoJy5pemhpaHUtY29sbGVjdGlvbi1saW5rcycsJGRsZykuYXBwZW5kKCRsaSk7CiAgICAgICAgdmFyIGNvdW50PV9yZXN1bHQubGVuZ3RoOwogICAgICAgICQoJy5pemhpaHUtY29sbGVjdGlvbi1pbmZvJywkZGxnKS50ZXh0KCfvvIjliqrlipvliqDovb3kuK0uLi7lt7LlvpfliLDorrDlvZUgJyArIGNvdW50ICsgJyDmnaHvvIknKTsKICAgICAgfSk7CiAgICB9OwogICAgICAgIAogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbihwYWdlV2FudCxwYWdlTm93LCRkbGcpewogICAgICBpZiAoIXBhZ2VOb3cpcGFnZU5vdz0xOwogICAgICBpZigkZGxnLmlzKCc6aGlkZGVuJykpewogICAgICAgIHZhciBjb3VudD1fcmVzdWx0Lmxlbmd0aDsKICAgICAgICAkKCcuaXpoaWh1LWNvbGxlY3Rpb24taW5mbycsJGRsZykudGV4dCgn77yI5Yqg6L296KKr57uI5q2iLi4u5bey5b6X5Yiw6K6w5b2VICcgKyBjb3VudCArICcg5p2h77yJJyk7CiAgICAgICAgJCgnI3poLWdsb2JhbC1zcGlubmVyJykuaGlkZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAKICAgICAgaWYocGFnZVdhbnQ9PTEpewogICAgICAgICQoJy5pemhpaHUtY29sbGVjdGlvbi1saW5rcycsJGRsZykuZW1wdHkoKTsKICAgICAgICAkKCcjemgtZ2xvYmFsLXNwaW5uZXInKS5zaG93KCk7CiAgICAgICAgX3Jlc3VsdC5sZW5ndGg9MDsKICAgICAgICBfbG9hZFRpbWVzKys7CiAgICAgICAgJCgnLml6aGlodS1jb2xsZWN0aW9uLWluZm8nLCRkbGcpLnRleHQoJycpOwogICAgICB9CiAgICAgIHZhciAkcGFnZXI9JChfbGlzdFNlbCkucGFyZW50KCkuZmluZCgnLnptLWludml0ZS1wYWdlcicpCiAgICAgICAgLCAkbGFzdFBhZ2U9JHBhZ2VyLmNoaWxkcmVuKCdzcGFuJykubGFzdCgpLnByZXYoKQogICAgICAgICwgdG90YWxDb3VudD0kcGFnZXIubGVuZ3RoPT0wPzE6TnVtYmVyKCRsYXN0UGFnZS50ZXh0KCkpCiAgICAgIDsKICAgICAgaWYocGFnZVdhbnQ+dG90YWxDb3VudCl7CiAgICAgICAgJCgnLml6aGlodS1jb2xsZWN0aW9uLWluZm8nLCRkbGcpLnRleHQoJ++8iOWKoOi9veWujOaIkO+8jOWFseW+l+WIsOiusOW9lSAnICsgX3Jlc3VsdC5sZW5ndGggKyAnIOadoe+8iScpOwogICAgICAgICQoJyN6aC1nbG9iYWwtc3Bpbm5lcicpLmhpZGUoKTsKICAgICAgICAkKCcuc2VsQWxsJywkZGxnKS5jbGljaygpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHBhZ2VOZXh0PXBhZ2VXYW50KzE7CiAgICAgIGlmKHBhZ2VXYW50PT1wYWdlTm93KXsKICAgICAgICBwcm9jZXNzTm9kZSgkKF9saXN0U2VsKS5odG1sKCksJGRsZyk7CiAgICAgICAgaGFuZGxlcihwYWdlTmV4dCxwYWdlTm93LCRkbGcpCiAgICAgIH1lbHNlewogICAgICAgIHZhciBfdXJsPXVybC5kYXRhLmF0dHJbJ2Jhc2UnXSt1cmwuZGF0YS5hdHRyWydwYXRoJ10rJz9wYWdlPScrcGFnZVdhbnQ7CiAgICAgICAgJC5hamF4KF91cmwse3R5cGU6J2dldCcsY29udGV4dDp7bG9hZFRpbWVzOl9sb2FkVGltZXN9fSkuZG9uZShmdW5jdGlvbihyZXN1bHQpewogICAgICAgICAgaWYodGhpcy5sb2FkVGltZXMhPV9sb2FkVGltZXMpcmV0dXJuOwogICAgICAgICAgcHJvY2Vzc05vZGUocmVzdWx0LCRkbGcpOwogICAgICAgICAgaGFuZGxlcihwYWdlTmV4dCxwYWdlTm93LCRkbGcpCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgLy/liJ3lp4vljJblvLnlh7rmoYYKICAgIHRoaXMuaW5pdERpYWxvZyA9IGZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy4kZGxnPSQoJyMnK3RoaXMuZGxnSUQpOwogICAgICAgIHZhciByZXRWYWw9MDx0aGlzLiRkbGcubGVuZ3RoOwogICAgICAgIGlmKCFyZXRWYWwpewogICAgICAgICAgICB0aGlzLiRkbGcgPSAkKCc8ZGl2PicsIHsgaWQ6IHRoaXMuZGxnSUQsICdjbGFzcyc6ICdtb2RhbC1kaWFsb2cgYWxsTGlua3MnLCB0YWJpbmRleDogJzAnLCBzdHlsZTogJ2Rpc3BsYXk6IG5vbmU7d2lkdGg6NTAwcHgnLCBuYW1lOiBfbmFtZSwgJ2xpc3RTZWwnOiBfbGlzdFNlbCB9KQogICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2PicsIHsgJ2NsYXNzJzogJ21vZGFsLWRpYWxvZy10aXRsZSBtb2RhbC1kaWFsb2ctdGl0bGUtZHJhZ2dhYmxlJyB9KQogICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNwYW4+JywgeyAnY2xhc3MnOiAnbW9kYWwtZGlhbG9nLXRpdGxlLXRleHQnIH0pLnRleHQoX2luaXRpYWxUaXRsZSkpCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8c3Bhbj4nLCB7ICdjbGFzcyc6ICdtb2RhbC1kaWFsb2ctdGl0bGUtdGV4dCBpemhpaHUtY29sbGVjdGlvbi1pbmZvJyB9KSkKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicsIHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzogJ21vZGFsLWRpYWxvZy10aXRsZS1jbG9zZScKICAgICAgICAgICAgICAgICAgICAgICwgY2xpY2s6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3poLWdsb2JhbC1zcGlubmVyJykuaGlkZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubW9kYWwtZGlhbG9nLWJnJykuaGlkZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5tb2RhbC1kaWFsb2cnKS5oaWRlKCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2PicsIHsgJ2NsYXNzJzogJ21vZGFsLWRpYWxvZy1jb250ZW50JyB9KQogICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdj4nKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyAnY2xhc3MnOiAnemctc2VjdGlvbicgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdj4nLCB7ICdjbGFzcyc6ICdpemhpaHUtY29sbGVjdGlvbi1saW5rcyB6Zy1mb3JtLXRleHQtaW5wdXQnLCB0YWJJbmRleDogJy0xJywgc3R5bGU6ICdoZWlnaHQ6MzAwcHg7b3ZlcmZsb3cteTpzY3JvbGw7b3V0bGluZTpub25lOycgfSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxmb3JtPicsIHsgYWN0aW9uOiAnaHR0cDovL2lsb3ZlemhpaHUuZHVhcHAuY29tL3NhdmVNZS5weScsIG1ldGhvZDogJ3Bvc3QnLCB0YXJnZXQ6ICdfYmxhbmsnLCBzdHlsZTogJ2Rpc3BsYXk6bm9uZScgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZXh0YXJlYT4nLCB7IHN0eWxlOiAid2lkdGg6IDEwMCU7IiwgbmFtZTogImxpbmtzIiwgJ2NsYXNzJzogIml6aGlodS1jb2xsZWN0aW9uLWxpbmtzLXBvc3QiIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGlucHV0PicsIHsgbmFtZTogJ3RpdGxlJyB9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyAnY2xhc3MnOiAnem0tY29tbWFuZCcgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdj4nLCB7ICdjbGFzcyc6ICd6Zy1sZWZ0JyB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGE+JywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOiAnemctYnRuLWJsdWUgcmVsb2FkJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBocmVmOiAnamF2YXNjcmlwdDp2b2lkKDApOycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgY2xpY2s6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRkID0gJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwtZGlhbG9nJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIoMSwgTnVtYmVyKHVybC5kYXRhLnBhcmFtLnF1ZXJ5WydwYWdlJ10pLCAkZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRleHQoJ+mHjeaWsOiOt+WPlicpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzogJ3pnLWJ0bi1ibHVlIHNhdmUnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaHJlZjogJ2phdmFzY3JpcHQ6dm9pZCgwKTsnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgY2xpY2s6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGRsZyA9ICQodGhpcykuY2xvc2VzdCgnLm1vZGFsLWRpYWxvZy1jb250ZW50JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRsaW5rcyA9ICRkbGcuZmluZCgnLml6aGlodS1jb2xsZWN0aW9uLWxpbmtzJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRsaW5rc1Bvc3QgPSAkZGxnLmZpbmQoJy5pemhpaHUtY29sbGVjdGlvbi1saW5rcy1wb3N0JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRsaW5rc1RpdGxlID0gJGxpbmtzUG9zdC5uZXh0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRmb3JtID0gJGxpbmtzUG9zdC5wYXJlbnQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbGlua3MgPSAnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsaW5rcy5maW5kKCdsaSBhJykuZWFjaChmdW5jdGlvbihpLCBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rcyArPSBlLmdldEF0dHJpYnV0ZSgnaHJlZicpICsgJ1xuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbGlua3NQb3N0LnZhbChsaW5rcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxpbmtzVGl0bGUudmFsKCQoJyN6aC1mYXYtaGVhZC10aXRsZSwuem0tcHJvZmlsZS1oZWFkZXItbWFpbiAudGl0bGUtc2VjdGlvbiBhLm5hbWUnKS50ZXh0KCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmb3JtLnN1Ym1pdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGV4dCgn5L+d5a2YJykpCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpCiAgICAgICAgICAgICAgICAuZHJhZ2dhYmxlKHsgaGFuZGxlOiAnLm1vZGFsLWRpYWxvZy10aXRsZS1kcmFnZ2FibGUnIH0pCgogICAgICAgICAgICBpZih0aGlzLiRkbGcubGVuZ3RoKQogICAgICAgICAgICAgICAgcmV0VmFsID0gdHJ1ZQoKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJldFZhbAogICAgfQoKICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbigkZCkgewogICAgICAgIGlmICgkKCcjemgtZ2xvYmFsLXNwaW5uZXI6dmlzaWJsZScpLmxlbmd0aCkgcmV0dXJuCiAgICAgICAgaWYgKCEkZCkgJGQgPSB0aGlzLiRkbGcKICAgICAgICBpZiAoISRkKSByZXR1cm4KICAgICAgICBpZiAoISQoJy5pemhpaHUtY29sbGVjdGlvbi1saW5rcycsICRkKS5jaGlsZHJlbigpLmxlbmd0aCkgewogICAgICAgICAgICBoYW5kbGVyKDEsIE51bWJlcih1cmwuZGF0YS5wYXJhbS5xdWVyeVsncGFnZSddKSwgJGQpCiAgICAgICAgfQogICAgfQoKfQoKLyoqCiAqIOWbnuetlOmhtQogKi8KCiAgaWYocGFnZUlzLkFuc3dlcil7Cgp2YXIgJGxibFF1ZXN0aW9uTWV0YT0kKCcjemgtcXVlc3Rpb24tbWV0YS13cmFwJykvL3F1ZXN0aW9uX21ldGEKOwoKICAgIHZhciAkcXVlc3Rpb25XcmFwPSQoJyN6aC1xdWVzdGlvbi1tZXRhLXdyYXAnKTsKICAgICRxdWVzdGlvbldyYXAuY2hpbGRyZW4oJy5wYW5lbC1jb250YWluZXInKS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICB3aW5kb3cuaVpoaWh1LkNvbW1lbnQucHJvY2Vzc0NvbW1lbnQoJChldmVudC50YXJnZXQpKTsKICAgIH0pOwogICAgaWYod2luZG93LmlaaGlodS5Db21tZW50LlJpZ2h0Q29tbWVudCl7CiAgICAgICAgLy8kcXVlc3Rpb25XcmFwLmNoaWxkcmVuKCcubWV0YS1pdGVtW25hbWU9YWRkY29tbWVudF0nKS5wcmVwZW5kVG8oJHF1ZXN0aW9uV3JhcCk7CiAgICAgICAgd2luZG93LmlaaGlodS5Db21tZW50LnByb2Nlc3NDb21tZW50QnV0dG9uKCRxdWVzdGlvbldyYXApOwogICAgICAgIGlmKCEkKCcjaXpoX1F1ZXN0aW9uU2hhZG93JykubGVuZ3RoKXsKICAgICAgICAgICAgJCgnPGRpdj4nLHsnY2xhc3MnOidpemhfYm94U2hhZG93JyxpZDonaXpoX1F1ZXN0aW9uU2hhZG93J30pLmNzcyh7CiAgICAgICAgICAgICAgICAnei1pbmRleCc6ICctMScKICAgICAgICAgICAgICAsICdwb3NpdGlvbic6ICdyZWxhdGl2ZScKICAgICAgICAgICAgICAsICd0b3AnOiAtMjUKICAgICAgICAgICAgICAsICdtYXJnaW4tbGVmdCc6IC0zMgogICAgICAgICAgICB9KS5wcmVwZW5kVG8oJ2JvZHk+Lnp1LW1haW46Zmlyc3QnKS5oaWRlKCk7CiAgICAgICAgfSAgIAogICAgfQoKICAgIC8vcHJvY2VzcyBlYWNoIGFuc3dlcgogICAgdmFyICRsaXN0QW5zd2Vycz0kKCcuem0taXRlbS1hbnN3ZXIsLmZlZWQtaXRlbScsJyN6aC1xdWVzdGlvbi1hbnN3ZXItd3JhcCcpOwogICAgaWYoJGxpc3RBbnN3ZXJzJiYkbGlzdEFuc3dlcnMubGVuZ3RoKXsKICAgICAgICAkbGlzdEFuc3dlcnMuZWFjaChmdW5jdGlvbihpLGUpewogICAgICAgICAgICB3aW5kb3cuaVpoaWh1LkFuc3dlci5wcm9jZXNzQW5zd2VyKCQoZSksbnVsbAogICAgICAgICAgICAgICwgaXpoQXV0aG9yUmVhcgogICAgICAgICAgICAgICwgZmFsc2UpOwogICAgICAgIH0pOwogICAgfQoKICAgICQoJyN6aC1xdWVzdGlvbi1hbnN3ZXItd3JhcCcpLmJpbmQoJ0RPTU5vZGVJbnNlcnRlZCcsZnVuY3Rpb24oZXZlbnQpewogICAgICAgIHZhciAkbmE9JChldmVudC50YXJnZXQpLmZpbHRlcignLnptLWl0ZW0tYW5zd2VyJyk7CiAgICAgICAgaWYoJG5hLmxlbmd0aCl7CiAgICAgICAgICAgIHdpbmRvdy5pWmhpaHUuQW5zd2VyLnByb2Nlc3NBbnN3ZXIoJG5hLG51bGwKICAgICAgICAgICAgICAgICwgaXpoQXV0aG9yUmVhcgogICAgICAgICAgICAgICAgLCBmYWxzZSk7CiAgICAgICAgfQogICAgfSk7CgogICAgdmFyICRjbT0kKCcuem0tY29tbWVudC1ib3gnLCRxdWVzdGlvbldyYXApOwogICAgaWYoJGNtLmxlbmd0aCAmJiAkY20uaXMoJzp2aXNpYmxlJykpewogICAgCXZhciBmb2N1c05hbWUgPSBpWmhpaHUuQ29tbWVudC5zY3JvbGxGb2N1c0NvbW1lbnRPblBhZ2VMb2FkKCRjbSk7CgogICAgCWlaaGlodS5Db21tZW50Lm1ldGFTY3JvbGxUb1ZpZXdCb3R0b20oJGNtLmNsb3Nlc3QoJy56bS1pdGVtLW1ldGEnKSxmdW5jdGlvbigpewogICAgICAgICAgICBpWmhpaHUuQ29tbWVudC5wcm9jZXNzQ29tbWVudCgkY20sIGZvY3VzTmFtZSk7CiAgICAgICAgfSk7CiAgICB9CiAgfQoKLyoqCiAqIOaUtuiXj+mhtQogKi8KICBpZihwYWdlSXMuQ29sbGVjdGlvbil7CiAgICAvL+a3u+WKoOaMiemSrgogICAgJCgnI3poLWxpc3QtbWV0YS13cmFwJykKICAgICAgLmFwcGVuZCgkKCc8c3Bhbj4nLCB7ICdjbGFzcyc6ICd6Zy1idWxsJyB9KS50ZXh0KCfigKInKSkKICAgICAgLmFwcGVuZCgkKCc8YT4nLCB7IGhyZWY6ICdqYXZhc2NyaXB0OjsnLCBpZDogJ2dldEFsbExpbmtzJyB9KS50ZXh0KCflnLDlnYDmuIXljZUnKSk7CgogICAgdmFyIGJ0biA9ICQoJyNnZXRBbGxMaW5rcycpOwogICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgIAogICAgLy/ms6jlhozngrnlh7vkuovku7YKICAgIGJ0bi5jbGljayhmdW5jdGlvbigpewogICAgICB2YXIgYWxsTGlua3NDb2xsZWN0aW9uPW5ldyBhbGxMaW5rcygnQ29sbGVjdGlvbnMnLCcjemgtbGlzdC1hbnN3ZXItd3JhcCcsJ+aUtuiXj+WkueWGheWuuScpOwoJICBpZighYWxsTGlua3NDb2xsZWN0aW9uLmluaXREaWFsb2coKSlyZXR1cm47CiAgICAgICQoJy5tb2RhbC1kaWFsb2ctYmcnKS5zaG93KCk7CiAgICAgIHZhciB5ID0gKCR3aW4uaGVpZ2h0KCkgLSBhbGxMaW5rc0NvbGxlY3Rpb24uJGRsZy53aWR0aCgpKSAvIDIKICAgICAgICAsIHggPSAoJHdpbi53aWR0aCgpIC0gYWxsTGlua3NDb2xsZWN0aW9uLiRkbGcud2lkdGgoKSkgLyAyCiAgICAgIDsKICAgICAgYWxsTGlua3NDb2xsZWN0aW9uLiRkbGcuY3NzKHsndG9wJzogeSwgJ2xlZnQnOiB4fSkuZmFkZUluKCdzbG93Jyk7CiAgICAgIGFsbExpbmtzQ29sbGVjdGlvbi5zdGFydCgpOwogICAgfSk7CiAgfQogIGlmKHBhZ2VJcy5BbnN3ZXJzKXsKICAgIC8v5re75Yqg5oyJ6ZKuCiAgICAkKCcuem0tcHJvZmlsZS1zZWN0aW9uLW5hbWUnKQogICAgICAuYXBwZW5kKCQoJzxzcGFuPicsIHsgJ2NsYXNzJzogJ3pnLWJ1bGwnIH0pLnRleHQoJ+KAoicpKQogICAgICAuYXBwZW5kKCQoJzxhPicsIHsgaHJlZjogJ2phdmFzY3JpcHQ6OycsIGlkOiAnZ2V0QWxsTGlua3MnIH0pLnRleHQoJ+WcsOWdgOa4heWNlScpKTsKCiAgICB2YXIgYnRuID0gJCgnI2dldEFsbExpbmtzJyk7CiAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgICAgCiAgICAvL+azqOWGjOeCueWHu+S6i+S7tgogICAgYnRuLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgIHZhciBhbGxMaW5rc0Fuc3dlcnM9bmV3IGFsbExpbmtzKCdBbnN3ZXJzJywnI3poLXByb2ZpbGUtYW5zd2VyLWxpc3QnLCfnlKjmiLflm57nrZQnKTsKCSAgaWYoIWFsbExpbmtzQW5zd2Vycy5pbml0RGlhbG9nKCkpcmV0dXJuOwogICAgICAkKCcubW9kYWwtZGlhbG9nLWJnJykuc2hvdygpOwogICAgICB2YXIgeSA9ICgkd2luLmhlaWdodCgpIC0gYWxsTGlua3NBbnN3ZXJzLiRkbGcud2lkdGgoKSkgLyAyCiAgICAgICAgLCB4ID0gKCR3aW4ud2lkdGgoKSAtIGFsbExpbmtzQW5zd2Vycy4kZGxnLndpZHRoKCkpIC8gMgogICAgICA7CiAgICAgIGFsbExpbmtzQW5zd2Vycy4kZGxnLmNzcyh7J3RvcCc6IHksICdsZWZ0JzogeH0pLmZhZGVJbignc2xvdycpOwogICAgICBhbGxMaW5rc0Fuc3dlcnMuc3RhcnQoKTsKICAgIH0pOwogIH0KCiAgaWYocGFnZUlzLk15Q29sbGVjdGlvbiYmd2luZG93LmlaaGlodS5RdWlja0Zhdm8pewogICAgdmFyICRmYXZJdGVtcz0kKCcjemgtZmF2bGlzdHMtd3JhcCcpLmNoaWxkcmVuKCcuem0taXRlbScpOwogICAgJGZhdkl0ZW1zLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgIH0pOwogIH0KCi8qCiAqIOmmlumhtQogKi8KICAgIHZhciAkdG9wc3Rvcnk9JCgnI2lzLXRvcHN0b3J5MicpCiAgICAgICwgaXNUb3BTdG9yeT0kdG9wc3RvcnkmJiR0b3BzdG9yeS5sZW5ndGgKICAgICAgLCBwcm9wRmVlZFR5cGU9J2RhdGEtdHlwZScvLzonZGF0YS1mZWVkdHlwZScKICAgICAgLCAkbGJsSG9tZVRpdGxlPSQoJyN6aC1ob21lLWxpc3QtdGl0bGUnKS8vYWN0aXZpdHlfY2FwdGlvbgogICAgICAsICRidG5OZXdBY3Rpdml0eT0kKCcjemgtbWFpbi1mZWVkLWZyZXNoLWJ1dHRvbicpLy9uZXdfYWN0aXZpdHkKICAgICAgLCAkZmVlZExpc3Q9JCgnLnpoLWdlbmVyYWwtbGlzdCcpLy9mZWVkX2xpc3QKICAgICAgLCAkdG9wTGlua0hvbWU9JCgnI3poLXRvcC1saW5rLWhvbWUnKQogICAgICAsICRmaWx0ZXI9Ly9pc1RvcFN0b3J5PwogICAgICAgICAgICAkKCc8c3Bhbj4nLCB7ICdjbGFzcyc6J2l6aC1mZWVkcy1maWx0ZXInIH0pCiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxhPicsIHsgJ2NsYXNzJzogJ2l6aC1idXR0b24gaXpoLWZlZWRzLWZpbHRlci1vcHRpb24nLCAnc2hvd0ZlZWRzJzogJ3EnIH0pCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICd6Zy1pY29uJyB9KSkKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCfpl67popgnKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nLCB7ICdjbGFzcyc6ICdpemgtYnV0dG9uIGl6aC1mZWVkcy1maWx0ZXItb3B0aW9uJywgJ3Nob3dGZWVkcyc6ICdhJyB9KQogICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnemctaWNvbicgfSkpCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgn5Zue562UJykKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGE+JywgeyAnY2xhc3MnOiAnaXpoLWJ1dHRvbiBpemgtZmVlZHMtZmlsdGVyLW9wdGlvbicsICdzaG93RmVlZHMnOiAncCxyJywgJ2RhdGEtdGlwJzogJ3MkdCTkuJPmoI/jgIHlnIbmoYwnIH0pCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICd6Zy1pY29uJyB9KSkKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCflhbbku5YnKQogICAgICAgICAgICAgICAgKQogICAgICAsICRmaWx0ZXJJbmZvPSQoJzxhPicseydjbGFzcyc6J2l6aC1mZWVkcy1maWx0ZXItaW5mbyBub3RoaW5nJyxocmVmOidqYXZhc2NyaXB0OnZvaWQoMCk7J30pLm9uKCdjbGljaycsZnVuY3Rpb24oKXskZmlsdGVyLnRyaWdnZXIoJGZpbHRlci5pcygnOmhpZGRlbicpfHwkZmlsdGVyLmF0dHIoJ2RvaW5nJyk9PSdoaWRlJz8nc2hvdyc6J2hpZGUnKTt9KQogICAgICAsIFNob3dGZWVkcz1mdW5jdGlvbih0eXBlLGVuYWJsZSl7CiAgICAgICAgICAgIHZhciBpZD0iaXpoQ1NTX0ZpbHRlckZlZWRfIit0eXBlCiAgICAgICAgICAgICAgLCBuZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkKICAgICAgICAgICAgOwogICAgICAgICAgICBpZihlbmFibGUpewogICAgICAgICAgICAgICAgaWYobmQpbmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuZCk7CiAgICAgICAgICAgIH1lbHNlIGlmKGhlYWRzLmxlbmd0aCl7CiAgICAgICAgICAgICAgICBpZighbmQpewogICAgICAgICAgICAgICAgICAgIG5kPV9kb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgICAgICAgICBuZC50eXBlPSd0ZXh0L2Nzcyc7CiAgICAgICAgICAgICAgICAgICAgbmQuaWQ9aWQ7CiAgICAgICAgICAgICAgICAgICAgbmQuYXBwZW5kQ2hpbGQoX2RvYy5jcmVhdGVUZXh0Tm9kZSgnLmZlZWQtaXRlbVsnK3Byb3BGZWVkVHlwZSsnXj0iJyt0eXBlKyciXXtkaXNwbGF5Om5vbmV9JykpOwogICAgICAgICAgICAgICAgICAgIGhlYWRzWzBdLmFwcGVuZENoaWxkKG5kKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8ve1JPVU5EVEFCTEVfQUREX1JFTEFURUQ6ICJyb3VuZHRhYmxlIixBUlRJQ0xFX1ZPVEVfVVA6ICJwb3N0X3ZvdGUiLEFSVElDTEVfQ1JFQVRFOiAicG9zdF9jcmVhdGUiLFJFQ09NTUVOREVEOiAiZmVlZF9yZWNvbW1lbmRlZCIsUVVFU1RJT05fRk9MTE9XOiAiZmVlZF9xdWVzdGlvbl9mb2xsb3ciLFFVRVNUSU9OX0NSRUFURTogImZlZWRfcXVlc3Rpb24iLEFOU1dFUl9WT1RFX1VQOiAiZmVlZF9hbnN3ZXJfdm90ZSIsQU5TV0VSX0NSRUFURTogImZlZWRfYW5zd2VyX2Fuc3dlciJ9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAsIHJlZnJlc2hGaWx0ZXJJbmZvPWZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBjb3VudD0kZmVlZExpc3QuY2hpbGRyZW4oJy5mZWVkLWl0ZW06aGlkZGVuJykubGVuZ3RoCiAgICAgICAgICAgICAgLCBpbmZvPScgPui/h+a7pOmAiemhuTwnCiAgICAgICAgICAgIDsKICAgICAgICAgICAgaWYoY291bnQpewogICAgICAgICAgICAgICAgaW5mbz0n77yIJytjb3VudCsn5p2h5Yqo5oCB6KKr6ZqQ6JeP77yJJzsKICAgICAgICAgICAgICAgICRmaWx0ZXJJbmZvLnJlbW92ZUNsYXNzKCdub3RoaW5nJykuY3NzKHtkaXNwbGF5OicnfSk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgJGZpbHRlckluZm8uYWRkQ2xhc3MoJ25vdGhpbmcnKTsKICAgICAgICAgICAgfSAgIAogICAgICAgICAgICAkZmlsdGVySW5mby50ZXh0KGluZm8pOwogICAgICAgIH0KICAgICAgLCBmZWVkc0NvbHVtbnM9ZnVuY3Rpb24oKXsgLy8gSW1wbGVtZW50ZWQgYnkgbW9ybGV5LCBtb2RpZmllZCBieSB1bm9negogICAgICAgICAgICAvL+WKqOaAgeeahOexu+WeiwogICAgICAgICAgICB2YXIgZmVlZFR5cGVzID0gLy9pc1RvcFN0b3J5PwogICAgICAgICAgICAgICAgW3sKICAgICAgICAgICAgICAgICBpbmRleDogMCwKICAgICAgICAgICAgICAgICBuYW1lOiAn5YWo6YOoJywKICAgICAgICAgICAgICAgICBjb2RlTmFtZTogJycKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICBpbmRleDogMSwKICAgICAgICAgICAgICAgICBuYW1lOiAn6Zeu6aKYJywKICAgICAgICAgICAgICAgICBjb2RlTmFtZTogJ3EnCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgaW5kZXg6IDIsCiAgICAgICAgICAgICAgICAgbmFtZTogJ+WbnuetlCcsCiAgICAgICAgICAgICAgICAgY29kZU5hbWU6ICdhJwogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgIGluZGV4OiAzLAogICAgICAgICAgICAgICAgIG5hbWU6ICfkuJPmoI8nLAogICAgICAgICAgICAgICAgIGNvZGVOYW1lOiAncCcKICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAKICAgICAgICAgICAgLy/oh6rlrprkuYkgQ1NTIOWIsCBoZWFkCiAgICAgICAgICAgIHZhciBzdHlsZXMgPSBbXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHN0eWxlcy5wdXNoKCcuemEtZmlsdGVye2Rpc3BsYXk6IGlubGluZS1ibG9jazttYXJnaW4tcmlnaHQ6MTBweDtjdXJzb3I6cG9pbnRlcjtjb2xvcjojOTk5O30nKTsKICAgICAgICAgICAgc3R5bGVzLnB1c2goJy56YS1maWx0ZXIuYWN0aXZle2NvbG9yOiMyNTk7fScpOwogICAgICAgICAgICBzdHlsZXMucHVzaCgnLnphLWZpbHRlcj4uemctbnVtLmhpZGV7ZGlzcGxheTpub25lO30nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgICQoJzxzdHlsZS8+JykudGV4dChzdHlsZXMuam9pbignJykpLmFwcGVuZFRvKCdoZWFkJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgJHpoSG9tZUxpc3RUaXRsZSA9ICRsYmxIb21lVGl0bGU7CiAgICAgICAgICAgIAogICAgICAgICAgICAvL+agueaNruexu+Wei+a3u+WKoOi/h+a7pOaMiemSriDliLAgI3poLWhvbWUtbGlzdC10aXRsZQogICAgICAgICAgICB2YXIgZmlsdGVyQnRucyA9IFtdCiAgICAgICAgICAgICAgLCBpID0gZmVlZFR5cGVzLmxlbmd0aDsKICAgICAgICAgICAgCiAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgIGZpbHRlckJ0bnMucHVzaCgKICAgICAgICAgICAgICAgICAkKCc8c3Bhbj4nKS5hZGRDbGFzcygnemEtZmlsdGVyJykKICAgICAgICAgICAgICAgICAuYXR0cigndHlwZUluZGV4JywgZmVlZFR5cGVzW2ldLmluZGV4KQogICAgICAgICAgICAgICAgIC50ZXh0KGZlZWRUeXBlc1tpXS5uYW1lKQogICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNwYW4+JywgeyAnY2xhc3MnOiAnemctbnVtJyB9KS5hZGRDbGFzcygnaGlkZScpKQogICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCB0b2dnbGVGZWVkVHlwZSkKICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZpbHRlckJ0bnMucmV2ZXJzZSgpOwogICAgICAgICAgICBmaWx0ZXJCdG5zWzBdLmFkZENsYXNzKCdhY3RpdmUnKTsKCiAgICAgICAgICAgICR6aEhvbWVMaXN0VGl0bGUuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgIHJldHVybiAoZSE9bnVsbCYmKGUubm9kZVZhbHVlfHwnJykuaW5kZXhPZign5pyA5paw5Yqo5oCBJyk+PTApCiAgICAgICAgICAgIH0pLnJlbW92ZSgpCiAgICAgICAgICAgICR6aEhvbWVMaXN0VGl0bGUuZmluZCgnaScpLmVxKDApLmFmdGVyKGZpbHRlckJ0bnMpLnJlbW92ZSgpOwogICAgICAgICAgICAKICAgICAgICAgICAgdmFyICR0YXJnZXRaZXJvID0gZmlsdGVyQnRuc1swXS5maW5kKCcuemctbnVtJykKICAgICAgICAgICAgICAsIGN1cmZlZWRUeXBlQ29kZU5hbWUgPSAnJwogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gdHlwZU1hdGNoKCRlbGVtKSB7CiAgICAgICAgICAgICBpZiAoY3VyZmVlZFR5cGVDb2RlTmFtZSA9PSAnJykgewogICAgICAgICAgICAgICAgICRlbGVtLnNob3coKTsKICAgICAgICAgICAgIH0gZWxzZSBpZiAoMCA8PSAkZWxlbS5hdHRyKHByb3BGZWVkVHlwZSkuaW5kZXhPZihjdXJmZWVkVHlwZUNvZGVOYW1lKSkgewogICAgICAgICAgICAgICAgICRlbGVtLnNob3coKTsKICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgJGVsZW0uaGlkZSgpOwogICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvL+aMiemSruS6i+S7tgogICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVGZWVkVHlwZSgpIHsKICAgICAgICAgICAgIHZhciAkY2xpY2tlZCA9ICQodGhpcyk7CiAgICAgICAgICAgICAkY2xpY2tlZE51bSA9ICRjbGlja2VkLmZpbmQoJy56Zy1udW0nKTsKICAgICAgICAgICAgIC8vIOS6pOS6kuaViOaenAogICAgICAgICAgICAgZmlsdGVyQnRucy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgICAgICAgICAgICBpdGVtLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsKICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgICRjbGlja2VkLmFkZENsYXNzKCdhY3RpdmUnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgICBpZiAoJGNsaWNrZWQuYXR0cigndHlwZUluZGV4JykgPT0gMCkgewogICAgICAgICAgICAgICAgICQoJy56Zy1udW0nLCAnLnphLWZpbHRlcicpLnRleHQoJycpLmFkZENsYXNzKCdoaWRlJyk7CiAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgIHZhciB0b3RhbFVucmVhZCA9IChwYXJzZUludCgkdGFyZ2V0WmVyby50ZXh0KCkpIHx8IDApIC0gKHBhcnNlSW50KCRjbGlja2VkTnVtLnRleHQoKSkgfHwgMCk7CiAgICAgICAgICAgICAgICAgaWYgKHRvdGFsVW5yZWFkICE9IDApIHsKICAgICAgICAgICAgICAgICAgICAgJHRhcmdldFplcm8udGV4dCh0b3RhbFVucmVhZCk7CiAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgJHRhcmdldFplcm8udGV4dCgnJykuYWRkQ2xhc3MoJ2hpZGUnKTsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICRjbGlja2VkTnVtLnRleHQoJycpLmFkZENsYXNzKCdoaWRlJyk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICBjdXJmZWVkVHlwZUNvZGVOYW1lID0gZmVlZFR5cGVzWyRjbGlja2VkLmF0dHIoJ3R5cGVJbmRleCcpXS5jb2RlTmFtZTsKICAgICAgICAgICAgIC8vIOS/oeaBr+a1gei/h+a7pAogICAgICAgICAgICAgJCgnLmZlZWQtaXRlbScpLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgdHlwZU1hdGNoKCQodGhpcykpOwogICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFR5cGVJbmRleEJ5Q29kZU5hbWUoY29kZU5hbWUpIHsKICAgICAgICAgICAgIHZhciBpID0gZmVlZFR5cGVzLmxlbmd0aDsKICAgICAgICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgICAgICAgICBpZiAoY29kZU5hbWUgPT0gZmVlZFR5cGVzW2ldLmNvZGVOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7CiAgICAgICAgICAgIAogICAgICAgICAgICAvL+ebkeWQrOaOqOmAgQogICAgICAgICAgICB2YXIgaGFzTmV3RmVlZCA9IGZhbHNlOwogICAgICAgICAgICAvL2NyZWF0ZSBhbiBvYnNlcnZlciBpbnN0YW5jZQogICAgICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihtdXRhdGlvbnMpIHsKICAgICAgICAgICAgIGlmICggISEgcGFyc2VJbnQoJGJ0bk5ld0FjdGl2aXR5LnRleHQoKSkpIHsKICAgICAgICAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbihtdXRhdGlvbikgewogICAgICAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYXMgTmV3IEZlZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOacieaWsOaOqOmAgeWImeinpuWPkeS5iwogICAgICAgICAgICAgICAgICAgICAgICAgaGFzTmV3RmVlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAkYnRuTmV3QWN0aXZpdHkudGV4dCgnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAkLndoZW4oJGJ0bk5ld0FjdGl2aXR5WzBdLmNsaWNrKCkpLmRvbmUoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzTmV3RmVlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy9wYXNzIGluIHRoZSB0YXJnZXQgbm9kZSwgYXMgd2VsbCBhcyB0aGUgb2JzZXJ2ZXIgb3B0aW9ucwogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKAogICAgICAgICAgICAgJGJ0bk5ld0FjdGl2aXR5WzBdLCB7CiAgICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlCiAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8v55uR5ZCs5o+S5YWlCiAgICAgICAgICAgICRmZWVkTGlzdC5vbigiRE9NTm9kZUluc2VydGVkIiwgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgdmFyICRzZWxmID0gJChlLnRhcmdldCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAgaWYgKCRzZWxmLmhhc0NsYXNzKCdmZWVkLWl0ZW0nKSkgewogICAgICAgICAgICAgICAgIGlmIChoYXNOZXdGZWVkKSB7CiAgICAgICAgICAgICAgICAgICAgICRzZWxmLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgdmFyICR0YXJnZXQgPSBmaWx0ZXJCdG5zW2dldFR5cGVJbmRleEJ5Q29kZU5hbWUoJHNlbGYuYXR0cihwcm9wRmVlZFR5cGUpKV0uZmluZCgnLnpnLW51bScpOwogICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0LnRleHQoKHBhcnNlSW50KCR0YXJnZXQudGV4dCgpKSB8fCAwKSArIDEpLnJlbW92ZUNsYXNzKCdoaWRlJyk7CiAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRaZXJvLnRleHQoKHBhcnNlSW50KCR0YXJnZXRaZXJvLnRleHQoKSkgfHwgMCkgKyAxKS5yZW1vdmVDbGFzcygnaGlkZScpOwogICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgIHR5cGVNYXRjaCgkc2VsZik7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAsIGhvbWVGZWVkcz1mdW5jdGlvbihpemhIb21lRmVlZHNDb2x1bW5zKXsKICAgICAgICAgICAgaWYgKGl6aEhvbWVGZWVkc0NvbHVtbnMpewogICAgICAgICAgICAgICAgZmVlZHNDb2x1bW5zKCk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgJGZpbHRlci5jaGlsZHJlbignLml6aC1mZWVkcy1maWx0ZXItb3B0aW9uJykuYWRkQ2xhc3MoJ29uJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgIHZhciBpPTAKICAgICAgICAgICAgICAgICAgICAgICwgJGU9JCh0aGlzKQogICAgICAgICAgICAgICAgICAgICAgLCBmcz0kZS5hdHRyKCdzaG93RmVlZHMnKQogICAgICAgICAgICAgICAgICAgICAgLCBmYT1mcy5zcGxpdCgnLCcpCiAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICQoJy5pemgtZmVlZHMtZmlsdGVyLW9wdGlvbltzaG93RmVlZHM9IicrZnMrJyJdJykudG9nZ2xlQ2xhc3MoJ29uJyk7CiAgICAgICAgICAgICAgICAgICAgZm9yKDtpPGZhLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgICAgICBTaG93RmVlZHMoZmFbaV0sJGUuaXMoJy5vbicpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbHRlckluZm8oKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYoJHRvcExpbmtIb21lLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRmaWx0ZXIyPSQoJzxkaXY+JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jc3Moe3Bvc2l0aW9uOidhYnNvbHV0ZScsYm9yZGVyOicxcHggc29saWQgIzc3NycsYmFja2dyb3VuZENvbG9yOicjZmZmJ30pLmhpZGUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkZmlsdGVyLmNsb25lKHRydWUsdHJ1ZSkuY3NzKHtkaXNwbGF5OidibG9jayd9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbignc2hvdycsZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JCh0aGlzKS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGUuaXMoJzpoaWRkZW4nKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuY3NzKHtkaXNwbGF5OicnLG9wYWNpdHk6MH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuYW5pbWF0ZSh7b3BhY2l0eToxfSwnc2xvdycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbignaGlkZScsZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JCh0aGlzKS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuZmFkZU91dCgnc2xvdycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgJHRvcExpbmtIb21lLmFmdGVyKCRmaWx0ZXIyKS5wYXJlbnQoKQogICAgICAgICAgICAgICAgICAgICAgICAub24oJ21vdXNlZW50ZXInLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZT0kKHRoaXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJGY9JGUuY2hpbGRyZW4oKS5sYXN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmLnRyaWdnZXIoJ3Nob3cnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmaWx0ZXJJbmZvLmZpbHRlcignLm5vdGhpbmcnKS5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignbW91c2VsZWF2ZScsZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRlPSQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkZj0kZS5jaGlsZHJlbigpLmxhc3QoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGYudHJpZ2dlcignaGlkZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZpbHRlckluZm8uZmlsdGVyKCcubm90aGluZycpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZigkbGJsSG9tZVRpdGxlLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgJGZpbHRlckluZm8uY3NzKHsKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTonbm9uZScKICAgICAgICAgICAgICAgICAgICAgICwgdGV4dERlY29yYXRpb246J25vbmUnCiAgICAgICAgICAgICAgICAgICAgICAsIGN1cnNvcjoncG9pbnRlcicKICAgICAgICAgICAgICAgICAgICB9KS5pbnNlcnRCZWZvcmUoaXNUb3BTdG9yeT8kdG9wc3Rvcnk6JCgnI2ZlZWQtdmVyJykpOwogICAgICAgICAgICAgICAgICAgICRsYmxIb21lVGl0bGUuY3NzKHtvdmVyZmxvdzonaGlkZGVuJ30pCiAgICAgICAgICAgICAgICAgICAgICAgIC5wcmVwZW5kKCRmaWx0ZXIpCiAgICAgICAgICAgICAgICAgICAgICAgIC8vLmNoaWxkcmVuKCdpOmZpcnN0JykKICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdtb3VzZWVudGVyJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JCh0aGlzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICRmPSRlLmNoaWxkcmVuKCcuaXpoLWZlZWRzLWZpbHRlci1pbmZvLm5vdGhpbmcnKS5zdG9wKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRmLmlzKCc6aGlkZGVuJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGYuY3NzKHtkaXNwbGF5OicnLG9wYWNpdHk6MH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZi5hbmltYXRlKHtvcGFjaXR5OjF9LCdmYXN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignbW91c2VsZWF2ZScsZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRlPSQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkZj0kZS5jaGlsZHJlbignLml6aC1mZWVkcy1maWx0ZXItaW5mby5ub3RoaW5nJykuc3RvcCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZi5mYWRlT3V0KCdmYXN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICRmaWx0ZXIuY3NzKHttYXJnaW5MZWZ0Oi0kZmlsdGVyLndpZHRoKCksZGlzcGxheTonbm9uZSd9KQogICAgICAgICAgICAgICAgICAgICAgICAub24oJ3Nob3cnLGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JCh0aGlzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRlLmF0dHIoJ2RvaW5nJyk9PT0nc2hvdycpcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuYXR0cignZG9pbmcnLCdzaG93Jykuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGUuaXMoJzpoaWRkZW4nKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZS5jc3Moe2Rpc3BsYXk6Jyd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUuYW5pbWF0ZSh7bWFyZ2luTGVmdDowfSwnc2xvdycsZnVuY3Rpb24oKXskKHRoaXMpLmNzcygnZGlzcGxheScsJycpLnJlbW92ZUF0dHIoJ2RvaW5nJyk7fSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignaGlkZScsZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZT0kKHRoaXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGUuYXR0cignZG9pbmcnKT09PSdoaWRlJylyZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZS5hdHRyKCdkb2luZycsJ2hpZGUnKS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZS5hbmltYXRlKHttYXJnaW5MZWZ0Oi0kZmlsdGVyLndpZHRoKCl9LCdzbG93JyxmdW5jdGlvbigpeyQodGhpcykuY3NzKCdkaXNwbGF5Jywnbm9uZScpLnJlbW92ZUF0dHIoJ2RvaW5nJyk7fSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignbW91c2VlbnRlcicsZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRlPSQodGhpcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlLnRyaWdnZXIoJ3Nob3cnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdtb3VzZWxlYXZlJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGU9JCh0aGlzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGUudHJpZ2dlcignaGlkZScpOwogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICByZWZyZXNoRmlsdGVySW5mbygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgOwogICAgaWYocGFnZUlzLkhvbWV8fHBhZ2VJcy5EZWJ1dHMpewogICAgICAgICRmZWVkTGlzdC5maW5kKCcuZmVlZC1pdGVtJykuZWFjaChmdW5jdGlvbihpLGUpewogICAgICAgICAgICB3aW5kb3cuaVpoaWh1LkFuc3dlci5wcm9jZXNzQW5zd2VyKCQoZSksbnVsbAogICAgICAgICAgICAgICwgaXpoQXV0aG9yUmVhcgogICAgICAgICAgICAgICwgaXpoQXV0aG9yTGlzdAogICAgICAgICAgICApOwogICAgICAgIH0pOwogICAgICAgICRmZWVkTGlzdC5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgdmFyICRpdGVtPSQoZXZlbnQudGFyZ2V0KTsKICAgICAgICAgICAgaWYoJGl0ZW0uaXMoJy5mZWVkLWl0ZW0nKSl7CiAgICAgICAgICAgICAgICB3aW5kb3cuaVpoaWh1LkFuc3dlci5wcm9jZXNzQW5zd2VyKCRpdGVtLG51bGwKICAgICAgICAgICAgICAgICAgLCAkYm9keS5hdHRyKCdpemhBdXRob3JSZWFyJyk9PScxJwogICAgICAgICAgICAgICAgICAsICRib2R5LmF0dHIoJ2l6aEF1dGhvckxpc3QnKT09JzEnCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgcmVmcmVzaEZpbHRlckluZm8oKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgIGlmIChwYWdlSXMuSG9tZSl7CiAgICAJdmFyIGJIb21lRmVlZHNDb2x1bW5zPXdpbmRvdy5pWmhpaHUuY29uZmlnWydIb21lRmVlZHNDb2x1bW5zJ10KICAgICAgICBpZiAoaXpoSG9tZU5vdGkmJiFiSG9tZUZlZWRzQ29sdW1ucwogICAgICAgICAmJiAkbGJsSG9tZVRpdGxlLmxlbmd0aAogICAgICAgICAmJiAkYnRuTmV3QWN0aXZpdHkubGVuZ3RoCiAgICAgICAgKXsKICAgICAgICAgICAgJGxibEhvbWVUaXRsZS5jc3MoewogICAgICAgICAgICAgICAgJ2Zsb2F0JzonbGVmdCcKICAgICAgICAgICAgICAsICdtYXJnaW4tYm90dG9tJzonMnB4JwogICAgICAgICAgICAgICwgJ2xpbmUtaGVpZ2h0JzonMzJweCcKICAgICAgICAgICAgICAsICd3aWR0aCc6JzEwMCUnCiAgICAgICAgICAgICAgfSkubmV4dCgpLmNzcygnY2xlYXInLCdib3RoJyk7CiAgICAgICAgICAgICRidG5OZXdBY3Rpdml0eS5jc3MoewogICAgICAgICAgICAgICAgJ2Zsb2F0JzoncmlnaHQnCiAgICAgICAgICAgICAgLCAnbWFyZ2luJzonMCcKICAgICAgICAgICAgICAsICdsaW5lLWhlaWdodCc6JzIycHgnCiAgICAgICAgICAgIH0pLmFwcGVuZFRvKCRsYmxIb21lVGl0bGUpOwogICAgICAgIH0KICAgICAgICBob21lRmVlZHMoYkhvbWVGZWVkc0NvbHVtbnMpOwogICAgfQoKCi8qKgogKiDpl67popjpobUKICovCgogIGlmKHBhZ2VJcy5RdWVzdGlvbil7CgogICAgdmFyICRsYmxRdWVzdGlvbk1ldGE9JCgnI3poLXF1ZXN0aW9uLW1ldGEtd3JhcCcpLy9xdWVzdGlvbl9tZXRhCiAgICAgICwgJGxpc3RBbnN3ZXJzPSQoJyN6aC1xdWVzdGlvbi1hbnN3ZXItd3JhcCwjemgtcXVlc3Rpb24tY29sbGFwc2VkLXdyYXAnKS5jaGlsZHJlbigpLy8kKCcuem0taXRlbS1hbnN3ZXInLCcjemgtc2luZ2xlLXF1ZXN0aW9uJykKICAgICAgLCBudW1BbnN3ZXJzQ291bnQ9JGxpc3RBbnN3ZXJzLmxlbmd0aAogICAgICAsICRidG5Db2xsYXBzZWRTd2l0Y2hlcj0kKCcjemgtcXVlc3Rpb24tY29sbGFwc2VkLXN3aXRjaGVyJykKICAgICAgLCBudW1Db2xsYXBzZWRDb3VudD0hJGJ0bkNvbGxhcHNlZFN3aXRjaGVyLmxlbmd0aHx8JGJ0bkNvbGxhcHNlZFN3aXRjaGVyLmlzKCc6aGlkZGVuJyk/MDpwYXJzZUludCgkKCcjemgtcXVlc3Rpb24tY29sbGFwc2VkLW51bScpLnRleHQoKSkKICAgICAgLCBudW1BbnN3ZXJzQ291bnRUb3RhbD1udW1BbnN3ZXJzQ291bnQrbnVtQ29sbGFwc2VkQ291bnQKICAgICAgLCAkcmVwbHk9JCgnI3poLXF1ZXN0aW9uLWFuc3dlci1mb3JtLXdyYXAnKS8vcmVwbHlfZm9ybQogICAgOwogICAgaWYoJGxibFF1ZXN0aW9uTWV0YS5sZW5ndGgpewogICAgICAgIHZhciBzPW5ldyBBcnJheSgpCiAgICAgICAgICAsICRhPSQoJzxhPicpCiAgICAgICAgICAsICRjPSQoJzxzcGFuPicseydjbGFzcyc6J3pnLWJ1bGwnfSkudGV4dCgn4oCiJykKICAgICAgICAgICwgJHA9JGxibFF1ZXN0aW9uTWV0YS5jaGlsZHJlbignLnptLW1ldGEtcGFuZWwnKS5jaGlsZHJlbignYS5tZXRhLWl0ZW06bGFzdCcpCiAgICAgICAgICAsICRtPSQoJy56dS1hbnN3ZXItZm9ybS1kaXNhYmxlZC13cmFwOnZpc2libGUgPiBhJywnI3poLXF1ZXN0aW9uLWFuc3dlci1mb3JtLXdyYXAnKQogICAgICAgIDsKICAgICAgICBpZigkbS5sZW5ndGgpewogICAgICAgICAgICBzLnB1c2goJG0uYXR0cignaHJlZicpKTsKICAgICAgICAgICAgJGEudGV4dCgn5oiR55qE5Zue562UJyk7CiAgICAgICAgfWVsc2UgaWYoJHJlcGx5Lmxlbmd0aCl7CiAgICAgICAgICAgIHZhciBpZD0nbmV3X2Fuc3dlcicKICAgICAgICAgICAgICAsICRiPSQoJzxhPicse25hbWU6aWR9KS5iZWZvcmUoJHJlcGx5LmNoaWxkcmVuKCkuZmlyc3QoKSk7CiAgICAgICAgICAgIHMucHVzaCgnI2RyYWZ0Jyk7CiAgICAgICAgICAgICRhLnRleHQoJ+aIkeimgeWbnuetlCcpOwogICAgICAgIH0KICAgICAgICAkYy5pbnNlcnRBZnRlcigkcCk7CiAgICAgICAgJGEuYXR0cignaHJlZicscy5qb2luKCcnKSkuYXR0cigndGFyZ2V0JywnX3NlbGYnKQogICAgICAgICAgICAuaW5zZXJ0QWZ0ZXIoJGMpOwogICAgfQogICAgaWYgKGl6aEF1dGhvckxpc3QmJgogICAgICAgIG51bUFuc3dlcnNDb3VudFRvdGFsPjEwMCYmCiAgICAgICAgY29uZmlybSgn6L+Z5Liq6Zeu6aKY55qE5Zue562U5pWw6L6D5aSa77yM5piv5ZCm5pqC5pe25YWz6Zet44CMaVpoaWh1IOWbnuetlOebruW9leOAje+8nycpKXsKICAgICAgICAvLyQoJyNpemhDU1NfY29tbWVudCcpLnJlbW92ZSgpOwogICAgICAgIC8vcmV0dXJuOwogICAgICAgIGl6aEF1dGhvckxpc3Q9ZmFsc2U7CiAgICAgICAgJGJvZHkuYXR0cignaXpoQXV0aG9yTGlzdCcsJzAnKTsKICAgIH0KICAgIC8vY29uc29sZS5sb2coKG5ldyBEYXRlKCkpLmdldFRpbWUoKSk7CiAgICAKICAgIHZhciAkbGJsQW5zd2Vyc0NvdW50PSQoJyN6aC1xdWVzdGlvbi1hbnN3ZXItbnVtJykvL2Fuc3dlcnNfY291bnQKICAgICAgLCAkdW5vPSQoJzxkaXY+Jyx7J2NsYXNzJzondW5vJyxzdHlsZTonZmxvYXQ6bGVmdCd9KS8vaXpoX0F1dGhvcnNMaXN0CiAgICAgICwgJHBwVD0kKCc8c3Bhbj4nLHsnY2xhc3MnOidtZVQnLHN0eWxlOidkaXNwbGF5Om5vbmUnfSkvL2l6aF9BdXRob3JzTGlzdF9Ub3BTZWxmSW5kaWNhdG9yCiAgICAgICwgJGZybT0kKCc8ZGl2PicseydjbGFzcyc6J2ZyYW1lJ30pLy9pemhfQXV0aG9yc0xpc3RfZnJhbWUKICAgICAgLCAkcHBCPSQoJzxzcGFuPicseydjbGFzcyc6J21lQicsc3R5bGU6J2Rpc3BsYXk6bm9uZSd9KS8vaXpoX0F1dGhvcnNMaXN0X0JvdHRvbVNlbGZJbmRpY2F0b3IKICAgICAgLCAkcHA9JCgnPHVsPicseydjbGFzcyc6J3BwJ30pLy9pemhfQXV0aG9yc0xpc3RfVUwKICAgICAgLCAkcHBJPSQoJzxkaXY+JykKICAgIAogICAgOwoKICAgIHdpbmRvdy5pWmhpaHUuJHVub0Fuc3dlcnMgPSAkdW5vCi8qCiAgICAvL+etlOahiOaMieaXtumXtOaOkuW6jwogICAgaWYodXRpbHMuZ2V0Q2ZnKCdhbnN3ZXJfb3JkZXJCeVRpbWUnKSl7CiAgICAgIGNsaWVudC5jbGljaygnLnpoLWFuc3dlcnMtZmlsdGVyLXBvcHVwIGRpdltkYXRhLWtleT1hZGRlZF90aW1lXScpOwogICAgfQoqLyAgICAKICAgIHZhciAkcXVlc3Rpb25XcmFwPSQoJyN6aC1xdWVzdGlvbi1tZXRhLXdyYXAnKTsKICAgICRxdWVzdGlvbldyYXAuY2hpbGRyZW4oJy5wYW5lbC1jb250YWluZXInKS5iaW5kKCdET01Ob2RlSW5zZXJ0ZWQnLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICB3aW5kb3cuaVpoaWh1LkNvbW1lbnQucHJvY2Vzc0NvbW1lbnQoJChldmVudC50YXJnZXQpKTsKICAgIH0pOwogICAgaWYod2luZG93LmlaaGlodS5Db21tZW50LlJpZ2h0Q29tbWVudCl7CiAgICAgICAgLy8kcXVlc3Rpb25XcmFwLmNoaWxkcmVuKCcubWV0YS1pdGVtW25hbWU9YWRkY29tbWVudF0nKS5wcmVwZW5kVG8oJHF1ZXN0aW9uV3JhcCk7CiAgICAgICAgd2luZG93LmlaaGlodS5Db21tZW50LnByb2Nlc3NDb21tZW50QnV0dG9uKCRxdWVzdGlvbldyYXApOwogICAgICAgIGlmKCEkKCcjaXpoX1F1ZXN0aW9uU2hhZG93JykubGVuZ3RoKXsKICAgICAgICAgICAgJCgnPGRpdj4nLHsnY2xhc3MnOidpemhfYm94U2hhZG93JyxpZDonaXpoX1F1ZXN0aW9uU2hhZG93J30pLmNzcyh7CiAgICAgICAgICAgICAgICAnei1pbmRleCc6ICctMScKICAgICAgICAgICAgICAsICdwb3NpdGlvbic6ICdyZWxhdGl2ZScKICAgICAgICAgICAgICAsICd0b3AnOiAtMjUKICAgICAgICAgICAgICAsICdtYXJnaW4tbGVmdCc6IC0zMgogICAgICAgICAgICB9KS5wcmVwZW5kVG8oJ2JvZHk+Lnp1LW1haW46Zmlyc3QnKS5oaWRlKCk7CiAgICAgICAgfSAgIAogICAgfQoKICAgIC8vcHJvY2VzcyBlYWNoIGFuc3dlcgogICAgaWYoJGxpc3RBbnN3ZXJzJiYkbGlzdEFuc3dlcnMubGVuZ3RoKXsKICAgICAgICBpZihpemhBdXRob3JMaXN0KXsKICAgICAgICAgICAgJHVuby5hcHBlbmRUbygkYmFubmVyKTsKICAgICAgICAgICAgJHBwVC5hcHBlbmRUbygkdW5vKTsKICAgICAgICAgICAgJGZybS5hcHBlbmRUbygkdW5vKTsKICAgICAgICAgICAgJHBwLmFwcGVuZFRvKCRmcm0pOwogICAgICAgICAgICAkcHBCLmFwcGVuZFRvKCR1bm8pOwogICAgICAgICAgICAvL3Vuby5hcHBlbmRDaGlsZChwcEkpOwogICAgICAgICAgICAkdW5vLiRlbmRPZkxhc3RBPSQoJzxsaT4nKS5hZGRDbGFzcygnZW5kT2ZMYXN0QScpLmFwcGVuZFRvKCRwcCkKICAgICAgICB9CiAgICAgICAgJGxpc3RBbnN3ZXJzLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgd2luZG93LmlaaGlodS5BbnN3ZXIucHJvY2Vzc0Fuc3dlcigkKGUpLCRwcAogICAgICAgICAgICAgICwgaXpoQXV0aG9yUmVhcgogICAgICAgICAgICAgICwgaXpoQXV0aG9yTGlzdCk7CiAgICAgICAgfSk7CiAgICAgICAgaWYoJHJlcGx5LmNoaWxkcmVuKCcuenUtYW5zd2VyLWZvcm0tZGlzYWJsZWQtd3JhcCcpLmlzKCc6aGlkZGVuJykpewogICAgICAgICAgICB2YXIgJHBwbGE9JCgnPGE+Jyx7aHJlZjonI2RyYWZ0Jyx0YXJnZXQ6J19zZWxmJ30pCiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0YWJsZT4nLCB7ICdjbGFzcyc6ICdwbHVzJyB9KQogICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicpKQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dHI+JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JykpCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicsIHsgJ2NsYXNzJzogJ25hbWUgZnVuYycgfSkudGV4dCgnLW5ldy0nKSkKICAgICAgICAgICAgICAsICRwcGw9JCgnPGxpPicpCiAgICAgICAgICAgICAgICAuYXBwZW5kKCRwcGxhKQogICAgICAgICAgICAgICAgLmFwcGVuZFRvKCRwcCkKICAgICAgICAgICAgOwogICAgICAgIH0KICAgIH0KICAgIHZhciByZXNpemVBdXRob3JMaXN0PWZ1bmN0aW9uKCRmKXsKICAgICAgICAvLyBBZGp1c3QgQXV0aG9yTGlzdCdzIHNpemUgYW5kIGxvY2F0ZSBpdHMgcG9zaXRpb24KICAgICAgICBpZighJGZ8fCEkZi5sZW5ndGgpcmV0dXJuOwogICAgICAgIHZhciBmcm09JGYuZ2V0KDApOwogICAgICAgIHZhciB3aWR0aD13aW5kb3cuaVpoaWh1LkFuc3dlci5wcFdpZHRoCiAgICAgICAgICAsIGhlaWdodD0kd2luLmhlaWdodCgpLSRtYWluLm9mZnNldCgpLnRvcC0zLSRmLnBvc2l0aW9uKCkudG9wOwogICAgICAgIGlmKGZybS5zY3JvbGxIZWlnaHQ+aGVpZ2h0KXsKICAgICAgICAgICAgJGYuaGVpZ2h0KGhlaWdodCk7CiAgICAgICAgICAgIHdpZHRoKz0yMDsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgJGYuaGVpZ2h0KCcnKTsKICAgICAgICB9CiAgICAgICAgJGYud2lkdGgod2lkdGgpOwogICAgfTsKICAgIGlmKGlzTmFOKG51bUNvbGxhcHNlZENvdW50KSludW1Db2xsYXBzZWRDb3VudD0wOwogICAgaWYoJGxpc3RBbnN3ZXJzLmxlbmd0aHx8bnVtQ29sbGFwc2VkQ291bnQpewogICAgICAgIGlmKGl6aEF1dGhvckxpc3QpewogICAgICAgICAgICAkdW5vLmNzcyh7CiAgICAgICAgICAgICAgICAnZmxvYXQnOidub25lJwogICAgICAgICAgICAgICwgJ2xlZnQnOjktJHVuby53aWR0aCgpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZighJGJ0bkNvbGxhcHNlZFN3aXRjaGVyLmxlbmd0aCYmIW51bUNvbGxhcHNlZENvdW50KQogICAgICAgICAgICAgICAgcmVzaXplQXV0aG9yTGlzdCgkZnJtKTsKICAgICAgICAgICAgJCgnPGRpdj4nLHsnY2xhc3MnOidtb2RhbC1kaWFsb2ctdGl0bGUnfSkuY3NzKHsKICAgICAgICAgICAgICAgICAgJ2JvcmRlci10b3AtbGVmdC1yYWRpdXMnOjAKICAgICAgICAgICAgfSkuaW5zZXJ0QmVmb3JlKCRwcFQpOwogICAgICAgICAgICAkdW5vLm1vdXNlb3ZlcihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgcmVzaXplQXV0aG9yTGlzdCgkKCcuZnJhbWUnLHRoaXMpKTsKICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCdsZWZ0JywnMCcpOwogICAgICAgICAgICB9KS5tb3VzZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2xlZnQnLDktJCh0aGlzKS53aWR0aCgpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmKHdpbmRvdy5pWmhpaHUuQW5zd2VyLl9lKXsKICAgICAgICAgICAgICAgICR1bm8uY2hpbGRyZW4oJy5tZVQnKS5jc3MoJ2Rpc3BsYXknLDA+d2luZG93LmlaaGlodS5BbnN3ZXIuX2Uub2Zmc2V0VG9wLSRmcm0uc2Nyb2xsVG9wKCk/Jyc6J25vbmUnKTsKICAgICAgICAgICAgICAgICR1bm8uY2hpbGRyZW4oJy5tZUInKS5jc3MoJ2Rpc3BsYXknLCRmcm0uaGVpZ2h0KCk8d2luZG93LmlaaGlodS5BbnN3ZXIuX2Uub2Zmc2V0VG9wLSRmcm0uc2Nyb2xsVG9wKCkrd2luZG93LmlaaGlodS5BbnN3ZXIuX2Uub2Zmc2V0SGVpZ2h0PycnOidub25lJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYoJGJ0bkNvbGxhcHNlZFN3aXRjaGVyLmxlbmd0aCl7CiAgICAgICAgICAgIGlmKG51bUNvbGxhcHNlZENvdW50PjApewogICAgICAgICAgICAgICAgJCgnI3poLXF1ZXN0aW9uLWNvbGxhcHNlZC13cmFwJykuc2hvdygpLmJpbmQoJ0RPTU5vZGVJbnNlcnRlZCcsZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgIHZhciAkYT0kKGV2ZW50LnRhcmdldCk7CiAgICAgICAgICAgICAgICAgICAgaWYoJGEuaXMoJy56bS1pdGVtLWFuc3dlcicpKXsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlaaGlodS5BbnN3ZXIucHJvY2Vzc0Fuc3dlcigkYSwkcHAKICAgICAgICAgICAgICAgICAgICAgICAgICAsICRib2R5LmF0dHIoJ2l6aEF1dGhvclJlYXInKT09JzEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgLCAkYm9keS5hdHRyKCdpemhBdXRob3JMaXN0Jyk9PScxJwogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAkKCcuem0taXRlbS1hbnN3ZXJbaXpoX3Byb2Nlc3NlZD0xXScsJyN6aC1xdWVzdGlvbi1jb2xsYXBzZWQtd3JhcCcpLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY291bnQ9PW51bUNvbGxhcHNlZENvdW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZUF1dGhvckxpc3QoJGZybSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkYnRuQ29sbGFwc2VkU3dpdGNoZXJbMF0uY2xpY2soKTsKICAgICAgICB9CiAgICB9CgogICAgJCgnI3poLXF1ZXN0aW9uLWFuc3dlci13cmFwJykuYmluZCgnRE9NTm9kZUluc2VydGVkJyxmdW5jdGlvbihldmVudCl7CiAgICAgICAgdmFyICRuYT0kKGV2ZW50LnRhcmdldCkuZmlsdGVyKCcuem0taXRlbS1hbnN3ZXInKTsKICAgICAgICBpZigkbmEubGVuZ3RoKXsKICAgICAgICAgICAgd2luZG93LmlaaGlodS5BbnN3ZXIucHJvY2Vzc0Fuc3dlcigkbmEsJHBwCiAgICAgICAgICAgICAgLCAkYm9keS5hdHRyKCdpemhBdXRob3JSZWFyJyk9PScxJwogICAgICAgICAgICAgICwgJGJvZHkuYXR0cignaXpoQXV0aG9yTGlzdCcpPT0nMScKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9KTsKICAgIC8vY29uc29sZS5sb2coKG5ldyBEYXRlKCkpLmdldFRpbWUoKSk7CgogICAgdmFyICRjbT0kKCcuem0tY29tbWVudC1ib3gnLCRxdWVzdGlvbldyYXApOwogICAgaWYoJGNtLmxlbmd0aCAmJiAkY20uaXMoJzp2aXNpYmxlJykpewogICAgICAgIHZhciBmb2N1c05hbWUgPSBpWmhpaHUuQ29tbWVudC5zY3JvbGxGb2N1c0NvbW1lbnRPblBhZ2VMb2FkKCRjbSk7CiAgICAKICAgICAgICBpWmhpaHUuQ29tbWVudC5tZXRhU2Nyb2xsVG9WaWV3Qm90dG9tKCRjbS5jbG9zZXN0KCcuem0taXRlbS1tZXRhJyksZnVuY3Rpb24oKXsKICAgICAgICAgICAgaVpoaWh1LkNvbW1lbnQucHJvY2Vzc0NvbW1lbnQoJGNtLCBmb2N1c05hbWUpOwogICAgICAgIH0pOwogICAgfQogIH0KCi8qKgogKiDphY3nva7nlYzpnaIKICovCgogICAgdmFyICRidG5TZXR0aW5ncyA9ICQoJzxsaT4nKQogICAgICAgICAgICAuYXBwZW5kKCQoJzxhPicsIHsgaHJlZjogJ2phdmFzY3JpcHQ6dm9pZCgwKTsnLCB0YWJpbmRleDogJy0xJyB9KQogICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICd6Zy1pY29uIHpnLWljb24tZGQtc2V0dGluZ3MgaXpoaWh1LXNldHRpbmdzJyB9KSkKICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2laaGlodScpCiAgICAgICAgICAgICkuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHZhciAkc2V0dGluZ3MgPSAkKCcjaXpoLWRsZy1zZXR0aW5ncycpCiAgICAgICAgICAgICAgICAkKCcubW9kYWwtZGlhbG9nLWJnJykuc2hvdygpCiAgICAgICAgICAgICAgICAkKCcuaXpoLW9wdGlvbicsICcjaXpoLWRsZy1zZXR0aW5ncycpLmVhY2goZnVuY3Rpb24oaSwgZSl7CiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGUuZ2V0QXR0cmlidXRlKCduYW1lJykKICAgICAgICAgICAgICAgICAgICAgICwgdmFsdWUgPSB1dGlscy5nZXRDZmcoa2V5KQogICAgICAgICAgICAgICAgICAgICAgLCAkZSA9ICQoZSkKICAgICAgICAgICAgICAgICAgICBpZiAoJGUuaXMoJ2lucHV0OmNoZWNrYm94JykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGUpLmlDaGVjaygnY2hlY2snKQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJGUuaXMoJ3NlbGVjdCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGUudmFsdWUgPSB2YWx1ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAkc2V0dGluZ3MuY3NzKHsKICAgICAgICAgICAgICAgICAgICAnei1pbmRleCc6Jzk5JwogICAgICAgICAgICAgICAgICAsICdwb3NpdGlvbic6J2ZpeGVkJwogICAgICAgICAgICAgICAgICAsICd0b3AnOiAoJHdpbi5oZWlnaHQoKSAtICRzZXR0aW5ncy5oZWlnaHQoKSkgLyAyCiAgICAgICAgICAgICAgICAgICwgJ2xlZnQnOiAoJHdpbi53aWR0aCgpIC0gJHNldHRpbmdzLndpZHRoKCkpIC8gMgogICAgICAgICAgICAgICAgfSkuZmFkZUluKCdzbG93JykKICAgICAgICAgICAgfSkuaW5zZXJ0QmVmb3JlKCQoJ3VsI3RvcC1uYXYtcHJvZmlsZS1kcm9wZG93biBsaTpsYXN0JykpCiAgICAgICwgJGRsZ1NldHRpbmdzID0gJCgnPGRpdj4nLCB7IGlkOiAnaXpoLWRsZy1zZXR0aW5ncycsICdjbGFzcyc6ICdtb2RhbC1kaWFsb2cnLCB0YWJpbmRleDogJzAnLCBzdHlsZTogJ2Rpc3BsYXk6bm9uZTt3aWR0aDo2MDBweCd9KQogICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyAnY2xhc3MnOiAnbW9kYWwtZGlhbG9nLXRpdGxlIG1vZGFsLWRpYWxvZy10aXRsZS1kcmFnZ2FibGUnIH0pCiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicsIHsgJ2NsYXNzJzogJ21vZGFsLWRpYWxvZy10aXRsZS10ZXh0JyB9KS50ZXh0KCfphY3nva7pgInpobknKSkKICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNwYW4+JywgewogICAgICAgICAgICAgICAgICAgICdjbGFzcyc6ICdtb2RhbC1kaWFsb2ctdGl0bGUtY2xvc2UnCiAgICAgICAgICAgICAgICAgICwgY2xpY2s6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tb2RhbC1kaWFsb2ctYmcnKS5oaWRlKCkKICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2l6aC1kbGctc2V0dGluZ3MnKS5maXJzdCgpLmhpZGUoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pKQogICAgICAgICAgICApCiAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdj4nLCB7ICdjbGFzcyc6ICdtb2RhbC1kaWFsb2ctY29udGVudCcgfSkKICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdj4nLCB7fSkKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyAnY2xhc3MnOiAnemctc2VjdGlvbicgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGFibGU+JywgeyAnY2xhc3MnOiAndF9zZXRfdGInLCBib3JkZXI6IDAsIGNlbGxzcGFjaW5nOiAwLCBjZWxscGFkZGluZzogNSwgd2lkdGg6ICcxMDAlJyB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGhlYWQ+Jywge30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dHI+Jywge30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgY29sc3BhbjogNiwgYWxpZ246ICdsZWZ0JyB9KS50ZXh0KCfvvIjmm7TmlLnlkI7orr7nva7lsIbnq4vliLvkv53lrZjvvIzkvYblj6rmnInlvZPpobXpnaLlho3mrKHmiZPlvIDml7bmiY3kvJrnlJ/mlYjvvIknKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJLnByZXBlbmQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkJJCgnPGI+JykudGV4dCgn5Yqf6IO95byA5YWzJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJCSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRib2R5PicsIHt9KQovKgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicsIHt9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGNvbHNwYW46IDQsIGFsaWduOiAnbGVmdCcgfSkudGV4dCgn5Zyo6aaW6aG155u05o6l5rWP6KeI5bi45Y676K+d6aKYJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICdpY29uIGljb24taGVscCcsICdkYXRhLXRpcCc6ICIifSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ3JpZ2h0J30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpbnB1dD4nLCB7IHR5cGU6ICJjaGVja2JveCIsICdjbGFzcyc6ICJpemgtb3B0aW9uIiwgaWQ6ICJpWmhpaHVfc2V0SG9tZVRvcGljcyIsIG5hbWU6ICJIb21lVG9waWNzIiB9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0cj4nLCB7fSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBjb2xzcGFuOiA0LCBhbGlnbjogJ2xlZnQnIH0pLnRleHQoJ+aUueWPmOe9kemhteagt+W8j+WkluingicpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnaWNvbiBpY29uLWhlbHAnLCAnZGF0YS10aXAnOiAicyR0JCog6aaW6aG16ZqQ6JeP5aSn5aS05YOPPGJyLz4qIOe8qei/m+aKleelqOaMiemSru+8iOmXrumimC/lm57nrZTpobXvvIk8YnIvPiog5oyJ6ZKu5Zu+5qCH5Yqo55S7ICJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGlucHV0PicsIHsgdHlwZTogImNoZWNrYm94IiwgJ2NsYXNzJzogIml6aC1vcHRpb24iLCBpZDogImlaaGlodV9zZXRIb21lTGF5b3V0IiwgbmFtZTogIkhvbWVMYXlvdXQiIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicsIHt9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGNvbHNwYW46IDQsIGFsaWduOiAnbGVmdCcgfSkudGV4dCgn6Ieq5Yqo5pS26LW35a+86Iiq5qCPJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICdpY29uIGljb24taGVscCcsICdkYXRhLXRpcCc6ICJzJHQkKiDmu5rliqjpobXpnaLoh7PkuIvmlrnml7bvvIzoh6rliqjmlLbotbfpobbpg6jlr7zoiKrmoI8gIn0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aW5wdXQ+JywgeyB0eXBlOiAiY2hlY2tib3giLCAnY2xhc3MnOiAiaXpoLW9wdGlvbiIsIGlkOiAiaVpoaWh1X3NldFRvcE5hdkF1dG9Gb2xkIiwgbmFtZTogIlRvcE5hdkF1dG9Gb2xkIiB9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0cj4nLCB7fSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBjb2xzcGFuOiA0LCBhbGlnbjogJ2xlZnQnIH0pLnRleHQoJ+iwg+aVtOmmlumhteOAjOaWsOWKqOaAgeOAjeaPkOmGkuaMiemSricpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnaWNvbiBpY29uLWhlbHAnLCAnZGF0YS10aXAnOiAicyR0JOaMquWIsCBUaW1lbGluZSDlj7PkuIrop5I8YnIvPuS4juagh+mimOOAjOacgOaWsOWKqOaAgeOAjeW5s+ihjCJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGlucHV0PicsIHsgdHlwZTogImNoZWNrYm94IiwgJ2NsYXNzJzogIml6aC1vcHRpb24iLCBpZDogImlaaGlodV9zZXRIb21lTm90aSIsIG5hbWU6ICJIb21lTm90aSIgfSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dHI+Jywge30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgY29sc3BhbjogNCwgYWxpZ246ICdsZWZ0JyB9KS50ZXh0KCflvIDlkK/jgIzpppbpobXliIbmoI/jgI0nKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ3JpZ2h0J30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpPicsIHsgJ2NsYXNzJzogJ2ljb24gaWNvbi1oZWxwJywgJ2RhdGEtdGlwJzogInMkdCTlsIbpppbpobXliqjmgIHliIbnsbvljZXni6zmmL7npLrvvJo8YnIvPumXrumimOOAgeWbnuetlOOAgeS4k+agjyJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGlucHV0PicsIHsgdHlwZTogImNoZWNrYm94IiwgJ2NsYXNzJzogIml6aC1vcHRpb24iLCBpZDogImlaaGlodV9zZXRIb21lRmVlZHNDb2x1bW5zIiwgbmFtZTogIkhvbWVGZWVkc0NvbHVtbnMiIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicsIHt9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGNvbHNwYW46IDQsIGFsaWduOiAnbGVmdCcgfSkudGV4dCgn5bCG55So5oi35L+h5oGv5oyq5Yiw5Zue562U5LiL5pa5JykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICdpY29uIGljb24taGVscCcsICdkYXRhLXRpcCc6ICIifSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ3JpZ2h0J30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpbnB1dD4nLCB7IHR5cGU6ICJjaGVja2JveCIsICdjbGFzcyc6ICJpemgtb3B0aW9uIiwgaWQ6ICJpWmhpaHVfc2V0QXV0aG9yUmVhciIsIG5hbWU6ICJBdXRob3JSZWFyIiB9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0cj4nLCB7fSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ2xlZnQnIH0pLnRleHQoJ+W8gOWQr+OAjOWPs+iIt+ivhOiuuuOAjScpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnaWNvbiBpY29uLWhlbHAnLCAnZGF0YS10aXAnOiAicyR0JOWcqOmhtemdouWPs+S+p+a1ruWKqOaYvuekuuaJk+W8gOeahOivhOiuuuWIl+ihqDxici8+5Zyo6aaW6aG144CB6Zeu6aKY44CB5Zue562U6aG15Lit55Sf5pWIIn0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aW5wdXQ+JywgeyB0eXBlOiAiY2hlY2tib3giLCAnY2xhc3MnOiAiaXpoLW9wdGlvbiIsIGlkOiAiaVpoaWh1X3NldFJpZ2h0Q29tbWVudCIsIG5hbWU6ICJTaG93Q29tbWVudCIgfSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyB3aWR0aDogMSwgbm93cmFwOiAnbm93cmFwJywgYWxpZ246ICdsZWZ0JyB9KS50ZXh0KCflhbPpl63ml7boh6rliqjljbflsY/oh7Plr7nlupTmnaHnm64nKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ3JpZ2h0J30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpPicsIHsgJ2NsYXNzJzogJ2ljb24gaWNvbi1oZWxwJywgJ2RhdGEtdGlwJzogInMkdCTku4Xlr7nlj7PoiLfor4TorrrnlJ/mlYgifSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ3JpZ2h0J30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpbnB1dD4nLCB7IHR5cGU6ICJjaGVja2JveCIsICdjbGFzcyc6ICJpemgtb3B0aW9uIiwgaWQ6ICJpWmhpaHVfc2V0UmlnaHRDb21tZW50X0F1dG9TY3JvbGxQYWdlV2hlbkNsb3NpbmciLCBuYW1lOiAiUmlnaHRDb21tZW50X0F1dG9TY3JvbGxQYWdlV2hlbkNsb3NpbmciIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicsIHt9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGNvbHNwYW46IDQsIGFsaWduOiAnbGVmdCcgfSkudGV4dCgn5byA5ZCv44CM5b+r6YCf5bGP6JS944CN77yI5Yqg5YWl6buR5ZCN5Y2VL+WPlua2iOWFs+azqO+8ieWKn+iDvScpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnaWNvbiBpY29uLWhlbHAnLCAnZGF0YS10aXAnOiAicyR0JOWcqOi1nuWQjOWIl+ihqOOAgeivhOiuuuWIl+ihqOS4reS9v+eUqCJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGlucHV0PicsIHsgdHlwZTogImNoZWNrYm94IiwgJ2NsYXNzJzogIml6aC1vcHRpb24iLCBpZDogImlaaGlodV9zZXRRdWlja0Jsb2NrIiwgbmFtZTogIlF1aWNrQmxvY2siIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicsIHt9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGNvbHNwYW46IDQsIGFsaWduOiAnbGVmdCcgfSkudGV4dCgn5byA5ZCv44CM5b+r6YCf5pS26JeP44CN6I+c5Y2VJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICdpY29uIGljb24taGVscCcsICdkYXRhLXRpcCc6ICJzJHQk6byg5qCH56e75LiK44CM5pS26JeP44CN5oyJ6ZKu5pe25pi+56S6In0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aW5wdXQ+JywgeyB0eXBlOiAiY2hlY2tib3giLCAnY2xhc3MnOiAiaXpoLW9wdGlvbiIsIGlkOiAiaVpoaWh1X3NldFF1aWNrRmF2byIsIG5hbWU6ICJRdWlja0Zhdm8iIH0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicsIHt9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGNvbHNwYW46IDQsIGFsaWduOiAnbGVmdCcgfSkudGV4dCgn5byA5ZCv44CM5Zue562U55uu5b2V44CNJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRkPicsIHsgYWxpZ246ICdyaWdodCd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8aT4nLCB7ICdjbGFzcyc6ICdpY29uIGljb24taGVscCcsICdkYXRhLXRpcCc6ICJzJHQk5Zyo6Zeu6aKY6aG16Z2i5bem5L6n5o6p6JeP77yM6byg5qCH56e75LiK5pe25bGV5byAPGJyLz7lubblnKjlj7PkvqfljbPml7bmmL7npLrlm57nrZTpooTop4gifSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBhbGlnbjogJ3JpZ2h0J30pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpbnB1dD4nLCB7IHR5cGU6ICJjaGVja2JveCIsICdjbGFzcyc6ICJpemgtb3B0aW9uIiwgaWQ6ICJpWmhpaHVfc2V0QXV0aG9yTGlzdCIsIG5hbWU6ICJBdXRob3JMaXN0IiB9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0cj4nLCB7fSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JywgeyBjb2xzcGFuOiA0LCBhbGlnbjogJ2xlZnQnIH0pLnRleHQoJ+mAieaLqeOAjOWklumDqOaQnOe0ouW8leaTjuOAjScpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGk+JywgeyAnY2xhc3MnOiAnaWNvbiBpY29uLWhlbHAnLCAnZGF0YS10aXAnOiAicyR0JOS9oOaHgueahCJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZD4nLCB7IGFsaWduOiAncmlnaHQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNlbGVjdD4nLCB7IHR5cGU6ICJjaGVja2JveCIsICdjbGFzcyc6ICJpemgtb3B0aW9uIiwgaWQ6ICJpWmhpaHVfc2V0U2VhcmNoRW5naW5lT3V0c2lkZSIsIG5hbWU6ICJTZWFyY2hFbmdpbmVPdXRzaWRlIn0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8b3B0aW9uPicsIHsgdmFsdWU6J2dvb2dsZScgfSkudGV4dCgnR29vZ2xlJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8b3B0aW9uPicsIHsgdmFsdWU6J2JhaWR1JyB9KS50ZXh0KCfnmb7luqYnKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyAnY2xhc3MnOiAnemctbGVmdCcgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgn5b2T5YmN54mI5pys77yaJyt2ZXJzaW9uKyfvvJsnKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCfmnIDlkI7mm7TmlrDvvJonK3VwZGF0ZURhdGUpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGJyPicpKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCfliLbkvZzvvJonKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxhPicsIHsgJ2RhdGEtdGlwJzogInAkdCR1bm9nengiLCBocmVmOiAiL3Blb3BsZS91bm9nengiIH0pLnRleHQoJ0DpkqLnm4Xpg63lrZAnKSkKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgn77yMJykKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nLCB7ICdkYXRhLXRpcCc6ICJwJHQkbGl1eW9uZzI1IiwgaHJlZjogIi9wZW9wbGUvbGl1eW9uZzI1IiB9KS50ZXh0KCdA5aSp54yqKOWImOWLhyknKSkKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgn77yMJykKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nLCB7ICdkYXRhLXRpcCc6ICJwJHQkbHVveHIiLCBocmVmOiAiL3Blb3BsZS9sdW94ciIgfSkudGV4dCgnQHl1a2lyb2NrJykpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ++8jCcpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGE+JywgeyAnZGF0YS10aXAnOiAicCR0JG1vcmxheSIsIGhyZWY6ICIvcGVvcGxlL21vcmxheSIgfSkudGV4dCgnQOWiqOejiicpKQogICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxicj4nKSkKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgn5oSf6LCi77yaJykKICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nLCB7ICdkYXRhLXRpcCc6ICJwJHQkUGV0ZXJEZW5nIiwgaHJlZjogIi9wZW9wbGUvUGV0ZXJEZW5nIiB9KS50ZXh0KCdA6YKT5paH5Y2aJykpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ++8jCcpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGE+JywgeyAnZGF0YS10aXAnOiAicCR0JGNha3ZmY3d6IiwgaHJlZjogIi9wZW9wbGUvY2FrdmZjd3oiIH0pLnRleHQoJ0DmsLTkupHpgLgnKSkKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2PicsIHsgJ2NsYXNzJzogJ3ptLWNvbW1hbmQnIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGE+JywgeyBpZDogJ2l6aFJlZnJlc2gnLCAnY2xhc3MnOiAnemctYnRuLWJsdWUnLCBocmVmOiAnamF2YXNjcmlwdDp2b2lkKDApOycgfSkudGV4dCgn5Yi35paw572R6aG1JykpCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApLmFwcGVuZFRvKF9kb2MuYm9keSkuZHJhZ2dhYmxlKHtoYW5kbGU6ICcubW9kYWwtZGlhbG9nLXRpdGxlLWRyYWdnYWJsZSd9KQoKICAgICQoJy5pemgtb3B0aW9uJywgJGRsZ1NldHRpbmdzKS5lYWNoKGZ1bmN0aW9uKGksIGUpewogICAgICAgIHZhciBrZXkgPSBlLmdldEF0dHJpYnV0ZSgnbmFtZScpCiAgICAgICAgICAsICRjaGsgPSAkKGUpLmZpbHRlcignaW5wdXQ6Y2hlY2tib3gnKS5pQ2hlY2soewogICAgICAgICAgICAgICAgY2hlY2tib3hDbGFzczogJ2ljaGVja2JveF9zcXVhcmUtYmx1ZScKICAgICAgICAgICAgICAsIGluY3JlYXNlQXJlYTogJzIwJScgLy8gb3B0aW9uYWwKICAgICAgICAgICAgfSkuYmluZCgnaWZDaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5jaGVja2VkCiAgICAgICAgICAgICAgICB1dGlscy5zZXRDZmcoa2V5LCB2YWx1ZSkKICAgICAgICAgICAgfSkKICAgICAgICAgICwgJHNlbCA9ICQoZSkuZmlsdGVyKCdzZWxlY3QnKS5iaW5kKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHV0aWxzLnNldENmZyhrZXksIHRoaXMudmFsdWUpCiAgICAgICAgICAgIH0pCiAgICB9KQogICAgJCgnI2l6aFJlZnJlc2gnKS5jbGljayhmdW5jdGlvbigpewogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpCiAgICB9KQoKLyoKICog6K6+572uLeWxj+iUvQogKi8KaWYgKHBhZ2VJcy5TZXR0aW5nc0ZpbHRlcil7CiAgICB2YXIgYWxsPVtdCiAgICAgICwgJHNlY0Jsb2NrZWRVc2VycyA9ICQoJyNzZWN0aW9uLWJsb2NrZWQtdXNlcnMnKQogICAgICAsICRzZWNCbG9ja2VkVXNlcnNUaXRsZSA9ICRzZWNCbG9ja2VkVXNlcnMuY2hpbGRyZW4oJy5zZXR0aW5ncy1zZWN0aW9uLXRpdGxlOmZpcnN0JykuY2hpbGRyZW4oJ2gyOmZpcnN0JykKICAgICAgLCAkcG5sVW5CbG9ja2VkVXNlcnMgPSAkKCc8ZGl2PicpLmFwcGVuZFRvKCRzZWNCbG9ja2VkVXNlcnNUaXRsZSkuY3NzKHsKICAgICAgICAgICAgZmxvYXQ6ICdyaWdodCcKICAgICAgICB9KQogICAgICAsICRsYkZpbHRlckJsb2NrZWRVc2VycyA9ICQoJzxsYWJlbC8+JykuYXBwZW5kVG8oJHBubFVuQmxvY2tlZFVzZXJzKS5jc3MoewogICAgICAgICAgICBmbG9hdDogJ2xlZnQnCiAgICAgICAgfSkKICAgICAgLCAkdGJGaWx0ZXJCbG9ja2VkVXNlcnMgPSAkKCc8aW5wdXQvPicsIHsKICAgICAgICAgICAgJ2NsYXNzJzogJ3pnLWZvcm0tdGV4dC1pbnB1dCB6Zy1tcjE1JwogICAgICAgICAgLCBwbGFjZWhvbGRlcjogJ+eUqOaIt+WQjeaIluaYteensCcKICAgICAgICB9KS5hcHBlbmRUbygkcG5sVW5CbG9ja2VkVXNlcnMpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgdmFyIGt3PXRoaXMudmFsdWUKICAgICAgICAgICAgICAsIG49MAogICAgICAgICAgICAgICwgJGxpc3RCbG9ja2VkVXNlcnM9JHNlY0Jsb2NrZWRVc2Vycy5maW5kKCcuYmxvY2tlZC11c2VycyA+IC5pdGVtID4gLmJvZHkgPiBhJykuZWFjaChmdW5jdGlvbihpLGUpewogICAgICAgICAgICAgICAgICAgIHZhciAkYSA9ICQoZSkKICAgICAgICAgICAgICAgICAgICAgICwgaHJlZiA9IGUuZ2V0QXR0cmlidXRlKCdocmVmJykgfHwgJycKICAgICAgICAgICAgICAgICAgICAgICwgdGV4dCA9IGUuaW5uZXJIVE1MCiAgICAgICAgICAgICAgICAgICAgICAsIG5vdE1hdGNoID0gKGhyZWYuaW5kZXhPZihrdykgPCAwICYmIHRleHQuaW5kZXhPZihrdykgPCAwKQogICAgICAgICAgICAgICAgICAgIGlmKCFub3RNYXRjaCl7CiAgICAgICAgICAgICAgICAgICAgICAgIG4rKwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkYS5jbG9zZXN0KCcuaXRlbScpLmNzcygnZGlzcGxheScsIG5vdE1hdGNoID8gJ25vbmUnIDogJycpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAkbGJGaWx0ZXJCbG9ja2VkVXNlcnMudGV4dChbbj9uKycgJzon5pegJywn5Lq65Yy56YWN77yaJ10uam9pbignJykpCiAgICAgICAgfSkuY3NzKHsKICAgICAgICAgICAgZmxvYXQ6ICdsZWZ0JwogICAgICAgIH0pLnRyaWdnZXIoJ2tleXVwJykKICAgICAgLCBmdW5jVW5ibG9jaz1mdW5jdGlvbigpewogICAgICAgICAgICBpZihhbGwubGVuZ3RoPT0wKXtyZXR1cm59CiAgICAgICAgICAgIHZhciBlPWFsbC5zaGlmdCgpCiAgICAgICAgICAgICQucG9zdCgnL3NldHRpbmdzL3VuYmxvY2t1c2VyJywgJC5wYXJhbSh7CiAgICAgICAgICAgICAgICBfeHNyZjogJCgnaW5wdXRbbmFtZT1feHNyZl0nKS52YWwoKQogICAgICAgICAgICAgICwgdWlkOiBlLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpCiAgICAgICAgICAgIH0pKS5kb25lKGZ1bmN0aW9uKHJlc3VsdCl7CiAgICAgICAgICAgICAgICAkKGUpLnJlbW92ZSgpCiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24ocmVzdWx0KXsKICAgICAgICAgICAgICAgIGFsbC5wdXNoKGUpCiAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbihyZXN1bHQpewogICAgICAgICAgICAgICAgJGxiRmlsdGVyQmxvY2tlZFVzZXJzLnRleHQoW2FsbC5sZW5ndGg/YWxsLmxlbmd0aCsnICc6J+aXoCcsJ+S6uuWMuemFje+8middLmpvaW4oJycpKQogICAgICAgICAgICAgICAgZnVuY1VuYmxvY2soKQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgLCBoPSR0YkZpbHRlckJsb2NrZWRVc2Vycy5vdXRlckhlaWdodCgpCiAgICAgICwgJGJ0VW5CbG9ja2VkVXNlcnMgPSAkKCc8aW5wdXQvPicsIHsKICAgICAgICAgICAgJ2NsYXNzJzogJ3pnLWJ0biB6Zy1idG4tdW5mb2xsb3cnCiAgICAgICAgICAsIHR5cGU6ICdidXR0b24nCiAgICAgICAgICAsIHZhbHVlOiAn5Y+W5raI5bGP6JS9JwogICAgICAgIH0pLmFwcGVuZFRvKCRwbmxVbkJsb2NrZWRVc2Vycykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAkKCcjc2VjdGlvbi1ibG9ja2VkLXVzZXJzID4gLnNldHRpbmdzLWl0ZW0gPiAuc2V0dGluZ3MtaXRlbS1jb250ZW50ID4gLmJsb2NrZWQtdXNlcnMgPiAuaXRlbScpLmVhY2goZnVuY3Rpb24oaSxlKXsKICAgICAgICAgICAgICAgIHZhciAkZSA9ICQoZSkKICAgICAgICAgICAgICAgIGlmKCRlLmlzKCc6dmlzaWJsZScpKXsKICAgICAgICAgICAgICAgICAgICBhbGwucHVzaChlKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICBmdW5jVW5ibG9jaygpCiAgICAgICAgfSkuY3NzKHsKICAgICAgICAgICAgZmxvYXQ6ICdsZWZ0JwogICAgICAgIH0pLmhlaWdodChoKQogICAgJGxiRmlsdGVyQmxvY2tlZFVzZXJzLmNzcygnbGluZS1oZWlnaHQnLCBoKydweCcpCn0KCnZhciBmaXJzdFJ1biA9IHBhcnNlSW50KHV0aWxzLmdldFZhbHVlKCdpemhfZnInLCcxJykpOwoKZnVuY3Rpb24gX0ZSc2hvdygpewppZihmaXJzdFJ1bj4wICYmIGRvY3VtZW50LmRvbWFpbj09J3poaWh1LmNvbScpewogICAgdmFyIHRib3hsZWZ0PTA7CiAgICB2YXIgYWNjaXRlbTE9ICQoJyN6aC10b3AtaW5uZXIgZGl2LnRvcC1uYXYtcHJvZmlsZSAuenUtdG9wLW5hdi11c2VyaW5mbycpOwogICAgaWYoYWNjaXRlbTEubGVuZ3RoPjApewogICAgICAgIHRib3hsZWZ0ID0gYWNjaXRlbTEub2Zmc2V0KCkubGVmdDsKICAgIH0KICAgIGlmKHRib3hsZWZ0PjApewogICAgICAgICQoJzxkaXY+JywgeyBpZDogJ2laaGlodV90Ym94JywgJ2NsYXNzJzogJ3RfZnJzaG93JyB9KS5hcHBlbmRUbygnYm9keS56aGknKS5oaWRlKCkKICAgICAgICAgICAgLmFwcGVuZCgkKCc8ZGl2PicsIHsgJ2NsYXNzJzogJ3RfdHh0c2hvdyB0X3Rib3gnIH0pCiAgICAgICAgICAgICAgICAuYXBwZW5kKCfmhJ/osKLkvb/nlKgnKQogICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8Yj4nKS50ZXh0KCdpWmhpaHUnKSkKICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGJyIC8+JykpCiAgICAgICAgICAgICAgICAuYXBwZW5kKCfmgqjlj6/pgJrov4foj5zljZXjgJBpWmhpaHXjgJHlr7nlip/og73ov5vooYzorr7nva4nKQogICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YnIgLz4nKSkKICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHM+JykKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxpPicpKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApOwogICAgICAgICQoJyNpWmhpaHVfdGJveCcpLmNzcygnbGVmdCcsdGJveGxlZnQtMTAwKS5zaG93KCkubW91c2VlbnRlcihmdW5jdGlvbigpewogICAgICAgICAgICB1dGlscy5zZXRWYWx1ZSgnaXpoX2ZyJywnMCcpOwogICAgICAgICAgICAvL19NZW51KCk7CiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9Cn0KICAgIApzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICBfRlJzaG93KCk7Cn0sMTAwMCk7CgoKICBjb25zb2xlLmxvZygnaVpoaWh1ICcrdmVyc2lvbisnIHN0YXJ0ZWQuJyk7CiAgLy9jb25zb2xlLmxvZyh3aW5kb3cuaVpoaWh1KTsKICAvL2NvbnNvbGUubG9nKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkpOwovL30pOwo="},{"name":"OnlineVideoConverter.com","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://www.youtube.com/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512434},"enabled":true,"position":2,"file_url":"https://www.onlinevideoconverter.com/assets/javascript/ovc.user.js","uuid":"0b100194-d608-49b3-8f53-e403a14d1077","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIE9ubGluZVZpZGVvQ29udmVydGVyLmNvbQovLyBAbmFtZXNwYWNlICAgaHR0cHM6Ly93d3cub25saW5ldmlkZW9jb252ZXJ0ZXIuY29tLwovLyBAdmVyc2lvbiAgICAgMS4yLjIKLy8gQGRlc2NyaXB0aW9uIFRoaXMgdXNlcnNjcmlwdCBhc3Npc3RzIE9ubGluZVZpZGVvQ29udmVydGVyIHRvIGNvbnZlcnQgdmlkZW8gbGlua3MuCi8vIEBjb3B5cmlnaHQgICAyMDE2LCBPbmxpbmVWaWRlb0NvbnZlcnRlci5jb20KLy8gQGljb24gICAgICAgIGh0dHBzOi8vd3d3Lm9ubGluZXZpZGVvY29udmVydGVyLmNvbS9hc3NldHMvaW1hZ2VzL292Yy1pY29uLnBuZwovLyBAaWNvbjY0ICAgICAgaHR0cHM6Ly93d3cub25saW5ldmlkZW9jb252ZXJ0ZXIuY29tL2Fzc2V0cy9pbWFnZXMvb3ZjLWljb242NC5wbmcKLy8gQGhvbWVwYWdlICAgIGh0dHBzOi8vd3d3Lm9ubGluZXZpZGVvY29udmVydGVyLmNvbS9leHRlbnNpb24KLy8gQGRvd25sb2FkVVJMIGh0dHBzOi8vd3d3Lm9ubGluZXZpZGVvY29udmVydGVyLmNvbS9hc3NldHMvamF2YXNjcmlwdC9vdmMudXNlci5qcwovLyBAbWF0Y2ggICAgICAgKjovL3d3dy55b3V0dWJlLmNvbS8qCi8vIEBydW4tYXQgICAgICBkb2N1bWVudC1lbmQKLy8gQGdyYW50ICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vID09L1VzZXJTY3JpcHQ9PQoKCmlmKCJ1bmRlZmluZWQiID09IHR5cGVvZiAob25saW5ldmlkZW9jb252ZXJ0ZXIpKSB7Cgl2YXIgb25saW5ldmlkZW9jb252ZXJ0ZXIgPSB7CgoJCWN1cnJlbnRNZWRpYVVybDogbnVsbCwKCQljdXJyZW50SWQ6IG51bGwsCiAgICAgICAgdXNlclVybDogJ2h0dHBzOi8vd3d3Lm9ubGluZXZpZGVvY29udmVydGVyLmNvbS91cmwtY29udmVydGVyP3JlZj1hZGRvbiZ2ZXJzaW9uPTEyMScsCgoJCWdldFBhcmFtIDogZnVuY3Rpb24gKGRvY3VtZW50LCB2YXJpYWJsZSl7CgkJCXZhciBxdWVyeSA9IGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSk7CgkJCXZhciB2YXJzID0gcXVlcnkuc3BsaXQoIiYiKTsKCQkJZm9yICh2YXIgaT0wO2k8dmFycy5sZW5ndGg7aSsrKSB7CgkJCQl2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoIj0iKTsKCQkJCWlmKHBhaXJbMF0gPT0gdmFyaWFibGUpe3JldHVybiBwYWlyWzFdO30KCQkJfSAgICAgICByZXR1cm4oZmFsc2UpOwoJCX0sCgoJCWFkZEJ1dHRvbnM6IGZ1bmN0aW9uKCkgewoJCQl2YXIgaWNvbiA9ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJvQUFBQVhDQVlBQUFBVjFGOFFBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQ0JqU0ZKTkFBQjZKZ0FBZ0lRQUFQb0FBQUNBNkFBQWRUQUFBT3BnQUFBNm1BQUFGM0NjdWxFOEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFCMVdsVVdIUllUVXc2WTI5dExtRmtiMkpsTG5odGNBQUFBQUFBUEhnNmVHMXdiV1YwWVNCNGJXeHVjenA0UFNKaFpHOWlaVHB1Y3pwdFpYUmhMeUlnZURwNGJYQjBhejBpV0UxUUlFTnZjbVVnTlM0MExqQWlQZ29nSUNBOGNtUm1PbEpFUmlCNGJXeHVjenB5WkdZOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2TURJdk1qSXRjbVJtTFhONWJuUmhlQzF1Y3lNaVBnb2dJQ0FnSUNBOGNtUm1Pa1JsYzJOeWFYQjBhVzl1SUhKa1pqcGhZbTkxZEQwaUlnb2dJQ0FnSUNBZ0lDQWdJQ0I0Yld4dWN6cDBhV1ptUFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzUnBabVl2TVM0d0x5SStDaUFnSUNBZ0lDQWdJRHgwYVdabU9rTnZiWEJ5WlhOemFXOXVQakU4TDNScFptWTZRMjl0Y0hKbGMzTnBiMjQrQ2lBZ0lDQWdJQ0FnSUR4MGFXWm1Pazl5YVdWdWRHRjBhVzl1UGpFOEwzUnBabVk2VDNKcFpXNTBZWFJwYjI0K0NpQWdJQ0FnSUNBZ0lEeDBhV1ptT2xCb2IzUnZiV1YwY21salNXNTBaWEp3Y21WMFlYUnBiMjQrTWp3dmRHbG1aanBRYUc5MGIyMWxkSEpwWTBsdWRHVnljSEpsZEdGMGFXOXVQZ29nSUNBZ0lDQThMM0prWmpwRVpYTmpjbWx3ZEdsdmJqNEtJQ0FnUEM5eVpHWTZVa1JHUGdvOEwzZzZlRzF3YldWMFlUNEtBdGlBQlFBQUJnQkpSRUZVU0ExVmxtbHNGVlVVeC85M1p0N3IrdHBTQ2dXMXlBY0JRYU1DQ2dHQ2tVQk5rR2pFcFZFVFFoUWpnaDhVM0NMaFE0MmZYQkFGUXpSUmtTQXhpQmcxalNRQ2FZbllJQkhGcEFTalZ0bktYcnBBbC9mbXpWeC9kMTZMZXRzN2M1ZHp6L21mL3puM3pEUFd5ak5Hc1dqMnA5Uk1lWm9xbzZJb2pNLzRRZFJzcHVsQ3NtZmxJeGZaZ3lWMTh2UFB5Mm94c3pya3V4azNJN1BPek1pM0Rza2FaSzBiRHpmakJ2WlhqVmFjZWwzV1BpeGZaUmlTOG03SEhKV05YelhUbysxdVpnK2twaXZRVnBYYXlickNRb1NVNFVRcHozNVdQRytGbVpINzFEWUN2ckVBM3AxenpkamRxbFJOc0VNVnFsY1BLeEZJYkdMS0pnb0duWmh0VUZPMFU0dUNWdVJtcWxNaEVpbVZzSldsaDhvaG0yYmNLMnZxemV6d29HMVdZT1lWNERvTm5xcUNWUWpWNnlLTElTalNxQ2hpeCtkOUdRVnVISGxydFRCNEJSQXprWE9VcEhqbTFLY0RySjNEeXpTeVdSVURJOVlLOXVXTUVKYUVNVGYzWk14U2hBRHR4dlJCODVseVpyVkNjd1IxYWJ5RUlEdUY1d3RBaVZEazJJL3BhelFuUDV1VlI1QTl3Y2tpRFNSNnB0cFdWVHZsTksvd2NvUFFqZ2RiaUZjZWgvYm9jTGpVM0JHdUo5QXJOUWp2UG44UnlpTlZKVVQ0SEkwaEw1ZmZCbHhyNXVaYmtHMkRLT0pLZDV4azZhNjEvT3RSd0lienhnbTRialVpR1RHaERhOFhQSEFtakxMR0VUSUs5bDYyKzRQMUN2TjNBMkpPa2h3SnphUkZsUGdtOHZWcTVobjdRK29ZR3E5bjA1R0NxMUFuZXdpc1Q4aURzaHdvblQvUzl4eWJoVVFSL3JzWU9tRG5XYXRtTFdBdFZBYXkrL1N1dVR0OHpzWG52eW51S2JhYlZlcmM1cURyS1QycWxIa0w1Vk9JVjU0QU84OStrNElsakxZbjh4akpIRFBEdFlnd2ttVmV6c25MT2luZjI4aU90QU9ZR0xPZko1REFrc3F2NThydFZia2hSaVpDT0NKSlkrS1R4MEFBd2h3SzN6UHpCazRSOURmWjM0K2FJR0ZnZ0tkTEVEZnZVVnMrdGt2TS9HeDdvbnhVd1NQVGtPeWpnbWIzYUtTODFDYUdEUkRBUFlyaE5qWUZVYThiaWNPTTA5RFpMeHRWMjd4M0c2bm5KWElXRlNuUGtBaWJ6SDNoTTBsSzQ0MHpZRGRBYzAxNmtvTGNrU0M1eFF2VWFmZWEzeFdnZnpEQzRSSG9LWE44WXJTelNpV1p1d28zazNJUTFzakVBNndIVUZlQlhCUXIyNDNzNEVyN2RlcVFNZUhIQUk3c0Z5bFh5cWcyOFdYemtCNE1YS213VGVSYWFCZUtrTWlPaG81ektZV2R5UzJ6SG9wN0xycm9nWUxyRVYxd1Y3bHdQM0k0aTkvTUlsV1crT3JQM1c0L0lqcFY2YlZvZlZLVnBscVg3TGVjaFZ2WGN1NWczbGRRQS9CenlaSXlqd0d5WFdiZ1J5bDlJekVoSDNTSlhnZXJnTWozU3hVTnZESFd2OXRYRDlsaGc5bktlUHRnWm1xUzREMWdpNUswR1RKVUN0cXdObGJ1TEh6UE5acTRpdlF0YzJpbFU4MVMxV1NwKzAvcHhHdlN0SGU0SDcrd05rSEtYSXVoUHFQMnNkTEZMVmJGTmJmS0FLTFh1QnNaa1c4cDBpcnh2dUJSNzAwWU9GNzRXRXg2RWUxY2trT1BTMk9ma3NiVjR6R3hHWGtMM2o0cmxkV3lQUXYwc1BuekcxTHhOYXlmY3NRYURmWVJPNHdVU2c5WGg1SExTVnFCNjRyckNETEtmTjZWZFZidDMwbGRwNldqamF3ajJYME0rc3J4NW1tcDQ3QlVSS3lPNFdrSGNoMmZzTDlYY3NVaTdxTmpzRkN5M0RpSkxNOGhRNzBnNHNhSnE2TGVNMGJqRjRDVXBmRjRVRm9wSGYrU2RXZ3RycEwrZUlueFNmYm1BNHA1elFONGVTY1VYaUFnSmE3Z09rL3lWNzM1bjBjNmd2VU1icU84YlNQZlVoeWQ5WlYwd3ozU1gvdWtUdnJKUGRDNUdacElncmEzUVlxR09WdWxtNWRnYUtKTEtLalA5UEYwMWNYVjBDaWh6ZW1rQmNtekN4VGxaMGxUM08vYVpkUzZpMHdtUnYxL1N6MHRlREtDaE52bWlpUkt4a2hYRGxENTdvZXRwUmp1dE9wdHdwazBsN2FuQ1VNdFZKZzFLdUl6VDZnQlFEQ0hxU3VwcFpnRTFBUXl4cTkxYnNjNnZabFMxQklwUFlaeTI4OTN0elFDQ0NqUGswMjhYU1E2dGtUcWJNSTFMMHcrRTF3K3N5eDhuMThYODZsL0crbDRia0JKQWc5WFdic2xXRTBwV1pla1NVUnFleG1FS05OeGw1UG0zOEZ6alFoYnVpbWxWekFGc045TmZLa1F2ci9ZTE10K1U1QkQ3RU4vRVpWcWdqckNEU1lwUVkzYzQwWjU4YmpVY3MrYWUxSGtrNzZGUWcvaFR2ZlZOc1I1d1NBeW9oaDdmajl4M1dxVzVYWTZPZnNCOVg5NThqRkpqamxuL2dGZmtKdWYvK2pYTFFBQUFBQkpSVTVFcmtKZ2dnPT0nOwogICAgICAgICAgICB2YXIgb25saW5ldmlkZW9jb252ZXJ0ZXJwYXRoID0gb25saW5ldmlkZW9jb252ZXJ0ZXIudXNlclVybCArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQuVVJMKTsKCQkJdmFyIGRpdl9lbWJlZCA9IG51bGw7CgkJCXZhciBzcGFuY2xhc3M9IiI7CgkJCXZhciBidXR0b25jbGFzcyA9ICIiOwoKCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhdGNoLWxpa2UtZGlzbGlrZS1idXR0b25zJykpIHsKCQkJCXZhciBkaXZfZW1iZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2F0Y2gtbGlrZS1kaXNsaWtlLWJ1dHRvbnMnKTsKCQkJCXZhciBidXR0b25jbGFzcyA9ICJ5dC11aXgtYnV0dG9uIHl0LXVpeC1idXR0b24tdGV4dCB5dC11aXgtdG9vbHRpcCI7CgkJCQl2YXIgc3BhbmNsYXNzPSIiOwoJCQl9IGVsc2UgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhdGNoLWhlYWRsaW5lLXVzZXItaW5mbycpKSB7CgkJCQl2YXIgZGl2X2VtYmVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhdGNoLWhlYWRsaW5lLXVzZXItaW5mbycpOwoJCQkJdmFyIGJ1dHRvbmNsYXNzID0gInl0LXVpeC1idXR0b24geXQtdWl4LWJ1dHRvbi1kZWZhdWx0IHl0LXVpeC10b29sdGlwIjsKCQkJCXZhciBzcGFuY2xhc3M9Inl0LXVpeC1idXR0b24tZ3JvdXAiOwoJCQl9IGVsc2UgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhdGNoOC1zZW50aW1lbnQtYWN0aW9ucycpKSB7CgkJCQl2YXIgZGl2X2VtYmVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhdGNoOC1zZW50aW1lbnQtYWN0aW9ucycpOwoJCQkJdmFyIGJ1dHRvbmNsYXNzID0gInl0LXVpeC1idXR0b24geXQtdWl4LWJ1dHRvbi1kZWZhdWx0IHl0LXVpeC10b29sdGlwIjsKCQkJCXZhciBzcGFuY2xhc3M9Inl0LXVpeC1idXR0b24tZ3JvdXAiOwoJCQl9CgoJCQl2YXIgdGFyZ2V0PSAnX2JsYW5rJzsKCgkJCWlmKGRpdl9lbWJlZCkgewoJCQkJdmFyIHRtcCA9IGRpdl9lbWJlZC5pbm5lckhUTUw7CgkJCQlkaXZfZW1iZWQuaW5uZXJIVE1MID0gJyA8c3BhbiBpZD0ib25saW5ldmlkZW9jb252ZXJ0ZXIiIGNsYXNzPSInICsgc3BhbmNsYXNzICsgJyI+JzsKCQkJCWRpdl9lbWJlZC5pbm5lckhUTUwgKz0gJzxhIGhyZWY9IicgKyBvbmxpbmV2aWRlb2NvbnZlcnRlcnBhdGggKyAnIiB0YXJnZXQ9IicgKyB0YXJnZXQgKyAnIj48YnV0dG9uIGNsYXNzPSJzdGFydCAnICsgYnV0dG9uY2xhc3MgKyAnIiB0eXBlPSJidXR0b24iIHRpdGxlPSJDb252ZXJ0IHdpdGggT25saW5lVmlkZW9Db252ZXJ0ZXIuY29tIj48aW1nIGFsdD0iIiBjbGFzcz0iIiBzdHlsZT0iIiBzcmM9IicgKyBpY29uICsgJyI+PC9idXR0b24+PC9hPic7CgkJCQlkaXZfZW1iZWQuaW5uZXJIVE1MICs9ICc8L3NwYW4+JzsKCQkJCWRpdl9lbWJlZC5pbm5lckhUTUwgKz0gdG1wOwoJCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnZlcnRCdXR0b24nKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29udmVyc2lvbkZvcm1hdCIpOwoJCQkJCXZhciBzdHJVc2VyID0gZS5vcHRpb25zW2Uuc2VsZWN0ZWRJbmRleF0udmFsdWU7CgkJCQkJd2luZG93Lm9wZW4ob25saW5ldmlkZW9jb252ZXJ0ZXJwYXRoICsgIiZmb3JtYXQ9IitzdHJVc2VyKTsKCQkJCX07CgkJCX0KCQl9LAoKCQlvblBhZ2VMb2FkIDogZnVuY3Rpb24oKSB7CgkJCWlmKGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuZG9tYWluID09ICd3d3cueW91dHViZS5jb20nKSB7CgkJCQlzZXRJbnRlcnZhbChvbmxpbmV2aWRlb2NvbnZlcnRlci5jaGVjaywgMTUwMCk7CgkJCQlvbmxpbmV2aWRlb2NvbnZlcnRlci5jaGVjaygpOwoJCQl9CgkJfSwKCgkJY2hlY2s6IGZ1bmN0aW9uKCkgewoJCQl2YXIgeXRwbGF5ZXIgPSB1bnNhZmVXaW5kb3cueXRwbGF5ZXI7CgoJCQlpZihvbmxpbmV2aWRlb2NvbnZlcnRlci5jdXJyZW50TWVkaWFVcmwgIT0gZG9jdW1lbnQuVVJMICYmIHl0cGxheWVyICYmIHl0cGxheWVyLmNvbmZpZyAmJiAgeXRwbGF5ZXIuY29uZmlnLmFyZ3MgJiYgb25saW5ldmlkZW9jb252ZXJ0ZXIuY3VycmVudElkICE9IHl0cGxheWVyLmNvbmZpZy5hcmdzLnZpZGVvX2lkKSB7CgkJCQlvbmxpbmV2aWRlb2NvbnZlcnRlci5jdXJyZW50SWQgPSB5dHBsYXllci5jb25maWcuYXJncy52aWRlb19pZDsKCQkJCW9ubGluZXZpZGVvY29udmVydGVyLmN1cnJlbnRNZWRpYVVybCA9IGRvY3VtZW50LlVSTDsKCQkJCW9ubGluZXZpZGVvY29udmVydGVyLmFkZEJ1dHRvbnMoZG9jdW1lbnQpOwoJCQl9CgkJfQoJfTsKCglvbmxpbmV2aWRlb2NvbnZlcnRlci5vblBhZ2VMb2FkKCk7Cgp9"},{"name":"youkuvod","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://v.youku.com/v_show/id*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":["shokdown.com"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512441},"enabled":false,"position":3,"file_url":"https://greasyfork.org/scripts/2837-youkuvod/code/youkuvod.user.js","uuid":"c69f12d6-2881-4a3e-9a40-38d186bcd071","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIHlvdWt1dm9kCi8vIEB2ZXJzaW9uICAgICAgICAxNi4xMi4yNS4wMQovLyBAZGVzY3JpcHRpb24gICAg56ys5LiJ5pa55pyN5Yqh6Kej5p6Q6KeG6aKRLGNrcGxheWVy5pKt5pS+6KeG6aKRLOWOu+aOieS8mOmFt+W5v+WRigovLyBAaWNvbiAgICAgICAgICAgaHR0cDovL3VwbG9hZC54aW5zaGFuZ3NoYW5neGluLmNvbS9vXzE5cGJvNzR1ZzFlZ2gxZDR0dDgxOGhiMTRiNDkuaWNvCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vdi55b3VrdS5jb20vdl9zaG93L2lkKgovLyBAZ3JhbnQgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGF1dGhlciAgICAgICAgIFNIQU5H5q6HCi8vIEBuYW1lc3BhY2UgICAgICBTSEFORwovLyA9PS9Vc2VyU2NyaXB0PT0KCgovL+WFqOWxgOWPmOmHjwp2YXIgY3VycmVudEhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKdmFyIGlzTG9nID0gZmFsc2U7CnZhciB0aW1lb3V0ID0gMTUgKiAxMDAwOwp2YXIgZGVmaW5pdGlvbnMgPSBbJzEwODAnLCAn6LaF5riFJywgJ+mrmOa4hScsICfmoIfmuIUnXTsgLy/muIXmmbDluqYKdmFyIHBsYXlJZCA9ICdwbGF5ZXInOyAvL+aSreaUvuabv+aNoueahCBpZAoKdmFyIGNrU3dmID0gJ2h0dHA6Ly95b3VrdXZvZC5jb2RpbmcubWUveW91a3V2b2QvY2twbGF5ZXIvY2twbGF5ZXIuc3dmJzsKdmFyIGNrSnMgPSAnaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzE3OTk3LWNrcGxheWVyNi02L2NvZGUvY2twbGF5ZXI2Ni5qcz92ZXJzaW9uPTExMzQxNyc7Cgp2YXIgZGVmaW5pdGlvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKLy8g6L295YWl6ZyA6KaB55qEY2tKcwpsb2FkQ2tKcygpOwoKLy8gcG9seWZpbGwKcG9seWZpbGwoKTsKCi8vIOeVjOmdouiuvue9rgpwYWdlU2V0dGluZygpOwoKLy8g55So5oi36K6+572uCnZhciBvcHRpb24gPSB7CiAgZGVmaW5pdGlvbjogMSAgIC8v5riF5pmw5bqmCn07CgppZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2hhbmdfeW91a3V2b2QnKSkgewogIHZhciB1c2VyT3B0aW9uID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2hhbmdfeW91a3V2b2QnKSk7CiAgb3B0aW9uLmRlZmluaXRpb24gPSB1c2VyT3B0aW9uLmRlZmluaXRpb24gPT09IHVuZGVmaW5lZCA/IG9wdGlvbi5kZWZpbml0aW9uIDogcGFyc2VJbnQodXNlck9wdGlvbi5kZWZpbml0aW9uKTsKfQovLyDnlKjmiLforr7nva7nu5PmnZ8KCgovLyDlvIDlp4vmn6Xor6Ig5pKt5pS+VVJMOwppZihpc01hdGNoKGN1cnJlbnRIcmVmKSkgewogIHN0YXJ0UGFyc2UoKTsKfQoKZnVuY3Rpb24gc3RhcnRQYXJzZSgpIHsKICB2YXIgbnUgPSAwOwogIHZhciB0YXJnZXROdSA9IDE7CiAgdmFyIHJlc3VsdHMgPSBbXTsKICB2YXIgaXNQbGF5aW5nID0gZmFsc2U7CiAgLy8gYWRkcmVzc1hNTChjdXJyZW50SHJlZiwgZnVuY3Rpb24oZXJyLCBkYXRhKSB7CiAgLy8gICBudSsrOwogIC8vICAgaWYoZXJyKSB7CiAgLy8gICAgIGxvZyhlcnIpOwogIC8vICAgICB0cnlQbGF5KHJlc3VsdHMsIG51KTsKICAvLyAgICAgcmV0dXJuOwogIC8vICAgfQogIC8vICAgcmVzdWx0cy5wdXNoLmFwcGx5KHJlc3VsdHMsIGRhdGEpOwogIC8vICAgdHJ5UGxheShyZXN1bHRzLCBudSk7CiAgLy8gfSk7CgogIGFkZHJlc3MoY3VycmVudEhyZWYsIGZ1bmN0aW9uKGVyciwgZGF0YSkgewogICAgbnUrKzsKICAgIGlmKGVycikgewogICAgICBsb2coZXJyKTsKICAgICAgdHJ5UGxheShyZXN1bHRzLCBudSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHJlc3VsdHMucHVzaC5hcHBseShyZXN1bHRzLCBkYXRhLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7CiAgICAgIHJldHVybiBoYXZlVXJscyhpdGVtKTsKICAgIH0pLnJldmVyc2UoKSk7CiAgICB0cnlQbGF5KHJlc3VsdHMsIG51KTsKICB9KTsKCgogIGZ1bmN0aW9uIHRyeVBsYXkoKSB7CiAgICBsb2coJ251OiAnLCBudSwgJ3Jlc3VsdHM6ICcsIHJlc3VsdHMpOwogICAgaWYoIXJlc3VsdHMubGVuZ3RoKSB7CiAgICAgIGlmKG51ID09PSB0YXJnZXROdSkgewogICAgICAgIHRocm93RXJyb3IobnVsbCwgbnUgPT09IHRhcmdldE51KTsKICAgICAgfQogICAgICByZXR1cm47CiAgICB9CgogICAgYWRkQnV0dG9uKHJlc3VsdHMpOwoKICAgIHZhciBtYXRjaE9iaiA9IHJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PT0gZGVmaW5pdGlvbnNbb3B0aW9uLmRlZmluaXRpb25dOwogICAgfSlbMF07CgogICAgaWYoaGF2ZVVybHMobWF0Y2hPYmopKSB7CiAgICAgIGlzUGxheWluZyA9IHRydWU7CiAgICAgIGxvZygnbWF0Y2hPYmouZGF0YTogJywgbWF0Y2hPYmouZGF0YSk7CiAgICAgIGxvZygnYWxsIHJlc3VsdHM6JywgcmVzdWx0cyk7CiAgICAgIHN0YXJ0UGxheShtYXRjaE9iai5kYXRhLmpvaW4oJ3wnKSk7CiAgICB9CgogICAgaWYoIWlzUGxheWluZyAmJiBudSA9PT0gdGFyZ2V0TnUpIHsKICAgICAgbWF0Y2hPYmogPSByZXN1bHRzW3Jlc3VsdHMubGVuZ3RoIC0gMV07CgogICAgICBsb2coJ21hdGNoT2JqLmRhdGE6ICcsIG1hdGNoT2JqLmRhdGEpOwogICAgICBsb2coJ2FsbCByZXN1bHRzOicsIHJlc3VsdHMpOwogICAgICBzdGFydFBsYXkobWF0Y2hPYmouZGF0YS5qb2luKCd8JykpOwogICAgfQoKICB9Cn0KCmZ1bmN0aW9uIGhhdmVVcmxzKG1hdGNoT2JqKSB7CiAgcmV0dXJuIG1hdGNoT2JqICYmIG1hdGNoT2JqLmRhdGEgJiYgbWF0Y2hPYmouZGF0YS5sZW5ndGg7Cn0KCgovL+ajgOa1i+WMuemFjSjlvoXlrozlloQpCmZ1bmN0aW9uIGlzTWF0Y2godXJsKSB7CiAgcmV0dXJuIC92XC55b3VrdVwuY29tXC92X3Nob3dcL2lkLy50ZXN0KHVybCk7Cn0KCi8v5pyq6Kej5p6Q5Yiw6KeG6aKR5oqb5Ye65byC5bi4CmZ1bmN0aW9uIHRocm93RXJyb3IoZSwgaXNBbGVydCkgewogIGRlZmluaXRpb25EaXYuaW5uZXJIVE1MID0gJzxkaXY+6Kej5p6Q5aSx6LSlPC9kaXY+JzsKICBpZihpc0FsZXJ0KSB7CiAgICBhbGVydCgn5rKh5pyJ6Kej5p6Q5Yiw6KeG6aKRJyk7CiAgfQp9CgpmdW5jdGlvbiBhZGRyZXNzWE1MKHVybCwgZG9uZSkgewogIGxvZygnc3RhcnQgYWRkcmVzc1hNTCcpOwogIC8vbm9pbnNwZWN0aW9uIEpTVW5yZXNvbHZlZEZ1bmN0aW9uCiAgR01feG1saHR0cFJlcXVlc3QoewogICAgbWV0aG9kOiAnR0VUJywKICAgIHRpbWVvdXQ6IHRpbWVvdXQsCiAgICB1cmw6ICdodHRwOi8vYXBpLmJ0anNvbi5jb20vdmlkZW8ucGhwP3Y9JyArIHVybCwKICAgIGhlYWRlcnM6IHsKICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbm8tY2FjaGUnLAogICAgICAndXNlci1hZ2VudCc6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjI7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81MS4wLjI3MDQuNjMgU2FmYXJpLzUzNy4zNicKICAgIH0sCiAgICBvbmxvYWQ6IGZ1bmN0aW9uKGpkYXRhKSB7CiAgICAgIHZhciBkYXRhID0gcGFyc2VYTUwoamRhdGEucmVzcG9uc2VUZXh0KTsKICAgICAgbG9nKCdlbmQgYWRkcmVzc1hNTDogJywgZGF0YSk7CiAgICAgIGRvbmUobnVsbCwgZGF0YSk7CiAgICB9LAogICAgb25lcnJvcjogZnVuY3Rpb24ocmVzKSB7CiAgICAgIGxvZygnZXJyb3IgYWRkcmVzc1hNTCcpOwogICAgICBkb25lKHJlcyk7CiAgICB9LAogICAgb250aW1lb3V0OiBmdW5jdGlvbihyZXMpIHsKICAgICAgbG9nKCd0aW1lb3V0IGFkZHJlc3NYTUwnKTsKICAgICAgZG9uZShyZXMpOwogICAgfQogIH0pOwp9CgovL+WcsOWdgOino+aekApmdW5jdGlvbiBhZGRyZXNzKHVybCwgZG9uZSkgewogIGxvZygnc3RhcnQgYWRkcmVzcycpOwogIC8vbm9pbnNwZWN0aW9uIEpTVW5yZXNvbHZlZEZ1bmN0aW9uCiAgR01feG1saHR0cFJlcXVlc3QoewogICAgbWV0aG9kOiAnUE9TVCcsCiAgICB0aW1lb3V0OiB0aW1lb3V0LAogICAgdXJsOiAnaHR0cDovL3d3dy5zaG9rZG93bi5jb20vcGFyc2UucGhwJywKICAgIGRhdGE6ICd1cmw9JyArIHVybCwKICAgIGhlYWRlcnM6IHsKICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbm8tY2FjaGUnLAogICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ3poLUNOLHpoO3E9MC44LGVuO3E9MC42JywKICAgICAgcmVmZXJlcjogJ2h0dHA6Ly93d3cuc2hva2Rvd24uY29tLycsCiAgICAgIGRudDogJzEnLAogICAgICBhY2NlcHQ6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLCovKjtxPTAuOCcsCiAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4yOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNTEuMC4yNzA0LjYzIFNhZmFyaS81MzcuMzYnLAogICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywKICAgICAgJ3gtZGV2dG9vbHMtZW11bGF0ZS1uZXR3b3JrLWNvbmRpdGlvbnMtY2xpZW50LWlkJzogJ0QwNDVCNDM5LURBMjktNENERi04QTJDLUI5REUyNzY5RDdERCcsCiAgICAgIG9yaWdpbjogJ2h0dHA6Ly93d3cuc2hva2Rvd24uY29tJwogICAgfSwKICAgIG9ubG9hZDogZnVuY3Rpb24oamRhdGEpIHsKICAgICAgdmFyIGRhdGEgPSBwYXJzZUh0bWwoamRhdGEucmVzcG9uc2VUZXh0KTsKICAgICAgbG9nKCdlbmQgYWRkcmVzcywgJywgZGF0YSk7CiAgICAgIGRvbmUobnVsbCwgZGF0YSk7CiAgICB9LAogICAgb25lcnJvcjogZnVuY3Rpb24ocmVzKSB7CiAgICAgIGxvZygnZXJyb3IgYWRkcmVzcycpOwogICAgICBkb25lKHJlcyk7CiAgICB9LAogICAgb250aW1lb3V0OiBmdW5jdGlvbihyZXMpIHsKICAgICAgbG9nKCd0aW1lb3V0IGFkZHJlc3MnKTsKICAgICAgZG9uZShyZXMpOwogICAgfQogIH0pOwp9CgpmdW5jdGlvbiBwYXJzZVhNTChzdHIpIHsKICB2YXIgdXJscyA9IHN0ci5tYXRjaCgvaHR0cFtePjwiJyBdKyg/PVtcclxuXT9dXT4pL2dpKTsKCiAgaWYoIXVybHMpIHsKICAgIHJldHVybiBbXTsKICB9CgogIHJldHVybiBbewogICAgbmFtZTogJ+i2hea4hScsCiAgICBsZW46IHVybHMubGVuZ3RoLAogICAgZGF0YTogdXJscwogIH1dOwp9CgpmdW5jdGlvbiBwYXJzZUh0bWwoc3RyKSB7CiAgdmFyIGluZm8gPSBzdHIubWF0Y2goLzxmb250IGNvbG9yPXJlZD4uKj8oPz08XC9mb250PikvZ2kpLm1hcChmdW5jdGlvbihpdGVtKSB7CiAgICByZXR1cm4gaXRlbS5yZXBsYWNlKC88Zm9udCBjb2xvcj1yZWQ+L2ksICcnKTsKICB9KTsKICB2YXIgYWxsQSA9IHN0ci5tYXRjaCgvYSBocmVmPVsiJ10/KGh0dHBbXj4iJyBdKykoPz1bIiddPykvZ2kpLm1hcChmdW5jdGlvbihpdGVtKSB7CiAgICByZXR1cm4gaXRlbS5yZXBsYWNlKC9hIGhyZWY9WyInXT8vaSwgJycpOwogIH0pOwoKICB2YXIgbGVuOwogIHZhciByZXN1bHQgPSBbXTsKICBmb3IodmFyIGkgPSAwLCBsID0gaW5mby5sZW5ndGg7IGkgPCBsIC0gMTsgaSArPSAyKSB7CiAgICBpZighL1xkKy8udGVzdChpbmZvW2kgKyAxXSkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgbGVuID0gcGFyc2VJbnQoaW5mb1tpICsgMV0pOwogICAgcmVzdWx0LnB1c2goewogICAgICBuYW1lOiBpbmZvW2ldLAogICAgICBsZW46IGxlbiwKICAgICAgZGF0YTogYWxsQS5zcGxpY2UoMCwgbGVuKQogICAgfSk7CiAgfQoKICByZXR1cm4gcmVzdWx0Owp9CgovL+aSreaUvuinhumikQpmdW5jdGlvbiBzdGFydFBsYXkodSwgc3MsIG51KSB7CiAgaWYoIUNLb2JqZWN0KSB7CiAgICBpZihudSA+IDIpIHsKICAgICAgdGhyb3dFcnJvcihuZXcgRXJyb3IoJ0NLb2JqZWN0IOS4jeWtmOWcqO+8ge+8gScpLCB0cnVlKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIHN0YXJ0UGxheSh1LCBzcywgKG51IHx8IDEpICsgMSk7CiAgICB9LCAxMDAwKTsKICB9CiAgc3MgPSBzcyB8fCAwOwogIGlmKENLb2JqZWN0LmdldE9iamVjdEJ5SWQoJ3N5cGxheWVyJykgIT09IG51bGwpIHsKICAgIENLb2JqZWN0LmdldE9iamVjdEJ5SWQoJ3N5cGxheWVyJykuY2twbGF5ZXJfbmV3YWRkcmVzcygne2YtPicgKyB1ICsgJ317cy0+JyArIHNzICsgJ30nKTsKICAgIHJldHVybjsKICB9CgogIHZhciBsb2FkSnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICBsb2FkSnMudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOwogIGxvYWRKcy5pbm5lckhUTUwgPSAidmFyIGZsYXNodmFycz17ZjonIiArIHUgKyAiJyxjOjAsdjo4MCxlOjAsczonIiArIHNzICsgIicscDoxLGc6JyIgKyAwICsgIid9O3ZhciBwYXJhbXM9e2JnY29sb3I6JyNGRkYnLGFsbG93RnVsbFNjcmVlbjp0cnVlLGFsbG93U2NyaXB0QWNjZXNzOidhbHdheXMnfTtDS29iamVjdC5lbWJlZFNXRignIiArIGNrU3dmICsgIicsJyIgKyBwbGF5SWQgKyAiJywnc3lwbGF5ZXInLCcxMDAlJywnMTAwJScsZmxhc2h2YXJzLHBhcmFtcyk7IjsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5hcHBlbmRDaGlsZChsb2FkSnMpOwp9CgovL+aYvuekuuaCrOa1ruaMiemSrgpmdW5jdGlvbiBhZGRCdXR0b24oYXJyKSB7CiAgdmFyIHNldHRpbmcgPSAnJzsKICAvLyc8YnV0dG9uIHN0eWxlPSJkaXNwbGF5OmJsb2NrO2JvcmRlcjpub25lO2JhY2tncm91bmQ6bm9uZTsiIG9uY2xpY2s9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwnY29udGVudF9zaGFuZ1wnKS5zdHlsZS5kaXNwbGF5PShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcJ2NvbnRlbnRfc2hhbmdcJykuc3R5bGUuZGlzcGxheSA9PSBcJ2Jsb2NrXCcgPyBcJ25vbmVcJyA6IFwnYmxvY2tcJykiPuiuvue9rjwvYnV0dG9uPic7CiAgZGVmaW5pdGlvbkRpdi5pbm5lckhUTUwgPSBzZXR0aW5nICsgYXJyLm1hcChmdW5jdGlvbihpdGVtKSB7CiAgICAgIHJldHVybiAnPGlucHV0IHR5cGU9ImJ1dHRvbiIgb25jbGljayA9ICJDS29iamVjdC5nZXRPYmplY3RCeUlkKFwnc3lwbGF5ZXJcJykubmV3QWRkcmVzcyhcJ3tzLT4wfXtmLT4nICsKICAgICAgICBpdGVtLmRhdGEuam9pbignfCcpICsgJ31cJyk7IiB2YWx1ZT0iJyArIGl0ZW0ubmFtZSArCiAgICAgICAgJyIgc3R5bGU9ImRpc3BsYXk6YmxvY2s7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZDpub25lOyI+JzsKICAgIH0pLmpvaW4oJycpOwp9CgpmdW5jdGlvbiBsb2coKSB7CiAgaWYoaXNMb2cpIHsKICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7CiAgfQp9CgpmdW5jdGlvbiBsb2FkQ2tKcygpIHsKICAvLyDovb3lhaUgY2tKcwogIHZhciBsb2FkQ2tKc0VsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogIGxvYWRDa0pzRWxlLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsKICBsb2FkQ2tKc0VsZS5zcmMgPSBja0pzOwogIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uYXBwZW5kQ2hpbGQobG9hZENrSnNFbGUpOwp9CgpmdW5jdGlvbiBwYWdlU2V0dGluZygpIHsKICB2YXIgb3B0aW9uU2hvd0h0bWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBvcHRpb25TaG93SHRtbC5pbm5lckhUTUwgPSAnPGRpdiBpZD0iY29udGVudF9zaGFuZyI+JyArICc8ZmllbGRzZXQ+JyArICc8bGVnZW5kIHRpdGxlPSIiPuino+aekOacjeWKoeWZqDwvbGVnZW5kPicgKyAnPHNlbGVjdCBpZD0iZmx2X3NoYW5nIj4nICsgJzxvcHRpb24gdmFsdWU9InNzIj7oiJLlhYs8L29wdGlvbj4nICsgJycgKyAnPC9zZWxlY3Q+JyArICc8L2ZpZWxkc2V0PicgKyAnPGZpZWxkc2V0PicgKyAnPGxlZ2VuZCB0aXRsZT0iIj7pu5jorqTmuIXmmbDluqY8L2xlZ2VuZD4nICsgJzxzZWxlY3QgaWQ9InF4ZF9zaGFuZyI+JyArICcnICsgJzxvcHRpb24gdmFsdWU9IjEiPui2hea4hTwvb3B0aW9uPicgKyAnPG9wdGlvbiB2YWx1ZT0iMiI+6auY5riFPC9vcHRpb24+JyArICc8b3B0aW9uIHZhbHVlPSIzIj7moIfmuIU8L29wdGlvbj4nICsgJzwvc2VsZWN0PicgKyAnPC9maWVsZHNldD4nICsgJzxmaWVsZHNldD4nICsgJzxsZWdlbmQgdGl0bGU9IiI+5rOo5oSPPC9sZWdlbmQ+JyArICfngrnlh7vnoa7lrprkuqfnlJ88YnI+JyArICfliLfmlrDpobXpnaLlupTnlKjorr7nva4nICsgJzxidXR0b24gaWQ9ImNvbmZpcm1fc2hhbmciPuehruWumjwvYnV0dG9uPicgKyAnPC9maWVsZHNldD4nICsgJzwvZGl2Pic7CgogIHZhciBvcHRpb25TaG93U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogIG9wdGlvblNob3dTdHlsZS50eXBlID0gJ3RleHQvY3NzJzsKICBvcHRpb25TaG93U3R5bGUuaW5uZXJIVE1MID0gJyNjb250ZW50X3NoYW5ne3otaW5kZXg6IDk5OTk5O3Bvc2l0aW9uOmZpeGVkO3RvcDo1MCU7bWFyZ2luLXRvcDotMTUwcHg7cmlnaHQ6NTBweDtiYWNrZ3JvdW5kOiNmYmZiZmI7ZGlzcGxheTpub25lfSNjb250ZW50X3NoYW5nIGZpZWxkc2V0e3BhZGRpbmc6NnB4O21hcmdpbjozcHh9I2NvbnRlbnRfc2hhbmcgdWx7bWFyZ2luOjA7cGFkZGluZzowfSNjb250ZW50X3NoYW5nIGxpe2xpc3Qtc3R5bGU6bm9uZX1pbnB1dFt0eXBlPWNoZWNrYm94XTpob3ZlcntjdXJzb3I6cG9pbnRlcn0nOwoKICB2YXIgb3B0aW9uU2hvd1NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogIG9wdGlvblNob3dTY3JpcHQuaW5uZXJIVE1MID0gJyFmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt2YXIgYT17cWluZ3hpZHU6MSxpc2d5OiExLGZsdjoic3MiLHdoaWNoOjN9O2xvY2FsU3RvcmFnZVsic2hhbmdfeW91a3V2b2QiXSYmKGE9ZShhLEpTT04ucGFyc2UobG9jYWxTdG9yYWdlWyJzaGFuZ195b3VrdXZvZCJdKSkpLGIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZsdl9zaGFuZyIpLm9wdGlvbnMsYS5mbHYpLGIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF4ZF9zaGFuZyIpLm9wdGlvbnMsYS5xaW5neGlkdSksYihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgid2hpY2hfc2hhbmciKS5vcHRpb25zLGEud2hpY2gpLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpc2d5X3NoYW5nIikuY2hlY2tlZD0hYS5pc2d5LGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25maXJtX3NoYW5nIikub25jbGljaz1mdW5jdGlvbigpe2MoKSxsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWZ9LGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb250ZW50X3NoYW5nIikub25tb3VzZW92ZXI9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy5zdHlsZS5kaXNwbGF5PSJibG9jayJ9LGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb250ZW50X3NoYW5nIikub25tb3VzZWxlYXZlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLnRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnN0eWxlLmRpc3BsYXk9Im5vbmUifSwxZTMpfX1mdW5jdGlvbiBiKGEsYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYVtjXS52YWx1ZT09YiYmKGFbY10uc2VsZWN0ZWQ9ITApfWZ1bmN0aW9uIGMoKXt2YXIgYT17fTthLmZsdj1kKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmbHZfc2hhbmciKS5vcHRpb25zKSxhLnFpbmd4aWR1PWQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF4ZF9zaGFuZyIpLm9wdGlvbnMpLGEud2hpY2g9ZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgid2hpY2hfc2hhbmciKS5vcHRpb25zKSxhLmlzZ3k9IWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpc2d5X3NoYW5nIikuY2hlY2tlZCxsb2NhbFN0b3JhZ2VbInNoYW5nX3lvdWt1dm9kIl09SlNPTi5zdHJpbmdpZnkoYSl9ZnVuY3Rpb24gZChhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLnNlbGVjdGVkKXJldHVybiBhW2JdLnZhbHVlO3JldHVybiAwfWZ1bmN0aW9uIGUoYSxiKXtmb3Ioa2V5IGluIGIpYVtrZXldPWJba2V5XTtyZXR1cm4gYX1hKCl9KCk7JzsKCiAgZGVmaW5pdGlvbkRpdi5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOmZpeGVkOyB6LWluZGV4Ojk5OTk5OyB0b3A6NDUlOyBiYWNrZ3JvdW5kOndoaXRlO2xlZnQ6MHB4OyBib3JkZXI6M3B4IHNvbGlkIHJnYigyMjEsMjIxLDIyMSk7IHBhZGRpbmc6MnB4OyBib3JkZXItcmFkaXVzOjVweDtvdmVyZmxvdzpoaWRkZW4nOwogIGRlZmluaXRpb25EaXYuaW5uZXJIVE1MID0gJzxkaXY+6Kej5p6Q6KeG6aKR5LitPC9kaXY+JzsKCiAgdmFyIG9Cb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTsKICBvQm9keS5hcHBlbmRDaGlsZChkZWZpbml0aW9uRGl2KTsKICBvQm9keS5hcHBlbmRDaGlsZChvcHRpb25TaG93SHRtbCk7CiAgb0JvZHkuYXBwZW5kQ2hpbGQob3B0aW9uU2hvd1N0eWxlKTsKICBvQm9keS5hcHBlbmRDaGlsZChvcHRpb25TaG93U2NyaXB0KTsKCgogIC8v5riF5pmw5bqm5pi+56S6IOS+p+i+ueagjwogIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICBkZWZpbml0aW9uRGl2LnN0eWxlLndpZHRoID0gJzAnOwogIH0sIDUwMDApOwogIGRlZmluaXRpb25EaXYub25tb3VzZW92ZXIgPSBmdW5jdGlvbigpIHsKICAgIGRlZmluaXRpb25EaXYuc3R5bGUud2lkdGggPSAnJzsKICB9OwogIGRlZmluaXRpb25EaXYub25tb3VzZW91dCA9IGZ1bmN0aW9uKCkgewogICAgZGVmaW5pdGlvbkRpdi5zdHlsZS53aWR0aCA9ICcwJzsKICB9OwoKICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd2cGFjdGlvbnY1X2lmcmFtZV93cmFwJylbMF0uc3R5bGUgPSAnZGlzcGxheTogbm9uZSc7Cn0KCmZ1bmN0aW9uIHBvbHlmaWxsKCkgewogIGlmKCFBcnJheS5wcm90b3R5cGUuZmlsdGVyKSB7CiAgICBBcnJheS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24oZnVuLyosIHRoaXNBcmcqLykgewogICAgICAndXNlIHN0cmljdCc7CgogICAgICBpZih0aGlzID09PSB2b2lkIDAgfHwgdGhpcyA9PT0gbnVsbCkgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsKICAgICAgfQoKICAgICAgdmFyIHQgPSBPYmplY3QodGhpcyk7CiAgICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDsKICAgICAgaWYodHlwZW9mIGZ1biAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsKICAgICAgfQoKICAgICAgdmFyIHJlcyA9IFtdOwogICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMiA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMDsKICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgaWYoaSBpbiB0KSB7CiAgICAgICAgICB2YXIgdmFsID0gdFtpXTsKICAgICAgICAgIGlmKGZ1bi5jYWxsKHRoaXNBcmcsIHZhbCwgaSwgdCkpIHsKICAgICAgICAgICAgcmVzLnB1c2godmFsKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJlczsKICAgIH07CiAgfQp9CgoKLyoKICogMTYxMjI1ICAgICAgIOS/ruWkjei/m+W6puadoeS4jeaYvuekuumXrumimAogKiAxNjA2MjcgICAgICAgYnRqc29u5YGc5q2i6Kej5p6QCiAqIDE2MDYwNyAgICAgICDkvb/nlKhidGpzb24uY29t6Kej5p6Q6LaF5riF6KeG6aKRCiAqIDE2MDYwNSAgICAgICDkvb/nlKjoiJLlhYvop6PmnpDku6Pmm7/noZXpvKAKICogMTYwMzE2ICAgICAgIOmFjeWQiGdyZWFzeWZvcmsgICJFeHRlcm5hbCBTY3JpcHQ6IFBsZWFzZSBzdWJtaXQgc2NyaXB0IGFzIGxpYnJhcnkuIgogKiAxNjAxMDIgICAgICAg56qB56C056GV6bygMjBz6ZmQ5Yi2CiAqIDE1MTIwNCAgICAgICDkv67mraPlm6DnoZXpvKDmlLnniYjlr7zoh7TnmoTop6PmnpDlpLHmlYgKICogMTUwNDE0ICAgICAgIOS/ruato+WboOehlem8oOaUueeJiOWvvOiHtOeahOino+aekOWkseaViCzkv67mraPmuIXmmbDluqbmjInpkq7lpLHmlYgKICogMTUwMzIyICAgICAgIOmjnumptGFwaeaOpeWPo+WFs+mXrTvlsY/olL3nm7jlhbPku6PnoIEKICogMTUwMjE5ICAgICAgIGF6dXJl5YWN6LS55Yiw5pyfO+Wfn+WQjei9rGNvZGluZy5uZXQ75L+u5pS5L+a3u+WKoGNvZGluZy5uZXTmvJTnpLrmiYDpnIDopoHmlofku7YKICogMTUwMjExICAgICAgIOS/ruato+WcqOW3sue7j+iuvue9ruehlem8oOino+aekOa4heaZsOW6puS4i+agh+a4heWkseaViOmXrumimAogKiAxNTAxMzAgICAgICAg5L2/55So5LqM57qn5Z+f5ZCNLOacrOadpeWfn+WQjeWNs+Wwhuiwg+aVtAogKiAxNTAxMjEgICAgICAg5qC55o2uanNoaW505L+u5q2j5ZCE56eN6K2m5ZGKCiAqIDE1MDEwMiAgICAgICDkv67mraMv5pu05pS5IOiuvue9ruaMiemSriDmmL7npLrkvY3nva475L+u5q2j6aOe6am0MTA4MFDop6PmnpDnlaXov4fpl67popg75Y676Zmk5Lqs5Lic5pyN5Yqh5ZmoCiAqIDE0MTIzMCAgICAgICDlm77lvaLljJborr7nva7pobXpnaLnp7vliqjoh7PmuIXmmbDluqbmjInpkq7kuIrmlrkKICogMTQxMjI5ICAgICAgIOWOu+mZpOS7o+eggeiuvue9rjvmt7vliqDlm77lvaLljJborr7nva4754mI5pys5Y+35Lmm5YaZ5pa55byP5Y+Y5YyWCiAqIDE0MTIyNyAgICAgICDpu5jorqTpgInmi6nlrpjmlrnljp/niYjmkq3mlL7lmag7IOS6rOS4nOWkqua4o+S6hn5+fiwgb25lcnLlh73mlbDml6DnlKgKICogMTQxMjIxICAgICAgIOa3u+WKoOmjnumptOino+aekDsg5re75Yqg5riF5pmw5bqmMTA4MFA7IOeyvueugOmDqOWIhuS7o+eggQogKiAxNDEyMTkgICAgICAg5re75Yqg5pyN5Yqh5Zmo5YiH5o2i6K6+572uLCDmt7vliqDmnI3liqHlmajmjILmjonlvLnnqpcs56e75Yqo6IezZ2l0aHViCiAqIDE0MTIxNyAgICAgICDmuIXmmbDluqbpgInmi6nmgaLlpI0KICogMTQxMjE2ICAgICAgIOabtOaWsGNrcGxheWVyOyDmmoLml7bljrvpmaQg5riF5pmw5bqm6YCJ5oupKOeOsOWcqOWPquWPr+S7pemAieaLqem7mOiupOa4heaZsOW6pikKICogMTQwOTI3ICAgICAgIOWFqOmdouWOu+mZpCDpo57pqbQgKOKUrO+8v+KUrCk7IOa3u+WKoOa4heaZsOW6puiHquWKqOmakOiXjwogKiAxNDA5MjMgICAgICAg5Zug5Li66aOe6am06Kej5p6Q6ZyA6KaBdG9rZW4sIOaJgOS7pem7mOiupOS4uiDnoZXpvKAs5Lmf5Zug5q2k5Y676ZmkIOeIseWlh+iJuuino+aekCjnoZXpvKDkuI3mlK/mjIEpIOS/ruato+ehlem8oOS4iyDpq5jmuIXkuI3mmL7npLrpl67popgKICogMTQwODExICAgICAgIOa3u+WKoOabtOaNouacjeWKoeWZqOmAiemhuQogKiAxNDA3MjUgICAgICAg5pu05paw5pyN5Yqh5Zmo5paH5Lu2KHN3ZuaWh+S7tikKICogMTQwNzI0ICAgICAgIOa3u+WKoOeIseWlh+iJuuino+aekDsg5re75Yqg5pu05aSa5riF5pmw5bqmKOmjnumptOino+aekOS4iykKICogMTQwNzAxICAgICAgIOS/ruato+inhumikeino+aekOaYvuekuumUmeivrywgIOWPkeeOsOafkOS6m+acquiDveS/ruato+mUmeivryzmmoLml7blj6rkv53nlZnln7rmnKzlip/og70KICogMTQwNjI4ICAgICAgIOaVtOWQiOmjnumptOino+aekCwg5re75Yqg6KeG6aKR5aSn5bCP6YCJ5oupKOmhtumDqOagj+WFtuS7luS/oeaBr+aYvuekuikgICDmt7vliqDorr7nva4KICogMTQwNjI3ICAgICAgIOWbvuagh+abtOaUuSwg5L+u5q2j6KeG6aKR5riF5pmw5bqm5pi+56S65LiN5q2j56GuCiAqIDE0MDYyNiAgICAgICBjcmVhdGUKICoqLwo="},{"name":"护眼脚本","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http*","ftp*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"colorValue":"sgreen"},"ts":1489756512447},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/14716-%E6%8A%A4%E7%9C%BC%E8%84%9A%E6%9C%AC/code/%E6%8A%A4%E7%9C%BC%E8%84%9A%E6%9C%AC.user.js","uuid":"e0d6d1fa-c67f-4fea-92a4-4e4d5190f22d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIOaKpOecvOiEmuacrAovLyBAbmFtZXNwYWNlICAgaHR0cO+8mi8vd3d3LmhvdWhvbmd3ZWkueHl6Ci8vIEBkZXNjcmlwdGlvbiDkv67mlLnnvZHpobXog4zmma/oibLvvIzorqnnvZHpobXog4zmma/oibLlgY/nmb3nmoTpg6jliIblj5jmiJDkuaHlnJ/pu4TjgIHosYbmspnnu7/miJbogIXmtYXoibLngbDvvIzmm7TliqDmiqTnnLzjgILpu5jorqTmiqTnnLzoibLmmK/kuaHlnJ/pu4TjgIIgCi8vIEBpY29uICAgICAgICBodHRwOi8vZC5sYW5yZW50dWt1LmNvbS9kb3duL3BuZy8xNDA2LzQweGlhb2Rvbmd3dS90cm9waWNhbC1maXNoLnBuZwovLyBAaW5jbHVkZSAgICAgaHR0cCoKLy8gQGluY2x1ZGUgICAgIGZ0cCogCi8vIEB2ZXJzaW9uICAgICAxLjAKLy8gQGdyYW50ICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGdyYW50ICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICBHTV9nZXRWYWx1ZQovLyA9PS9Vc2VyU2NyaXB0PT0KCi8v5b2T572R6aG155qE6IOM5pmv6aKc6Imy55qEcmdi5YC85YiG5Yir5aSn5LqOR3IxLEdnMSxHYjHml7bmraTohJrmnKzlsIbmiorpopzoibLmlLnmiJDnm67moIfpopzoibJjb2xvcgp2YXIgR3IxID0gMjQyOyAvL1JHQuS4reeahFLlgLwKdmFyIEdnMSA9IDI0MjsgLy9SR0LkuK3nmoRH5YC8CnZhciBHYjEgPSAyNDI7IC8vUkdC5Lit55qEQuWAvAoKLy8qKioqKioqKioq5Lul5LiL5Luj56CB55So5oi35peg6ZyA5L+u5pS5KioqKioqKioqKiovLwp2YXIgR3IsIEdnLCBHYjsgLy/lhajlsYDlj5jph4/orrDlvZXlvZPliY3moIfnrb7nmoRyZ2LlgLws55So5LqO5q+U6L6DCgovL+S7peS4i+WHveaVsOeUqOS6juWIhuino+iOt+WPlueahCJyZ2IoMjU1LCAyNTUsIDI1NSki5qC85byP55qEcmdiCmZ1bmN0aW9uIEZHcmdiKEdyZ2IpIHsKICAgIEdyZ2IgPSBHcmdiLnJlcGxhY2UoL1tyZ2JhXChcKV0vZywgJycpOwogICAgdmFyIGthaXNpID0gR3JnYi5zcGxpdCgiLCIpOwogICAgaWYgKGthaXNpIDwgMykgcmV0dXJuOwogICAgR3IgPSBwYXJzZUludChrYWlzaVswXSk7CiAgICBHZyA9IHBhcnNlSW50KGthaXNpWzFdKTsKICAgIEdiID0gcGFyc2VJbnQoa2Fpc2lbMl0pOwogICAgLy9hbGVydChHcisifCIrR2IrInwiK0dnKTsKfQoKCmZ1bmN0aW9uIGNoYW5nZUFsbEVsZW1lbnRzQ29sb3IoY29sb3IpIHsKICAgIHZhciBMY29sb3IgPSAiIjsgLy/nlKjkuo7orrDlvZXnvZHpobXkuK3ojrflj5bnmoTog4zmma/popzoibIKICAgIC8v6I635Y+W5bm25L+u5pS55omA5pyJ5qCH562+55qE6IOM5pmv6aKc6ImyCiAgICB2YXIgYWxsdGFncyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIik7CiAgICB2YXIgbGVuID0gYWxsdGFncy5sZW5ndGg7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CgogICAgICAgIGlmIChhbGx0YWdzW2ldLnN0eWxlLmJhY2tncm91bmRDb2xvciA9PSBjb2xvcikgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIExjb2xvciA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYWxsdGFnc1tpXSwgIiIpLmdldFByb3BlcnR5VmFsdWUoImJhY2tncm91bmQtQ29sb3IiKTsKICAgICAgICBGR3JnYihMY29sb3IpOwogICAgICAgIGlmIChHciA+IEdyMSAmJiBHZyA+IEdnMSAmJiBHYiA+IEdiMSkgewogICAgICAgICAgICBhbGx0YWdzW2ldLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yOwogICAgICAgIH0KICAgIH0KfQoKZnVuY3Rpb24gZml4QXV0b1BhZ2UoKSB7CiAgICB2YXIgX2JvZHlIZWlnaHQgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsKICAgIC8vIOWIm+W7uuinguWvn+iAheWvueixoQogICAgdmFyIG9ic2VydmVyID0gbmV3IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucykgewogICAgICAgIGlmIChtdXRhdGlvbnNbMF0uYWRkZWROb2RlcykgewogICAgICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgPiBfYm9keUhlaWdodCkgewoKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCItLS0tLS0tLWFkZGVkTm9kZXMtLS0tLS0tLS0iKTsKCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGNoYW5nZUFsbEVsZW1lbnRzQ29sb3IoKTsKICAgICAgICAgICAgICAgIH0sIDIwMCk7CgogICAgICAgICAgICAgICAgX2JvZHlIZWlnaHQgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgewogICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgICBzdWJ0cmVlOiB0cnVlCiAgICB9KTsKfQoKZnVuY3Rpb24gY2hhbmdlQ29sb3IoY29sb3JWYWx1ZSkgewogICAgdmFyIGNvbG9yID0gIiNGNkY0RUMiOyAvL+aUueWPmOWQjueahOiDjOaZr+minOiJsgogICAgdmFyIExjb2xvciA9ICIiOyAvL+eUqOS6juiusOW9lee9kemhteS4reiOt+WPlueahOiDjOaZr+minOiJsgogICAgLy/ojrflj5blubbkv67mlLlib2R555qE6IOM5pmv6aKc6ImyLgogICAgCiAgICBpZiAoY29sb3JWYWx1ZSA9PSAieWVsbG93IikKICAgIHsKICAgICAgICBjb2xvciA9ICIjRjZGNEVDIjsKICAgICAgICAvL2FsZXJ0KCJZZWxsb3ciKTsKICAgIH0KICAgIGVsc2UgaWYgKGNvbG9yVmFsdWUgPT0gImdyZWVuIikKICAgIHsKICAgICAgICBjb2xvciA9ICIjQ0NFOENGIjsKICAgICAgICAvL2FsZXJ0KCJHcmVlbiIpOwogICAgfQogICAgZWxzZSBpZiAoY29sb3JWYWx1ZSA9PSAiZ3JleSIpCiAgICB7CiAgICAgICAgY29sb3IgPSAiI0YyRjJGMiI7CiAgICAgICAgLy9hbGVydCgiR3JleSIpOwogICAgfQoKICAgIHRyeSB7CiAgICAgICAgTGNvbG9yID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5LCAiIikuZ2V0UHJvcGVydHlWYWx1ZSgiYmFja2dyb3VuZC1Db2xvciIpOwogICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBGR3JnYihMY29sb3IpOwoKICAgIGlmICgoR3IgPiBHcjEgJiYgR2cgPiBHZzEgJiYgR2IgPiBHYjEpIHx8IExjb2xvciA9PSAidHJhbnNwYXJlbnQiIHx8IEdyID09IDAgJiYgR2cgPT0gMCAmJiBHYiA9PSAwKSAvL3RyYW5zcGFyZW506KGo56S66YCP5piOCiAgICB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjsKICAgIH0KCiAgICBjaGFuZ2VBbGxFbGVtZW50c0NvbG9yKGNvbG9yKTsKCiAgICBmaXhBdXRvUGFnZSgpOwogICAgCn0KCmZ1bmN0aW9uIGNoYW5nZUNvbG9yWWVsbG93KCkgewogICAgY2hhbmdlQ29sb3IoInllbGxvdyIpOwogICAgR01fc2V0VmFsdWUoImNvbG9yVmFsdWUiLCAieWVsbG93Iik7Cn0KCmZ1bmN0aW9uIGNoYW5nZUNvbG9yR3JlZW4oKSB7CiAgICBjaGFuZ2VDb2xvcigiZ3JlZW4iKTsKICAgIEdNX3NldFZhbHVlKCJjb2xvclZhbHVlIiwgImdyZWVuIik7Cn0KCmZ1bmN0aW9uIGNoYW5nZUNvbG9yR3JleSgpIHsKICAgIGNoYW5nZUNvbG9yKCJncmV5Iik7CiAgICBHTV9zZXRWYWx1ZSgiY29sb3JWYWx1ZSIsICJncmV5Iik7Cn0KCkdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoIuS5oeWcn+m7hCIsIGNoYW5nZUNvbG9yWWVsbG93LCAneScpOwpHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCLosYbmspnnu78iLCBjaGFuZ2VDb2xvckdyZWVuLCAnZycpOwpHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCLmtYXoibLngbAiLCBjaGFuZ2VDb2xvckdyZXksICdyJyk7CgoKdmFyIGNvbG9yVmFsdWUgPSBHTV9nZXRWYWx1ZSgiY29sb3JWYWx1ZSIsICJub25lIik7CgppZiAoY29sb3JWYWx1ZSA9PSAibm9uZSIpCnsKICAgIGNvbG9yVmFsdWUgPSAieWVsbG93IjsKICAgIEdNX3NldFZhbHVlKCJjb2xvclZhbHVlIiwgY29sb3JWYWx1ZSk7Cgp9CgpjaGFuZ2VDb2xvcihjb2xvclZhbHVlKTs="},{"name":"琉璃神社老司机：快速上车","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["*://hacg.riwee.com/wordpress/*","*://www.hacg.me/wordpress/*","*://www.hacg.in/wordpress/*","*://www.hacg.be/wordpress/*","*://www.hacg.lol/*","*://*hacg.club/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512455},"enabled":true,"position":5,"file_url":"https://greasyfork.org/scripts/17160-%E7%90%89%E7%92%83%E7%A5%9E%E7%A4%BE%E8%80%81%E5%8F%B8%E6%9C%BA-%E5%BF%AB%E9%80%9F%E4%B8%8A%E8%BD%A6/code/%E7%90%89%E7%92%83%E7%A5%9E%E7%A4%BE%E8%80%81%E5%8F%B8%E6%9C%BA%EF%BC%9A%E5%BF%AB%E9%80%9F%E4%B8%8A%E8%BD%A6.user.js","uuid":"93745b99-d3b6-49f7-8315-4d217cce0579","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnkInnkoPnpZ7npL7ogIHlj7jmnLrvvJrlv6vpgJ/kuIrovaYKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dpdGh1Yi5jb20vcGRrc3QvTW9ua2V5U2NyaXB0Ci8vIEB2ZXJzaW9uICAgICAgMC4xMDk2Ci8vIEBkZXNjcmlwdGlvbiAgRG9uJ3QgcGFuaWMuCi8vIEBhdXRob3IgICAgICAg57qi6aKG5be+77yMcGRrc3QKLy8gQGluY2x1ZGUgICAgICAqOi8vaGFjZy5yaXdlZS5jb20vd29yZHByZXNzLyoKLy8gQGluY2x1ZGUgICAgICAqOi8vd3d3LmhhY2cubWUvd29yZHByZXNzLyoKLy8gQGluY2x1ZGUgICAgICAqOi8vd3d3LmhhY2cuaW4vd29yZHByZXNzLyoKLy8gQGluY2x1ZGUgICAgICAqOi8vd3d3LmhhY2cuYmUvd29yZHByZXNzLyoKLy8gQGluY2x1ZGUgICAgICAqOi8vd3d3LmhhY2cubG9sLyoKLy8gQGluY2x1ZGUgICAgICAqOi8vKmhhY2cuY2x1Yi8qCi8vIEBpY29uICAgICAgICAgaHR0cDovL3d3dy5oYWNnLm1lL2Zhdmljb24uaWNvCi8vIEBydW4tYXQgICAgICAgZG9jdW1lbnQtZW5kCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCi8v5qC55o2u55CJ55KD56We56S+6ICB5Y+45py6ID3kv67mlLks5pS55o6J6L+H55+t55qE6ZO+5o6l5Lmf5Lya6KKr5pu/5o2i55qE6Zeu6aKYCi8v5L615YigCgooZnVuY3Rpb24gKCkgewogICAgdmFyIG9sZERyaXZlciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2VudHJ5LWNvbnRlbnQnKVswXTsKICAgIHZhciBjaGlsZERyaXZlciA9IG9sZERyaXZlci5jaGlsZE5vZGVzOwogICAgZm9yICh2YXIgaSA9IGNoaWxkRHJpdmVyLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSAvLyDlpI3mnYLluqbmj5DljYfoh7MgTyhuKQogICAgICAgIGlmICh0YWtlTWUgPSBjaGlsZERyaXZlcltpXS50ZXh0Q29udGVudC5tYXRjaCgvKFx3ezQwfSl8KChbQS1aYS16MC05XXsyLDM5fSkoID8pW1x1NGUwMC1cdTlmYTUgXXsyLH0oID8pKyhcd3syLDM3fSlcYikvZykpewogICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgdGFrZU1lLmxlbmd0aDsgKytqKSB7IC8vIE8oMSkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRha2VNZVtqXSk7CiAgICAgICAgICAgICAgICB2YXIgaGFzaCA9IHRha2VNZVtqXS50b1N0cmluZygpLnJlcGxhY2UoLyhcc3xbXHU0ZTAwLVx1OWZhNV0pKy9nLCAnJykudHJpbSgpOwogICAgICAgICAgICAgICAgaWYgKGhhc2gubGVuZ3RoID49IDQwKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZ1ZWwgPSAiPGEgaHJlZj0nbWFnbmV0Oj94dD11cm46YnRpaDoiICsgaGFzaCArICInPuiAgeWPuOacuumTvuaOpTwvYT4iOwogICAgICAgICAgICAgICAgICAgIGNoaWxkRHJpdmVyW2ldLmlubmVySFRNTCA9IGNoaWxkRHJpdmVyW2ldLmlubmVySFRNTC50b1N0cmluZygpLnJlcGxhY2UodGFrZU1lW2pdLCBmdWVsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KfSkoKTs="},{"name":"為什麼你們就是不能加個空格呢？","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512462},"enabled":true,"position":6,"file_url":"https://greasyfork.org/scripts/2185-%E7%82%BA%E4%BB%80%E9%BA%BC%E4%BD%A0%E5%80%91%E5%B0%B1%E6%98%AF%E4%B8%8D%E8%83%BD%E5%8A%A0%E5%80%8B%E7%A9%BA%E6%A0%BC%E5%91%A2/code/%E7%82%BA%E4%BB%80%E9%BA%BC%E4%BD%A0%E5%80%91%E5%B0%B1%E6%98%AF%E4%B8%8D%E8%83%BD%E5%8A%A0%E5%80%8B%E7%A9%BA%E6%A0%BC%E5%91%A2%EF%BC%9F.user.js","uuid":"4a32a9a9-434d-470d-a53a-c0874633e521","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDngrrku4DpurzkvaDlgJHlsLHmmK/kuI3og73liqDlgIvnqbrmoLzlkaLvvJ8KLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdmludGEud3MvCi8vIEBkZXNjcmlwdGlvbiAg6Ieq5YuV5Zyo57ay6aCB5Lit5omA5pyJ55qE5Lit5paH5ZKM5Y2K5b2i55qE6Iux5paH44CB5pW45a2X44CB56ym6Jmf5LmL6ZaT5o+S5YWl56m655m944CC77yI5pSk5omL77yJ5rKS6L6m5rOV77yM6JmV5aWz5bqn6YO95pyJ5by36L+r55eH44CCCi8vIEB2ZXJzaW9uICAgICAgMi41LjYKLy8gQGluY2x1ZGUgICAgICAqCi8vCi8vIEBhdXRob3IgICAgICAgVmludGEKLy8gQGhvbWVwYWdlICAgICBodHRwczovL2dpdGh1Yi5jb20vdmludGEvcGFyYW5vaWQtYXV0by1zcGFjaW5nCi8vIEBjb250cmlidXRvciAgaHR0cHM6Ly9naXRodWIuY29tL3ZpbnRhL3BhcmFub2lkLWF1dG8tc3BhY2luZy9ncmFwaHMvY29udHJpYnV0b3JzCi8vIEBsaWNlbnNlICAgICAgVGhlIE1JVCBMaWNlbnNlIChNSVQpOyBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUCi8vID09L1VzZXJTY3JpcHQ9PQoKdmFyIGlzX3NwYWNpbmcgPSBmYWxzZTsKCiFmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGI9YS5wYXJlbnROb2RlO2ImJmIubm9kZU5hbWUmJi0xPT09Yi5ub2RlTmFtZS5zZWFyY2goL14oaHRtbHxoZWFkfGJvZHl8I2RvY3VtZW50KSQvaSk7KXtpZigidHJ1ZSI9PT1iLmdldEF0dHJpYnV0ZSgiY29udGVudGVkaXRhYmxlIil8fCJ0cnVlIj09PWIuZ2V0QXR0cmlidXRlKCJnX2VkaXRhYmxlIil8fGIubm9kZU5hbWUuc2VhcmNoKGcpPj0wKXJldHVybiEwO2I9Yi5wYXJlbnROb2RlfXJldHVybiExfWZ1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9YS5jaGlsZE5vZGVzLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtpZig4IT09ZS5ub2RlVHlwZSYmZS50ZXh0Q29udGVudClyZXR1cm4gZT09PWJ9fWZ1bmN0aW9uIGQoYSxiKXtmb3IodmFyIGM9YS5jaGlsZE5vZGVzLGQ9Yy5sZW5ndGgtMTtkPi0xO2QtLSl7dmFyIGU9Y1tkXTtpZig4IT09ZS5ub2RlVHlwZSYmZS50ZXh0Q29udGVudClyZXR1cm4gZT09PWJ9fWZ1bmN0aW9uIGUoYSl7dmFyIGIsYz1hO3JldHVybiBhPWEucmVwbGFjZSgvKFtcdTJlODAtXHUyZWZmXHUyZjAwLVx1MmZkZlx1MzA0MC1cdTMwOWZcdTMwYTAtXHUzMGZmXHUzMTAwLVx1MzEyZlx1MzIwMC1cdTMyZmZcdTM0MDAtXHU0ZGJmXHU0ZTAwLVx1OWZmZlx1ZjkwMC1cdWZhZmZdKShbIl0pL2dpLCIkMSAkMiIpLGE9YS5yZXBsYWNlKC8oWyJdKShbXHUyZTgwLVx1MmVmZlx1MmYwMC1cdTJmZGZcdTMwNDAtXHUzMDlmXHUzMGEwLVx1MzBmZlx1MzEwMC1cdTMxMmZcdTMyMDAtXHUzMmZmXHUzNDAwLVx1NGRiZlx1NGUwMC1cdTlmZmZcdWY5MDAtXHVmYWZmXSkvZ2ksIiQxICQyIiksYT1hLnJlcGxhY2UoLyhbIidcKFxbXHs8XHUyMDFjXSspKFxzKikoLis/KShccyopKFsiJ1wpXF1cfT5cdTIwMWRdKykvZ2ksIiQxJDMkNSIpLGE9YS5yZXBsYWNlKC8oW1x1MmU4MC1cdTJlZmZcdTJmMDAtXHUyZmRmXHUzMDQwLVx1MzA5Zlx1MzBhMC1cdTMwZmZcdTMxMDAtXHUzMTJmXHUzMjAwLVx1MzJmZlx1MzQwMC1cdTRkYmZcdTRlMDAtXHU5ZmZmXHVmOTAwLVx1ZmFmZl0pKCApKCcpKFthLXpdKS9naSwiJDEkMyQ0IiksYT1hLnJlcGxhY2UoLyhbXHUyZTgwLVx1MmVmZlx1MmYwMC1cdTJmZGZcdTMwNDAtXHUzMDlmXHUzMGEwLVx1MzBmZlx1MzEwMC1cdTMxMmZcdTMyMDAtXHUzMmZmXHUzNDAwLVx1NGRiZlx1NGUwMC1cdTlmZmZcdWY5MDAtXHVmYWZmXSkoIyhcUyspKS9naSwiJDEgJDIiKSxhPWEucmVwbGFjZSgvKChcUyspIykoW1x1MmU4MC1cdTJlZmZcdTJmMDAtXHUyZmRmXHUzMDQwLVx1MzA5Zlx1MzBhMC1cdTMwZmZcdTMxMDAtXHUzMTJmXHUzMjAwLVx1MzJmZlx1MzQwMC1cdTRkYmZcdTRlMDAtXHU5ZmZmXHVmOTAwLVx1ZmFmZl0pL2dpLCIkMSAkMyIpLGE9YS5yZXBsYWNlKC8oW1x1MmU4MC1cdTJlZmZcdTJmMDAtXHUyZmRmXHUzMDQwLVx1MzA5Zlx1MzBhMC1cdTMwZmZcdTMxMDAtXHUzMTJmXHUzMjAwLVx1MzJmZlx1MzQwMC1cdTRkYmZcdTRlMDAtXHU5ZmZmXHVmOTAwLVx1ZmFmZl0pKFtcK1wtXCpcLz0mXFx8PD5dKShbYS16MC05XSkvZ2ksIiQxICQyICQzIiksYT1hLnJlcGxhY2UoLyhbYS16MC05XSkoW1wrXC1cKlwvPSZcXHw8Pl0pKFtcdTJlODAtXHUyZWZmXHUyZjAwLVx1MmZkZlx1MzA0MC1cdTMwOWZcdTMwYTAtXHUzMGZmXHUzMTAwLVx1MzEyZlx1MzIwMC1cdTMyZmZcdTM0MDAtXHU0ZGJmXHU0ZTAwLVx1OWZmZlx1ZjkwMC1cdWZhZmZdKS9naSwiJDEgJDIgJDMiKSxjPWEsYj1jLnJlcGxhY2UoLyhbXHUyZTgwLVx1MmVmZlx1MmYwMC1cdTJmZGZcdTMwNDAtXHUzMDlmXHUzMGEwLVx1MzBmZlx1MzEwMC1cdTMxMmZcdTMyMDAtXHUzMmZmXHUzNDAwLVx1NGRiZlx1NGUwMC1cdTlmZmZcdWY5MDAtXHVmYWZmXSkoW1woXFtcezxcdTIwMWNdKyguKj8pW1wpXF1cfT5cdTIwMWRdKykoW1x1MmU4MC1cdTJlZmZcdTJmMDAtXHUyZmRmXHUzMDQwLVx1MzA5Zlx1MzBhMC1cdTMwZmZcdTMxMDAtXHUzMTJmXHUzMjAwLVx1MzJmZlx1MzQwMC1cdTRkYmZcdTRlMDAtXHU5ZmZmXHVmOTAwLVx1ZmFmZl0pL2dpLCIkMSAkMiAkNCIpLGE9YixjPT09YiYmKGE9YS5yZXBsYWNlKC8oW1x1MmU4MC1cdTJlZmZcdTJmMDAtXHUyZmRmXHUzMDQwLVx1MzA5Zlx1MzBhMC1cdTMwZmZcdTMxMDAtXHUzMTJmXHUzMjAwLVx1MzJmZlx1MzQwMC1cdTRkYmZcdTRlMDAtXHU5ZmZmXHVmOTAwLVx1ZmFmZl0pKFtcKFxbXHs8XHUyMDFjPl0pL2dpLCIkMSAkMiIpLGE9YS5yZXBsYWNlKC8oW1wpXF1cfT5cdTIwMWQ8XSkoW1x1MmU4MC1cdTJlZmZcdTJmMDAtXHUyZmRmXHUzMDQwLVx1MzA5Zlx1MzBhMC1cdTMwZmZcdTMxMDAtXHUzMTJmXHUzMjAwLVx1MzJmZlx1MzQwMC1cdTRkYmZcdTRlMDAtXHU5ZmZmXHVmOTAwLVx1ZmFmZl0pL2dpLCIkMSAkMiIpKSxhPWEucmVwbGFjZSgvKFtcKFxbXHs8XHUyMDFjXSspKFxzKikoLis/KShccyopKFtcKVxdXH0+XHUyMDFkXSspL2dpLCIkMSQzJDUiKSxhPWEucmVwbGFjZSgvKFtcdTJlODAtXHUyZWZmXHUyZjAwLVx1MmZkZlx1MzA0MC1cdTMwOWZcdTMwYTAtXHUzMGZmXHUzMTAwLVx1MzEyZlx1MzIwMC1cdTMyZmZcdTM0MDAtXHU0ZGJmXHU0ZTAwLVx1OWZmZlx1ZjkwMC1cdWZhZmZdKShbfiE7OixcLlw/XHUyMDI2XSkoW2EtejAtOV0pL2dpLCIkMSQyICQzIiksYT1hLnJlcGxhY2UoLyhbXHUyZTgwLVx1MmVmZlx1MmYwMC1cdTJmZGZcdTMwNDAtXHUzMDlmXHUzMGEwLVx1MzBmZlx1MzEwMC1cdTMxMmZcdTMyMDAtXHUzMmZmXHUzNDAwLVx1NGRiZlx1NGUwMC1cdTlmZmZcdWY5MDAtXHVmYWZmXSkoW2EtejAtOWBcJCVcXiZcKlwtPVwrXFxcfC9AXHUwMGExLVx1MDBmZlx1MjAyMlx1MjAyN1x1MjE1MC1cdTIxOGZdKS9naSwiJDEgJDIiKSxhPWEucmVwbGFjZSgvKFthLXowLTlgflwkJVxeJlwqXC09XCtcXFx8LyE7OixcLlw/XHUwMGExLVx1MDBmZlx1MjAyMlx1MjAyNlx1MjAyN1x1MjE1MC1cdTIxOGZdKShbXHUyZTgwLVx1MmVmZlx1MmYwMC1cdTJmZGZcdTMwNDAtXHUzMDlmXHUzMGEwLVx1MzBmZlx1MzEwMC1cdTMxMmZcdTMyMDAtXHUzMmZmXHUzNDAwLVx1NGRiZlx1NGUwMC1cdTlmZmZcdWY5MDAtXHVmYWZmXSkvZ2ksIiQxICQyIil9ZnVuY3Rpb24gZihhLGYpe2Y9Znx8ZG9jdW1lbnQ7Zm9yKHZhciBrLGw9ITEsbT1kb2N1bWVudC5ldmFsdWF0ZShhLGYsbnVsbCxYUGF0aFJlc3VsdC5PUkRFUkVEX05PREVfU05BUFNIT1RfVFlQRSxudWxsKSxuPW0uc25hcHNob3RMZW5ndGgsbz1uLTE7bz4tMTstLW8pe3ZhciBwPW0uc25hcHNob3RJdGVtKG8pO2lmKGIocCkpaz1wO2Vsc2V7dmFyIHE9ZShwLmRhdGEpO2lmKHAuZGF0YSE9PXEmJihsPSEwLHAuZGF0YT1xKSxrKXtpZihwLm5leHRTaWJsaW5nJiZwLm5leHRTaWJsaW5nLm5vZGVOYW1lLnNlYXJjaChpKT49MCl7az1wO2NvbnRpbnVlfXZhciByPXAuZGF0YS50b1N0cmluZygpLnN1YnN0cigtMSkray5kYXRhLnRvU3RyaW5nKCkuc3Vic3RyKDAsMSkscz1lKHIpO2lmKHIhPT1zKXtsPSEwO2Zvcih2YXIgdD1rO3QucGFyZW50Tm9kZSYmLTE9PT10Lm5vZGVOYW1lLnNlYXJjaChoKSYmYyh0LnBhcmVudE5vZGUsdCk7KXQ9dC5wYXJlbnROb2RlO2Zvcih2YXIgdT1wO3UucGFyZW50Tm9kZSYmLTE9PT11Lm5vZGVOYW1lLnNlYXJjaChoKSYmZCh1LnBhcmVudE5vZGUsdSk7KXU9dS5wYXJlbnROb2RlO2lmKHUubmV4dFNpYmxpbmcmJnUubmV4dFNpYmxpbmcubm9kZU5hbWUuc2VhcmNoKGkpPj0wKXtrPXA7Y29udGludWV9aWYoLTE9PT11Lm5vZGVOYW1lLnNlYXJjaChqKSlpZigtMT09PXQubm9kZU5hbWUuc2VhcmNoKGgpKS0xPT09dC5ub2RlTmFtZS5zZWFyY2goZykmJi0xPT09dC5ub2RlTmFtZS5zZWFyY2goaikmJihrLnByZXZpb3VzU2libGluZz8tMT09PWsucHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lLnNlYXJjaChpKSYmKGsuZGF0YT0iICIray5kYXRhKTpiKGspfHwoay5kYXRhPSIgIitrLmRhdGEpKTtlbHNlIGlmKC0xPT09dS5ub2RlTmFtZS5zZWFyY2goaCkpcC5kYXRhPXAuZGF0YSsiICI7ZWxzZXt2YXIgdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwYW5ndSIpO3YuaW5uZXJIVE1MPSIgIix0LnByZXZpb3VzU2libGluZz8tMT09PXQucHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lLnNlYXJjaChpKSYmdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh2LHQpOnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodix0KSx2LnByZXZpb3VzRWxlbWVudFNpYmxpbmd8fHYucGFyZW50Tm9kZSYmdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHYpfX19az1wfX1yZXR1cm4gbH12YXIgZz0vXihjb2RlfHByZXx0ZXh0YXJlYSkkL2ksaD0vXihhfGRlbHxwcmV8c3xzdHJpa2V8dSkkL2ksaT0vXihicnxocnxpfGltZ3xwYW5ndSkkL2ksaj0vXihkaXZ8aDF8aDJ8aDN8aDR8aDV8aDZ8cCkkL2k7YS50ZXh0X3NwYWNpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSl9LGEucGFnZV90aXRsZV9zcGFjaW5nPWZ1bmN0aW9uKCl7dmFyIGE9Ii9odG1sL2hlYWQvdGl0bGUvdGV4dCgpIixiPWYoYSk7cmV0dXJuIGJ9LGEucGFnZV9zcGFjaW5nPWZ1bmN0aW9uKCl7dmFyIGI9YS5wYWdlX3RpdGxlX3NwYWNpbmcoKSxjPSIvaHRtbC9ib2R5Ly8qL3RleHQoKVtub3JtYWxpemUtc3BhY2UoLildIjtbInNjcmlwdCIsInN0eWxlIiwidGV4dGFyZWEiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2MrPSdbdHJhbnNsYXRlKG5hbWUoLi4pLCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiIsImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IikhPSInK2ErJyJdJ30pO3ZhciBkPWYoYyk7cmV0dXJuIGJ8fGR9LGEubm9kZV9zcGFjaW5nPWZ1bmN0aW9uKGEpe3ZhciBiPSIuLy8qL3RleHQoKVtub3JtYWxpemUtc3BhY2UoLildIjtbInNjcmlwdCIsInN0eWxlIiwidGV4dGFyZWEiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2IrPSdbdHJhbnNsYXRlKG5hbWUoLi4pLCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiIsImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IikhPSInK2ErJyJdJ30pO3ZhciBjPWYoYixhKTtyZXR1cm4gY30sYS5lbGVtZW50X3NwYWNpbmc9ZnVuY3Rpb24oYSl7dmFyIGI7aWYoMD09PWEuaW5kZXhPZigiIyIpKXt2YXIgYz1hLnNsaWNlKDEpO2I9J2lkKCInK2MrJyIpLy90ZXh0KCknfWVsc2UgaWYoMD09PWEuaW5kZXhPZigiLiIpKXt2YXIgZD1hLnNsaWNlKDEpO2I9Jy8vKltjb250YWlucyhjb25jYXQoIiAiLCBub3JtYWxpemUtc3BhY2UoQGNsYXNzKSwgIiAiKSwgIicrZCsnIildLy90ZXh0KCknfWVsc2V7dmFyIGU9YTtiPSIvLyIrZSsiLy90ZXh0KCkifXZhciBnPWYoYik7cmV0dXJuIGd9fSh3aW5kb3cucGFuZ3U9d2luZG93LnBhbmd1fHx7fSk7CgpmdW5jdGlvbiBnb19zcGFjaW5nKCkgewogICAgaXNfc3BhY2luZyA9IHRydWU7CiAgICBwYW5ndS5wYWdlX3NwYWNpbmcoKTsKICAgIGlzX3NwYWNpbmcgPSBmYWxzZTsKfQoKZ29fc3BhY2luZygpOwoKZnVuY3Rpb24gaW5zZXJ0ZWRfZ29fc3BhY2luZyhub2RlKSB7CiAgICBpc19zcGFjaW5nID0gdHJ1ZTsKICAgIHBhbmd1Lm5vZGVfc3BhY2luZyhub2RlKTsKICAgIGlzX3NwYWNpbmcgPSBmYWxzZTsKfQoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgZnVuY3Rpb24oZSkgewogICAgaWYgKCFpc19zcGFjaW5nKSB7CiAgICAgICAgaW5zZXJ0ZWRfZ29fc3BhY2luZyhlLnRhcmdldCk7CiAgICB9Cn0sIGZhbHNlKTsK"},{"name":"挊","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http*://avmo.pw/*","http*://avso.pw/*","http*://avxo.pw/*","http*://www.av28.com/*/movie/*","http*://*javlibrary.com/*","http*://*javlib.com/*","http*://*javl10.com/*","http*://*jav11b.com/*","http*://www.libredmm.com/products/*","http*://www.javbus.com/*","http*://www.javbus.me/*","http*://www.javbus2.com/*","http*://www.javbus3.com/*","http*://www.javbus5.com/*","http*://www.icpmp.com/fanhao/*.html","http*://blog.jav4you.com/*","http*://*1pondo.tv/*/index.htm","http*://www.jade-net-home.com/products/*","http*://pan.baidu.com/disk/home*","http*://115.com/?tab=offline&mode=wangpan","http*://www.furk.net/users/files/add"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"magnet":"s","search_index":"n0"},"ts":1490185235631},"enabled":true,"position":7,"file_url":"https://sleazyfork.org/scripts/8392-%E6%8C%8A/code/%E6%8C%8A.user.js","uuid":"959dae7e-72e4-4255-afa4-532a5308fcc3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIOaMigovLyBAbmFtZXNwYWNlICAg5pK4Ci8vIEBkZXNjcmlwdGlvbiDoh6rliqjojrflj5bno4Hpk77mjqXlubboh6rliqjnprvnur/kuIvovb0KCi8vIEBpbmNsdWRlICAgICBodHRwKjovL2F2bW8ucHcvKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly9hdnNvLnB3LyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vYXZ4by5wdy8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3d3dy5hdjI4LmNvbS8qL21vdmllLyoKCi8vIEBpbmNsdWRlICAgICBodHRwKjovLypqYXZsaWJyYXJ5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovLypqYXZsaWIuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vKmphdmwxMC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly8qamF2MTFiLmNvbS8qCgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly93d3cubGlicmVkbW0uY29tL3Byb2R1Y3RzLyoKCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3d3dy5qYXZidXMuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3LmphdmJ1cy5tZS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3d3dy5qYXZidXMyLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3d3dy5qYXZidXMzLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3d3dy5qYXZidXM1LmNvbS8qCgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly93d3cuaWNwbXAuY29tL2Zhbmhhby8qLmh0bWwKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vYmxvZy5qYXY0eW91LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovLyoxcG9uZG8udHYvKi9pbmRleC5odG0KLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3LmphZGUtbmV0LWhvbWUuY29tL3Byb2R1Y3RzLyoKCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3Bhbi5iYWlkdS5jb20vZGlzay9ob21lKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly8xMTUuY29tLz90YWI9b2ZmbGluZSZtb2RlPXdhbmdwYW4KLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3LmZ1cmsubmV0L3VzZXJzL2ZpbGVzL2FkZAoKLy8gQHZlcnNpb24gICAgIDEuNDcKLy8gQHJ1bi1hdCAgICAgIGRvY3VtZW50LWVuZAovLyBAZ3JhbnQgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgIEdNX3NldENsaXBib2FyZAovLyBAZ3JhbnQgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyA9PS9Vc2VyU2NyaXB0PT0KCnZhciBtYWluID0gewogIC8vYXbkv6Hmga/mn6Xor6Ig57G7CiAgamF2OiB7CiAgICB0eXBlOiAwLAogICAgcmU6IC8oYXZtb3xhdnNvfGF2eG98YXYyOCkuKm1vdmllLiovLAogICAgaW5zZXJ0X3doZXJlOiAiI21vdmllLXNoYXJlIiwKICAgIHZpZDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmhlYWRlciIpLm5leHRFbGVtZW50U2libGluZy5pbm5lckhUTUw7CiAgICB9CiAgfSwKICBqYXZsaWJyYXJ5OiB7CiAgICB0eXBlOiAwLAogICAgcmU6IC8oamF2bGlicmFyeXxqYXZsaWJ8amF2bDEwfGphdjExYikuKlw/dj0uKi8sCiAgICBpbnNlcnRfd2hlcmU6ICIjdmlkZW9fZmF2b3JpdGVfZWRpdCIsCiAgICB2aWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN2aWRlb19pZCIpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRleHQiKVswXS5pbm5lckhUTUw7CiAgICB9CiAgfSwKICBqYXZidXM6IHsKICAgIHR5cGU6IDAsCiAgICByZTogL2phdmJ1cy8sCiAgICBpbnNlcnRfd2hlcmU6ICIjc3Rhci1kaXYiLAogICAgdmlkOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuaGVhZGVyIikubmV4dEVsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50OwogICAgfQogIH0sCiAgZmFuaGFva3U6IHsKICAgIHR5cGU6IDAsCiAgICByZTogL2ljcG1wLywKICAgIGluc2VydF93aGVyZTogIi5tb2RfZmlsbSIsCiAgICB2aWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50aXRsZV9pbm5lciIpLnRpdGxlOwogICAgfQogIH0sCiAgbGlicmVkbW06IHsKICAgIHR5cGU6IDAsCiAgICByZTogL2xpYnJlZG1tLywKICAgIGluc2VydF93aGVyZTogIi5jb250YWluZXIiLAogICAgdmlkOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBsb2NhdGlvbi5ocmVmLm1hdGNoKC9wcm9kdWN0c1wvKC4qKS8pWzFdOwogICAgfQogIH0sCiAgYmxvZ2phdjR5b3U6IHsKICAgIHR5cGU6IDAsCiAgICByZTogL2Jsb2dcLmphdjR5b3VcLmNvbS8sCiAgICBpbnNlcnRfd2hlcmU6ICIucG9zdHRleHQiLAogICAgdmlkOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIucG9zdHRpdGxlIGEiKS50ZXh0Q29udGVudC5tYXRjaCgvXFsoLiopXF0vKVsxXTsKICAgIH0sCiAgfSwKICBwb25kbzE6IHsKICAgIHR5cGU6IDAsCiAgICByZTogLzFwb25kb1wudHYuKlwvaW5kZXguaHRtLywKICAgIGluc2VydF93aGVyZTogIi5oZGczIiwKICAgIHZpZDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gbG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoIi8iKVszXTsKICAgIH0sCiAgfSwKICBqYWRlbmV0aG9tZTp7CiAgICB0eXBlOjAsCiAgICByZTovamFkZS1uZXQtaG9tZS8sCiAgICBpbnNlcnRfd2hlcmU6Ii5kZXRhaWxTdG9yeSIsCiAgICB2aWQ6ZnVuY3Rpb24oKXsKICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNkZXRhaWxSaWdodCBkbCBkZCIpLnRleHRDb250ZW50OwogICAgfQogIH0sCiAgZG1tOiB7CiAgICB0eXBlOiAwLAogICAgcmU6IC9kbW1cLmNvXC5qcC8sCiAgICBpbnNlcnRfd2hlcmU6ICIubGg0IiwKICAgIHZpZDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVzdWx0ID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKC8uKmNpZD0vLCAiIikucmVwbGFjZSgvXC9cPz8uKi8sICIiKS5tYXRjaCgvW15oXzAtOV0uKi8pOwogICAgICByZXR1cm4gcmVzdWx0WzBdID8gcmVzdWx0WzBdLnJlcGxhY2UoIjAwIiwgIiIpIDogIiI7CiAgICB9CiAgfSwKCiAgLy/nvZHnm5jkuIvovb0g57G7CiAgLy/ov5nkupsgJCDmmK/nnJ/mraPnmoQganF1ZXJ5CiAgYmFpZHU6IHsKICAgIHR5cGU6IDEsCiAgICByZTogL3BhblwuYmFpZHVcLmNvbS8sCiAgICBmaWxsX2Zvcm06IGZ1bmN0aW9uIChtYWduZXQpIHsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmctYnV0dG9uW2RhdGEtYnV0dG9uLWlkPWIxM10iKS5jbGljaygpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjX2Rpc2tfaWRfMiIpLmNsaWNrKCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2hhcmUtb2ZmbGluZS1saW5rIikudmFsdWUgPSBtYWduZXQ7CiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuZy1idXR0b25bZGF0YS1idXR0b24taWQ9YjY1XSIpLmNsaWNrKCk7CiAgICAgICAgfSwgNTAwKTsKICAgICAgfSwgMTUwMCk7CiAgICB9CiAgfSwKICAxMTU6IHsKICAgIHR5cGU6IDEsCiAgICByZTogLzExNVwuY29tLywKICAgIGZpbGxfZm9ybTogZnVuY3Rpb24gKGxpbmspIHsKICAgICAgdmFyIHJzYyA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAiY29tcGxldGUiKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKHJzYyk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgQ29yZVsiT0ZGTDVQbHVnIl0uT3BlbkxpbmsoKTsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgJCgiI2pzX29mZmxpbmVfbmV3X2FkZCIpLnZhbChsaW5rKTsKICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0KICAgICAgfSwgNDAwKTsKICAgIH0KICB9LAogIGxldHY6IHsKICAgIHR5cGU6IDEsCiAgICByZTogL2Nsb3VkXC5sZXR2XC5jb20vLAogICAgZmlsbF9mb3JtOiBmdW5jdGlvbiAobGluaykgewogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAkKCIjb2ZmbGluZS1idG4iKS5jbGljaygpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiI29mZmxpbmVfY2xlYXJfY29tcGxldGUiKS5wcmV2KCkuY2xpY2soKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCIjb2ZmbGluZS1hZGQtbGluayIpLnZhbChsaW5rKTsKICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0sIDIwMDApOwogICAgfQogIH0sCiAgZnVyazogewogICAgdHlwZTogMSwKICAgIHJlOiAvd3d3XC5mdXJrXC5uZXQvLAogICAgZmlsbF9mb3JtOiBmdW5jdGlvbiAobGluaykgewogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAkKCIjdXJsIikudmFsKGxpbmsucmVwbGFjZSgibWFnbmV0Oj94dD11cm46YnRpaDoiLCAiIikpOwogICAgICB9LCAxNTAwKTsKICAgIH0KICB9LAogIDM2MDogewogICAgdHlwZTogMSwKICAgIHJlOiAveXVucGFuXC4zNjBcLmNuXC9teS8sCiAgICBmaWxsX2Zvcm06IGZ1bmN0aW9uIChsaW5rKSB7CiAgICAgIHl1bnBhbi5jbWRDZW50ZXIuc2hvd09mZmxpbmVEaWEoKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgJCgiLm9mZmRsLWJ0bi1jcmVhdGUiKS5jbGljaygpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiI29mZmRsVXJsIikudmFsKGxpbmspOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0sIDEwMDApOwogICAgfQogIH0sCiAgdWM6IHsKICAgIHR5cGU6IDEsCiAgICByZTogL2Rpc2tcLnl1blwudWNcLmNuXC8vLAogICAgZmlsbF9mb3JtOiBmdW5jdGlvbiAobGluaykgewogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAkKCIjbmV3dWNseGJ0bl9pbmRleCIpLmNsaWNrKCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkKCIjdWNseHVybCIpLnZhbChsaW5rKTsKICAgICAgICB9LCAxMDAwKTsKICAgICAgfSwgMTIwMCk7CiAgICB9CiAgfSwKCn07Cgp2YXIgb2ZmbGluZV9zaXRlcyA9IHsKICBiYWlkdTogewogICAgdXJsOiAiaHR0cDovL3Bhbi5iYWlkdS5jb20vZGlzay9ob21lIiwKICAgIG5hbWU6ICLnmb7luqbkupEiLAogICAgZW5hYmxlOiB0cnVlCiAgfSwKICAxMTU6IHsKICAgIG5hbWU6ICIxMTXnprvnur8iLAogICAgdXJsOiAiaHR0cDovLzExNS5jb20vP3RhYj1vZmZsaW5lJm1vZGU9d2FuZ3BhbiIsCiAgICBlbmFibGU6IHRydWUsCiAgfSwKICB2YXJ2OiB7CiAgICBuYW1lOiAi5LmQ6KeG5LqRIiwKICAgIHVybDogImh0dHA6Ly9jbG91ZC5sZXR2LmNvbS93ZWJkaXNrL2hvbWUvaW5kZXgiLAogICAgZW5hYmxlOiBmYWxzZQogIH0sCiAgMzYwOiB7CiAgICBuYW1lOiAiMzYw5LqRIiwKICAgIHVybDogImh0dHA6Ly95dW5wYW4uMzYwLmNuL215LyIsCiAgICBlbmFibGU6IGZhbHNlCiAgfSwKICB1YzogewogICAgbmFtZTogIlVD56a757q/IiwKICAgIHVybDogImh0dHA6Ly9kaXNrLnl1bi51Yy5jbi8iLAogICAgZW5hYmxlOiBmYWxzZQogIH0sCiAgZnVyazogewogICAgbmFtZTogIkZ1cmsiLAogICAgdXJsOiAiaHR0cHM6Ly93d3cuZnVyay5uZXQvdXNlcnMvZmlsZXMvYWRkIiwKICAgIGVuYWJsZTogdHJ1ZQogIH0sCn07CnZhciBjb21tb24gPSB7CiAgYWRkX3N0eWxlOiBmdW5jdGlvbiAoKSB7CiAgICBHTV9hZGRTdHlsZShbCiAgICAgICIjbm9uZy10YWJsZXtib3JkZXItY29sbGFwc2U6IGluaXRpYWwgIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O3RleHQtYWxpZ246IGNlbnRlciAhaW1wb3J0YW50O21hcmdpbjoxMHB4IGF1dG87Y29sb3I6IzY2NiAhaW1wb3J0YW50O2ZvbnQtc2l6ZToxM3B4O3RleHQtYWxpZ246Y2VudGVyICFpbXBvcnRhbnQ7Ym9yZGVyOiAxcHggc29saWQgI2NmY2ZjZiAhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6IDEwcHggIWltcG9ydGFudDt9IiwKICAgICAgIiNub25nLXRhYmxlIGEge21hcmdpbi1yaWdodDogNXB4ICFpbXBvcnRhbnQ7Y29sb3I6Ymx1ZX0iLAogICAgICAiI25vbmctdGFibGUgYTpob3ZlciB7Y29sb3I6I2QyMGYwMCAhaW1wb3J0YW50O30iLAogICAgICAiI25vbmctdGFibGUgdGgsI25vbmctdGFibGUgdGR7dGV4dC1hbGlnbjogaW5oZXJpdCAhaW1wb3J0YW50O2hlaWdodDozMHB4O3BhZGRpbmc6MCAxZW0gMCAhaW1wb3J0YW50O30iLAogICAgICAiLm5vbmctcm93e3RleHQtYWxpZ246IGluaGVyaXQgIWltcG9ydGFudDtoZWlnaHQ6MzBweDtwYWRkaW5nOjAgMWVtIDAgIWltcG9ydGFudDtib3JkZXI6IDFweCBzb2xpZCAjRUZFRkVGICFpbXBvcnRhbnQ7fSIsCiAgICAgICIubm9uZy1yb3c6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjogI2RhZThmZiAhaW1wb3J0YW50O30iLAogICAgICAiLm5vbmctb2ZmbGluZS1kb3dubG9hZHtjb2xvcjogcmdiKDAsIDE4MCwgMzApICFpbXBvcnRhbnQ7fSIsCiAgICAgICIubm9uZy1vZmZsaW5lLWRvd25sb2FkOmhvdmVye2NvbG9yOnJlZCAhaW1wb3J0YW50O30iLAogICAgXS5qb2luKCIiKSk7CiAgfSwKICBoYW5kbGVfY29weV9ldmVudDogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBldmVudC50YXJnZXQuaW5uZXJIVE1MID0gIuaIkOWKnyI7CiAgICBHTV9zZXRDbGlwYm9hcmQoZXZlbnQudGFyZ2V0LmhyZWYpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGV2ZW50LnRhcmdldC5pbm5lckhUTUwgPSAi5aSN5Yi2IjsKICAgIH0sIDEwMDApOwogICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy/pmLvmraLot7PovawKICB9LAogIGhhbmRsZV9kbF9ldmVudDogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIgbWFnID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgibWFnIik7CiAgICBjb25zb2xlLmluZm8oIuejgemTvuaOpSIsIG1hZyk7CiAgICAvL2NvbnNvbGUubG9nKDApOwogICAgR01fc2V0VmFsdWUoIm1hZ25ldCIsIG1hZyk7CiAgfSwKCiAgcmVnX2V2ZW50OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2VsZWN0b3JfZXZlbnRfbWFwID0gW3sKICAgICAgc2VsZWN0b3I6ICIubm9uZy1jb3B5IiwKICAgICAgdHlwZTogImNsaWNrIiwKICAgICAgZm46IHRoaXMuaGFuZGxlX2NvcHlfZXZlbnQKICAgIH0sIHsKICAgICAgc2VsZWN0b3I6ICIubm9uZy1vZmZsaW5lLWRvd25sb2FkIiwKICAgICAgdHlwZTogImNsaWNrIiwKICAgICAgZm46IHRoaXMuaGFuZGxlX2RsX2V2ZW50CiAgICB9XTsKICAgIHNlbGVjdG9yX2V2ZW50X21hcC5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHsKICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG9iai5zZWxlY3RvcikpLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIob2JqLnR5cGUsIG9iai5mbik7CiAgICAgIH0pCiAgICB9KTsKICAgIC8qCiAgICBmb3IgKHZhciBvYmogb2Ygc2VsZWN0b3JfZXZlbnRfbWFwKSB7CiAgICAgIGZvciAodmFyIGVsZW0gb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvYmouc2VsZWN0b3IpKSB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhlbGVtLCBvYmoudHlwZSwgb2JqLmZuKTsKICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIob2JqLnR5cGUsIG9iai5mbik7CiAgICAgIH0KICAgIH0qLwogIH0sCiAgcGFyc2V0ZXh0OiBmdW5jdGlvbiAodGV4dCkgewogICAgdmFyIGRvYyA9IG51bGw7CiAgICB0cnkgewogICAgICBkb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpOwogICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTCA9IHRleHQ7CiAgICAgIHJldHVybiBkb2M7CiAgICB9CiAgICBjYXRjaCAoZSkgewogICAgICBhbGVydCgicGFyc2UgZXJyb3IiKTsKICAgIH0KICB9LAp9Owp2YXIgbWFnbmV0X3RhYmxlID0gewogIHRlbXBsYXRlOiB7CiAgICBjcmVhdGVfaGVhZDogZnVuY3Rpb24gKHNyYykgewogICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgIGEuY2xhc3NOYW1lID0gIm5vbmctcm93IjsKICAgICAgYS5pZCA9ICJub25nLWhlYWQiOwogICAgICB2YXIgaGVhZF9zdHIgPSBbCiAgICAgICAgIuWkp+WwjyIsCiAgICAgICAgIuaTjeS9nCIsCiAgICAgICAgIuemu+e6v+S4i+i9vSIKICAgICAgXTsKICAgICAgdmFyIHRoX2xpc3QgPSBbZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKV07CgogICAgICB2YXIgc2VsZWN0X2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpOwogICAgICB2YXIgb3B0aW9uX3N0ciA9IG15X3NlYXJjaC5zZWFyY2hfbmFtZV9zdHJpbmc7CiAgICAgIC8vY29uc29sZS5sb2coImdldCIsIEdNX2dldFZhbHVlKCJzZWFyY2hfaW5kZXgiKSk7CiAgICAgIHZhciBpbmRleCA9IEdNX2dldFZhbHVlKCJzZWFyY2hfaW5kZXgiLCAwKTsKICAgICAgdmFyIG9wX3ZhbHVlID0gMDsKICAgICAgb3B0aW9uX3N0ci5mb3JFYWNoKGZ1bmN0aW9uIChzdHIpIHsKICAgICAgICB2YXIgb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKICAgICAgICBvcC52YWx1ZSA9IG9wX3ZhbHVlOwogICAgICAgIG9wLnRleHRDb250ZW50ID0gc3RyOwogICAgICAgIGlmIChpbmRleCA9PSBvcF92YWx1ZSkgewogICAgICAgICAgb3Auc2V0QXR0cmlidXRlKCJzZWxlY3RlZCIsICJzZWxlY3RlZCIpOwogICAgICAgIH0KICAgICAgICBvcF92YWx1ZSsrOwogICAgICAgIHNlbGVjdF9ib3guYXBwZW5kQ2hpbGQob3ApOwogICAgICB9KTsKICAgICAgLyoKICAgICAgZm9yICh2YXIgc3RyIG9mIG9wdGlvbl9zdHIpIHsKICAgICAgICB2YXIgb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKICAgICAgICBvcC52YWx1ZSA9IG9wX3ZhbHVlOwogICAgICAgIG9wLnRleHRDb250ZW50ID0gc3RyOwogICAgICAgIGlmIChpbmRleCA9PSBvcF92YWx1ZSkgewogICAgICAgICAgb3Auc2V0QXR0cmlidXRlKCJzZWxlY3RlZCIsICJzZWxlY3RlZCIpOwogICAgICAgIH0KICAgICAgICBvcF92YWx1ZSsrOwogICAgICAgIHNlbGVjdF9ib3guYXBwZW5kQ2hpbGQob3ApOwogICAgICB9Ki8KICAgICAgc2VsZWN0X2JveC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbiAoZSkgewogICAgICAgIEdNX3NldFZhbHVlKCJzZWFyY2hfaW5kZXgiLCB0aGlzLnZhbHVlKTsKICAgICAgICBydW4oKTsKICAgICAgfSk7CiAgICAgIHRoX2xpc3RbMF0uYXBwZW5kQ2hpbGQoc2VsZWN0X2JveCk7CgogICAgICB0aF9saXN0WzFdLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSk7CiAgICAgIHRoX2xpc3RbMV0ubGFzdENoaWxkLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHNyYyk7CiAgICAgIHRoX2xpc3RbMV0ubGFzdENoaWxkLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwgIl9ibGFuayIpOwogICAgICB0aF9saXN0WzFdLmxhc3RDaGlsZC50ZXh0Q29udGVudCA9IGhlYWRfc3RyWzBdOwoKICAgICAgdGhfbGlzdFsyXS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpOwogICAgICB0aF9saXN0WzJdLmxhc3RDaGlsZC50ZXh0Q29udGVudCA9IGhlYWRfc3RyWzFdOwoKICAgICAgdGhfbGlzdFszXS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpOwogICAgICB0aF9saXN0WzNdLmxhc3RDaGlsZC50ZXh0Q29udGVudCA9IGhlYWRfc3RyWzJdOwoKICAgICAgdGhfbGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh0aCkgewogICAgICAgIGEuYXBwZW5kQ2hpbGQodGgpOwogICAgICB9KTsKICAgICAgLyoKICAgICAgZm9yICh2YXIgdGggb2YgdGhfbGlzdCkgewogICAgICAgIGEuYXBwZW5kQ2hpbGQodGgpOwogICAgICB9CiAgICAgICovCiAgICAgIHJldHVybiBhOwogICAgfSwKICAgIGNyZWF0ZV9yb3c6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgIHRyLmNsYXNzTmFtZSA9ICJub25nLXJvdyI7CiAgICAgIHRyLnNldEF0dHJpYnV0ZSgibWFnIiwgZGF0YS5tYWcpOwogICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwogICAgICB2YXIgbGlzdCA9IFt0aGlzLmNyZWF0ZV9pbmZvKGRhdGEudGl0bGUsIGRhdGEubWFnKSwgdGhpcy5jcmVhdGVfc2l6ZShkYXRhLnNpemUsIGRhdGEuc3JjKSwgdGhpcy5jcmVhdGVfb3BlcmF0aW9uKGRhdGEubWFnKSwgdGhpcy5jcmVhdGVfb2ZmbGluZSgpXTsKICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgdmFyIGMgPSB0ZC5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgYy5hcHBlbmRDaGlsZChlbGVtKTsKICAgICAgICB0ci5hcHBlbmRDaGlsZChjKTsKICAgICAgfSk7CiAgICAgIC8qCiAgICAgIGZvciAodmFyIGVsZW0gb2YgW3RoaXMuY3JlYXRlX2luZm8oZGF0YS50aXRsZSwgZGF0YS5tYWcpLCB0aGlzLmNyZWF0ZV9zaXplKGRhdGEuc2l6ZSwgZGF0YS5zcmMpLCB0aGlzLmNyZWF0ZV9vcGVyYXRpb24oZGF0YS5tYWcpLCB0aGlzLmNyZWF0ZV9vZmZsaW5lKCldKSB7CiAgICAgICAgdmFyIGMgPSB0ZC5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgYy5hcHBlbmRDaGlsZChlbGVtKTsKICAgICAgICB0ci5hcHBlbmRDaGlsZChjKTsKICAgICAgfQogICAgICAqLwogICAgICByZXR1cm4gdHI7CiAgICB9LAogICAgY3JlYXRlX3Jvd19mb3Jfc3VrZWJlaTogZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgdHIuY2xhc3NOYW1lID0gIm5vbmctcm93IjsKICAgICAgdHIuc2V0QXR0cmlidXRlKCJtYWciLCBkYXRhLm1hZyk7CiAgICAgIHZhciB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CiAgICAgIHZhciBhcHBlbmRfZWxlbXMgPSBbCgogICAgICAgIChmdW5jdGlvbiAodGl0bGUsIHNyYywgc2VsZikgewogICAgICAgICAgcmV0dXJuIHNlbGYuY3JlYXRlX2luZm8odGl0bGUsIHNyYyk7CiAgICAgICAgfSkoZGF0YS50aXRsZSwgZGF0YS5zcmMsIHRoaXMpLAoKICAgICAgICAoZnVuY3Rpb24gKHNpemUsIHNyYywgc2VsZikgewogICAgICAgICAgcmV0dXJuIHNlbGYuY3JlYXRlX3NpemUoc2l6ZSwgc3JjKTsKICAgICAgICB9KShkYXRhLnNpemUsIGRhdGEuc3JjLCB0aGlzKSwKCiAgICAgICAgKGZ1bmN0aW9uICh0b3JyZW50X3VybCwgc2VsZikgewogICAgICAgICAgdmFyIG9wZXJhdGUgPSBzZWxmLmNyZWF0ZV9vcGVyYXRpb24odG9ycmVudF91cmwpOwogICAgICAgICAgb3BlcmF0ZS5maXJzdENoaWxkLnRleHRDb250ZW50ID0gIuenjeWtkCI7CiAgICAgICAgICBvcGVyYXRlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJub25nLWNvcHktc3VrZWJlaSIpOwogICAgICAgICAgb3BlcmF0ZS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwgIl9ibGFuayIpOwogICAgICAgICAgcmV0dXJuIG9wZXJhdGU7CiAgICAgICAgfSkoZGF0YS50b3JyZW50X3VybCwgdGhpcyksCgogICAgICAgIChmdW5jdGlvbiAoc2VsZikgewogICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgZGl2LnRleHRDb250ZW50ID0gIuaaguS4jeaUr+aMgeemu+e6v+S4i+i9vSI7CiAgICAgICAgICByZXR1cm4gZGl2OwogICAgICAgIH0pKHRoaXMpXTsKICAgICAgYXBwZW5kX2VsZW1zLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICB2YXIgYyA9IHRkLmNsb25lTm9kZSh0cnVlKTsKICAgICAgICBjLmFwcGVuZENoaWxkKGVsZW0pOwogICAgICAgIHRyLmFwcGVuZENoaWxkKGMpOwogICAgICB9KTsKICAgICAgLyoKICAgICAgZm9yICh2YXIgZWxlbSBvZiBhcHBlbmRfZWxlbXMpIHsKICAgICAgICB2YXIgYyA9IHRkLmNsb25lTm9kZSh0cnVlKTsKICAgICAgICBjLmFwcGVuZENoaWxkKGVsZW0pOwogICAgICAgIHRyLmFwcGVuZENoaWxkKGMpOwogICAgICB9CiAgICAgICovCiAgICAgIHJldHVybiB0cjsKICAgIH0sCiAgICBjcmVhdGVfaW5mbzogZnVuY3Rpb24gKHRpdGxlLCBtYWcpIHsKICAgICAgdmFyIGEgPSB0aGlzLmluZm8uY2xvbmVOb2RlKHRydWUpOwogICAgICBhLmZpcnN0Q2hpbGQudGV4dENvbnRlbnQgPSB0aXRsZS5sZW5ndGggPCBtYXhfdGl0bGVfbGVuZ3RoID8gdGl0bGUgOiB0aXRsZS5zdWJzdHIoMCwgbWF4X3RpdGxlX2xlbmd0aCkgKyAiLi4uIjsKICAgICAgYS5maXJzdENoaWxkLmhyZWYgPSBtYWc7CiAgICAgIGEudGl0bGUgPSB0aXRsZTsKICAgICAgcmV0dXJuIGE7CiAgICB9LAogICAgY3JlYXRlX3NpemU6IGZ1bmN0aW9uIChzaXplLCBzcmMpIHsKICAgICAgdmFyIGEgPSB0aGlzLnNpemUuY2xvbmVOb2RlKHRydWUpOwogICAgICBhLnRleHRDb250ZW50ID0gc2l6ZTsKICAgICAgYS5ocmVmID0gc3JjOwogICAgICByZXR1cm4gYTsKICAgIH0sCiAgICBjcmVhdGVfb3BlcmF0aW9uOiBmdW5jdGlvbiAobWFnKSB7CiAgICAgIHZhciBhID0gdGhpcy5vcGVyYXRpb24uY2xvbmVOb2RlKHRydWUpOwogICAgICBhLmZpcnN0Q2hpbGQuaHJlZiA9IG1hZzsKICAgICAgcmV0dXJuIGE7CiAgICB9LAogICAgY3JlYXRlX29mZmxpbmU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGEgPSB0aGlzLm9mZmxpbmUuY2xvbmVOb2RlKHRydWUpOwogICAgICBhLmNsYXNzTmFtZSA9ICJub25nLW9mZmxpbmUiOwogICAgICByZXR1cm4gYTsKICAgIH0sCgogICAgaW5mbzogKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgdmFyIGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgIGIudGV4dENvbnRlbnQgPSAibmFtZSI7CiAgICAgIGIuaHJlZiA9ICJzcmMiOwogICAgICBiLnRhcmdldCA9ICJfYmxhbmsiOwogICAgICBhLmFwcGVuZENoaWxkKGIpOwogICAgICByZXR1cm4gYTsKICAgIH0pKCksCiAgICBzaXplOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICBhLnRleHRDb250ZW50ID0gInNpemUiOwogICAgICByZXR1cm4gYTsKICAgIH0oKSwKICAgIG9wZXJhdGlvbjogKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgdmFyIGNvcHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgIGNvcHkuY2xhc3NOYW1lID0gIm5vbmctY29weSI7CiAgICAgIGNvcHkudGV4dENvbnRlbnQgPSAi5aSN5Yi2IjsKICAgICAgYS5hcHBlbmRDaGlsZChjb3B5KTsKICAgICAgcmV0dXJuIGE7CiAgICB9KSgpLAogICAgb2ZmbGluZTogKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgdmFyIGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgIGIuY2xhc3NOYW1lID0gIm5vbmctb2ZmbGluZS1kb3dubG9hZCI7CiAgICAgIGIudGFyZ2V0ID0gIl9ibGFuayI7CiAgICAgIGZvciAodmFyIGsgaW4gb2ZmbGluZV9zaXRlcykgewogICAgICAgIGlmIChvZmZsaW5lX3NpdGVzW2tdLmVuYWJsZSkgewogICAgICAgICAgdmFyIGMgPSBiLmNsb25lTm9kZSh0cnVlKTsKICAgICAgICAgIGMuaHJlZiA9IG9mZmxpbmVfc2l0ZXNba10udXJsOwogICAgICAgICAgYy50ZXh0Q29udGVudCA9IG9mZmxpbmVfc2l0ZXNba10ubmFtZTsKICAgICAgICAgIGEuYXBwZW5kQ2hpbGQoYyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBhOwogICAgfSkoKSwKICB9LAogIGdlbmVyYXRlX2hlYWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0YWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpOwogICAgdGFiLmlkID0gIm5vbmctdGFibGUiOwogICAgdGFiLmFwcGVuZENoaWxkKHRoaXMudGVtcGxhdGUuY3JlYXRlX2hlYWQoImh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy84MzkyLSVFNiU4QyU4QSIpKTsKICAgIHJldHVybiB0YWI7CiAgfSwKICBnZW5lcmF0ZTogZnVuY3Rpb24gKHNyYywgZGF0YSkgewogICAgLy9jb25zb2xlLmxvZyhzcmMpOwogICAgLy9jb25zb2xlLmxvZyhkYXRhKTsKICAgIHZhciB0YWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbm9uZy10YWJsZSIpOwogICAgdGFiLnF1ZXJ5U2VsZWN0b3IoIiNub25nLWhlYWQgdGggYSIpLmhyZWYgPSBzcmM7CiAgICBpZiAoc3JjLm1hdGNoKCJzdWtlYmVpLm55YWEuc2UiKSkgewogICAgICBkYXRhLmZvckVhY2goKGQpID0+IHsKICAgICAgICB0YWIuYXBwZW5kQ2hpbGQodGhpcy50ZW1wbGF0ZS5jcmVhdGVfcm93X2Zvcl9zdWtlYmVpKGQpKTsKICAgICAgfSk7CiAgICAgIC8qCiAgICAgIGZvciAodmFyIGQgb2YgZGF0YSkgewogICAgICAgIHRhYi5hcHBlbmRDaGlsZCh0aGlzLnRlbXBsYXRlLmNyZWF0ZV9yb3dfZm9yX3N1a2ViZWkoZCkpOwogICAgICB9CiAgICAgICovCiAgICB9CiAgICBlbHNlIHsKICAgICAgZGF0YS5mb3JFYWNoKChkKSA9PiB7CiAgICAgICAgdGFiLmFwcGVuZENoaWxkKHRoaXMudGVtcGxhdGUuY3JlYXRlX3JvdyhkKSk7CiAgICAgIH0pOwogICAgICAvKgogICAgICBmb3IgKHZhciBkIG9mIGRhdGEpIHsKICAgICAgICB0YWIuYXBwZW5kQ2hpbGQodGhpcy50ZW1wbGF0ZS5jcmVhdGVfcm93KGQpKTsKICAgICAgfQogICAgICAqLwogICAgfQogICAgcmV0dXJuIHRhYjsKICB9LAoKfTsKdmFyIG15X3NlYXJjaCA9IHsKICBjdXJyZW50OiBmdW5jdGlvbiAoa3csIGNiKSB7CiAgICB2YXIgc2VhcmNoID0gbXlfc2VhcmNoW0dNX2dldFZhbHVlKCJzZWFyY2hfaW5kZXgiLCAwKV07CiAgICB0cnkgewogICAgICByZXR1cm4gc2VhcmNoKGt3LCBjYik7CiAgICB9CiAgICBjYXRjaCAoZSkgewogICAgICB0aGlzLnNlYXJjaF9lcnJvcigpOwogICAgfQogIH0sCiAgc2VhcmNoX2Vycm9yOiBmdW5jdGlvbiAocikgewogICAgYWxlcnQoIuaQnOe0ouWHuueOsOmUmeivr++8jOivt+ajgOafpee9kee7nCIpOwogIH0sCiAgc2VhcmNoX25hbWVfc3RyaW5nOiBbImJ0c28iLCAiYnRkYiIsICJzdWtlYmVpLm55YWEiLCAiYnRraXR0eSJdLAogIDA6IGZ1bmN0aW9uIChrdywgY2IpIHsKICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgdXJsOiAiaHR0cHM6Ly9idHNvLnB3L3NlYXJjaC8iICsga3csCiAgICAgIG9ubG9hZDogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIHZhciBkb2MgPSBjb21tb24ucGFyc2V0ZXh0KHJlc3VsdC5yZXNwb25zZVRleHQpOwogICAgICAgIHZhciBkYXRhID0gW107CiAgICAgICAgdmFyIHQgPSBkb2MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZGF0YS1saXN0IilbMF07CiAgICAgICAgaWYgKHQpIHsKICAgICAgICAgIEFycmF5LmZyb20odC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgIGlmICghZWxlbS5jbGFzc05hbWUubWF0Y2goImJ0biIpKSB7CiAgICAgICAgICAgICAgZGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICJ0aXRsZSI6IGVsZW0udGl0bGUsCiAgICAgICAgICAgICAgICAibWFnIjogIm1hZ25ldDo/eHQ9dXJuOmJ0aWg6IiArIGVsZW0ub3V0ZXJIVE1MLnJlcGxhY2UoLy4qaGFzaFwvLywgIiIpLnJlcGxhY2UoLyIgLipcbi4qXG4uKlxuLiovLCAiIiksCiAgICAgICAgICAgICAgICAic2l6ZSI6IGVsZW0ubmV4dEVsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50LAogICAgICAgICAgICAgICAgInNyYyI6IGVsZW0uaHJlZiwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgZGF0YS5wdXNoKHsKICAgICAgICAgICAgInRpdGxlIjogIuayoeacieaJvuWIsOejgemTvuaOpSIsCiAgICAgICAgICAgICJtYWciOiAiIiwKICAgICAgICAgICAgInNpemUiOiAiMCIsCiAgICAgICAgICAgICJzcmMiOiByZXN1bHQuZmluYWxVcmwsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgY2IocmVzdWx0LmZpbmFsVXJsLCBkYXRhKTsKICAgICAgfSwKICAgICAgb25lcnJvcjogZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgIHRocm93ICJzZWFyY2ggZXJyb3IiOwogICAgICB9CiAgICB9KTsKICB9LAogIDE6IGZ1bmN0aW9uIChrdywgY2IpIHsKICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgdXJsOiAiaHR0cHM6Ly9idGRiLmluL3EvIiArIGt3ICsgIi8iLAogICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICB2YXIgZG9jID0gY29tbW9uLnBhcnNldGV4dChyZXN1bHQucmVzcG9uc2VUZXh0KTsKICAgICAgICB2YXIgZGF0YSA9IFtdOwogICAgICAgIHZhciB0ID0gZG9jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIml0ZW0tdGl0bGUiKTsKICAgICAgICBpZiAodCkgewogICAgICAgICAgQXJyYXkuZnJvbSh0KS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgIGRhdGEucHVzaCh7CiAgICAgICAgICAgICAgInRpdGxlIjogZWxlbS5maXJzdENoaWxkLnRpdGxlLAogICAgICAgICAgICAgICJtYWciOiBlbGVtLm5leHRFbGVtZW50U2libGluZy5maXJzdEVsZW1lbnRDaGlsZC5ocmVmLAogICAgICAgICAgICAgICJzaXplIjogZWxlbS5uZXh0RWxlbWVudFNpYmxpbmcuY2hpbGRyZW5bMV0udGV4dENvbnRlbnQsCiAgICAgICAgICAgICAgInNyYyI6ICJodHRwczovL2J0ZGIuaW4iICsgZWxlbS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgIGRhdGEucHVzaCh7CiAgICAgICAgICAgICJ0aXRsZSI6ICLmsqHmnInmib7liLDno4Hpk77mjqUiLAogICAgICAgICAgICAibWFnIjogIiIsCiAgICAgICAgICAgICJzaXplIjogIjAiLAogICAgICAgICAgICAic3JjIjogcmVzdWx0LmZpbmFsVXJsLAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBjYihyZXN1bHQuZmluYWxVcmwsIGRhdGEpOwogICAgICB9LAogICAgICBvbmVycm9yOiBmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgICAgdGhyb3cgInNlYXJjaCBlcnJvciI7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgMjogZnVuY3Rpb24gKGt3LCBjYikgewogICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICBtZXRob2Q6ICJHRVQiLAogICAgICB1cmw6ICJodHRwczovL3N1a2ViZWkubnlhYS5zZS8/cGFnZT1zZWFyY2gmY2F0cz0wXzAmZmlsdGVyPTAmdGVybT0iICsga3csCiAgICAgIG9ubG9hZDogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIHZhciBkb2MgPSBjb21tb24ucGFyc2V0ZXh0KHJlc3VsdC5yZXNwb25zZVRleHQpOwogICAgICAgIHZhciBkYXRhID0gW107CiAgICAgICAgdmFyIHQgPSBkb2MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidGxpc3Ryb3ciKTsKICAgICAgICBpZiAodCkgewogICAgICAgICAgQXJyYXkuZnJvbSh0KS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgIGRhdGEucHVzaCh7CiAgICAgICAgICAgICAgInRpdGxlIjogZWxlbS5xdWVyeVNlbGVjdG9yKCIudGxpc3RuYW1lIGEiKS50ZXh0Q29udGVudCwKICAgICAgICAgICAgICAibWFnIjogIiIsCiAgICAgICAgICAgICAgInRvcnJlbnRfdXJsIjogImh0dHBzOiIgKyBlbGVtLnF1ZXJ5U2VsZWN0b3IoIi50bGlzdGRvd25sb2FkIGEiKS5nZXRBdHRyaWJ1dGUoImhyZWYiKSwKICAgICAgICAgICAgICAic2l6ZSI6IGVsZW0ucXVlcnlTZWxlY3RvcigiLnRsaXN0c2l6ZSIpLnRleHRDb250ZW50LAogICAgICAgICAgICAgICJzcmMiOiAiaHR0cHM6IiArIGVsZW0ucXVlcnlTZWxlY3RvcigiLnRsaXN0bmFtZSBhIikuZ2V0QXR0cmlidXRlKCJocmVmIiksCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgZGF0YS5wdXNoKHsKICAgICAgICAgICAgInRpdGxlIjogIuayoeacieaJvuWIsOejgemTvuaOpSIsCiAgICAgICAgICAgICJtYWciOiAiIiwKICAgICAgICAgICAgInRvcnJlbnRfdXJsIjogIiIsCiAgICAgICAgICAgICJzaXplIjogIjAiLAogICAgICAgICAgICAic3JjIjogcmVzdWx0LmZpbmFsVXJsLAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBjYihyZXN1bHQuZmluYWxVcmwsIGRhdGEpOwogICAgICB9LAogICAgICBvbmVycm9yOiBmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgICAgdGhyb3cgInNlYXJjaCBlcnJvciI7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgMzogZnVuY3Rpb24gKGt3LCBjYikgewogICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgdXJsOiAiaHR0cDovL2J0a2l0dHkuYmlkLyIsCiAgICAgIGRhdGE6ICJrZXl3b3JkPSIgKyBrdywKICAgICAgaGVhZGVyczogewogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIgogICAgICB9LAogICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICB2YXIgZG9jID0gY29tbW9uLnBhcnNldGV4dChyZXN1bHQucmVzcG9uc2VUZXh0KTsKICAgICAgICB2YXIgZGF0YSA9IFtdOwogICAgICAgIHZhciB0ID0gZG9jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImxpc3QtY29uIik7CiAgICAgICAgaWYgKHQpIHsKCiAgICAgICAgICBBcnJheS5mcm9tKHQpLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgZGF0YS5wdXNoKHsKICAgICAgICAgICAgICAidGl0bGUiOiBlbGVtLnF1ZXJ5U2VsZWN0b3IoImR0IGEiKS50ZXh0Q29udGVudCwKICAgICAgICAgICAgICAibWFnIjogZWxlbS5xdWVyeVNlbGVjdG9yKCJkZCBhIikuaHJlZiwKICAgICAgICAgICAgICAic2l6ZSI6IGVsZW0ucXVlcnlTZWxlY3RvcigiLm9wdGlvbiBzcGFuOm50aC1jaGlsZCgzKSBiIikudGV4dENvbnRlbnQsCiAgICAgICAgICAgICAgInNyYyI6IGVsZW0ucXVlcnlTZWxlY3RvcigiZHQgYSIpLmhyZWYsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgZGF0YS5wdXNoKHsKICAgICAgICAgICAgInRpdGxlIjogIuayoeacieaJvuWIsOejgemTvuaOpSIsCiAgICAgICAgICAgICJtYWciOiAiIiwKICAgICAgICAgICAgInNpemUiOiAiMCIsCiAgICAgICAgICAgICJzcmMiOiByZXN1bHQuZmluYWxVcmwsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgY2IocmVzdWx0LmZpbmFsVXJsLCBkYXRhKTsKICAgICAgfSwKICAgICAgb25lcnJvcjogZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgIHRocm93ICJzZWFyY2ggZXJyb3IiOwogICAgICB9CiAgICB9KQogIH0sCgp9OwoKdmFyIGRpc3BsYXlfdGFibGUgPSBmdW5jdGlvbiAodmlkLCBpbnNlcnRfd2hlcmUpIHsKICBjb21tb24uYWRkX3N0eWxlKCk7CiAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbm9uZy1oZWFkIikpIHsKICAgIHZhciB0YWJfd2l0aF9oZWFkID0gbWFnbmV0X3RhYmxlLmdlbmVyYXRlX2hlYWQoKTsKICAgIGlmICh0eXBlb2YgaW5zZXJ0X3doZXJlID09PSAic3RyaW5nIikgewogICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5zZXJ0X3doZXJlKTsKICAgICAgLy9jb25zb2xlLmxvZygiZGlzcGxheV90YWJsZSIsIHRhYiwgZWxlbSk7CiAgICAgIGlmIChlbGVtKSB7CiAgICAgICAgZWxlbS5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZSh0YWJfd2l0aF9oZWFkLCBlbGVtKTsKICAgICAgfQogICAgfQogICAgZWxzZSBpZiAodHlwZW9mIGluc2VydF93aGVyZSA9PT0gImZ1bmN0aW9uIikgewogICAgICBpbnNlcnRfd2hlcmUodGFiX3dpdGhfaGVhZCk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgY29uc29sZS5lcnJvcigi5o+S5YWl6KGo5qC86ZSZ6K+vIik7CiAgICAgIHJldHVybjsKICAgIH0KICB9CiAgZWxzZSB7CiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNub25nLWhlYWQiKTsKICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLm5vbmctcm93IikpLmZvckVhY2goZnVuY3Rpb24gKHJvdykgewogICAgICBpZiAocm93ICE9PSBoZWFkKSB7CiAgICAgICAgcm93LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQocm93KTsKICAgICAgfQogICAgfSk7CiAgfQogIG15X3NlYXJjaC5jdXJyZW50KHZpZCwgZnVuY3Rpb24gKGRhdGEsIHNyYykgewogICAgdmFyIHRhYiA9IG1hZ25ldF90YWJsZS5nZW5lcmF0ZShkYXRhLCBzcmMpOwogICAgY29tbW9uLnJlZ19ldmVudCgpOwogIH0pOwp9OwoKdmFyIHZpZF9tb2RlID0gZnVuY3Rpb24gKHYpIHsKICB2YXIgdmlkID0gIiI7CiAgdHJ5IHsKICAgIHZpZCA9IHYudmlkKCk7CiAgfQogIGNhdGNoIChlcnJvcikgewogICAgdmlkID0gIiI7CiAgICBjb25zb2xlLmVycm9yKCLmsqHmnInmib7liLDnlarlj7ciLCB2LnZpZC50b1N0cmluZygpKTsKICB9CiAgaWYgKHZpZCkgewogICAgY29uc29sZS5pbmZvKCLnlarlj7fvvJoiLCB2aWQpOwogICAgZGlzcGxheV90YWJsZSh2aWQsIHYuaW5zZXJ0X3doZXJlKTsKICB9Cn07Cgp2YXIgZGxfbW9kZSA9IGZ1bmN0aW9uICh2KSB7CgogIHZhciBtYWcgPSBHTV9nZXRWYWx1ZSgibWFnbmV0IiwgIiIpOwogIC8vY29uc29sZS5pbmZvKDEsICLlvIDlp4vnprvnur/kuIvovb0iLCBtYWcpOwogIGlmIChtYWcpIHsKICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoInR5cGUiLCAidGV4dC9qYXZhc2NyaXB0Iik7CiAgICBzY3JpcHQuaW5uZXJIVE1MID0gIigiICsgdi5maWxsX2Zvcm0udG9TdHJpbmcoKSArICIpKFwiIiArIG1hZyArICJcIikiOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgLy9jb25zb2xlLmluZm8oaW5mbyk7CiAgfQogIEdNX3NldFZhbHVlKCJtYWduZXQiLCAiIik7Cn07Cgp2YXIgcnVuID0gZnVuY3Rpb24gKCkgewogIG1heF90aXRsZV9sZW5ndGggPSBHTV9nZXRWYWx1ZSgibWF4X3RpdGxlX2xlbmd0aCIsIDQwKTsKICB2YXIgbWFpbl9rZXlzID0gT2JqZWN0LmtleXMobWFpbik7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYWluX2tleXMubGVuZ3RoOyBpKyspIHsKICAgIHZhciB2ID0gbWFpblttYWluX2tleXNbaV1dOwoKICAgIGlmICh2LnJlICYmIHYucmUudGVzdChsb2NhdGlvbi5ocmVmKSkgewogICAgICBpZiAodi50eXBlID09PSAwKSB7CgogICAgICAgIC8vLS0tLQoKICAgICAgICAvL2ZvciBqYXZsaWJyYXJ5CiAgICAgICAgaWYgKG1haW5fa2V5c1tpXSA9PT0gImphdmxpYnJhcnkiKSB7CiAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2FkdWx0d2FybmluZ3Byb21wdCIpKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNhZHVsdHdhcm5pbmdwcm9tcHQgaW5wdXQiKVswXS5jbGljaygpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLy0tLS0KCiAgICAgICAgdmlkX21vZGUodik7CiAgICAgIH0KICAgICAgZWxzZSBpZiAodi50eXBlID09IDEpIHsKICAgICAgICBkbF9tb2RlKHYpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogIH0KfTsKdmFyIG1heF90aXRsZV9sZW5ndGggPSBHTV9nZXRWYWx1ZSgibWF4X3RpdGxlX2xlbmd0aCIsIDQwKTsKdmFyIHNldF9tYXhfdGl0bGVfbGVuZ3RoID0gZnVuY3Rpb24gKCkgewogIHZhciBsZW4gPSBwcm9tcHQoIuivt+i+k+WFpeS9oOaDs+imgeeahOagh+mimOmVv+W6piIsIEdNX2dldFZhbHVlKCJtYXhfdGl0bGVfbGVuZ3RoIiwgNDApKTsKICBpZiAobGVuICE9PSBudWxsICYmIGxlbiAhPT0gIiIpIHsKICAgIEdNX3NldFZhbHVlKCJtYXhfdGl0bGVfbGVuZ3RoIiwgbGVuKTsKICAgIHJ1bigpOwogIH0KfTsKCkdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoIuaMii3moIfpopjplb/luqYiLCBzZXRfbWF4X3RpdGxlX2xlbmd0aCk7CnJ1bigpOwoKCgo="},{"name":"iciba划词翻译","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["*"],"orig_excludes":["http://www.iciba.com*"],"orig_includes":["http://*","https://*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":["open.iciba.com"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"ctrlKey_actived":"n0"},"ts":1490781051863},"enabled":true,"position":8,"file_url":"https://greasyfork.org/scripts/6303-iciba%E5%88%92%E8%AF%8D%E7%BF%BB%E8%AF%91/code/iciba%E5%88%92%E8%AF%8D%E7%BF%BB%E8%AF%91.user.js","uuid":"56767365-3546-461d-bec2-849876d8181a","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICBpY2liYeWIkuivjee/u+ivkQovLyBAbmFtZXNwYWNlICAgICAgICAgIG5vZTEzMi5jb20KLy8gQGF1dGhvciAgICAgICAgICAgICBub2UxMzIKLy8gQGluY2x1ZGUgICAgICAgICAgICBodHRwOi8vKgovLyBAaW5jbHVkZSAgICAgICAgICAgIGh0dHBzOi8vKgovLyBAZXhjbHVkZSAgICAgICAgICAgIGh0dHA6Ly93d3cuaWNpYmEuY29tKgovLyBAZ3JhbnQgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgICAgICAgICAgR01fYWRkU3R5bGUKLy8gQGdyYW50ICAgICAgICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAaWNvbiAgICAgICAgICAgICAgIGh0dHA6Ly90Yi5oaW1nLmJhaWR1LmNvbS9zeXMvcG9ydHJhaXQvaXRlbS9kNDM0NmU2ZjY1MzEzMzMyYWMwNgovLyBAdmVyc2lvbiAgICAgICAgICAgIDMuMS42Ci8vIEBjb25uZWN0ICAgICAgICAgICAgKgovLyBAZGVzY3JpcHRpb24gICAgICAgIGljaWJh57+76K+RCi8vIEBzdXBwb3J0VVJMICAgICAgICAgaHR0cDovL3RpZWJhLmJhaWR1LmNvbS9mP2t3PWZpcmVmb3gKLy8gQGNvbnRyaWJ1dGlvblVSTCAgICBubm5ub2UxMzJAZ21haWwuY29tfGFsaXBheS5jb20KLy8gPT0vVXNlclNjcmlwdD09CgoKLyogLS0tLS0tLS0tLS0tLS0tLS0tIGNoYW5nZWxvZyAtLS0tLS0tLS0tLS0tLS0tLS0tCiAqIHVwZGF0ZSBJTkZPOgogKiB1cGRhdGUgMjAxNy8wMy8yNCA6IOa3u+WKoOm8oOagh+S6i+S7tjEwbXPlu7bov58KICogdXBkYXRlIDIwMTcvMDMvMjQgOiDnlKhiYWJlbOe/u+ivkWFzeW5jIGZ1bmN0aW9u77yM5Y+v5Lul5pSv5oyB5YiwY2hyb21lMzMKICogdXBkYXRlIDIwMTcvMDMvMjMgOiDkvb/nlKjnmb7luqbnv7vor5FBUEnvvIxpY2liYeeahOeoi+W6j+WRmOS4jeabtOaWsGFwaQogKiB1cGRhdGUgMjAxNi8xMi8yMyA6IHRyaW3mn6Xor6LlrZfnrKbkuLLvvIzmm7TmlrDniYjmnKzlj7fliLAzCiAqIHVwZGF0ZSAyMDE2LzA5LzIzIDogbW91c2VDbGlja+WPquiDveW3pumUruinpuWPkQogKiB1cGRhdGUgMjAxNi8wOC8xOSA6IOS4jeefpeS4uuS9lWNvbm5lY3TlsZ7mgKfmnKrliqDkuIoKICogdXBkYXRlIDIwMTYvMDUvMzAgOiDmoLflvI/kv67mlLkKICogdXBkYXRlIDIwMTYvMDUvMDMgOiDop6Pph4rlpITnkIbkv67mlLkKICogdXBkYXRlIDIwMTYvMDUvMDIgOiDmoLflvI/kv67mlLkKICogdXBkYXRlIDIwMTYvMDUvMDEgOiDmoLflvI/kv67mlLkKICogdXBkYXRlIDIwMTYvMDQvMjIgOiDogIHniYjmnKzmtY/op4jlmajlhbzlrrnmgKfkv67lpI0KICogdXBkYXRlIDIwMTYvMDQvMTcgOiDmoLflvI/kv67mlLkKICogdXBkYXRlIDIwMTYvMDQvMTcgOiDph43lhpkKICogdXBkYXRlIDIwMTYvMDQvMDkgOiDmoLflvI/lsI/mlLkKICogdXBkYXRlIDIwMTYvMDMvMjcgOiDntKfmgKXkv67lpI3jgILjgILjgIIKICogdXBkYXRlIDIwMTYvMDMvMTYgOiDmoLflvI/kv67mraMKICogdXBkYXRlIDIwMTYvMDMvMDUgOiDmoLflvI/lsI/mlLkKICogdXBkYXRlIDIwMTUvMDcvMzEgOiDosozkvLzkuYvliY3nmoR3b3JkcHJlc3PliKTmlq3kuI3lpKrnu5nlipvvvIzlubLohIbluKZ3cC1hZG1pbueahOmDveW5suaOiQogKiB1cGRhdGUgMjAxNS8wNy8xMiA6IOWOu+mZpHdwLWFkbWluL3Bvc3QucGhw6aG16Z2i77yM6Ziy5q2id29yZHByZXNz57yW6L6R5paH56ug6Ieq5Yqo5re75YqgZGl2CiAqIHVwZGF0ZSAyMDE1LzA1LzE5IDog6K6+572u5p+l6K+N6buY6K6k5Li65bCP5YaZCiAqIHVwZGF0ZSAyMDE1LzA1LzA5IDog5oyJQ3RybOWPr+S7peS9v+Wwj+iTneWciOmakOiXj+i1t+adpe+8iOaaguaXtu+8iQogKiB1cGRhdGUgMjAxNS8wMS8wMyA6IOagt+W8j+WFqOWKoOS6hiAhaW1wb3J0YW50IOaPkOmrmOS8mOWFiOe6pwogKiB1cGRhdGUgMjAxNC8xMi8yNCA6IOa3u+WKoOiuvue9rumAiemhue+8iOWPr+W9k+S4lOS7heW9k+aMieS9j2N0cmzplK7mmL7npLrnv7vor5HmjInpkq7vvIkKICogdXBkYXRlIDIwMTQvMTIvMjAgOiDkv67mraPor63ms5XplJnor6/jgILjgILjgIIKICogdXBkYXRlIDIwMTQvMTIvMTkgOiDmkJzor41CVUfkv67lpI3vvIzkv67mraPngrnlh7vlrprkvY1+CiAqIHVwZGF0ZSAyMDE0LzEyLzEwIDog5Lil5qC85qih5byPJ3VzZSBzdHJpY3Qn77yM5o+Q6auY5oCn6IO9CiAqIHVwZGF0ZSAyMDE0LzEyLzA0ICA6IOi0tOWQp+WbvuWGjOmihOiniOS/ruatowogKiB1cGRhdGUgMjAxNC8xMS8xNiA6IOabtOaNom1vdXNlQ2xpY2vnmoTop6blj5HmnaHku7bkuLptb3VzZXVwCiAqIHVwZGF0ZSAyMDE0LzExLzE0IDog5re75Yqg6L6T5YWl5qGG5p+l6K+N77yM5L+u5q2j5a6a5L2N5LiN5q2j56Gu44CCCiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoKJ3VzZSBzdHJpY3QnOwoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IGZ1bmN0aW9uIHN0ZXAoa2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsgc3RlcCgibmV4dCIsIHZhbHVlKTsgfSwgZnVuY3Rpb24gKGVycikgeyBzdGVwKCJ0aHJvdyIsIGVycik7IH0pOyB9IH0gcmV0dXJuIHN0ZXAoIm5leHQiKTsgfSk7IH07IH0KCnZhciBJY2liYSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaW5pdCgpOwp9OwoKSWNpYmEucHJvdG90eXBlLmF1dG9fYWN0aXZlID0gMTsgLy/msqHnlKh+CkljaWJhLnByb3RvdHlwZS5jdHJsS2V5X2FjdGl2ZWQgPSBudWxsOwoKLyogLS0tLS0tLS0tLS0tLS0tLWZ1bmN0aW9uIGluZm8tLS0tLS0tLS0tLS0tLS0tLQogKiBuYW1lOiBpbml0CiAqIHBhcmFtZXRlcnM6IGVtcHR5CiAqIHJldHVybjogdm9pZAogKiDliJ3lp4vljJblr7nosaEg5o+S5YWl5qC35byPIOivu+WPluiuvue9riDnu5Hlrprkuovku7YKICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwpJY2liYS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICBHTV9hZGRTdHlsZSgnI2ljaWJhQ2lyY2xlUG9pbnRlcntmb250LWZhbWlseToiTWljcm9zb2Z0IFlhaGVpIixzZXJpZixzYW5zLXNlcmlmIWltcG9ydGFudDtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDt6LWluZGV4OjEwMDAwIWltcG9ydGFudDtvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50O3dpZHRoOjIwcHghaW1wb3J0YW50O2hlaWdodDoyMHB4IWltcG9ydGFudDtib3JkZXI6MXB4IHNvbGlkICM1NTUhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6MTAwcHghaW1wb3J0YW50O2JhY2tncm91bmQ6I0FCRCFpbXBvcnRhbnQ7Ym94LXNoYWRvdzowIDAgM3B4ICMxMTEhaW1wb3J0YW50O29wYWNpdHk6LjchaW1wb3J0YW50O3RyYW5zaXRpb246LjA1cyFpbXBvcnRhbnQ7Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudH0jaWNpYmFDaXJjbGVQb2ludGVyOmhvdmVye29wYWNpdHk6MSFpbXBvcnRhbnR9I2ljaWJhQ2lyY2xlUG9pbnRlcjphY3RpdmV7Ym9yZGVyOjFweCBzb2xpZCAjMzUzNTM1IWltcG9ydGFudDtiYWNrZ3JvdW5kOiM5MGEyYzQhaW1wb3J0YW50O2JveC1zaGFkb3c6MCAwIDNweCAjMjIyIWltcG9ydGFudH0jaWNpYmFSZXN1bHRDb250YWluZXJ7ei1pbmRleDoxMDAwMCFpbXBvcnRhbnQ7d2lkdGg6YXV0byFpbXBvcnRhbnQ7aGVpZ2h0OmF1dG8haW1wb3J0YW50O21heC13aWR0aDozMjBweCFpbXBvcnRhbnQ7Ym9yZGVyOm5vbmUhaW1wb3J0YW50O2JhY2tncm91bmQ6I0VFRSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzowIDAgOHB4IDFweCAjOTk5IWltcG9ydGFudDtsZXR0ZXItc3BhY2luZzowIWltcG9ydGFudH0jaWNpYmFSZXN1bHRDb250YWluZXIgKntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50fSNpY2liYV9zZWFyY2hfYm94e2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNDQ0MhaW1wb3J0YW50O2ZvbnQtc2l6ZTowIWltcG9ydGFudDtsZXR0ZXItc3BhY2luZzowIWltcG9ydGFudDt3b3JkLXNwYWNpbmc6MCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0Q29udGFpbmVyIGlucHV0e3Bvc2l0aW9uOnN0YXRpYyFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O2JvcmRlcjpub25lIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjAhaW1wb3J0YW50O2JveC1zaGFkb3c6bm9uZSFpbXBvcnRhbnQ7Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudDtkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQ7dmVydGljYWwtYWxpZ246bWlkZGxlIWltcG9ydGFudDtmbG9hdDpub25lIWltcG9ydGFudH0jaWNpYmFfc2VhcmNoX2JveD4jaWNpYmFTZWFyY2hJbnB1dHtwYWRkaW5nOjAgN3B4IWltcG9ydGFudDt3aWR0aDpjYWxjKDEwMCUgLSAyOXB4KSFpbXBvcnRhbnQ7aGVpZ2h0OjI4cHghaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjI4cHghaW1wb3J0YW50O2JhY2tncm91bmQ6d2hpdGUhaW1wb3J0YW50O2NvbG9yOiM2NjYhaW1wb3J0YW50O2ZvbnQtc2l6ZToxNHB4IWltcG9ydGFudDtsZXR0ZXItc3BhY2luZzowIWltcG9ydGFudDtmb250LWZhbWlseToiTWljcm9zb2Z0IFlhaGVpIixzZXJpZixzYW5zLXNlcmlmIWltcG9ydGFudH0jaWNpYmFTZWFyY2hJbnB1dDpob3ZlciwjaWNpYmFTZWFyY2hJbnB1dDpmb2N1c3tib3gtc2hhZG93OjAgMCAzcHggMCAjQ0NDIGluc2V0IWltcG9ydGFudDtjb2xvcjojMjIyIWltcG9ydGFudH0jaWNpYmFTZWFyY2hCdXR0b257cGFkZGluZzowIWltcG9ydGFudDt3aWR0aDoyOXB4IWltcG9ydGFudDtoZWlnaHQ6MjhweCFpbXBvcnRhbnQ7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICNDQ0MhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6MCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjojRUVFIWltcG9ydGFudDtiYWNrZ3JvdW5kLWltYWdlOnVybCgiZGF0YTppbWFnZS9wbmchaW1wb3J0YW50O2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBUUFBQUMxK2pmcUFBQUFBbUpMUjBRQS80ZVB6TDhBQUFBSmNFaFpjd0FBQUVnQUFBQklBRWJKYXo0QUFBQUpkbkJCWndBQUFCQUFBQUFRQUZ6R3JjTUFBQURjU1VSQlZDalBoZEc5VGdKaEVJWGg1OE0xRUdFRmpFb2hpVUdrNGY0dkJhU3kwVVlSQkZFSVA4SmFMRXZXaE9qYlRjNmJ6TWxNU1B4TlJJQ0dwb3BnWmVqSkpvc1RJUkdDdGp0TEUxdXhtckdlWlNaRWFHaDVOekJINU5hOWpwN2tzTUtOdFFjTDhPMVIyYlhZTEJVS3FCanY0NVFYSjg2eW9ZQmc5NnY0enI1NUpxekVDam1oYW1lZEY0WnFXb2U0cnVuVEpIY0h6eTYwbGIzYXFtbzZ0VkhKU29aRW9LVGpTb1NkTDVHU2haNVpkcWhVUFZjV3JFelZkUlhOOVgza2hUeVh1b29XK3NtMDRCZ2pBeXV4KzdUa01kNGtXa2FFLzk3OUF4WG5RMXMwRE4xVUFBQUFKWFJGV0hSa1lYUmxPbU55WldGMFpRQXlNREV3TFRBeUxURXhWREV4T2pVd09qQTRMVEEyT2pBdzFoQmwrd0FBQUNWMFJWaDBaR0YwWlRwdGIyUnBabmtBTWpBd05pMHdOUzB3TlZReE16b3lNam8wTUMwd05Ub3dNTC9rL2hvQUFBQUFTVVZPUks1Q1lJST0iKSFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjo2cHggNnB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQhaW1wb3J0YW50fSNpY2liYVNlYXJjaEJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNmYWZhZmEhaW1wb3J0YW50fSNpY2liYVNlYXJjaEJ1dHRvbjphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojZTVlNWU1IWltcG9ydGFudDtib3gtc2hhZG93OjAgMCAycHggIzg4OCBpbnNldCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveHttYXJnaW46MCFpbXBvcnRhbnQ7cGFkZGluZzoxMHB4IWltcG9ydGFudDtjb2xvcjojMjIyIWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnQhaW1wb3J0YW50O2ZvbnQtc2l6ZToxNHB4IWltcG9ydGFudDtmb250LWZhbWlseTpBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZiFpbXBvcnRhbnQ7YmFja2dyb3VuZDojZmJmYmZiIWltcG9ydGFudH0uaWNJQmFoeUktbmV3X3dvcmR7ZGlzcGxheTpub25lIWltcG9ydGFudH0uaWNJQmFoeUktbGFiZWxfbGlzdD5MQUJFTHtkaXNwbGF5OmlubGluZSFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCBkaXYsI2ljaWJhUmVzdWx0VGV4dEJveCB1bCwjaWNpYmFSZXN1bHRUZXh0Qm94IGxpLCNpY2liYVJlc3VsdFRleHRCb3ggcCwjaWNpYmFSZXN1bHRUZXh0Qm94IGZvcm0sI2ljaWJhUmVzdWx0VGV4dEJveCBpbnB1dCwjaWNpYmFSZXN1bHRUZXh0Qm94IGxhYmVse21hcmdpbjowIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0Om5vcm1hbCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCBpbnB1dCwjaWNpYmFSZXN1bHRUZXh0Qm94IGJ1dHRvbiwjaWNpYmFSZXN1bHRUZXh0Qm94IHRleHRhcmVhe2ZvbnQtd2VpZ2h0OmluaGVyaXQhaW1wb3J0YW50O2ZvbnQtc3R5bGU6aW5oZXJpdCFpbXBvcnRhbnQ7Zm9udC1zaXplOmluaGVyaXQhaW1wb3J0YW50O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmIWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IHVsLCNpY2liYVJlc3VsdFRleHRCb3ggbGl7bGlzdC1zdHlsZTpub25lIWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IGE6Zm9jdXN7b3V0bGluZTpub25lIWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IGltZ3tib3JkZXI6MCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCBzdHJvbmd7Zm9udC13ZWlnaHQ6MTAwIWltcG9ydGFudDtmb250LWZhbWlseToiU2Vnb2UgVUkiLFZlcmRhbmEsTHVjaWRhIFNhbnMgUmVndWxhcixMdWNpZGEgU2FucyBVbmljb2RlLEFyaWFsLHNhbnMtc2VyaWYhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLWRpY3RiYXJ7Zm9udC1zaXplOjEycHghaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXJlZ2lzdGVyLCNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXJpZ2h0X2JnLCNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXVwLCNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLWRvd257ZmxvYXQ6cmlnaHQhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXJlZ2lzdGVye3BhZGRpbmctbGVmdDoyNXB4IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IGEuaWNJQmFoeUktdGV4dF9ibGFjaywjaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1uYXZfbGlzdCBzdHJvbmd7Y29sb3I6IzMzMyFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCBhe2NvbG9yOiMyMzZmZDQhaW1wb3J0YW50O3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmUhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggYTpob3Zlcntjb2xvcjojMjM2ZmQ0IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1oYW5kd3JpdGUsI2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktaGFuZHdyaXRlX292ZXIsI2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktZHJvcF9kb3due3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt3aWR0aDoxNnB4IWltcG9ydGFudDtoZWlnaHQ6MTZweCFpbXBvcnRhbnQ7Y3Vyc29yOnBvaW50ZXIhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLWhhbmR3cml0ZXt0b3A6MTRweCFpbXBvcnRhbnQ7cmlnaHQ6MTMwcHghaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246MCAtNzBweCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktaGFuZHdyaXRlX292ZXJ7dG9wOjE0cHghaW1wb3J0YW50O3JpZ2h0OjEzMHB4IWltcG9ydGFudDtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xOHB4IC03MHB4IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94ICNpY0lCYWh5SS1kaWN0X21haW57cGFkZGluZzowIWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnQhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLWRpY3RiYXJ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDtoZWlnaHQ6YXV0byFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MS4yIWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS10aXRsZXtwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnQ7cGFkZGluZzoxNnB4IDE3cHggMCAxOHB4IWltcG9ydGFudDtjb2xvcjojMzMzIWltcG9ydGFudDtmb250LXdlaWdodDpib2xkIWltcG9ydGFudDtmb250LXNpemU6MjRweCFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6YXJpYWwsc2Fucy1zZXJpZiFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MzJweCFpbXBvcnRhbnQ7d29yZC1icmVhazpicmVhay1hbGwhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLWRpY3RfdGl0bGV7Y29sb3I6IzMzMyFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6Ym9sZCFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6YXJpYWwsc2Fucy1zZXJpZiFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktcHJvbnN7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDtoZWlnaHQ6YXV0byFpbXBvcnRhbnQ7d2hpdGUtc3BhY2U6bm9ybWFsIWltcG9ydGFudDtmb250LXdlaWdodDo3MDAhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLWRpY3RiYXIgLmljSUJhaHlJLWZse3ZlcnRpY2FsLWFsaWduOm1pZGRsZSFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHghaW1wb3J0YW50O2xpbmUtaGVpZ2h0Om5vcm1hbCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktZGljdGJhciAuaWNJQmFoeUktZmwgKntmb250LXNpemU6MTJweCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktaWNvX3NvdW5ke3RleHQtZGVjb3JhdGlvbjpub25lIWltcG9ydGFudDtib3JkZXI6bm9uZSFpbXBvcnRhbnQ7ZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50O3dpZHRoOjE2cHghaW1wb3J0YW50O2hlaWdodDoxNnB4IWltcG9ydGFudDtiYWNrZ3JvdW5kOnVybCgiZGF0YTppbWFnZS9wbmchaW1wb3J0YW50O2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBWUFBQUFmOC85aEFBQUNLMGxFUVZRNGpaV1RRVXVVVVJTR24zUHUvZTZvcE01a2pZUlVrMm1aT1dDMEtxTDhBUzFjQkJVVU9mOUFmNExiSUpSbzB5SnMwVjRoV2hUVXVDK1NBc2xTY2x4RVNNTTA2Y3c0T3ZOOXQ4VlVTZ3JaMmI4UHozc09SN3ozbkxyNlpGcEVoMUY5TEtwakgyZXVGOW5uS0lDb0diNTA1UUtwN3RTSWRXNjU3OXIweVA4QmpHVzlYQWZiVGs5dlg3eXRQVDdWZitOcHR2L21zOEY5QWd4aEpId3YxVmd0MW1udjZDSjU1TVNRZFUxeloyODlueGk0L1NMK3J3cUVIa1FWTDhKNnRVWU5TMmRYTjRsRHlWRmpnK1gwblpkNzF0bzI4SUtvSUVZUm8zaUZTbTJMNXRaMmpwMU14VnZhMnFiU21XdzJuY2tPN2dLZ2hub0VZaFExQWtiWmlvU05Pbnhici9PMUdCTHZUSEs4NStpUWk3bTVkQ1k3a1I1NUZkOVJRUWtqd1l0UTJ2U1VxcDRRUlFPTGE3WVlaeWhXSWtwMVMrOUFpb09INDZPSWpBQllBQkZEZWRPenRoRmhuU0Z3QnVzTU5qQVlxNGcwZEp1YWRMdW1HdjRBVUtGYTg2aFJiTkFJQnpIYkFBV0tjMG95RVZCWnEvQjVjWlZxcFRyKy90SGx5UjBHU2hBSTlWQXhnV0tkd2NVTXNXWkxSOEp4SUFhTEMzbUtoZktzajN6bTNjT0x1ZDlMYkJnZzJFQlJJb3hSckZYYVdnT1NIWTVDb2NxbitSODVINFpqYis4UHp2eDlSdnNyajdXQ2hvSUxsSzVrREIrRmZKalBzMWxqWE5ST3ZyNTdlcy8vYUFDOHgxaEl4QUlTY2N1WGxUemxTamdyeG1iZTNEdVQyeXU0QzlBU0V5cVZNa3NMcFp3WU96YjM0UHd1M2IxR0FUeCtkbVVwUjM2MU1PN0Q4Tngrd3dBL0FkOWR1ZHdTbjVRNkFBQUFBRWxGVGtTdVFtQ0MiKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbjouMXMhaW1wb3J0YW50O3ZlcnRpY2FsLWFsaWduOm1pZGRsZSFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktaWNvX3NvdW5kOmhvdmVye29wYWNpdHk6Ljc1IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1pY29fc291bmQ6YWN0aXZle29wYWNpdHk6LjkhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLWVnLCNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXVze3BhZGRpbmctdG9wOjAhaW1wb3J0YW50O2ZvbnQtZmFtaWx5OiJsdWNpZGEgc2FucyB1bmljb2RlIixhcmlhbCFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktbmV3X3dvcmR7ZmxvYXQ6bGVmdCFpbXBvcnRhbnQ7cGFkZGluZy10b3A6MnB4IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1uZXdfd29yZCBhe2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O3BhZGRpbmc6M3B4IDEwcHggMCAyMHB4IWltcG9ydGFudDt3aWR0aDozNXB4IWltcG9ydGFudDtoZWlnaHQ6MTdweCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1wb3NpdGlvbjotMjc0cHggMCFpbXBvcnRhbnQ7Y29sb3I6Izk5OSFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6MTAwIWltcG9ydGFudDtmb250LWZhbWlseToiTWljcm9zb2Z0IFlhaGVpIiFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktbmV3X3dvcmQgYS5pY0lCYWh5SS1uZXdfd29yZDJ7YmFja2dyb3VuZC1wb3NpdGlvbjotMjc0cHggLTE5cHghaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXVzdWFsbHksI2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktcHJvbnN7Y29sb3I6IzY2NiFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6MTAwIWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1zaW1wbGV7bWFyZ2luOjVweCAwIDVweCAwIWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1ncm91cF9wcm9uc3tjbGVhcjpib3RoIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktZ3JvdXBfcHJvbnMgLmljSUJhaHlJLXNlY29uZHtmbG9hdDpub25lIWltcG9ydGFudDtwYWRkaW5nLXRvcDowIWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1ncm91cF9wcm9ucyAuaWNJQmFoeUktc2Vjb25kIC5pY0lCYWh5SS1lZ3toZWlnaHQ6MjRweCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktZ3JvdXBfcG9ze2NsZWFyOmJvdGghaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnQ7Y29sb3I6IzIyMiFpbXBvcnRhbnQ7Zm9udC1zaXplOjE0cHghaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLWdyb3VwX3BvcyAqe2ZvbnQtc2l6ZToxNHB4IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1ncm91cF9wb3MgcDpub3QoOmxhc3Qtb2YtdHlwZSl7bWFyZ2luLWJvdHRvbTo1cHghaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLWxhYmVsX2xpc3R7ZmxvYXQ6bGVmdCFpbXBvcnRhbnQ7cGFkZGluZy1ib3R0b206OXB4IWltcG9ydGFudDt3aWR0aDo4NyUhaW1wb3J0YW50O3RleHQtYWxpZ246bGVmdCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktY24gLmljSUJhaHlJLWdyb3VwX3Bvc3tjb2xvcjojMzMzIWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1ncm91cF9wb3Mgc3Ryb25ne2NvbG9yOiM4ZDhkOGQhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLW1hcmdpbl90b3B7cGFkZGluZy10b3A6NnB4IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1wYXJ0X2xpc3QgYSwjaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS10YWJfbGlzdCBsaSBhLCNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLW5ld193b3JkIGEsI2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktcGFydF9tYWluIGgzIGF7dGV4dC1kZWNvcmF0aW9uOm5vbmUhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXRhYl9saXN0e2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktdGl0bGV7cGFkZGluZzoxM3B4IDEwcHggMXB4IWltcG9ydGFudDtmb250LXNpemU6MTRweCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktZ3JvdXBfcG9ze2ZvbnQtc2l6ZToxNHB4IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1ncm91cF9wb3MgLmljSUJhaHlJLWZse3BhZGRpbmc6MCA2cHggMCAwIWltcG9ydGFudDtjb2xvcjojOTk5IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1ncm91cF9wb3Mgc3Bhbnt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZSFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6bm9ybWFsIWltcG9ydGFudDtmbG9hdDpub25lIWltcG9ydGFudDtkaXNwbGF5OmlubGluZSFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1zeW5vbntjb2xvcjojMzMzIWltcG9ydGFudDtsaW5lLWhlaWdodDoyOHB4IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1zdWdnZXN0LCNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXN1Z2dlc3Qye3BhZGRpbmc6MCAwIDNweCAwIWltcG9ydGFudDtjb2xvcjojMzMzIWltcG9ydGFudDt3b3JkLXdyYXA6YnJlYWstd29yZCFpbXBvcnRhbnQ7Zm9udC1zaXplOjE0cHghaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjIycHghaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXN1Z2dlc3QgdWx7cGFkZGluZzo3cHggMCA0cHghaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjE1NSUhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXN1Z2dlc3QgbGl7cGFkZGluZy1sZWZ0OjE0cHghaW1wb3J0YW50O2JhY2tncm91bmQtcG9zaXRpb246LTEzNHB4IC0zMDRweCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktc3VnZ2VzdCBwe2xpbmUtaGVpZ2h0OjI1MCUhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXN1Z2dlc3QgLmljSUJhaHlJLXByIGF7cGFkZGluZy1yaWdodDozcHghaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXN1Z2dlc3QgcC5pY0lCYWh5SS1wcnttYXJnaW4tdG9wOjNweCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MThweCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktc3VnZ2VzdCAuaWNJQmFoeUktcHIgYXtkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQ7cGFkZGluZy1yaWdodDoxMHB4IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1mb290ZXJ7cGFkZGluZzowIWltcG9ydGFudDt3aWR0aDphdXRvIWltcG9ydGFudDtjb2xvcjojOTk5IWltcG9ydGFudDt0ZXh0LWFsaWduOnJpZ2h0IWltcG9ydGFudDtmb250LXNpemU6MTJweCFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MThweCFpbXBvcnRhbnR9I2ljaWJhUmVzdWx0VGV4dEJveCAuaWNJQmFoeUktZm9vdGVyIGF7Ym9yZGVyOm5vbmUhaW1wb3J0YW50O3RleHQtZGVjb3JhdGlvbjpub25lIWltcG9ydGFudDtwYWRkaW5nOjAgM3B4IDAgMCFpbXBvcnRhbnQ7YmFja2dyb3VuZDpub25lIWltcG9ydGFudDtjb2xvcjojMjM2ZmQ0IWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHghaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjE4cHghaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLWZvb3RlciBhOmhvdmVye2NvbG9yOiMyMzZmZDQhaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLXRleHRfYmx1ZXtjb2xvcjojMjM2ZmQ0IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1saXN0IGxpe3BhZGRpbmc6MCAxNXB4IWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1saV9kdCwuaWNJQmFoeUktbGlfZGR7ZGlzcGxheTppbmxpbmUhaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjI0cHghaW1wb3J0YW50fSNpY2liYVJlc3VsdFRleHRCb3ggLmljSUJhaHlJLWxpX2R0e3BhZGRpbmctcmlnaHQ6NXB4IWltcG9ydGFudDtjb2xvcjojMjMyMzIzIWltcG9ydGFudH0jaWNpYmFSZXN1bHRUZXh0Qm94IC5pY0lCYWh5SS1saV9kZHtjb2xvcjojNzc3IWltcG9ydGFudH0jSUNJQkFfVE9PX0xPTkd7cGFkZGluZy10b3A6MTBweCFpbXBvcnRhbnQ7cGFkZGluZy1sZWZ0OjEwcHghaW1wb3J0YW50O2ZvbnQtc2l6ZToxMnB4IWltcG9ydGFudH0nKTsKICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoJ2ljaWJh57+76K+R6K6+572uJywgdGhpcy5vcGVuU2V0dGluZyk7CgogICAgX3RoaXMubG9hZFNldHRpbmcoKTsKICAgIF90aGlzLmV2ZW50QmluZGluZygpOwp9OwoKLyogLS0tLS0tLS0tLS0tLS0tLWZ1bmN0aW9uIGluZm8tLS0tLS0tLS0tLS0tLS0tLQogKiBuYW1lOiBldmVudEJpbmRpbmcKICogcGFyYW1ldGVyczogZW1wdHkKICogcmV0dXJuOiB2b2lkCiAqIOe7keWumuS6i+S7tgogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCkljaWJhLnByb3RvdHlwZS5ldmVudEJpbmRpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICBfdGhpcy5tb3VzZUNsaWNrKGUsIF90aGlzKTsKICAgICAgICB9LCAxMCk7CiAgICB9LCBmYWxzZSk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMua2V5RG93bihlLCBfdGhpcyk7CiAgICB9LCBmYWxzZSk7Cn07CgovKiAtLS0tLS0tLS0tLS0tLS0tZnVuY3Rpb24gaW5mby0tLS0tLS0tLS0tLS0tLS0tCiAqIG5hbWU6IGxvYWRTZXR0aW5nCiAqIHBhcmFtZXRlcnM6IGVtcHR5CiAqIHJldHVybjogdm9pZAogKiDor7vlj5borr7nva4KICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwpJY2liYS5wcm90b3R5cGUubG9hZFNldHRpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAvLyBDdHJs6ZSu6Kem5Y+RCiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgaWYgKEdNX2dldFZhbHVlKCdjdHJsS2V5X2FjdGl2ZWQnKSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgX3RoaXMuY3RybEtleV9hY3RpdmVkID0gMDsKICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMuY3RybEtleV9hY3RpdmVkID0gcGFyc2VJbnQoR01fZ2V0VmFsdWUoJ2N0cmxLZXlfYWN0aXZlZCcpKTsKICAgIH0KICAgIEdNX3NldFZhbHVlKCdjdHJsS2V5X2FjdGl2ZWQnLCBfdGhpcy5jdHJsS2V5X2FjdGl2ZWQpOwp9OwoKLyogLS0tLS0tLS0tLS0tLS0tLWZ1bmN0aW9uIGluZm8tLS0tLS0tLS0tLS0tLS0tLQogKiBuYW1lOiBvcGVuU2V0dGluZwogKiBwYXJhbWV0ZXJzOiBlbXB0eQogKiByZXR1cm46IHZvaWQKICog6K6+572u5a+56K+d5qGGCiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KSWNpYmEucHJvdG90eXBlLm9wZW5TZXR0aW5nID0gZnVuY3Rpb24gKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIF90aGlzLmN0cmxLZXlfYWN0aXZlZCA9IGNvbmZpcm0oJ+aMieS9j2N0cmzplK7vvIjlvZPkuJTku4XlvZPvvInlvIDlkK/nv7vor5HvvJ8nKSA/IDEgOiAwOwogICAgR01fc2V0VmFsdWUoJ2N0cmxLZXlfYWN0aXZlZCcsIF90aGlzLmN0cmxLZXlfYWN0aXZlZCk7Cn07CgovKiAtLS0tLS0tLS0tLS0tLS0tZnVuY3Rpb24gaW5mby0tLS0tLS0tLS0tLS0tLS0tCiAqIG5hbWU6IGlzSW5zaWRlT2YKICogcGFyYW1ldGVyczogZW1wdHkKICogcmV0dXJuOiBib29sZWFuCiAqIOWIpOaWreaYr+WQpuWcqOWGhemDqAogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCkljaWJhLnByb3RvdHlwZS5pc0luc2lkZU9mID0gZnVuY3Rpb24gKGUsIHRhcmdldCkgewogICAgLy8gd2hlbiB0YXJnZXQgaXMgbm90IGV4aXN0CiAgICBpZiAoIXRhcmdldCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHZhciBlX3RhcmdldCA9IGUudGFyZ2V0OwogICAgd2hpbGUgKGVfdGFyZ2V0ICE9IHRhcmdldCAmJiBlX3RhcmdldCkgewogICAgICAgIGVfdGFyZ2V0ID0gZV90YXJnZXQucGFyZW50Tm9kZTsKICAgIH0KICAgIGlmIChlX3RhcmdldCA9PT0gdGFyZ2V0KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KfTsKCi8qIC0tLS0tLS0tLS0tLS0tLS1mdW5jdGlvbiBpbmZvLS0tLS0tLS0tLS0tLS0tLS0KICogbmFtZTogc2hvd0ljaWJhQ2lyY2xlUG9pbnRlcgogKiBwYXJhbWV0ZXJzOiBtb3VzZUV2ZW50CiAqIHJldHVybjogdm9pZAogKiDmmL7npLrlubblrprkvY3lsI/lnIbngrkKICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwpJY2liYS5wcm90b3R5cGUuc2hvd0ljaWJhQ2lyY2xlUG9pbnRlciA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgdmFyIG1vdXNlWCA9IGUucGFnZVg7CiAgICB2YXIgbW91c2VZID0gZS5wYWdlWTsKCiAgICAvLyBzZXR0aW5nIGF0dHJpYnV0ZXMKICAgIHZhciBib2R5X3RvcF9tYXJnaW4gPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLm1hcmdpblRvcCk7CiAgICBib2R5X3RvcF9tYXJnaW4gPSBOdW1iZXIuaXNOYU4oYm9keV90b3BfbWFyZ2luKSA/IDAgOiBib2R5X3RvcF9tYXJnaW47CiAgICBfdGhpcy5pY2liYUNpcmNsZVBvaW50ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIF90aGlzLmljaWJhQ2lyY2xlUG9pbnRlci5pZCA9ICdpY2liYUNpcmNsZVBvaW50ZXInOwogICAgX3RoaXMuaWNpYmFDaXJjbGVQb2ludGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsKICAgIF90aGlzLmljaWJhQ2lyY2xlUG9pbnRlci5zdHlsZS50b3AgPSBtb3VzZVkgKyA4IC0gYm9keV90b3BfbWFyZ2luICsgJ3B4JzsKICAgIF90aGlzLmljaWJhQ2lyY2xlUG9pbnRlci5zdHlsZS5sZWZ0ID0gbW91c2VYICsgMiArICdweCc7CiAgICBfdGhpcy5pY2liYUNpcmNsZVBvaW50ZXIuc2V0QXR0cmlidXRlKCdrZXl3b3JkJywgd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS50cmltKCkpOwogICAgX3RoaXMuaWNpYmFDaXJjbGVQb2ludGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpcy5zaG93Q29udGFpbmVyKGUsIF90aGlzKTsKICAgIH0sIGZhbHNlKTsKCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKF90aGlzLmljaWJhQ2lyY2xlUG9pbnRlcik7Cn07CgovKiAtLS0tLS0tLS0tLS0tLS0tZnVuY3Rpb24gaW5mby0tLS0tLS0tLS0tLS0tLS0tCiAqIG5hbWU6IHJlbW92ZUNpcmNsZVBvaW50ZXIKICogcGFyYW1ldGVyczogZW1wdHkKICogcmV0dXJuOiB2b2lkCiAqIOWOu+mZpOWwj+WchueCuQogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCkljaWJhLnByb3RvdHlwZS5yZW1vdmVDaXJjbGVQb2ludGVyID0gZnVuY3Rpb24gKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIGlmIChfdGhpcy5pY2liYUNpcmNsZVBvaW50ZXIpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKF90aGlzLmljaWJhQ2lyY2xlUG9pbnRlcik7CiAgICB9CiAgICBfdGhpcy5pY2liYUNpcmNsZVBvaW50ZXIgPSBudWxsOwp9OwoKLyogLS0tLS0tLS0tLS0tLS0tLWZ1bmN0aW9uIGluZm8tLS0tLS0tLS0tLS0tLS0tLQogKiBuYW1lOiBzaG93Q29udGFpbmVyCiAqIHBhcmFtZXRlcnM6IG1vdXNlRXZlbnQKICogcmV0dXJuOiB2b2lkCiAqIOaYvuekuuW5tuWumuS9jeafpeivjeahhgogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCkljaWJhLnByb3RvdHlwZS5zaG93Q29udGFpbmVyID0gZnVuY3Rpb24gKGUsIF90aGlzKSB7CiAgICB2YXIgd29yZCA9IF90aGlzLmljaWJhQ2lyY2xlUG9pbnRlci5nZXRBdHRyaWJ1dGUoJ2tleXdvcmQnKTsKICAgIF90aGlzLnJlbW92ZUNpcmNsZVBvaW50ZXIoKTsKICAgIF90aGlzLmNyZWF0ZUNvbnRhaW5lcigpOwogICAgX3RoaXMuY29udGFpbmVyU2V0UG9zaXRpb24oZSk7CiAgICBfdGhpcy5jb250YWluZXJMb2FkRGF0YSh3b3JkKTsKCiAgICAvLyBnZXREYXRhKHdvcmQsZSxib2R5Q2xpZW50SGVpZ2h0LGJvZHlDbGllbnRXaWR0aCx3aW5kb3dJbm5lckhlaWdodCx3aW5kb3dJbm5lcldpZHRoLGh0bWxDbGllbnRIZWlnaHQsaHRtbENsaWVudFdpZHRoKTsKfTsKCi8qIC0tLS0tLS0tLS0tLS0tLS1mdW5jdGlvbiBpbmZvLS0tLS0tLS0tLS0tLS0tLS0KICogbmFtZTogY3JlYXRlQ29udGFpbmVyCiAqIHBhcmFtZXRlcnM6IGVtcHR5CiAqIHJldHVybjogdm9pZAogKiDliJvlu7rmn6Xor43moYYKICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwpJY2liYS5wcm90b3R5cGUuY3JlYXRlQ29udGFpbmVyID0gZnVuY3Rpb24gKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfdGhpcy5pY2liYVJlc3VsdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgX3RoaXMuaWNpYmFSZXN1bHRDb250YWluZXIuaWQgPSAnaWNpYmFSZXN1bHRDb250YWluZXInOwogICAgX3RoaXMuaWNpYmFSZXN1bHRDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgX3RoaXMuaWNpYmFSZXN1bHRDb250YWluZXIuaW5uZXJIVE1MID0gJ1wKICAgIDxkaXYgaWQ9ImljaWJhX3NlYXJjaF9ib3giPlwKICAgICAgICA8aW5wdXQgaWQ9ImljaWJhU2VhcmNoSW5wdXQiIHR5cGU9InRleHQiIC8+XAogICAgICAgIDxpbnB1dCBpZD0iaWNpYmFTZWFyY2hCdXR0b24iIHR5cGU9ImJ1dHRvbiIgLz5cCiAgICA8L2Rpdj5cCiAgICA8ZGl2IGlkPSJpY2liYVJlc3VsdFRleHRCb3giPjwvZGl2Pic7CgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChfdGhpcy5pY2liYVJlc3VsdENvbnRhaW5lcik7CgogICAgX3RoaXMuaWNpYmFSZXN1bHRUZXh0Qm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ljaWJhUmVzdWx0VGV4dEJveCcpOwogICAgX3RoaXMuaWNpYmFTZWFyY2hJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpY2liYVNlYXJjaElucHV0Jyk7CiAgICBfdGhpcy5pY2liYVNlYXJjaEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpY2liYVNlYXJjaEJ1dHRvbicpOwoKICAgIF90aGlzLmljaWJhU2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzLnNlYXJjaEZyb21JbnB1dEJveChlLCBfdGhpcyk7CiAgICB9LCBmYWxzZSk7CiAgICBfdGhpcy5pY2liYVNlYXJjaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMuc2VhcmNoRnJvbUlucHV0Qm94KGUsIF90aGlzKTsKICAgIH0sIGZhbHNlKTsKfTsKCi8qIC0tLS0tLS0tLS0tLS0tLS1mdW5jdGlvbiBpbmZvLS0tLS0tLS0tLS0tLS0tLS0KICogbmFtZTogcmVtb3ZlQ29udGFpbmVyCiAqIHBhcmFtZXRlcnM6IGVtcHR5CiAqIHJldHVybjogdm9pZAogKiDljrvpmaTmn6Xor43moYYKICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwpJY2liYS5wcm90b3R5cGUucmVtb3ZlQ29udGFpbmVyID0gZnVuY3Rpb24gKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIGlmIChfdGhpcy5pY2liYVJlc3VsdENvbnRhaW5lcikgewogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoX3RoaXMuaWNpYmFSZXN1bHRDb250YWluZXIpOwogICAgICAgIF90aGlzLmljaWJhUmVzdWx0Q29udGFpbmVyID0gbnVsbDsKICAgICAgICBfdGhpcy5pY2liYVJlc3VsdFRleHRCb3ggPSBudWxsOwogICAgICAgIF90aGlzLmljaWJhU2VhcmNoSW5wdXQgPSBudWxsOwogICAgICAgIF90aGlzLmljaWJhU2VhcmNoQnV0dG9uID0gbnVsbDsKICAgIH0KfTsKCi8qIC0tLS0tLS0tLS0tLS0tLS1mdW5jdGlvbiBpbmZvLS0tLS0tLS0tLS0tLS0tLS0KICogbmFtZTogY29udGFpbmVyU2V0UG9zaXRpb24KICogcGFyYW1ldGVyczogZW1wdHkKICogcmV0dXJuOiB2b2lkCiAqIOWumuS9jeafpeivjeahhgogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCkljaWJhLnByb3RvdHlwZS5jb250YWluZXJTZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgdmFyIGJvZHlDbGllbnRIZWlnaHQgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsKICAgIHZhciBib2R5Q2xpZW50V2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgdmFyIGh0bWxDbGllbnRIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgdmFyIGh0bWxDbGllbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDsKICAgIHZhciB3aW5kb3dJbm5lckhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgIHZhciB3aW5kb3dJbm5lcldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICB2YXIgYm9keVBvc2l0aW9uID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KVsncG9zaXRpb24nXTsKICAgIHZhciBodG1sUG9zaXRpb24gPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudClbJ3Bvc2l0aW9uJ107CiAgICB2YXIgYm9keV90b3BfbWFyZ2luID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5tYXJnaW5Ub3ApOwogICAgYm9keV90b3BfbWFyZ2luID0gTnVtYmVyLmlzTmFOKGJvZHlfdG9wX21hcmdpbikgPyAwIDogYm9keV90b3BfbWFyZ2luOwoKICAgIGlmIChib2R5UG9zaXRpb24gIT0gJ3N0YXRpYycpIHsKICAgICAgICBpZiAoYm9keUNsaWVudFdpZHRoIC0gZS5jbGllbnRYIDwgMzAwKSB7CiAgICAgICAgICAgIF90aGlzLmljaWJhUmVzdWx0Q29udGFpbmVyLnN0eWxlLmxlZnQgPSAnYXV0byc7CiAgICAgICAgICAgIF90aGlzLmljaWJhUmVzdWx0Q29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gYm9keUNsaWVudFdpZHRoIC0gZS5wYWdlWCArICdweCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuaWNpYmFSZXN1bHRDb250YWluZXIuc3R5bGUubGVmdCA9IGUucGFnZVggKyAncHgnOwogICAgICAgICAgICBfdGhpcy5pY2liYVJlc3VsdENvbnRhaW5lci5zdHlsZS5yaWdodCA9ICdhdXRvJzsKICAgICAgICB9CiAgICAgICAgaWYgKGJvZHlDbGllbnRIZWlnaHQgLSBlLmNsaWVudFkgPCAyMDApIHsKICAgICAgICAgICAgX3RoaXMuaWNpYmFSZXN1bHRDb250YWluZXIuc3R5bGUudG9wID0gJ2F1dG8nOwogICAgICAgICAgICBfdGhpcy5pY2liYVJlc3VsdENvbnRhaW5lci5zdHlsZS5ib3R0b20gPSBib2R5Q2xpZW50SGVpZ2h0IC0gZS5wYWdlWSArICdweCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuaWNpYmFSZXN1bHRDb250YWluZXIuc3R5bGUudG9wID0gZS5wYWdlWSAtIGJvZHlfdG9wX21hcmdpbiArICdweCc7CiAgICAgICAgICAgIF90aGlzLmljaWJhUmVzdWx0Q29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICdhdXRvJzsKICAgICAgICB9CiAgICB9IGVsc2UgaWYgKGh0bWxQb3NpdGlvbiAhPSAnc3RhdGljJykgewogICAgICAgIGlmICh3aW5kb3dJbm5lcldpZHRoIC0gZS5jbGllbnRYIDwgMzAwKSB7CiAgICAgICAgICAgIF90aGlzLmljaWJhUmVzdWx0Q29udGFpbmVyLnN0eWxlLmxlZnQgPSAnYXV0byc7CiAgICAgICAgICAgIF90aGlzLmljaWJhUmVzdWx0Q29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gaHRtbENsaWVudFdpZHRoIC0gZS5wYWdlWCArICdweCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuaWNpYmFSZXN1bHRDb250YWluZXIuc3R5bGUubGVmdCA9IGUucGFnZVggKyAncHgnOwogICAgICAgICAgICBfdGhpcy5pY2liYVJlc3VsdENvbnRhaW5lci5zdHlsZS5yaWdodCA9ICdhdXRvJzsKICAgICAgICB9CiAgICAgICAgaWYgKHdpbmRvd0lubmVySGVpZ2h0IC0gZS5jbGllbnRZIDwgMjAwKSB7CiAgICAgICAgICAgIF90aGlzLmljaWJhUmVzdWx0Q29udGFpbmVyLnN0eWxlLnRvcCA9ICdhdXRvJzsKICAgICAgICAgICAgX3RoaXMuaWNpYmFSZXN1bHRDb250YWluZXIuc3R5bGUuYm90dG9tID0gaHRtbENsaWVudEhlaWdodCAtIGUucGFnZVkgKyAncHgnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLmljaWJhUmVzdWx0Q29udGFpbmVyLnN0eWxlLnRvcCA9IGUucGFnZVkgLSBib2R5X3RvcF9tYXJnaW4gKyAncHgnOwogICAgICAgICAgICBfdGhpcy5pY2liYVJlc3VsdENvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAnYXV0byc7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBpZiAod2luZG93SW5uZXJXaWR0aCAtIGUuY2xpZW50WCA8IDMwMCkgewogICAgICAgICAgICBfdGhpcy5pY2liYVJlc3VsdENvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJ2F1dG8nOwogICAgICAgICAgICBfdGhpcy5pY2liYVJlc3VsdENvbnRhaW5lci5zdHlsZS5yaWdodCA9IHdpbmRvd0lubmVyV2lkdGggLSBlLnBhZ2VYICsgJ3B4JzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy5pY2liYVJlc3VsdENvbnRhaW5lci5zdHlsZS5sZWZ0ID0gZS5wYWdlWCArICdweCc7CiAgICAgICAgICAgIF90aGlzLmljaWJhUmVzdWx0Q29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gJ2F1dG8nOwogICAgICAgIH0KICAgICAgICBpZiAod2luZG93SW5uZXJIZWlnaHQgLSBlLmNsaWVudFkgPCAyMDApIHsKICAgICAgICAgICAgX3RoaXMuaWNpYmFSZXN1bHRDb250YWluZXIuc3R5bGUudG9wID0gJ2F1dG8nOwogICAgICAgICAgICBfdGhpcy5pY2liYVJlc3VsdENvbnRhaW5lci5zdHlsZS5ib3R0b20gPSB3aW5kb3dJbm5lckhlaWdodCAtIGUucGFnZVkgKyAncHgnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLmljaWJhUmVzdWx0Q29udGFpbmVyLnN0eWxlLnRvcCA9IGUucGFnZVkgLSBib2R5X3RvcF9tYXJnaW4gKyAncHgnOwogICAgICAgICAgICBfdGhpcy5pY2liYVJlc3VsdENvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAnYXV0byc7CiAgICAgICAgfQogICAgfQp9OwoKLyogLS0tLS0tLS0tLS0tLS0tLWZ1bmN0aW9uIGluZm8tLS0tLS0tLS0tLS0tLS0tLQogKiBuYW1lOiBjb250YWluZXJMb2FkRGF0YQogKiBwYXJhbWV0ZXJzOiB3b3JkCiAqIHJldHVybjogdm9pZAogKiDojrflj5bmlbDmja7mn6Xor40KICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwpJY2liYS5wcm90b3R5cGUuY29udGFpbmVyTG9hZERhdGEgPSBmdW5jdGlvbiAod29yZCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIF90aGlzLmljaWJhUmVzdWx0VGV4dEJveC5pbm5lckhUTUwgPSAnTG9hZGluZy4uLi4uLic7CiAgICBfdGhpcy5pY2liYVNlYXJjaElucHV0LnZhbHVlID0gd29yZDsKCiAgICB2YXIgZ2V0X3RyYW5zbGF0aW9uID0gKCgpID0+IHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKGZ1bmN0aW9uKiAod29yZCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgdmFyIGljaWJhX3Jlc3VsdCA9IHlpZWxkIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChycywgcmopIHsKICAgICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZXI6ICdodHRwOi8vd3d3LmljaWJhLmNvbS8nLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwOi8vb3Blbi5pY2liYS5jb20vaHVhY2kvZGljdC5waHA/d29yZD0nICsgd29yZCwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMTAwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmooeyBzdGF0dXM6IDEsIG1lc3NhZ2U6ICfnvZHnu5zotoXml7bvvIEnIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaih7IHN0YXR1czogMSwgbWVzc2FnZTogJ+e9kee7nOmUmeivr++8gScgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJqKHsgc3RhdHVzOiAxLCBtZXNzYWdlOiAn572R57uc6ZSZ6K+v77yBJyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0LnJlcGxhY2UoL1xcL2csICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0LmluZGV4T2YoJ2FwaS5mYW55aS5iYWlkdS5jb20nKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBycyh7IHN0YXR1czogMCwgdHJhbnNsYXRpb246IDEsIGRhdGE6IHRleHQgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQubWF0Y2goL2RpY3RcLmlubmVySFRNTD1cJyguKilcJy8pWzFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvaWNJQmFoeUktJ2ljb19zb3VuZCcvZywgJyJpY0lCYWh5SS1pY29fc291bmQiJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycyh7IHN0YXR1czogMCwgdHJhbnNsYXRpb246IDAsIGRhdGE6IHRleHQgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKGljaWJhX3Jlc3VsdC50cmFuc2xhdGlvbiA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmljaWJhUmVzdWx0VGV4dEJveC5pbm5lckhUTUwgPSBpY2liYV9yZXN1bHQuZGF0YTsKICAgICAgICAgICAgICAgICAgICB2YXIgcGxheWJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pY0lCYWh5SS1pY29fc291bmQnKTsKICAgICAgICAgICAgICAgICAgICBpZiAocGxheWJ0bi5sZW5ndGggIT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsYXlidG4ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlidG5baV0uc2V0QXR0cmlidXRlKCdtcDMnLCBwbGF5YnRuW2ldLmdldEF0dHJpYnV0ZSgnb25jbGljaycpLm1hdGNoKC9hc3BsYXlfaGFuY2lcKCcoLiopJ1wpLylbMV0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWJ0bltpXS5yZW1vdmVBdHRyaWJ1dGUoJ29uY2xpY2snKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlidG5baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpcy5wbGF5U291bmQsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxhbmdfZGV0ZWN0X2Zvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgbGFuZ19kZXRlY3RfZm9ybURhdGEuYXBwZW5kKCdxdWVyeScsIHdvcmQpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgbGFuZ19kZXRlY3QgPSB5aWVsZCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocnMsIHJqKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlcjogJ2h0dHA6Ly9mYW55aS5iYWlkdS5jb20nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2ZhbnlpLmJhaWR1LmNvbS9sYW5nZGV0ZWN0JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGxhbmdfZGV0ZWN0X2Zvcm1EYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9udGltZW91dDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJqKHsgc3RhdHVzOiAxLCBtZXNzYWdlOiAn572R57uc6LaF5pe277yBJyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmooeyBzdGF0dXM6IDEsIG1lc3NhZ2U6ICfnvZHnu5zplJnor6/vvIEnIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmooeyBzdGF0dXM6IDEsIG1lc3NhZ2U6ICfnvZHnu5zplJnor6/vvIEnIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3IgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMocmVzdWx0Lmxhbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmooeyBzdGF0dXM6IDEsIG1lc3NhZ2U6ICfnv7vor5HmlofmnKzor63oqIDmnKrnn6XvvIEnIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldF9sYW5nID0gbGFuZ19kZXRlY3QgPT09ICd6aCcgPyAnZW4nIDogJ3poJzsKCiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0aW9uX2Zvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25fZm9ybURhdGEuYXBwZW5kKCdmcm9tJywgbGFuZ19kZXRlY3QpOwogICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uX2Zvcm1EYXRhLmFwcGVuZCgndG8nLCB0YXJnZXRfbGFuZyk7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25fZm9ybURhdGEuYXBwZW5kKCdxdWVyeScsIHdvcmQpOwogICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uX2Zvcm1EYXRhLmFwcGVuZCgnc291cmNlJywgJ3R4dCcpOwogICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbl9yZXN1bHQgPSB5aWVsZCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocnMsIHJqKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlcjogJ2h0dHA6Ly9mYW55aS5iYWlkdS5jb20nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2ZhbnlpLmJhaWR1LmNvbS90cmFuc2FwaScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0cmFuc2xhdGlvbl9mb3JtRGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnRpbWVvdXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaih7IHN0YXR1czogMSwgbWVzc2FnZTogJ+e9kee7nOi2heaXtu+8gScgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJqKHsgc3RhdHVzOiAxLCBtZXNzYWdlOiAn572R57uc6ZSZ6K+v77yBJyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJqKHsgc3RhdHVzOiAxLCBtZXNzYWdlOiAn572R57uc6ZSZ6K+v77yBJyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnR5cGUgPT09IDIgJiYgcmVzdWx0LnN0YXR1cyA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBycyhyZXN1bHQuZGF0YVswXS5kc3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJqKHsgc3RhdHVzOiAxLCBtZXNzYWdlOiAn57+76K+R5Ye66ZSZ77yBJyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIF90aGlzLmljaWJhUmVzdWx0VGV4dEJveC5pbm5lckhUTUwgPSB0cmFuc2xhdGlvbl9yZXN1bHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gZS5tZXNzYWdlOwogICAgICAgICAgICAgICAgX3RoaXMuaWNpYmFSZXN1bHRUZXh0Qm94LmlubmVySFRNTCA9IG1lc3NhZ2U7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGdldF90cmFuc2xhdGlvbihfeCkgewogICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICB9KSgpOwogICAgZ2V0X3RyYW5zbGF0aW9uKHdvcmQpOwp9OwoKLyogLS0tLS0tLS0tLS0tLS0tLWZ1bmN0aW9uIGluZm8tLS0tLS0tLS0tLS0tLS0tLQogKiBuYW1lOiBjb25mbGljdHNSZXNvbHZlCiAqIHBhcmFtZXRlcnM6IGVtcHR5CiAqIHJldHVybjogdm9pZAogKiDkuI3lkIznvZHnq5nnmoTlhrLnqoHop6PlhrMKICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwpJY2liYS5wcm90b3R5cGUuY29uZmxpY3RzUmVzb2x2ZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdodHRwOi8vdGllYmEuYmFpZHUuY29tL3Bob3RvL3A/a3c9JykgPT09IDEpIHsKICAgICAgICBHTV9hZGRTdHlsZSgnLmFmX2NvbnRhaW5lcntwb3NpdGlvbjpyZWxhdGl2ZTt9Jyk7CiAgICB9Cn07CgovKiAtLS0tLS0tLS0tLS0tLS0tZnVuY3Rpb24gaW5mby0tLS0tLS0tLS0tLS0tLS0tCiAqIG5hbWU6IG1vdXNlQ2xpY2sKICogcGFyYW1ldGVyczogZW1wdHkKICogcmV0dXJuOiBtb3VzZWRvd24g5LqL5Lu25aSE55CG5Ye95pWwCiAqCiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KSWNpYmEucHJvdG90eXBlLm1vdXNlQ2xpY2sgPSBmdW5jdGlvbiAoZSwgX3RoaXMpIHsKICAgIC8vIGNvbnNvbGUubG9nKCdwYWdlWDonICsgZS5wYWdlWCArICcscGFnZVk6JyArIGUucGFnZVkgKyAnLGNsaWVudFg6JyArIGUuY2xpZW50WCArICcsY2xpZW50WTonICsgZS5jbGllbnRZKQogICAgLy8gaWdub3JlIHdoZW4gY2xpY2sgb24gaWNpYmFDaXJjbGVQb2ludGVyCgogICAgaWYgKGUudGFyZ2V0LmlkID09PSAnaWNpYmFDaXJjbGVQb2ludGVyJykgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoZS5idXR0b24gIT0gMCkgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBpZ25vcmUgd2hlbiBjbGljayBpbnNpZGVvZiBpY2liYVJlc3VsdENvbnRhaW5lcgogICAgaWYgKF90aGlzLmlzSW5zaWRlT2YoZSwgX3RoaXMuaWNpYmFSZXN1bHRDb250YWluZXIpKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIEN0cmzplK7op6blj5EKICAgIGlmIChfdGhpcy5jdHJsS2V5X2FjdGl2ZWQpIHsKICAgICAgICBpZiAoIShlLmN0cmxLZXkgPT09IHRydWUgJiYgZS5zaGlmdEtleSA9PT0gZmFsc2UgJiYgZS5hbHRLZXkgPT09IGZhbHNlKSkgewogICAgICAgICAgICBfdGhpcy5yZW1vdmVDaXJjbGVQb2ludGVyKCk7CiAgICAgICAgICAgIF90aGlzLnJlbW92ZUNvbnRhaW5lcigpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgIC8vIHJlbW92ZSBhbGwgdGhpbmdzCiAgICBpZiAoX3RoaXMuaWNpYmFSZXN1bHRDb250YWluZXIpIHsKICAgICAgICBfdGhpcy5yZW1vdmVDb250YWluZXIoKTsKICAgIH0KICAgIGlmIChfdGhpcy5pY2liYUNpcmNsZVBvaW50ZXIpIHsKICAgICAgICBfdGhpcy5yZW1vdmVDaXJjbGVQb2ludGVyKCk7CiAgICB9CgogICAgLy8g5pi+56S6aWNpYmFfaWNvbgogICAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpLmxlbmd0aCA+PSAxNTApIHsKICAgICAgICByZXR1cm47IC8vIGlnbm9yZSB3aGVuIHNlbGVjdGlvbiBpcyB0b28gbG9pbmcKICAgIH0KCiAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCkubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgX3RoaXMuc2hvd0ljaWJhQ2lyY2xlUG9pbnRlcihlKTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgLy8g5Y676ZmkaWNpYmFfaWNvbgogICAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIF90aGlzLnJlbW92ZUNpcmNsZVBvaW50ZXIoKTsKICAgIH0KCiAgICByZXR1cm47Cn07CgovKiAtLS0tLS0tLS0tLS0tLS0tZnVuY3Rpb24gaW5mby0tLS0tLS0tLS0tLS0tLS0tCiAqIG5hbWU6IGtleURvd24KICogcGFyYW1ldGVyczogZW1wdHkKICogcmV0dXJuOiBrZXlkb3duIOS6i+S7tuWkhOeQhuWHveaVsAogKgogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCkljaWJhLnByb3RvdHlwZS5rZXlEb3duID0gZnVuY3Rpb24gKGUsIF90aGlzKSB7CiAgICBpZiAoZS5rZXkgPT09ICdDb250cm9sJyAmJiBlLmtleUNvZGUgPT09IDE3KSB7CiAgICAgICAgX3RoaXMucmVtb3ZlQ2lyY2xlUG9pbnRlcigpOwogICAgfQp9OwoKLyogLS0tLS0tLS0tLS0tLS0tLWZ1bmN0aW9uIGluZm8tLS0tLS0tLS0tLS0tLS0tLQogKiBuYW1lOiBzZWFyY2hGcm9tSW5wdXRCb3gKICogcGFyYW1ldGVyczogZW1wdHkKICogcmV0dXJuOiB2b2lkCiAqIOafpeivjeahhuWPluivjeS6i+S7tgogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCkljaWJhLnByb3RvdHlwZS5zZWFyY2hGcm9tSW5wdXRCb3ggPSBmdW5jdGlvbiAoZSwgX3RoaXMpIHsKICAgIGlmIChlLnRhcmdldCA9PT0gX3RoaXMuaWNpYmFTZWFyY2hJbnB1dCkgewogICAgICAgIGlmIChlLmtleUNvZGUgIT0gMTMpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KICAgIHZhciBrZXl3b3JkID0gX3RoaXMuaWNpYmFTZWFyY2hJbnB1dC52YWx1ZTsKICAgIF90aGlzLmNvbnRhaW5lckxvYWREYXRhKGtleXdvcmQpOwp9OwoKLyogLS0tLS0tLS0tLS0tLS0tLWZ1bmN0aW9uIGluZm8tLS0tLS0tLS0tLS0tLS0tLQogKiBuYW1lOiBwbGF5U291bmQKICogcGFyYW1ldGVyczogZW1wdHkKICogcmV0dXJuOiB2b2lkCiAqIOWPkeWjsAogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCkljaWJhLnByb3RvdHlwZS5wbGF5U291bmQgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIGF1ZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTsKICAgIHZhciBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTsKICAgIHNvdXJjZS50eXBlID0gJ2F1ZGlvL21wZWcnOwogICAgc291cmNlLnNyYyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnbXAzJyk7CiAgICBzb3VyY2UuYXV0b3BsYXkgPSAnYXV0b3BsYXknOwogICAgc291cmNlLmNvbnRyb2xzID0gJ2NvbnRyb2xzJzsKICAgIGF1ZGlvLmFwcGVuZENoaWxkKHNvdXJjZSk7CiAgICBhdWRpby5wbGF5KCk7Cn07Cgp7CiAgICBuZXcgSWNpYmEoKTsKfQo="},{"name":"soTab - Search Engine Switcher","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["*.baidu.com/link?*"],"orig_includes":["*.baidu.com/*","*.so.com/*","*.bing.com/*","*.zhihu.com/search?*","*.sogou.com/*","/^https?://[a-z]+\\.google\\.[a-z,\\.]+/.+$/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document_end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512479},"enabled":true,"position":9,"file_url":"https://greasyfork.org/scripts/14856-sotab-search-engine-switcher/code/soTab%20-%20Search%20Engine%20Switcher.user.js","uuid":"c3a8e86f-f677-4de6-89e8-847a1c879ec7","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICAgc29UYWIgLSBTZWFyY2ggRW5naW5lIFN3aXRjaGVyCi8vIEBuYW1lOnpoLUNOICAgICAgICAgIOaQnOe0ouW8leaTjuS4gOmUruWIh+aNoiBzb1RhYgovLyBAbmFtZTp6aC1UVyAgICAgICAgICDmkJzntKLlvJXmk47lo7npjbXliIfmj5sgc29UYWIKLy8gQG5hbWVzcGFjZSAgICAgICAgICAgaHR0cDovL2h6eS5wdwovLyBAZGVzY3JpcHRpb24gICAgICAgICBBZGQgbGlua3MgdG8gZWFjaCBvdGhlciBpbiBzZWFyY2ggZW5naW5lcy4gSW5jbHVkaW5nIG11bHRpcGxlIHNlYXJjaCBtb2Rlcy4KLy8gQGRlc2NyaXB0aW9uOnpoLUNOICAg5Zyo5bi455So55qE5pCc57Si5byV5pOO6aG16Z2i5Lit5re75Yqg5LqS55u45YiH5o2i55qE5oyJ6ZKu77yM5YyF5ous5Zu+54mH44CB6KeG6aKR44CB55+l6YGT44CB5a2m5pyv5pCc57Si44CCCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyAgIOWcqOW4uOeUqOeahOaQnOe0ouW8leaTjumggemdouS4rea3u+WKoOS6kuebuOWIh+aPm+eahOaMiemIle+8jOWMheaLrOWclueJh+OAgeimlumgu+OAgeefpemBk+OAgeWtuOihk+aQnOe0ouOAggovLyBAYXV0aG9yICAgICAgICAgICAgICBNb3NoZWwKLy8gQGhvbWVwYWdlVVJMICAgICAgICAgaHR0cDovL2h6eS5wdy9wLzE4NDkKLy8gQGxpY2Vuc2UgICAgICAgICAgICAgR1BMLTMuMAovLyBAaWNvbiAgICAgICAgICAgICAgICBodHRwOi8vcS5xbG9nby5jbi9xcWFwcC8xMDAyMjk0NzUvRjEyNjBBNkNFQ0E1MjFGNkJFNTE3QTA4QzQyOTREOEEvMTAwCi8vIEBncmFudCAgICAgICAgICAgICAgIG5vbmUKLy8gQHJ1bi1hdCAgICAgICAgICAgICAgZG9jdW1lbnRfZW5kCgovLyBAaW5jbHVkZSAgICAgICAgICAgICAqLmJhaWR1LmNvbS8qCi8vIEBleGNsdWRlICAgICAgICAgICAgICouYmFpZHUuY29tL2xpbms/KgovLyBAaW5jbHVkZSAgICAgICAgICAgICAqLnNvLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAgICouYmluZy5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgICAgICAqLnpoaWh1LmNvbS9zZWFyY2g/KgogICAgLy8gaW5jbHVkZSAgICAgICAgICAqLnNva3UuY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICAgKi5zb2dvdS5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgICAgICAvXmh0dHBzPzovL1thLXpdK1wuZ29vZ2xlXC5bYS16LFwuXSsvLiskLwoKLy8gQGRhdGUgICAgICAgICAgICAgICAgMTAvMzAvMjAxNQovLyBAbW9kaWZpZWQgICAgICAgICAgICAwOC8xNy8yMDE2Ci8vIEB2ZXJzaW9uICAgICAgICAgICAgIDEuMy40LjEyCgovLyBAc3VwcG9ydFVSTCAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vaDJ5L3NvdGFiCi8vID09L1VzZXJTY3JpcHQ9PQoKCnZhciBocmVmMCA9ICIiOwohIGZ1bmN0aW9uIGFqYXhfZml4ZXIoKSB7CiAgICB2YXIgaHJlZiA9IGxvY2F0aW9uLmhyZWY7CiAgICBpZiAoaHJlZjAgIT0gaHJlZikgewogICAgICAgIHZhciBvbGRET00gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29UYWInKTsKICAgICAgICBpZiAob2xkRE9NKSB7CiAgICAgICAgICAgIG9sZERPTS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9sZERPTSk7CiAgICAgICAgfQogICAgICAgIHNvVGFiX2luaXQoKTsKICAgICAgICBocmVmMCA9IGhyZWY7CiAgICB9CiAgICBzZXRUaW1lb3V0KGFqYXhfZml4ZXIsIDIyMjIpOwp9KCk7CgoKZnVuY3Rpb24gc29UYWJfaW5pdCgpIHsKICAgIC8vY29uc29sZS5sb2coInNvVGFi5byA5aeL5Yqg6L29Iik7CgogICAgaWYgKHRvcCAhPSB3aW5kb3cpIHsKICAgICAgICBjb25zb2xlLmxvZygic29UYWIhIG5vdCB0b3Agd2luZG93Iik7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8v5Yik5pat5pCc57Si5byV5pOO77yM5bCG5LuF5L2/55SoaG9zdG5hbWXpgILphY0KICAgIHZhciBzaXRlID0gWyJiYWlkdSIsICJiaW5nIiwgInNvLmNvbSIsICIiLCAiemhpaHUiLCAiZ29vZ2xlIiwgIiIsICJzb2t1IiwgInNvZ291Il0sCiAgICAgICAgc2l0ZU5hbWUgPSBbIueZvuW6piIsICLlv4XlupQiLCAi5aW95pCcIiwgIkFMTFNPIiwgIuefpeS5jiIsICLosLfmrYwiLCAi5riF5r6E5ryr6K+tIiwgIuaQnOW6kyIsICLmkJzni5ciXSwKICAgICAgICBzaXRlSUQgPSAtMTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l0ZS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChzaXRlW2ldICYmIGxvY2F0aW9uLmhvc3RuYW1lLmluZGV4T2Yoc2l0ZVtpXSkgPj0gMCkgewogICAgICAgICAgICBzaXRlSUQgPSBpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICB9CiAgICBpZiAoc2l0ZUlEID09IC0xKSB7CiAgICAgICAgY29uc29sZS5sb2coInNvVGFiIGNhbid0IG1hdGNoIHNpdGUuIik7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8v5Yik5pat5pCc57Si57G75Z6L77yM5L2/55SoaHJlZumAgumFjQogICAgdmFyIGtpbmQgPSBbXTsKICAgIHN3aXRjaCAoc2l0ZUlEKSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBraW5kID0gWyJ3d3cuYmFpZHUiLCAiaW1hZ2UuYmFpZHUiLCAiemhpZGFvLmJhaWR1LmNvbS9zZWFyY2giLCAidi5iYWlkdSIsICJ4dWVzaHUuYmFpZHUuY29tL3MiXTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAxOiAvL2JpbmcKICAgICAgICAgICAga2luZCA9IFsiLmNvbS9zZWFyY2giLCAiLmNvbS9pbWFnZXMiLCAiLmNvbS9rbm93cy9zZWFyY2giLCAiLmNvbS92aWRlb3MiLCAiL2FjYWRlbWljL3NlYXJjaCJdOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGtpbmQgPSBbInd3dy5zbyIsICJpbWFnZS5zbyIsICJ3ZW5kYS5zby5jb20vc2VhcmNoIiwgInZpZGVvLnNvIl07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNDogLy96aGlodQogICAgICAgICAgICBraW5kID0gWyIiLCAiIiwgIi5jb20vc2VhcmNoIl07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNTogLy9nb29nbGUKICAgICAgICAgICAga2luZCA9IFsiIiwgInRibT1pc2NoIiwgIiIsICJ0Ym09dmlkIiwgInNjaG9sYXIuZ29vZ2xlIl07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgLy9raW5kWzNdID0gInNva3UiOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDg6IC8vc29nb3UKICAgICAgICAgICAga2luZCA9IFsgWyIvd2ViPyIsICIvc29nb3U/IiwgIndlaXhpbi5zb2dvdSIsICJlbmdsaXNoLnNvZ291Il0sCiAgICAgICAgICAgICAgICAicGljLnNvZ291IiwKICAgICAgICAgICAgICAgIFsiaW50ZXJhdGlvbj0xOTY2MzYiLCAibWluZ3lpLnNvZ291IiwgIndlbndlbi5zb2dvdSIsICIuY29tL3poaWh1Il0sCiAgICAgICAgICAgICAgICAidi5zb2dvdSIsCiAgICAgICAgICAgICAgICAiLmNvbS94dWVzaHUiCiAgICAgICAgICAgIF07CiAgICAgICAgICAgIGJyZWFrOwogICAgfQogICAgLy8wOm5vcm1hbCAgMTpwaWMgIDI6emhpZGFvICAzOnZpZGVvICA0Onh1ZXNodQogICAgdmFyIGtpbmRJRCA9IC0xOwogICAgZm9yIChpID0gMDsgaSA8IGtpbmQubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIWtpbmRbaV0pCiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoa2luZFtpXSkpIHsgLy/mlbDnu4TlvaLlvI8KICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGtpbmRbaV0ubGVuZ3RoOyBqKysgKQogICAgICAgICAgICAgICAgaWYobG9jYXRpb24uaHJlZi5pbmRleE9mKGtpbmRbaV1bal0pID49IDApIHsKICAgICAgICAgICAgICAgICAgICBraW5kSUQgPSBpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBpZihraW5kSUQhPS0xKQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZihraW5kW2ldKSA+PSAwKSB7CiAgICAgICAgICAgIGtpbmRJRCA9IGk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KICAgIC8v6LC35q2M54m55q6K5aSE55CGCiAgICBpZiAoc2l0ZUlEID09IDUgJiYga2luZElEID09IC0xKSB7CiAgICAgICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigncT0nKSA+PSAwKQogICAgICAgICAgICBraW5kSUQgPSAwOwogICAgfQogICAgaWYgKGtpbmRJRCA9PSAtMSkgewogICAgICAgIGNvbnNvbGUubG9nKCJzb1RhYiEgbm8ga2luZCBmb3VuZCIpOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAvL2NvbnNvbGUubG9nKCJzb1RhYiBsb2FkZWQ6ICIgKyBzaXRlSUQgKyAiLiIgKyBraW5kSUQpOwoKICAgIC8v5Yid5aeL5YyW5pCc57Si6Lev5b6ECiAgICAvLyLnmb7luqYiLCAi5b+F5bqUIiwgIuWlveaQnCIsICJBTExTTyIsICLnn6XkuY4iLCAi6LC35q2MIiwgIua4hea+hOa8q+ivrSIsICLmkJzlupMiLCAi5pCc54uXIgogICAgdmFyIGxpbmsgPSBbXTsgLy9saW5rW3NpdGVJRF0KICAgIGlmIChraW5kSUQgPT0gMCkgeyAvL25vcm1hbAogICAgICAgIGxpbmsgPSBbImh0dHBzOi8vd3d3LmJhaWR1LmNvbS9zP3dkPSIsCiAgICAgICAgICAgICJodHRwczovL2NuLmJpbmcuY29tL3NlYXJjaD9xPSIsCiAgICAgICAgICAgICJodHRwczovL3d3dy5zby5jb20vcz9xPSIsCiAgICAgICAgICAgICJodHRwOi8vaDJ5LmdpdGh1Yi5pby9hbGxzby8jIiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICJodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPSIsCiAgICAgICAgICAgICIiLCAiIiwKICAgICAgICAgICAgImh0dHBzOi8vd3d3LnNvZ291LmNvbS93ZWI/cXVlcnk9IgogICAgICAgIF07CiAgICB9IGVsc2UgaWYgKGtpbmRJRCA9PSAxKSB7IC8vcGljCiAgICAgICAgbGluayA9IFsiaHR0cHM6Ly9pbWFnZS5iYWlkdS5jb20vc2VhcmNoL2luZGV4P3RuPWJhaWR1aW1hZ2Umd29yZD0iLAogICAgICAgICAgICAiaHR0cHM6Ly9jbi5iaW5nLmNvbS9pbWFnZXMvc2VhcmNoP3E9IiwKICAgICAgICAgICAgImh0dHBzOi8vaW1hZ2Uuc28uY29tL2k/cT0iLAogICAgICAgICAgICAiIiwgIiIsCiAgICAgICAgICAgICJodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD90Ym09aXNjaCZxPSIKICAgICAgICBdOwogICAgfSBlbHNlIGlmIChraW5kSUQgPT0gMikgeyAvL3poaWRhbwogICAgICAgIGxpbmsgPSBbImh0dHBzOi8vemhpZGFvLmJhaWR1LmNvbS9zZWFyY2g/d29yZD0iLAogICAgICAgICAgICAiaHR0cHM6Ly9jbi5iaW5nLmNvbS9rbm93cy9zZWFyY2g/cT0iLAogICAgICAgICAgICAiIiwgIiIsCiAgICAgICAgICAgICJodHRwczovL3d3dy56aGlodS5jb20vc2VhcmNoP3E9IiwKICAgICAgICAgICAgIiIsICIiLCAiIiwKICAgICAgICAgICAgImh0dHA6Ly93d3cuc29nb3UuY29tL3NvZ291P2ludGVyYXRpb249MTk2NjM2JnF1ZXJ5PSIKICAgICAgICBdOwogICAgfSBlbHNlIGlmIChraW5kSUQgPT0gMykgeyAvL3ZpZGVvCiAgICAgICAgbGluayA9IFsiaHR0cHM6Ly92LmJhaWR1LmNvbS92P2llPXV0Zi04JndvcmQ9IiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICJodHRwczovL3ZpZGVvLnNvLmNvbS92P3E9IiwKICAgICAgICAgICAgIiIsICIiLAogICAgICAgICAgICAiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/dGJtPXZpZCZxPSIsCiAgICAgICAgICAgICJodHRwczovL2h6eS5wdy9kbS8/cz0iLAogICAgICAgICAgICAiaHR0cHM6Ly93d3cuc29rdS5jb20vdj9rZXl3b3JkPSIKICAgICAgICBdOwogICAgfSBlbHNlIGlmIChraW5kSUQgPT0gNCkgeyAvL3h1ZXNodQogICAgICAgIGxpbmsgPSBbImh0dHBzOi8veHVlc2h1LmJhaWR1LmNvbS9zP3dkPSIsCiAgICAgICAgICAgICJodHRwczovL2NuLmJpbmcuY29tL2FjYWRlbWljL3NlYXJjaD9xPSIsCiAgICAgICAgICAgICIiLCAiIiwgIiIsCiAgICAgICAgICAgICJodHRwczovL3NjaG9sYXIuZ29vZ2xlLmNvbS9zY2hvbGFyP3E9IgogICAgICAgIF07CiAgICB9CgogICAgLy/ojrflj5bmkJzntKLor40oZ2V06YCa55SoKQogICAgdmFyIGtleTsKICAgIGlmIChzaXRlSUQgPT0gMCkKICAgICAgICBrZXkgPSAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoIndkPSIpID49IDApID8gIndkIiA6ICJ3b3JkIjsKICAgIC8qZWxzZSBpZiAoc2l0ZUlEID09IDcpCiAgICAgICAga2V5ID0gImtleXdvcmQiOyovCiAgICBlbHNlIGlmIChzaXRlSUQgPT0gOCkKICAgICAgICBrZXkgPSAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoInF1ZXJ5PSIpID49IDApID8gInF1ZXJ5IiA6ICd3JzsKICAgIGVsc2UKICAgICAgICBrZXkgPSAicSI7CiAgICB2YXIgdG1wID0gbG9jYXRpb24uaHJlZi5zcGxpdChrZXkgKyAiPSIsIDIpOwogICAgaWYgKHRtcC5sZW5ndGggPD0gMSkgewogICAgICAgIGNvbnNvbGUubG9nKCJzb1RhYiEgbm8ga2V5d29yZCBmb3VuZCIpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciB0bXAyID0gdG1wWzFdOwogICAgdG1wID0gdG1wMi5zcGxpdCgiJiIsIDIpOwogICAga2V5ID0gdG1wWzBdOwoKICAgIC8vY29uc29sZS5sb2coa2V5KTsKCiAgICAvL+WKoOi9vWNzcwogICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyksCiAgICAgICAgZG9tX2JvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdOwogICAgZG9tLmlubmVySFRNTCA9ICcuc29UYWJ7cG9zaXRpb246Zml4ZWQ7YmFja2dyb3VuZC1jb2xvcjojMDAwO29wYWNpdHk6LjM7Ym9yZGVyLXJhZGl1czo0MHB4O2NvbG9yOiNmZmY7cGFkZGluZzoxNXB4IDIwcHg7Ym90dG9tOjEwMHB4O2hlaWdodDo0MHB4O2xlZnQ6LTMyMHB4O3dpZHRoOjMwMHB4O3otaW5kZXg6OTk5OTk5OTt0cmFuc2l0aW9uOmFsbCA0MDBtc30uc29UYWI6aG92ZXJ7bGVmdDo1cHg7b3BhY2l0eToxO2JvcmRlci1yYWRpdXM6MTBweDtib3gtc2hhZG93OjVweCAtNXB4IDEwcHggIzc3N30uc29UYWIgcHttYXJnaW46MH1wLnNvVGFiX3RpdGxle2ZvbnQtd2VpZ2h0OmJvbGQ7bWFyZ2luLWJvdHRvbTozcHh9LnNvVGFiIGF7Y29sb3I6IzBjZjttYXJnaW4tcmlnaHQ6MXJlbX0nOwogICAgZG9tX2JvZHkuYXBwZW5kQ2hpbGQoZG9tKTsKCiAgICAvL+eUn+aIkOWIh+aNouahhgogICAgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBkb20uaWQgPSAic29UYWIiOwogICAgdmFyIHN0ciA9ICI8cCBjbGFzcz0nc29UYWJfdGl0bGUnPnNvVGFiIOS4gOmUruWIh+aNouW8leaTju+8mjwvcD48cD4iOwogICAgZm9yIChpID0gMDsgaSA8IGxpbmsubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoaSAhPSBzaXRlSUQgJiYgbGlua1tpXSkgewogICAgICAgICAgICBzdHIgKz0gIjxhIGhyZWY9JyIgKyBsaW5rW2ldICsga2V5ICsgIicgdGFyZ2V0PSdfYmxhbmsnPiIgKyBzaXRlTmFtZVtpXSArICI8L2E+IjsKICAgICAgICB9CiAgICB9CiAgICBkb20uaW5uZXJIVE1MID0gc3RyICsgJzwvcD4nOwogICAgZG9tLmNsYXNzTmFtZSA9ICJzb1RhYiBzb1RhYl9zaXRlIiArIHNpdGVJRCArICIgc29UYWJfa2luZCIgKyBraW5kSUQ7CiAgICBkb21fYm9keS5hcHBlbmRDaGlsZChkb20pOwoKICAgIC8vY29uc29sZS5sb2coInNvVGFiIGFsbCBydW4hIik7Cgp9Cg=="},{"name":"Tiny Customize","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/^https?:\\/\\/(.+\\.)?github\\./","http://bbs.3dmgame.com/*","http://bbs.kafan.cn/*","http://forum.gamer.com.tw/*","http://poedb.tw/dps*","http://tieba.baidu.com/*","https://forum.gamer.com.tw/*","https://login.taobao.com/*","https://www.chiphell.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512486},"enabled":false,"position":10,"file_url":"https://greasyfork.org/scripts/19823-tiny-customize/code/Tiny%20Customize.user.js","uuid":"54e9e427-8090-42bc-bfb6-a85b93fdf845","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIFRpbnkgQ3VzdG9taXplCi8vIEBkZXNjcmlwdGlvbiDkuLrluLjnlKjnvZHnq5nmt7vliqDlip/og73lrprliLbjgILkvovlpoLvvJozRE1HYW1l44CB6LS05ZCn44CB5reY5a6d44CBR2l0SHViLi4uCi8vIEBuYW1lc3BhY2UgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvMTk4MjMtdGlueS1jdXN0b21pemUKLy8gQGhvbWVwYWdlVVJMIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8xOTgyMy10aW55LWN1c3RvbWl6ZQovLyBAYXV0aG9yICAgICAgbm9ub3JvYXpvcm8KLy8gQGluY2x1ZGUgICAgIC9eaHR0cHM/OlwvXC8oLitcLik/Z2l0aHViXC4vCi8vIEBpbmNsdWRlICAgICBodHRwOi8vYmJzLjNkbWdhbWUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9iYnMua2FmYW4uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL2ZvcnVtLmdhbWVyLmNvbS50dy8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vcG9lZGIudHcvZHBzKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3RpZWJhLmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwczovL2ZvcnVtLmdhbWVyLmNvbS50dy8qCi8vIEBpbmNsdWRlICAgICBodHRwczovL2xvZ2luLnRhb2Jhby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly93d3cuY2hpcGhlbGwuY29tLyoKLy8gQHZlcnNpb24gICAgIDEuMS4xMgovLyBAZ3JhbnQgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCmNvbnN0IGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDsKY29uc3QgaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwpjb25zdCBwYXRobmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTsKCi8qKgogKiDojrflj5bnq4vljbPmiafooYznmoTmk43kvZzjgIIKICovCmNvbnN0IGdldEluc3RhbnRBY3Rpb25zID0gZnVuY3Rpb24gKCkKewogICAgY29uc3QgYWN0aW9ucyA9IFtdOwoKICAgIGlmIChob3N0ID09PSAiZm9ydW0uZ2FtZXIuY29tLnR3IikKICAgIHsKICAgICAgICAvLyDlt7Tlk4jlp4bnibnjgIIKCiAgICAgICAgLy8g5Y+N5Y+N5bm/5ZGK5qOA5rWL44CCCiAgICAgICAgY29uc3QgYWN0aW9uID0gZnVuY3Rpb24gKCkKICAgICAgICB7CiAgICAgICAgICAgIGlmICh3aW5kb3cuQW50aUFkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB3aW5kb3cuQW50aUFkLmNoZWNrID0gZnVuY3Rpb24gKCkgeyB9OwogICAgICAgICAgICAgICAgd2luZG93LkFudGlBZC5ibG9jayA9IGZ1bmN0aW9uICgpIHsgfTsKICAgICAgICAgICAgICAgIHdpbmRvdy5BbnRpQWQudmVyaWZ5TGluayA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9OwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTsKICAgIH0KICAgIGVsc2UgaWYgKAogICAgICAgIGhvc3QgPT09ICJiYnMua2FmYW4uY24iIHx8CiAgICAgICAgaG9zdCA9PT0gImJicy4zZG1nYW1lLmNvbSIgfHwKICAgICAgICBob3N0ID09PSAid3d3LmNoaXBoZWxsLmNvbSIKICAgICkKICAgIHsKICAgICAgICAvLyDljaHppa3jgIEzRE1HYW1l44CBQ2hpcGhlbGwg6K665Z2b77yIRGlzY3V6IOmpseWKqOeahOiuuuWdm++8ieOAggoKICAgICAgICAvLyDlsY/olL3mlrnlkJHplK7nv7vpobXjgIIKICAgICAgICBjb25zdCBhY3Rpb24gPSBmdW5jdGlvbiAoKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHdpbmRvdy5rZXlQYWdlU2Nyb2xsKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB3aW5kb3cua2V5UGFnZVNjcm9sbCA9IGZ1bmN0aW9uICgpIHsgfTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbik7CiAgICB9CiAgICBlbHNlIGlmICgvXmh0dHBzP1w6XC9cL3BvZWRiXC50dyhcLz8uKilcL2Rwcy8udGVzdChocmVmKSkKICAgIHsKICAgICAgICAvLyDmtYHkuqHnvJblubTlj7LjgIIKCiAgICAgICAgLy8g5bGP6JS96buY6K6k6Ieq5Yqo5YWo6YCJ54mp5ZOB5L+h5oGv44CB6Ieq5Yqo5p+l6K+i54mp5ZOB5L+h5oGv44CCCiAgICAgICAgY29uc3QgYWN0aW9uID0gZnVuY3Rpb24gKCkKICAgICAgICB7CiAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjaXRlbWluZm9gKTsKICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChlKSA9PgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICB9LCB0cnVlKTsKCiAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIChlKSA9PgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICJFbnRlciIpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgZm9ybVthY3Rpb25ePSJkcHMiXWApLnN1Ym1pdCgpOwogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgdHJ1ZSk7CgogICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwgKGUpID0+CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgJiYgKGUua2V5ID09PSAidiIgfHwgZS5rZXkgPT09ICJWIikpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgZm9ybVthY3Rpb25ePSJkcHMiXWApLnN1Ym1pdCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIGFjdGlvbnMucHVzaChhY3Rpb24pOwogICAgfQogICAgZWxzZSBpZiAoaG9zdCA9PT0gImxvZ2luLnRhb2Jhby5jb20iKQogICAgewogICAgICAgIC8vIOa3mOWuneOAggoKICAgICAgICAvLyDpu5jorqTmmL7npLrlr4bnoIHnmbvlvZXvvIjogIzpnZ4gUVIg56CB55m75b2V77yJ55WM6Z2i44CCCiAgICAgICAgbGV0IGFjdGlvbiA9IGZ1bmN0aW9uICgpCiAgICAgICAgewogICAgICAgICAgICAvLyDlp4vnu4jmmL7npLrlr4bnoIHnmbvlvZXjgIIKICAgICAgICAgICAgbGV0IGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLnN0YXRpYy1mb3JtLCAuaWNvbmZvbnQuc3RhdGljYCk7CiAgICAgICAgICAgIGZvciAobGV0IGVsZW0gb2YgZWxlbXMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCJzdHlsZSIsICJkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50Iik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOWIoOmZpOaJq+eggeeZu+W9leOAggogICAgICAgICAgICBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5sb2dpbi1zd2l0Y2gsIC5sb2dpbi10aXAsIC5pY29uZm9udC5xdWljaywgLnF1aWNrLWZvcm1gKTsKICAgICAgICAgICAgZm9yIChsZXQgZWxlbSBvZiBlbGVtcykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZWxlbS5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbik7CiAgICB9CiAgICBlbHNlIGlmICgvXiguK1wuKT9naXRodWJcLi8udGVzdChob3N0KSkKICAgIHsKICAgICAgICAvLyBHaXRIdWLjgIIKCiAgICAgICAgLy8g56aB55So5b+r5o236ZSuOiAicyLvvIwidyLjgIIKICAgICAgICBfZGlzYWJsZUtleWRvd24oInMgdyIpOwogICAgfQoKICAgIHJldHVybiBhY3Rpb25zOwp9OwoKLyoqCiAqIOiOt+WPluW7tui/n+aJp+ihjOeahOaTjeS9nOOAggogKi8KY29uc3QgZ2V0TGF6eUFjdGlvbnMgPSBmdW5jdGlvbiAoKQp7CiAgICBjb25zdCBhY3Rpb25zID0gW107CgogICAgaWYgKGhvc3QgPT09ICJmb3J1bS5nYW1lci5jb20udHciKQogICAgewogICAgICAgIC8vIOW3tOWTiOWnhueJueOAggoKICAgICAgICAvLyDoh6rliqjlvIDlkK/lm77niYfjgIIKICAgICAgICBsZXQgYWN0aW9uID0gZnVuY3Rpb24gKCkKICAgICAgICB7CiAgICAgICAgICAgIGlmICh3aW5kb3cuZm9ydW1TaG93QWxsTWVkaWEpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5mb3J1bVNob3dBbGxNZWRpYSgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTsKICAgIH0KICAgIGVsc2UgaWYgKGhvc3QgPT09ICJ0aWViYS5iYWlkdS5jb20iKQogICAgewogICAgICAgIC8vIOi0tOWQp+OAggoKICAgICAgICAvLyDliKDpmaTlub/lkYrotLTjgIIKICAgICAgICBhY3Rpb24gPSBmdW5jdGlvbiAoKQogICAgICAgIHsKICAgICAgICAgICAgbGV0IHNwYW5zOwogICAgICAgICAgICBjb25zdCBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYCNqX3BfcG9zdGxpc3QgPiBkaXZgKTsKICAgICAgICAgICAgZm9yIChsZXQgZWxlbSBvZiBlbGVtcykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgc3BhbnMgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoYC5jb3JlX3JlcGx5X3RhaWwgc3BhbmApOwogICAgICAgICAgICAgICAgZm9yIChsZXQgcyBvZiBzcGFucykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZiAocy5pbm5lclRleHQudHJpbSgpID09PSAi5ZWG5Lia5o6o5bm/IikKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbik7CiAgICB9CgogICAgcmV0dXJuIGFjdGlvbnM7Cn07CgovKioKICog56uL5Y2z5omn6KGM5oyH5a6a55qE5pON5L2c44CCCiAqLwpjb25zdCBleGVjID0gZnVuY3Rpb24gKHBfYWN0aW9ucykKewogICAgaWYgKHBfYWN0aW9ucykKICAgIHsKICAgICAgICBwX2FjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAocF9hY3Rpb24pCiAgICAgICAgewogICAgICAgICAgICBwX2FjdGlvbigpOwogICAgICAgIH0pOwogICAgfQp9OwoKLy8gMS4g56uL5Y2z5omn6KGM44CCCmV4ZWMoZ2V0SW5zdGFudEFjdGlvbnMoKSk7CgovLyAyLiDlu7bov5/miafooYzjgIIKd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbiAoKQp7CiAgICBleGVjKGdldExhenlBY3Rpb25zKCkpOwp9LCB0cnVlKTsKCi8qKgogKiDnpoHmraLplK7nm5jlv6vmjbfplK7vvIjljZXplK7vvInjgIIKICovCmZ1bmN0aW9uIF9kaXNhYmxlS2V5ZG93bihwX2tleXMpCnsKICAgIGlmICh0eXBlb2YgcF9rZXlzID09PSAic3RyaW5nIikKICAgIHsKICAgICAgICBjb25zdCBrZXlzID0gcF9rZXlzLnNwbGl0KC9cVysvKTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgKGUpID0+CiAgICAgICAgewogICAgICAgICAgICBpZiAoa2V5cy5pbmRleE9mKGUua2V5LnRvTG93ZXJDYXNlKCkpICE9PSAtMSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHRydWUpOwogICAgfQp9Cg=="},{"name":"字体样式美化","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512491},"enabled":true,"position":11,"file_url":"https://greasyfork.org/scripts/12877-%E5%AD%97%E4%BD%93%E6%A0%B7%E5%BC%8F%E7%BE%8E%E5%8C%96/code/%E5%AD%97%E4%BD%93%E6%A0%B7%E5%BC%8F%E7%BE%8E%E5%8C%96.user.js","uuid":"f0931b81-19e5-41c4-8b9b-ca3dc6de9f51","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIOWtl+S9k+agt+W8j+e+juWMlgovLyBAbmFtZXNwYWNlICAgaHR0cDovL2RheXN2LmdpdGh1Yi5jb20KLy8gQGRlc2NyaXB0aW9uIOS9v+W+l+Wtl+S9k+abtOWKoOWlveeci15fXgovLyBAdmVyc2lvbiAgICAgMgovLyBAaW5jbHVkZSAgICAgICAqCi8vIEBncmFudCAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKdmFyIGNzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CnZhciB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ2E6aG92ZXJ7Y29sb3I6ICMzOUYgICFpbXBvcnRhbnQ7dGV4dC1zaGFkb3c6LTVweCAzcHggMThweCAjMzlGICFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlLW91dDt9O2F7LXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlLW91dDt9Oyp7dGV4dC1kZWNvcmF0aW9uOm5vbmUhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OjUwMCFpbXBvcnRhbnQ7fSo6bm90KFtjbGFzcyo9Imhlcm1pdCJdKTpub3QoW2NsYXNzKj0iYnRuIl0pOm5vdChbY2xhc3MqPSJidXR0b24iXSk6bm90KFtjbGFzcyo9Imljb24iXSk6bm90KGkpe2ZvbnQtZmFtaWx5OiAiTWljcm9zb2Z0IFlhaGVpIiwgIk1pY3Jvc29mdCBZYWhlaSIgIWltcG9ydGFudDsgfSp7dGV4dC1zaGFkb3c6MC4wMDVlbSAwLjAwNWVtIDAuMDI1ZW0gIzk5OTk5OSAhaW1wb3J0YW50O30nKTsKY3NzLmFwcGVuZENoaWxkKHRleHQpOwpkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpIFswXS5hcHBlbmRDaGlsZChjc3MpOwo="},{"name":"百度云插件+APIKey","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/https?\\:\\/\\/(pan|yun)\\.baidu\\.com.*/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":["cn.bing.com","www.bing.com","googleapis.com"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512497},"enabled":true,"position":12,"file_url":"https://greasyfork.org/scripts/496-%E7%99%BE%E5%BA%A6%E4%BA%91%E6%8F%92%E4%BB%B6-apikey/code/%E7%99%BE%E5%BA%A6%E4%BA%91%E6%8F%92%E4%BB%B6+APIKey.user.js","uuid":"e56afb26-1246-4707-b284-01c3271d4a89","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAg55m+5bqm5LqR5o+S5Lu2K0FQSUtleQovLyBAbmFtZXNwYWNlICAKLy8gQHZlcnNpb24gICAgNS4wLjIuMQovLyBAZGVzY3JpcHRpb24gIOWcqOeZvuW6puS6kee9keebmOeahOmhtemdoua3u+WKoOS4gOS4quaQnOe0ouahhu+8jOiwg+eUqOaQnOe0okFQSeaQnOe0ouaJgOacieWFrOW8gOWIhuS6q+aWh+S7ti8vIFRvIGFkZCBhIHNlYXJjaCBmcmFtZSB0aGF0IGNhbGxzIHNvbWUgYXBpIGZvciBzZWFyY2hpbmcgc29tZSBwdWJsaWMgc2hhcmVkIGZpbGVzIGluIEJhaWR1WXVuIGNsb3VkIG5ldGRpc2suIAovLyBAZGVzY3JpcHRpb24gIEZvciBtb3JlIGltZm9ybWF0aW9uLHBsZWFzZSBlbWFpbCBtZSBhdCB3YW5naHNpbmNoZUBob3RtYWlsLmNvbS4gCi8vIEBpbmNsdWRlICAgICAgIC9odHRwcz9cOlwvXC8ocGFufHl1bilcLmJhaWR1XC5jb20uKi8KLy8gQGdyYW50ICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBydW4tYXQgZG9jdW1lbnQtZW5kCi8vIEBjb3B5cmlnaHQgIDIwMTQsMDQsMjAgX19CeSBXYW5nIEhzaW4tY2hlICAgCi8vID09L1VzZXJTY3JpcHQ9PQoKLyp0aGFua3MgdG8gdGhlIHR1dG9yaWFsIG9mIG12YyAgYXQgCmh0dHBzOi8vYWxleGF0bmV0LmNvbS9hcnRpY2xlcy9tb2RlbC12aWV3LWNvbnRyb2xsZXItbXZjLWphdmFzY3JpcHQqLwoKCi8vRXZlbnQgaXMgYSBzaW1wbGUgY2xhc3MgZm9yIGltcGxlbWVudGluZyB0aGUgT2JzZXJ2ZXIgcGF0dGVybjoKZnVuY3Rpb24gRXZlbnQoc2VuZGVyKSB7CiAgICB0aGlzLl9zZW5kZXIgPSBzZW5kZXI7CiAgICB0aGlzLl9saXN0ZW5lcnMgPSBbXTsKfQoKRXZlbnQucHJvdG90eXBlID0gewogICAgYXR0YWNoIDogZnVuY3Rpb24gKGxpc3RlbmVyKSB7Ly9wdXNoIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpbnRvIF9saXN0ZW5lcnNbXTsKICAgICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7CiAgICB9LAogICAgbm90aWZ5IDogZnVuY3Rpb24gKGFyZ3MpIHsvL3BvcCBhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9ucyBhbmQgZXhlY3V0ZSB0aGUgZnVuY3Rpb25zIHdpdGggc2FtZSBhcmdzPwogICAgICAgIHZhciBpbmRleDsKCiAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5fbGlzdGVuZXJzLmxlbmd0aDsgaW5kZXggKz0gMSkgewogICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnNbaW5kZXhdKHRoaXMuX3NlbmRlciwgYXJncyk7Ly9hdXRvIHBhc3Mgc2VuZGVyIGFuZCBhcmdzIGludG8gY2FsbGJhY2sgZnVuY3Rpb24sIHNvIHRoZSBkZWZhdWx0IGZvcm0gb2YgY2FsbGJhY2sgZnVuY3Rpb24gaXMgZnVuY3Rpb24oc2VuZGVyLGFyZ3Mpe30KICAgICAgICB9CiAgICB9Cn07CgovL0phdmFzY3JpcHQtdGVtcGxhdGUtZW5naW5lLWluLWp1c3QtMjAtbGluZQovL2J5IGJ5IEtyYXNpbWlyIGh0dHA6Ly9rcmFzaW1pcnRzb25ldi5jb20vYmxvZy9hcnRpY2xlL0phdmFzY3JpcHQtdGVtcGxhdGUtZW5naW5lLWluLWp1c3QtMjAtbGluZQp2YXIgVGVtcGxhdGVFbmdpbmUgPSBmdW5jdGlvbihodG1sLCBvcHRpb25zKSB7CiAgICB2YXIgcmUgPSAvPCUoW14lPl0rKT8lPi9nLCByZUV4cCA9IC8oXiggKT8oaWZ8Zm9yfGVsc2V8c3dpdGNofGNhc2V8YnJlYWt8e3x9KSkoLiopPy9nLCBjb2RlID0gJ3ZhciByPVtdO1xuJywgY3Vyc29yID0gMCwgbWF0Y2g7CiAgICB2YXIgYWRkID0gZnVuY3Rpb24obGluZSwganMpIHsKICAgICAgICBqcz8gKGNvZGUgKz0gbGluZS5tYXRjaChyZUV4cCkgPyBsaW5lICsgJ1xuJyA6ICdyLnB1c2goJyArIGxpbmUgKyAnKTtcbicpIDoKICAgICAgICAgICAgKGNvZGUgKz0gbGluZSAhPSAnJyA/ICdyLnB1c2goIicgKyBsaW5lLnJlcGxhY2UoLyIvZywgJ1xcIicpICsgJyIpO1xuJyA6ICcnKTsKICAgICAgICByZXR1cm4gYWRkOwogICAgfTsKICAgIHdoaWxlKG1hdGNoID0gcmUuZXhlYyhodG1sKSkgewogICAgICAgIGFkZChodG1sLnNsaWNlKGN1cnNvciwgbWF0Y2guaW5kZXgpKShtYXRjaFsxXSwgdHJ1ZSk7CiAgICAgICAgY3Vyc29yID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7CiAgICB9CiAgICBhZGQoaHRtbC5zdWJzdHIoY3Vyc29yLCBodG1sLmxlbmd0aCAtIGN1cnNvcikpOwogICAgY29kZSArPSAncmV0dXJuIHIuam9pbigiIik7JzsKICAgIHJldHVybiBuZXcgRnVuY3Rpb24oY29kZS5yZXBsYWNlKC9bXHJcdFxuXS9nLCAnJykpLmFwcGx5KG9wdGlvbnMpOwp9OwoKLyoqCiAqIFRoZSBNb2RlbC4gTW9kZWwgc3RvcmVzIGl0ZW1zIGFuZCBub3RpZmllcwogKiBvYnNlcnZlcnMgYWJvdXQgY2hhbmdlcy4KICovCgogdmFyIEJhc2VNb2RlbD1mdW5jdGlvbihlbmdpbmVMc3QpewogICAgdGhpcy5rZXl3b3JkPSIiOwogICAgdGhpcy5lbmdpbmU9ImRlZmF1bHQiOwogICAgdGhpcy5lbmdpbmVMc3Q9ZW5naW5lTHN0OwogICAgdGhpcy5qc29uT2JqPXsgCiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiB7IAogICAgICAgICAgICAgICAgICAgICAgICBlc3RpbWF0ZWRSZXN1bHRDb3VudDogMCwgCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdENvdW50OiAwIH0sIAogICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdCiAgICAgICAgICAgICAgICB9OwogICAgdGhpcy5jdXJyPTE7CiAgICB0aGlzLnRvdGFsUGFnZT0xOwogICAgdGhpcy51cmxzPXtkZWZhdWx0OidodHRwOi8vJyx9OwogICAgdGhpcy5zdGF0ZT1mYWxzZTsKICAgIHRoaXMuY29udGVudFVwZGF0ZWQ9bmV3IEV2ZW50KHRoaXMpOwogICAgdGhpcy5yZXF1ZXN0RXZlbnQ9bmV3IEV2ZW50KHRoaXMpOwogfTsKIEJhc2VNb2RlbC5wcm90b3R5cGU9ewogICAgc2V0RW5naW5lOmZ1bmN0aW9uKGVuZ2luZSl7CiAgICAJdmFyIHRlbXBPYmogPSB7fTsKICAgICAgICB0aGlzLmVuZ2luZT1lbmdpbmU7CiAgICAgICAgdGVtcE9ialsnZW5naW5lJ10gPSBlbmdpbmU7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd3eHpZdW5wYW5TZWFyY2hlcicsSlNPTi5zdHJpbmdpZnkodGVtcE9iaikpOwogICAgICAgIHRlbXBPYmogPSBudWxsOwogICAgfSwKICAgIHVwZGF0ZUN1cnI6ZnVuY3Rpb24oY3Vycil7CiAgICAgICAgdGhpcy5jdXJyPWN1cnI7CiAgICB9LAogICAgdXBkYXRlS2V5d29yZDpmdW5jdGlvbihrZXl3b3JkKXsKICAgICAgICB0aGlzLmtleXdvcmQ9a2V5d29yZDsKICAgIH0sCiAgICByZXF1ZXN0OmZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy5yZXF1ZXN0RXZlbnQubm90aWZ5KCk7CiAgICAgICAgdmFyIF90aGlzPXRoaXM7CiAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBfdGhpcy5jb21waWxlVXJsW190aGlzLmVuZ2luZV0oX3RoaXMpLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAiLCAvLyBJZiBub3Qgc3BlY2lmaWVkLCBuYXZpZ2F0b3IudXNlckFnZW50IHdpbGwgYmUgdXNlZC4KICAgICAgICAgICAgICAgICAgICAgICAgIkFjY2VwdCI6ICJ0ZXh0L3htbCIgLy8gSWYgbm90IHNwZWNpZmllZCwgYnJvd3NlciBkZWZhdWx0cyB3aWxsIGJlIHVzZWQuCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmpzb25PYmo9X3RoaXMudG9Kc29uW190aGlzLmVuZ2luZV0ocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudG90YWxQYWdlPShwYXJzZUludChfdGhpcy5qc29uT2JqLmN1cnNvci5yZXN1bHRDb3VudCktcGFyc2VJbnQoX3RoaXMuanNvbk9iai5jdXJzb3IucmVzdWx0Q291bnQpJTEwKS8xMCsxOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZT10cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3NlbGY9X3RoaXM7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbnRlbnRVcGRhdGVkLm5vdGlmeShfc2VsZi5zdGF0ZSk7ICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmpzb25PYmo9eyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzdGltYXRlZFJlc3VsdENvdW50OiAwLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Q291bnQ6IDAgfSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsUGFnZT0xOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZT1mYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9zZWxmPV90aGlzOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb250ZW50VXBkYXRlZC5ub3RpZnkoX3NlbGYuc3RhdGUpOyAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICB9LAogICAgZGVzdG9yeTpmdW5jdGlvbigpewogICAgICAgIHRoaXMuanNvbk9iaj17fTsKICAgICAgICB0aGlzLnRvdGFsUGFnZT0wOwogICAgICAgIHRoaXMuc3RhdGU9ZmFsc2U7IAogICAgICAgIHRoaXMuY3Vycj0wOwogICAgICAgIHRoaXMua2V5d29yZD0iIjsKICAgIH0sCiAgICB0b0pzb246ewogICAgICAgIGRlZmF1bHQ6ZnVuY3Rpb24odGV4dCl7CiAgICAgICAgICAgIHZhciBqc29uT2JqID0geyAKICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHsgCiAgICAgICAgICAgICAgICAgICAgICAgIGVzdGltYXRlZFJlc3VsdENvdW50OiAwLCAKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Q291bnQ6IDAgfSwgCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW10KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICByZXR1cm4ganNvbk9iajsKICAgICAgICB9LAogICAgfSwKICAgIGNvbXBpbGVVcmw6ewogICAgICAgIGRlZmF1bHQ6ZnVuY3Rpb24oX3RoaXMpewogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVybCArIF90aGlzLmtleXdvcmQgKyAnK3NpdGUlM0FwYW4uYmFpZHUuY29tJyArICcmZmlyc3Q9JyArIF90aGlzLmN1cnI7CiAgICAgICAgICAgIH0sICAgICAgICAKICAgIH0sCiB9OwoKIHZhciBWaWV3ZXI9ZnVuY3Rpb24obW9kZWwsVUllbGVtZW50cyl7CiAgICB0aGlzLm1vZGVsPW1vZGVsOwogICAgdGhpcy5VST1VSWVsZW1lbnRzOwogICAgdGhpcy5zZWFyY2hDbGljaz1uZXcgRXZlbnQodGhpcyk7CiAgICB0aGlzLmNsb3NlQ2xpY2s9bmV3IEV2ZW50KHRoaXMpOwogICAgdGhpcy5uZXh0Q2xpY2s9bmV3IEV2ZW50KHRoaXMpOwogICAgdGhpcy5wcmVDbGljaz1uZXcgRXZlbnQodGhpcyk7CiAgICB0aGlzLnRvUGFnZUNsaWNrPW5ldyBFdmVudCh0aGlzKTsKICAgIHRoaXMuZW5naW5lT3B0Q2hhbmdlPW5ldyBFdmVudCh0aGlzKTsKICAgIHZhciBib2R5Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTsKICAgIHZhciBfc2VsZj10aGlzOwogICAgdGhpcy5VSS5zZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgLyogQWN0IG9uIHRoZSBldmVudCAqLwogICAgICAgIHZhciBjdXJyPTE7CiAgICAgICAgdmFyIGtleXdvcmQ9X3NlbGYuVUkuaW5wdXRFbGUudmFsdWU7CiAgICAgICAgaWYoa2V5d29yZC5yZXBsYWNlKC9ccyovLCcnKSE9PScnKXsKICAgICAgICAgICAgX3NlbGYuc2VhcmNoQ2xpY2subm90aWZ5KHtjdXJyOmN1cnIsa2V5d29yZDprZXl3b3JkfSk7CiAgICAgICAgfQogICAgfSk7CiAgICB0aGlzLlVJLmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbihldmVudCkgewogICAgICAgIC8qIEFjdCBvbiB0aGUgZXZlbnQgKi8KICAgICAgICBfc2VsZi5jbG9zZUNsaWNrLm5vdGlmeSgpOwogICAgfSk7CiAgICAvLyB0aGlzLlVJLmlucHV0RWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJyxmdW5jdGlvbihldmVudCkgewogICAgLy8gICAgICAgICB2YXIgY2xpY2tFdmVudCA9IG5ldyBNb3VzZUV2ZW50KCJjbGljayIpOyAgICAgICAgICAgIAogICAgLy8gICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT0gMTMpIHsKICAgIC8vICAgICAgICAgICAgIF9zZWxmLlVJLnNlYXJjaEJ0bi5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQpOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICAgIGNsaWNrRXZlbnQgPSBudWxsOwogICAgLy8gICAgIH0pOwogICAgYm9keU5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKF9zZWxmLlVJLmVuZ2luZUJ0bkNsYXNzTmFtZSkgIT09IC0xICkgewogICAgICAgICAgICBfc2VsZi5lbmdpbmVPcHRDaGFuZ2Uubm90aWZ5KGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZW5naW5lJykpOyAgICAgICAgICAgIAogICAgICAgIH0KICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKF9zZWxmLlVJLnRvUGFnZUJ0bkNsYXNzTmFtZSkgIT09IC0xICkgewogICAgICAgICAgICBfc2VsZi50b1BhZ2VDbGljay5ub3RpZnkocGFyc2VJbnQoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wYWdlJyksMTApKTsKICAgICAgICB9CiAgICB9KTsKICAgICAgICAgICAgICAgICAgCiB9OwogVmlld2VyLnByb3RvdHlwZT17CiAgICByZWZsZXNoRW5naW5lTHN0OmZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIHRlbXBsYXRlPSc8JWZvcih2YXIgaSBpbiB0aGlzKXslPicrCiAgICAgICAgICAgICAgICAgICAgJzxsaSBub2RlLXR5cGU9ImNsaWNrLWVsZSIgZGF0YS1lbmdpbmU9IjwldGhpc1tpXSU+IiBjbGFzcz0ibGkgd3h6LW1lbnUtb3B0aW9uIj4nKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J5IDwldGhpc1tpXSU+JysKICAgICAgICAgICAgICAgICAgICAnPC9saT4nKwogICAgICAgICAgICAgICAgICAgICc8JX0lPic7CiAgICAgICAgdmFyIGh0bWw9VGVtcGxhdGVFbmdpbmUodGVtcGxhdGUsdGhpcy5tb2RlbC5lbmdpbmVMc3QpOwogICAgICAgIHRoaXMuVUkuZW5naW5lTHN0LmlubmVySFRNTCA9IGh0bWw7CiAgICB9LAogICAgdXBkYXRlRW5naW5lOmZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy5VSS5tZW51LnRleHRDb250ZW50ID0gdGhpcy5tb2RlbC5lbmdpbmU7CiAgICB9LAogICAgc2hvdzpmdW5jdGlvbigpewogICAgICAgIHRoaXMuVUkubXlEaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgdGhpcy5VSS5iZ05vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgdGhpcy5VSS5teURpdi5zdHlsZS50b3AgPSAnNTAlJzsKICAgICAgICB0aGlzLlVJLm15RGl2LnN0eWxlLm1hcmdpblRvcCA9ICh0aGlzLlVJLm15RGl2LmNsaWVudEhlaWdodCAvIDIgKiAtMSkgKyAncHgnOyAgICAKICAgIH0sCiAgICByZWZsZXNoOmZ1bmN0aW9uKHN1Y2Nlc3MpewogICAgICAgIHZhciB0ZW1wbGF0ZT0iPHAgYWxpZ249J3JpZ2h0Jz4tLS0tIGJ5IDwldGhpcy5lbmdpbmUlPi5jb20gU2VhcmNoIDwvcD48cCB3aGl0ZS1zcGFjZT0nbm9ybWFsJyBjbGFzcz0ndGVtcCcgPmtleXdvcmQgaXMgICAgJzwldGhpcy5rZXl3b3JkJT4nICAgIGZvdW5kICAnPCV0aGlzLmpzb25PYmouY3Vyc29yLnJlc3VsdENvdW50JT4nICBSZXN1bHRzPC9wPjxwPi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPHA+IjsKICAgICAgICAKICAgICAgICB0ZW1wbGF0ZSs9JzwlZm9yKHZhciBpIGluIHRoaXMuanNvbk9iai5yZXN1bHRzKXslPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAnPHA+PHAgY2xhc3M9Im15VGl0bGUiPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGEgaHJlZj0iPCV0aGlzLmpzb25PYmoucmVzdWx0c1tpXS51bmVzY2FwZWRVcmwlPiJ0YXJnZXQ9Il9ibGFuayI+PCV0aGlzLmpzb25PYmoucmVzdWx0c1tpXS50aXRsZU5vRm9ybWF0dGluZyU+PC9hPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAnPC9wPicrCiAgICAgICAgICAgICAgICAgICAgICAgICAnPHAgY2xhc3M9Im15U25pcHBldCI+PCV0aGlzLmpzb25PYmoucmVzdWx0c1tpXS5jb250ZW50Tm9Gb3JtYXR0aW5nJT48L3A+JysKICAgICAgICAgICAgICAgICc8JX0lPic7CiAgICAgICAgdGVtcGxhdGUrPSc8cD48cD4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPHAgY2xhc3M9InRlbXAiIG1hcmdpbi1sZWZ0PSIyMHB4Ij4iIDwldGhpcy5qc29uT2JqLnJlc3VsdHMubGVuZ3RoJT4gIiAgaXRlbXMgaGF2ZSBiZWVuIGxvYWQgPC9wPic7CiAgICAgICAgdmFyIGh0bWw7CiAgICAgICAgaWYoc3VjY2Vzcz09PWZhbHNlKXsKICAgICAgICAgICAgaHRtbD0nPGRpdiBjbGFzcz0ibG9hZGluZy10aXBzIiBhbGlnbj0iY2VudGVyIj7lh7rplJnkuoYuLi4uLi48L2Rpdj4nOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBpZih0aGlzLm1vZGVsLmpzb25PYmoucmVzdWx0cy5sZW5ndGg9PT0wKXsKICAgICAgICAgICAgICAgIGh0bWw9JzxkaXYgY2xhc3M9ImxvYWRpbmctdGlwcyIgYWxpZ249ImNlbnRlciI+5peg5pCc57Si57uT5p6cLi4u5o2i5Liq5YWz6ZSu6K+N6YeN5paw6K+V6K+V77yfPC9kaXY+JzsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBodG1sPVRlbXBsYXRlRW5naW5lKHRlbXBsYXRlLHRoaXMubW9kZWwpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLlVJLm15Q29udGVudC5pbm5lckhUTUwgPSBodG1sOwogICAgfSwKICAgIGNsb3NlOmZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy5VSS5teURpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIHRoaXMuVUkuYmdOb2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgdGhpcy5VSS5pbnB1dEVsZS52YWx1ZSA9ICcnOwogICAgfSwKICAgIGxvYWRpbmc6ZnVuY3Rpb24oKXsKICAgICAgICB0aGlzLlVJLm15Q29udGVudC5pbm5lckhUTUwgPSAnPGltZyAgd2lkdGg9IjYwMHB4IiBzcmM9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEpnSnVBY1FRQVArS0FDRk1kbHg4bTVlcnY4VFAyakJZZjlQYjVFMXdrYWEzeUxYRDBUOWtpSW1ndG11SXBIcVVyZkR6OXYvLy93QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ0gvQzA1RlZGTkRRVkJGTWk0d0F3RUFBQUFoK1FRRk1nQVFBQ3dBQUFBQUpnSnVBUUFGLytBamptUnBubWlxcm16cnZuQXN6M1J0MzNpdTczenYvOENnY0Vnc0dvL0lwSExKYkRxZjBLaDBTcTFhcjlpc2RzdnRlci9nc0hoTUxwdlA2TFI2elc2NzMvQzRmRTZ2MisvNHZIN1A3L3YvZ0lHQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa3BPVWxaYVhtSm1hbTV5ZG5wK2dvYUtqcEtXbXA2aXBxcXVzcmE2dnNMR3lzN1MxdHJlNHVicTd2TDIrdjhEQndzUEV4Y2JIeU1uS3k4ek56cy9RMGRMVDFOWFcxOWpaMnR2YzNkN2Y0T0hpNCtUbDV1Zm82ZXJyN08zdTcvRHg4dlAwOWZiMytQbjYrL3o5L3Y4QUF3b2NTTENnd1lNSUV5cGN5TENodzRjUUkwcWNTTEdpeFlzWU0ycmN5TEdqeDQ4Z1E0b2NTYktreVpNb1UvK3FYTW15cGN1WE1HUEtuRW16cHMyYk9IUHEzTW16cDgrZlFJTUtIVXEwcU5HalNKTXFYY3EwcWRPblVLTktuVXExcXRXcldMTnEzY3ExcTlldllNT0tIVXUyck5temFOT3FYY3UycmR1M2NPUEtuVXUzcnQyN2VQUHEzY3UzcjkrL2dBTUxIa3k0c09IRGlCTXJYc3k0c2VQSGtDTkxua3k1c3VYTG1ETnIzc3k1cytmUG9FT0xIazI2dE9uVHFGT3JYczI2dGV2WHNHUExuazI3dHUzYnVIUHIzczI3dCsvZndJTUxIMDY4dUhFckJnZ1FDS1A4T0JJQkFRU3dHRkFnZ1BVQURBeWtPQkNnQUlvQjE2OGZHR0FDdXZRUjBBTm9SeC9kQkFJRjRSVWtjRTdFL0FydTRhMFhXRzdDd0hVRUo0Q1huM1VIbEdBZmV3RVV5TjcvZVNNME1LQjFBTklYeElIZldaZmRBdzRnVUoxM0ppeHdIWU1rQ0tnY0FRaWt0d0FKRkQ2UVhnRGtpWkNpZ0FLc3A2RjFFazdZWGdyVmdmZ0FBZGExU0VKMStBVklJd2tNRE9uaWpVZnF0K0NQU0lxQWdIWHoxZWhEaWlYd0dFQ1VKSENuWXdMV0dWRGRpU1VJV0lKL1Z5N0pYblhZSGNtZ2xWaU9zSjZVVXpZWnBwRWgwdmxBa1FWNnFJQUpZcGJRbzVscWVoakFjaFQyQ1djUlZOWVpnSkNMa3ZBbm1XMCtZT2dJZjZxSlludlY3VmtvbmZuNWVHZ09pWTR3cWFoMENvaUFjdFUxTUdlampySUlxSXJ0UGNuaXBxdyswT21uTzRRcUFwZGxsc0NkZ2lMZ04rQ3FZMEw1Nm9IcHdiZW1zU0tNV0NtdU9PZ3FRbzVWUGt2bS80TVJpakNxZzdXbVNHRjRJQUpwd3JQUTJnRGRBU09PcUdpTUdGTFhIUW1DK3BxZ29pTW13QzJZbGdJcVlKTXdycGRBZXA0TzRDa0JBcE9Bd0FEWmxndnJnNTZ1R0Y0QmJWYkhRQW15dnJsdmZzRG1xL0VEOE1uSjdZQUZ2R2tsZjVMU0tTMmNEb2ZucWFRZFcvam1BN3dtTElKMStGNU00TXF3Z3BpaWxUbys4RjU4SzQ5TWFyZHlLdnhDY2lSNzBaelJURGZ0OU5OUVJ5MzExRlJYYmZYVldHZXQ5ZFpjZCszMTEyQ0hMWFl6QUpSdDl0bG1xNEQyMm1XcnpUYmFicitkZGdweW54MTMzWGZMbmZmYm1OVTlOd3ArdDAxMzRIdXpYZmphaDhNOXVOK0oyMzFaNEFDNFBiamtnRWMrZWVXVW55QTQ1cHgzYnNMbW1sc2Vldi9maEY4K3V1bWZpMzc2NnF5WEFIcnFxTVB1dWV5dFR3WjU1clRYUHNMcnJxdmVPKzYveDA0Qzc4UDdYanp3eHo5ZSt1ekpNNys3OGMzbkxuMzAweitQdlBYQ1kyL1o3ZG1MUUx6MjFZTWZ2UFBlUXk4KzllT0hYMzcza0hGUC9nUGZyLzgrL09iVGY3Mzg3OGR2Ly96eDYrK1krN3JEWHdEM2w3LzZFVkI5QjB5Zit2VFhQd1ArYjNtaFk5emk4RFpCdlZXUWJ4YzBYQVlSdDBIRmJRK0NxWk5nNVVRWVFRcU8wSVFsdE9BSlZaaENESTd0aFRDTW9ReG5TTU1hMnZDR09NeWhEbmZJd3g3NjhJZEFES0lRaDBqRUlocnhpRWhNb2hLWHlNUW1PdkdKVUl5aUZLZEl4U3BhOFlwWXpLSVd0OGpGTG5yeGkyQU1veGpIU01hV01wcnhqR2hNb3hyWHlNWTJ1dkdOY0l5akhPZEl4enJhOFk1NHpLTWU5OGpIUHZyeGo0QU1wQ0FIU2NoQ0d2S1FpRXlrSWhmSnlFWTY4cEdRaktRa0owbkpTbHJ5a3BqTXBDWTN5Y2xPZXZLVG9BeWxLRWRKeWxLYThwU29US1VxVjhuS1ZycnlsYkNNcFN4blNjdGEydktXdU15bExuZkp5MTc2OHBmQURLWXdoMG5NWWhyem1NaE1waktYeWN4bU92T1phQWdCQUNINUJBVXlBQkFBTE5nQXhnQUpBQWNBQUFVS0lDQ09aR21lYUtxaUlRQWgrUVFGTWdBUUFDenZBTVlBQ1FBSEFBQUZDaUFnam1ScG5taXFvaUVBSWZrRUJUSUFFQUFzQmdIR0FBa0FCd0FBQlFvZ0lJNWthWjVvcXFJaEFDSDVCQVV5QUJBQUxCMEJ4Z0FKQUFjQUFBVUtJQ0NPWkdtZWFLcWlJUUFoK1FRRk1nQVFBQ3cwQWNZQUNRQUhBQUFGQ2lBZ2ptUnBubWlxb2lFQUlma0VCVElBRUFBc1N3SEdBQWtBQndBQUJRb2dJSTVrYVo1b3FxSWhBQ0g1QkFVeUFCQUFMR0lCeGdBSkFBY0FBQVVLSUNDT1pHbWVhS3FpSVFBNyIgLz4nOwogICAgfSwKICAgIHJlZmxlc2hQYWdlTmF2aTpmdW5jdGlvbigpewogICAgICAgIHZhciBwYWdlPXtjdXJyOjEsdG90YWxQYWdlOjEscHJlOnRydWUsbmV4dDp0cnVlLGxzdDpbXX07CiAgICAgICAgcGFnZS5jdXJyPXRoaXMubW9kZWwuY3VycjsKICAgICAgICBwYWdlLnRvdGFsUGFnZT10aGlzLm1vZGVsLnRvdGFsUGFnZT49MTA/MTA6dGhpcy5tb2RlbC50b3RhbFBhZ2U7CiAgICAgICAgcGFnZS5wcmU9cGFnZS5jdXJyPjE/dHJ1ZTpmYWxzZTsKICAgICAgICBwYWdlLm5leHQ9cGFnZS50b3RhbFBhZ2U+cGFnZS5jdXJyP3RydWU6ZmFsc2U7CiAgICAgICAgZm9yKHZhciBpPTE7aTw9cGFnZS50b3RhbFBhZ2U7aSsrKXsKICAgICAgICAgICAgcGFnZS5sc3QucHVzaChpKTsKICAgICAgICB9CiAgICAgICAgdmFyIHRlbXBsYXRlPSAnXAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icGFnZXNlICJpZD0id3h6LXBhZ2VzZSI+XAogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InBhZ2UtY29udGVudCI+XAogICAgICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iIDwlIGlmKHRoaXMucHJlKXsgJT4gcGFnZS1udW1iZXIgPCV9ZWxzZXslPiBnbG9iYWwtZGlzYWJsZWQgPCV9JT4gbW91LWV2dCIgZGF0YS1wYWdlPSI8JXRoaXMuY3Vyci0xJT4iPuS4iuS4gOmhtTwvYT5cCiAgICAgICAgICAgICAgICA8JWZvcih2YXIgaSBpbiB0aGlzLmxzdCl7JT5cCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InBhZ2UtbnVtYmVyIDwlaWYodGhpcy5sc3RbaV09PXRoaXMuY3Vycil7JT4gZ2xvYmFsLWRpc2FibGVkIDwlfSU+IiBkYXRhLXBhZ2U9IjwldGhpcy5sc3RbaV0lPiI+PCV0aGlzLmxzdFtpXSU+PC9zcGFuPlwKICAgICAgICAgICAgICAgIDwlfSU+XAogICAgICAgICAgICAgICAgPC9zcGFuPlwKICAgICAgICAgICAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9IiA8JSBpZih0aGlzLm5leHQpeyAlPiBwYWdlLW51bWJlciA8JX1lbHNleyU+IGdsb2JhbC1kaXNhYmxlZCA8JX0lPiBtb3UtZXZ0IiBkYXRhLXBhZ2U9IjwldGhpcy5jdXJyKzElPiI+5LiL5LiA6aG1PC9hPlwKICAgICAgICAgICAgICAgIDwvZGl2PlwKICAgICAgICAgICAgICAgICc7CiAgICAgICAgdmFyIGh0bWw9VGVtcGxhdGVFbmdpbmUodGVtcGxhdGUscGFnZSk7CiAgICAgICAgdGhpcy5VSS5wYWdlc2UuaW5uZXJIVE1MID0gaHRtbDsKICAgIH0KIH07CgoKIHZhciBDb250cm9sbGVyPWZ1bmN0aW9uKG1vZGVsLHZpZXdlcil7CiAgICB0aGlzLm1vZGVsPW1vZGVsOwogICAgdGhpcy52aWV3ZXI9dmlld2VyOwoKICAgIHZhciBfc2VsZj10aGlzOwoKICAgIHRoaXMudmlld2VyLnNlYXJjaENsaWNrLmF0dGFjaChmdW5jdGlvbihzZW5kZXIsYXJncyl7CiAgICAgICAgX3NlbGYuc2VhcmNoKGFyZ3MuY3VycixhcmdzLmtleXdvcmQpOwogICAgfSk7CiAgICB0aGlzLnZpZXdlci5jbG9zZUNsaWNrLmF0dGFjaChmdW5jdGlvbigpewogICAgICAgIF9zZWxmLmNsb3NlKCk7CiAgICB9KTsKICAgIHRoaXMudmlld2VyLmVuZ2luZU9wdENoYW5nZS5hdHRhY2goZnVuY3Rpb24oc2VuZGVyLGFyZ3MpewogICAgICAgIF9zZWxmLnNldEVuZ2luZShhcmdzKTsKICAgIH0pOwogICAgdGhpcy52aWV3ZXIudG9QYWdlQ2xpY2suYXR0YWNoKGZ1bmN0aW9uKHNlbmRlcixhcmdzKXsKICAgICAgICBfc2VsZi50b1BhZ2UoYXJncyk7CiAgICB9KTsKCiAgICB0aGlzLm1vZGVsLnJlcXVlc3RFdmVudC5hdHRhY2goZnVuY3Rpb24oKXsKICAgICAgICBfc2VsZi5sb2FkaW5nKCk7CiAgICB9KTsgCiAgICB0aGlzLm1vZGVsLmNvbnRlbnRVcGRhdGVkLmF0dGFjaChmdW5jdGlvbihzdGF0ZSl7CiAgICAgICAgX3NlbGYucmVmbGVzaChzdGF0ZSk7CiAgICB9KTsKCiB9OwogQ29udHJvbGxlci5wcm90b3R5cGU9ewogICAgc2VhcmNoOmZ1bmN0aW9uKGN1cnIsYXJncyl7CiAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVDdXJyKGN1cnIpOwogICAgICAgIHRoaXMubW9kZWwudXBkYXRlS2V5d29yZChhcmdzKTsKICAgICAgICB0aGlzLm1vZGVsLnJlcXVlc3QoKTsKICAgICAgICB0aGlzLnZpZXdlci5zaG93KCk7CiAgICB9LAogICAgc2V0RW5naW5lOmZ1bmN0aW9uKGVuZ2luZSl7CiAgICAgICAgdGhpcy5tb2RlbC5zZXRFbmdpbmUoZW5naW5lKTsKICAgICAgICB0aGlzLnZpZXdlci51cGRhdGVFbmdpbmUoKTsKICAgIH0sCiAgICB0b1BhZ2U6ZnVuY3Rpb24odG9QYWdlTnVtKXsKICAgICAgICB0aGlzLm1vZGVsLnVwZGF0ZUN1cnIodG9QYWdlTnVtKTsKICAgICAgICB0aGlzLm1vZGVsLnJlcXVlc3QoKTsKICAgIH0sCiAgICBjbG9zZTpmdW5jdGlvbigpewogICAgICAgIHRoaXMubW9kZWwuZGVzdG9yeSgpOwogICAgICAgIHRoaXMudmlld2VyLmNsb3NlKCk7CiAgICB9LAogICAgbG9hZGluZzpmdW5jdGlvbigpewogICAgICAgIHRoaXMudmlld2VyLmxvYWRpbmcoKTsKICAgIH0sCiAgICByZWZsZXNoOmZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy52aWV3ZXIucmVmbGVzaCgpOwogICAgICAgIHRoaXMudmlld2VyLnJlZmxlc2hQYWdlTmF2aSgpOwogICAgfSwKICAgIHJlZmxlc2hFbmdpbmVMc3Q6ZnVuY3Rpb24oKXsKICAgICAgICB0aGlzLnZpZXdlci5yZWZsZXNoRW5naW5lTHN0KCk7CiAgICB9LAogfTsKCgoKZnVuY3Rpb24gbmV3SW5pdCAoKSB7CiAgICAvL3JlbW92ZSBhZHZzCiAgICAvL2NyZWF0ZSBzZWFyY2ggYmFyCiAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLXVuaW9uJykpewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItdW5pb24nKS5yZW1vdmUoKTsKICAgIH0KICAgIHZhciB0YXJnZXROb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1pbmZvJyk7CiAgICB2YXIgd3h6U2VhcmNoQmFyTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RkJyk7CiAgICB3eHpTZWFyY2hCYXJOb2RlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdoZWFkZXItd3h6YmFyIGhlYWRlci1pbmZvJyk7CiAgICAvL3d4elNlYXJjaEJhck5vZGUuc2V0QXR0cmlidXRlKCdub2RlLXR5cGUnLCdoZWFkZXItYXBwcycpOwogICAgd3h6U2VhcmNoQmFyTm9kZS5pbm5lckhUTUwgPQogICAgICAgICAgICAnPHNwYW4gY2xhc3M9Ind4ei1tZW51IHd4ei1kcm9wZG93biI+XAogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InVzZXItbmFtZSIgaWQ9Ind4ek1lbnVEaXNwbGF5Ij5nb29nbGU8L3NwYW4+XAogICAgICAgICAgICAgICAgPGVtIGNsYXNzPSJpY29uIGljb24tZHJvcGRvd24tYXJyb3ciPjwvZW0+XAogICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJ3eHotbWVudS1jb250ZW50IiBpZD0id3h6X2VuZ2luZUxzdCI+XAogICAgICAgICAgICAgICAgPC91bD5cCiAgICAgICAgICAgIDwvc3Bhbj5cCiAgICAgICAgICAgIDxmb3JtIGNsYXNzPSJzZWFyY2gtZm9ybSIgaWQ9Ind4el9zZWFyY2hGb3JtIj5cCiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9InNlYXJjaC1xdWVyeSIgcGxhY2Vob2xkZXI9IiDmkJzntKLlhazlvIDliIbkuqvmlofku7YiIGlkPSJ3eHpfaW5wdXQiPlwKICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSJHTyIgY2xhc3M9InNlYXJjaC1idXR0b24iIGlkPSJ3eHpfc2VhcmNoQnV0dG9uIj5cCiAgICAgICAgICAgIDwvZm9ybT4nOwogICAgLy9pbnNlcnQgYWZ0ZXIgdGFyZ2V0IG5vZGUKICAgIHRhcmdldE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3h6U2VhcmNoQmFyTm9kZSx0YXJnZXROb2RlLm5leHRTbGliaW5nKTsKICAgIC8vYmFja2dyb3VuZAogICAgdmFyIHd4emJnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgd3h6YmdOb2RlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCd3eHotYmcnKTsKICAgIHd4emJnTm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmFwcGVuZENoaWxkKHd4emJnTm9kZSk7CgogICAgLy9jcmVhdGUgZGlzcGxheSBmcmFtZQogICAgdmFyIHd4ekRpYWxvZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHd4ekRpYWxvZ05vZGUuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2RpYWxvZyBkaWFsb2ctZ3JheScpOwogICAgd3h6RGlhbG9nTm9kZS5zZXRBdHRyaWJ1dGUoJ2lkJywnd3h6X215RGl2Jyk7CiAgICB3eHpEaWFsb2dOb2RlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCd6LWluZGV4Ojk5O3Bvc3Rpb246YWJzb2x1dGU7Jyk7CiAgICB3eHpEaWFsb2dOb2RlLnN0eWxlLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggLyAzICogMiArICdweCc7CiAgICB3eHpEaWFsb2dOb2RlLnN0eWxlLmxlZnQgPSAnNTAlJzsgICAgCiAgICB3eHpEaWFsb2dOb2RlLnN0eWxlLm1hcmdpbkxlZnQgPSAoLTEgKiB3aW5kb3cuaW5uZXJXaWR0aCAvIDMpICsgJ3B4JzsgCiAgICB3eHpEaWFsb2dOb2RlLmlubmVySFRNTCA9IAogICAgICAgICdcCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRpYWxvZy1oZWFkZXIiIGlkPSJ3eHpfbXlEaXZfdGl0bGUiPlwKICAgICAgICAgICAgICAgIDxoMyA+PHNwYW4gY2xhc3M9ImRpYWxvZy1oZWFkZXItdGl0bGUiPuaQnOe0ojwvc3Bhbj48L2gzPlwKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRpYWxvZy1jb250cm9sIiBpZD0id3h6X2Nsb3NlQnV0dG9uIj48c3BhbiBjbGFzcz0iZGlhbG9nLWljb24gZGlhbG9nLWNsb3NlIGljb24gaWNvbi1jbG9zZSI+PHNwYW4gY2xhc3M9InNpY29uIj7Dlzwvc3Bhbj48L3NwYW4+PC9kaXY+XAogICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRsZy1iZCBnLWNsZWFyZml4IG9mZmxpbmUtbGlzdC1kaWFsb2ciPlwKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Ind4ei1jb250ZW50Ij5cCiAgICAgICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvZmZsaW5lLWJvdHRvbSI+XAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9mZmxpbmUtcGFnZWluZyI+XAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlc2UgIiBpZD0id3h6LXBhZ2VzZSI+XAogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XAogICAgICAgICAgICA8L2Rpdj5cCiAgICAgICAgJzsKCiAgICAvL2FwcGVuZCB0byBib2R5CgogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmFwcGVuZENoaWxkKHd4ekRpYWxvZ05vZGUpOwoKCiAgICB2YXIgd3h6U3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgIHd4elN0eWxlTm9kZS50ZXh0Q29udGVudCA9IAogICAgJ1wKICAgIC53eHotbWVudXtjdXJzb3I6cG9pbnRlcjsgaGVpZ2h0OjEwMCU7IGRpc3BsYXk6aW5saW5lLWJsb2NrOyB2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7cG9zaXRpb246cmVsYXRpdmU7fVwKICAgIC53eHotbWVudTpob3ZlciAud3h6LW1lbnUtY29udGVudHtkaXNwbGF5OmJsb2NrOyB6LWluZGV4Ojk5fVwKICAgIC53eHotbWVudTpob3ZlciAuaWNvbi1kcm9wZG93bi1hcnJvd3t0cmFuc2Zvcm06cm90YXRlKDE4MCk7fVwKICAgIC53eHotbWVudS1vcHRpb257dGV4dC1hbGlnbjpjZW50ZXI7bGluZS1oZWlnaHQ6MzBweDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kOndoaXRlO2NvbG9yOmJsYWNrO2JvcmRlcjoxcHggc29saWQgI2VmZjRmODtib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO31cCiAgICAjd3h6X3NlYXJjaEZvcm17ZGlzcGxheTppbmxpbmUtYmxvY2s7IHZlcnRpY2FsLWFsaWduOm1pZGRsZTt9XAogICAgI3d4el9pbnB1dHtwYWRkaW5nOjAgNHB4OyBib3JkZXI6IDFweCBzb2xpZCAjYzBkOWZlO2JvcmRlci1yYWRpdXM6IDRweDtsaW5lLWhlaWdodDogMjJweDt9XAogICAgI3d4el9zZWFyY2hCdXR0b257Y3Vyc29yOnBvaW50ZXI7IGJhY2tncm91bmQ6ICMzYjhjZmY7Ym9yZGVyOiAycHggc29saWQgIzNiOGNmZjtjb2xvcjogI2Y4ZmJmZjtib3JkZXItcmFkaXVzOiA2cHg7fVwKICAgIC53eHotbWVudS1jb250ZW50e2Rpc3BsYXk6bm9uZTsgcG9zaXRpb246YWJzb2x1dGU7dG9wOjEwMCU7bGVmdDowO3dpZHRoOjgwcHg7fVwKICAgICN3eHpNZW51RGlzcGxheXtsaW5lLWhlaWdodDogNDBweDsgZGlzcGxheTppbmxpbmUtYmxvY2s7IHdpZHRoOjQwcHg7fVwKICAgIC53eHotYmd7cG9zaXRpb246IGZpeGVkOyBsZWZ0OiAwcHg7IHRvcDogMHB4OyBib3R0b206IDBweDsgcmlnaHQ6IDBweDsgei1pbmRleDogNTA7IGJhY2tncm91bmQ6IHJnYigwLCAwLCAwKTsgb3BhY2l0eTogMC41O31cCiAgICAud3h6LWNvbnRlbnR7aGVpZ2h0OiA1MDBweDtsaW5lLWhlaWdodDogMjAwJTt0ZXh0LWFsaWduOiBsZWZ0O3doaXRlLXNwYWNlOiBub3JtYWw7cGFkZGluZzowIDEwcHg7b3ZlcmZsb3c6YXV0bzt9XAogICAgLnd4ei1jbG9zZXttYXJnaW4tcmlnaHQ6MjBweDtpbXBvcnRhbnQ7aGVpZ2h0OjIwcHg7Y3Vyc29yOnBvaW50ZXJ9XAogICAgLnd4ei1uZXh0e21hcmdpbi1yaWdodDoyMHB4O2Zsb2F0OnJpZ2h0O2hlaWdodDoyMHB4O2N1cnNvcjpwb2ludGVyfVwKICAgIC53eHotZnJvbnR7bWFyZ2luLXJpZ2h0OjQwcHg7ZmxvYXQ6cmlnaHQ7aGVpZ2h0OjIwcHg7Y3Vyc29yOnBvaW50ZXJ9XAogICAgLnd4ei1jb250ZW50IGF7Y29sb3I6IzAwNjZGRiFpbXBvcnRhbnQ7Zm9udDogMTRweC8xLjUgYXJpYWwsc2Fucy1zZXJpZiFpbXBvcnRhbnQ7fVwKICAgICc7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJykuYXBwZW5kQ2hpbGQod3h6U3R5bGVOb2RlKTsgICAgCgoKCgogICAgdmFyIGJkTW9kZWw9bmV3IEJhc2VNb2RlbChbJ2JpbmcnLCdnb29nbGUnXSk7CgogICAgYmRNb2RlbC51cmxzLmJpbmc9J2h0dHA6Ly9jbi5iaW5nLmNvbS9zZWFyY2g/cT0nOwogICAgYmRNb2RlbC51cmxzLmdvb2dsZT0naHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vY3VzdG9tc2VhcmNoL3YxZWxlbWVudD9rZXk9QUl6YVN5Q1ZBWGlVelJZc01MMVB2NlJ3U0cxZ3VubU1pa1R6UXFZJnJzej1maWx0ZXJlZF9jc2UmbnVtPTEwJmhsPWVuJnByZXR0eVByaW50PXRydWUmc291cmNlPWdjc2MmZ3NzPS5jb20mc2lnPWVlOTNmOWFhZTljOWU5ZGJhNWVlYTgzMWQ1MDZlNjlhJmN4PTAxODE3NzE0MzM4MDg5MzE1MzMwNTp5azBxcGd5ZHhfZSZxPSc7CgogICAgYmRNb2RlbC50b0pzb24uYmluZz1mdW5jdGlvbihodG1sKXsKICAgICAgICB2YXIgZGF0YSA9IHsgY3Vyc29yOiB7IGVzdGltYXRlZFJlc3VsdENvdW50OiAwLCByZXN1bHRDb3VudDogMCB9LCByZXN1bHRzOiBbXSB9OwogICAgICAgIC8v5YW25Lit5LiA5p2h57uT5p6c77yaCiAgICAgICAgLy88bGkgY2xhc3M9ImJfYWxnbyI+PGgyPgogICAgICAgIC8vPGEgaHJlZj0iaHR0cDovL3Bhbi5iYWlkdS5jb20vd2FwL2xpbms/dWs9MjkyMzExMDY1OCZhbXA7c2hhcmVpZD0zNDY4ODE1ODM0JmFtcDt0aGlyZD0zIiB0YXJnZXQ9Il9ibGFuayIgaD0iSUQ9U0VSUCw1MTAxLjEiPllGSy08c3Ryb25nPlJLMzM2ODwvc3Ryb25nPi04MTg5LTIwMTUwODIxLnJhcl/lhY3otLnpq5jpgJ/kuIvovb1855m+5bqm5LqRIOe9keebmCAuLi48L2E+PC9oMj4KICAgICAgICAvLzxkaXYgY2xhc3M9ImJfY2FwdGlvbiI+PHA+5paH5Lu25ZCNOllGSy08c3Ryb25nPlJLMzM2ODwvc3Ryb25nPi04MTg5LTIwMTUwODIxLnJhciDmlofku7blpKflsI86NDk3LjU1TSDliIbkuqvogIU65pmo6IqvRkFFIOWIhuS6q+aXtumXtDoyMDE1LTgtMjEgMTQ6MDcg5LiL6L295qyh5pWwOjUgLi4uIOeZu+W9leeZvuW6puS6keWuouaIt+err+mAgTJU56m66Ze0IOeUteiEkeeJiDwvcD4KICAgICAgICAvLzxkaXYgY2xhc3M9ImJfYXR0cmlidXRpb24iIHU9IjB8NTA1OHw0ODM1MjcxMzg2OTkxMjQ4fDhPTWhjR0lJajhHVzA4STQxUjVVb1N5SnBsMl81UG55Ij48Y2l0ZT48c3Ryb25nPnBhbi5iYWlkdS5jb208L3N0cm9uZz4vd2FwL2xpbms/dWs9MjkyMzExMDY1OCZhbXA7c2hhcmVpZD0zNDY4ODE1ODM0JmFtcDsuLi48L2NpdGU+PHNwYW4gY2xhc3M9ImNfdGxieFRyZyI+CiAgICAgICAgLy88c3BhbiBjbGFzcz0iY190bGJ4SCIgSD0iQkFTRTpDQUNIRURQQUdFREVGQVVMVCIgSz0iU0VSUCw1MTAyLjEiPjwvc3Bhbj48L3NwYW4+PC9kaXY+PC9kaXY+PC9saT4KICAgICAgICAvL2h0dHA6Ly93d3cuamI1MS5uZXQvYXJ0aWNsZS80OTA4My5odG3lnKhKU+S4reino+aekEhUTUzlrZfnrKbkuLLnpLrkvovku6PnoIHvvJoKICAgICAgICB2YXIgcmF3UmVzdWx0SFRNTCA9IGh0bWwubWF0Y2goLzxsaVxzY2xhc3M9ImJfYWxnbyI+KC4qPyk8XC9saT4vZyk7CiAgICAgICAgdmFyIGJfcmVzdWx0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7CiAgICAgICAgYl9yZXN1bHRzLmlubmVySFRNTCA9IHJhd1Jlc3VsdEhUTUw7CiAgICAgICAgdmFyIGJfYWxnb19BcnJ5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYl9yZXN1bHRzLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2JfYWxnbycpKTsKICAgICAgICBiX2FsZ29fQXJyeS5mb3JFYWNoKGZ1bmN0aW9uKGVsZSwgaW5kZXgpIHsKICAgICAgICAgICAgdmFyIHRlbXBSZXN1bHQgPSB7CiAgICAgICAgICAgICAgICB1bmVzY2FwZWRVcmw6ICIiLAogICAgICAgICAgICAgICAgdGl0bGVOb0Zvcm1hdHRpbmc6ICIiLAogICAgICAgICAgICAgICAgY29udGVudE5vRm9ybWF0dGluZzogIiIKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGVtcFJlc3VsdC51bmVzY2FwZWRVcmwgPSBlbGUucXVlcnlTZWxlY3RvcignaDIgYScpLmdldEF0dHJpYnV0ZSgnaHJlZicpOwogICAgICAgICAgICB0ZW1wUmVzdWx0LnRpdGxlTm9Gb3JtYXR0aW5nID0gZWxlLnF1ZXJ5U2VsZWN0b3IoJ2gyIGEnKS50ZXh0Q29udGVudDsKICAgICAgICAgICAgdGVtcFJlc3VsdC5jb250ZW50Tm9Gb3JtYXR0aW5nID0gZWxlLnF1ZXJ5U2VsZWN0b3IoJy5iX2NhcHRpb24gcCcpLnRleHRDb250ZW50OwogICAgICAgICAgICBkYXRhLnJlc3VsdHMucHVzaCh0ZW1wUmVzdWx0KTsKICAgICAgICB9KTsKICAgICAgICAvLy8v5aSE55CG57uf6K6h57uT5p6cCiAgICAgICAgdmFyIHJhd1Jlc3VsdENvdW50PWh0bWwubWF0Y2goLzxzcGFuLio/c2JfY291bnQuKj8+KC4qPyk8XC9zcGFuPi8pWzFdOwogICAgICAgIHZhciBtYXRjaExzdD1bXTsgICAgCiAgICAgICAgbWF0Y2hMc3Q9cmF3UmVzdWx0Q291bnQubWF0Y2goLyhbMC05XXsxLDN9KCxbMC05XXszfSkrKS9nKTsKICAgICAgICBpZihtYXRjaExzdCE9PW51bGwpey8v5Yy56YWNMTAwLDAwMCwxMTHkuYvnsbvnmoTmg4XlhrUKICAgICAgICAgICAgZGF0YS5jdXJzb3IucmVzdWx0Q291bnQ9bWF0Y2hMc3RbMF0ucmVwbGFjZSgnLCcsJycpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBtYXRjaExzdD1yYXdSZXN1bHRDb3VudC5tYXRjaCgvXGQrL2cpOwogICAgICAgICAgICBpZihtYXRjaExzdCE9PW51bGwpey8v5Yy56YWNMTAg5Liq57uT5p6c5LmL57G755qE5oOF5Ya177yM5Lul5Y+KMS0xMe+8jOWFsTEx5Liq55qE5oOF5Ya1CiAgICAgICAgICAgIGRhdGEuY3Vyc29yLnJlc3VsdENvdW50PW1hdGNoTHN0LnBvcCgpOwogICAgICAgICAgICB9ZWxzZXsvL+WMuemFjeaXoOeahOaDheWGtQogICAgICAgICAgICBkYXRhLmN1cnNvci5yZXN1bHRDb3VudD0wOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGRhdGEuY3Vyc29yLnJlc3VsdENvdW50ID0gcGFyc2VJbnQoIGRhdGEuY3Vyc29yLnJlc3VsdENvdW50LnRvU3RyaW5nKCksMTApOwogICAgICAgIGRhdGEuY3Vyc29yLmVzdGltYXRlZFJlc3VsdENvdW50ID0gZGF0YS5jdXJzb3IucmVzdWx0Q291bnQ7CiAgICAgICAgcmV0dXJuIGRhdGE7ICAgICAgICAKICAgIH07CiAgICBiZE1vZGVsLnRvSnNvbi5nb29nbGU9ZnVuY3Rpb24ocmVzcG9uc2VUZXh0KXsKICAgICAgICB2YXIgZGF0YT1KU09OLnBhcnNlKHJlc3BvbnNlVGV4dCk7CiAgICAgICAgZGF0YS5jdXJzb3IucmVzdWx0Q291bnQ9cGFyc2VJbnQoZGF0YS5jdXJzb3IucmVzdWx0Q291bnQuc3BsaXQoJywnKS5qb2luKCcnKSk7CiAgICAgICAgcmV0dXJuIGRhdGE7ICAgICAgICAKICAgIH07CgogICAgYmRNb2RlbC5jb21waWxlVXJsLmJpbmc9ZnVuY3Rpb24oX3NlbGYpewogICAgICAgIHJldHVybiBfc2VsZi51cmxzLmJpbmcgKyBfc2VsZi5rZXl3b3JkICsgJytzaXRlJTNBcGFuLmJhaWR1LmNvbScgKyAnJmZpcnN0PScgKyAoX3NlbGYuY3Vyci0xKSoxMDsKICAgIH07CiAgICBiZE1vZGVsLmNvbXBpbGVVcmwuZ29vZ2xlPWZ1bmN0aW9uKF9zZWxmKXsKICAgICAgICByZXR1cm4gX3NlbGYudXJscy5nb29nbGUgKyBfc2VsZi5rZXl3b3JkICsgJyZzdGFydD0nICsgKF9zZWxmLmN1cnItMSkqMTA7CiAgICB9OwoKICAgIHZhciBiZFZpZXc9bmV3IFZpZXdlcihiZE1vZGVsLHsKICAgICAgICBpbnB1dEVsZTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3h6X2lucHV0JyksCiAgICAgICAgc2VhcmNoQnRuOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eHpfc2VhcmNoQnV0dG9uJyksCiAgICAgICAgY2xvc2VCdG46ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3d4el9jbG9zZUJ1dHRvbicpLAogICAgICAgIG15RGl2OmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eHpfbXlEaXYnKSwKICAgICAgICBteUNvbnRlbnQ6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnd4ei1jb250ZW50JyksCiAgICAgICAgbWVudTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3h6TWVudURpc3BsYXknKSwKICAgICAgICBlbmdpbmVCdG5DbGFzc05hbWU6J3d4ei1tZW51LW9wdGlvbicsCiAgICAgICAgZW5naW5lTHN0OmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eHpfZW5naW5lTHN0JyksCiAgICAgICAgcGFnZXNlOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3eHotcGFnZXNlJyksCiAgICAgICAgdG9QYWdlQnRuQ2xhc3NOYW1lOidwYWdlLW51bWJlcicsCiAgICAgICAgYmdOb2RlOnd4emJnTm9kZQogICAgfSk7CiAgICB2YXIgYmRDb250cm9sbGVyPW5ldyBDb250cm9sbGVyKGJkTW9kZWwsYmRWaWV3KTsKICAgIGJkQ29udHJvbGxlci5yZWZsZXNoRW5naW5lTHN0KCk7CgkvL+i/memHjOWGmeeahOS4jeWlvQogICAgdmFyIHRlbXBTdHIgPSAnJzsKICAgIHZhciB0ZW1wT2JqOwogICAgdGVtcFN0ciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd3h6WXVucGFuU2VhcmNoZXInKTsKICAgIGlmICh0ZW1wU3RyKSB7CiAgICAJdGVtcE9iaiA9IEpTT04ucGFyc2UodGVtcFN0cik7CiAgICAJYmRDb250cm9sbGVyLnNldEVuZ2luZSh0ZW1wT2JqLmVuZ2luZSk7CiAgICB9CiAgICBlbHNlewogICAgCWJkQ29udHJvbGxlci5zZXRFbmdpbmUoJ2JpbmcnKTsKICAgIH0KICAgIAoKfQoKdmFyIGNvdW50ZXIgPSAwOwoKdmFyCnQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7IC8v55m+5bqm5LqR5oqK5LiA5Lqb5YaF5a655pS+5Yiw5ZCO6Z2i5Yqg6L29LOWboOatpOaIkeiuvue9ruS6huS4gOS4quW7tuaXtuW+queOr++8jOavj+malDIwMG1z6YCJ5oup5LiA5LiL5omA6ZyA55qE5YWD57Sg77yM5b2T5omA6ZyA55qE5YWD57Sg5a2Y5Zyo5pe277yM5byA5aeL6ISa5pys77yM5ZCM5pe25YGc5q2i5bu25pe25b6q546vIAogICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5oZWFkZXItaW5mbyIpICE9PSBudWxsKSB7CiAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodCk7CiAgICAgICAgbmV3SW5pdCgpOwogICAgfQogICAgZWxzZXsKICAgICAgICBpZihjb3VudGVyIDwgMTAwKXsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3dhaXRpbmcnKTsKICAgICAgICAgICAgY291bnRlciArKzsKICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvdXQgb2YgdGltZScpOwogICAgICAgIH0KICAgIH0KfSwgMjAwKTsK"},{"name":"Download YouTube Videos as MP4","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http://www.youtube.com/embed/*","https://www.youtube.com/embed/*"],"orig_includes":["http://www.youtube.com/*","https://www.youtube.com/*"],"orig_matches":["http://www.youtube.com/*","https://www.youtube.com/*","http://s.ytimg.com/yts/jsbin/*","https://s.ytimg.com/yts/jsbin/*","http://manifest.googlevideo.com/*","https://manifest.googlevideo.com/*","http://*.googlevideo.com/videoplayback*","https://*.googlevideo.com/videoplayback*","http://*.youtube.com/videoplayback*","https://*.youtube.com/videoplayback*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"download-youtube-dash-enabled":"s0","download-youtube-script-url":"shttps://www.youtube.com/yts/jsbin/player-zh_CN-vflgs3rMX/base.js","download-youtube-signature-code":"s-2,55,-1"},"ts":1490501796640},"enabled":true,"position":13,"file_url":"https://greasyfork.org/scripts/1317-download-youtube-videos-as-mp4/code/Download%20YouTube%20Videos%20as%20MP4.user.js","uuid":"9e2f321d-9876-4936-9926-a1f5ab7a516f","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgRG93bmxvYWQgWW91VHViZSBWaWRlb3MgYXMgTVA0Ci8vIEBkZXNjcmlwdGlvbiBBZGRzIGEgYnV0dG9uIHRoYXQgbGV0cyB5b3UgZG93bmxvYWQgWW91VHViZSB2aWRlb3MuCi8vIEBob21lcGFnZVVSTCBodHRwczovL2dpdGh1Yi5jb20vZ2FudHQvZG93bmxvYWR5b3V0dWJlCi8vIEBhdXRob3IgR2FudHQKLy8gQHZlcnNpb24gMS44LjEwCi8vIEBkYXRlIDIwMTctMDItMTMKLy8gQG5hbWVzcGFjZSBodHRwOi8vZ29vZ2xlc3lzdGVtLmJsb2dzcG90LmNvbQovLyBAaW5jbHVkZSBodHRwOi8vd3d3LnlvdXR1YmUuY29tLyoKLy8gQGluY2x1ZGUgaHR0cHM6Ly93d3cueW91dHViZS5jb20vKgovLyBAZXhjbHVkZSBodHRwOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyoKLy8gQGV4Y2x1ZGUgaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvKgovLyBAbWF0Y2ggaHR0cDovL3d3dy55b3V0dWJlLmNvbS8qCi8vIEBtYXRjaCBodHRwczovL3d3dy55b3V0dWJlLmNvbS8qCi8vIEBtYXRjaCBodHRwOi8vcy55dGltZy5jb20veXRzL2pzYmluLyoKLy8gQG1hdGNoIGh0dHBzOi8vcy55dGltZy5jb20veXRzL2pzYmluLyoKLy8gQG1hdGNoIGh0dHA6Ly9tYW5pZmVzdC5nb29nbGV2aWRlby5jb20vKgovLyBAbWF0Y2ggaHR0cHM6Ly9tYW5pZmVzdC5nb29nbGV2aWRlby5jb20vKgovLyBAbWF0Y2ggaHR0cDovLyouZ29vZ2xldmlkZW8uY29tL3ZpZGVvcGxheWJhY2sqCi8vIEBtYXRjaCBodHRwczovLyouZ29vZ2xldmlkZW8uY29tL3ZpZGVvcGxheWJhY2sqCi8vIEBtYXRjaCBodHRwOi8vKi55b3V0dWJlLmNvbS92aWRlb3BsYXliYWNrKgovLyBAbWF0Y2ggaHR0cHM6Ly8qLnlvdXR1YmUuY29tL3ZpZGVvcGxheWJhY2sqCi8vIEBjb25uZWN0IGdvb2dsZXZpZGVvLmNvbQovLyBAY29ubmVjdCB5dGltZy5jb20KLy8gQGdyYW50IEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgR01fc2V0VmFsdWUKLy8gQHJ1bi1hdCBkb2N1bWVudC1lbmQKLy8gQGxpY2Vuc2UgTUlUIExpY2Vuc2UKLy8gQGljb24gZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUJBQ0FNQUFBQ2R0NEhzQUFBQUIzUkpUVVVIMndNT0NnSW9HVVlFQVFBQUFBbHdTRmx6QUFBTEVnQUFDeElCMHQxKy9BQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBR1NVRXhVUmZpL0pPL3Y3OTdlM3NiR3hxMnRyYVdscFpTVWxKeWNuTmJXMW95RWhJUmFXb3c1T1pRaElad1lHS1VRRUtVSUNLMElDSlF4TVl4S1NveHpjNHg3ZTRSQ1FwUVlHS1VBQUswQUFMVUFBTDBBQUswUUVJeHJhNVFwS2EwWUdJeFNVc1lBQUtVaElaUjdlODdPenIwSUNKUlNVcjI5dll4alk2VTVPYVVwS2EwaEliMjF0WndBQUxVSUNPL096dS9HeHFVeE1aU0VoTFVZR08vVzFyMFlHS1ZDUXBRUUVMMHBLZmZlM3ZmVzFweHJhNVE1T2NaQ1F2Zm41ODVDUXIydHJaeDdlOFpTVXM1U1VxMDVPYzVqWTlaalk4NEFBS1dNak01emM5NTdlNjBwS2RhTWpPZWxwYldjbkxXVWxMVkNRc1lZR01ZSUNOYk96cFFJQ01ZaEliVjdlNXhhV3Q2Y25QZnY3OWJHeHQ2bHBlKzl2YzVLU3M2bHBiMHhNYzZFaE02OXZiVXhNYlVoSWIxYVdzNjF0Y1phV3VlY25NWXhNYjFLU3Naalk5NlVsTmExdGQ3VzFyMTdlOWE5dlp3UUVONnRyYjFqWThZUUVOWnJhK2ZPenIxemM4NWFXdWZlM3Q2TWpNWTVPZFphV3Q2MXRkWjdlKy9uNStlOXZjNk1qTVpyYSsvZTN1ZTF0ZGFscGQ3R3hyVXBLYWxMNGFBQUFBQUJkRkpPVXdCQTV0aG1BQUFDeGtsRVFWUjQydVhYLzEvU1FCZ0g4TnVBb0VRMmlqZ2JCaXZKTHpuQkFpVVVLaXlKU2dPVkFrMHRLWkt3NzVtUlJ0Lzd2NE1CWThlempXMzlWczh2OHJxSHovdTFqYnZiaWRDL1hMOEttY3BPcVZUNm5Talhqb29HdzhXZkZkK1FXR2ZFNG9MYnRicisrUGRNT3kwQkRZTGpFai8weGV2ZldJeVZBSTdiL2FJai85V0hzUnJBOFlmOWJxU2V4VmdENExpYzlrV0UvTGdQd1BHZk5mSkhETzRQOEl1cStTMk05UUQ4b1VwK254RUFjRkN0ZmdJQS8xNHgvOUVsQUtEUWJOUUF3TjlWQWlZRUFCeTBPZ3NBV0FuQi9BY0JBdFZXYXdrQWZKNENEMEJRQURaYXZZY1FnSTloM0NDUWpwRDVQY0Vnd0crU3dMUmhJTDB2ejc4U2pBUEVVM2hySE9EZnlYNEk2clVKSVAwRzNvRXhvTndGWHBvQitId1htREVGcEY5SXdLQTVZSytUcDlmTUFkVU9zQzZZQTU1M2dLY21nZFRmQWhWMW9NUXFBRG5kUURtSjBBWkxBc0ZuQ0lWM1ZZREhKTEFqRGtaS2NpQWFGei9sQ2VCSkIxZ2xnWEJyTkxuZEJXTEo5dVpHQUkra2VUQkxBTkw4U25XQXpXUm5pQUMycEcrNmxRRjBoZmpUcUNJQnJFdmpEd2lnZ0ZTTHVJVW9MWTB2RXdBYlVjc25jL0xsbk8wMkhHdkV6K2hYRWVKNVlqKzRMMnZOa3hPSkRTbmxRemxpSXEyc3lucjNlbWJpVUJqbXcwRnlVODNLWDA0T2IrOWFBSy9QcGQ1ZGVabG96NEhGbENIenQzc1gweDJhNkxjdlFiNGFiOHI3aStEVmRxdm5DcS9ENVp6cWRoZkFjcjVCOXdEMFBOd1BFdTBabkx3SzlvUGdOZkNRSjJmaGhoSVRKM0U4QmplVU9YQStRTlFsQmg1eExqZW1WQ2dLanpnek5JSkZqV0Y0eUpvS2hhZmdJV3Q2VkhHbWpnUjBIdk11VGlwUGRXUUo2QUltYkJSU0U4YVkvc0M0ZXI1eEZ4NXZIeUI0WVJScEZXVWYwQUw0YytkSGtIWlJGbzlURGVCOUFhM0xsd2pyOEZsRndCK3dPL3JIbTBWYlBhZTltUGluaS9PNWgvWEd4YXR3Mkk2ZkdIQU91aGlHWlZ4Tzk4bFRkZ3V0UDk0eWFJdlZkcXhaZHB2RllUVDlYOVVmcVFRbFRYbG04d2tBQUFBQVNVVk9SSzVDWUlJPQovLyA9PS9Vc2VyU2NyaXB0PT0KCgooZnVuY3Rpb24gKCkgewogIHZhciBGT1JNQVRfTEFCRUw9eycxOCc6J01QNCAzNjBwJywnMjInOidNUDQgNzIwcCcsJzQzJzonV2ViTSAzNjBwJywnNDQnOidXZWJNIDQ4MHAnLCc0NSc6J1dlYk0gNzIwcCcsJzQ2JzonV2ViTSAxMDgwcCcsJzEzNSc6J01QNCA0ODBwIC0gbm8gYXVkaW8nLCcxMzcnOidNUDQgMTA4MHAgLSBubyBhdWRpbycsJzEzOCc6J01QNCAyMTYwcCAtIG5vIGF1ZGlvJywnMTQwJzonTTRBIDEyOGticHMgLSBhdWRpbycsJzI2NCc6J01QNCAxNDQwcCAtIG5vIGF1ZGlvJywnMjY2JzonTVA0IDIxNjBwIC0gbm8gYXVkaW8nLCcyOTgnOidNUDQgNzIwcDYwIC0gbm8gYXVkaW8nLCcyOTknOidNUDQgMTA4MHA2MCAtIG5vIGF1ZGlvJ307CiAgdmFyIEZPUk1BVF9UWVBFPXsnMTgnOidtcDQnLCcyMic6J21wNCcsJzQzJzond2VibScsJzQ0Jzond2VibScsJzQ1Jzond2VibScsJzQ2Jzond2VibScsJzEzNSc6J21wNCcsJzEzNyc6J21wNCcsJzEzOCc6J21wNCcsJzE0MCc6J200YScsJzI2NCc6J21wNCcsJzI2Nic6J21wNCcsJzI5OCc6J21wNCcsJzI5OSc6J21wNCd9OwogIHZhciBGT1JNQVRfT1JERVI9WycxOCcsJzQzJywnMTM1JywnNDQnLCcyMicsJzI5OCcsJzQ1JywnMTM3JywnMjk5JywnNDYnLCcyNjQnLCcxMzgnLCcyNjYnLCcxNDAnXTsKICB2YXIgRk9STUFUX1JVTEU9eydtcDQnOidhbGwnLCd3ZWJtJzonbm9uZScsJ200YSc6J2FsbCd9OwogIC8vIGFsbD1kaXNwbGF5IGFsbCB2ZXJzaW9ucywgbWF4PW9ubHkgaGlnaGVzdCBxdWFsaXR5IHZlcnNpb24sIG5vbmU9bm8gdmVyc2lvbiAgCiAgLy8gdGhlIGRlZmF1bHQgc2V0dGluZ3Mgc2hvdyBhbGwgTVA0IHZpZGVvcwogIHZhciBTSE9XX0RBU0hfRk9STUFUUz1mYWxzZTsKICB2YXIgQlVUVE9OX1RFWFQ9eydhcic6J9iq2YbYstmK2YQnLCdjcyc6J1N0w6Fobm91dCcsJ2RlJzonSGVydW50ZXJsYWRlbicsJ2VuJzonRG93bmxvYWQnLCdlcyc6J0Rlc2NhcmdhcicsJ2ZyJzonVMOpbMOpY2hhcmdlcicsJ2hpJzon4KSh4KS+4KSJ4KSo4KSy4KWL4KShJywnaHUnOidMZXTDtmx0w6lzJywnaWQnOidVbmR1aCcsJ2l0JzonU2NhcmljYScsJ2phJzon44OA44Km44Oz44Ot44O844OJJywna28nOifrgrTroKTrsJvquLAnLCdwbCc6J1BvYmllcnonLCdwdCc6J0JhaXhhcicsJ3JvJzonRGVzY8SDcmNhyJtpJywncnUnOifQodC60LDRh9Cw0YLRjCcsJ3RyJzonxLBuZGlyJywnemgnOifkuIvovb0nLCd6aC1UVyc6J+S4i+i8iSd9OwogIHZhciBCVVRUT05fVE9PTFRJUD17J2FyJzon2KrZhtiy2YrZhCDZh9iw2Kcg2KfZhNmB2YrYr9mK2YgnLCdjcyc6J1N0w6Fobm91dCB0b3RvIHZpZGVvJywnZGUnOidEaWVzZXMgVmlkZW8gaGVydW50ZXJsYWRlbicsJ2VuJzonRG93bmxvYWQgdGhpcyB2aWRlbycsJ2VzJzonRGVzY2FyZ2FyIGVzdGUgdsOtZGVvJywnZnInOidUw6lsw6ljaGFyZ2VyIGNldHRlIHZpZMOpbycsJ2hpJzon4KS14KWA4KSh4KS/4KSv4KWLIOCkoeCkvuCkieCkqOCksuCli+CkoSDgpJXgpLDgpYfgpIInLCdodSc6J1ZpZGXDsyBsZXTDtmx0w6lzZScsJ2lkJzonVW5kdWggdmlkZW8gaW5pJywnaXQnOidTY2FyaWNhIHF1ZXN0byB2aWRlbycsJ2phJzon44GT44Gu44OT44OH44Kq44KS44OA44Km44Oz44Ot44O844OJ44GZ44KLJywna28nOifsnbQg67mE65SU7Jik66W8IOuCtOugpOuwm+q4sCcsJ3BsJzonUG9iaWVyeiBwbGlrIHdpZGVvJywncHQnOidCYWl4YXIgZXN0ZSB2w61kZW8nLCdybyc6J0Rlc2PEg3JjYcibaSBhY2VzdCB2aWRlb2NsaXAnLCdydSc6J9Ch0LrQsNGH0LDRgtGMINGN0YLQviDQstC40LTQtdC+JywndHInOiAnQnUgdmlkZW95dSBpbmRpcicsJ3poJzon5LiL6L295q2k6KeG6aKRJywnemgtVFcnOifkuIvovInmraTlvbHniYcnfTsKICB2YXIgREVDT0RFX1JVTEU9W107CiAgdmFyIFJBTkRPTT03NDg5MjM1MTc5OyAvLyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTIzNDU2Nzg5MCk7CiAgdmFyIENPTlRBSU5FUl9JRD0nZG93bmxvYWQteW91dHViZS12aWRlbycrUkFORE9NOwogIHZhciBMSVNUSVRFTV9JRD0nZG93bmxvYWQteW91dHViZS12aWRlby1mbXQnK1JBTkRPTTsKICB2YXIgQlVUVE9OX0lEPSdkb3dubG9hZC15b3V0dWJlLXZpZGVvLWJ1dHRvbicrUkFORE9NOwogIHZhciBERUJVR19JRD0nZG93bmxvYWQteW91dHViZS12aWRlby1kZWJ1Zy1pbmZvJzsKICB2YXIgU1RPUkFHRV9VUkw9J2Rvd25sb2FkLXlvdXR1YmUtc2NyaXB0LXVybCc7CiAgdmFyIFNUT1JBR0VfQ09ERT0nZG93bmxvYWQteW91dHViZS1zaWduYXR1cmUtY29kZSc7CiAgdmFyIFNUT1JBR0VfREFTSD0nZG93bmxvYWQteW91dHViZS1kYXNoLWVuYWJsZWQnOwogIHZhciBpc0RlY29kZVJ1bGVVcGRhdGVkPWZhbHNlOyAgCiAgICAKICBzdGFydCgpOwogICAgICAgICAgCmZ1bmN0aW9uIHN0YXJ0KCkgewogIHZhciBwYWdlY29udGFpbmVyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLWNvbnRhaW5lcicpOwogIGlmICghcGFnZWNvbnRhaW5lcikgcmV0dXJuOwogIGlmICgvXmh0dHBzPzpcL1wvd3d3XC55b3V0dWJlLmNvbVwvd2F0Y2hcPy8udGVzdCh3aW5kb3cubG9jYXRpb24uaHJlZikpIHJ1bigpOyAgICAgICAKICB2YXIgaXNBamF4PS9jbGFzc1tcd1xzIictPV0rc3BmXC1saW5rLy50ZXN0KHBhZ2Vjb250YWluZXIuaW5uZXJIVE1MKTsKICB2YXIgbG9nb2NvbnRhaW5lcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nby1jb250YWluZXInKTsgIAogIGlmIChsb2dvY29udGFpbmVyICYmICFpc0FqYXgpIHsgLy8gZml4IGZvciBibG9ja2VkIHZpZGVvcwogICAgaXNBamF4PSgnICcrbG9nb2NvbnRhaW5lci5jbGFzc05hbWUrJyAnKS5pbmRleE9mKCcgc3BmLWxpbmsgJyk+PTA7CiAgfQogIHZhciBjb250ZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50Jyk7CiAgaWYgKGlzQWpheCAmJiBjb250ZW50KSB7IC8vIEFqYXggVUkKICAgICAgdmFyIG1vPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjsKICAgICAgaWYodHlwZW9mIG1vIT09J3VuZGVmaW5lZCcpIHsKICAgICAgICB2YXIgb2JzZXJ2ZXI9bmV3IG1vKGZ1bmN0aW9uKG11dGF0aW9ucykgewogICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24obXV0YXRpb24pIHsKICAgICAgICAgICAgICBpZihtdXRhdGlvbi5hZGRlZE5vZGVzIT09bnVsbCkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24uYWRkZWROb2Rlc1tpXS5pZD09J3dhdGNoNy1tYWluLWNvbnRhaW5lcicpIHsgLy8gfHwgaWQ9PSd3YXRjaDctY29udGFpbmVyJwogICAgICAgICAgICAgICAgICAgICAgcnVuKCk7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjb250ZW50LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlfSk7IC8vIG9sZCB2YWx1ZTogcGFnZWNvbnRhaW5lcgogICAgICB9IGVsc2UgeyAvLyBNdXRhdGlvbk9ic2VydmVyIGZhbGxiYWNrIGZvciBvbGQgYnJvd3NlcnMKICAgICAgICBwYWdlY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIG9uTm9kZUluc2VydGVkLCBmYWxzZSk7CiAgICAgIH0KICB9IAp9CgpmdW5jdGlvbiBvbk5vZGVJbnNlcnRlZChlKSB7IAogICAgaWYgKGUgJiYgZS50YXJnZXQgJiYgKGUudGFyZ2V0LmlkPT0nd2F0Y2g3LW1haW4tY29udGFpbmVyJykpIHsgLy8gfHwgaWQ9PSd3YXRjaDctY29udGFpbmVyJwogICAgICBydW4oKTsKICB9Cn0KICAKZnVuY3Rpb24gcnVuKCkgewogIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChDT05UQUlORVJfSUQpKSByZXR1cm47IC8vIGNoZWNrIGRvd25sb2FkIGNvbnRhaW5lcgoKICB2YXIgdmlkZW9JRCwgdmlkZW9Gb3JtYXRzLCB2aWRlb0FkYXB0Rm9ybWF0cywgdmlkZW9NYW5pZmVzdFVSTCwgc2NyaXB0VVJMPW51bGw7CiAgdmFyIGlzU2lnbmF0dXJlVXBkYXRpbmdTdGFydGVkPWZhbHNlOwogIHZhciBvcGVyYVRhYmxlPW5ldyBBcnJheSgpOwogIHZhciBsYW5ndWFnZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdsYW5nJyk7CiAgdmFyIHRleHREaXJlY3Rpb249J2xlZnQnOwogIGlmIChkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZSgnZGlyJyk9PSdydGwnKSB7CiAgICB0ZXh0RGlyZWN0aW9uPSdyaWdodCc7CiAgfQogIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2F0Y2g3LWFjdGlvbi1idXR0b25zJykpIHsgIC8vIG9sZCBVSQogICAgZml4VHJhbnNsYXRpb25zKGxhbmd1YWdlLCB0ZXh0RGlyZWN0aW9uKTsKICB9CiAgICAgICAgCiAgLy8gb2J0YWluIHZpZGVvIElELCBmb3JtYXRzIG1hcCAgIAogIAogIHZhciBhcmdzPW51bGw7CiAgdmFyIHVzdz0odHlwZW9mIHRoaXMudW5zYWZlV2luZG93ICE9PSAndW5kZWZpbmVkJyk/dGhpcy51bnNhZmVXaW5kb3c6d2luZG93OyAvLyBGaXJlZm94LCBPcGVyYTwxNQogIGlmICh1c3cueXRwbGF5ZXIgJiYgdXN3Lnl0cGxheWVyLmNvbmZpZyAmJiB1c3cueXRwbGF5ZXIuY29uZmlnLmFyZ3MpIHsKICAgIGFyZ3M9dXN3Lnl0cGxheWVyLmNvbmZpZy5hcmdzOwogIH0KICBpZiAoYXJncykgewogICAgdmlkZW9JRD1hcmdzWyd2aWRlb19pZCddOwogICAgdmlkZW9Gb3JtYXRzPWFyZ3NbJ3VybF9lbmNvZGVkX2ZtdF9zdHJlYW1fbWFwJ107CiAgICB2aWRlb0FkYXB0Rm9ybWF0cz1hcmdzWydhZGFwdGl2ZV9mbXRzJ107CiAgICB2aWRlb01hbmlmZXN0VVJMPWFyZ3NbJ2Rhc2htcGQnXTsKICAgIGRlYnVnKCdEWVZBTSAtIEluZm86IFN0YW5kYXJkIG1vZGUuIHZpZGVvSUQgJysodmlkZW9JRD92aWRlb0lEOidub25lJykrJzsgJyk7CiAgfQogIGlmICh1c3cueXRwbGF5ZXIgJiYgdXN3Lnl0cGxheWVyLmNvbmZpZyAmJiB1c3cueXRwbGF5ZXIuY29uZmlnLmFzc2V0cykgewogICAgc2NyaXB0VVJMPXVzdy55dHBsYXllci5jb25maWcuYXNzZXRzLmpzOwogIH0gIAogIAogIGlmICh2aWRlb0lEPT1udWxsKSB7IC8vIHVuc2FmZVdpbmRvdyB3b3JrYXJvdW5kIChDaHJvbWUsIE9wZXJhIDE1KykKICAgIHZhciBidWZmZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoREVCVUdfSUQrJzInKTsKICAgIGlmIChidWZmZXIpIHsKICAgICAgd2hpbGUgKGJ1ZmZlci5maXJzdENoaWxkKSB7CiAgICAgICAgYnVmZmVyLnJlbW92ZUNoaWxkKGJ1ZmZlci5maXJzdENoaWxkKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgYnVmZmVyPWNyZWF0ZUhpZGRlbkVsZW0oJ3ByZScsIERFQlVHX0lEKycyJyk7CiAgICB9ICAgIAogICAgaW5qZWN0U2NyaXB0ICgnaWYoeXRwbGF5ZXImJnl0cGxheWVyLmNvbmZpZyYmeXRwbGF5ZXIuY29uZmlnLmFyZ3Mpe2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCInK0RFQlVHX0lEKycyIikuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCcidmlkZW9faWQiOiJcJyt5dHBsYXllci5jb25maWcuYXJncy52aWRlb19pZCtcJyIsICJqcyI6IlwnK3l0cGxheWVyLmNvbmZpZy5hc3NldHMuanMrXCciLCAiZGFzaG1wZCI6IlwnK3l0cGxheWVyLmNvbmZpZy5hcmdzLmRhc2htcGQrXCciLCAidXJsX2VuY29kZWRfZm10X3N0cmVhbV9tYXAiOiJcJyt5dHBsYXllci5jb25maWcuYXJncy51cmxfZW5jb2RlZF9mbXRfc3RyZWFtX21hcCtcJyIsICJhZGFwdGl2ZV9mbXRzIjoiXCcreXRwbGF5ZXIuY29uZmlnLmFyZ3MuYWRhcHRpdmVfZm10cytcJyJcJykpO30nKTsKICAgIHZhciBjb2RlPWJ1ZmZlci5pbm5lckhUTUw7CiAgICBpZiAoY29kZSkgewogICAgICB2aWRlb0lEPWZpbmRNYXRjaChjb2RlLCAvXCJ2aWRlb19pZFwiOlxzKlwiKFteXCJdKylcIi8pOwogICAgICB2aWRlb0Zvcm1hdHM9ZmluZE1hdGNoKGNvZGUsIC9cInVybF9lbmNvZGVkX2ZtdF9zdHJlYW1fbWFwXCI6XHMqXCIoW15cIl0rKVwiLyk7CiAgICAgIHZpZGVvRm9ybWF0cz12aWRlb0Zvcm1hdHMucmVwbGFjZSgvJmFtcDsvZywnXFx1MDAyNicpOwogICAgICB2aWRlb0FkYXB0Rm9ybWF0cz1maW5kTWF0Y2goY29kZSwgL1wiYWRhcHRpdmVfZm10c1wiOlxzKlwiKFteXCJdKylcIi8pOwogICAgICB2aWRlb0FkYXB0Rm9ybWF0cz12aWRlb0FkYXB0Rm9ybWF0cy5yZXBsYWNlKC8mYW1wOy9nLCdcXHUwMDI2Jyk7CiAgICAgIHZpZGVvTWFuaWZlc3RVUkw9ZmluZE1hdGNoKGNvZGUsIC9cImRhc2htcGRcIjpccypcIihbXlwiXSspXCIvKTsKICAgICAgc2NyaXB0VVJMPWZpbmRNYXRjaChjb2RlLCAvXCJqc1wiOlxzKlwiKFteXCJdKylcIi8pOwogICAgfQogICAgZGVidWcoJ0RZVkFNIC0gSW5mbzogSW5qZWN0aW9uIG1vZGUuIHZpZGVvSUQgJysodmlkZW9JRD92aWRlb0lEOidub25lJykrJzsgJyk7CiAgfQogICAgIAogIGlmICh2aWRlb0lEPT1udWxsKSB7IC8vIGlmIGFsbCBlbHNlIGZhaWxzCiAgICB2YXIgYm9keUNvbnRlbnQ9ZG9jdW1lbnQuYm9keS5pbm5lckhUTUw7ICAKICAgIGlmIChib2R5Q29udGVudCE9bnVsbCkgewogICAgICB2aWRlb0lEPWZpbmRNYXRjaChib2R5Q29udGVudCwgL1widmlkZW9faWRcIjpccypcIihbXlwiXSspXCIvKTsKICAgICAgdmlkZW9Gb3JtYXRzPWZpbmRNYXRjaChib2R5Q29udGVudCwgL1widXJsX2VuY29kZWRfZm10X3N0cmVhbV9tYXBcIjpccypcIihbXlwiXSspXCIvKTsKICAgICAgdmlkZW9BZGFwdEZvcm1hdHM9ZmluZE1hdGNoKGJvZHlDb250ZW50LCAvXCJhZGFwdGl2ZV9mbXRzXCI6XHMqXCIoW15cIl0rKVwiLyk7CiAgICAgIHZpZGVvTWFuaWZlc3RVUkw9ZmluZE1hdGNoKGJvZHlDb250ZW50LCAvXCJkYXNobXBkXCI6XHMqXCIoW15cIl0rKVwiLyk7CiAgICAgIGlmIChzY3JpcHRVUkw9PW51bGwpIHsKICAgICAgICBzY3JpcHRVUkw9ZmluZE1hdGNoKGJvZHlDb250ZW50LCAvXCJqc1wiOlxzKlwiKFteXCJdKylcIi8pOwogICAgICAgIGlmIChzY3JpcHRVUkwpIHsKICAgICAgICAgIHNjcmlwdFVSTD1zY3JpcHRVUkwucmVwbGFjZSgvXFwvZywnJyk7CiAgICAgICAgfQogICAgICB9ICAgICAgCiAgICB9CiAgICBkZWJ1ZygnRFlWQU0gLSBJbmZvOiBCcnV0ZSBtb2RlLiB2aWRlb0lEICcrKHZpZGVvSUQ/dmlkZW9JRDonbm9uZScpKyc7ICcpOwogIH0KICAKICBkZWJ1ZygnRFlWQU0gLSBJbmZvOiB1cmwgJyt3aW5kb3cubG9jYXRpb24uaHJlZisnOyB1c2VyYWdlbnQgJyt3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7ICAKICAKICBpZiAodmlkZW9JRD09bnVsbCB8fCB2aWRlb0Zvcm1hdHM9PW51bGwgfHwgdmlkZW9JRC5sZW5ndGg9PTAgfHwgdmlkZW9Gb3JtYXRzLmxlbmd0aD09MCkgewogICBkZWJ1ZygnRFlWQU0gLSBFcnJvcjogTm8gY29uZmlnIGluZm9ybWF0aW9uIGZvdW5kLiBZb3VUdWJlIG11c3QgaGF2ZSBjaGFuZ2VkIHRoZSBjb2RlLicpOwogICByZXR1cm47CiAgfQogIAogIC8vIE9wZXJhIDEyIGV4dGVuc2lvbiBtZXNzYWdlIGhhbmRsZXIKICBpZiAodHlwZW9mIHdpbmRvdy5vcGVyYSAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm9wZXJhICYmIHR5cGVvZiBvcGVyYS5leHRlbnNpb24gIT09ICd1bmRlZmluZWQnKSB7CiAgICBvcGVyYS5leHRlbnNpb24ub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgdmFyIGluZGV4PWZpbmRNYXRjaChldmVudC5kYXRhLmFjdGlvbiwgL3hoclwtKFswLTldKylcLXJlc3BvbnNlLyk7CiAgICAgIGlmIChpbmRleCAmJiBvcGVyYVRhYmxlW3BhcnNlSW50KGluZGV4LDEwKV0pIHsKICAgICAgICBpbmRleD1wYXJzZUludChpbmRleCwxMCk7CiAgICAgICAgdmFyIHRyaWdnZXI9KG9wZXJhVGFibGVbaW5kZXhdKVsnb25sb2FkJ107CiAgICAgICAgaWYgKHR5cGVvZiB0cmlnZ2VyID09PSAnZnVuY3Rpb24nICYmIGV2ZW50LmRhdGEucmVhZHlTdGF0ZSA9PSA0KSB7CiAgICAgICAgICBpZiAodHJpZ2dlcikgewogICAgICAgICAgICAgIHRyaWdnZXIoZXZlbnQuZGF0YSk7ICAgICAgICAgCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogICAgCiAgaWYgKCFpc0RlY29kZVJ1bGVVcGRhdGVkKSB7CiAgICBERUNPREVfUlVMRT1nZXREZWNvZGVSdWxlcyhERUNPREVfUlVMRSk7CiAgICBpc0RlY29kZVJ1bGVVcGRhdGVkPXRydWU7CiAgfQogIGlmIChzY3JpcHRVUkwpIHsKICAgIHNjcmlwdFVSTCA9IGFic29sdXRlVVJMKHNjcmlwdFVSTCk7CiAgICBkZWJ1ZygnRFlWQU0gLSBJbmZvOiBGdWxsIHNjcmlwdCBVUkw6ICcrc2NyaXB0VVJMKTsKICAgIGZldGNoU2lnbmF0dXJlU2NyaXB0KHNjcmlwdFVSTCk7CiAgfQogIAogICAvLyB2aWRlbyB0aXRsZQogICB2YXIgdmlkZW9UaXRsZT1kb2N1bWVudC50aXRsZSB8fCAndmlkZW8nOwogICB2aWRlb1RpdGxlPXZpZGVvVGl0bGUucmVwbGFjZSgvXHMqXC1ccypZb3VUdWJlJC9pLCAnJykucmVwbGFjZSgvJy9nLCAnXCcnKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywgJycpLnJlcGxhY2UoL1wuKyQvZywgJycpOwogICB2aWRlb1RpdGxlPXZpZGVvVGl0bGUucmVwbGFjZSgvWzoiXD9cKl0vZywgJycpLnJlcGxhY2UoL1tcfFxcXC9dL2csICdfJyk7IC8vIE1hYywgTGludXgsIFdpbmRvd3MKICAgaWYgKCgod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQgfHwgJycpLnRvTG93ZXJDYXNlKCkpLmluZGV4T2YoJ3dpbmRvd3MnKSA+PSAwKSB7CiAgICAgIHZpZGVvVGl0bGU9dmlkZW9UaXRsZS5yZXBsYWNlKC8jL2csICcnKS5yZXBsYWNlKC8mL2csICdfJyk7IC8vIFdpbmRvd3MKICAgfSBlbHNlIHsKICAgICAgdmlkZW9UaXRsZT12aWRlb1RpdGxlLnJlcGxhY2UoLyMvZywgJyUyMycpLnJlcGxhY2UoLyYvZywgJyUyNicpOyAvLyAgTWFjLCBMaW51eAogICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogIC8vIHBhcnNlIHRoZSBmb3JtYXRzIG1hcAogIHZhciBzZXAxPSclMkMnLCBzZXAyPSclMjYnLCBzZXAzPSclM0QnOwogIGlmICh2aWRlb0Zvcm1hdHMuaW5kZXhPZignLCcpPi0xfHx2aWRlb0Zvcm1hdHMuaW5kZXhPZignJicpPi0xfHx2aWRlb0Zvcm1hdHMuaW5kZXhPZignXFx1MDAyNicpPi0xKSB7IAogICAgc2VwMT0nLCc7IAogICAgc2VwMj0odmlkZW9Gb3JtYXRzLmluZGV4T2YoJyYnKT4tMSk/JyYnOidcXHUwMDI2JzsgCiAgICBzZXAzPSc9JzsKICB9CiAgdmFyIHZpZGVvVVJMPW5ldyBBcnJheSgpOwogIHZhciB2aWRlb1NpZ25hdHVyZT1uZXcgQXJyYXkoKTsKICBpZiAodmlkZW9BZGFwdEZvcm1hdHMpIHsKICAgIHZpZGVvRm9ybWF0cz12aWRlb0Zvcm1hdHMrc2VwMSt2aWRlb0FkYXB0Rm9ybWF0czsKICB9CiAgdmFyIHZpZGVvRm9ybWF0c0dyb3VwPXZpZGVvRm9ybWF0cy5zcGxpdChzZXAxKTsKICBmb3IgKHZhciBpPTA7aTx2aWRlb0Zvcm1hdHNHcm91cC5sZW5ndGg7aSsrKSB7CiAgICB2YXIgdmlkZW9Gb3JtYXRzRWxlbT12aWRlb0Zvcm1hdHNHcm91cFtpXS5zcGxpdChzZXAyKTsKICAgIHZhciB2aWRlb0Zvcm1hdHNQYWlyPW5ldyBBcnJheSgpOwogICAgZm9yICh2YXIgaj0wO2o8dmlkZW9Gb3JtYXRzRWxlbS5sZW5ndGg7aisrKSB7CiAgICAgIHZhciBwYWlyPXZpZGVvRm9ybWF0c0VsZW1bal0uc3BsaXQoc2VwMyk7CiAgICAgIGlmIChwYWlyLmxlbmd0aD09MikgewogICAgICAgIHZpZGVvRm9ybWF0c1BhaXJbcGFpclswXV09cGFpclsxXTsKICAgICAgfQogICAgfQogICAgaWYgKHZpZGVvRm9ybWF0c1BhaXJbJ3VybCddPT1udWxsKSBjb250aW51ZTsKICAgIHZhciB1cmw9dW5lc2NhcGUodW5lc2NhcGUodmlkZW9Gb3JtYXRzUGFpclsndXJsJ10pKS5yZXBsYWNlKC9cXFwvL2csJy8nKS5yZXBsYWNlKC9cXHUwMDI2L2csJyYnKTsKICAgIGlmICh2aWRlb0Zvcm1hdHNQYWlyWydpdGFnJ109PW51bGwpIGNvbnRpbnVlOwogICAgdmFyIGl0YWc9dmlkZW9Gb3JtYXRzUGFpclsnaXRhZyddOwogICAgdmFyIHNpZz12aWRlb0Zvcm1hdHNQYWlyWydzaWcnXXx8dmlkZW9Gb3JtYXRzUGFpclsnc2lnbmF0dXJlJ107CiAgICBpZiAoc2lnKSB7CiAgICAgIHVybD11cmwrJyZzaWduYXR1cmU9JytzaWc7CiAgICAgIHZpZGVvU2lnbmF0dXJlW2l0YWddPW51bGw7CiAgICB9IGVsc2UgaWYgKHZpZGVvRm9ybWF0c1BhaXJbJ3MnXSkgewogICAgICB1cmw9dXJsKycmc2lnbmF0dXJlPScrZGVjcnlwdFNpZ25hdHVyZSh2aWRlb0Zvcm1hdHNQYWlyWydzJ10pOwogICAgICB2aWRlb1NpZ25hdHVyZVtpdGFnXT12aWRlb0Zvcm1hdHNQYWlyWydzJ107CiAgICB9CiAgICBpZiAodXJsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigncmF0ZWJ5cGFzcycpPT0tMSkgeyAvLyBzcGVlZCB1cCBkb3dubG9hZCBmb3IgZGFzaAogICAgICB1cmw9dXJsKycmcmF0ZWJ5cGFzcz15ZXMnOwogICAgfQogICAgaWYgKHVybC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2h0dHAnKT09MCkgeyAvLyB2YWxpZGF0ZSBVUkwKICAgICAgdmlkZW9VUkxbaXRhZ109dXJsKycmdGl0bGU9Jyt2aWRlb1RpdGxlOwogICAgfQogIH0KICAgIAogIHZhciBzaG93Rm9ybWF0PW5ldyBBcnJheSgpOwogIGZvciAodmFyIGNhdGVnb3J5IGluIEZPUk1BVF9SVUxFKSB7CiAgICB2YXIgcnVsZT1GT1JNQVRfUlVMRVtjYXRlZ29yeV07CiAgICBmb3IgKHZhciBpbmRleCBpbiBGT1JNQVRfVFlQRSl7CiAgICAgIGlmIChGT1JNQVRfVFlQRVtpbmRleF09PWNhdGVnb3J5KSB7CiAgICAgICAgc2hvd0Zvcm1hdFtpbmRleF09KHJ1bGU9PSdhbGwnKTsKICAgICAgfQogICAgfQogICAgaWYgKHJ1bGU9PSdtYXgnKSB7CiAgICAgIGZvciAodmFyIGk9Rk9STUFUX09SREVSLmxlbmd0aC0xO2k+PTA7aS0tKSB7CiAgICAgICAgdmFyIGZvcm1hdD1GT1JNQVRfT1JERVJbaV07CiAgICAgICAgaWYgKEZPUk1BVF9UWVBFW2Zvcm1hdF09PWNhdGVnb3J5ICYmIHZpZGVvVVJMW2Zvcm1hdF0hPXVuZGVmaW5lZCkgewogICAgICAgICAgc2hvd0Zvcm1hdFtmb3JtYXRdPXRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgCiAgdmFyIGRhc2hQcmVmPWdldFByZWYoU1RPUkFHRV9EQVNIKTsKICBpZiAoZGFzaFByZWY9PScxJykgewogICAgU0hPV19EQVNIX0ZPUk1BVFM9dHJ1ZTsKICB9IGVsc2UgaWYgKGRhc2hQcmVmIT0nMCcpIHsKICAgIHNldFByZWYoU1RPUkFHRV9EQVNILCcwJyk7CiAgfQogIAogIHZhciBkb3dubG9hZENvZGVMaXN0PVtdOwogIGZvciAodmFyIGk9MDtpPEZPUk1BVF9PUkRFUi5sZW5ndGg7aSsrKSB7CiAgICB2YXIgZm9ybWF0PUZPUk1BVF9PUkRFUltpXTsKICAgIGlmIChmb3JtYXQ9PSczNycgJiYgdmlkZW9VUkxbZm9ybWF0XT09dW5kZWZpbmVkKSB7IC8vIGhhY2sgZm9yIGRhc2ggMTA4MHAKICAgICAgaWYgKHZpZGVvVVJMWycxMzcnXSkgewogICAgICAgZm9ybWF0PScxMzcnOwogICAgICB9CiAgICAgIHNob3dGb3JtYXRbZm9ybWF0XT1zaG93Rm9ybWF0WyczNyddOwogICAgfSBlbHNlIGlmIChmb3JtYXQ9PSczOCcgJiYgdmlkZW9VUkxbZm9ybWF0XT09dW5kZWZpbmVkKSB7IC8vIGhhY2sgZm9yIGRhc2ggNEsKICAgICAgaWYgKHZpZGVvVVJMWycxMzgnXSAmJiAhdmlkZW9VUkxbJzI2NiddKSB7CiAgICAgICBmb3JtYXQ9JzEzOCc7CiAgICAgIH0KICAgICAgc2hvd0Zvcm1hdFtmb3JtYXRdPXNob3dGb3JtYXRbJzM4J107CiAgICB9ICAgIAogICAgaWYgKCFTSE9XX0RBU0hfRk9STUFUUyAmJiBmb3JtYXQubGVuZ3RoPjIpIGNvbnRpbnVlOwogICAgaWYgKHZpZGVvVVJMW2Zvcm1hdF0hPXVuZGVmaW5lZCAmJiBGT1JNQVRfTEFCRUxbZm9ybWF0XSE9dW5kZWZpbmVkICYmIHNob3dGb3JtYXRbZm9ybWF0XSkgewogICAgICBkb3dubG9hZENvZGVMaXN0LnB1c2goe3VybDp2aWRlb1VSTFtmb3JtYXRdLHNpZzp2aWRlb1NpZ25hdHVyZVtmb3JtYXRdLGZvcm1hdDpmb3JtYXQsbGFiZWw6Rk9STUFUX0xBQkVMW2Zvcm1hdF19KTsKICAgICAgZGVidWcoJ0RZVkFNIC0gSW5mbzogaXRhZycrZm9ybWF0KycgdXJsOicrdmlkZW9VUkxbZm9ybWF0XSk7CiAgICB9CiAgfSAgCiAgCiAgaWYgKGRvd25sb2FkQ29kZUxpc3QubGVuZ3RoPT0wKSB7CiAgICBkZWJ1ZygnRFlWQU0gLSBFcnJvcjogTm8gZG93bmxvYWQgVVJMIGZvdW5kLiBQcm9iYWJseSBZb3VUdWJlIHVzZXMgZW5jcnlwdGVkIHN0cmVhbXMuJyk7CiAgICByZXR1cm47IC8vIG5vIGZvcm1hdAogIH0gCiAgICAKICAvLyBmaW5kIHBhcmVudCBjb250YWluZXIKICB2YXIgbmV3V2F0Y2hQYWdlPWZhbHNlOwogIHZhciBwYXJlbnRFbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXRjaDctYWN0aW9uLWJ1dHRvbnMnKTsKICBpZiAocGFyZW50RWxlbWVudD09bnVsbCkgewogICAgcGFyZW50RWxlbWVudD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2F0Y2g4LXNlY29uZGFyeS1hY3Rpb25zJyk7CiAgICBpZiAocGFyZW50RWxlbWVudD09bnVsbCkgewogICAgICBkZWJ1ZygnRFlWQU0gRXJyb3IgLSBObyBjb250YWluZXIgZm9yIGFkZGluZyB0aGUgZG93bmxvYWQgYnV0dG9uLiBZb3VUdWJlIG11c3QgaGF2ZSBjaGFuZ2VkIHRoZSBjb2RlLicpOwogICAgICByZXR1cm47CiAgICB9IGVsc2UgewogICAgICBuZXdXYXRjaFBhZ2U9dHJ1ZTsKICAgIH0KICB9CiAgCiAgLy8gZ2V0IGJ1dHRvbiBsYWJlbHMKICB2YXIgYnV0dG9uVGV4dD0oQlVUVE9OX1RFWFRbbGFuZ3VhZ2VdKT9CVVRUT05fVEVYVFtsYW5ndWFnZV06QlVUVE9OX1RFWFRbJ2VuJ107CiAgdmFyIGJ1dHRvbkxhYmVsPShCVVRUT05fVE9PTFRJUFtsYW5ndWFnZV0pP0JVVFRPTl9UT09MVElQW2xhbmd1YWdlXTpCVVRUT05fVE9PTFRJUFsnZW4nXTsKICAgIAogIC8vIGdlbmVyYXRlIGRvd25sb2FkIGNvZGUgZm9yIHJlZ3VsYXIgaW50ZXJmYWNlCiAgdmFyIG1haW5TcGFuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKCiAgaWYgKG5ld1dhdGNoUGFnZSkgewogICAgdmFyIHNwYW5JY29uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgIHNwYW5JY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAneXQtdWl4LWJ1dHRvbi1pY29uLXdyYXBwZXInKTsKICAgIHZhciBpbWFnZUljb249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICBpbWFnZUljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnLy9zLnl0aW1nLmNvbS95dC9pbWcvcGl4ZWwtdmZsM3o1V2ZXLmdpZicpOwogICAgaW1hZ2VJY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAneXQtdWl4LWJ1dHRvbi1pY29uJyk7CiAgICBpbWFnZUljb24uc2V0QXR0cmlidXRlKCdzdHlsZScsICd3aWR0aDoyMHB4O2hlaWdodDoyMHB4O2JhY2tncm91bmQtc2l6ZToyMHB4IDIwcHg7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFCRzBsRVFWUllSKzJXMFEzQ01BeEUyd2tZQWRpRUVXQURtSXh1QUNNd0NtekFCcENURW1SU083WVRRWCtDaEVDVjQzdDJuRjdHWWVIUHVMRCswQUt3Qy9EbldNQXAvTjVxaW1rQnVBZkJkUlRGLysyL0FWNlpZRlV4Vll1aWNBZm9IZWdkNkIzb0hmaFpCK0J5RitKeVY4RmtyQUI3NHBxSDNEVTVMM2lHb0JVUmhkVk9ESVFGNEVqRWtXTG1taFlBTE9RZ05JQmNISGtlNGJ1aHhYQUFhRm5hQWhxYlE1UUFPSEhrd2haOGJhbGt4MUlDQ2lFQldOWitDaXZkQjdSRUhJQzJaalpLMm9Xa2xERGRCMU5TZENkL0pzMlBxUU1wU0lLWVZjTThrRTZRQ3dEQk5SQ3FPQkpyVzBDTDhrQ1l4TDBBMWs2WXhXc0FOQWlYZUMyQUJPRVdid0hBV3J3eHB6Z2ttQS9KdElxbnhUT0VsbVBuamxrYzRBM0Z5a0FoQTQyQXh3QUFBQUJKUlU1RXJrSmdnZz09KTsnKTsKICAgIHNwYW5JY29uLmFwcGVuZENoaWxkKGltYWdlSWNvbik7CiAgICBtYWluU3Bhbi5hcHBlbmRDaGlsZChzcGFuSWNvbik7CiAgfQoKICB2YXIgc3BhbkJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgc3BhbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3l0LXVpeC1idXR0b24tY29udGVudCcpOwogIHNwYW5CdXR0b24uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYnV0dG9uVGV4dCsnICcpKTsKICBtYWluU3Bhbi5hcHBlbmRDaGlsZChzcGFuQnV0dG9uKTsKICAKICBpZiAoIW5ld1dhdGNoUGFnZSkgeyAvLyBvbGQgVUkKICAgIHZhciBpbWdCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICBpbWdCdXR0b24uc2V0QXR0cmlidXRlKCdjbGFzcycsICd5dC11aXgtYnV0dG9uLWFycm93Jyk7CiAgICBpbWdCdXR0b24uc2V0QXR0cmlidXRlKCdzcmMnLCAnLy9zLnl0aW1nLmNvbS95dC9pbWcvcGl4ZWwtdmZsM3o1V2ZXLmdpZicpOwogICAgbWFpblNwYW4uYXBwZW5kQ2hpbGQoaW1nQnV0dG9uKTsKICB9CgogIHZhciBsaXN0SXRlbXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb2wnKTsKICBsaXN0SXRlbXMuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5Om5vbmU7Jyk7CiAgbGlzdEl0ZW1zLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAneXQtdWl4LWJ1dHRvbi1tZW51Jyk7CiAgZm9yICh2YXIgaT0wO2k8ZG93bmxvYWRDb2RlTGlzdC5sZW5ndGg7aSsrKSB7CiAgICB2YXIgbGlzdEl0ZW09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsKICAgIHZhciBsaXN0TGluaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICBsaXN0TGluay5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3RleHQtZGVjb3JhdGlvbjpub25lOycpOwogICAgbGlzdExpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgZG93bmxvYWRDb2RlTGlzdFtpXS51cmwpOwogICAgbGlzdExpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIHZpZGVvVGl0bGUrJy4nK0ZPUk1BVF9UWVBFW2Rvd25sb2FkQ29kZUxpc3RbaV0uZm9ybWF0XSk7CiAgICB2YXIgbGlzdEJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICBsaXN0QnV0dG9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAneXQtdWl4LWJ1dHRvbi1tZW51LWl0ZW0nKTsKICAgIGxpc3RCdXR0b24uc2V0QXR0cmlidXRlKCdsb29wJywgaSsnJyk7CiAgICBsaXN0QnV0dG9uLnNldEF0dHJpYnV0ZSgnaWQnLCBMSVNUSVRFTV9JRCtkb3dubG9hZENvZGVMaXN0W2ldLmZvcm1hdCk7CiAgICBsaXN0QnV0dG9uLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRvd25sb2FkQ29kZUxpc3RbaV0ubGFiZWwpKTsKICAgIGxpc3RMaW5rLmFwcGVuZENoaWxkKGxpc3RCdXR0b24pOwogICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQobGlzdExpbmspOwogICAgbGlzdEl0ZW1zLmFwcGVuZENoaWxkKGxpc3RJdGVtKTsKICB9CiAgbWFpblNwYW4uYXBwZW5kQ2hpbGQobGlzdEl0ZW1zKTsKICB2YXIgYnV0dG9uRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBCVVRUT05fSUQpOwogIGlmIChuZXdXYXRjaFBhZ2UpIHsKICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd5dC11aXgtYnV0dG9uICB5dC11aXgtYnV0dG9uLXNpemUtZGVmYXVsdCB5dC11aXgtYnV0dG9uLW9wYWNpdHkgeXQtdWl4LXRvb2x0aXAnKTsKICB9IGVsc2UgeyAvLyBvbGQgVUkKICAgIGJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd5dC11aXgtYnV0dG9uIHl0LXVpeC10b29sdGlwIHl0LXVpeC1idXR0b24tZW1wdHkgeXQtdWl4LWJ1dHRvbi10ZXh0Jyk7CiAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbWFyZ2luLXRvcDo0cHg7IG1hcmdpbi1sZWZ0OicrKCh0ZXh0RGlyZWN0aW9uPT0nbGVmdCcpPzU6MTApKydweDsnKTsKICB9CiAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcC10ZXh0JywgYnV0dG9uTGFiZWwpOyAgCiAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7CiAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7CiAgYnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlO30sIGZhbHNlKTsKICBidXR0b25FbGVtZW50LmFwcGVuZENoaWxkKG1haW5TcGFuKTsKICB2YXIgY29udGFpbmVyU3Bhbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgY29udGFpbmVyU3Bhbi5zZXRBdHRyaWJ1dGUoJ2lkJywgQ09OVEFJTkVSX0lEKTsKICBjb250YWluZXJTcGFuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgJykpOwogIGNvbnRhaW5lclNwYW4uYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgLy8gYWRkIHRoZSBidXR0b24KICBpZiAoIW5ld1dhdGNoUGFnZSkgeyAvLyB3YXRjaDcKICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyU3Bhbik7CiAgfSBlbHNlIHsgLy8gd2F0Y2g4CiAgICBwYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShjb250YWluZXJTcGFuLCBwYXJlbnRFbGVtZW50LmZpcnN0Q2hpbGQpOwogIH0KICAgIAogIC8vIFJFUExBQ0VXSVRIIGlmICghaXNTaWduYXR1cmVVcGRhdGluZ1N0YXJ0ZWQpIHsKICAgIGZvciAodmFyIGk9MDtpPGRvd25sb2FkQ29kZUxpc3QubGVuZ3RoO2krKykgeyAKICAgICAgYWRkRmlsZVNpemUoZG93bmxvYWRDb2RlTGlzdFtpXS51cmwsIGRvd25sb2FkQ29kZUxpc3RbaV0uZm9ybWF0KTsKICAgIH0KICAvLyB9IAogIAogIGlmICh0eXBlb2YgR01fZG93bmxvYWQgIT09ICd1bmRlZmluZWQnKSB7CiAgICBmb3IgKHZhciBpPTA7aTxkb3dubG9hZENvZGVMaXN0Lmxlbmd0aDtpKyspIHsKICAgICAgdmFyIGRvd25sb2FkRk1UPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKExJU1RJVEVNX0lEK2Rvd25sb2FkQ29kZUxpc3RbaV0uZm9ybWF0KTsKICAgICAgdmFyIHVybD0oZG93bmxvYWRDb2RlTGlzdFtpXS51cmwpLnRvTG93ZXJDYXNlKCk7CiAgICAgIGlmICh1cmwuaW5kZXhPZignY2xlbj0nKT4wICYmIHVybC5pbmRleE9mKCdkdXI9Jyk+MCAmJiB1cmwuaW5kZXhPZignZ2lyPScpPjAKICAgICAgICAgICYmIHVybC5pbmRleE9mKCdsbXQ9Jyk+MCkgewogICAgICAgIGRvd25sb2FkRk1ULmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZG93bmxvYWRWaWRlb05hdGl2ZWx5LCBmYWxzZSk7CiAgICAgIH0KICAgIH0KICB9CiAgCiAgYWRkRnJvbU1hbmlmZXN0KCk7CiAgCiAgZnVuY3Rpb24gZG93bmxvYWRWaWRlb05hdGl2ZWx5KGUpIHsKICAgIHZhciBlbGVtPWUuY3VycmVudFRhcmdldDsKICAgIGUucmV0dXJuVmFsdWU9ZmFsc2U7ICAgIAogICAgaWYgKGUucHJldmVudERlZmF1bHQpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfQogICAgdmFyIGxvb3A9ZWxlbS5nZXRBdHRyaWJ1dGUoJ2xvb3AnKTsKICAgIGlmIChsb29wKSB7CiAgICAgIEdNX2Rvd25sb2FkKGRvd25sb2FkQ29kZUxpc3RbbG9vcF0udXJsLCB2aWRlb1RpdGxlKycuJytGT1JNQVRfVFlQRVtkb3dubG9hZENvZGVMaXN0W2xvb3BdLmZvcm1hdF0pOwogICAgfQogICAgcmV0dXJuIGZhbHNlOwogIH0KICAKICBmdW5jdGlvbiBhZGRGcm9tTWFuaWZlc3QoKSB7IC8vIGFkZCBEYXNoIFVSTHMgZnJvbSBtYW5pZmVzdCBmaWxlCiAgICB2YXIgZm9ybWF0cz1bJzEzNycsICcxMzgnLCAnMTQwJ107IC8vIDEzNz0xMDgwcCwgMTM4PTRrLCAxNDA9bTRhCiAgICB2YXIgaXNOZWNlc3Nhcnk9dHJ1ZTsKICAgIGZvciAodmFyIGk9MDtpPGZvcm1hdHMubGVuZ3RoO2krKykgewogICAgICBpZiAodmlkZW9VUkxbZm9ybWF0c1tpXV0pIHsKICAgICAgICBpc05lY2Vzc2FyeT1mYWxzZTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgaWYgKHZpZGVvTWFuaWZlc3RVUkwgJiYgU0hPV19EQVNIX0ZPUk1BVFMgJiYgaXNOZWNlc3NhcnkpIHsKICAgICAgdmFyIG1hdGNoU2lnPWZpbmRNYXRjaCh2aWRlb01hbmlmZXN0VVJMLCAvXC9zXC8oW2EtekEtWjAtOVwuXSspXC8vaSk7CiAgICAgIGlmIChtYXRjaFNpZykgewogICAgICAgIHZhciBkZWNyeXB0ZWRTaWc9ZGVjcnlwdFNpZ25hdHVyZShtYXRjaFNpZyk7CiAgICAgICAgaWYgKGRlY3J5cHRlZFNpZykgewogICAgICAgICAgdmlkZW9NYW5pZmVzdFVSTD12aWRlb01hbmlmZXN0VVJMLnJlcGxhY2UoJy9zLycrbWF0Y2hTaWcrJy8nLCcvc2lnbmF0dXJlLycrZGVjcnlwdGVkU2lnKycvJyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZpZGVvTWFuaWZlc3RVUkw9YWJzb2x1dGVVUkwodmlkZW9NYW5pZmVzdFVSTCk7CiAgICAgIGRlYnVnKCdEWVZBTSAtIEluZm86IG1hbmlmZXN0VVJMICcrdmlkZW9NYW5pZmVzdFVSTCk7CiAgICAgIGNyb3NzWG1sSHR0cFJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOidHRVQnLAogICAgICAgICAgdXJsOnZpZGVvTWFuaWZlc3RVUkwsIC8vIGNoZWNrIGlmIFVSTCBleGlzdHMKICAgICAgICAgIG9ubG9hZDpmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2UucmVhZHlTdGF0ZSA9PT0gNCAmJiByZXNwb25zZS5zdGF0dXMgPT09IDIwMCAmJiByZXNwb25zZS5yZXNwb25zZVRleHQpIHsKICAgICAgICAgICAgICBkZWJ1ZygnRFlWQU0gLSBJbmZvOiBtYW5pZXN0RmlsZUNvbnRlbnRzICcrcmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICB2YXIgbGFzdEZvcm1hdEZyb21MaXN0PWRvd25sb2FkQ29kZUxpc3RbZG93bmxvYWRDb2RlTGlzdC5sZW5ndGgtMV0uZm9ybWF0OwogICAgICAgICAgICAgIGRlYnVnKCdEWVZBTSAtIEluZm86IGxhc3Rmb3JtYXQ6ICcrbGFzdEZvcm1hdEZyb21MaXN0KTsKICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7aTxmb3JtYXRzLmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgICAgIGs9Zm9ybWF0c1tpXTsKICAgICAgICAgICAgICAgIGlmICh2aWRlb1VSTFtrXSB8fCBzaG93Rm9ybWF0W2tdPT1mYWxzZSkgY29udGludWU7CiAgICAgICAgICAgICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnPEJhc2VVUkw+KGh0dHBbXjxdK2l0YWdcXC8nK2srJ1tePF0rKTxcXC9CYXNlVVJMPicsJ2knKTsKICAgICAgICAgICAgICAgIHZhciBtYXRjaFVSTD1maW5kTWF0Y2gocmVzcG9uc2UucmVzcG9uc2VUZXh0LCByZWdleHApOwogICAgICAgICAgICAgICAgZGVidWcoJ0RZVkFNIC0gSW5mbzogbWF0Y2hVUkwgaXRhZz0gJytrKycgdXJsPSAnK21hdGNoVVJMKTsKICAgICAgICAgICAgICAgIGlmICghbWF0Y2hVUkwpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgbWF0Y2hVUkw9bWF0Y2hVUkwucmVwbGFjZSgvJmFtcFw7L2csJyYnKTsKICAgICAgICAgICAgICAgIC8vIC4uLgogICAgICAgICAgICAgICAgZG93bmxvYWRDb2RlTGlzdC5wdXNoKAogICAgICAgICAgICAgICAgICB7dXJsOm1hdGNoVVJMLHNpZzp2aWRlb1NpZ25hdHVyZVtrXSxmb3JtYXQ6ayxsYWJlbDpGT1JNQVRfTEFCRUxba119KTsKICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZEZNVD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChMSVNUSVRFTV9JRCtsYXN0Rm9ybWF0RnJvbUxpc3QpOwogICAgICAgICAgICAgICAgdmFyIGNsb25lPWRvd25sb2FkRk1ULnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgICAgICAgICBjbG9uZS5maXJzdENoaWxkLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCdpZCcsIExJU1RJVEVNX0lEK2spOwogICAgICAgICAgICAgICAgY2xvbmUuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBtYXRjaFVSTCk7CiAgICAgICAgICAgICAgICBkb3dubG9hZEZNVC5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChjbG9uZSk7CiAgICAgICAgICAgICAgICBkb3dubG9hZEZNVD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChMSVNUSVRFTV9JRCtrKTsKICAgICAgICAgICAgICAgIGRvd25sb2FkRk1ULmZpcnN0Q2hpbGQubm9kZVZhbHVlPUZPUk1BVF9MQUJFTFtrXTsKICAgICAgICAgICAgICAgIGFkZEZpbGVTaXplKG1hdGNoVVJMLCBrKTsKICAgICAgICAgICAgICAgIGxhc3RGb3JtYXRGcm9tTGlzdD1rOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSAKICAgICAgICB9KTsKICAgIH0gIAogIH0KICAKICBmdW5jdGlvbiBpbmplY3RTdHlsZShjb2RlKSB7CiAgICB2YXIgc3R5bGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgIHN0eWxlLnR5cGU9J3RleHQvY3NzJzsKICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvZGUpKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGUpOwogIH0KICAKICBmdW5jdGlvbiBpbmplY3RTY3JpcHQoY29kZSkgewogICAgdmFyIHNjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgIHNjcmlwdC50eXBlPSdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JzsKICAgIHNjcmlwdC50ZXh0Q29udGVudD1jb2RlOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHQpOwogIH0gICAgCiAgCiAgZnVuY3Rpb24gZGVidWcoc3RyKSB7CiAgICB2YXIgZGVidWdFbGVtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKERFQlVHX0lEKTsKICAgIGlmICghZGVidWdFbGVtKSB7CiAgICAgIGRlYnVnRWxlbT1jcmVhdGVIaWRkZW5FbGVtKCdkaXYnLCBERUJVR19JRCk7CiAgICB9CiAgICBkZWJ1Z0VsZW0uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RyKycgJykpOwogIH0KICAKICBmdW5jdGlvbiBjcmVhdGVIaWRkZW5FbGVtKHRhZywgaWQpIHsKICAgIHZhciBlbGVtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTsKICAgIGVsZW0uc2V0QXR0cmlidXRlKCdpZCcsIGlkKTsKICAgIGVsZW0uc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5Om5vbmU7Jyk7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW0pOwogICAgcmV0dXJuIGVsZW07CiAgfQogIAogIGZ1bmN0aW9uIGZpeFRyYW5zbGF0aW9ucyhsYW5ndWFnZSwgdGV4dERpcmVjdGlvbikgeyAgCiAgICBpZiAoL15hZnxiZ3xibnxjYXxjc3xkZXxlbHxlc3xldHxldXxmYXxmaXxmaWx8ZnJ8Z2x8aGl8aHJ8aHV8aWR8aXR8aXd8a258bHZ8bHR8bWx8bXJ8bXN8bmx8cGx8cm98cnV8c2x8c2t8c3J8c3d8dGF8dGV8dGh8dWt8dXJ8dml8enUkLy50ZXN0KGxhbmd1YWdlKSkgeyAvLyBmaXggaW50ZXJuYXRpb25hbCBVSQogICAgICB2YXIgbGlrZUJ1dHRvbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2F0Y2gtbGlrZScpOwogICAgICBpZiAobGlrZUJ1dHRvbikgewogICAgICAgIHZhciBzcGFuRWxlbWVudHM9bGlrZUJ1dHRvbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd5dC11aXgtYnV0dG9uLWNvbnRlbnQnKTsKICAgICAgICBpZiAoc3BhbkVsZW1lbnRzKSB7CiAgICAgICAgICBzcGFuRWxlbWVudHNbMF0uc3R5bGUuZGlzcGxheT0nbm9uZSc7IC8vIGhpZGUgbGlrZSB0ZXh0CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBtYXJnaW5QaXhlbHM9MTA7CiAgICAgIGlmICgvXmJnfGNhfGNzfGVsfGV1fGhyfGl0fG1sfG1zfHBsfHNsfHN3fHRlJC8udGVzdChsYW5ndWFnZSkpIHsKICAgICAgICBtYXJnaW5QaXhlbHM9MTsKICAgICAgfQogICAgICBpbmplY3RTdHlsZSgnI3dhdGNoNy1zZWNvbmRhcnktYWN0aW9ucyAueXQtdWl4LWJ1dHRvbnttYXJnaW4tJyt0ZXh0RGlyZWN0aW9uKyc6JyttYXJnaW5QaXhlbHMrJ3B4IWltcG9ydGFudH0nKTsKICAgIH0KICB9CiAgCiAgZnVuY3Rpb24gZmluZE1hdGNoKHRleHQsIHJlZ2V4cCkgewogICAgdmFyIG1hdGNoZXM9dGV4dC5tYXRjaChyZWdleHApOwogICAgcmV0dXJuIChtYXRjaGVzKT9tYXRjaGVzWzFdOm51bGw7CiAgfQogIAogIGZ1bmN0aW9uIGlzU3RyaW5nKHMpIHsKICAgIHJldHVybiAodHlwZW9mIHM9PT0nc3RyaW5nJyB8fCBzIGluc3RhbmNlb2YgU3RyaW5nKTsKICB9CiAgICAKICBmdW5jdGlvbiBpc0ludGVnZXIobikgewogICAgcmV0dXJuICh0eXBlb2Ygbj09PSdudW1iZXInICYmIG4lMT09MCk7CiAgfQogIAogIGZ1bmN0aW9uIGFic29sdXRlVVJMKHVybCkgewogICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICByZXR1cm4gbGluay5ocmVmOwogIH0KICAKICBmdW5jdGlvbiBnZXRQcmVmKG5hbWUpIHsgLy8gY3Jvc3MtYnJvd3NlciBHTV9nZXRWYWx1ZQogICAgdmFyIGE9JycsIGI9Jyc7CiAgICB0cnkge2E9dHlwZW9mIEdNX2dldFZhbHVlLnRvU3RyaW5nOyBiPUdNX2dldFZhbHVlLnRvU3RyaW5nKCl9IGNhdGNoKGUpe30gICAgCiAgICBpZiAodHlwZW9mIEdNX2dldFZhbHVlID09PSAnZnVuY3Rpb24nICYmIAogICAgKGEgPT09ICd1bmRlZmluZWQnIHx8IGIuaW5kZXhPZignbm90IHN1cHBvcnRlZCcpID09PSAtMSkpIHsKICAgICAgcmV0dXJuIEdNX2dldFZhbHVlKG5hbWUsIG51bGwpOyAvLyBHcmVhc2Vtb25rZXksIFRhbXBlcm1vbmtleSwgRmlyZWZveCBleHRlbnNpb24KICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGxzPW51bGw7CiAgICAgICAgdHJ5IHtscz13aW5kb3cubG9jYWxTdG9yYWdlfHxudWxsfSBjYXRjaChlKXt9CiAgICAgICAgaWYgKGxzKSB7CiAgICAgICAgICByZXR1cm4gbHMuZ2V0SXRlbShuYW1lKTsgLy8gQ2hyb21lIHNjcmlwdCwgT3BlcmEgZXh0ZW5zaW9ucwogICAgICAgIH0KICAgIH0KICAgIHJldHVybjsKICB9CiAgCiAgZnVuY3Rpb24gc2V0UHJlZihuYW1lLCB2YWx1ZSkgeyAvLyAgY3Jvc3MtYnJvd3NlciBHTV9zZXRWYWx1ZQogICAgdmFyIGE9JycsIGI9Jyc7CiAgICB0cnkge2E9dHlwZW9mIEdNX3NldFZhbHVlLnRvU3RyaW5nOyBiPUdNX3NldFZhbHVlLnRvU3RyaW5nKCl9IGNhdGNoKGUpe30gICAgCiAgICBpZiAodHlwZW9mIEdNX3NldFZhbHVlID09PSAnZnVuY3Rpb24nICYmIAogICAgKGEgPT09ICd1bmRlZmluZWQnIHx8IGIuaW5kZXhPZignbm90IHN1cHBvcnRlZCcpID09PSAtMSkpIHsKICAgICAgR01fc2V0VmFsdWUobmFtZSwgdmFsdWUpOyAvLyBHcmVhc2Vtb25rZXksIFRhbXBlcm1vbmtleSwgRmlyZWZveCBleHRlbnNpb24KICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGxzPW51bGw7CiAgICAgICAgdHJ5IHtscz13aW5kb3cubG9jYWxTdG9yYWdlfHxudWxsfSBjYXRjaChlKXt9CiAgICAgICAgaWYgKGxzKSB7CiAgICAgICAgICByZXR1cm4gbHMuc2V0SXRlbShuYW1lLCB2YWx1ZSk7IC8vIENocm9tZSBzY3JpcHQsIE9wZXJhIGV4dGVuc2lvbnMKICAgICAgICB9CiAgICB9CiAgfQogIAogIGZ1bmN0aW9uIGNyb3NzWG1sSHR0cFJlcXVlc3QoZGV0YWlscykgeyAvLyBjcm9zcy1icm93c2VyIEdNX3htbGh0dHBSZXF1ZXN0CiAgICBpZiAodHlwZW9mIEdNX3htbGh0dHBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nKSB7IC8vIEdyZWFzZW1vbmtleSwgVGFtcGVybW9ua2V5LCBGaXJlZm94IGV4dGVuc2lvbiwgQ2hyb21lIHNjcmlwdAogICAgICBHTV94bWxodHRwUmVxdWVzdChkZXRhaWxzKTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdy5vcGVyYSAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm9wZXJhICYmIHR5cGVvZiBvcGVyYS5leHRlbnNpb24gIT09ICd1bmRlZmluZWQnICYmIAogICAgICAgICAgICAgICB0eXBlb2Ygb3BlcmEuZXh0ZW5zaW9uLnBvc3RNZXNzYWdlICE9PSAndW5kZWZpbmVkJykgeyAvLyBPcGVyYSAxMiBleHRlbnNpb24KICAgICAgICB2YXIgaW5kZXg9b3BlcmFUYWJsZS5sZW5ndGg7CiAgICAgICAgb3BlcmEuZXh0ZW5zaW9uLnBvc3RNZXNzYWdlKHsnYWN0aW9uJzoneGhyLScraW5kZXgsICd1cmwnOmRldGFpbHMudXJsLCAnbWV0aG9kJzpkZXRhaWxzLm1ldGhvZH0pOwogICAgICAgIG9wZXJhVGFibGVbaW5kZXhdPWRldGFpbHM7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cub3BlcmEgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJykgeyAvLyBPcGVyYSAxNSsgZXh0ZW5zaW9uCiAgICAgICAgdmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCkgewogICAgICAgICAgICBpZiAoZGV0YWlsc1snb25sb2FkJ10pIHsKICAgICAgICAgICAgICBkZXRhaWxzWydvbmxvYWQnXSh4aHIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHhoci5vcGVuKGRldGFpbHMubWV0aG9kLCBkZXRhaWxzLnVybCwgdHJ1ZSk7CiAgICAgICAgeGhyLnNlbmQoKTsKICAgIH0KICB9CiAgIAogIGZ1bmN0aW9uIGFkZEZpbGVTaXplKHVybCwgZm9ybWF0KSB7CiAgCiAgICBmdW5jdGlvbiB1cGRhdGVWaWRlb0xhYmVsKHNpemUsIGZvcm1hdCkgewogICAgICB2YXIgZWxlbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChMSVNUSVRFTV9JRCtmb3JtYXQpOwogICAgICBpZiAoZWxlbSkgewogICAgICAgIHNpemU9cGFyc2VJbnQoc2l6ZSwxMCk7CiAgICAgICAgaWYgKHNpemU+PTEwNzM3NDE4MjQpIHsKICAgICAgICAgIHNpemU9cGFyc2VGbG9hdCgoc2l6ZS8xMDczNzQxODI0KS50b0ZpeGVkKDEpKSsnIEdCJzsKICAgICAgICB9IGVsc2UgaWYgKHNpemU+PTEwNDg1NzYpIHsKICAgICAgICAgIHNpemU9cGFyc2VGbG9hdCgoc2l6ZS8xMDQ4NTc2KS50b0ZpeGVkKDEpKSsnIE1CJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2l6ZT1wYXJzZUZsb2F0KChzaXplLzEwMjQpLnRvRml4ZWQoMSkpKycgS0InOwogICAgICAgIH0KICAgICAgICBpZiAoZWxlbS5jaGlsZE5vZGVzLmxlbmd0aD4xKSB7CiAgICAgICAgICAgIGVsZW0ubGFzdENoaWxkLm5vZGVWYWx1ZT0nICgnK3NpemUrJyknOwogICAgICAgIH0gZWxzZSBpZiAoZWxlbS5jaGlsZE5vZGVzLmxlbmd0aD09MSkgewogICAgICAgICAgICBlbGVtLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgKCcrc2l6ZSsnKScpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgICAgICAKICAgIHZhciBtYXRjaFNpemU9ZmluZE1hdGNoKHVybCwgL1smXD9dY2xlbj0oWzAtOV0rKSYvaSk7CiAgICBpZiAobWF0Y2hTaXplKSB7CiAgICAgIHVwZGF0ZVZpZGVvTGFiZWwobWF0Y2hTaXplLCBmb3JtYXQpOwogICAgfSBlbHNlIHsKICAgICAgdHJ5IHsKICAgICAgICBjcm9zc1htbEh0dHBSZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDonSEVBRCcsCiAgICAgICAgICB1cmw6dXJsLAogICAgICAgICAgb25sb2FkOmZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZWFkeVN0YXRlID09IDQgJiYgcmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgeyAvLyBhZGQgc2l6ZQogICAgICAgICAgICAgIHZhciBzaXplPTA7CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5nZXRSZXNwb25zZUhlYWRlciA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICAgICAgc2l6ZT1yZXNwb25zZS5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1sZW5ndGgnKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnJlc3BvbnNlSGVhZGVycykgewogICAgICAgICAgICAgICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnXkNvbnRlbnRcLWxlbmd0aDogKC4qKSQnLCdpbScpOwogICAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSByZWdleHAuZXhlYyhyZXNwb25zZS5yZXNwb25zZUhlYWRlcnMpOwogICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICBzaXplPW1hdGNoWzFdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChzaXplKSB7CiAgICAgICAgICAgICAgICB1cGRhdGVWaWRlb0xhYmVsKHNpemUsIGZvcm1hdCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2goZSkgeyB9CiAgICB9CiAgfQogIAogIGZ1bmN0aW9uIGZpbmRTaWduYXR1cmVDb2RlKHNvdXJjZUNvZGUpIHsKICAgIGRlYnVnKCdEWVZBTSAtIEluZm86IHNpZ25hdHVyZSBzdGFydCAnK2dldFByZWYoU1RPUkFHRV9DT0RFKSk7CiAgICB2YXIgc2lnbmF0dXJlRnVuY3Rpb25OYW1lID0gCiAgICBmaW5kTWF0Y2goc291cmNlQ29kZSwgCiAgICAvXC5zZXRccypcKCJzaWduYXR1cmUiXHMqLFxzKihbYS16QS1aMC05XyRdW1x3JF0qKVwoLykKICAgIHx8IGZpbmRNYXRjaChzb3VyY2VDb2RlLCAKICAgIC9cLnNpZ1xzKlx8XHxccyooW2EtekEtWjAtOV8kXVtcdyRdKilcKC8pCiAgICB8fCBmaW5kTWF0Y2goc291cmNlQ29kZSwgCiAgICAvXC5zaWduYXR1cmVccyo9XHMqKFthLXpBLVpfJF1bXHckXSopXChbYS16QS1aXyRdW1x3JF0qXCkvKTsgLy9vbGQKICAgIGlmIChzaWduYXR1cmVGdW5jdGlvbk5hbWUgPT0gbnVsbCkgcmV0dXJuIHNldFByZWYoU1RPUkFHRV9DT0RFLCAnZXJyb3InKTsKICAgIHNpZ25hdHVyZUZ1bmN0aW9uTmFtZT1zaWduYXR1cmVGdW5jdGlvbk5hbWUucmVwbGFjZSgnJCcsJ1xcJCcpOyAgICAKICAgIHZhciByZWdDb2RlID0gbmV3IFJlZ0V4cChzaWduYXR1cmVGdW5jdGlvbk5hbWUgKyAnXFxzKj1cXHMqZnVuY3Rpb24nICsKICAgICdcXHMqXFwoW1xcdyRdKlxcKVxccyp7W1xcdyRdKj1bXFx3JF0qXFwuc3BsaXRcXCgiIlxcKTtcbiooLispO3JldHVybiBbXFx3JF0qXFwuam9pbicpOwogICAgdmFyIHJlZ0NvZGUyID0gbmV3IFJlZ0V4cCgnZnVuY3Rpb24gXFxzKicgKyBzaWduYXR1cmVGdW5jdGlvbk5hbWUgKwogICAgJ1xccypcXChbXFx3JF0qXFwpXFxzKntbXFx3JF0qPVtcXHckXSpcXC5zcGxpdFxcKCIiXFwpO1xuKiguKyk7cmV0dXJuIFtcXHckXSpcXC5qb2luJyk7ICAgIAogICAgdmFyIGZ1bmN0aW9uQ29kZSA9IGZpbmRNYXRjaChzb3VyY2VDb2RlLCByZWdDb2RlKSB8fCBmaW5kTWF0Y2goc291cmNlQ29kZSwgcmVnQ29kZTIpOwogICAgZGVidWcoJ0RZVkFNIC0gSW5mbzogc2lnbmF0dXJlZnVuY3Rpb24gJyArIHNpZ25hdHVyZUZ1bmN0aW9uTmFtZSArICcgLS0gJyArIGZ1bmN0aW9uQ29kZSk7ICAgICAgICAgICAgCiAgICBpZiAoZnVuY3Rpb25Db2RlID09IG51bGwpIHJldHVybiBzZXRQcmVmKFNUT1JBR0VfQ09ERSwgJ2Vycm9yJyk7CiAgICAKICAgIHZhciByZXZlcnNlRnVuY3Rpb25OYW1lID0gZmluZE1hdGNoKHNvdXJjZUNvZGUsIAogICAgLyhbXHckXSopXHMqOlxzKmZ1bmN0aW9uXHMqXChccypbXHckXSpccypcKVxzKntccyooPzpyZXR1cm5ccyopP1tcdyRdKlwucmV2ZXJzZVxzKlwoXHMqXClccyp9Lyk7CiAgICBkZWJ1ZygnRFlWQU0gLSBJbmZvOiByZXZlcnNlZnVuY3Rpb24gJyArIHJldmVyc2VGdW5jdGlvbk5hbWUpOwogICAgaWYgKHJldmVyc2VGdW5jdGlvbk5hbWUpIHJldmVyc2VGdW5jdGlvbk5hbWU9cmV2ZXJzZUZ1bmN0aW9uTmFtZS5yZXBsYWNlKCckJywnXFwkJyk7ICAgICAgICAKICAgIHZhciBzbGljZUZ1bmN0aW9uTmFtZSA9IGZpbmRNYXRjaChzb3VyY2VDb2RlLCAKICAgIC8oW1x3JF0qKVxzKjpccypmdW5jdGlvblxzKlwoXHMqW1x3JF0qXHMqLFxzKltcdyRdKlxzKlwpXHMqe1xzKig/OnJldHVyblxzKik/W1x3JF0qXC4oPzpzbGljZXxzcGxpY2UpXCguK1wpXHMqfS8pOwogICAgZGVidWcoJ0RZVkFNIC0gSW5mbzogc2xpY2VmdW5jdGlvbiAnICsgc2xpY2VGdW5jdGlvbk5hbWUpOwogICAgaWYgKHNsaWNlRnVuY3Rpb25OYW1lKSBzbGljZUZ1bmN0aW9uTmFtZT1zbGljZUZ1bmN0aW9uTmFtZS5yZXBsYWNlKCckJywnXFwkJyk7ICAgIAogICAgCiAgICB2YXIgcmVnU2xpY2UgPSBuZXcgUmVnRXhwKCdcXC4oPzonKydzbGljZScrKHNsaWNlRnVuY3Rpb25OYW1lPyd8JytzbGljZUZ1bmN0aW9uTmFtZTonJykrCiAgICAnKVxccypcXChcXHMqKD86W2EtekEtWl8kXVtcXHckXSpcXHMqLCk/XFxzKihbMC05XSspXFxzKlxcKScpOyAvLyAuc2xpY2UoNSkgc2F1IC5IZihhLDUpCiAgICB2YXIgcmVnUmV2ZXJzZSA9IG5ldyBSZWdFeHAoJ1xcLig/OicrJ3JldmVyc2UnKyhyZXZlcnNlRnVuY3Rpb25OYW1lPyd8JytyZXZlcnNlRnVuY3Rpb25OYW1lOicnKSsKICAgICcpXFxzKlxcKFteXFwpXSpcXCknKTsgIC8vIC5yZXZlcnNlKCkgc2F1IC5HZihhLDQ1KQogICAgdmFyIHJlZ1N3YXAgPSBuZXcgUmVnRXhwKCdbXFx3JF0rXFxzKlxcKFxccypbXFx3JF0rXFxzKixcXHMqKFswLTldKylcXHMqXFwpJyk7CiAgICB2YXIgcmVnSW5saW5lID0gbmV3IFJlZ0V4cCgnW1xcdyRdK1xcWzBcXF1cXHMqPVxccypbXFx3JF0rXFxbKFswLTldKylcXHMqJVxccypbXFx3JF0rXFwubGVuZ3RoXFxdJyk7CiAgICB2YXIgZnVuY3Rpb25Db2RlUGllY2VzPWZ1bmN0aW9uQ29kZS5zcGxpdCgnOycpOwogICAgdmFyIGRlY29kZUFycmF5PVtdOwogICAgZm9yICh2YXIgaT0wOyBpPGZ1bmN0aW9uQ29kZVBpZWNlcy5sZW5ndGg7IGkrKykgewogICAgICBmdW5jdGlvbkNvZGVQaWVjZXNbaV09ZnVuY3Rpb25Db2RlUGllY2VzW2ldLnRyaW0oKTsKICAgICAgdmFyIGNvZGVMaW5lPWZ1bmN0aW9uQ29kZVBpZWNlc1tpXTsKICAgICAgaWYgKGNvZGVMaW5lLmxlbmd0aD4wKSB7CiAgICAgICAgdmFyIGFyclNsaWNlPWNvZGVMaW5lLm1hdGNoKHJlZ1NsaWNlKTsKICAgICAgICB2YXIgYXJyUmV2ZXJzZT1jb2RlTGluZS5tYXRjaChyZWdSZXZlcnNlKTsKICAgICAgICBkZWJ1ZyhpKyc6ICcrY29kZUxpbmUrJyAtLScrKGFyclNsaWNlPycgc2xpY2UgbGVuZ3RoICcrYXJyU2xpY2UubGVuZ3RoOicnKSArJyAnKyhhcnJSZXZlcnNlPydyZXZlcnNlJzonJykpOwogICAgICAgIGlmIChhcnJTbGljZSAmJiBhcnJTbGljZS5sZW5ndGggPj0gMikgeyAvLyBzbGljZQogICAgICAgIHZhciBzbGljZT1wYXJzZUludChhcnJTbGljZVsxXSwgMTApOwogICAgICAgIGlmIChpc0ludGVnZXIoc2xpY2UpKXsgCiAgICAgICAgICBkZWNvZGVBcnJheS5wdXNoKC1zbGljZSk7CiAgICAgICAgfSBlbHNlIHJldHVybiBzZXRQcmVmKFNUT1JBR0VfQ09ERSwgJ2Vycm9yJyk7CiAgICAgIH0gZWxzZSBpZiAoYXJyUmV2ZXJzZSAmJiBhcnJSZXZlcnNlLmxlbmd0aCA+PSAxKSB7IC8vIHJldmVyc2UKICAgICAgICBkZWNvZGVBcnJheS5wdXNoKDApOwogICAgICB9IGVsc2UgaWYgKGNvZGVMaW5lLmluZGV4T2YoJ1swXScpID49IDApIHsgLy8gaW5saW5lIHN3YXAKICAgICAgICAgIGlmIChpKzI8ZnVuY3Rpb25Db2RlUGllY2VzLmxlbmd0aCAmJgogICAgICAgICAgZnVuY3Rpb25Db2RlUGllY2VzW2krMV0uaW5kZXhPZignLmxlbmd0aCcpID49IDAgJiYKICAgICAgICAgIGZ1bmN0aW9uQ29kZVBpZWNlc1tpKzFdLmluZGV4T2YoJ1swXScpID49IDApIHsKICAgICAgICAgICAgdmFyIGlubGluZT1maW5kTWF0Y2goZnVuY3Rpb25Db2RlUGllY2VzW2krMV0sIHJlZ0lubGluZSk7CiAgICAgICAgICAgIGlubGluZT1wYXJzZUludChpbmxpbmUsIDEwKTsKICAgICAgICAgICAgZGVjb2RlQXJyYXkucHVzaChpbmxpbmUpOwogICAgICAgICAgICBpKz0yOwogICAgICAgICAgfSBlbHNlIHJldHVybiBzZXRQcmVmKFNUT1JBR0VfQ09ERSwgJ2Vycm9yJyk7CiAgICAgIH0gZWxzZSBpZiAoY29kZUxpbmUuaW5kZXhPZignLCcpID49IDApIHsgLy8gc3dhcAogICAgICAgIHZhciBzd2FwPWZpbmRNYXRjaChjb2RlTGluZSwgcmVnU3dhcCk7ICAgICAgCiAgICAgICAgc3dhcD1wYXJzZUludChzd2FwLCAxMCk7CiAgICAgICAgaWYgKGlzSW50ZWdlcihzd2FwKSAmJiBzd2FwPjApewogICAgICAgICAgZGVjb2RlQXJyYXkucHVzaChzd2FwKTsKICAgICAgICB9IGVsc2UgcmV0dXJuIHNldFByZWYoU1RPUkFHRV9DT0RFLCAnZXJyb3InKTsKICAgICAgfSBlbHNlIHJldHVybiBzZXRQcmVmKFNUT1JBR0VfQ09ERSwgJ2Vycm9yJyk7CiAgICAgIH0KICAgIH0KICAgIAogICAgaWYgKGRlY29kZUFycmF5KSB7CiAgICAgIHNldFByZWYoU1RPUkFHRV9VUkwsIHNjcmlwdFVSTCk7CiAgICAgIHNldFByZWYoU1RPUkFHRV9DT0RFLCBkZWNvZGVBcnJheS50b1N0cmluZygpKTsKICAgICAgREVDT0RFX1JVTEU9ZGVjb2RlQXJyYXk7CiAgICAgIGRlYnVnKCdEWVZBTSAtIEluZm86IHNpZ25hdHVyZSAnK2RlY29kZUFycmF5LnRvU3RyaW5nKCkrJyAnK3NjcmlwdFVSTCk7CiAgICAgIC8vIHVwZGF0ZSBkb3dubG9hZCBsaW5rcyBhbmQgYWRkIGZpbGUgc2l6ZXMKICAgICAgZm9yICh2YXIgaT0wO2k8ZG93bmxvYWRDb2RlTGlzdC5sZW5ndGg7aSsrKSB7ICAgICAgICAKICAgICAgICB2YXIgZWxlbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChMSVNUSVRFTV9JRCtkb3dubG9hZENvZGVMaXN0W2ldLmZvcm1hdCk7CiAgICAgICAgdmFyIHVybD1kb3dubG9hZENvZGVMaXN0W2ldLnVybDsKICAgICAgICB2YXIgc2lnPWRvd25sb2FkQ29kZUxpc3RbaV0uc2lnOwogICAgICAgIGlmIChlbGVtICYmIHVybCAmJiBzaWcpIHsKICAgICAgICAgIHVybD11cmwucmVwbGFjZSgvXCZzaWduYXR1cmU9W1x3XC5dKy8sICcmc2lnbmF0dXJlPScrZGVjcnlwdFNpZ25hdHVyZShzaWcpKTsKICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1cmwpOwogICAgICAgICAgYWRkRmlsZVNpemUodXJsLCBkb3dubG9hZENvZGVMaXN0W2ldLmZvcm1hdCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogIAogIGZ1bmN0aW9uIGlzVmFsaWRTaWduYXR1cmVDb2RlKGFycikgeyAvLyB2YWxpZCB2YWx1ZXM6ICc1LC0zLDAsMiw1JywgJ2Vycm9yJwogICAgaWYgKCFhcnIpIHJldHVybiBmYWxzZTsKICAgIGlmIChhcnI9PSdlcnJvcicpIHJldHVybiB0cnVlOwogICAgYXJyPWFyci5zcGxpdCgnLCcpOwogICAgZm9yICh2YXIgaT0wO2k8YXJyLmxlbmd0aDtpKyspIHsKICAgICAgaWYgKCFpc0ludGVnZXIocGFyc2VJbnQoYXJyW2ldLDEwKSkpIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KICAKICBmdW5jdGlvbiBmZXRjaFNpZ25hdHVyZVNjcmlwdChzY3JpcHRVUkwpIHsKICAgIHZhciBzdG9yYWdlVVJMPWdldFByZWYoU1RPUkFHRV9VUkwpOwogICAgdmFyIHN0b3JhZ2VDb2RlPWdldFByZWYoU1RPUkFHRV9DT0RFKTsKICAgIGlmICghKC8sMCx8XjAsfCwwJHxcLS8udGVzdChzdG9yYWdlQ29kZSkpKSBzdG9yYWdlQ29kZT1udWxsOyAvLyBoYWNrIGZvciBvbmx5IHBvc2l0aXZlIGl0ZW1zCiAgICBpZiAoc3RvcmFnZUNvZGUgJiYgaXNWYWxpZFNpZ25hdHVyZUNvZGUoc3RvcmFnZUNvZGUpICYmIHN0b3JhZ2VVUkwgJiYKICAgICAgICBzY3JpcHRVUkw9PWFic29sdXRlVVJMKHN0b3JhZ2VVUkwpKSByZXR1cm47CiAgICB0cnkgewogICAgICBkZWJ1ZygnRFlWQU0gZmV0Y2ggJytzY3JpcHRVUkwpOwogICAgICBpc1NpZ25hdHVyZVVwZGF0aW5nU3RhcnRlZD10cnVlOyAgICAKICAgICAgY3Jvc3NYbWxIdHRwUmVxdWVzdCh7CiAgICAgICAgbWV0aG9kOidHRVQnLAogICAgICAgIHVybDpzY3JpcHRVUkwsCiAgICAgICAgb25sb2FkOmZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICBkZWJ1ZygnRFlWQU0gZmV0Y2ggc3RhdHVzICcrcmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgICAgIGlmIChyZXNwb25zZS5yZWFkeVN0YXRlID09PSA0ICYmIHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkgewogICAgICAgICAgICBmaW5kU2lnbmF0dXJlQ29kZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgfQogICAgICAgIH0gCiAgICAgIH0pOwogICAgfSBjYXRjaChlKSB7IH0KICB9CiAgCiAgZnVuY3Rpb24gZ2V0RGVjb2RlUnVsZXMocnVsZXMpIHsKICAgIHZhciBzdG9yYWdlQ29kZT1nZXRQcmVmKFNUT1JBR0VfQ09ERSk7ICAgIAogICAgaWYgKHN0b3JhZ2VDb2RlICYmIHN0b3JhZ2VDb2RlIT0nZXJyb3InICYmIGlzVmFsaWRTaWduYXR1cmVDb2RlKHN0b3JhZ2VDb2RlKSkgewogICAgICB2YXIgYXJyPXN0b3JhZ2VDb2RlLnNwbGl0KCcsJyk7CiAgICAgIGZvciAodmFyIGk9MDsgaTxhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBhcnJbaV09cGFyc2VJbnQoYXJyW2ldLCAxMCk7CiAgICAgIH0KICAgICAgcnVsZXM9YXJyOwogICAgICBkZWJ1ZygnRFlWQU0gLSBJbmZvOiBzaWduYXR1cmUgJythcnIudG9TdHJpbmcoKSsnICcrc2NyaXB0VVJMKTsKICAgIH0KICAgIHJldHVybiBydWxlczsKICB9CiAgCiAgZnVuY3Rpb24gZGVjcnlwdFNpZ25hdHVyZShzaWcpIHsKICAgIGZ1bmN0aW9uIHN3YXAoYSxiKXt2YXIgYz1hWzBdO2FbMF09YVtiJWEubGVuZ3RoXTthW2JdPWM7cmV0dXJuIGF9OwogICAgZnVuY3Rpb24gZGVjb2RlKHNpZywgYXJyKSB7IC8vIGVuY29kZWQgZGVjcnlwdGlvbgogICAgICBpZiAoIWlzU3RyaW5nKHNpZykpIHJldHVybiBudWxsOwogICAgICB2YXIgc2lnQT1zaWcuc3BsaXQoJycpOwogICAgICBmb3IgKHZhciBpPTA7aTxhcnIubGVuZ3RoO2krKykgewogICAgICAgIHZhciBhY3Q9YXJyW2ldOwogICAgICAgIGlmICghaXNJbnRlZ2VyKGFjdCkpIHJldHVybiBudWxsOwogICAgICAgIHNpZ0E9KGFjdD4wKT9zd2FwKHNpZ0EsIGFjdCk6KChhY3Q9PTApP3NpZ0EucmV2ZXJzZSgpOnNpZ0Euc2xpY2UoLWFjdCkpOwogICAgICB9CiAgICAgIHZhciByZXN1bHQ9c2lnQS5qb2luKCcnKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIAogICAgaWYgKHNpZz09bnVsbCkgcmV0dXJuICcnOyAgICAKICAgIHZhciBhcnI9REVDT0RFX1JVTEU7CiAgICBpZiAoYXJyKSB7CiAgICAgIHZhciBzaWcyPWRlY29kZShzaWcsIGFycik7CiAgICAgIGlmIChzaWcyKSByZXR1cm4gc2lnMjsKICAgIH0gZWxzZSB7CiAgICAgIHNldFByZWYoU1RPUkFHRV9VUkwsICcnKTsKICAgICAgc2V0UHJlZihTVE9SQUdFX0NPREUsICcnKTsKICAgIH0KICAgIHJldHVybiBzaWc7IAogIH0gIAogICAgICAKICB9CiAKfSkoKTs="},{"name":"My Novel Reader","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":true,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http://read.qidian.com/BookReader/vol,*,*.aspx","*/List.htm","*/List.html","*/List.shtml","*/index.htm","*/index.html","*/index.shtml","*/Default.htm","*/Default.html","*/Default.shtml"],"orig_includes":["http://read.qidian.com/*,*.aspx","http://readbook.qidian.com/bookreader/*,*.html","http://read.qidian.com/BookReaderOld/*,*.aspx","http://read.qidian.com/BookReader/*,*.aspx","http://wwwploy.qidian.com/BookReader/*,*.aspx","http://free.qidian.com/Free/ReadChapter.aspx?*","http://www.qdmm.com/BookReader/*,*.aspx","http://www.qdwenxue.com/BookReader/*,*.aspx","http://chuangshi.qq.com/read/bookreader/*.html*","http://chuangshi.qq.com/*bk/*/*-r-*.html*","http://yunqi.qq.com/*bk/*/*.html","http://dushu.qq.com/read.html?bid=*","http://www.jjwxc.net/onebook.php?novelid=*","http://book.zongheng.com/chapter/*/*.html","http://www.xxsy.net/books/*/*.html","http://book.zhulang.com/*/*.html","http://www.17k.com/chapter/*/*.html","http://mm.17k.com/chapter/*/*.html","http://www.kanxia.net/k/*/*/*.html","http://www.qingdi.com/files/article/html/*/*/*.html","http://www.xkzw.org/*/*.html","http://shouda8.com/*/*.html","http://novel.hongxiu.com/*/*/*.shtml","http://www.readnovel.com/novel/*.html","http://tieba.baidu.com/p/*","http://booklink.me/*","https://booklink.me/*","http://www.shumilou.co/*/*.html","http://www.shumilou.us/*/*.html","http://www.shumilou.net/*/*/*.html","http://www.wcxiaoshuo.com/wcxs-*-*/","http://www.xiaoshuoz.com/wcxs-*-*/","http://www.quledu.com/wcxs-*-*/","http://www.ranwen.cc/*/*/*/*.html","http://www.ranwen.net/files/article/*/*/*.html","http://www.64mi.com/*/*/*/*.html","http://www.bxs.cc/*/*.html*","http://www.laishuwu.com/html/*/*/*.html","http://www.binhuo.com/html/*/*/*.html","http://www.haoqi99.com/haoqi99/*/*/*.shtml","http://www.shuhe.cc/*/*/","http://www.dudukan.net/html/*/*/*.html","http://www.hahawx.com/*/*/*.htm","http://www.zhuzhudao.com/txt/*/*/","http://www.zhuzhudao.cc/txt/*/*/","http://www.dahaomen.net/txt/*/*/","http://www.tadu.com/book/*/*/","http://www.aishoucang.com/*/*.html","http://www.wanshuba.com/Html/*/*/*.html","http://www.zhuishu.net/files/article/html/*/*/*.html","http://www.sqsxs.com/*/*/*.html*","http://www.caiwei.tw/html/*/*.html","http://www.hotsk.com/Html/Book/*/*/*.shtml","http://www.92to.com/*/*/*.html","http://www.qirexs.com/read-*-chapter-*.html","http://www.du00.com/read/*/*/*.html","http://www.qishuwu.com/*/*/","http://www.wandoou.com/book/*/*.html","http://www.6yzw.org/*/*.html","http://www.6yzw.com/*/*.html","http://www.daomengren.com/*/*.html","http://muyuge.com/*/*.html","http://www.muyuge.net/*/*.html","http://bbs.vyming.com/novel-read-*-*.html","http://www.9imw.com/novel-read-*-*.html","http://www.23zw.com/olread/*/*/*.html","http://www.50zw.com/book_*/*.html","http://www.xiangcunxiaoshuo.com/shu/*/*.html","http://www.lwxs520.com/books/*/*/*.html","http://www.zashu.net/books/*/*/*.html","http://www.piaotian.net/html/*/*/*.html","http://www.yunlaige.com/html/*/*/*.html","http://www.cfwx.net/files/article/html/*/*/*.html","http://www.qiuwu.net/html/*/*/*.html","http://www.fengwu.org/html/*/*/*.html","http://www.xs84.com/*_*/*","http://www.geiliwx.com/GeiLi/*/*/*.shtml*","http://www.123yq.com/read/*/*/*.shtml","http://www.123yq.org/read/*/*/*.shtml","http://www.dhzw.com/book/*/*/*.html","http://www.du00.cc/read/*/*/*.html","http://www.aszw.com/book/*/*/*.html","http://www.xsbashi.com/*_*/","http://www.vodtw.com/Html/Book/*/*/*.html","http://www.fhxs.com/read/*/*/*.shtml","http://www.snwx.com/book/*/*/*.html","http://www.jiaodu8.com/*/*/*/*.html","http://www.fktxt.com/book/*/*.html","http://www.186s.cn/files/article/html/*/*/*.html","http://www.6xs.cn/xs/*/*/*.html","http://www.chaojiqiangbing.com/book/*/*/*.html","http://book.moka123.com/book/*/*/*.html","http://www.suimeng.com/files/article/html/*/*/*.html","http://www.hao662.com/haoshu/*/*/*.html","http://www.tsxs.cc/files/article/html/*/*/*.html","http://www.ziyuge.com/*/*/*/*/*.html","http://book.sfacg.com/Novel/*/*/*/","http://www.7dsw.com/book/*/*/*.html","http://www.d586.com/*/*/","http://www.bookgew.com/Html/Book/*/*/*.htm","http://read.shuhaha.com/Html/Book/*/*/*.html","http://www.shuhaha.com/Html/Book/*/*/*.html","http://www.biqi.me/files/article/html/*/*/*.html","http://www.ttzw.com/book/*/*.html","http://www.uukanshu.com/*/*/*.html","http://www.173ed.com/read/*/*.html","http://www.a240.com/read/*/*.html","http://www.zhuishu.com/*/*.html","http://www.shuangde.cc/*/*.html","http://www.shenmaxiaoshuo.com/ml-*-*/","http://www.86kankan.com/read/*/*.html","http://www.fkzww.com/*/*/*.html","http://www.151kan.com/*/*/*/*.html","http://www.bookabc.net/*/*/*.html","http://www.xshuotxt.com/*/*/*/*.html","http://www.doulaidu.com/*/*/*.html","http://www.d586.com/*/*/","http://www.kanshu.la/book/*/*html","http://www.wtcxs.com/files/article/html/*/*/*.html","http://www.5du5.com/book/*/*/*.html","http://book.kanunu.org/*/*/*.html","http://www.kanunu8.com/book*/*.html","http://paitxt.com/*/*/*.html","http://www.shunong.com/yuedu/*/*/*.html","http://book.yayacms.com/*/book_*_*.html","http://www.yqhhy.cc/*/*/*.html","http://www.nuoqiu.com/static/*/*.html","http://www.17yue.com/*/*/*.html","http://dukeba.com/book/*/*/*.shtml","http://www.wenchangshuyuan.com/html/*/*/*.html","http://www.pofeng.net/xiaoshuo/*/*.html","http://www.epzww.com/book/*/*","http://*.xiaoshuokan.com/haokan/*/*.html","http://www.wobudu.com/*/*.html","http://www.qb5.com/xiaoshuo/*/*/*.html","http://www.23us.com/html/*/*/*.html","http://www.23wx.com/html/*/*/*.html","http://www.xs222.com/html/*/*/*.html","http://www.bixiage.com/*/*/*/*.html","http://www.ranwenxiaoshuo.com/files/article/html/*/*/*.html","http://www.ranwenxiaoshuo.com/*/*-*-*.html","http://www.bjxiaoshuo.com/bjxs-*-*/","http://www.59shuku.com/xiaoshuo/*/*.htm","http://www.16kbook.org/Html/Book/*/*/*.shtml","http://www.dixiaoshuo.com/Html/*/*.html","http://www.nieshu.com/Book/*/*/*.shtml","http://www.tlxsw.com/files/article/html/*/*/*.html","http://www.1kanshu.com/files/article/html/*/*/*.html","http://www.uutxt.org/book/*/*/*.html","http://www.5800.cc/*/*/*/*.html","http://www.biquge.com/*/*.html","http://www.biquge.la/book/*/*.html","http://www.qududu.com/book/*/*/*.html","http://www.free97.cn/book/*/*/*.html","http://www.122s.com/book/*/*.html","http://www.123du.net/dudu-*/*/*.html","http://www.123du.cc/dudu-*/*/*.html","http://www.123du.net/book/*/*.html","http://www.hwafa.com/*/*.html","http://www.qmshu.com/html/*/*/*.html","http://dlzw.cc/article-*-*.html","http://www.shushu5.com/read/*/*.html","http://www.xiaoyanwenxue.com/files/article/html/*/*/*.html","http://www.3gsc.com.cn/bookcon/*_*_*","http://www.bj-ibook.cn/book/*/*/*.htm","http://www.baoliny.com/*/*.html","http://www.dajiadu.net/files/article/html/*/*/*.html","http://www.yankuai.com/files/article/html/*/*/*.html","http://www.docin.net/*/*.html","http://www.dushuge.net/html/*/*/*.html","http://www.xunshu.org/xunshu/*/*/*.html","http://www.moneyren.com/book/*/*/*.shtml","http://wemaxfilipino.com/*/*/*.html","http://www.85618892.cn/xiaoshuo/*/*/*.shtml","http://www.bookba.net/Html/Book/*/*/*.html","http://www.moksos.com/*/*/*.html","http://dudu8.net/novel/*/*/*.html","http://www.dawenxue.net/html/*/*/*.html","http://www.yanmoxuan.org/book/*/*/*.html","http://www.duyidu.com/xiaoshuo/*/*/*.html","http://www.69zw.com/xiaoshuo/*/*/*.html","http://www.kan7.com/xiaoshuo/*/*/*.html","http://www.laishu.com/book/*/*/*.shtml","http://www.bxwx.org/b/*/*/*.html","http://www.bxzw.org/*/*/*/*.shtml","http://www.360118.com/html/*/*/*.html","http://www.59to.com/files/article/xiaoshuo/*/*/*.html","http://www.dyzww.com/cn/*/*/*.html","http://www.9wh.net/*/*/*.html","http://www.luoqiu.net/html/*/*/*.html","http://www.luoqiu.com/html/*/*/*.html","http://www.epzw.com/files/article/html/*/*/*.html","http://www.dashubao.co/book/*/*/*.html","http://b.faloo.com/p/*/*.html","http://www.baikv.com/*/*.html","http://www.66721.com/*/*/*.html","http://www.3dllc.com/html/*/*/*.html","http://www.xstxt.com/*/*/","http://www.zzzcn.com/3z*/*/","http://www.zzzcn.com/modules/article/App.php*","http://www.nilongdao.com/book/*/*/*.html","http://xs321.net/*/*/","http://read.guanhuaju.com/files/article/html/*/*/*.html","http://www.book108.com/*/*/*.html","http://5ycn.com/*/*/*.html","http://www.zhaoxiaoshuo.com/chapter-*-*-*/","http://*zbzw.com/*/*.html","http://manghuangji.cc/*/*.html","http://www.aiqis.com/*/*.html","http://www.fftxt.net/book/*/*.html","http://www.5kwx.com/book/*/*/*.html","http://www.uuxiaoshuo.net/html/*/*/*.html","http://www.sanyyo.org/*.html","http://www.chinaisbn.com/*/*/*.html","http://www.caihongwenxue.com/Html/Book/*/*/*.html","http://www.shushuw.cn/shu/*/*.html","http://www.78xs.com/article/*/*/*.shtml","http://www.miaobige.com/*/*/*.html","http://www.woaixiaoshuo.com/xiaoshuo/*/*/*.html","http://www.ty2016.com/book/*/*.html","http://wx.ty2016.com/*/*/*.html","http://www.my285.com/*/*/*/*.htm","http://www.5858xs.com/html/*/*/*.html","http://book.58xs.com/html/*/*/*.html","http://book.mihua.net/*/*/*/*.html","http://www.hjwzw.com/Book/Read/*,*","http://www.hjwzw.com/Book/Read/*_*","http://www.365essay.com/*/*.htm","http://www.gengxin8.com/read/*/*.html","http://www.365xs.org/books/*/*/*.html","http://www.wuruo.com/files/article/html/*/*/*.html","http://www.remenxs.com/du_*/*/","http://*.8shuw.net/book/*/*.html","http://www.pashuw.com/BookReader/*/*.html","http://read.shanwen.com/html/*/*/*.html","http://www.qqxs.cc/xs/*/*/*.html","http://www.69shu.com/txt/*/*","http://www.e8zw.com/book/*/*/*.html","http://www.biquge.tw/*_*/*.html","http://www.8535.org/*/*/*.html*","http://www.yfzww.com/books/*/*/*.htm","http://www.lewen8.com/lw*/*.html","http://www.pinwenba.com/read/*/*.html","http://down1.qidian.com/bookall/*.htm*","http://www.77nt.com/*/*.html","http://www.quanbenba.com/yuedu/*/*/*.html","http://*.sto.cc/*-*/","http://www.151xs.com/wuxiazuoxiong/*/chapter/*/","http://www.qududu.net/book/*/*/*.html","http://www.uukanshu.net/*/*/*.html"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"add_nextpage_to_history":"btrue","auto_enable":"bfalse","booklink_enable":"btrue","cn2tw":"bfalse","copyCurTitle":"btrue","dblclick_pause":"btrue","debug":"bfalse","disable_auto_launch":"bfalse","hide_footer_nav":"btrue","hide_preferences_button":"bfalse","menu_list_hiddden":"bfalse","picNightModeCheck":"btrue"},"ts":1490445384092},"enabled":true,"position":14,"file_url":"https://greasyfork.org/scripts/292-my-novel-reader/code/My%20Novel%20Reader.user.js","uuid":"9245d989-af38-4c38-890a-90f24c47afb5","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQGlkICAgICAgICAgICAgIG15bm92ZWxyZWFkZXJAeXd6aGFpcWlAZ21haWwuY29tCi8vIEBuYW1lICAgICAgICAgICBNeSBOb3ZlbCBSZWFkZXIKLy8gQG5hbWU6emgtQ04gICAgIOWwj+ivtOmYheivu+iEmuacrAovLyBAbmFtZTp6aC1UVyAgICAg5bCP6Kqq6Zax6K6A6IWz5pysCi8vIEB2ZXJzaW9uICAgICAgICA1LjMuMQovLyBAbmFtZXNwYWNlICAgICAgaHR0cHM6Ly9naXRodWIuY29tL3l3emhhaXFpCi8vIEBhdXRob3IgICAgICAgICB5d3poYWlxaQovLyBAY29udHJpYnV0b3IgICAgUm9nZXIgQXUsIHNoeWFuZ3MsIEppeHVuTW9l44CBYWtpYmE5NTI3IOWPiuWFtuS7lue9keWPiwovLyBAZGVzY3JpcHRpb24gICAg5bCP6K+06ZiF6K+76ISa5pys77yM57uf5LiA6ZiF6K+75qC35byP77yM5YaF5a655Y675bm/5ZGK44CB5L+u5q2j5ou86Z+z5a2X44CB5q616JC95pW055CG77yM6Ieq5Yqo5LiL5LiA6aG1Ci8vIEBkZXNjcmlwdGlvbjp6aC1DTiAg5bCP6K+06ZiF6K+76ISa5pys77yM57uf5LiA6ZiF6K+75qC35byP77yM5YaF5a655Y675bm/5ZGK44CB5L+u5q2j5ou86Z+z5a2X44CB5q616JC95pW055CG77yM6Ieq5Yqo5LiL5LiA6aG1Ci8vIEBkZXNjcmlwdGlvbjp6aC1UVyAg5bCP6Kqq6Zax6K6A6IWz5pys77yM57Wx5LiA6Zax6K6A5qij5byP77yM5YWn5a655Y675buj5ZGK44CB5L+u5q2j5ou86Z+z5a2X44CB5q616JC95pW055CG77yM6Ieq5YuV5LiL5LiA6aCBCi8vIEBsaWNlbnNlICAgICAgICBHUEwgdmVyc2lvbiAzCi8vIEBncmFudCAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgICAgR01fYWRkU3R5bGUKLy8gQGdyYW50ICAgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgR01fZ2V0UmVzb3VyY2VVUkwKLy8gQGdyYW50ICAgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgICAgR01fc2V0Q2xpcGJvYXJkCi8vIEBncmFudCAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgICBHTV9pbmZvCi8vIEBncmFudCAgICAgICAgICB1bnNhZmVXaW5kb3cKLy8gQGhvbWVwYWdlVVJMICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8yOTIvCi8vIEByZXF1aXJlICAgICAgICBodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2pxdWVyeS8yLjEuMS9qcXVlcnkubWluLmpzCi8vIEByZXF1aXJlICAgICAgICBodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL3VuZGVyc2NvcmUuanMvMS43LjAvdW5kZXJzY29yZS1taW4uanMKLy8gQHJlcXVpcmUgICAgICAgIGh0dHA6Ly9jZG4uc3RhdGljZmlsZS5vcmcva2V5bWFzdGVyLzEuNi4xL2tleW1hc3Rlci5taW4uanMKLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8yNjcyLW1laWh1YS1jbjJ0dy9jb2RlL01laWh1YV9jbjJ0dy5qcz92ZXJzaW9uPTczNzUKLy8gQHJlc291cmNlIGZvbnRhd2Vzb21lV29mZiBodHRwOi8vbGlicy5iYWlkdS5jb20vZm9udGF3ZXNvbWUvNC4wLjMvZm9udHMvZm9udGF3ZXNvbWUtd2ViZm9udC53b2ZmP3Y9NC4wLjMKCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vcmVhZC5xaWRpYW4uY29tLyosKi5hc3B4Ci8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vcmVhZGJvb2sucWlkaWFuLmNvbS9ib29rcmVhZGVyLyosKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vcmVhZC5xaWRpYW4uY29tL0Jvb2tSZWFkZXJPbGQvKiwqLmFzcHgKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9yZWFkLnFpZGlhbi5jb20vQm9va1JlYWRlci8qLCouYXNweAovLyBAZXhjbHVkZSAgICAgICAgaHR0cDovL3JlYWQucWlkaWFuLmNvbS9Cb29rUmVhZGVyL3ZvbCwqLCouYXNweAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3d3Bsb3kucWlkaWFuLmNvbS9Cb29rUmVhZGVyLyosKi5hc3B4Ci8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vZnJlZS5xaWRpYW4uY29tL0ZyZWUvUmVhZENoYXB0ZXIuYXNweD8qCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnFkbW0uY29tL0Jvb2tSZWFkZXIvKiwqLmFzcHgKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cucWR3ZW54dWUuY29tL0Jvb2tSZWFkZXIvKiwqLmFzcHgKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9jaHVhbmdzaGkucXEuY29tL3JlYWQvYm9va3JlYWRlci8qLmh0bWwqCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vY2h1YW5nc2hpLnFxLmNvbS8qYmsvKi8qLXItKi5odG1sKgovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3l1bnFpLnFxLmNvbS8qYmsvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9kdXNodS5xcS5jb20vcmVhZC5odG1sP2JpZD0qCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lmpqd3hjLm5ldC9vbmVib29rLnBocD9ub3ZlbGlkPSoKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9ib29rLnpvbmdoZW5nLmNvbS9jaGFwdGVyLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lnh4c3kubmV0L2Jvb2tzLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vYm9vay56aHVsYW5nLmNvbS8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy4xN2suY29tL2NoYXB0ZXIvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9tbS4xN2suY29tL2NoYXB0ZXIvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cua2FueGlhLm5ldC9rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cucWluZ2RpLmNvbS9maWxlcy9hcnRpY2xlL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy54a3p3Lm9yZy8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3Nob3VkYTguY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vbm92ZWwuaG9uZ3hpdS5jb20vKi8qLyouc2h0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cucmVhZG5vdmVsLmNvbS9ub3ZlbC8qLmh0bWwKLy8gaHR0cDovL3d3dy50aWFueWFib29rLmNvbS8qLyouaHRtCgovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3RpZWJhLmJhaWR1LmNvbS9wLyoKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9ib29rbGluay5tZS8qCi8vIEBpbmNsdWRlICAgICAgICBodHRwczovL2Jvb2tsaW5rLm1lLyoKCi8vIGJvb2tsaW5rLm1lCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnNodW1pbG91LmNvLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnNodW1pbG91LnVzLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnNodW1pbG91Lm5ldC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LndjeGlhb3NodW8uY29tL3djeHMtKi0qLwovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy54aWFvc2h1b3ouY29tL3djeHMtKi0qLwovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5xdWxlZHUuY29tL3djeHMtKi0qLwovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5yYW53ZW4uY2MvKi8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnJhbndlbi5uZXQvZmlsZXMvYXJ0aWNsZS8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjY0bWkuY29tLyovKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5ieHMuY2MvKi8qLmh0bWwqCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmxhaXNodXd1LmNvbS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuYmluaHVvLmNvbS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuaGFvcWk5OS5jb20vaGFvcWk5OS8qLyovKi5zaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5zaHVoZS5jYy8qLyovCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmR1ZHVrYW4ubmV0L2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5oYWhhd3guY29tLyovKi8qLmh0bQovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy56aHV6aHVkYW8uY29tL3R4dC8qLyovCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnpodXpodWRhby5jYy90eHQvKi8qLwovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5kYWhhb21lbi5uZXQvdHh0LyovKi8KLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cudGFkdS5jb20vYm9vay8qLyovCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmFpc2hvdWNhbmcuY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LndhbnNodWJhLmNvbS9IdG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuemh1aXNodS5uZXQvZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuc3FzeHMuY29tLyovKi8qLmh0bWwqCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmNhaXdlaS50dy9odG1sLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmhvdHNrLmNvbS9IdG1sL0Jvb2svKi8qLyouc2h0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuOTJ0by5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5xaXJleHMuY29tL3JlYWQtKi1jaGFwdGVyLSouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5kdTAwLmNvbS9yZWFkLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cucWlzaHV3dS5jb20vKi8qLwovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy53YW5kb291LmNvbS9ib29rLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjZ5encub3JnLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjZ5encuY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmRhb21lbmdyZW4uY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vbXV5dWdlLmNvbS8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5tdXl1Z2UubmV0LyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vYmJzLnZ5bWluZy5jb20vbm92ZWwtcmVhZC0qLSouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy45aW13LmNvbS9ub3ZlbC1yZWFkLSotKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjIzencuY29tL29scmVhZC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjUwencuY29tL2Jvb2tfKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cueGlhbmdjdW54aWFvc2h1by5jb20vc2h1LyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lmx3eHM1MjAuY29tL2Jvb2tzLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuemFzaHUubmV0L2Jvb2tzLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cucGlhb3RpYW4ubmV0L2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy55dW5sYWlnZS5jb20vaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmNmd3gubmV0L2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnFpdXd1Lm5ldC9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuZmVuZ3d1Lm9yZy9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cueHM4NC5jb20vKl8qLyoKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuZ2VpbGl3eC5jb20vR2VpTGkvKi8qLyouc2h0bWwqCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjEyM3lxLmNvbS9yZWFkLyovKi8qLnNodG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjEyM3lxLm9yZy9yZWFkLyovKi8qLnNodG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmRoencuY29tL2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5kdTAwLmNjL3JlYWQvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5hc3p3LmNvbS9ib29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cueHNiYXNoaS5jb20vKl8qLwovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy52b2R0dy5jb20vSHRtbC9Cb29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuZmh4cy5jb20vcmVhZC8qLyovKi5zaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5zbnd4LmNvbS9ib29rLyovKi8qLmh0bWwKCi8vIHd3dy5zb2R1LnNvCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmppYW9kdTguY29tLyovKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5ma3R4dC5jb20vYm9vay8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy4xODZzLmNuL2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjZ4cy5jbi94cy8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmNoYW9qaXFpYW5nYmluZy5jb20vYm9vay8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vYm9vay5tb2thMTIzLmNvbS9ib29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuc3VpbWVuZy5jb20vZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuaGFvNjYyLmNvbS9oYW9zaHUvKi8qLyouaHRtbAoKLy93d3cudmVyeWR1Lm5ldAovLyAgICAgICAgIGh0dHA6Ly93d3cueWF3ZW44LmNvbS8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnRzeHMuY2MvZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cueml5dWdlLmNvbS8qLyovKi8qLyouaHRtbAoKLy8g5YW25a6D572R56uZCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vYm9vay5zZmFjZy5jb20vTm92ZWwvKi8qLyovCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Ljdkc3cuY29tL2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5kNTg2LmNvbS8qLyovCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmJvb2tnZXcuY29tL0h0bWwvQm9vay8qLyovKi5odG0KLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9yZWFkLnNodWhhaGEuY29tL0h0bWwvQm9vay8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnNodWhhaGEuY29tL0h0bWwvQm9vay8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmJpcWkubWUvZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cudHR6dy5jb20vYm9vay8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy51dWthbnNodS5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy4xNzNlZC5jb20vcmVhZC8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5hMjQwLmNvbS9yZWFkLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnpodWlzaHUuY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnNodWFuZ2RlLmNjLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnNoZW5tYXhpYW9zaHVvLmNvbS9tbC0qLSovCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Ljg2a2Fua2FuLmNvbS9yZWFkLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmZrend3LmNvbS8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjE1MWthbi5jb20vKi8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmJvb2thYmMubmV0LyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cueHNodW90eHQuY29tLyovKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5kb3VsYWlkdS5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5kNTg2LmNvbS8qLyovCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmthbnNodS5sYS9ib29rLyovKmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cud3RjeHMuY29tL2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjVkdTUuY29tL2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL2Jvb2sua2FudW51Lm9yZy8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmthbnVudTguY29tL2Jvb2sqLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3BhaXR4dC5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5zaHVub25nLmNvbS95dWVkdS8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vYm9vay55YXlhY21zLmNvbS8qL2Jvb2tfKl8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cueXFoaHkuY2MvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5udW9xaXUuY29tL3N0YXRpYy8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy4xN3l1ZS5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL2R1a2ViYS5jb20vYm9vay8qLyovKi5zaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy53ZW5jaGFuZ3NodXl1YW4uY29tL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5wb2ZlbmcubmV0L3hpYW9zaHVvLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmVwend3LmNvbS9ib29rLyovKgovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovLyoueGlhb3NodW9rYW4uY29tL2hhb2thbi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy53b2J1ZHUuY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnFiNS5jb20veGlhb3NodW8vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy4yM3VzLmNvbS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuMjN3eC5jb20vaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnhzMjIyLmNvbS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuYml4aWFnZS5jb20vKi8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnJhbndlbnhpYW9zaHVvLmNvbS9maWxlcy9hcnRpY2xlL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5yYW53ZW54aWFvc2h1by5jb20vKi8qLSotKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmJqeGlhb3NodW8uY29tL2JqeHMtKi0qLwovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy41OXNodWt1LmNvbS94aWFvc2h1by8qLyouaHRtCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjE2a2Jvb2sub3JnL0h0bWwvQm9vay8qLyovKi5zaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5kaXhpYW9zaHVvLmNvbS9IdG1sLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lm5pZXNodS5jb20vQm9vay8qLyovKi5zaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy50bHhzdy5jb20vZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuMWthbnNodS5jb20vZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cudXV0eHQub3JnL2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy41ODAwLmNjLyovKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5iaXF1Z2UuY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmJpcXVnZS5sYS9ib29rLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnF1ZHVkdS5jb20vYm9vay8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmZyZWU5Ny5jbi9ib29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuMTIycy5jb20vYm9vay8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy4xMjNkdS5uZXQvZHVkdS0qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjEyM2R1LmNjL2R1ZHUtKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy4xMjNkdS5uZXQvYm9vay8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5od2FmYS5jb20vKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cucW1zaHUuY29tL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL2RsencuY2MvYXJ0aWNsZS0qLSouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5zaHVzaHU1LmNvbS9yZWFkLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnhpYW95YW53ZW54dWUuY29tL2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjNnc2MuY29tLmNuL2Jvb2tjb24vKl8qXyoKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuYmotaWJvb2suY24vYm9vay8qLyovKi5odG0KLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuYmFvbGlueS5jb20vKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuZGFqaWFkdS5uZXQvZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cueWFua3VhaS5jb20vZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuZG9jaW4ubmV0LyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmR1c2h1Z2UubmV0L2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy54dW5zaHUub3JnL3h1bnNodS8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lm1vbmV5cmVuLmNvbS9ib29rLyovKi8qLnNodG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd2VtYXhmaWxpcGluby5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy44NTYxODg5Mi5jbi94aWFvc2h1by8qLyovKi5zaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5ib29rYmEubmV0L0h0bWwvQm9vay8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lm1va3Nvcy5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL2R1ZHU4Lm5ldC9ub3ZlbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmRhd2VueHVlLm5ldC9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cueWFubW94dWFuLm9yZy9ib29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuZHV5aWR1LmNvbS94aWFvc2h1by8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjY5encuY29tL3hpYW9zaHVvLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cua2FuNy5jb20veGlhb3NodW8vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5sYWlzaHUuY29tL2Jvb2svKi8qLyouc2h0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuYnh3eC5vcmcvYi8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmJ4encub3JnLyovKi8qLyouc2h0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuMzYwMTE4LmNvbS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuNTl0by5jb20vZmlsZXMvYXJ0aWNsZS94aWFvc2h1by8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmR5end3LmNvbS9jbi8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Ljl3aC5uZXQvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5sdW9xaXUubmV0L2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5sdW9xaXUuY29tL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5lcHp3LmNvbS9maWxlcy9hcnRpY2xlL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5kYXNodWJhby5jby9ib29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9iLmZhbG9vLmNvbS9wLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmJhaWt2LmNvbS8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy42NjcyMS5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy4zZGxsYy5jb20vaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnhzdHh0LmNvbS8qLyovCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lnp6emNuLmNvbS8zeiovKi8KLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuenp6Y24uY29tL21vZHVsZXMvYXJ0aWNsZS9BcHAucGhwKgovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5uaWxvbmdkYW8uY29tL2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3hzMzIxLm5ldC8qLyovCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vcmVhZC5ndWFuaHVhanUuY29tL2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmJvb2sxMDguY29tLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly81eWNuLmNvbS8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnpoYW94aWFvc2h1by5jb20vY2hhcHRlci0qLSotKi8KLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly8qemJ6dy5jb20vKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9tYW5naHVhbmdqaS5jYy8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5haXFpcy5jb20vKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuZmZ0eHQubmV0L2Jvb2svKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuNWt3eC5jb20vYm9vay8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnV1eGlhb3NodW8ubmV0L2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5zYW55eW8ub3JnLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5jaGluYWlzYm4uY29tLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuY2FpaG9uZ3dlbnh1ZS5jb20vSHRtbC9Cb29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuc2h1c2h1dy5jbi9zaHUvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuNzh4cy5jb20vYXJ0aWNsZS8qLyovKi5zaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5taWFvYmlnZS5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy53b2FpeGlhb3NodW8uY29tL3hpYW9zaHVvLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cudHkyMDE2LmNvbS9ib29rLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3gudHkyMDE2LmNvbS8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lm15Mjg1LmNvbS8qLyovKi8qLmh0bQovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy41ODU4eHMuY29tL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL2Jvb2suNTh4cy5jb20vaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vYm9vay5taWh1YS5uZXQvKi8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lmhqd3p3LmNvbS9Cb29rL1JlYWQvKiwqCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lmhqd3p3LmNvbS9Cb29rL1JlYWQvKl8qCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjM2NWVzc2F5LmNvbS8qLyouaHRtCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lmdlbmd4aW44LmNvbS9yZWFkLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjM2NXhzLm9yZy9ib29rcy8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lnd1cnVvLmNvbS9maWxlcy9hcnRpY2xlL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5yZW1lbnhzLmNvbS9kdV8qLyovCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vKi44c2h1dy5uZXQvYm9vay8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5wYXNodXcuY29tL0Jvb2tSZWFkZXIvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9yZWFkLnNoYW53ZW4uY29tL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5xcXhzLmNjL3hzLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuNjlzaHUuY29tL3R4dC8qLyoKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cuZTh6dy5jb20vYm9vay8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LmJpcXVnZS50dy8qXyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Ljg1MzUub3JnLyovKi8qLmh0bWwqCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3Lnlmend3LmNvbS9ib29rcy8qLyovKi5odG0KLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cubGV3ZW44LmNvbS9sdyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnBpbndlbmJhLmNvbS9yZWFkLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vZG93bjEucWlkaWFuLmNvbS9ib29rYWxsLyouaHRtKgovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy43N250LmNvbS8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5xdWFuYmVuYmEuY29tL3l1ZWR1LyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly8qLnN0by5jYy8qLSovCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LjE1MXhzLmNvbS93dXhpYXp1b3hpb25nLyovY2hhcHRlci8qLwovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy5xdWR1ZHUubmV0L2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL3d3dy51dWthbnNodS5uZXQvKi8qLyouaHRtbAoKLy8gQGV4Y2x1ZGUgICAgICAgICovTGlzdC5odG0KLy8gQGV4Y2x1ZGUgICAgICAgICovTGlzdC5odG1sCi8vIEBleGNsdWRlICAgICAgICAqL0xpc3Quc2h0bWwKLy8gQGV4Y2x1ZGUgICAgICAgICovaW5kZXguaHRtCi8vIEBleGNsdWRlICAgICAgICAqL2luZGV4Lmh0bWwKLy8gQGV4Y2x1ZGUgICAgICAgICovaW5kZXguc2h0bWwKLy8gQGV4Y2x1ZGUgICAgICAgICovRGVmYXVsdC5odG0KLy8gQGV4Y2x1ZGUgICAgICAgICovRGVmYXVsdC5odG1sCi8vIEBleGNsdWRlICAgICAgICAqL0RlZmF1bHQuc2h0bWwKCi8vIEBydW4tYXQgICAgICAgICBkb2N1bWVudC1lbmQKLy8gPT0vVXNlclNjcmlwdD09CgoKdmFyIGlzQ2hyb21lID0gISF3aW5kb3cuY2hyb21lOwp2YXIgaXNGaXJlZm94ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94IikgIT0gLTE7CgovLyDlhbblroPorr7nva4KdmFyIGNvbmZpZyA9IHsKICAgIHNvZHVzbzogZmFsc2UsICAgICAgICAgICAgICAgICAgLy8gd3d3LnNvZHUuc28g6Lez6L2sCiAgICBjb250ZW50X3JlcGxhY2VtZW50czogdHJ1ZSwgICAgIC8vIOWwj+ivtOWxj+iUveWtl+S/ruWkjQogICAgZml4SW1hZ2VGbG9hdHM6IHRydWUsICAgICAgICAgICAvLyDlm77niYflsYXkuK3kv67mraMKICAgIHBhcmFncmFwaEJsYW5rOiB0cnVlLCAgICAgICAgICAgLy8g57uf5LiA5q616JC95byA5aS055qE56m65qC85Li6IDLkuKrlhajop5LnqbrmoLwKICAgIGVuZF9jb2xvcjogIiM2NjY2NjYiLCAgICAgICAgICAgLy8g5pyA5ZCO5LiA6aG155qE6ZO+5o6l6aKc6ImyCiAgICBQUkVMT0FERVI6IHRydWUsICAgICAgICAgICAgICAgIC8vIOaPkOWJjemihOivu+S4i+S4gOmhtQp9OwoKdmFyIFJFQURFUl9BSkFYID0gInJlYWRlci1hamF4IjsgICAvLyDlhoXlrrnpnIDopoEgYWpheCDnmoQgY2xhc3NOYW1lCgoKLy8gVW5pY29kZS8yMDAwLTJGRkbvvJpodHRwOi8vemgud2lraWJvb2tzLm9yZy93aWtpL1VuaWNvZGUvMjAwMC0yRkZGCi8vIFVuaWNvZGUvRjAwMC1GRkZG77yaaHR0cHM6Ly96aC53aWtpYm9va3Mub3JnL3dpa2kvVW5pY29kZS9GMDAwLUZGRkYKCi8vIHJlcGxhY2Ug5Lit55qE566A5YaZCnZhciBDSEFSX0FMSUFTID0gewogICAgJ1xcUCc6ICdbXFx1MjAwMC1cXHUyRkZGXFx1MzAwNC1cXHUzMDNGXFx1RkUwMC1cXHVGRjYwXFx1RkZDMC1cXHVGRkZGXScsICAvLyDlsI/or7TkuK3mt7vliqDnmoTnibnmrornrKblj7cKfTsKCi8vID09PT09IOiHquWKqOWwneivleeahOinhOWImSA9PT09PQp2YXIgUnVsZSA9IHsKICAgIHRpdGxlUmVnRXhwOiAv56ysP1xzKlvkuIDkuozkuKTkuInlm5vkupTlha3kuIPlhavkuZ3ljYHil4vpm7bnmb7ljYPkuIfkur8wLTnvvJHvvJLvvJPvvJTvvJXvvJbvvJfvvJjvvJnvvJBdezEsNn1ccypb56ug5Zue5Y236IqC5oqY56+H5bmV6ZuGXS9pLAogICAgdGl0bGVSZXBsYWNlOiAvXueroOiKguebruW9lXxe5paH56ug5q2j5paHfF7mraPmlod85YWo5paH5YWN6LS56ZiF6K+7fOacgOaWsOeroOiKgnxcKOaWh1wpLywKCiAgICAvLyBuZXh0UmVnRXhwOiAvW+S4iuWJjeS4i+WQjl1b5LiAXT9b6aG15byg5Liq56+H56ug6IqC5q2lXS8sCiAgICBuZXh0U2VsZWN0b3I6ICJhW3JlbD0nbmV4dCddLCBhOmNvbnRhaW5zKCfkuIvkuIDpobUnKSwgYTpjb250YWlucygn5LiL5LiA56ugJyksIGE6Y29udGFpbnMoJ+S4i+S4gOiKgicpLCBhOmNvbnRhaW5zKCfkuIvpobUnKSIsCiAgICBwcmV2U2VsZWN0b3I6ICJhW3JlbD0ncHJldiddLCBhOmNvbnRhaW5zKCfkuIrkuIDpobUnKSwgYTpjb250YWlucygn5LiK5LiA56ugJyksIGE6Y29udGFpbnMoJ+S4iuS4gOiKgicpLCBhOmNvbnRhaW5zKCfkuIrpobUnKSIsCiAgICAvLyDlv73nlaXnmoTkuIvkuIDpobXpk77mjqXvvIzljLnphY0gaHJlZgogICAgbmV4dFVybElnbm9yZTogWwogICAgICAgIC8oPzooPzppbmRleHxsaXN0fGxhc3R8TGFzdFBhZ2V8ZW5kKVwuKXxCdXlDaGFwdGVyVW5Mb2dpbnxeamF2YXNjcmlwdDovaSwKCiAgICAgICAgL0Jvb2tSZWFkZXJcL3ZpcCwvaSwKICAgICAgICAvQm9va1JlYWRlclwvTGFzdFBhZ2VOZXdcLmFzcHgvaSwKICAgICAgICAvcmVhZFwucWlkaWFuXC5jb21cL0Jvb2tSZWFkZXJcL1xkKywwXC5hc3B4JC9pLAogICAgICAgIC9yZWFkXC5xaWRpYW5cLmNvbVwvJC9pLAogICAgICAgIC9mcmVlXC5xaWRpYW5cLmNvbVwvRnJlZVwvU2hvd0Jvb2tcLmFzcHhcP2Jvb2tpZD0vaSwKCiAgICAgICAgL2Jvb2tcLnpvbmdoZW5nXC5jb21cL3JlYWRtb3JlL2ksCiAgICAgICAgL3d3d1wuc2h1bWlsb3VcLmNvbVwvdG8tbi1bYS16XSstXGQrXC5odG1sL2ksCiAgICAgICAgL1wvMFwuaHRtbCQvaSwKICAgIF0sCiAgICBuZXh0VXJsQ29tcGFyZTogL1wvXGQrKF9cZCspP1wuaHRtbD8kfFwvd2N4cy1cZCstXGQrXC8kfGNoYXB0ZXItXGQrXC5odG1sJHxcL1xkK19cZCtcLyQvaSwgIC8vIOW/veeVpeeahOS4i+S4gOmhtemTvuaOpe+8iOeJueauiu+8ie+8jOi3n+S4iuS4gOmhteavlOi+gwoKICAgIC8vIOaMiemhuuW6j+WMuemFje+8jOWMuemFjeWIsOWImeWBnOatouOAgmVjb250YWlucyDlrozlhajnm7jnrYkKICAgIGluZGV4U2VsZWN0b3JzOiBbImFbaHJlZj0naW5kZXguaHRtbCddIiwgImE6Y29udGFpbnMoJ+i/lOWbnuS5puebricpIiwgImE6Y29udGFpbnMoJ+eroOiKguebruW9lScpIiwgImE6Y29udGFpbnMoJ+eroOiKguWIl+ihqCcpIiwKICAgICAgICAiYTplY29udGFpbnMoJ+acgOaWsOeroOiKgicpIiwgImE6Y29udGFpbnMoJ+WbnuebruW9lScpIiwiYTpjb250YWlucygn5Zue5Lmm55uuJykiLCAiYTpjb250YWlucygn55uuIOW9lScpIiwgImE6Y29udGFpbnMoJ+ebruW9lScpIl0sCgogICAgY29udGVudFNlbGVjdG9yczogWyIjcGFnZWNvbnRlbnQiLCAiI2NvbnRlbnRib3giLCAiI2Jtc3lfY29udGVudCIsICIjYm9va3BhcnRpbmZvIiwgIiNodG1sQ29udGVudCIsCiAgICAgICAgIiN0ZXh0X2FyZWEiLCAiI2NoYXB0ZXJfY29udGVudCIsICIjY2hhcHRlckNvbnRlbnQiLCAiI3BhcnRib2R5IiwKICAgICAgICAiI2FydGljbGVfY29udGVudCIsICIjQm9va1RleHRSZWFkIiwgIiNib29rdGV4dCIsICIjQm9va1RleHQiLCAiI3JlYWR0ZXh0IiwgIiN0ZXh0X2MiLCAiI3R4dF90ZCIsICIjVFhUIiwgIiN0eHQiLCAiI3pqbmVpcm9uZyIsCiAgICAgICAgIi5ub3ZlbF9jb250ZW50IiwgIi5yZWFkbWFpbl9pbm5lciIsICIubm92ZWx0ZXh0IiwgIi5ib29rdGV4dCIsICIueWRfdGV4dDIiLAogICAgICAgICIjY29udGVudFR4dCIsICIjb2xkdGV4dCIsICIjYV9jb250ZW50IiwgIiNjb250ZW50cyIsICIjY29udGVudDIiLCAiI2NvbnRlbnR0cyIsICIjY29udGVudCIsICIuY29udGVudCJdLAoKICAgIC8vICjmtYvor5Up5bCd6K+V5p+l5om+5Lmm5ZCN44CC6aG26YOo56ug6IqC5a+86Iiq55qE5pyA5ZCO5LiA5Liq6ZO+5o6l5Y+v6IO95piv5Lmm5ZCN44CCCiAgICBib29rVGl0bGVTZWxlY3RvcjogIi5oMXRpdGxlID4gLnNodW1pbmcgPiBhW3RpdGxlXSwgLmNoYXB0ZXJfbmF2ID4gZGl2OmZpcnN0ID4gYTpsYXN0IiwKCiAgICBjb250ZW50UmVtb3ZlOiAic2NyaXB0LCBpZnJhbWUiLCAgICAgICAgICAvLyDlhoXlrrnnp7vpmaTpgInmi6nlmagKICAgIHJlbW92ZUxpbmVSZWdFeHA6IC88cD5b44CAXHPjgII777yM77yBXC7iiLfjgJZdKjxcL3A+L2csICAvLyDnp7vpmaTlj6rmnInkuIDkuKrlrZfnrKbnmoTooYwKCiAgICAvLyDku6XkuIvkuI3luLjmlLkKICAgIHJlcGxhY2VCcnM6IC8oPGJyW14+XSo+WyBcblxyXHRdKil7MSx9L2dpLCAgICAvLyDmm7/mjaLkuLo8cD4KfTsKCi8vID09PT09IOiHquWumuS5ieermeeCueinhOWImSA9PT09PQpSdWxlLnNwZWNpYWxTaXRlID0gWwogICAgLy8g6K+m57uG54mI6KeE5YiZ56S65L6L44CC5rOo77ya6K+l572R56uZ5bey5peg5rOV6K6/6Zeu44CCCiAgICB7c2l0ZU5hbWU6ICLms6HkuablkKciLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g56uZ54K55ZCN5a2XLi4uICjlj6/pgIkpCiAgICAgICAgdXJsOiAiXmh0dHA6Ly93d3dcXC5wYW9zaHU4XFwubmV0L0h0bWwvXFxTK1xcLnNodG0kIiwgICAgICAgICAgLy8gLy8g56uZ54K55q2j5YiZLi4uICh+fuW/hemhu35+KQoKICAgICAgICAvLyDojrflj5bmoIfpopgKICAgICAgICB0aXRsZVJlZzogLyguKj8p5pyA5paw56ug6IqCIFstX1xcXC9dKC4qPylbLV9cL10uKi8sICAgICAgICAgLy8g5Lmm57GN5qCH6aKY44CB56ug6IqC5qCH6aKY5q2j5YiZICjlj6/pgIkpCiAgICAgICAgdGl0bGVQb3M6IDAsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Lmm57GN5qCH6aKY5L2N572u77yaMCDmiJYgMSAo5Y+v6YCJ77yM6buY6K6k5Li6IDApCiAgICAgICAgdGl0bGVTZWxlY3RvcjogIiN0aXRsZSBoMSIsCgogICAgICAgIGluZGV4U2VsZWN0b3I6ICJhOmNvbnRhaW5zKCflm57nm67lvZUnKSIsICAgICAgICAgICAgICAgICAgICAvLyDpppbpobXpk77mjqUgalF1ZXJ5IOmAieaLqeWZqCAo5LiN5aGr5YiZ5bCd6K+V6Ieq5Yqo5pCc57SiKQogICAgICAgIHByZXZTZWxlY3RvcjogImE6Y29udGFpbnMoJ+e/u+S4iumhtScpIiwgICAgICAgICAgICAgICAgICAgICAgLy8g5LiK5LiA6aG16ZO+5o6lIGpRdWVyeSDpgInmi6nlmaggKOS4jeWhq+WImeWwneivleiHquWKqOaQnOe0oikKICAgICAgICBuZXh0U2VsZWN0b3I6ICJhOmNvbnRhaW5zKCfnv7vkuIvpobUnKSIsICAgICAgICAgICAgICAgICAgICAgLy8g5LiL5LiA6aG16ZO+5o6lIGpRdWVyeSDpgInmi6nlmaggICjkuI3loavliJnlsJ3or5Xoh6rliqjmkJzntKIpCgogICAgICAgIC8vIOiOt+WPluWGheWuuQogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNCb29rVGV4dCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlhoXlrrkgalF1ZXJ5IOmAieaLqeWZqCAo5LiN5aGr5YiZ5bCd6K+V6Ieq5Yqo5pCc57SiKQogICAgICAgIHVzZWlmcmFtZTogZmFsc2UsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKOWPr+mAiSnkuIvkuIDpobXliqDovb3mmK/lkKbkvb/nlKggaWZyYW1lCiAgICAgICAgLy8gbXV0YXRpb25TZWxlY3RvcjogIiNjaGFwdGVyY29udGFpbmVyIiwgICAgICAgICAgICAgICAgICAgIC8vICjlj6/pgIkp5YaF5a6555Sf5oiQ55uR6KeG5ZmoCiAgICAgICAgLy8g5a+55YaF5a6555qE5aSE55CGCiAgICAgICAgY29udGVudEhhbmRsZTogZmFsc2UsICAgLy8gKOWPr+mAiSnmmK/lkKblr7nlhoXlrrnov5vooYznibnmrorlpITnkIbvvIzor7jlpoLmi7zpn7PlrZfkv67lpI3nrYnvvIzor7jlpoLotbfngrnnrYnnvZHnq5nlj6/npoHnlKgKICAgICAgICBmaXhJbWFnZTogdHJ1ZSwgICAgICAgICAvLyAo5Y+v6YCJKe+8jOWbvueJh+WxheS4re+8jOS4jeWIhuWkp+WwjwogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAvKFwqV3zvvIh3fFwodykuezEwLDI1fSjlkKdcKnzvvIl8XCkpfOeci+Wwj+ivtOWwseS4inzmnKzkuabpppblj5F85rOhLnsxLDZ95ZCnfOeZvuW6puaQnOe0oumYheivu+acgOaWsOacgOWFqOeahOWwj+ivtHxodHRwOlwvXC93d3cucGFvc2h1OC5jb21cL3zml6DlvLnnqpcvZywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOmcgOimgeenu+mZpOeahOWGheWuueato+WImSAo5Y+v6YCJKQogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpeyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKOWPr+mAiSnlhoXlrrnooaXkuIHjgILop6PlhrPnv7vpobXmmK/ohJrmnKznmoTmg4XlhrUKICAgICAgICAgICAgdmFyICRuZXh0ID0gZmFrZVN0dWIuZmluZCgnI0xpbmtNZW51Jyk7CiAgICAgICAgICAgICRuZXh0Lmh0bWwoJG5leHQuaHRtbCgpLnJlcGxhY2UoLzxzY3JpcHQ+U2hvd0xpbmtNZW51Lio/KDxhLio/YT4pLio/KDxhLio/YT4pLio/c2NyaXB0Pi8sJyQxJDInKSArCiAgICAgICAgICAgICAgICAnPGEgaHJlZj1cJ0xpc3Quc2h0bVwnPuWbnuebruW9lTwvYT4nKTsKICAgICAgICB9CiAgICB9LAogICAgLy8g54m55q6K56uZ54K577yM6ZyA5YaN5qyh6I635Y+W5LiU6Leo5Z+f44CC5re75YqgIGNsYXNzPSJyZWFkZXItYWpheCLvvIzlkIzml7bpnIDopoEgc3JjLCBjaGFyc2V0CiAgICB7c2l0ZU5hbWU6ICfotbfngrnmlrDniYgnLAogICAgICAgIHVybDogJ2h0dHA6Ly9yZWFkXFwucWlkaWFuXFwuY29tL0Jvb2tSZWFkZXIvLipcXC5hc3B4JywKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy5zdG9yeV90aXRsZSAudGV4dGluZm8gYTpudGgtY2hpbGQoMSknLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICcuc3RvcnlfdGl0bGUgaDEnLAoKICAgICAgICBwcmV2U2VsZWN0b3I6ICcjcGFnZVByZXZSaWdodEJ0bicsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAnI3BhZ2VOZXh0UmlnaHRCdG4nLAogICAgICAgIGluZGV4U2VsZWN0b3I6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gbG9jYXRpb24uaHJlZi5yZXBsYWNlKC8sLio/XC5hc3B4JC8sICcuYXNweCcpLnJlcGxhY2UoJ0Jvb2tSZWFkZXJOZXcnLCAnQm9va1JlYWRlcicpOwogICAgICAgIH0sCgogICAgICAgIG11dGF0aW9uU2VsZWN0b3I6ICIjY2hhcHRlcmNvbnRhaW5lciIsICAvLyDlhoXlrrnnlJ/miJDnm5Hop4blmagKICAgICAgICAgICAgbXV0YXRpb25DaGlsZENvdW50OiAxLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJyNjb250ZW50LCAuYm9va3JlYWRlcmNvbnRlbnQnLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICdhW2hyZWY9Imh0dHA6Ly93d3cucWlkaWFuLmNvbSJdJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAn5omL5py655So5oi36K+35YiwbS5xaWRpYW4uY29t6ZiF6K+744CCJwogICAgICAgIF0sCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoJ3NjcmlwdFtzcmMkPSIudHh0Il0nKS5hZGRDbGFzcygncmVhZGVyLWFqYXgnKTsKICAgICAgICB9LAogICAgfSwKICAgIHtzaXRlTmFtZTogIui1t+eCueS4reaWh+OAgei1t+eCueWls+eUn+OAgei1t+eCueaWh+WtpiIsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly8od3d3fHJlYWR8cmVhZGJvb2t8d3d3cGxveXxjZ2F8YmlnNXBsb3kpXFwuKHFpZGlhbnxxZG1tfHFkd2VueHVlKVxcLmNvbS9Cb29rUmVhZGVyLy4qIiwKICAgICAgICAvLyB0aXRsZVJlZzogIuWwj+ivtDooLio/KSg/OueLrOWutummluWPkSkvKC4qPykvLioiLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICIjbGJDaGFwdGVyTmFtZSIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIucGFnZV9zaXRlID4gYTpsYXN0IiwKICAgICAgICAvLyBjb250ZW50U2VsZWN0b3I6ICIjaGRDb250ZW50IiwKICAgICAgICBuZXh0VXJsOiBmdW5jdGlvbigkZG9jKXsgIC8vIOS4uuS6humBv+WFjei1t+eCueafkOasoeaUueeJiOWQjuaKijHpobXmi4bmiJAy6aG177yM54S25ZCO6YCg5oiQ6YeN5aSN6L295YWl56ys5LiA6aG155qE5oOF5Ya1CiAgICAgICAgICAgIHZhciBodG1sID0gJGRvYy5maW5kKCdzY3JpcHQ6Y29udGFpbnMobmV4dHBhZ2U9KScpLmh0bWwoKTsKICAgICAgICAgICAgaWYgKCFodG1sKSByZXR1cm47CiAgICAgICAgICAgIHZhciBtID0gaHRtbC5tYXRjaCgvbmV4dHBhZ2U9JyguKj8pJy8pOwogICAgICAgICAgICBpZiAobSkgcmV0dXJuIG1bMV07CiAgICAgICAgfSwKICAgICAgICBwcmV2VXJsOiBmdW5jdGlvbigkZG9jKXsKICAgICAgICAgICAgdmFyIGh0bWwgPSAkZG9jLmZpbmQoJ3NjcmlwdDpjb250YWlucyhwcmV2cGFnZT0pJykuaHRtbCgpOwogICAgICAgICAgICBpZiAoIWh0bWwpIHJldHVybjsKICAgICAgICAgICAgdmFyIG0gPSBodG1sLm1hdGNoKC9wcmV2cGFnZT0nKC4qPyknLyk7CiAgICAgICAgICAgIGlmIChtKSByZXR1cm4gbVsxXTsKICAgICAgICB9LAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiB7CiAgICAgICAgICAgICJcXFtpbWc9KC4qKVxcXSI6ICI8cD48aW1nIHNyYz0nJDEnPjwvcD48cD4iLAogICAgICAgICAgICAiXFxbK0NQLiooaHR0cDovL2ZpbGUuKlxcLmpwZylcXF0rIjogIjxwPjxpbWcgc3JjPSckMSc+PC9wPjxwPiIsCiAgICAgICAgICAgICJcXFtib29raWQ9KFxcZCsp77yMYm9va25hbWU9KC4qPylcXF0iOiAiPGEgaHJlZj0naHR0cDovL3d3dy5xaWRpYW4uY29tL0Jvb2svJDEuYXNweCc+JDI8L2E+IiwKICAgICAgICAgICAgInd3dy5jbWZ1LmNvbeWPkeW4g3zotbfngrnkuK3mlofnvZF3d3cucWlkaWFuLmNvbeasoui/juW5v+Wkp+S5puWPi+WFieS4tOmYheivuy4qIjogIiIsCiAgICAgICAgICAgICcoPHA+XFxzKyk/PGEgaHJlZj0iP2h0dHA6Ly93d3cuKD86cWlkaWFufGNtZnUpLmNvbSI/Pui1t+eCueS4reaWh+e9kS4qJzogJycsCgogICAgICAgICAgICAnKFtcXHU0ZTAwLVxcdTlmYTVdKVsl77+lXSsoW1xcdTRlMDAtXFx1OWZhNV0pJzogJyQxJDInLCAgLy8g5bGP6JS96K+N5L+u5q2j77yM5L6L5aaC77ya6aOOJSXpqpoKICAgICAgICB9LAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICJzcGFuW2lkXj0nYWRfJ10sIC5yZWFkX21hIiwKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgnc2NyaXB0W3NyYyQ9Ii50eHQiXScpLmFkZENsYXNzKCdyZWFkZXItYWpheCcpOwogICAgICAgIH0sCiAgICB9LAogICAge3NpdGVOYW1lOiAi6LW354K55Lit5paH572R5YWN6LS56aKR6YGTIiwKICAgICAgICB1cmw6ICJeaHR0cDovL2ZyZWVcXC5xaWRpYW5cXC5jb20vRnJlZS9SZWFkQ2hhcHRlclxcLmFzcHgiLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICIudGl0bGUgPiBoMyIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIuc2l0ZV9yZWN0ID4gYTpsYXN0IiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjY2hhcHRlcl9jb250LCAjY29udGVudCIsCiAgICAgICAgY29udGVudFJlbW92ZTogIi5uaWNlX2Jvb2tzIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogewogICAgICAgICAgICAiXFxbaW1nPSguKilcXF0iOiAiPHA+PGltZyBzcmM9JyQxJz48L3A+PHA+IiwKICAgICAgICAgICAgIlxcWytDUC4qKGh0dHA6Ly9maWxlLipcXC5qcGcpXFxdKyI6ICI8cD48aW1nIHNyYz0nJDEnPjwvcD48cD4iLAogICAgICAgICAgICAiXFxbYm9va2lkPShcXGQrKe+8jGJvb2tuYW1lPSguKj8pXFxdIjogIjxhIGhyZWY9J2h0dHA6Ly93d3cucWlkaWFuLmNvbS9Cb29rLyQxLmFzcHgnPiQyPC9hPiIsCiAgICAgICAgICAgICJ3d3cuY21mdS5jb23lj5HluIN86LW354K55Lit5paH572Rd3d3LnFpZGlhbi5jb23mrKLov47lub/lpKfkuablj4vlhYnkuLTpmIXor7suKiI6ICIiLAogICAgICAgICAgICAnKDxwPlxccyspPzxhIGhyZWY9Ij9odHRwOi8vd3d3Lig/OnFpZGlhbnxjbWZ1KS5jb20iPz7otbfngrnkuK3mlofnvZEuKic6ICcnCiAgICAgICAgfSwKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKSB7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoJyNjaGFwdGVyX2NvbnQsICNjb250ZW50ID4gc2NyaXB0OmZpcnN0JykuYWRkQ2xhc3MoJ3JlYWRlci1hamF4Jyk7CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWIm+S4luS4reaWh+e9kSIsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly8oPzpjaHVhbmdzaGl8eXVucWkpXFwucXFcXC5jb20vfF5odHRwOi8vZHVzaHVcXC5xcVxcLmNvbS9yZWFkLmh0bWxcXD9iaWQ9IiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy5ib29rTmF2ID4gYTpsYXN0KCknLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICcuc3RvcnlfdGl0bGUgPiBoMScsCgogICAgICAgIG5leHRTZWxlY3RvcjogJyNyaWdodEZsb2F0QmFyX25leHRDaGFwdGVyQnRuJywKICAgICAgICBwcmV2U2VsZWN0b3I6ICcjcmlnaHRGbG9hdEJhcl9wcmVDaGFwdGVyQnRuJywKICAgICAgICBpbmRleFNlbGVjdG9yOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG0gPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9cL2JrXC9cdytcLyguKj8pLXItXGQrLmh0bWwvKTsKICAgICAgICAgICAgaWYgKG0pIHsKICAgICAgICAgICAgICAgIHJldHVybiAnaHR0cDovL2NodWFuZ3NoaS5xcS5jb20vYmsvbHMvJyArIG1bMV0gKyAnLWwuaHRtbCc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJ2h0dHA6Ly9jaHVhbmdzaGkucXEuY29tL2JrL2xzLycgKyB1bnNhZmVXaW5kb3cuYmlkICsgJy1sLmh0bWwnOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLmJvb2tyZWFkZXJjb250ZW50IiwKICAgICAgICBjb250ZW50SGFuZGxlOiBmYWxzZSwKICAgICAgICBtdXRhdGlvblNlbGVjdG9yOiAiI2NoYXB0ZXJjb250YWluZXIiLCAgLy8g5YaF5a6555Sf5oiQ55uR6KeG5Zmo77yM56ys5LiA5qyh6L+Q6KGM55So5Yiw77yM5Lul5ZCO55So5LiL6Z2i55qEIGdldENvbnRlbnQg5Ye95pWwCiAgICAgICAgICAgIG11dGF0aW9uQ2hpbGRDb3VudDogMSwKICAgICAgICBzdGFydEZpbHRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIC8vIOS4i+S4gOmhtemcgOimgeaPkOWJjeWKoCAxCiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy51dWlkID0gcGFyc2VJbnQodW5zYWZlV2luZG93LnV1aWQpICsgMSArICcnOwogICAgICAgIH0sCiAgICAgICAgZ2V0Q29udGVudDogZnVuY3Rpb24oZmFrZVN0dWIsIGNhbGxiYWNrKSB7ICAvLyB0aGlzIOaMhyBwYXJzZXIKICAgICAgICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LnV1aWQgPSBkYXRhLm5leHR1dWlkOyAgLy8g57uZ5LiL5LiA6aG155SoCgogICAgICAgICAgICAgICAgY2FsbGJhY2soewogICAgICAgICAgICAgICAgICAgIGh0bWw6IGdldFBhZ2VVcmxIdG1sKGRhdGEucHJldXVpZCwgZGF0YS5uZXh0dXVpZCkgKyBkYXRhLkNvbnRlbnQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwogICAgICAgICAgICBleHBvcnRGdW5jdGlvbihkb25lLCB1bnNhZmVXaW5kb3csIHsgZGVmaW5lQXM6ICJnbV9tbnJfY3NfY2FsbGJhY2siIH0pOwoKICAgICAgICAgICAgdW5zYWZlV2luZG93LkNTLnBhZ2UucmVhZC5tYWluLmdldENoYXB0ZXJDb250ZW50KHVuc2FmZVdpbmRvdy5iaWQsIHVuc2FmZVdpbmRvdy51dWlkLCB1bnNhZmVXaW5kb3cuZ21fbW5yX2NzX2NhbGxiYWNrKTsKCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFBhZ2VVcmxIdG1sKHByZUNoYXB0ZXJVVUlELCBuZXh0Q2hhcHRlclVVSUQpIHsKICAgICAgICAgICAgICAgIHZhciBwcmVSZWFkVXJsID0gX2dldFJlYWRQYWdlVXJsKHByZUNoYXB0ZXJVVUlEKSwKICAgICAgICAgICAgICAgICAgICBuZXh0UmVhZFVybCA9IF9nZXRSZWFkUGFnZVVybChuZXh0Q2hhcHRlclVVSUQpOwoKICAgICAgICAgICAgICAgIHJldHVybiAnPGEgaWQ9InJpZ2h0RmxvYXRCYXJfcHJlQ2hhcHRlckJ0biIgaHJlZj0iJyArIHByZVJlYWRVcmwgKyAnIj7kuIrkuIDpobU8L2E+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICc8YSBpZD0icmlnaHRGbG9hdEJhcl9uZXh0Q2hhcHRlckJ0biIgaHJlZj0iJyArIG5leHRSZWFkVXJsICsgJyI+5LiL5LiA6aG1PC9hPicgKyAnXG4nOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBfZ2V0UmVhZFBhZ2VVcmwodXVpZCkgewogICAgICAgICAgICAgICAgaWYgKCF1dWlkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdqYXZhc2NyaXB0OnZvaWQoMCk7JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciB1cmwgPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoL1s/fCNdLiovZ2ksICcnKTsKICAgICAgICAgICAgICAgIHJldHVybiB1cmwucmVwbGFjZSgvKFxkKStcLmh0bWwvLCB1dWlkICsgJy5odG1sJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKICAgIHtzaXRlTmFtZTogIue6teaoquS4reaWh+e9kSIsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly9ib29rXFwuem9uZ2hlbmdcXC5jb20vXFxTK1xcL1xcZCtcXC5odG1sJCIsCiAgICAgICAgY29udGVudEhhbmRsZTogZmFsc2UsCiAgICAgICAgLy8gdGl0bGVSZWc6ICIoLio/KS0oLiopIiwKICAgICAgICB0aXRsZVNlbGVjdG9yOiAiZW1baXRlbXByb3A9J2hlYWRsaW5lJ10iLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiLm5hdj5hOmxhc3QiLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCcud2F0ZXJtYXJrJykucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vIOe7meesrOWHoOeroOa3u+WKoOepuuagvAogICAgICAgICAgICB2YXIgY2hhcHRlclRpdGxlID0gZmFrZVN0dWIuZmluZCgiLnRjID4gaDIiKS50ZXh0KCk7CiAgICAgICAgICAgIHZhciBjaGFwdGVyVGl0bGUxID0gZmFrZVN0dWIuZmluZCgiLnRjID4gaDIgZW0iKS50ZXh0KCk7CiAgICAgICAgICAgIGlmKGNoYXB0ZXJUaXRsZTEpIHsKICAgICAgICAgICAgICAgIGNoYXB0ZXJUaXRsZSA9IGNoYXB0ZXJUaXRsZS5yZXBsYWNlKGNoYXB0ZXJUaXRsZTEsICIgIikgKyBjaGFwdGVyVGl0bGUxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoInRpdGxlIikudGV4dCgKICAgICAgICAgICAgICAgIGZha2VTdHViLmZpbmQoIi50YyA+IGgxIikudGV4dCgpICsgIi0iICsgY2hhcHRlclRpdGxlCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIuaZi+axn+aWh+Wtpue9kSIsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wuamp3eGNcLm5ldFwvb25lYm9va1wucGhwXFMqLywKICAgICAgICB0aXRsZVJlZzogL+OAiiguKj8p44CLLirLhyguKj8py4cuKi8sCiAgICAgICAgaW5kZXhTZWxlY3RvcjogIi5ub3ZlbHRpdGxlID4gaDEgPiBhIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcubm92ZWx0ZXh0JywKICAgICAgICBjb250ZW50SGFuZGxlOiBmYWxzZSwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnZm9udFtjb2xvcl0sIGhyJywKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgnaDInKS5yZW1vdmUoKTsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgnI3NpeF9saXN0LCAjc2VuZEtpbmdUaWNrZXRzJykucGFyZW50KCkucmVtb3ZlKCk7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoImRpdi5ub3ZlbHRleHQiKS5maW5kKCJkaXY6Zmlyc3QsIGgxLCBkaXZbc3R5bGVdOmxhc3QiKS5yZW1vdmUoKTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi5r2H5rmY5Lmm6ZmiIiwKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLnh4c3lcXC5uZXQvYm9va3MvLipcXC5odG1sIiwKICAgICAgICB0aXRsZVJlZzogIiguKj8pICguKikiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiN6amNvbnRlbnRkaXYiLAogICAgICAgIG5leHRTZWxlY3RvcjogImFbdGl0bGU9J+mYheivu+S4i+S4gOeroOiKgiddIiwKICAgICAgICBjb250ZW50SGFuZGxlOiBmYWxzZSwKICAgICAgICBjb250ZW50UmVwbGFjZTogIuacrOS5pueUsea9h+a5mOS5pumZoummluWPke+8jOivt+WLv+i9rOi9ve+8gSIsCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoInRpdGxlIikudGV4dChmYWtlU3R1Yi5maW5kKCdtZXRhW25hbWU9ImtleXdvcmRzIl0nKS5hdHRyKCJjb250ZW50IikpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLpgJDmtaoiLAogICAgICAgIHVybDogL15odHRwOlwvXC9ib29rXC56aHVsYW5nXC5jb21cLy4qXC5odG1sLywKICAgICAgICB0aXRsZVJlZzogLyguKj8pLSguKikvLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNyZWFkcGFnZV9sZWZ0bnR4dCIsCiAgICAgICAgY29udGVudEhhbmRsZTogZmFsc2UsCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIHZhciB0aXRsZSA9IGZha2VTdHViLmZpbmQoIi5yZWFkcGFnZV9sZWZ0bnpneCBhOmZpcnN0IikudGV4dCgpICsgIi0iICsKICAgICAgICAgICAgICAgIGZha2VTdHViLmZpbmQoIi5yZWFkcGFnZV9sZWZ0bnRpdCIpLnRleHQoKTsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgndGl0bGUnKS5odG1sKHRpdGxlKTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi5bCP6K+06ZiF6K+7572RIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwucmVhZG5vdmVsXFwuY29tL25vdmVsLy4qXFwuaHRtbCIsCiAgICAgICAgdGl0bGVTZWxlY3RvcjogIi5iZ3RvcCA+IGgxIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogIi5ub3duYXYgPiBhOmVxKDQpIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjYXJ0aWNsZSwgLnpoYW5namllIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiZGl2W3N0eWxlXSwgLm1pYW9zaHUsIC56aGljaGksIC5ib3R0b21BZGJhbm5lciIsCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1YikgewogICAgICAgICAgICAvLyDliKDpmaTmoIfpopjkuI3pnIDopoHnmoTpg6jliIYKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgiLmJndG9wID4gaDEgPiBzcGFuIikucmVtb3ZlKCk7CiAgICAgICAgfQogICAgfSwKICAgIC8vIHtzaXRlTmFtZTogIuejqOmTgSIsCiAgICAvLyAJdXJsOiAnaHR0cDovL3d3dy5tb3RpZS5jb20vYm9vay9cXGQrX1xcZCsnLAogICAgLy8gCWNvbnRlbnRTZWxlY3RvcjogJy5wYWdlLWNvbnRlbnQnCiAgICAvLyB9LAoKICAgIHtzaXRlTmFtZTogIueZvuW6pui0tOWQp++8iOaJi+WKqOWQr+eUqO+8iSIsCiAgICAgICAgZW5hYmxlOiBmYWxzZSwKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvdGllYmFcLmJhaWR1LmNvbVwvcFwvLywKICAgICAgICB0aXRsZVNlbGVjdG9yOiAiaDEuY29yZV90aXRsZV90eHQiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiLmNhcmRfdGl0bGVfZm5hbWUiLAogICAgICAgIG5leHRTZWxlY3RvcjogZmFsc2UsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogJ2EuY2FyZF90aXRsZV9mbmFtZScsCiAgICAgICAgcHJldlNlbGVjdG9yOiBmYWxzZSwKCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2pfcF9wb3N0bGlzdCIsCiAgICAgICAgY29udGVudFJlbW92ZTogIiNzb2ZhX3Bvc3QsIC5kX2F1dGhvciwgLnNoYXJlX2J0bl93cmFwcGVyLCAuY29yZV9yZXBseSwgLmpfdXNlcl9zaWduIiwKICAgICAgICBzdHlsZTogIi5jbGVhciB7IGJvcmRlci10b3A6MXB4IHNvbGlkICNjY2NjY2M7IG1hcmdpbi1ib3R0b206IDUwcHg7IHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDt9IiwgIC8vIOaYvuekuualvOWxgueahOWIhuWJsue6vwogICAgfSwKICAgIC8vIHtzaXRlTmFtZTogIuWkqea2r+WcqOe6v+S5puW6k++8iOmDqOWIhuaUr+aMge+8iSIsCiAgICAvLyAgICAgdXJsOiAvd3d3XC50aWFueWFib29rXC5jb21cLy4qXC5odG0vLAogICAgLy8gICAgIHRpdGxlU2VsZWN0b3I6ICIubWF4LCBoMTpmaXJzdCIsCiAgICAvLyAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICJ0ZFt3aWR0aD0nNzAlJ10gPiBhW2hyZWYkPSdpbmRleC5odG0nXSIsCiAgICAvLyAgICAgY29udGVudFNlbGVjdG9yOiAiZGl2ID4gc3Bhbi5taWRkbGUsICN0ZXh0cyIsCiAgICAvLyAgICAgY29udGVudEhhbmRsZTogZmFsc2UsCiAgICAvLyB9LAogICAge3NpdGVOYW1lOiAi5aSp5rav5Lmm5bqTIiwKICAgICAgICB1cmw6IC93d3dcLnR5MjAxNlwuY29tXC8uK1wuaHRtbCQvLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICJoMSIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIuY3J1bWIgYVtocmVmPScuLyddIiwKCiAgICAgICAgaW5kZXhTZWxlY3RvcjogInRkIGFbaHJlZj0nLi8nXSIsCgogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNtYWluIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnLmNydW1iLCB0YWJsZScsCiAgICAgICAgY29udGVudEhhbmRsZTogZmFsc2UsCiAgICB9LAoKICAgIC8vIHtzaXRlTmFtZTogIuaYk+ivuyIsCiAgICAvLyAgICAgdXJsOiAiaHR0cDovL3d3dy55aS1zZWUuY29tL3JlYWRfXFxkK19cXGQrLmh0bWwiLAogICAgLy8gICAgIGNvbnRlbnRTZWxlY3RvcjogJ3RhYmxlW3dpZHRoPSI5MDBweCJdW2FsaWduPSJDRU5URVIiXScKICAgIC8vIH0sCiAgICB7c2l0ZU5hbWU6ICLnh4PmlociLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLig/OnJhbndlblwuY2N8NjRtaVwuY29tKVwvLipcLmh0bWwkLywKICAgICAgICB0aXRsZVJlZzogLyguKj8pLSguKj8pLeeHg+aWhy8sCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI29sZHRleHQsICNjb250ZW50cyIsCiAgICAgICAgY29udGVudFJlbW92ZTogImRpdltzdHlsZV0sIHNjcmlwdCIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgL1woKCZuYnNwOykqXCkvZywKICAgICAgICAgICAgL+acgOW/q+abtOaWsDc45bCP6K+0fFwoP+eZvuW6puaQnC5cKXzorr/pl67kuIvovb10WHTlsI/or7R855m+5bqm5pCcXHzntKJ85paHXHzlraZ85paH5a2m5YWo5paHLuWtl+aJi+aJk3xcKCgmbmJzcDspK3zniZvov4fkuK3mlocuLmhqc20uLummluWPkS7ovazovb3or7fkv53nlZl8XFvmnKzmlofmnaXoh6pcXXzimaDmgJ3imaXot6/imaPlrqLjg6x84oC75LqU5pyI5Lit5paH572RIDV5IOKAu3zml6DplJnkuI3ot7PlrZd85pyA5b+r6ZiF6K+75bCP6K+05aSn5Li75a6wLip86Lef5oiR6K+777yo77yNde+8jW4g6K+354mi6K6wfOmdnuW4uOaWh+WtpnzlhbPpl60mbHQ75bm/5ZGKJmd0O3x3IHcuKnzigJ3lqLHkuZDnp4DigJ185pu05aSa57K+5b2p5bCPW+ivtOiqql0uKnzpq5jpgJ/mm7TmlrAvZywKICAgICAgICAgICAgL1tcKFwq4peOXSoo55m+5bqm5pCcKT/mlocuP1vlrbjlraZdLj9b6aaG6aSoXVtcKVwq77yJXSp8XCjnmb7luqbmkJxcKS9nLAogICAgICAgICAgICAv5o+Q5L6b5peg5by556qX5YWo5paH5a2X5Zyo57q/6ZiF6K+7Lip86auY6YCf6aaW5Y+RLirlpoLmnpzkvaDop4nnmoTmnKznq6DoioLov5jkuI3plJnnmoTor50uKi9nLAogICAgICAgICAgICAv5Lmm572R4oi35pu05paw5b+r4oi35peg5by556qX4oi357qv5paH5a2X4oi3LnTvvIHjgIIvZywKICAgICAgICAgICAgL+S4gOenkuiusOS9j++8jOacrOermeS4uuaCqOaPkOS+m+eDremXqOWwj+ivtOWFjei0uemYheivu+OAgi9nLAogICAgICAgICAgICAvXCjmm7TmlrDpgJ/luqbmnIDlv6vorrDkvY/ljbPlj6/mib7liLBcKXzoipLmnpznm7Tmkq3nvZF8Lm1nemhpYm8gLnzljrsg6K+7IOivu3znnIvlsI/or7TlsLHliLAvZywKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi54eD5paH5bCP6K+0572RIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwucmFud2VueGlhb3NodW9cXC5jb20vZmlsZXMvYXJ0aWNsZS9odG1sL1xcZCsvXFxkKy9cXGQrXFwuaHRtbHxodHRwOi8vd3d3XFwucmFud2VueGlhb3NodW9cXC5jb20vXFx3Ky9cXHcrLVxcZCstXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAvKC4qPynmnIDmlrDnq6DoioIoLio/KeWcqOe6v+mYheivuy4qLywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjZm9udHNpemUiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAi5aSp5omN5LiA56eS6K6w5L2PW1xcc1xcU10r5Li65oKo5o+Q5L6b57K+5b2p5bCP6K+06ZiF6K+744CCIiwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLnh4PmloflsI/or7QiLAogICAgICAgIHVybDogImh0dHA6Ly93d3dcXC5yYW53ZW5cXC5uZXQvZmlsZXMvYXJ0aWNsZS9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAiKFxcUyspICguKikgLSDnh4PmloflsI/or7QiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAiXFwoLirnh4PmloflsI/or7QuKlxcKXzjgJAg5rOo5YaM5Lya5ZGY5Y+v6I6356eB5Lq65Lmm5p6277yM55yL5Lmm5pu05pa55L6/77yB5rC45LmF5Zyw5Z2A77yaIOOAkSAiCiAgICB9LAogICAge3NpdGVOYW1lOiAi5peg6ZSZ5bCP6K+0572RIiwKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC4oPzp3Y3hpYW9zaHVvfHhpYW9zaHVvenxxdWxlZHUpXC5jb21cL3djeHNbLVxkXStcLy8sCiAgICAgICAgdGl0bGVSZWc6IC8oLio/KeacgOaWsOeroOiKgi4qPy0oLio/KS0uKi8sCiAgICAgICAgdGl0bGVQb3M6IDEsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAiYSNodG1seGlhemhhbmciLAogICAgICAgIHByZXZTZWxlY3RvcjogImEjaHRtbHNoYW5nemhhbmciLAogICAgICAgIGluZGV4U2VsZWN0b3I6ICJhI2h0bWxtdWx1IiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAnaWxvLWZ1bGwtc3JjPSJcXFMrXFwuanBnIiAnLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAnKDxjZW50ZXI+KT88P2ltZyBzcmMuLihodHRwOi8vd3d3LndjeGlhb3NodW8uY29tKT8oL3Nzcy9cXFMrXFwuanBnKS4oPnwgYWx0LiJcXGQrX1xcZCtfXFxkKlxcLmpwZyIgLz4pKDwvY2VudGVyPik/JzogJyQzJywKICAgICAgICAgICAgICAgICIvc3NzL2RhLmpwZyI6ICLmiZMiLCAiL3Nzcy9tYXdzLmpwZyI6ICLlkJfvvJ8iLCAiL3Nzcy9iYXcuanBnIjogIuWQp++8nyIsICIvc3NzL3d1Yy5qcGciOiAi5pegIiwgIi9zc3MvbWFvc3UuanBnIjogIu+8muKAnCIsICIvc3NzL2N1b3cuanBnIjogIumUmSIsICIvc3NzL3ppamkuanBnIjogIuiHquW3sSIsICIvc3NzL3NoZW5tZS5qcGciOiAi5LuA5LmIIiwgIi9zc3MvaHVpcXViLmpwZyI6ICLlm57ljrsiLCAiL3Nzcy9zamlhbi5qcGciOiAi5pe26Ze0IiwgIi9zc3Mvem9tZS5qcGciOiAi5oCO5LmIIiwgIi9zc3MvemhpZG8uanBnIjogIuefpemBkyIsICIvc3NzL3hpYXhpbi5qcGciOiAi55u45L+hIiwgIi9zc3MvZmF4aWFuLmpwZyI6ICLlj5HnjrAiLCAiL3Nzcy9zaGh1YS5qcGciOiAi6K+06K+dIiwgIi9zc3MvZGFqaWV4LmpwZyI6ICLlpKflp5AiLCAiL3Nzcy9kb25neGkuanBnIjogIuS4nOilvyIsICIvc3NzL2VyemliLmpwZyI6ICLlhL/lrZAiLCAiL3Nzcy9ndW9sYWlyLmpwZyI6ICLov4fmnaUiLCAiL3Nzcy94aWFiYW5nLmpwZyI6ICLkuIvnj60iLCAiL3Nzcy96YW5nZmwuanBnIjogIuS4iOWkqyIsICIvc3NzL2RpYW5odWEuanBnIjogIueUteivnSIsICIvc3NzL2h1aWxhaW0uanBnIjogIuWbnuadpSIsICIvc3NzL3hpYXd1LmpwZyI6ICLkuIvljYgiLCAiL3Nzcy9ndW9xdXUuanBnIjogIui/h+WOuyIsICIvc3NzL3NoYW5nYmEuanBnIjogIuS4iuePrSIsICIvc3NzL21pbmd0bi5qcGciOiAi5piO5aSpIiwgIi9zc3MvbnZyZW5qai5qcGciOiAi5aWz5Lq6IiwgIi9zc3Mvc2hhbmd3by5qcGciOiAi5LiK5Y2IIiwgIi9zc3Mvc2hqaS5qcGciOiAi5omL5py6IiwgIi9zc3MveGlhb3hpbnl5LmpwZyI6ICLlsI/lv4MiLCAiL3Nzcy9mdXJlbmUuanBnIjogIuWkq+S6uiIsICIvc3NzL2dvbmd6aWguanBnIjogIuWFrOWtkCIsICIvc3NzL3hpYW5zZy5qcGciOiAi5YWI55SfIiwgIi9zc3MvcGVueW91eGkuanBnIjogIuaci+WPiyIsICIvc3NzL3hpYW9qZS5qcGciOiAi5bCP5aeQIiwgIi9zc3MveGlmdXAuanBnIjogIuWqs+WmhyIsICIvc3NzL252eHVkamouanBnIjogIuWls+WpvyIsICIvc3NzL3hvbmRpLmpwZyI6ICLlhYTlvJ8iLCAiL3Nzcy9sYWdvbmcuanBnIjogIuiAgeWFrCIsICIvc3NzL2xhcG8uanBnIjogIuiAgeWphiIsICIvc3NzL21laW1laWQuanBnIjogIuWmueWmuSIsICIvc3NzL2ppZWppZXYuanBnIjogIuWnkOWnkCIsICIvc3NzL2ppZW1laXYuanBnIjogIuWnkOWmuSIsICIvc3NzL3hpYW5nZ3guanBnIjogIuebuOWFrCIsICIvc3NzLzZzaGVudW1ldi5qcGciOiAi5LuA5LmIIiwgIi9zc3MvY3VvYXcuanBnIjogIumUmSIsICIvc3NzL2ZwZWZueW90dXJ4aS5qcGciOiAi5pyL5Y+LIiwgIi9zc3MvdmZzamdpZ2Fybi5qcGciOiAi5pe26Ze0IiwgIi9zc3MvenpoaWVkbzMuanBnIjogIuefpemBkyIsICIvc3NzL3ppYmppYi5qcGciOiAi6Ieq5bexIiwgIi9zc3MvcWRvbmdseGkuanBnIjogIuS4nOilvyIsICIvc3NzL2h4aWFweGludC5qcGciOiAi55u45L+hIiwgIi9zc3MvZmV6cm9ybXJlLmpwZyI6ICLmgI7kuYgiLCAiL3Nzcy9udmRyZmVuZmpmai5qcGciOiAi5aWz5Lq6IiwgIi9zc3MvamhpaGVlamVpZWV2LmpwZyI6ICLlp5Dlp5AiLCAiL3Nzcy94ZGlmYWdvamdlLmpwZyI6ICLlsI/lp5AiLCAiL3Nzcy9nZ2d1Z29sZ2Fpci5qcGciOiAi6L+H5p2lIiwgIi9zc3MvbWFvYXNodS5qcGciOiAi77ya4oCcIiwgIi9zc3MvZ254bmlmYXdodS5qcGciOiAi5LiL5Y2IIiwgIi9zc3Mvcmd0dWdvcWd1Z3UuanBnIjogIui/h+WOuyIsICIvc3NzL2toanVraWxrYWltLmpwZyI6ICLlm57mnaUiLCAiL3Nzcy9neGhpZ2ZhZG5veGlobnl5LmpwZyI6ICLlsI/lv4MiLCAiL3Nzcy9ia2Jza2hodWthLmpwZyI6ICLor7Tor50iLCAiL3Nzcy94ZWllYXZuZnNnLmpwZyI6ICLlhYjnlJ8iLCAiL3Nzcy95dWhoZnVpdXF1Yi5qcGciOiAi5Zue5Y67IiwgIi9zc3MvcGRpYW5waHVhLmpwZyI6ICLnlLXor50iLCAiL3Nzcy9mYWJ4aWFuci5qcGciOiAi5Y+R546wIiwgIi9zc3MvZmVpbHJwdG8uanBnIjogIuiAgeWphiIsICIvc3NzL2d4cm9uZmRyaS5qcGciOiAi5YWE5byfIiwgIi9zc3MvZmxmYWdnb2ZuZy5qcGciOiAi6ICB5YWsIiwgIi9zc3MvdHlteWlnbmd0eW4uanBnIjogIuaYjuWkqSIsICIvc3NzL2Rmc2hmaGhmamZpLmpwZyI6ICLmiYvmnLoiLCAiL3Nzcy9nc3RqaHJhbmpnd2pvLmpwZyI6ICLkuIrljYgiLCAiL3Nzcy9mbWdleWltZWhpZC5qcGciOiAi5aa55aa5IiwgIi9zc3MvZ3hnaWhmdHV0cC5qcGciOiAi5aqz5aaHIiwgIi9zc3MvY2VyenRpZmIuanBnIjogIuWEv+WtkCIsICIvc3NzL2dmeGdpZ2FnYmZhZG5nLmpwZyI6IuS4i+ePrSIsICIvc3NzL2dzdGpocmFuamcuanBnIjoi5LiL5Y2IIiwgIi9zc3MvaGplaXJlcm02ZWlodi5qcGciOiAi5aeQ5aa5IiwgIi9zc3MvZWRhamloZXhyLmpwZyI6ICLlpKflp5AiLCAiL3Nzcy93ZXNmaHJhbnJyZ2JhLmpwZyI6ICLkuIrnj60iLCAiL3Nzcy9nZm9nbmdnemlnaC5qcGciOiAi5YWs5a2QIiwgIi9zc3MvZnJ1cnRlZm5lLmpwZyI6ICLlpKvkuroiLCAiL3Nzcy9memFnbmdnZmJsLmpwZyI6ICLkuIjlpKsiLCAiL3Nzcy9udmR4ZnVkZmpmai5qcGciOiAi5aWz5am/IiwgIi9zc3MveGRpZGFmbmdneC5qcGciOiAi55u45YWsIiwgIi9zc3MvemVubWUuanBnIjogIuaAjuS5iCIsICIvc3NzL2dvbmd6aS5qcGciOiAi5YWs5a2QIiwgIi9zc3MvZGRlZnIuanBnIjogIiIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICIuKmRkZWZyXFwuanBnLip85pegKD866ZSZfC4qY3VvYT93XFwuanBnLiop5bCP6K+0572R5LiNW+Wwkei3s13lrZd8d1thLXpcXC5dKm9tP3wuKueUsVvjgJDml6Aq6ZSZ44CRXS4q5Lya5ZGY5omL5omTW1xcc1xcU10qIiwKICAgICAgICAgICAgIuaXoOmUmeS4jei3s+Wtl3zml6Dlub/lkYrnnIvnnYDlsLHmmK/niL0hfOS4gOenkuiusOS9jy4qfOWFqOaWh+WFjei0uemYheivuy4qfDggOSDpmIXpmIUg6K+7IOe9kXznnIvlsI/or7TmnIDlv6vmm7TmlrB84oCc5bCPI+ivtOeci+acrOS5puaXoOW5v+WRiuabtOaWsOacgOW/q+KAnSIsCiAgICAgICAgICAgICJbXFx4MjAtXFx4N2XjgItdP+aXoCg/Oi58Jmd0OynplJku5bCP6K+0LnsxLDJ9W++8t3ddKy4qP1tj77yjXVtv77yvXVtt77ytXSIsCiAgICAgICAgICAgICI85pegLemUmT4iLAogICAgICAgICAgICAi4oCU5peg4oCU6ZSZ4oCU5bCP6K+0IiwKICAgICAgICAgICAgIlxcK+aXoFxcK+mUmVxcKyIsCiAgICAgICAgICAgICImYW1wO+aXoCZhbXA76ZSZJmFtcDvlsI/or7QiLAogICAgICAgICAgICAi5peg6ZSZ5bCP6K+0IHd3dy5xdWxlZFvvvLV1XS5jb20iLAogICAgICAgIF0sCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIC8vIOWOu+mZpOWGheWuueW8gOWktOOAgee7k+WwvueahOmHjeWkjeagh+mimAogICAgICAgICAgICB2YXIgdGl0bGUgPSBmYWtlU3R1Yi5maW5kKCIjaHRtbHRpbXUiKS50ZXh0KCkucmVwbGFjZSgvXHMrLywgIlxccyoiKTsKICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBmYWtlU3R1Yi5maW5kKCIjaHRtbENvbnRlbnQiKTsKICAgICAgICAgICAgY29udGVudC5maW5kKCJkaXZbYWxpZ249J2NlbnRlciddIikucmVtb3ZlKCk7CiAgICAgICAgICAgIGlmKHRpdGxlLm1hdGNoKC/nrKxcUyvnq6AvKSl7CiAgICAgICAgICAgICAgICBjb250ZW50Lmh0bWwoY29udGVudC5odG1sKCkucmVwbGFjZShuZXcgUmVnRXhwKHRpdGxlKSwgIiIpLnJlcGxhY2UobmV3IFJlZ0V4cCh0aXRsZSksICIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAn5Yek6Iie5paH5a2m572RJywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLig/OnFpdXd1XFwubmV0fGZlbmd3dVxcLm9yZykvaHRtbC9cXGQrL1xcZCsvXFxkK1xcLmh0bWwnLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICc8aW1nIHNyYz0iL2tleXdkL1I0My5naWYiPic6J+eIsScsICc8aW1nIHNyYz0iL2tleXdkL0ExMy5naWYiPic6ICfmg4UnLCAnPGltZyBzcmM9Ii9rZXl3ZC9EMTAuZ2lmIj4nOiAn5bqKJywKICAgICAgICAgICAgICAgICc8aW1nIHNyYz0iL2tleXdkL1kxOS5naWYiPic6ICflpbgnLCAnPGltZyBzcmM9Ii9rZXl3ZC9IMjEuZ2lmIj4nOiAn5bGBJywgJzxpbWcgc3JjPSIva2V5d2QvWjIzLmdpZiI+JzogJ+mAvCcsCiAgICAgICAgICAgICAgICAnPGltZyBzcmM9Ii9rZXl3ZC9HNDIuZ2lmIj4nOiAn6LqrJywgJzxpbWcgc3JjPSIva2V5d2QvWTIuZ2lmIj4nOifmgKcnLCAnPGltZyBzcmM9Ii9rZXl3ZC9EMzIuZ2lmIj4nOifng60nLAogICAgICAgICAgICAgICAgJzxpbWcgc3JjPSIva2V5d2QvSTQ0LmdpZiI+Jzon5oy6JywgJzxpbWcgc3JjPSIva2V5d2QvSDMwLmdpZiI+Jzon6LSxJywgJzxpbWcgc3JjPSIva2V5d2QvSDI1LmdpZiI+Jzon6I2hJywKICAgICAgICAgICAgICAgICc8aW1nIHNyYz0iL2tleXdkL1Y3LmdpZiI+Jzon6IKJJywgJzxpbWcgc3JjPSIva2V5d2QvTzIyLmdpZiI+Jzon5ZCuJywgJzxpbWcgc3JjPSIva2V5d2QvSDkuZ2lmIj4nOifmmKUnLAogICAgICAgICAgICAgICAgJzxpbWcgc3JjPSIva2V5d2QvSzM2LmdpZiI+Jzon5pelJywgJzxpbWcgc3JjPSIva2V5d2QvTzE1LmdpZiI+Jzon6IO4JywgJzxpbWcgc3JjPSIva2V5d2QvUzMxLmdpZiI+Jzon5qyyJywKICAgICAgICAgICAgICAgICc8aW1nIHNyYz0iL2tleXdkL0YyMC5naWYiPic6J+WwhCcsICc8aW1nIHNyYz0iL2tleXdkL04xMi5naWYiPic6J+emgScsICc8aW1nIHNyYz0iL2tleXdkL1IyNi5naWYiPic6J+auvycsCiAgICAgICAgICAgICAgICAnPGltZyBzcmM9Ii9rZXl3ZC9YNi5naWYiPic6J+ivsScsICc8aW1nIHNyYz0iL2tleXdkL1U0Ni5naWYiPic6ICflqIcnLAogICAgICAgICAgICAgICAgJzxpbWcgc3JjPSIva2V5d2QvTTI0LmdpZiI+JzogJ+aTjScsICc8aW1nIHNyYz0iL2tleXdkL0I0LmdpZiI+Jzon6aqaJywgJzxpbWcgc3JjPSIva2V5d2QvTzMuZ2lmIj4nOifpmLQnLAogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuS5pui/t+alvCIsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wuc2h1bWlsb3VcLig/OmNvfHVzKVwvLipodG1sJC8sCiAgICAgICAgdGl0bGVSZWc6IC8oLiopICguKj8pIOS5pui/t+alvC8sCiAgICAgICAgdGl0bGVQb3M6IDEsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2NvbnRlbnQiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICdhLCBjZW50ZXInLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICdkaXYgbGlnbj0iZW5lciImZ3Q7fC4q5pu05aSa56ug6IqC6K+35Yiw572R5Z2A6ZqG6YeN5o6o6I2Q5Y676Zmk5bm/5ZGK5YWo5paH5a2X5bCP6K+06ZiF6K+75ZmoJywKICAgICAgICAgICAgJ+i1t+eCueS4reaWh+e9kXd3dy5xaWRpYW4uY29t5qyi6L+O5bm/5aSn5LmmLionLAogICAgICAgICAgICAn5Lmm6L+35qW85pyA5b+r5pu05pawLionLAogICAgICAgICAgICAn5pu05paw5pyA5b+r5pyA56iz5a6aJywKICAgICAgICAgICAgJ1xcKFxcLlxcKVI/VScsCiAgICAgICAgICAgIHsnPHA+XFw/XFw/JzogJzxwPid9LAogICAgICAgICAgICAnXFwod3d3LlxcKScsCiAgICAgICAgICAgICfnq6DoioLmm7TmlrDmnIDlv6snLAogICAgICAgICAgICAnLeS5kC3or7st5bCPLeivtC0t5LmQ6K+7eC0nLAogICAgICAgICAgICAn44CK5LmQ44CL44CK6K+744CL5bCP6K+0LuS5kOivuy5Db20nLAogICAgICAgICAgICAn57qv5paH5a2X5Zyo57q/6ZiF6K+75pys56uZ5Z+f5ZCN5omL5py65ZCM5q2l6ZiF6K+76K+36K6/6ZeuJywKICAgICAgICAgICAgJy3kvJjvvI3kvJjvvI3lsI/vvI3or7TvvI3mm7TvvI3mlrDvvI3mnIDvvI3lv6std3d3LnV1eHMuY2MtJywKICAgICAgICAgICAgJ1xcKOacrOeroOWFjei0uVxcKScsCiAgICAgICAgXSwKICAgICAgICBmaXhJbWFnZTogdHJ1ZSwKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgiI2NvbnRlbnQiKS5maW5kKCJkaXYudGl0bGU6bGFzdCIpCiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oZmFrZVN0dWIuZmluZCgnYm9keScpKTsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgiI2NvbnRlbnQiKS5maW5kKCJkaXYudGl0bGUsIHAgPiBiLCBkaXZbc3R5bGVdIikucmVtb3ZlKCk7CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWGsOeBq+S4reaWhyIsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wuYmluaHVvXC5jb21cL2h0bWxcL1tcZFwvXStcLmh0bWwkLywKICAgICAgICB0aXRsZVJlZzogLyguKj8p5pyA5paw56ug6IqCLCguKj8pLS4qLywKICAgICAgICBmaXhJbWFnZTogdHJ1ZSwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnZm9udFtjb2xvcj0icmVkIl0nLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiB7CiAgICAgICAgICAgICImbHQ75Yaw54GrI+S4reaWhy4qfOWGsOeBq+S4reaWhyZuYnNwOyh3d3cuKT9iaW5odW8uY29tKD8644CQ6aaW5Y+R44CRfCl85YawLueBqy7kuK3mlod857u/6Imy5bCP6K+0fGx2c2V4c3zlhrDngavkuK3mlociOiAiIiwKICAgICAgICAgICAgIkxVNS7vvYPvvY9NfGxV77yVLmNvbXxMVTUuY29tIjoiIiwKICAgICAgICAgICAgIihbXi9dKXd3d1xcLmJpbmh1b1xcLmNvbSg/OlxcLmNvbXwpIjogIiQxIiwKICAgICAgICAgICAgIlxcKC4qP+W5s+WNl+aWh+Wtpue9kVxcKSI6ICIiLAogICAgICAgIH0sCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoIiNCb29rVGV4dCIpLmFwcGVuZChmYWtlU3R1Yi5maW5kKCJpbWcuaW1hZ2Vjb250ZW50IikpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLnmb7mmZPnlJ8iLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLmJ4c1wuY2NcL1xkK1wvXGQrXC5odG1sLywKICAgICAgICB0aXRsZVJlZzogLyguKj8pXGQqLCguKikvLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICdhLCAjdHh0cmlnaHQnLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgIC/kuIDnp5LorrDkvY/jgJDjgJF3d3cuemFpZHUuY2PvvIzmnKznq5nkuLrmgqjmj5Dkvpvng63pl6jlsI/or7TlhY3otLnpmIXor7vjgIIvaWcsCiAgICAgICAgICAgIC/vvIjmlocmbmJzcDvlrbjppoZ3Jm5ic3A7d3cudyZuYnNwO3hndWFuLmMmbmJzcDtvbe+8iS9pZywKICAgICAgICAgICAgL++8iOeZvuaZk+eUn+abtOaWsOacgOW/q+acgOeos+WumlwpL2csCiAgICAgICAgICAgIC9cKCg/OiZuYnNwOykqKD865peg5by556qXKT/lhajmlofpmIXor7tcKS9pZywKICAgICAgICAgICAgL1xbPGEuKj/pppblj5FcW+eZvuaZk+eUn1xdIFxTKy9pZywKICAgICAgICAgICAgL+mrmOmAn+mmluWPkS4q5pys56ug6IqC5piv5Zyw5Z2A5Li6L2lnLAogICAgICAgICAgICAvXC9cLyg/OiZuYnNwO3zorr/pl67kuIvovb10eHTlsI/or7R86auY6YCf5pu05pawKStcL1wvL2lnLAogICAgICAgICAgICAvKHd3d1wuKT9ieHNcLmNjfHd3d1wuYnhzKFwuY29tKT8vaWcsCiAgICAgICAgICAgIC/nmb7mmZPnlJ8u5LiN6Lez5a2XfOS4jei3s+Wtl+OAgnzmm7TmlrDlv6vnuq/mloflrZcvaWcsCiAgICAgICAgICAgIC9cLlxb77yM77yBXF0vaWcsCiAgICAgICAgICAgIC/vvIjmnKrlrozlvoXnu60mbmJzcDtodHRwOlwvXC93d3cuQnhzLmNjJm5ic3A7ODnlhY3otLnlsI/or7TpmIXjgIrnmb7mmZPnlJ/mloflrabnvZHjgIvvvIkvZywKICAgICAgICAgICAgL+OAlueZvuaZk+eUn+KIty4q44CXfOOAij/nmb7mmZPnlJ/mloflrabnvZHjgIs/fOacgOW/q+mYheivu+Wwj+ivtOWkp+S4u+WusO+8jOWwveWcqOeZvuaZk+eUn+aWh+Wtpue9kS4qfHd3Lngub2185qyi6L+O5aSn5a625p2l5YiwLio/YnhzXC5jY3znmb7mmZPnlJ/pmIXor7vmnIDmlrDmnIDlhajnmoTlsI/or7QuKnznmb7mmZPnlJ/nvZHkuI3lsJHlrZd856uZ6ZW/5o6o6I2QLip85paH5a2X6aaW5Y+RfOeZvi7mmZMu55SfLnzlhbPpl60uKuW5v+WRii4qfOmjmOWkqeaWh+WtpnzmnKznq5nln5/lkI3lsLHmmK8uKnxcKC57MCw1feWwj+ivtOabtOW/q+abtOWlvS57MCw1fVwpfCjor7flnKgpP+eZvuW6puaQnOe0oi4qfOS4gOenkuiusOS9jy4q5Li65oKo5o+Q5L6b57K+5b2p5bCP6K+06ZiF6K+7Lnznmb7mmZPnlJ98wqTmnKznq5nnvZHlnYDvvJrCpHxcL1wvJm5ic3A76K6/6Zeu5LiL6L29dHh05bCP6K+0XC9cL+KXjuKXjnznuq/nq5nngrlcXCIuKuWAvOW+l+aUtuiXj+eahC9pZywKICAgICAgICAgICAgL+aWh1vlrablrbhdW+mmhumkqF18d3d3XC5iaXF1Z2VcLmNjfChodHRwOlwvXC8pP3d3d1wuQnhzXC5jY3wo6K+354mi6K6wKT9zb3Vkde+8jm9yZy9pZywKICAgICAgICAgICAgL+ivt+aQnOe0ou+8jOWwj+ivtOabtOWlveabtOaWsOabtOW/qyF85pyA5b+r5paH5a2X5pu05paw5peg5by556qX5peg5bm/fFwo5Y2z5Y+v5om+5Yiw5pys56uZXCl85peg5bm/5ZGK55yL552A5bCx5piv54i9IXzmm7TlpJrlhajmnKx0eHTlsI/or7Tor7fliLDkuIvovb184oi35pu05paw5b+r4oi34oi357qv5paH5a2X4oi3L2lnLAogICAgICAgICAgICAv5rC45LmF572R5Z2A77yM6K+354mi6K6w77yBL2lnLAogICAgICAgICAgICAvJm5ic3A7Jmd0OzxcL3A+L2lnLAogICAgICAgIF0sCiAgICB9LAogICAge3NpdGVOYW1lOiAi5rWp5aWH5paH5a2m572RIiwKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC5oYW9xaTk5XC5jb21cLy4qXC5zaHRtbCQvLAogICAgICAgIHRpdGxlUmVnOiAvXiguKj8pLS0oLio/KS0vLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuS5puays+Wwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wuc2h1aGVcLmNjXC9cZCtcL1xkKy8sCiAgICAgICAgdGl0bGVSZWc6ICIoW15cXGRdKylcXGQqLCguKj8pXyIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI1RYVCIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IC/kuIDnp5LorrDkvY8uKuS4uuaCqOaPkOS+m+eyvuW9qeWwj+ivtOmYheivuy58XHvor7flnKjnmb7luqbmkJzntKIuKummluWPkemYheivu1x9fO+8iOS5puays+Wwj+ivtOe9kS4qP+aXoOW8ueeql++8iXx3eHMub3x3dy54Lm9tfFtcW+OAkFwoXS57MSwzMH1bXF1cKeOAkV18ZmYzNzsuKnzkuabmsrPlsI/or7TnvZHpq5jpgJ/pppblj5EuKnxUWFTkuIvovb185YWo5paH6ZiF6K+7fOesrOS4gOS5puays+Wwj+ivtOe9kXznmb7kuabmlosuKnzpppblj5HmnaXoh6rkuabmsrPlsI/or7TnvZF85pys5Lmm5pyA5paw56ug6IqCfOS5puays+Wwj+ivtOe9kS9pZywKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLniLHmlLbol48iLAogICAgICAgIHVybDogL2h0dHA6XC9cL3d3d1wuYWlzaG91Y2FuZ1wuY29tXC9cdytcL1xkK1wuaHRtbC8sCiAgICAgICAgdGl0bGVSZWc6ICIoLio/KS0oLio/KS3niLHmlLbol48iLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiN6aHV0b25lIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogewogICAgICAgICAgICAiPGFbXj5dKj4oLio/KTwvYT4iOiAiJDEiLAogICAgICAgICAgICAiLueIseaUtuiXj1tePF0qIjogIiIKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi5pyo6bG85ZOlIiwKICAgICAgICB1cmw6IC9odHRwOlwvXC8od3d3XC4pP211eXVnZVwuKGNvbXxuZXQpXC9cdytcL1xkK1wuaHRtbC8sCiAgICAgICAgdGl0bGVTZWxlY3RvcjogIiN5dWVkdXllIGgxIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogIi5yZWFkZXJOYXYgPiBsaSA+IGE6bGFzdCIsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogIi5yZWFkZXJGb290ZXJQYWdlIGFbdGl0bGU9Jyjlv6vmjbc65Zue6L2m6ZSuKSddIiwKICAgICAgICAvLyB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgLy8gbXV0YXRpb25TZWxlY3RvcjogIiNjb250ZW50IiwKICAgICAgICAvLyBtdXRhdGlvbkNoaWxkQ291bnQ6IDEsCiAgICAgICAgY29udGVudFJlbW92ZTogIi52b3RlIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogewogICAgICAgICAgICAiPGFbXj5dKj4oLio/KTwvYT4iOiAiJDEiLAogICAgICAgICAgICAi55yL5pu05paw5pyA5b+r55qE5bCP6K+05bCx5pCc57Si4oCU4oCUIOacqOmxvOWTpeKAlOKAlOaXoOW8ueeql++8jOWFqOaWh+WtlyI6ICIiLAogICAgICAgICAgICAi44CQ55yL5pyA5paw5bCP6K+05bCx5pCc57SiLirlhajmloflrZfpppblj5HjgJEiOiAiIiwKICAgICAgICAgICAgIjxwPi4qP+aXoOW8ueeqlzwvcD4iOiIiLAogICAgICAgICAgICAiYmJcXC5raW5nfOOAkOacqCZuYnNwO+mxvCZuYnNwO+WTpSZuYnNwOy4qP+OAkXzjgJDkuIDnp5Lpkp/orrDkvY/mnKznq5nvvJptdXl1Z2UuY29tLirmnKjpsbzlk6XjgJEiOiIiLAogICAgICAgICAgICAi4oCU4oCU5o6o6I2Q6ZiF6K+74oCU4oCUW1xcc1xcU10rIjogIiIsCiAgICAgICAgICAgICLjgJBcXHMq5pyoXFxzKumxvFxccyrlk6UuKj/jgJEiOiIiLAogICAgICAgICAgICAiZGl2Jmd0O3wmbHQ777yN44CLIjogIiIsCiAgICAgICAgICAgICJcXCgucG4uIOW5s+WNl1xcKSI6ICIiLAogICAgICAgIH0sCiAgICAgICAgc3RhcnRGaWx0ZXI6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBjbGVhckludGVydmFsKHVuc2FmZVdpbmRvdy5zaG93KTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi6L+95Lmm572RIiwKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLnpodWlzaHVcXC5uZXQvZmlsZXMvYXJ0aWNsZS9odG1sLy4qXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6IC8oPzrmraPmlocgKT8oLiopIChcUyspIFxTKyAtIC4qLywKICAgICAgICB0aXRsZVBvczogMSwKICAgICAgICBpbmRleFNlbGVjdG9yOiAiLnBhZ2Vib3R0b20+YTpjb250YWlucygn55uu5b2VJykiLAogICAgICAgIG5leHRTZWxlY3RvcjogIi5wYWdlYm90dG9tPmE6Y29udGFpbnMoJ+S4i+S4gOmhtScpIiwKICAgICAgICBwcmV2U2VsZWN0b3I6ICIucGFnZWJvdHRvbT5hOmNvbnRhaW5zKCfkuIrkuIDpobUnKSIsCiAgICAgICAgZml4SW1hZ2U6IHRydWUsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2NvbnRlbnQiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiB7CiAgICAgICAgICAgICIoW14vXSl3d3dcXC5aaHVpc0h1XFwubmV0IjogIiQxIiwKICAgICAgICB9LAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCIjY29udGVudCA+IC50aXRsZSwgI2NvbnRlbnQgPiAucGFnZWJvdHRvbSIpLmFwcGVuZFRvKGZha2VTdHViLmZpbmQoImJvZHkiKSk7CgogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCIjY29udGVudCIpLmZpbmQoImNlbnRlciwgYjpjb250YWlucygn5pyA5b+r5pu05pawJykiKS5yZW1vdmUoKTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi54yq54yq5bKb5bCP6K+0IiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwuemh1emh1ZGFvXFwuKD86Y29tfGNjKS90eHQvIiwKICAgICAgICB0aXRsZVJlZzogIiguKj8p5pyA5paw56ug6IqCLSguKj8pLSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IC9b4oCcIuKAnV0/54yq54yq5bKb5bCP6K+0Lip8PFwvP2FbXj5dKz58dytcLnpodVpodURhb1wuY29tfOeci+abtOaWsOacgOW/q+eahC4qL2lnCiAgICB9LAogICAge3NpdGVOYW1lOiAi6YC45ZCN5paH5a2m5bGLIiwKICAgICAgICB1cmw6ICJodHRwOi8vKGJic1xcLnZ5bWluZ3x3d3dcXC45aW13KVxcLmNvbS9ub3ZlbC1yZWFkLVxcZCstXFxkK1xcLmh0bWwiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNzaG93Y29udGVudCIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIuaGVhZGluZm8gYTpmaXJzdCIsCiAgICAgICAgY29udGVudFJlbW92ZTogInA6Y29udGFpbnMo57K+5ZOB5o6o6I2Q77yaKSwgcDpjb250YWlucyjvvIzlhY3otLnlsI/or7TpmIXor7vln7rlnLDvvIEpLCBhIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAi6YC45ZCN5paH5a2m5bGL77yaIgogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLlpYfkuablsYsiLAogICAgICAgIHVybDogImh0dHA6Ly93d3cucWlzaHV3dS5jb20vXFx3Ky9cXGQrLyIsCiAgICAgICAgdGl0bGVSZWc6ICIoLiopXyguKilfLipf5aWH5Lmm5bGLIiwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICIxN2vlsI/or7TnvZEiLAogICAgICAgIHVybDogL15odHRwOlwvXC9cUytcLjE3a1wuY29tXC9jaGFwdGVyXC9cUytcL1xkK1wuaHRtbCQvLAogICAgICAgIHRpdGxlUmVnOiAvKC4qPyktKC4qPyktLiovLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNjaGFwdGVyQ29udGVudCIsCiAgICAgICAgY29udGVudFJlbW92ZTogIiNhdXRob3JTcGVuaywgLmxpa2VfYm94LCAjaG90UmVjb21tZW5kLCAuY3QwNDE2LCAucmVjZW50X3JlYWQsIGRpdltzdHlsZV0sICNtaW5pVm90ZUJveCIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLnnIvkuIvmloflraYiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwua2FueGlhXFwubmV0L2svXFxkKi9cXGQrL1xcZCtcXC5odG1sJCIsCiAgICAgICAgdGl0bGVSZWc6IC8oLio/KS0oLiopVFhU5LiL6L29X+eci+S4i+aWh+Wtpi8sCiAgICAgICAgY29udGVudFJlcGxhY2U6IC/nnIvkuIvmloflraYvZwogICAgfSwKICAgIHtzaXRlTmFtZTogIumdkuW4neaWh+Wtpue9kSIsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wucWluZ2RpXC5jb21cL2ZpbGVzXC9hcnRpY2xlXC9odG1sXC9cZCtcL1xkK1wvXGQrXC5odG1sJC8sCiAgICAgICAgdGl0bGVSZWc6IC8oLio/KeacgOaWsOeroOiKgl8oLio/KV/pnZLluJ3mloflrabnvZFfLiovCiAgICB9LAogICAge3NpdGVOYW1lOiAi5L6g5a6i5Lit5paH572RIiwKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvd3d3XC54a3p3XC5vcmdcL1x3K1wvXGQrXC5odG1sLywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIucmVhZG1haW5faW5uZXIgLmNvbnQiLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCd0aXRsZScpLmh0bWwoZmFrZVN0dWIuZmluZCgnLnJlYWRtYWluX2lubmVyIGgyJykudGV4dCgpKTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAiQ2hpbmFVbml4Lm5ldCIsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL2Jic1wuY2hpbmF1bml4XC5uZXRcL3RocmVhZC0uKlwuaHRtbC8sCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLnRfZjpmaXJzdCIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICIxMjNkdSDlsI/or7QiLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLjEyM2R1XC4oPzpuZXR8Y2MpXC8vLAogICAgICAgIHRpdGxlUmVnOiAiKC4qKS0oLiopIOeZvuWutuS5kCIsCiAgICAgICAgdGl0bGVQb3M6IDEsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2NvbnRlbnQsICNjb250ZW50cyIsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICLkuIDnp5LorrDkvY8ud3d3Lip85bCP6K+05pyA5paw5pu05paw77yM5p2lMTIz6K+75Lmmd3d3LjEyM2R1Lm5ldCIsCiAgICAgICAgY29udGVudFJlbW92ZTogImEiLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICB2YXIgY29udGVudCA9IGZha2VTdHViLmZpbmQoIiNEaXZDb250ZW50QkciKS5odG1sKCkubWF0Y2goL+esrFxkKumhtShbXHNcU10qKeS4gOenkuiusOS9jy8pWzFdOwogICAgICAgICAgICAkKCc8ZGl2IGlkPSJjb250ZW50Ii8+JykuaHRtbChjb250ZW50KS5hcHBlbmRUbyhmYWtlU3R1Yi5maW5kKCdib2R5JykpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLliqjlipvkuK3mlociLAogICAgICAgIHVybDogIl5odHRwOi8vZGx6d1xcLmNjL2FydGljbGUuKlxcLmh0bWwiLAogICAgICAgIG5leHRTZWxlY3RvcjogInNwYW46Y29udGFpbnMoJ+S4i+S4gOevhycpID4gYSIsCiAgICAgICAgcHJldlNlbGVjdG9yOiAic3Bhbjpjb250YWlucygn5LiK5LiA56+HJykgPiBhIiwKICAgICAgICBpbmRleFNlbGVjdG9yOiAiI3B0IGFbaHJlZl49J2h0dHAnXSIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLloZTor7vmloflraYiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwudGFkdVxcLmNvbS9ib29rL1xcZCsvXFxkKy8iLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnLnRpdGxlIGVtOmZpcnN0JywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjcGFydENvbnRlbnQiLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICB2YXIgbSA9IGZha2VTdHViLmZpbmQoImJvZHkiKS5odG1sKCkubWF0Y2goL1wuaHRtbFwodW5lc2NhcGVcKCIoLiopIlwpLyk7CiAgICAgICAgICAgIGlmKG0pewogICAgICAgICAgICAgICAgdmFyIHVuZXNjYXBlQ29udGVudCA9IG1bMV07CiAgICAgICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCIjcGFydENvbnRlbnQiKS5odG1sKHVuZXNjYXBlKHVuZXNjYXBlQ29udGVudCkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIuesrOS4gOS4reaWhyIsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly93d3dcXC5keXp3d1xcLmNvbS9jbi9cXGQrL1xcZCsvXFxkK1xcLmh0bWwkIiAsCiAgICAgICAgY29udGVudFJlcGxhY2U6IHsKICAgICAgICAgICAgJzxpbWcuKj9haXQ9IiguKj8pIi4qPz4nOiAiJDEiLAogICAgICAgICAgICAnd3d3XFwuZHl6d3dcXC5jb20uKnzimYJ80YjQqNGJLionOiAiIgogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLmnaXkuablsYsiLAogICAgICAgIHVybDogImh0dHA6Ly93d3cubGFpc2h1d3UuY29tL2h0bWwvXFxkKy9cXGQrL1xcZCsuaHRtbCIsCiAgICAgICAgdGl0bGVTZWxlY3RvcjogIi5jaGFwdGVydGl0bGUgaDIiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiLmNoYXB0ZXJ0aXRsZSBoMSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICJ0eHRcXGQrLyIsCiAgICB9LAogICAge3NpdGVOYW1lOiAi5LiH5Lmm5ZCnIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwud2Fuc2h1YmFcXC5jb20vSHRtbC9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qPyksKC4qPykt5LiH5Lmm5ZCnIiwKICAgICAgICB0aXRsZVBvczogMSwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIueWRfdGV4dDIiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICJcXFt3d3cuKj9cXF0iLAogICAgICAgICAgICAiXFwoJm5ic3A7Jm5ic3A7XFwpIiwKICAgICAgICAgICAgIuaPkOS+m+aXoOW8ueeql+WFqOaWh+Wtl+WcqOe6v+mYheivu++8jOabtOaWsOmAn+W6puabtOW/q+aWh+eroOi0qOmHj+abtOWlve+8jOWmguaenOaCqOinieW+l+S4jemUmeWwseWkmuWkmuWIhuS6q+acrOermSHosKLosKLlkITkvY3or7vogIXnmoTmlK/mjIEhIiwKICAgICAgICAgICAgIumrmOmAn+mmluWPkS4qP++8jOacrOeroOiKguaYry4qP+WcsOWdgOS4uuWmguaenOS9oOinieeahOacrOeroOiKgui/mOS4jemUmeeahOivneivt+S4jeimgeW/mOiusOWQkeaCqHFx576k5ZKM5b6u5Y2a6YeM55qE5pyL5Y+L5o6o6I2Q5ZOm77yBIgogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLlpKfmloflraYiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwuZGF3ZW54dWVcXC5uZXQvaHRtbC9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qPyktKC4qKS3lpKfmloflraYiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNjbGlja2V5ZV9jb250ZW50IiwKICAgICAgICBjb250ZW50UmVwbGFjZTogIlxcKD/lpKfmloflraZcXHMqd3d3XFwuZGF3ZW54dWVcXC5uZXRcXCk/fFxcKFxcKSIsCiAgICB9LAogICAge3NpdGVOYW1lOiAi5aWH54OtIiwKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLnFpcmV4c1xcLmNvbS9yZWFkLVxcZCstY2hhcHRlci1cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICIoLio/KS0oLio/KS0iLAogICAgICAgIHRpdGxlUG9zOiAxLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogImRpdi5wYWdlLWNvbnRlbnQgLm5vdGUiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICJhIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogIuKAneWlh+eDreWwj+ivtOWwj+ivtOKAnOabtOaWsOacgOW/q3zpppblj5EsLy7lpYfng63lsI/or7TnvZHpmIXor7vnvZEhfOWlh+eDreWwj+ivtOe9keaPkOS+my4qfFxcKOaJi+acuueUqOaIt+ivt+ebtOaOpeiuv+mXri4qIgogICAgfSwKICAgIHtzaXRlTmFtZTogIueDreeCuSIsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly93d3dcXC5ob3Rza1xcLmNvbS9IdG1sL0Jvb2svXFxkKy9cXGQrL1xcZCtcXC5zaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICIoLio/KSDmraPmlocgKC4qPyktIOeDreeCueS5puW6kyAtIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogIlxcKOeDreeCueS5puW6k+mmluWPkTp3d3cuaG90c2suY29tXFwpfHd3dy56aHVaaHVEYW8uY29tIC7njKrnjKrlspvlsI/or7QuIgogICAgfSwKICAgIHtzaXRlTmFtZTogIuiQveeni+S4reaWhyIsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly93d3dcXC5sdW9xaXVcXC4oY29tfG5ldCkvaHRtbC9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qPyktKC4qPyktIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogIiZsdDsvcCZndDsiCiAgICB9LAogICAge3NpdGVOYW1lOiAi5YWo5pys5bCP6K+0572RIiwKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLnFiNVxcLmNvbS94aWFvc2h1by9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qKV8oLiopXyIsCiAgICAgICAgY29udGVudFJlbW92ZTogImRpdltjbGFzc10iLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAi5YWoLnswLDJ95pysLnswLDJ95bCPLnswLDJ96K+0LnswLDJ9572RLnswLDJ9fFvvvZdXdyBdKy57MSwxMH1bQ++9g2PHkk/vvY1N0JwgXSsiLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuaJi+eJteaJi+Wwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly93d3dcXC5zcXN4c1xcLmNvbS8uKlxcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICcjc2l0ZWJhciBhOmxhc3QnLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICLil4blhY3otLnil4YiLAogICAgICAgICAgICAi4piF55m+5bqm5pCc57Si77yM5YWN6LS56ZiF6K+75LiH5pys4piFfOiuv+mXruS4i+i9vXR4dOWwj+ivtC7nmb7luqbmkJwufOWFjei0ueeUteWtkOS5puS4i+i9vXxcXCjnmb7luqbmkJxcXCl844CO5paH5a245ZCneOWQpy7jgI98wqTmnKznq5nnvZHlnYDvvJrCpCIsCiAgICAgICAgICAgICJb4piG4piF4peG44CT44CO44CQ4peO4peHXS4qPyg/Onl1bmxhaWdlfOS6kSDmnaUg6ZiBfO+9me+9le+9ju+9jO+9ge+9ie+9h++9hXzlhY3otLnnnIspLio/W+KYhuKXhuKYheOAk+OAj+OAkeKXjuKXh10iLAogICAgICAgICAgICAi44CQ5omL5py65bCP6K+06ZiF6K+7Jm5ic3A7bS7jgJEiLAogICAgICAgICAgICAiQkFJRFVfQ0xCX2ZpbGxTbG90LioiLAogICAgICAgICAgICAiJm5ic3A75YWz6ZetPC9wPiIsCiAgICAgICAgICAgICImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDtcXD8iLAogICAgICAgICAgICAiXFxb4piG5pu0LuaWsC7mnIAu5b+r4piG5pegLuW8uS7nqpfimIblhagu5YWNLui0uVxcXSIsCiAgICAgICAgICAgICdcXCguKj/lubPljZfmloflrabnvZFcXCknLAogICAgICAgICAgICAn772b6aaW5Y+R772dfOOAkOmmluWPkeOAkScsCiAgICAgICAgICAgICc96ZW/PemjjicsCiAgICAgICAgICAgICct5LyY77yN5LyY77yN5bCP77yN6K+077yN5pu077yN5paw77yN5pyA77yN5b+rLVxcLicsCiAgICAgICAgICAgIHsgIuOAglxcLiI6ICLjgIIiIH0sCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWFreaciOS4reaWh+e9ke+8jOebl+aipuS6uuWwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly93d3dcXC4oPzo2eXp3XFwub3JnfDZ5endcXC5jb218ZGFvbWVuZ3JlblxcLmNvbSkvLipcXC5odG1sIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogIi5jb25fdG9wPmE6bGFzdCIsCiAgICAgICAgY29udGVudFJlbW92ZTogImFbaHJlZl0iLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICLnuq/mloflrZflnKjnur/pmIXor7vmnKznq5nln5/lkI0gNTIweHMuQ29tIOaJi+acuuWQjOatpemYheivu+ivt+iuv+mXriBNLjUyMHhzLkNvbSIsCiAgICAgICAgICAgICJ76aOY5aSp5paH5a2mW1xcc1xcU10q5oKo55qE5pSv5oyB5bCx5piv5oiR5Lus5pyA5aSn55qE5Yqo5YqbfSIsCiAgICAgICAgICAgICIo77yI5pyq5a6M5b6F57ut77yJ77yMfOeyvuW9qeaOqOiNkO+8mu+8jCk/5pyA5paw5pyA5b+r5pu05paw54Ot6Zeo5bCP6K+077yM5Lqr5Y+X5peg5by556qX6ZiF6K+75bCx5Zyo77yaIiwKICAgICAgICAgICAgIuS4gOenkuiusOS9j+OAkOOAke+8jOacrOermeS4uuaCqOaPkOS+m+eDremXqOWwj+ivtOWFjei0uemYheivu+OAgiIsCiAgICAgICAgICAgICLnmb7luqbmkJzntKIg5pys5Lmm5ZCNLioiLAogICAgICAgICAgICAi5qyi6L+O5oKo55qE5YWJ5Li077yM5Lu75L2V5pCc57Si5byV5pOO5pCc57SiLirnu5nlpKflrrbluKbmnaXnmoTkuI3kvr/mt7HmhJ/mirHmrYkh77yBIiwKICAgICAgICAgICAgIlxcKD8mbmJzcDsmbmJzcDsgP+aPkOS+m+OAj+OAguWmguaenOaCqOWWnOasoui/memDqOS9nOWTge+8jOasoui/juaCqOadpeWIm+S4luS4reaWh+e9kVtcXHNcXFNdKyIsCiAgICAgICAgICAgICJbXFwo77yIXeacquWujOW+hee7rS57MSwyfeacrOaWh+Wtl+eUsS4qIiwKICAgICAgICAgICAgIi8v5re75Yqg5byA5aS0fOS8muWRmOeJueadg+aKouWFiOS9k+mqjCIsCiAgICAgICAgICAgICLmm7TmlrDmnIDlv6t85pu05paw5b+r57qv5paH5a2XfOeci+acgOaWsOeroOiKgnzlha3mnIjkuK3mlofnvZF8NzjlsI/or7R8aO+5kmPvuZJkfOepv+i2iuWwj+ivtOWQpyBzajEzMXxcXCrkupTmnIjkuK3mlofnvZE1LmMgb21cXCoiLAogICAgICAgICAgICAiXFxk5qW8W1xcZFxcLTogXSsoPzombmJzcDspKyBcXHwoPzombmJzcDspK3zlkKfkuLtcXGQrKD86Jm5ic3A7KSt85pSv5oyB5aiB5q2m77yM5ZiO5ZiO77yBIiwKICAgICAgICAgICAgInd3d++8jHwmbmJzcDtcXFxcfOKAnOaipuKAnSgmbmJzcDt8ICkq4oCc5bCP4oCdKCZuYnNwO3wgKSoo4oCc6K+04oCdICk/4oCc572R4oCdfOKAnOWym+KAnSgmbmJzcDt8ICkr4oCc6K+04oCdIiwKICAgICAgICAgICAgLyjnmb7luqbmkJzntKIgKT/mnKzkuablkI0gXCsg55uX5qKm5Lq6IOeci+acgOW/q+abtOaWsC9pZywKICAgICAgICAgICAgIjUyMHhzLmNvbSDigJ01MjDlsI/or7TigJzlsI/or7Tnq6DoioLmm7TmlrDmnIDlv6siLAogICAgICAgICAgICAi5pys5paH55Sx44CA4oCm4oCm44CA6aaW5Y+RIiwKICAgICAgICAgICAgIueci+acgOaWsOacgOWFqOWwj+ivtHzmnIDlv6vmm7TmlrDvvIwoPzrml6DlvLnnqpcpP+mYheivu+ivt+OAgiIsCiAgICAgICAgICAgICLvvIjpppblj5HvvIl844CQ6aaW5Y+R44CRIiwKICAgICAgICAgICAgIue6r+aWh+Wtl+WcqOe6v+mYheivu+acrOermeWfn+WQjcKgwqDmiYvmnLrlkIzmraXpmIXor7vor7forr/pl64iLAogICAgICAgICAgICAiJmFtcDtuYnNwIiwKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi6aOe5Y2i5bCP6K+0572RIiwKICAgICAgICB1cmw6ICJeaHR0cDovL2JcXC5mYWxvb1xcLmNvbS9wL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICIjdGl0bGUgaDEiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiZGl2Lm5hdiA+IGE6bGFzdCIsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAiYSNuZXh0X3BhZ2UiLAogICAgICAgIHByZXZTZWxlY3RvcjogImEjcHJlX3BhZ2UiLAogICAgICAgIGluZGV4U2VsZWN0b3I6ICJhI2h1aW11bHUiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNtYWluID4gLm1haW4wIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiPiAqOm5vdCgjY29uX2ltZ2luZm8sICNjb250ZW50KSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICLpo57ljaLlsI/or7TnvZEgYi5mYWxvby5jb20g5qyi6L+O5bm/5aSn5Lmm5Y+L5YWJ5Li06ZiF6K+777yM5pyA5paw44CB5pyA5b+r44CB5pyA54Gr55qE6L+e6L295L2c5ZOB5bC95Zyo6aOe5Y2i5bCP6K+0572R77yBIiwKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgiI2NvbnRlbnQiKS5maW5kKCIucF9nb25nZ2FvIikucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vIGZha2VTdHViLmZpbmQoIiNjb25faW1naW5mbyIpLnByZXBlbmRUbygiI2NvbnRlbnQiKTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi6aG254K55bCP6K+0IiwKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLig/OjIzdXN8MjN3eHx4czIyMilcXC5jb20vaHRtbC9cXGQrL1xcZCsvXFxkK1xcLmh0bWwkIiwKICAgICAgICB0aXRsZVJlZzogIiguKj8pLVxcUypcXHMoLio/KS3pobbngrnlsI/or7QiLAogICAgICAgIHRpdGxlUG9zOiAwLAogICAgICAgIGluZGV4U2VsZWN0b3I6ICIjZm9vdGxpbmsgYTpjb250YWlucygn6L+U5Zue55uu5b2VJykiLAogICAgICAgIHByZXZTZWxlY3RvcjogIiNmb290bGluayBhOmNvbnRhaW5zKCfkuIrkuIDpobUnKSIsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAiI2Zvb3RsaW5rIGE6Y29udGFpbnMoJ+S4i+S4gOmhtScpIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjY29udGVudHMiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICJcXCjnnIvlsI/or7TliLDpobbngrnlsI/or7TnvZEuKlxcKXxcXChcXCl844CQ6K6w5L2P5pys56uZ5Y+q6ZyA5LiA56eS6ZKfLirjgJEiLAogICAgICAgICAgICAn5LiA56eS6K6w5L2P44CQLiror7vlj4rkuIvovb3jgIInLAogICAgICAgIF0sCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIHZhciB0ZW1wPWZha2VTdHViLmZpbmQoJ3RpdGxlJykudGV4dCgpOwogICAgICAgICAgICB2YXIgcmVhbHRpdGxlID0gdGVtcC5yZXBsYWNlKC/nrKwuKuWNt1xzLywnJyk7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoJ3RpdGxlJykuaHRtbChyZWFsdGl0bGUpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICcyM+S4reaWhycsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly93d3dcXC4yM3p3XFwuY29tLy4qXFwuaHRtbCcsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+acrOaWh+eUsemmluWPkScsCiAgICAgICAgICAgICfnq6DoioLmm7TmlrDmnIDlv6snLAogICAgICAgICAgICAn6aG254K55bCP6K+0LjIzdXMu44CCJywKICAgICAgICAgICAgJ1xcKOmhtueCueWwj+ivtFxcKScsCiAgICAgICAgICAgICfnnIvmnIDmlrDmnIDlhagnLAogICAgICAgICAgICAn55yLLio/5pyA5paw56ug6IqC5Yiw6ZW/6aOO5paH5a2mJywKICAgICAgICAgICAgJ1IxMTUyJywKICAgICAgICAgICAgJ+aJi+acuueci+Wwj+ivtOWTquWutuW8ulxcP+aJi+acuumYheivu+e9kScsCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogJ+eslOS4i+mYgScsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly93d3dcXC5iaXhpYWdlXFwuY29tL1xcdysvXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICB0aXRsZVJlZzogIiguKinmnIDmlrDnq6DoioLlhY3otLnlnKjnur/pmIXor7tfKC4qKV/nrJTkuIvpmIEiLAogICAgICAgIGluZGV4U2VsZWN0b3I6ICIucmVhZF90b29scyBhOmNvbnRhaW5zKCfov5Tlm57nm67lvZUnKSIsCiAgICAgICAgcHJldlNlbGVjdG9yOiAiLnJlYWRfdG9vbHMgYTpjb250YWlucygn5LiK5LiA6aG1JykiLAogICAgICAgIG5leHRTZWxlY3RvcjogIi5yZWFkX3Rvb2xzIGE6Y29udGFpbnMoJ+S4i+S4gOmhtScpIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAi5pys5Lmm5pyA5paw5YWN6LS556ug6IqC6K+36K6/6ZeufOivt+iusOS9j+acrOermeeahOe9keWdgHzor7fkvb/nlKjorr/pl67mnKznq5kiLAogICAgICAgICAgICAi55yL5pu05paw5pyA5b+r55qELip3d3cuYml4aWFnZS5jb20iLAogICAgICAgICAgICAi56yU5LiL6ZiB5Li65oKo5o+Q5L6b5YWo5paH5a2X5bCP6K+0LioiLAogICAgICAgICAgICAi5aaC5p6c5L2g6KeJ5b6X56yU5LiL6ZiB5LiN6ZSZLioiLAogICAgICAgICAgICAi5pys56+H5piv5bCP6K+0Lirnq6DoioLlhoXlrrnvvIzlpoLmnpzkvaDlj5HnjrDlhoXlrrnplJnor68uKiIKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAn5Y+M5b635bCP6K+0572RJywKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLnNodWFuZ2RlXFwuY2MvLipcXC5odG1sIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy50aXRsZSA+IGgyID4gYScsCiAgICAgICAgY29udGVudFJlbW92ZTogJy50aXRsZSwgZGl2W2FsaWduPSJjZW50ZXIiXScsCiAgICB9LAogICAge3NpdGVOYW1lOiAn54ix5bCa5bCP6K+0572RJywKICAgICAgICB1cmw6ICdodHRwOi8vd3d3LmEyNDAuY29tL3JlYWQvXFxkKy9cXGQrLmh0bWwnLAogICAgICAgIHRpdGxlUmVnOiAnKC4qKSAtICguKj8pIC0g54ix5bCa5bCP6K+0572RJywKICAgICAgICB0aXRsZVBvczogMSwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnLmJvdHRlbSwgY2VudGVyJywKICAgICAgICBjb250ZW50UmVwbGFjZTogJzwhLS3nq6DoioLlhoXlrrnlvIDlp4stLT4nCiAgICB9LAogICAge3NpdGVOYW1lOiAn77yl5bqm5paH5a2m572RJywKICAgICAgICB1cmw6ICdodHRwOi8vd3d3LjE3M2VkLmNvbS9yZWFkL1xcZCsvXFxkKy5odG1sJywKICAgICAgICBjb250ZW50UmVtb3ZlOiAnYVtocmVmKj0iMTczZSJdJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAn5YWo5paH5a2X5bCP6K+0Vy4qP1xcLmNvbScsCiAgICAgICAgICAgICdF5bqm5paH5a2m572R5pu05paw5pyA5b+rJywKICAgICAgICAgICAgJ3d3d1xcLuKZgDE3M2VkLmNvbeKZgCcKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAiM1rkuK3mlofnvZEiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwuenp6Y25cXC5jb21cXC8oM3pcXGQrL1xcZCtcXC98bW9kdWxlc1xcL2FydGljbGVcXC9BcHBcXC5waHBcXD9haWQ9XFxkKyZjaWQ9XFxkKyl7MX0kIiwKICAgICAgICAvLyB0aXRsZVJlZzogIiguKj8pLSguKilUWFTkuIvovb0iLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNjb250ZW50M3pjbiIsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogImE6Y29udGFpbnMoJ+i/lOWbnuebruW9lScpIiwKICAgICAgICBwcmV2U2VsZWN0b3I6ICJhOmNvbnRhaW5zKCfkuIog5LiAIOmhtScpIiwKICAgICAgICBuZXh0U2VsZWN0b3I6ICJhOmNvbnRhaW5zKCfkuIsg5LiAIOmhtScpLCBhOmNvbnRhaW5zKCfov5Tlm57kuabmnrYnKSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgL1t7KF1bYS16XC8uXSsoPzrpppblj5HmloflrZd85pu05paw6LaF5b+rKVt9KV0vaWcsCiAgICAgICAgICAgICLmiYvmnLrlsI/or7Tnq5nngrnvvIh3YXAuenp6Y24uY29t77yJIiwKICAgICAgICAgICAgIuS4gOenkuiusOS9jy4q5Li65oKo5o+Q5L6b57K+5b2p5bCP6K+06ZiF6K+744CCIiwKICAgICAgICBdLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCJhOmNvbnRhaW5zKCfov5Tlm57kuabmnrYnKSIpLmh0bWwoIuS4iyDkuIAg6aG1IikuYXR0cigiaHJlZiIsIGZha2VTdHViLmZpbmQoImE6Y29udGFpbnMoJ+i/lOWbnuebruW9lScpIikuYXR0cigiaHJlZiIpKTsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgiI2NvbnRlbnQzemNuIikuZmluZCgiLnRpdGxlUG9zLCBmb250LnRpcHMsIGEiKS5yZW1vdmUoKTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi5q+U5aWH5Lit5paH572RIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwuYmlxaVxcLm1lL2ZpbGVzL2FydGljbGUvaHRtbC9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICIjbGJDaGFwdGVyTmFtZSIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIjVE9QTkFWIHRkOmZpcnN0ID4gYTpsYXN0IiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAiaHR0cDovL3d3dy5iaXFpLm1l5q+U5aWH5Lit5paH572R5rC45LmF572R5Z2A77yM6K+354mi6K6w77yBIiwKICAgICAgICAgICAgInd3dy5iaXFpLm1l5q+U5aWH5Lit5paH572R5LiA55u05Zyo5Li65o+Q6auY6ZiF6K+75L2T6aqM6ICM5Yqq5Yqb77yM5Zac5qyi6K+35LiO5aW95Y+L5YiG5Lqr77yBIiwKICAgICAgICAgICAgIlvvvZvjgJBd5q+U5aWH5Lit5paH572R6aaW5Y+Rd3d3LmJpcWkubWVb772d44CRXSIsCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuS5puWTiOWTiOWwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAiaHR0cDovLyg/OnJlYWR8d3d3KVxcLnNodWhhaGFcXC5jb20vSHRtbC9Cb29rL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVTZWxlY3RvcjogIiNodG1sdGltdSIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6IFsiLnNyY2JveCA+IGE6bnRoLWNoaWxkKDIpIiwgL+ebruW9lSQvXSwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjQm9va1RleHQiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICdhW2hyZWYqPSJ3d3cuc2h1aGFoYS5jb20iXScsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+KAmOKAmCcsICfigJnigJknLAogICAgICAgICAgICAn77yIXFwuc2h1aCZhbXA7bu+8iScsCiAgICAgICAgICAgIC88cFtePl0qPigmbmJzcDspezR9572RPFwvcD4vZ2kKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAiU0Yg6L275bCP6K+0IiwKICAgICAgICB1cmw6ICdeaHR0cDovL2Jvb2suc2ZhY2cuY29tL05vdmVsL1xcZCsvXFxkKy9cXGQrLycsCiAgICAgICAgdGl0bGVSZWc6ICcoLio/KS0oLio/KS0uKicsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAnI0NoYXB0ZXJCb2R5JywKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLmrabmnpfkuK3mlofnvZEiLAogICAgICAgIHVybDogJ15odHRwOi8vd3d3XFwuNTB6d1xcLmNvbS9ib29rX1xcZCsvXFxkK1xcLmh0bWwnLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnLnNyY2JveCA+IGE6bGFzdCcsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+abtOaWsOacgOW/q+OAkOOAkScsCiAgICAgICAgICAgICcmbHQ7L2RkJmd0OycsCiAgICAgICAgICAgICcmbHQ7Y2VudGVyJmd0OyAmbHQ7Zm9uIGNvbG9yPXJlZCZndDsnLAogICAgICAgICAgICAn5LiA56eS6K6w5L2P44CQ5q2m5p6X5Lit5paH572RLionLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLkuaHmnZHlsI/or7TnvZEiLAogICAgICAgIHVybDogJ15odHRwOi8vd3d3XFwueGlhbmdjdW54aWFvc2h1b1xcLmNvbS9zaHUvXFxkKy9cXGQrXFwuaHRtbCcsCiAgICAgICAgLy8gYm9va1RpdGxlU2VsZWN0b3I6ICcucmVhZF9tID4gLmxpc3QnLAogICAgICAgIHRpdGxlUmVnOiAnKC4qPylfKC4qPylfLipfLionLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy55ZF90ZXh0MicsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ1vvvZfvvLd3XSvvvI7vvJLvvJPvvZXvvLPvvI4oPzrvvYPvvY/vvK18Y29tKScsCiAgICAgICAgICAgICfkuaEmYW1wO+adkSZhbXA7Lio/XFwuY29bbe+8rV0nLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLmnYLkuabnvZEiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwuemFzaHVcXC5uZXQvYm9va3MvXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAi5ZCL54Wc54md5ZKxLio/5p2C5Lmm572RKD865p2g5p2g55qEKT8iLAogICAgICAgICAgICAi5ZCL54Wc54md5ZKx55yL5Lmm56We5ZmoIiwKICAgICAgICAgICAgIig/OuWQi+eFnOeJneWSsXzpo53njrDmtIXlkrF86IyH6Zi655Wx5YydKS4qP1vvvKNjXW9tIiwKICAgICAgICAgICAgIuWQi+eFnOeJneWSsSIsCiAgICAgICAgICAgICLpo53njrDmtIXlkrEiLCAi5q6i6JC+5ZiO5YydIiwKICAgICAgICAgICAgIueci+Wwj+ivtOKAnOadguS5pue9kXphc2h1Lm5ldOKAnSIsCiAgICAgICAgICAgICLmiYvmnLrnq5nvvJptLnphc2h1Lm5ldCDnlLXohJHnq5nvvJp3d3cuemFzaHUubmV0IiwKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5bCP6K+05be05aOrIiwKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLnhzODRcXC5jb20vXFxkK19cXGQrLyIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIuY29uX3RvcCBhOmxhc3QiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICLCp+aOqOiNkOS4gOS4quaXoOW5v+WRiueahOWwj+ivtOermS4qPyDCpyIsCiAgICAgICAgICAgICLimIbmnKznq5nmnIDlv6vmm7TmlrAuKj/imIYiLAogICAgICAgICAgICAi57qv5paH5a2X5Zyo57q/6ZiF6K+7Lio/PC9icj4iLAogICAgICAgICAgICAid3d3LlggUyA4IDQuY29tIiwKICAgICAgICAgICAgIuOAiuOAiyB3d3cub2JyIC8+IiwKICAgICAgICAgICAgIuOAguOAgiB3LjIub2JyIiwKICAgICAgICAgICAgIlxcW3cgdyB3Lnggcy4qPy5jIG8gbSDlsI/or7QuKj9cXF0iLAogICAgICAgICAgICAi4pWC5LiKLio/4pWCIiwKICAgICAgICAgICAgIlxcKlxcKumhtlxcKlxcKueCuS57MCwzfeWwj+ivtCIsCiAgICAgICAgICAgICJfX1/lsI8u6K+0LuW3tC7lo6sgd3d3LnhTODQuY29tX19fIiwKICAgICAgICBdLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICQoJzxzY3JpcHQ+JykKICAgICAgICAgICAgICAgIC50ZXh0KCdjbGVhckludGVydmFsKHNob3cpOycpCiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJ2JvZHknKQogICAgICAgICAgICAgICAgLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICIxMjPoqIDmg4UiLAogICAgICAgIHVybDogJ2h0dHA6Ly93d3dcXC4xMjN5cVxcLihjb218b3JnKS9yZWFkL1xcZCsvXFxkKy9cXGQrXFwuc2h0bWwnLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnLmNvbl90b3AgPiBhOmxhc3QnLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNUWFQiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICcuYm90dGVtLCAucmVkLCAuY29udGFkcywgYScsCiAgICB9LAogICAge3NpdGVOYW1lOiAi54Ot6Zeo5bCP6K+0572RIiwKICAgICAgICB1cmw6ICdodHRwOi8vd3d3LnJlbWVueHMuY29tL2R1X1xcZCsvXFxkKy8nLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnc2VjdGlvbi5yZWFkaGVhZCA+IGRpdi5yZWFkX3QgPiBkaXYubGYgPiBhOm50aC1jaGlsZCgyKScsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAnLnBhZ2VnbyA+IGZvbnQ6Y29udGFpbnMoIuS4i+S4gOeroCIpICsgYScsCiAgICAgICAgcHJldlNlbGVjdG9yOiAnLnBhZ2VnbyA+IGZvbnQ6Y29udGFpbnMoIuS4iuS4gOeroCIpICsgYScsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLnlkX3RleHQyIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnLmFkcnMsIC5jb25fdywgYScsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+aCqOWPr+S7peWcqOeZvuW6pumHjOaQnOe0ouKAnC4qJywKICAgICAgICAgICAgJ+S4uuS6huaWueS+v+S4i+asoemYheivu++8jOS9oOWPr+S7peeCueWHu+S4i+aWueeahC4qJwogICAgICAgIF0KICAgIH0sCgogICAgLy8gPT09IOWGheWuueihpeS4gQogICAge3NpdGVOYW1lOiAi57uZ5Yqb5paH5a2m5bCP6K+06ZiF6K+7572RIiwKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLmdlaWxpd3hcXC5jb20vLipcXC5zaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICItPyguKilfKC4qKeacgOaWsOeroOiKgl/nu5nlipsiLAogICAgICAgIHRpdGxlUG9zOiAxLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICdoMSwgZm9udFtjb2xvcl0sIGNlbnRlcicsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgIue9keermeWNh+e6p+WujOavle+8geaEn+iwouWvuee7meWKm+aWh+Wtpue9keeahOaUr+aMge+8gSIsCiAgICAgICAgICAgICLvvIjnmb7luqbmkJzntKLnu5nlipvmloflrabnvZHmm7TmlrDmnIDlv6vmnIDnqLPlrppcXCkiLAogICAgICAgICAgICAi44CQc29nb3UsMzYwLHNvc2/mkJzlhY3otLnkuIvovb3lsI/or7TjgJEiLAogICAgICAgICAgICAiXFxb5LmQXFxdXFxb6K+7XFxd5bCP6K+0Lu+8kjMuW++8o2NdbSIsCiAgICAgICAgICAgICLnu5nlipvmloflrabnvZEiLAogICAgICAgICAgICAi55yL5pyA5b+r5pu05pawIiwKICAgICAgICAgICAgIuWwj+ivtOe9keS4jei3s+WtlyIsCiAgICAgICAgICAgICJcXC5jb20iLAogICAgICAgICAgICAiQkFJRFVfQ0xCX2ZpbGxTbG90XFwoLioiLAogICAgICAgICAgICAiLS3lsI8t6K+0LXd3dy0yM3d4LWNvbSIsCiAgICAgICAgICAgICImbmJzcDsmbmJzcDvvvIzor7ciLAogICAgICAgICAgICAnXFwud3d3XFwuR0VJTElXWOW8gOW/g+mYheivu+avj+S4gOWkqScsCiAgICAgICAgXSwKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgaWYgKCFkLmZpbmQoJyNjb250ZW50JykubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGQuZmluZCgnYm9keScpLmh0bWwoKTsKICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gaHRtbC5tYXRjaCgvPCEtLWdvLS0+KFtcc1xTXSo/KTwhLS1vdmVyLS0+L2kpWzFdOwoKICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAkKCc8ZGl2IGlkPSJjb250ZW50Ij4nKS5odG1sKGNvbnRlbnQpOwogICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQuZmluZCgnI2FkcmlnaHQnKS5zaXplKCkpIHsKICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5maW5kKCcjYWRyaWdodCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmRUbyhkLmZpbmQoJ2JvZHknKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09PT09PSDph4fnlKggaWZyYW1lIOaWueW8j+iOt+WPlueahCA9PT09PT09PT09PT09PT09PT09PQogICAge3NpdGVOYW1lOiAiMTZL5bCP6K+0572RIiwKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLjE2a2Jvb2tcXC5vcmcvSHRtbC9Cb29rL1xcZCsvXFxkKy9cXGQrXFwuc2h0bWwkIiwKICAgICAgICB0aXRsZVJlZzogJyhcXFMrKSAoLiopLSAxNkvlsI/or7TnvZEnLAogICAgICAgIHVzZWlmcmFtZTogdHJ1ZSwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnLmJkbGlrZWJ1dHRvbicsCiAgICAgICAgY29udGVudFJlcGxhY2U6IHsKICAgICAgICAgICAgJyg8Y2VudGVyPik/PD9pbWcgc3JjLi4oaHR0cDovL3d3dy4xNmtib29rLm9yZyk/KC90dS9cXFMrXFwuanBnKS4oPnwgYWx0LiJcXGQrX1xcZCtfXFxkKlxcLmpwZyIgLz4pKDwvY2VudGVyPik/JzogIiQzIiwKICAgICAgICAgICAgIi90dS9zaGlqaWUuanBnIjoi5LiW55WMIiwgIi90dS94aWFuZ2Rhby5qcGciOiLmg7PliLAiLCAiL3R1L2RhbnNoaS5qcGciOiLkvYbmmK8iLCAiL3R1L2h1aWxhaS5qcGciOiLlm57mnaUiLCAiL3R1L3lpamluZy5qcGciOiLlt7Lnu48iLCAiL3R1L3poZW5kZS5qcGciOiLnnJ/nmoQiLCAiL3R1L2xpbGlhbmcuanBnIjoi5Yqb6YePIiwgIi90dS9sZS5qcGciOiLkuoYiLCAiL3R1L2RhLmpwZyI6IuWkpyIsICIvdHUvc2hlbmdsaS5qcGciOiLog5zliKkiLCAiL3R1L3hpd2FuZy5qcGciOiLluIzmnJsiLCAiL3R1L3dhbmRhbi5qcGciOiLlrozom4siLCAiL3R1L2RlLmpwZyI6IueahCIsCiAgICAgICAgICAgICIxNmtib29rXFxzKijpppblj5Hmm7TmlrB85bCP6K+0572RKSI6ICIiLAogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLor7vor7vnnIsiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwuZHVkdWthblxcLm5ldC9odG1sLy4qXFwuaHRtbCQiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAi55yL5bCP6K+04oCc5bCx54ix6K+75Lmm4oCdfGJpbmh1b3x3d3dcXC45MnRvXFwuY29tIiwKICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgbXV0YXRpb25TZWxlY3RvcjogIiNtYWluIiwKICAgICAgICBtdXRhdGlvbkNoaWxkQ291bnQ6IDAsCiAgICB9LAogICAge3NpdGVOYW1lOiAi6K+76Zu26Zu2IiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwuZHUwMFxcLig/OmNvbXxjYykvcmVhZC9cXGQrL1xcZCsvW1xcZF9dK1xcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qPykoPzrnrKxcXGQr5q61KT8sKC4qKSAtIOivu+mbtumbtuWwj+ivtOe9kSIsCiAgICAgICAgdGl0bGVQb3M6IDEsCiAgICAgICAgLy8gcHJldlNlbGVjdG9yOiAiI2Zvb3RsaW5rIGE6Zmlyc3QiLAogICAgICAgIC8vIGluZGV4U2VsZWN0b3I6ICIjZm9vdGxpbmsgYTpjb250YWlucygn55uu5b2VJykiLAogICAgICAgIC8vIG5leHRTZWxlY3RvcjogIiNmb290bGluayBhOmxhc3QiLAogICAgICAgIC8vIOWGheWuuQogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNwYWdlY29udGVudCwgLmRpdmltYWdlIiwKICAgICAgICAvLyB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgLy8gbXV0YXRpb25TZWxlY3RvcjogIiNwYWdlY29udGVudCIsCiAgICAgICAgLy8gbXV0YXRpb25DaGlsZENvdW50OiAyLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICJmb250IiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAi6K+76Zu26Zu25bCP6K+0572R5qyi6L+O5oKo55qE5YWJ5Li0Lio/dHh05qC85byP5LiL6L295pyN5YqhIiwKICAgICAgICAgICAgIu+8jOWlveeci+eahOWwj+ivtDp85pys5Lmm5pyA5paw5YWN6LS556ug6IqC6K+36K6/6Zeu44CCIiwKICAgICAgICAgICAgIlxcKuaWh+WtuOmmhlxcKiIsCiAgICAgICAgICAgICJcXCjmnKrlrozlvoXnu63or7fmkJzntKLvvIzlsI/or7Tmm7Tlpb3mm7TmlrDmm7Tlv6shIiwKICAgICAgICAgICAgInd3d1xcLkRVMDBcXC5jb20iLAogICAgICAgIF0sCiAgICAgICAgY2hlY2tTZWN0aW9uOiB0cnVlCiAgICB9LAogICAge3NpdGVOYW1lOiAiNzjlsI/or7TnvZEiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwuNzh4c1xcLmNvbS9hcnRpY2xlL1xcZCsvXFxkKy9cXGQrLnNodG1sJCIsCiAgICAgICAgY29udGVudEhhbmRsZTogZmFsc2UsCiAgICAgICAgdGl0bGVSZWc6ICIoLio/KSAoPzrmraPmlocgKT8oLiopIDc45bCP6K+0572RIiwKICAgICAgICBpbmRleFNlbGVjdG9yOiAiYTpjb250YWlucygn55uuIOW9lScpIiwKICAgICAgICBwcmV2U2VsZWN0b3I6ICJhOmNvbnRhaW5zKCfkuIrkuIDnq6AnKSIsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAiYTpjb250YWlucygn5LiL5LiA56ugJykiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNjb250ZW50IiwKICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgIi8vLio/Nzh4cy4qPy8vIiwKICAgICAgICAgICAgIlxcKOWFqOaWh+Wtl+Wwj+ivtOabtOaWsOacgOW/q1xcKSIsCiAgICAgICAgXSwKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgncC50aXRsZScpLmVtcHR5KCk7ICAgICAgICAgICAgICAgICAgICAgIC8vIOWOu+aOieWGheWuueS4reW4pueahOeroOiKguagh+mimAogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICIxNTHnnIvkuabnvZEiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwuMTUxa2FuXFwuY29tL2thbi8uKlxcLmh0bWwiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNtc2ciLAogICAgICAgIHVzZWlmcmFtZTogdHJ1ZSwKICAgICAgICBtdXRhdGlvblNlbGVjdG9yOiAiI21zZyIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgL1tcL3xdP3d3d1wuMTUxKD8655yLfGthbilcLmNvbVtcL3xdPy9pZywKICAgICAgICAgICAgLzE1Meeci+S5pue9kSg/Oue6r+aWh+Wtlyk/L2lnLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLlsLHniLHor7vkuaYiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwuOTJ0b1xcLmNvbS9cXHcrL1xcdysvXFxkK1xcLmh0bWwkIiwKICAgICAgICB0aXRsZVJlZzogIiguKj8pLSguKj8pLSIsCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgIHRpbWVvdXQ6IDUwMCwKICAgICAgICBjb250ZW50UmVwbGFjZTogIueci+Wwj+ivtC7lsLHniLEuKiIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLkuabkuabnvZEiLAogICAgICAgIHVybDogImh0dHA6Ly93d3dcXC5zaHVzaHV3XFwuY24vc2h1L1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qKSAoLio/KSDkuabkuabnvZEiLAogICAgICAgIHRpdGxlUG9zOiAxLAogICAgICAgIHVzZWlmcmFtZTogdHJ1ZSwKICAgICAgICB0aW1lb3V0OiA1MDAsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICLvvIF+77yBW1xcc1xcU10qIgogICAgfSwKICAgIHtzaXRlTmFtZTogIuaJvuWwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAiaHR0cDovL3d3d1xcLnpoYW94aWFvc2h1b1xcLmNvbS9jaGFwdGVyLVxcZCstXFxkKy1cXHcrLyIsCiAgICAgICAgdGl0bGVSZWc6ICIoLiopIC0gKC4qKSAtIOaJvuWwj+ivtOe9kSIsCiAgICAgICAgdGl0bGVQb3M6IDEsCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgICAgICB0aW1lb3V0OiA1MDAsCiAgICAgICAgY29udGVudFJlbW92ZTogImRpdltzdHlsZV0iCiAgICB9LAogICAge3NpdGVOYW1lOiAiQUJD5bCP6K+0572RIiwKICAgICAgICB1cmw6ICJeaHR0cDovL3d3d1xcLmJvb2thYmNcXC5uZXQvLipcXC5odG1sIiwKICAgICAgICB1c2VpZnJhbWU6IHRydWUKICAgIH0sCgogICAgLy8gPT09PT09PT09PT09PT0g5YaF5a656ZyA6KaBMuasoeiOt+WPlueahCA9PT09PT09PT09PT09PT09PT09PT09PT09CiAgICB7c2l0ZU5hbWU6ICLmiYvmiZPlkKciLAogICAgICAgIHVybDogL15odHRwOlwvXC9zaG91ZGE4XC5jb21cL1x3K1wvXGQrXC5odG1sLywKICAgICAgICBjb250ZW50UmVwbGFjZTogL1t3XHNcW1wvXFxcKF0qLnNob3VkYTguY29tLip8KFwvXC8pP1vlhajmloflrZddP+mmluWPkXzmiYvmiZPlkKd8d3d3LnNob3UuKnxcKHdcL3dcL3cuc2hvdWRhOC5jXC9vXC9tIOaJi+OAgeaJk+OAguWQp+abtOaWsOi2heW/q1wpfOWwj+ivtCDpmIXor7vnvZEgd3d3LnhpYW9zaHVveWQgLmNvbS9pZywKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsKICAgICAgICAgICAgdmFyIHNjcmlwdFNyYyA9IGZha2VTdHViLmZpbmQoJ2JvZHknKS5odG1sKCkubWF0Y2goL291dHB1dENvbnRlbnRcKCcoLip0eHQpJ1wpLylbMV07CiAgICAgICAgICAgIHNjcmlwdFNyYyA9ICJodHRwOi8vc2hvdWRhOC5jb20vYWpheC5waHA/Zj1odHRwOi8vc2hvdWRhOC5jb20vcmVhZCIgKyBzY3JpcHRTcmM7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoJyNjb250ZW50JykuYXR0cih7CiAgICAgICAgICAgICAgICAiY2xhc3MiOiAncmVhZGVyLWFqYXgnLAogICAgICAgICAgICAgICAgc3JjOiBzY3JpcHRTcmMKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWTiOWTiOaWh+WtpiIsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wuaGFoYXd4XC5jb21cLy4qaHRtLywKICAgICAgICB0aXRsZVJlZzogLyguKj8pLSguKj8pLS4qLywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjY2hhcHRlcl9jb250ZW50IiwKICAgICAgICBjb250ZW50UmVwbGFjZTogLyg/OuWlveS5puaOqOiNkHzkuablj4vlnKjnnIt85YW25LuW5Lmm5Y+L5q2j5Zyo55yLfOWlveeci+eahOWwj+ivtHzmjqjojZDpmIXor7sp77ya44CCfCg/Ond3d3zvvZfvvZfvvZd8772C772P772P772LKS4qKD86Y29tfG5ldHxvcmd8772D772P772NfO+9ju+9he+9lCl85YWo5paH5a2X6ZiF6K+7fOaXoOW8ueeql+W5v+WRiuWwj+ivtOe9kXzlk4jlk4jmloflraZcKHd3dy5oYWhhd3guY29tXCl8c291RFUub3JnfO+8s++9j++9le+9hO+9le+8ju+9j++9ku+9h3xqxKtuZ+W9qeaOqOiNkO+8mi9pZywKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsKICAgICAgICAgICAgdmFyICRjb250ZW50ID0gZmFrZVN0dWIuZmluZCgiI2NoYXB0ZXJfY29udGVudCIpOwogICAgICAgICAgICB2YXIgbSA9ICRjb250ZW50LmZpbmQoInNjcmlwdCIpLnRleHQoKS5tYXRjaCgvb3V0cHV0XCgoXGQrKSwgIihcZCtcLnR4dCkiXCk7Lyk7CiAgICAgICAgICAgIGlmKG0gJiYgbS5sZW5ndGggPT0gMyl7CiAgICAgICAgICAgICAgICB2YXIgYWlkID0gbVsxXSwKICAgICAgICAgICAgICAgICAgICBmaWxlcyA9IG1bMl07CiAgICAgICAgICAgICAgICB2YXIgc3ViRGlyID0gIi8iICsgKE1hdGguZmxvb3IoYWlkIC8gMTAwMCkgKyAxKSwKICAgICAgICAgICAgICAgICAgICBzdWJEaXIyID0gIi8iICsgKGFpZCAtIE1hdGguZmxvb3IoYWlkIC8gMTAwMCkgKiAxMDAwKTsKICAgICAgICAgICAgICAgICRjb250ZW50LmF0dHIoewogICAgICAgICAgICAgICAgICAgIGNsYXNzOiAicmVhZGVyLWFqYXgiLAogICAgICAgICAgICAgICAgICAgIHNyYzogImh0dHA6Ly9yLnhzam9iLm5ldC9ub3ZlbCIgKyBzdWJEaXIgKyBzdWJEaXIyICsgIi8iICsgZmlsZXMsCiAgICAgICAgICAgICAgICAgICAgY2hhcnNldDogImdiayIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWkqeWkqeS4reaWhyIsCiAgICAgICAgdXJsOiAiaHR0cDovL3d3d1xcLnR0endcXC5jb20vYm9vay9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICB0aXRsZVNlbGVjdG9yOiAiI2NoYXB0ZXJfdGl0bGUiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiLmZsLnBsMjAgYTpsYXN0IiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjdGV4dF9hcmVhIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogL3d3dy50dHp3LmNvbXx3d3cuYzY2Yy5jb2185omL5py655So5oi36K+35Yiw6ZiF6K+744CCfDxwPlxzKmE8XC9wPi9pZywKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKSB7CiAgICAgICAgICAgIHZhciBtID0gZmFrZVN0dWIuZmluZCgnI3RleHRfYXJlYSBzY3JpcHQnKS50ZXh0KCkubWF0Y2goL291dHB1dFR4dFwoIiguKikiXCk7Lyk7CiAgICAgICAgICAgIGlmIChtKSB7CiAgICAgICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCcjdGV4dF9hcmVhJykuYXR0cih7CiAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJyZWFkZXItYWpheCIsCiAgICAgICAgICAgICAgICAgICAgc3JjOiB1bnNhZmVXaW5kb3cuZ2V0U2VydmVyKCkgKyBtWzFdLAogICAgICAgICAgICAgICAgICAgIGNoYXJzZXQ6ICJnYmsiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIHtzaXRlTmFtZTogIuWlveeci+Wwj+iqque2siIsCiAgICAgICAgdXJsOiAiaHR0cDovL3R3XFwueGlhb3NodW9rYW5cXC5jb20vaGFva2FuL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIi5ib29rY29udGVudCIsCiAgICAgICAgcHJldlNlbGVjdG9yOiAiYS5yZWRidXR0OmNvbnRhaW5zKCfkuIrkuIDpoIEnKSIsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogImEucmVkYnV0dDpjb250YWlucygn6L+U5Zue56ug56+A55uu6YyEJykiLAogICAgICAgIG5leHRTZWxlY3RvcjogImEucmVkYnV0dDpjb250YWlucygn5LiL5LiA6aCBJykiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAiW2EtejsmXSp3Llt4772YXWlhb3NodW9rYW4uY29tIOWlveeci+Wwj+iqque2slthLXo7JuaXj+OAke+8iV0qIgogICAgfSwKICAgIHtzaXRlTmFtZTogIkXlk4HkuK3mlofnvZEiLAogICAgICAgIHVybDogImh0dHA6Ly93d3dcXC5lcHp3d1xcLmNvbS9ib29rL1xcZCsvXFxkKyIsCiAgICAgICAgdGl0bGVSZWc6ICIoLio/KSwoLio/KSwiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNzaG93Y29udGVudCIsCiAgICB9LAogICAge3NpdGVOYW1lOiAi6aOY5aSp5paH5a2mIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwucGlhb3RpYW5cXC5uZXQvaHRtbC9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIC8vIHRpdGxlUmVnOiAiKC4qKeacgOaWsOeroOiKgiwoLiopLOmjmOWkqeaWh+WtpiIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICcjY29udGVudCA+IGgxID4gYScsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2NvbnRlbnQiLAogICAgICAgIHVzZWlmcmFtZTogdHJ1ZSwgIC8vIOWQpuWImSBjb250ZW50IOWcqCBib2R5IOS4i+mdogogICAgICAgIGNvbnRlbnRSZW1vdmU6ICJoMSwgdGFibGUsIC50b3BsaW5rIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAvW3vjgJZd6K+35Zyo55m+5bqm5pCc57SiLipbfeOAl118Lig/OueZvuW6puaQnOe0oumjhOWkqXzml6DlvLnnqpflsI/or7TnvZEpLipcLk5ldC58XFvpo4TlpKkuKuaXoOW8ueeql+Wwj+ivtOe9kVxdL2lnLAogICAgICAgICAgICAnXFx76aOY5aSp5paH5a2md3d3LnBpYW90aWFuLm5ldOaEn+iwouWQhOS9jeS5puWPi+eahOaUr+aMge+8jOaCqOeahOaUr+aMgeWwseaYr+aIkeS7rOacgOWkp+eahOWKqOWKm1xcfScsCiAgICAgICAgICAgICfnq6DoioLmm7TmlrDmnIDlv6snLAogICAgICAgICAgICAn5pSv5oyB572R56uZ5Y+R5bGV77yM6YCb5reY5a6d5Lmw5Lic6KW/LionCiAgICAgICAgXSwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLlpKnkvb/lsI/or7TnvZEiLAogICAgICAgIHVybDogImh0dHA6Ly93d3dcXC50c3hzXFwuY2MvZmlsZXMvYXJ0aWNsZS9odG1sL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2NvbnRlbnQiCiAgICB9LAogICAge3NpdGVOYW1lOiAi57Sr6Zuo6ZiB5bCP6K+0572RIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwueml5dWdlXFwuY29tL1xcdysvXFx3Ky9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qPykt5q2j5paHLSguKj8pLee0q+mbqOmYgeWwj+ivtOe9kSIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLnJlYWRlcl9jb250ZW50IiwKICAgICAgICBuZXh0U2VsZWN0b3I6ICIjZGl2TmV4dCBhIiwKICAgICAgICBwcmV2U2VsZWN0b3I6ICIjZGl2UHJldiBhIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogIlxcKC4qd3d3LnppeXVnZS5jb20uKlxcKSIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLnoLTpo47kuK3mlofnvZEiLAogICAgICAgIHVybDogImh0dHA6Ly93d3dcXC5wb2ZlbmdcXC5uZXQveGlhb3NodW8vXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlCiAgICB9LAogICAge3NpdGVOYW1lOiAi6K+75a6i5ZCnIiwKICAgICAgICB1cmw6ICJodHRwOi8vZHVrZWJhXFwuY29tL2Jvb2svXFxkKy9cXGQrL1xcZCtcXC5zaHRtbCIsCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNjb250ZW50ID4gZGl2W3N0eWxlXSIsCiAgICAgICAgY29udGVudFJlbW92ZTogImEsIGRpdlthbGlnbl06aGFzKGZvbnQpIiwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLkuIDotbfpmIUiLAogICAgICAgIHVybDogImh0dHA6Ly93d3dcXC4xN3l1ZVxcLmNvbS9cXHcrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHVzZWlmcmFtZTogdHJ1ZSwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLor7rnp4vnvZEiLAogICAgICAgIHVybDogImh0dHA6Ly93d3dcXC5udW9xaXVcXC5jb20vc3RhdGljL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qKSAoLiopIOivuueni+e9kSIsCiAgICAgICAgdGl0bGVQb3M6IDEsCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAi4pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTW1xcc1xcU10r6K+656eL572R5paH5a2X5pu05paw5pyA5b+r4oCm4oCm44CRQO+8ge+8gSIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLoqIDmg4XlkI7oirHlm60iLAogICAgICAgIHVybDogImh0dHA6Ly93d3dcXC55cWhoeVxcLmNjL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICIoLiopLSguKiktLiot6KiA5oOF5ZCO6Iqx5ZutIiwKICAgICAgICB0aXRsZVBvczogMSwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjY29udGVudCIsCiAgICAgICAgY29udGVudFJlbW92ZTogImEsIHNwYW5bc3R5bGVdLCBzY3JpcHQiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAi6K+36K6w5L2P5pys56uZ77yaIHd3dy55cWhoeS5jY3zmm7TlpJrvvIzlsL3lnKjoqIDmg4XlkI7oirHlm63jgIIiCiAgICB9LAogICAge3NpdGVOYW1lOiAi5YWt5Lmd5Lit5paHIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3Lig/OjY5end8a2FuNykuY29tL1xcdysvXFxkKy9cXGQrL1xcZCsuaHRtbCIsCiAgICAgICAgdGl0bGVTZWxlY3RvcjogIi5jaGFwdGVyX3RpdGxlIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogIi5yZWFkaGVhZCBoMSIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLnlkX3RleHQyIiwKICAgICAgICAvLyB0aXRsZVJlZzogIiguKik/XyguKikt5YWt5Lmd5Lit5paHIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAiW1xcKl0r5pys56ug6IqC5p2l5rqQ5YWt5Lmd5Lit5paHLiror7fliLDlha3kuZ3kuK3mlofpmIXor7vmnIDmlrDnq6DoioJbXFwqXSt877yNXFxcXFt377y3XSsuKuS5puWPi+S4iuS8oC/vvI0iLAogICAgICAgICAgICAiXFxcXOivt+WIsCB3d3cuNjl6dy5jb20g5YWtXFwq5LmdLio/LyIsCiAgICAgICAgICAgICLjgJAg5rOo5YaM5Lya5ZGY5Y+v6I6356eB5Lq65Lmm5p6277yM55yL5Lmm5pu05pa55L6/77yB77ya44CRIiwKICAgICAgICAgICAgIummluWPkTxiciAvPiIsCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWFjei0ueWwj+ivtOmYheivu+e9kSIsCiAgICAgICAgdGl0bGVSZWc6ICIoLiopICwgKC4qKSAsIOWFjei0ueWwj+ivtOmYheivu+e9kSIsCiAgICAgICAgdGl0bGVQb3M6IDEsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly9ib29rXFwueWF5YWNtc1xcLmNvbS9cXHcrL2Jvb2tfXFxkK19cXGQrLmh0bWwiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICJhLCBkaXZbc3R5bGVdIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogImh0dHA6Ly9ib29rLllhWWFDTVMuY29tLy4qfO+9gu+9j++9j++9i++8ju+9me+9ge+9me+9ge+9g++9je+9k++8ju+9g++9j++9jSIsCiAgICB9LAogICAge3NpdGVOYW1lOiAi5Lmm5Yac5Zyo57q/5Lmm5bqTIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwuc2h1bm9uZ1xcLmNvbS95dWVkdS9cXGQrL1xcZCsvXFxkKy5odG1sIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIuYm9va2NvbnRlbnQiLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuWKquWKquS5puWdiiIsCiAgICAgICAgdXJsOiAiaHR0cDovLyg/OmJvb2tcXC5rYW51bnVcXC5vcmd8d3d3XFwua2FudW51OFxcLmNvbSkvLiovXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAvKC4qKSAtICguKikgLSDlsI/or7TlnKjnur/pmIXor7sgLSAuKiAtIOWKquWKquS5puWdii8sCiAgICAgICAgdGl0bGVQb3M6IDEsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAidGFibGU6ZXEoNCkgcCIsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogImFbaHJlZl49Jy4vJ10iLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuS6lOaciOS4reaWh+e9kSIsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly81eWNuXFwuY29tL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgY29udGVudFJlbW92ZTogImRpdlthbGlnbj0nY2VudGVyJ10sIGEiLAogICAgfSwKICAgIHtzaXRlTmFtZTogIueslOS4i+S4reaWhyIsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly93d3dcXC5ieHp3XFwub3JnL1xcdysvXFxkKy9cXGQrL1xcZCtcXC5zaHRtbCIsCiAgICAgICAgY29udGVudFJlbW92ZTogImRpdlthbGlnbj0nY2VudGVyJ10sIGNlbnRlciwgI2Zvb3RsaW5rMSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICJ3d3dcXC5ieHp3XFwub3JnfC8v5peg5by556qX5pu05paw5b+rLy98XFwo55yL57K+5ZOB5bCP6K+06K+35LiKLipcXCl8XFwo55yLLirmnIDmlrDmm7TmlrDnq6DoioIuKlxcKSIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLnnYDnrJTkuK3mlofnvZEiLAogICAgICAgIHVybDogIl5odHRwOi8vLip6Ynp3XFwuY29tL1xcdysvXFxkK1xcLmh0bWwiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAi57K+5b2p5bCP6K+05bC95ZyoLioiCiAgICB9LAogICAge3NpdGVOYW1lOiAiRDU4NuWwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAnaHR0cDovL3d3d1xcLmQ1ODZcXC5jb20vJywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIueWRfdGV4dDIiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICdhJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAn44CQd3d3LjEzODAwMTAwLmNvbeaWh+Wtl+mmluWPkUQ177yYNuWwj+ivtOe9keOAkScsCiAgICAgICAgICAgICfjgJDimIZENe+8mDblsI/or7TnvZHimIYvL+aWh+Wtl+mmluWPkeOAkS4qJwogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLosYzosYbmloflrabnvZEiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3LndhbmRvb3UuY29tL2Jvb2svXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICcoLio/KeacgOaWsOeroOiKgi0oLiopLS4q5peg5by556qX5bm/5ZGKX+ixjOixhuaWh+Wtpue9kScsCiAgICAgICAgY29udGVudFJlbW92ZTogImNlbnRlciIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgL1t777yIXTxhIGhyZWYuKlt977yJXXznvZHmrKLov47lub/lpKfkuablj4vlhYnkuLTpmIXor7vvvIwuKi9pZywKICAgICAgICAgICAgL1vjg6zimIVdKy4qKD866K+35pSv5oyBKT/osYwoPzoufCZhbXA7KT/osYYuP+aWhy4/5a2mLipb44Os4piFXSsvaWcsCiAgICAgICAgICAgIC9b77yIKOOAkF3osYwuP+ixhi4/5paHLj/lraYuKlvvvIkp44CRXS9pZywKICAgICAgICAgICAgL+KIt+abtOaWsOW/q+KIt+KIt+e6r+aWh+Wtl+KIt3xodHRwOuawuOS5hee9keWdgO+8jOivt+eJouiusO+8gS9pZywKICAgICAgICAgICAgLyg/Ont8XFx8XC98XCgpKuixjC4/6LGGLj/mlocuP+Wtpi4/572RLio/KD866auY6YCf5pu05pawfFxcXC98fSkrL2lnLAogICAgICAgICAgICAv5pu05paw5pyA5b+r5pyA56iz5a6afOeci+Wwj+ivtOKAnOKAnS9pZywKICAgICAgICAgICAgLyZsdDtzdHJuZyZndDsuKj8mbHQ7XC9zdHJuZyZndDsvaWcsCiAgICAgICAgICAgIC9cKOWHpOiInuaWh+Wtpue9kVwpfFwoICpcKXzjgIzlkK/oiKrmloflrZfjgI18NznpmIUu6K+7Lue9kS9pZywKICAgICAgICAgICAgL+mrmOmAn+mmluWPkS4qP+acrOeroOiKguaYry4qL2lnLAogICAgICAgICAgICAv55m+5bqm5pCc57Si6Ieq5LuO55+l6YGT55So55m+5bqm5pCc57Si77yM5aaI5aaI5YaN5Lmf5LiN55So5ouF5b+D5oiR6L+95LiN5Yiw5pyA5b+r5pu05paw5LqGL2lnLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLpg73mnaXor7vlsI/or7TnvZEiLAogICAgICAgIHVybDogL15odHRwOlwvXC93d3dcLmRvdWxhaWR1XC5jb21cL1teXC9dK1wvXGQrXC9cZCtcLmh0bWwvLAogICAgICAgIHVzZWlmcmFtZTogdHJ1ZSwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAvd3d377yOLivvvI4oPzpjb218bmV0KS9pZywKICAgICAgICAgICAgL+mDveadpeivu+Wwj+ivtOe9kemmluWPkXx3d3dcLlthLXowLTldK1wuKD86b3JnfGNvbSkvaWcsCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWwj+ivtFRYVCIsCiAgICAgICAgdXJsOiAvXmh0dHA6XC9cL3d3d1wueHNodW90eHRcLmNvbVwvLywKICAgICAgICBjb250ZW50UmVwbGFjZTogIlxcKC4q5peg5by556qX5YWo5paH6ZiF6K+7XFwpIiwKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKSB7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoJyN0aXRsZSBhJykucmVtb3ZlKCk7CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIueWr+eLguS4reaWh+e9kSIsCiAgICAgICAgdXJsOiAiaHR0cDovL3d3d1xcLmZrend3XFwuY29tLyIsCiAgICAgICAgY29udGVudFJlbW92ZTogIi5ib3R0ZW0sIGFbaHJlZj0naHR0cDovL3d3dy5ma3p3dy5jb20nXSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgL+aUtuiXj+OAkC4qP+eWr+eLguS4reaWh+e9kVwpL2lnLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLlkL7or7vlsI/or7TnvZEiLAogICAgICAgIHVybDogImh0dHA6Ly93d3dcXC41ZHU1XFwuY29tL2Jvb2svLipcXC5odG1sIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogJ1xcKOWQvuivu+Wwj+ivtOe9kSA8YS4q5peg5by556qX5YWo5paH6ZiF6K+7XFwpJwogICAgfSwKICAgIHtzaXRlTmFtZTogIlVV55yL5LmmIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwudXVrYW5zaHVcXC5jb20vLiovXFxkKy9cXGQrLmh0bWwiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAiW1XvvLVdKueci+S5plvvvIhcXChdLio/W++8iVxcKV3mloflrZfpppblj5HjgIIiCiAgICB9LAogICAge3NpdGVOYW1lOiAi6ZW/6aOO5paH5a2m572RIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwuY2Z3eFxcLm5ldC9maWxlcy9hcnRpY2xlL2h0bWwvXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICB0aXRsZVNlbGVjdG9yOiAnLnRpdGxlJywKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy5saW5rbGVmdCA+IGE6bGFzdCcsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJyhbXlxcdTRFMDAtXFx1OUZGRl0rKemVv1xcMemjjlxcMeaWh1xcMeWtplteXFxuXSt0JywKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5LqR5p2l6ZiBIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwueXVubGFpZ2VcXC5jb20vaHRtbC9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICcuY3RpdGxlJywKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJyNobEJvb2tOYW1lJywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcjY29udGVudCcsCiAgICAgICAgY29udGVudFJlbW92ZTogJy5ib3R0b21saW5rLCBhLCAuY2FkLCAuZm9vdGVyLCAuYWRib3R0b20nLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICdb4piG4piF4peG44CT44CO44CQ4peO4peHXS4qPyg/Onl1bmxhaWdlfOS6kSDmnaUg6ZiBfO+9me+9le+9ju+9jO+9ge+9ie+9h++9hSkuKj9b4piG4peG4piF44CT44CP44CR4peO4peHXScsCiAgICAgICAgICAgICfjgIrmm7TmlrDmnIDlv6vlsI/or7TnvZHnq5nvvJrpm7LmnaXpmIFodHRwOi8vV1dXLll1bkxhaUdlLkNPTeOAiycsCiAgICAgICAgICAgICfil6Lnmb7luqbmkJzntKLpm7LmnaXpmIHvvIzmnIDmlrDmnIDlv6vnmoTlsI/or7Tmm7TmlrDil6MnLAogICAgICAgICAgICAn44CQ55W25L2g6Zax6K6A5Yiw5q2k56ug56+A77yM6KuL5oKo56e75q2l5Yiw6Zuy5L6G6Zaj6Zax6K6A5pyA5paw56ug56+A77yM5oiW6ICF77yM6Zuy5L6G6Zaj44CRJywKICAgICAgICAgICAgJ+OAkOeci+aBkOaAluWwj+ivtOOAgeeOhOW5u+Wwj+ivtOOAgeivt+Wkp+WutueZu+mZhum7keWyqeWxhWh0dHA6Ly93d3cuaGVpeWFuanUuY29t5LiH5pys5bCP6K+05YWN6LS555yL44CRJywKICAgICAgICAgICAgJ+WmguaCqOW3sumYheivu+WIsOatpOeroOiKgu+8jOivt+enu+atpeWIsC4qJywKICAgICAgICAgICAgJz09PeeZviE/5bqm5pCc57SiLio/5paw56ug6IqCPT09JywKICAgICAgICAgICAgJ+OAkOacgOaWsOabtOaWsOOAkScsCiAgICAgICAgICAgICflgLzlvpfmgqjmlLbol4/jgILjgIInLAogICAgICAgICAgICAn5bCP6K+04oCc5bCP6K+056ug6IqCJywKICAgICAgICAgICAgJ+e6r+aWh+Wtl+WcqOe6v+mYheivu+acrOermeWfn+WQjScsCiAgICAgICAgICAgICfmiYvmnLrlkIzmraXpmIXor7vor7forr/pl64nLAogICAgICAgICAgICAnXFwo5LqR5p2l6ZiB5bCP6K+05paH5a2m572Rd3d3Lnl1bmxhaWdlLmNvbVxcKScsCiAgICAgICAgICAgICfjgJDmnKzkuabkvZzogIXmjqjojZDvvJooPzrnmb7luqbmkJzntKIpP+S6keadpemWo++8jOWFjei0ueingueci+acrOS5puacgOW/q+eahFZJUOeroOiKguOAkScsCiAgICAgICAgICAgICfCsemhtsKx54K5wrHlsI/CseivtO+8jHd3JywKICAgICAgICAgICAgJ+KWoGRpbmdkZGlhbuWwj+ivtO+8jHd34oioMjN34oaS4pagbScsCiAgICAgICAgICAgICd34oioMjN3JywKICAgICAgICAgICAgJ++9l3fvvZcyM++9l++9mO+9g++9j++9jScsCiAgICAgICAgICAgICfvv6XihInpoILvv6XihInngrnvv6XihInlsI/vv6XihIknLAogICAgICAgICAgICAn77+h4oid6aCC77+h4oid54K577+h4oid5bCP77+h4oidJywKICAgICAgICAgICAgJ+evruOAguiJsuOAguS5puOAguW3tCwnLAogICAgICAgICAgICAnPCEtLVxcP1tcXCg8XScsICAgLy8g5o+Q5Y+W5YaF5a655ZCO5Ye6546w55qE5rOo6YeK5qCH5b+X77yM6YCg5oiQ5ZCO6Z2i55qE5YaF5a655rKh5LqGCiAgICAgICAgICAgICfnnIvkuaYmbmJzcDsmbmJzcDsg6KaBPycsCiAgICAgICAgICAgICfllpzmrKLnvZHlsLHkuIrjgIInLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLkuZDmloflsI/or7TnvZEiLAogICAgICAgIHVybDogL2h0dHA6XC9cL3d3d1wubHd4czUyMFwuY29tXC9ib29rc1wvXGQrXC9cZCtcL1xkKy5odG1sLywKICAgICAgICBzaXRlRXhhbXBsZTogJ2h0dHA6Ly93d3cubHd4czUyMC5jb20vYm9va3MvMi8yMzI5LzQ3MzQyNi5odG1sJywKICAgICAgICBjb250ZW50UmVtb3ZlOiAnI2NvbnRlbnQ+Om5vdChwKScsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+WWnOasouS5kOaWh+Wwj+ivtOe9keWwseS4ind3dy4qKD8677yj77yv77ytfGNvbSknLAogICAgICAgICAgICAn54ix546p54ix55yL5bCx5p2l5LmQ5paH5bCP6K+0572RLionLAogICAgICAgICAgICAnXFwoTO+8t1jvvLPvvJXvvJLvvJDjgIJcXCknLAogICAgICAgICAgICAn77ytLkzvvLd477yzNTIwLmNvbSZuYnNwO+S5kOaWh+enu+WKqOe9kScsCiAgICAgICAgICAgIC9cKOacquWujOW+hee7rS4rL2csCiAgICAgICAgICAgIC/kuZDmloflsI/or7TnvZHlgLzlvpcuKy9nLAogICAgICAgICAgICAnXFwoXFwpJywKICAgICAgICAgICAgJ3d3dy5M77y377y477yz77yV77yS77yQLmNvbScsCiAgICAgICAgICAgICd3d3cubHd4czUyMC5jb20g6aaW5Y+R5ZOm5LqyJywKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAn5oiR54ix5bCP6K+0JywKICAgICAgICB1cmw6ICdeaHR0cDovL3d3d1xcLndvYWl4aWFvc2h1b1xcLmNvbS94aWFvc2h1by9cXGQrL1xcZCsvXFxkK1xcLmh0bWwnLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnI2xib3ggPiBiJywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcjcmVhZGJveCcsCiAgICAgICAgY29udGVudFJlbW92ZTogJyNwYXBnYnV0dG9uLCAjY29udGVudCcsCiAgICB9LAogICAge3NpdGVOYW1lOiAi57Gz6Iqx5Zyo57q/5Lmm5bqTIiwKICAgICAgICB1cmw6IC9ib29rXC5taWh1YVwubmV0XC9cdytcL1xkK1wvXGQrXC8uK1wuaHRtbC8sCiAgICAgICAgdGl0bGVTZWxlY3RvcjogIiN0aXRsZSIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI3ZpZXdib29rIgogICAgfSwKICAgIHtzaXRlTmFtZTogIjU45bCP6K+0572RIiwKICAgICAgICB1cmw6IC9eaHR0cDpcL1wvKHd3d3xib29rKVwuKDU4KT81OHhzXC5jb21cL2h0bWxcL1xkK1wvXGQrXC9cZCtcLmh0bWwvLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICJoMSIsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogIiNmb290bGluayA+IGE6ZXEoMSkiLAogICAgICAgIHByZXZTZWxlY3RvcjogIiNmb290bGluayA+IGE6ZXEoMCkiLAogICAgICAgIG5leHRTZWxlY3RvcjogIiNmb290bGluayA+IGE6ZXEoMikiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNjb250ZW50IiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiLmYxLCAuYzEiCiAgICB9LAogICAge3NpdGVOYW1lOiAi5aSp5aSp576O5paH572RIiwKICAgICAgICB1cmw6IC93d3dcLjM2NWVzc2F5XC5jb21cL1x3K1wvLisuaHRtLywKICAgICAgICB0aXRsZVNlbGVjdG9yOiAiLnRpdGxlID4gaDEiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiN6b29tYyB0ZCIsCiAgICAgICAgY29udGVudFJlbW92ZTogIi5wYWdlLWJvdHRvbWMiCiAgICB9LAogICAge3NpdGVOYW1lOiAi5aSp5rav5q2m5bqTIiwKICAgICAgICB1cmw6IC93eFwudHkyMDE2XC5jb21cLy4rXC5odG1sJC8sCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICJ0ZFt3aWR0aD0nODAwJ11baGVpZ2h0PScyNSddPmFbaHJlZj0nLi8nXSIsCiAgICAgICAgdGl0bGVTZWxlY3RvcjogInN0cm9uZz5mb250IiwKICAgICAgICBpbmRleFNlbGVjdG9yOiAidGQgYVtocmVmPScuLyddIiwKICAgICAgICBuZXh0U2VsZWN0b3I6ICJ0ZFt3aWR0aD0nMjglJ10gYSIsCgogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogInRkW3dpZHRoPSc3NjAnXSBwIiwKICAgICAgICBjb250ZW50SGFuZGxlOiBmYWxzZSwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLpu4Tph5HlsYvkuK3mlofnvZEiLAogICAgICAgIHVybDogL3d3d1wuaGp3endcLmNvbVwvQm9va1wvUmVhZFwvXGQrWyxfXVxkKyQvLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICJoMSIsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogInRkIGFbaHJlZj0nLi8nXSIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI0FsbHlTaXRlK2RpdiIsCiAgICAgICAgY29udGVudFJlbW92ZTogImIsIGIrcCIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgIuivt+iusOS9j+acrOermeWfn+WQjToiCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuaipui/nOS5puWfjiIsCiAgICAgICAgdXJsOiAvd3d3XC5teTI4NVwuY29tKD86XC9cdyspezMsNX1cL1xkK1wuaHRtJC8sCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogInRhYmxlOmVxKDIpIHRyOmVxKDMpIiwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLmm7TmlrDlkKciLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwuZ2VuZ3hpbjhcXC5jb20vcmVhZC9cXGQrL1xcZCsuaHRtbCQiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnLmxlZnQgYTpsYXN0JywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjY2hhcHRlcnR4dCIsCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuS5kOaWh+Wwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAiaHR0cDovL3d3d1xcLjM2NXhzXFwub3JnL2Jvb2tzL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVTZWxlY3RvcjogIi5rZnlkIGgxIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogInVsLmJyZWFkLWNydW1icyBhOmxhc3QiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNjb250ZW50IiwKICAgICAgICAvLyBjb250ZW50UmVwbGFjZTogW10KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLoiJ7oi6XlsI/or7TnvZEiLAogICAgICAgIHVybDogImh0dHA6Ly93d3dcXC53dXJ1b1xcLmNvbS9maWxlcy9hcnRpY2xlL2h0bWwvXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogIi50ZXh0IGE6ZXEoMSkiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiN6aGVuZ3dlbiIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+OAkOabtOWkmueyvuW9qeWwj+ivtOivt+iuv+mXrnd3dy53dXJ1by5jb23jgJEnLAogICAgICAgICAgICAn77yId3d3Lnd1cnVvLmNvbeiInuiLpeWwj+ivtOe9kemmluWPke+8iScsCiAgICAgICAgICAgICfjgJDoiJ7oi6XlsI/or7TnvZHpppblj5HjgJEnLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLlpKfkuabljIXlsI/or7TnvZEiLAogICAgICAgIHVybDogImh0dHA6Ly93d3dcXC5kYXNodWJhb1xcLmNvbT8vYm9vay9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiLnJlYWRfdCA+IC5sZiA+IGE6bnRoLWNoaWxkKDMpIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIueWRfdGV4dDIiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIueIrOS5pue9kSIsCiAgICAgICAgdXJsOiAiaHR0cDovL3d3d1xcLnBhc2h1d1xcLmNvbS9Cb29rUmVhZGVyL1xcZCstXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIjcGFpaGFuZ2Jhbmdfc2VsZWN0ID4gYTpsYXN0KCkiLAogICAgICAgIG5leHRTZWxlY3RvcjogIiNuZXh0MiBhIiwKICAgICAgICBwcmV2U2VsZWN0b3I6ICIjcHJldjIgYSIsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogIiNmaG1sMiBhIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnLm5vdmVsX2JvdCcsCiAgICB9LAogICAge3NpdGVOYW1lOiAi6Zeq5paH5Lmm5bqTIiwKICAgICAgICB1cmw6ICJodHRwOi8vcmVhZFxcLnNoYW53ZW5cXC5jb20vaHRtbC9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICcubmV3c3RpdGxlJywKICAgICAgICBjb250ZW50UmVtb3ZlOiAnI3RpdGxlYm90dG9tJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAn6Zeq5paH572R5Z2A5Lit55qELio/5rOo5YaM5Lya5ZGYPC9hPicKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5ZOB5Lmm572RIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwudm9kdHdcXC5jb20vSHRtbC9Cb29rL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICcuc3JjYm94ID4gYTpsYXN0KCknLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICdhJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAn5ZOB5Lmm572RIHd3dy52b0R0dy5jb23il4fihpMnLAogICAgICAgICAgICAn5ZOB5Lmm572RIHd3dy52b2R0Vy5jb20nLAogICAgICAgICAgICAn5ZOBIOS5piDnvZEg77yIdyBXIFcgIC4gViBvIER0dyAuIGMgbyBN77yJJywKICAgICAgICAgICAgJ+WkjeWItue9keWdgOiuv+mXrlxccypodHRwOi8vWyVcXGRcXHddKycKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5Yek5Yew5bCP6K+0572RIiwKICAgICAgICB1cmw6ICJodHRwOi8vd3d3XFwuZmh4c1xcLmNvbS9yZWFkL1xcZCsvXFxkKy9cXGQrXFwuc2h0bWwiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnLmNvbl90b3AgPiBhOmxhc3QoKScsCiAgICAgICAgY29udGVudFJlbW92ZTogJy5ib3R0ZW0nLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWwj+ivtOW3tOWjqyIsCiAgICAgICAgdXJsOiAiaHR0cDovL3d3d1xcLnhzYmFzaGlcXC5jb20vXFxkK19cXGQrLyIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+WFqOaWh+mYheivu+WmguaCqOW3sumYheivu+WIsOatpOeroFvnr4DoioJdLio/77yM77yM77yM77yMJywKICAgICAgICAgICAgJ+eci+Wwj+ivtOmmluWPkeaOqOiNkOWOu+ecvOW/q+eci+S5picsCiAgICAgICAgICAgICfmnIDlv6vmm7TmlrDvvIzpmIXor7vor7fjgIJfX1/lsI8v6K+0L+W3tC/lo6sgV3d3LlhTQkFTSEkuY29NX19fJywKICAgICAgICAgICAgJ19fX+Wwjy/or7Qv5be0L+WjqyB3d3cuWFNCQVNISS5jb21fX18nLAogICAgICAgICAgICAnbGFsYeWmguaCqOW3sumYheivu+WIsOatpOeroOevgO+8jOiri+enu+atpeWIsC4qP+mAn+iusOaWueazle+8mu+8jFxcXScsCiAgICAgICAgICAgICdsYWxh5aaC5oKo5bey6ZiF6K+75Yiw5q2k56ug56+ALio/5pWs6KuL6KiY5L2P5oiR5YCR5paw55qE57ay5Z2A562GLei2oy3plqMnLAogICAgICAgICAgICAn6LW36Iie55S15a2Q5Lmm6K6/6ZeuOi4g44CCJywKICAgICAgICAgICAgJ+KJp+WTiO+8jG1cXC4nLAogICAgICAgICAgICAnXFxbXFxzKui2heWkmuWlveeci1xcXScsCiAgICAgICAgICAgICfng63pl6jjgJDpppblj5HjgJEnLAogICAgICAgICAgICAnPT0955m+5bqm5pCc57SiLio/PT09JywKICAgICAgICAgICAgJz09PVxcKlxcKuWwj+ivtOW3tOWjqy4qPz09PScsCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuaAneWFlOmYheivuyIsCiAgICAgICAgdXJsOiAiaHR0cDovL1xcdytcXC5zdG9cXC5jYy9cXGQrLVxcZCsvIiwKICAgICAgICB0aXRsZVJlZzogIiguKj8pXyguKj8pX+WFqOaWh+WcqOe3mumWseiugF/mgJ3lhZQiLAogICAgICAgIHRpdGxlUG9zOiAwLAogICAgICAgIC8vYm9va1RpdGxlU2VsZWN0b3I6ICJoMSIsCiAgICAgICAgcHJldlNlbGVjdG9yOiAiYTpjb250YWlucygn5LiK5aO56aCBJykiLAogICAgICAgIG5leHRTZWxlY3RvcjogImE6Y29udGFpbnMoJ+S4i+WjuemggScpIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICJkaXYjQm9va0NvbnRlbnQiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICdzcGFuJywKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLljrvor7vor7siLAogICAgICAgIHVybDogImh0dHA6Ly93d3dcXC5xdWR1ZHVcXC5uZXQvYm9vay9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNrdWktcGFnZS1yZWFkLXR4dCIsCiAgICB9LAoKCiAgICAvLyA9PT09PSDnibnmrornmoTojrflj5bkuIvkuIDpobXpk77mjqUKICAgIHtzaXRlTmFtZTogIueci+S5puWVpiIsCiAgICAgICAgdXJsOiAiXmh0dHA6Ly93d3cua2Fuc2h1LmxhL2Jvb2svXFx3Ky9cXGQrXFwuc2h0bWwiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qKS0oLiopLeeci+S5puWVpiIsCiAgICAgICAgdGl0bGVQb3M6IDEsCiAgICAgICAgbmV4dFVybDogZnVuY3Rpb24oJGRvYyl7CiAgICAgICAgICAgIHZhciBodG1sID0gJGRvYy5maW5kKCdzY3JpcHQ6Y29udGFpbnMobmV4dF9wYWdlID0gIiknKS5odG1sKCk7CiAgICAgICAgICAgIHZhciBtID0gaHRtbC5tYXRjaCgvbmV4dF9wYWdlID0gIiguKj8pIjsvKTsKICAgICAgICAgICAgaWYgKG0pIHJldHVybiBtWzFdOwogICAgICAgIH0sCiAgICAgICAgcHJldlVybDogZnVuY3Rpb24oJGRvYyl7CiAgICAgICAgICAgIHZhciBodG1sID0gJGRvYy5maW5kKCdzY3JpcHQ6Y29udGFpbnMocHJldmlld19wYWdlID0gIiknKS5odG1sKCk7CiAgICAgICAgICAgIHZhciBtID0gaHRtbC5tYXRjaCgvcHJldmlld19wYWdlID0gIiguKj8pIjsvKTsKICAgICAgICAgICAgaWYgKG0pIHJldHVybiBtWzFdOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLkuabpmIHnvZEiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwuYm9va2dld1xcLmNvbS9IdG1sL0Jvb2svXFxkKy9cXGQrL1xcZCtcXC5odG0iLAogICAgICAgIHRpdGxlUmVnOiAiKC4qKS0oLio/KS3kuabpmIHnvZEiLAogICAgICAgIHRpdGxlUG9zOiAxLAogICAgICAgIC8vIHRpdGxlU2VsZWN0b3I6ICIubmV3c3RpdGxlIiwKICAgICAgICBuZXh0VXJsOiBmdW5jdGlvbigkZG9jKXsKICAgICAgICAgICAgdmFyIGh0bWwgPSAkZG9jLmZpbmQoJ3NjcmlwdDpjb250YWlucyhuZXh0cGFnZT0pJykuaHRtbCgpOwogICAgICAgICAgICB2YXIgbSA9IGh0bWwubWF0Y2goL25leHRwYWdlPSIoLio/KSI7Lyk7CiAgICAgICAgICAgIGlmIChtKSByZXR1cm4gbVsxXTsKICAgICAgICB9LAogICAgICAgIHByZXZVcmw6IGZ1bmN0aW9uKCRkb2MpIHsKICAgICAgICAgICAgdmFyIGh0bWwgPSAkZG9jLmZpbmQoJ3NjcmlwdDpjb250YWlucyhwcmV2cGFnZT0pJykuaHRtbCgpOwogICAgICAgICAgICB2YXIgbSA9IGh0bWwubWF0Y2goL3ByZXZwYWdlPSIoLio/KSI7Lyk7CiAgICAgICAgICAgIGlmIChtKSByZXR1cm4gbVsxXTsKICAgICAgICB9CiAgICB9LAoKICAgIC8vIHtzaXRlTmFtZTogIumbheaWh+iogOaDheWwj+ivtOWQpyIsICAvLyDkuIDnq6DliIbmrrUKICAgIC8vICAgICB1cmw6ICJodHRwOi8vd3d3XFwueWF3ZW44XFwuY29tL1xcdysvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAvLyAgICAgY29udGVudFNlbGVjdG9yOiAiI2NvbnRlbnQgLnR4dGMiCiAgICAvLyB9CgoJe3NpdGVOYW1lOiflppnnrJTpmIEnLAoJCXVybDovXmh0dHA6XC9cL3d3d1wubWlhb2JpZ2VcLmNvbVwvLipcLmh0bWwvaSwKCQlzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5taWFvYmlnZS5jb20vYm9vay81XzE1ODYvMTAwNjMyMC5odG1sJywKICAgICAgICAvLyDmnInnmoTkvJrmj5DnpLrpmLLph4fpm4bnq6DoioIKICAgICAgICBmSW5pdDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCc8c2NyaXB0PicpCiAgICAgICAgICAgICAgICAudGV4dCgnJChkb2N1bWVudCkudW5iaW5kKCJjb250ZXh0bWVudSBzZWxlY3RzdGFydCIpJykKICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTsKICAgICAgICB9LAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAn5aaZ56yU6ZiB77yM5peg5by556qX77yM5pu05paw5b+r77yM6K6w5L2Pd3d3Lm1pYW9iaWdlLmNvbScsCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIHZhciB0eHQgPSBmYWtlU3R1Yi5maW5kKCcjY29udGVudCcpLAogICAgICAgICAgICAgICAgbU5ld0xpbms7CgogICAgICAgICAgICBpZiAoMCA9PT0gdHh0LnRleHQoKS50cmltKCkuaW5kZXhPZign6Ziy6YeH6ZuG56ug6IqC77yMJykpIHsKICAgICAgICAgICAgICAgIG1OZXdMaW5rID0gdHh0Lmh0bWwoKS5tYXRjaCgvaHR0cDpcL1wvd3d3XC5taWFvYmlnZVwuY29tXC9ib29rXC8oXGQpXyhcZCspXC8oXGQrKVwuaHRtbC9pKTsKICAgICAgICAgICAgICAgIGlmIChtTmV3TGluaykgewogICAgICAgICAgICAgICAgICAgIHR4dCAuYWRkQ2xhc3MoUkVBREVSX0FKQVgpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogJy9qcy9hamF4dHh0LmFzcCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyc2V0OiAnZ2JrJwogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAuZGF0YSgncG9zdCcsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZDogbU5ld0xpbmtbMl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aWQ6IG1OZXdMaW5rWzNdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lkOiBtTmV3TGlua1sxXQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgn6K+3562J5b6F5Yqg6L294oCmJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9Cgl9LAoKXTsKCi8vID09PT09IOWwj+ivtOaLvOmfs+Wtl+OAgeWxj+iUveWtl+S/ruWkjSA9PT09PQovLyDov5DooYzlnKjmnKrmm7/mjaIgPGJyPiDkuYvliY3vvIwuKiDlj6/og73kvJrpgKDmiJDlhajpg6jmm7/mjaIKUnVsZS5yZXBsYWNlID0gewogICAgLy8gPT095qC85byP5pW055CGPT09CiAgICAvLyAiXFwofFxcW3xcXHt877yIfOOAkHzvvZsiOiLvvIgiLAogICAgLy8gIlxcKXxcXF18XFx9fO+8iXzjgJF8772dIjoi77yJIiwKCiAgICAvLyDpnIDopoHvvJ8KICAgICIsIjogIu+8jCIsCiAgICAvLyAiOiI6ICLvvJoiLCAiXFw/Ijoi77yfIiwgIC8vIOS8mumAoOaIkOi1t+eCueeahOWbvueJh+aXoOazleabv+aNogoKICAgICJcXCp877yKIjoiKiIsCiAgICAiW3dX772X77y3XXszfSI6Ind3dyIsCiAgICAid3szfShcdTMwMDF8XHUzMDAyKSI6Ind3dy4iLAogICAgIltjQ++9g++8o11bb0/vvY/vvK9dW21N772N77ytXSI6ImNvbSIsCiAgICAiW25O772O77yuXVtl772FRe+8pV1bdO+9lFTvvLRdIjoibmV0IiwKICAgICJbY0PvvYPvvKNdW25O772O77yuXSI6ImNuIiwKICAgICIoXFwufFx1MzAwMXxcdTMwMDIpY29tIjoiLmNvbSIsCiAgICAiKFxcLnxcdTMwMDF8XHUzMDAyKW5ldCI6Ii5uZXQiLAogICAgIihcXC58XHUzMDAxfFx1MzAwMiljbiI6Ii5jbiIsCiAgICAiW3BQ772Q77ywXVtzU++9k++8s11bOu+8ml0iOiJwczoiLAogICAgIuOAgns1LDd9Ijoi4oCm4oCmIiwifnsyLDUwfSI6IuKAlOKAlCIsIuKApnszLDQwfSI6ICLigKbigKYiLCLvvI17MywyMH0iOiLigJTigJQiLAogICAgLy8i44CCKCx877yMfOOAgikiOiAi44CCIiwKICAgIC8vICLvvJ8oLHzvvIwpIjogIu+8nyIsCiAgICAvLyLigJ0oLHzvvIx844CCKSI6ICLigJ0iLAogICAgIkB7Myx9IjogIiIsCgogICAgLy8gPT09IOS4gOS6m+eJueauiueahOabv+aNoiA9PT0KICAgICJcXFsrQ1AuKihodHRwOi8vZmlsZS4qXFwuanBnKVxcXSsiOiAiPGltZyBzcmM9JyQxJz4iLAogICAgIuOAjiguKeOAjyI6ICIkMSIsICAvLyAi44CO6Imy44CPIjogIuiJsiIsCgogICAgLy8gPT09IOWOu+W5v+WRiiA9PT0KICAgICJcXFvmkJzntKLmnIDmlrDmm7TmlrDlsL3lnKhbYS16XFwuXStcXF0iOiAiIiwKICAgICI8YT7miYvmnLrnlKjmiLfor7fliLBtLnFpZGlhbi5jb23pmIXor7vjgII8L2E+IjogIiIsCiAgICAiLnsyLDR95Lit5paH572R5qyi6L+O5bm/5aSn5Lmm5Y+LIjogIiIsCiAgICAi6K6/6Zeu5LiL6L29dHh05bCP6K+0fOKXjumbsuS+humWo+WFjei0ueS4h+acrG0ueXVubGFpZ2UuY29t4peOIjoiIiwKICAgICLjgJbiiLfmm7TmlrDlv6viiLfml6DlvLnnqpfiiLfnuq/mloflrZfiiLcuKj/jgJciOiAiIiwKICAgICfotoXlv6vnqLPlrprmm7TmlrDlsI/or7RbLO+8jF0nOicnLCAi5pys5paH55Sx44CA44CC44CC44CA6aaW5Y+RIjoiIiwKICAgICfigJ3lsI/or7TigJzlsI/or7Tnq6DoioLmm7TmlrDmnIDlv6snOiAnJywKICAgICflpoLmnpzop4nlvpflpb3nnIvvvIzor7fmiormnKznq5nnvZHlnYDmjqjojZDnu5nmgqjnmoTmnIvlj4vlkKfvvIEnOiAnJywKICAgICfmnKznq5nmiYvmnLrnvZHlnYDvvJombmJzcDsmbmJzcDvor7fkupLnm7jpgJrnn6XlkJHmgqhRUee+pOOAkOW+ruWNmi/lvq7kv6HjgJHorrrlnZvotLTlkKfmjqjojZDlrqPkvKDku4vnu40hJzogJycsCiAgICAiZnFYU3dcXC5jb20iOiIiLCAiXFwuNe+9hO+9lXxcXC7vvJVkde+8lVxcLiI6IiIsCiAgICAiXFxbXFxdIjoiIiwKICAgICLlpoLmnpzmgqjop4nlvpfnvZHkuI3plJnlsLHlpJrlpJrliIbkuqvmnKznq5nosKLosKLlkITkvY3or7vogIXnmoTmlK/mjIEiOiAiIiwKICAgICLlhajmloflrZfml6Dlub/lkYp8XFwo55yL5Lmm56qdJm5ic3A755yL5Lmm56qdJm5ic3A75peg5by556qX5YWo5paH6ZiF6K+7XFwpIjogIiIsCiAgICAi44CC44CCK1tcXHPjgIBdKueci+acgOaWsOacgOWFqOWwj+ivtCI6ICIiLAogICAgIuawtOWNsOW5v+WRiua1i+ivlSI6ICIiLAogICAgIlxcKOW5s+WNl+aWh+Wtpue9kVxcKSI6IiIsICAi6K6A6JW26JW25bCQ6Kqq57ayIjoiIiwKICAgICLmr5TlpYfmj5DnpLrvvJrlpoLkvZXlv6vpgJ/mkJzoh6rlt7HopoHmib7nmoTkuabnsY0iOiIiLCAgIuOAiueZvuW6puS5puWQjVxcK+avlOWlh+OAi+WNs+WPr+W/q+mAn+ebtOi+viI6IiIsCiAgICAifuaXoH7plJl+5bCPfuivtCI6ICIiLAoKICAgICJcXCjkuIDnp5LorrDkvY/lsI/or7TnlYxcXO+8iXxcXCrkuIDnp5LorrDkvY9cXCoiOiIiLAogICAgInV1dHh0XFwub3JnfDN2Ym9va1xcLmNufHd3d1xcLnFid3hcXC5jb218V1d3XFwuWWFOa3VhaVxcLmNvbXx3d3dcXC5idHp3XFwuY29tfHd3d1xcLjIzdVNcXC5jb20iOiAiIiwKICAgICJ0eHQ1MzcxMi8iOiAiIiwKICAgICJceGEwezQsMTJ9IjoiXHhhMFx4YTBceGEwXHhhMFx4YTBceGEwXHhhMCIsCgogICAgLy8gPT09IOmAmueUqOWOu+W5v+WRigogICAgIlt3772X77y3XXsxLDN9W++8jlxcLl3vvJLvvJPvvZXvvLNb77yOXFwuXSg/Ou+9g++9j++8rXxjb20pIjogIiIsCgogICAgLy8gPT09IOaYn+WPt+Wxj+iUveWtl+i/mOWOnyA9PT0KICAgICLljYHmnIkoXFwqezJ9KSI6IuWNgeacieWFq+S5nSIsIuWNgeaciWLEgSfkuZ0iOiLljYHmnInlhavkuZ0iLCAgIlxcKnsyfeS4jeemu+WNgSI6IuWFq+S5neS4jeemu+WNgSIsCiAgICAiRyhcXCp7Mn0pIjoiR1NNIiwgIuaEnyhcXCp7Mn0p5b2pIjoi5oSf5oOF6Imy5b2pIiwKICAgICLlvLooXFwqezJ9KXU1QjlEIjoi5by65aSn5rOV5a6dIiwKICAgICIoXFwqezJ9KeWHoeiDjiI6ICLogonkvZPlh6Hog44iLAoKICAgIC8vID09PSDlpJrlrZfmm7/mjaIgPT09CiAgICAiY2Fv5LmL6L+H5oClIjoi5pON5LmL6L+H5oClIiwgImNodW5ndWFuZ+Wkp+azhCI6IuaYpeWFieWkp+azhCIsCiAgICAi5aSn5YWs5pegc2kiOiLlpKflhazml6Dnp4EiLAogICAgImZ16YGT5Lq65a62Ijoi5aaH6YGT5Lq65a62IiwgIuaUvnPFjW5nJ3hpw6DmnaUiOiLmlL7mnb7kuIvmnaUiLAogICAgIuWluHlpbuaOs+aOoCI6IuWluOa3q+aOs+aOoCIsCiAgICAi56m6ZGFuZ2RhbmciOiLnqbrojaHojaEiLAogICAgIueqgeWPkXFpbmflhrUiOiAi56qB5Y+R5oOF5Ya1IiwKICAgICJ5aW7lpYnpmLPov50iOiLpmLTlpYnpmLPov50iLCAi5LiAeWlu5LiA6ZizIjoi5LiA6Zi05LiA6ZizIiwKCiAgICAvLyA9PT0g5Y+M5a2X5pu/5o2iID09PQogICAgIuaap21bZcOoXVtpw6xdIjoi5pqn5pinIiwKICAgICJiw6BuXFxzKmbHjiI6IuWKnuazlSIsICJidWN1byI6IuS4jemUmSIsICLkuI1sacOhbmciOiLkuI3oia8iLCAiYlvEm2VdaShcXHN8Jm5ic3A7KSpqW8SraV1uZyI6IuWMl+S6rCIsIuWNinNoZW4iOiAi5Y2K6LqrIiwgImJbw6xpXWpbw6xpXW5nIjoi5q+V56ufIiwgIuaKpSjkuoY/KWppbmciOiLmiqUkMeitpiIsICJiw6hpJ3DDsiI6Iuiiq+i/qyIsICLljIV5x45uZyI6IuWMheWFuyIsICIoPzpiaceOb3zlqYpcXFxcPynlrZAiOiLlqYrlrZAiLCAiYmnHjm9cXHMqeGnDoG5cXHMqIjoi6KGo546wIiwKICAgICJjaGlmYW4iOiLlkIPppa0iLCAiY2hbb8WNXW5nZFtvw7JdbmciOiLlhrLliqgiLCAiY2hvbmfniakiOiLlrqDniakiLCAiY2FvKOe7g3zkvZwpIjoi5pONJDEiLCAi5Ye6Z3VpIjoi5Ye66L2oIiwgImNodVxccyp4aWFuIjoi5Ye6546wIiwgIue8oG1pYW4iOiAi57yg57u1IiwgIuaIkHNodSI6ICLmiJDnhp8iLCAiKD866LWkfGNoaSlcXHMqbHVbb8eSXSI6ICLotaToo7giLCAi5pilZ3VhbmciOiAi5pil5YWJIiwgImNodW7po44iOiLmmKXpo44iLCAiY2h1YW5n5Ly0Ijoi5bqK5Ly0IiwgIuayiW1pIjoi5rKJ6L+3IiwgIuayiWx1biI6IuayieaypiIsICLliLpqaSI6IuWIuua/gCIsICJjaGFv57qiIjoi5r2u57qiIiwgIuWInWNodW4iOiLliJ3mmKUiLCAi77yC772D772I772J44CA772M772V772P77yCIjoi6LWk6KO4IiwKICAgICJkxIFuXFxzKnjEq24iOiLlvZPlv4MiLCAiZGFuZ+agoSI6ICLlhZrmoKEiLCAiZGHlrZAiOiAi6Z6R5a2QIiwgIuWkp3R1aSI6IuWkp+iFvyIsICJkx45cXHMqc3XDoG4iOiLmiZPnrpciLCAiZGVuZ2RhaSI6IuetieW+hSIsICLnlLVodcOgIjoi55S16K+dIiwgImRpYW/kuJ0iOiAi5bGM5LidIiwgImRbw7p1XSg/Olxcc3wmbmJzcDt8PGJyLz4pKmxbw6xpXSI6ICLni6znq4siLCAiZFt1w7pdXFxzezAsMn1jW8OhYV1pIjoi54us6KOBIiwgICJkP1tpw6xdZlvEgWFdbmciOiLlnLDmlrkiLCAiZFvDrGldXFxzKmRbxat1XSI6IuW4nemDvSIsICJkaeWbvXzluJ1ndW8iOiLluJ3lm70iLCAiZHVbb8OyXeiQvSI6IuWgleiQvSIsICLlnaBsdcOyIjoi5Z2g6JC9IiwKICAgICJmW8eOYV1uZ2Zbw7NvXSI6IuS7v+S9myIsICJmZWnouKIiOiAi6aOe6LiiIiwgImZlbmfmtYEiOiAi6aOO5rWBIiwgIumjjmxpdSI6ICLpo47mtYEiLCAiZlvDqGVdbm5bw7l1XSI6IuaEpOaAkiIsICJmx45uXFxzKnnEq25nIjoi5Y+N5bqUIiwKICAgICJnYW/mva4iOiAi6auY5r2uIiwgIumrmOawteacnSI6IumrmOa9riIsICJnxIFvXFxzKnjDrG5nXFxzKiI6IumrmOWFtCIsICLlubJjaGFpIjogIuW5suaftCIsICLli755aW4iOiLli77lvJUiLCAiZ3Vbb8OyXWNoW8OpZV1uZyI6Iui/h+eoiyIsICJndVvEgWFdblxccyp4W2nDrF0iOiLlhbPns7siLCAiZ1vHjmFdbmppW8OgYV1vIjoi5oSf6KeJIiwgIuWbvXd16ZmiIjoi5Zu95Yqh6ZmiIiwgImfDuVxccyp5w6xcXHMqIjoi5pWF5oSPIiwgImd1b2ZlbiI6Iui/h+WIhiIsCiAgICAiaMSBXFxzKmjEgVxccyoiOiLlk4jlk4giLCAiaFthx45db2RlIjoi5aW955qEIiwgImjDueWjqyI6IuaKpOWjqyIsICLngatxaWFuZyI6IueBq+aeqiIsICJow6EnZ3XDsyI6IumfqeWbvSIsICJoYW7kvY8iOiAi5ZCr5L2PIiwgImhhaea0m+WboCI6ICLmtbfmtJvlm6AiLCAi57qiZmVuIjogIue6oueyiSIsICLngat5YW8iOiAi54Gr6I2vIiwgImhbx45hXW94aVvDoGFdbmciOiLlpb3lg48iLCAiaHVbw6FhXW5nc1vDqGVdIjoi6buE6ImyIiwgIueah2Rbw6xpXSI6Iueah+W4nSIsICLmmI/mmI95deedoSI6IuaYj+aYj+assuedoSIsICLlm55kYW5nIjoi5Zue6I2hIiwgImh1w61cXHMqccO5XFxzKiI6IuWbnuWOuyIsICJow6lcXHMqc2jDrFxccyoiOiLlkIjpgIIiLAogICAgImppYW4o6IejfOe7hikiOiLlpbgkMSIsICLlpbh5aW4iOiLlpbjmt6siLCAiamnDoG5tacOgbiI6IuingemdoiIsICJqaWFu6LSnIjoi6LSx6LSnIiwgImppbmflr58iOiLorablr58iLCAialvDrGldbmjDoW5nIjoi6L+b6KGMIiwgImrEq25nXFxzKmd1w7IiOiLnu4/ov4ciLCAiamnng4giOiLmv4Dng4giLCAialtpw6xdKG52fOWlsykiOiAi5aaT5aWzIiwgImppcm91IjogIum4oeiCiSIsICJqaeiAhSI6IuiusOiAhSIsICJqw6xcXHMqeMO5XFxzKiI6Iue7p+e7rSIsICJqdeiKsSI6IuiPiuiKsSIsImpbxKtpXeWKqCI6Iua/gOWKqCIsICJqaWxpW8OoZV0iOiLmv4Dng4giLCAi6IKMclvDsm9ddSI6IuiCjOiCiSIsImpp5bCEIjoi5r+A5bCEIiwgImppW8STZV1jaFt1w7ldIjoi5o6l6KemIiwgImppw7lcXHMqc2jDrCI6IuWwseaYryIsICJqW8O5dV1saVvDqGVdIjogIuWJp+eDiCIsICJqx5BuZ+aDlSI6ICLorabmg5UiLCAi6IqCY2FvIjoi6IqC5pONIiwgIua1uHlpbiI6Iua1uOa3qyIsICJqw7lcXHMqanXDqVxccyoiOiLmi5Lnu50iLCAianVl6ImyIjoi6KeS6ImyIiwKICAgICJrW8SbZV1uW8OpZV1uZyI6ICLlj6/og70iLCAi5byAYmFvIjogIuW8gOiLniIsICAia1vDoGFdb+i/kSI6ICLpnaDov5EiLCAi5Y+jd2VuIjoi5Y+j5ZC7IiwgImthbmthbiI6Iueci+eciyIsCiAgICAibGluZ+i+sSI6ICLlh4zovrEiLCAibHVhbuibiyI6ICLljbXom4siLCAi6IS4c8OoIjogIuiEuOiJsiIsICJsdeWHuiI6IumcsuWHuiIsICLmtYFtw6FuZyI6Iua1geawkyIsICJsdW7nkIYiOiLkvKbnkIYiLCAibMOsXFxzKnHDrCI6IuWKm+awlCIsCiAgICAibVvHjmFdbnlbw6xpXSI6Iua7oeaEjyIsICJtW8eOYV1zaFvDoGFdbmciOiLpqazkuIoiLCAibVvDqWVdaXlbb8eSXXUiOiLmsqHmnIkiLCAibWVp5Zu9IjogIue+juWbvSIsICJtW8OtaV1uZ2Jbw6FhXWkiOiLmmI7nmb0iLCAi6L+3aHVhbiI6ICLov7flubsiLCAibWnojKsiOiLov7fojKsiLCAibcOzXFxzKnnDoG5nIjoi5qih5qC3IiwgIm1bw61pXW5cXHN7MCwyfXpoW8eUdV0iOiAi5rCR5Li7IiwgIui/t2ppYW4iOiAi6L+35aW4IiwgIm1pbWnns4rns4oiOiLov7fov7fns4rns4oiLCAi5pyrKD86XFxzfDxici8/Pikqw6wiOiLmnKvml6UiLCAi6Z2ic2UiOiLpnaLoibIiLCAibWVuZ21lbmciOiLokpnokpkiLAogICAgIm7DoG1lIjoi6YKj5LmIIiwgIm5bx45hXW9cXHMqZFvDoGFdaSI6IuiEkeiiiyIsICJuW8OpZV1uZ2dbb8OyXXUiOiLog73lpJ8iLCAibsOhblxcc3swLDJ9aMeOaSI6ICLpgqPkvJoiLCAi5YaFamlhbiI6IuWGheWluCIsICJb5YaF5YWnXXlbacSrXSI6IuWGheihoyIsICLlhoVrdSI6IuWGheijpCIsCiAgICAicGlbw6FhXW/lrqIiOiLlq5blrqIiLCAicFvDoWFdbmdiaVvEgWFdbiI6IuaXgei+uSIsCiAgICAicVvDrWldZ3Vbw6BhXWkiOiLlpYfmgKoiLCAicWluZ1xccyoocmVufOS6uikiOiLmg4XkuroiLCAicWlu5YW9Ijoi56a95YW9IiwgInFbacSrXW5nY2hbdceUXSI6Iua4healmiIsICJxdcOoXFxzKmTDrG5nIjoi56Gu5a6aIiwgIueQg21pIjoi55CD6L+3IiwgIumdkmNodW4iOiLpnZLmmKUiLCAi6Z2SbG91Ijoi6Z2S5qW8IiwgInFpbmdrdWFuZyI6IuaDheWGtSIsICJxaWFuZ1vjgIBcXHNdKmppYW4iOiLlvLrlpbgiLAogICAgInJlXFxzKm5hbyI6IueDremXuSIsICJyW8O6dV1ndVtvx5JdIjoi5aaC5p6cIiwgInJbb8OzXW5neVvDrGldIjoi5a655piTIiwgInJ1KOaIv3znmb3oibIpIjogIuS5syQxIiwgInLDqW7lkZgiOiLkurrlkZgiLCAicsOpbuW9oiI6IuS6uuW9oiIsICLkurpjaGFvIjoi5Lq65r2uIiwgICJyZW5tZW4iOiLkurrlkI0iLAogICAgIuS4imppYW5nIjoi5LiK5bCGIiwgInNoZSjpl6h85pyvfOaJi3znqIt85Ye7KSI6IuWwhCQxIiwgInN1ZHUiOiLpgJ/luqYiLCAic2h1aWp1ZSI6IuedoeiniSIsICJzaGlkZSI6IuaYr+eahCIsICJzaFtpw6xdamlbZcOoXSI6IuS4lueVjCIsICJzaFtpw61damlbYcSBXW4iOiLml7bpl7QiLCAic2hbacOtXWhbb8OyXXUiOiAi5pe25YCZIiwgInNoW2nDrV1tZSI6IuS7gOS5iCIsICJzaeS6uiI6IuengeS6uiIsICJzaGnlpbMiOiLkvo3lpbMiLCAic2hp6LqrIjogIuWksei6qyIsICJzaFvFq3VdalvDrGldIjoi5Lmm6K6wIiwgInNodeWlsyI6ICLnhp/lpbMiLCAic2h1W+OAgFxcc10/eGlvbmciOiLphaXog7giLCAiKD865LiKfHNoYW5nKWNodWFuZyI6ICLkuIrluooiLCAi5ZG7eVvDrWldbiI6ICLlkbvlkJ8iLCAic2hbxJNlXW5nemhbw61pXSI6ICLnlJ/mrpYiLCAi5rexZ3UiOiAi5rex6LC3IiwgIuWPjHhpdSI6ICLlj4zkv64iLCAi55SfclvDrGldIjogIueUn+aXpSIsICJzaeebkCI6IuengeebkCIsICJzaGnljasiOiLkvo3ljasiLCAic2nkuIsiOiLnp4HkuIsiLCAic2Fv5omwIjoi6aqa5omwIiwgIu+9k++9iO+9le+9ge+9ju+9h+OAgO+9hu+9he+9ju+9hyI6IuWPjOWzsCIsCiAgICAidFt1xatdclvDoWFdbiI6IueqgeeEtiIsICJ0aWFvamlhbyI6ICLosIPmlZkiLCAi5YG3cWluZyI6IuWBt+aDhSIsICLmjqhkYW8iOiAi5o6o5YCSIiwgIuiEsWd1YW5nIjogIuiEseWFiSIsICJ0W8OoZV1iaVvDqWVdIjoi54m55YirIiwgInRbxY1vXW5nZ3Vbw7JvXSI6IumAmui/hyIsICLlkIxqdSI6IuWQjOWxhSIsICJ0aWFu5p2ldGlhbuWOuyI6IuiIlOadpeiIlOWOuyIsCiAgICAid1vEk2VdaXhpW8OpZV0iOiLlqIHog4EiLCAid8OoaXpoW8OsaV0iOiLkvY3nva4iLCAid2Vp5ZGYIjoi5aeU5ZGYIiwgIndbw6hlXW50aSI6IumXrumimCIsICJ3w6hpXFxzKmTDoG9cXHMqIjoi5ZGz6YGTIiwgInfDulxccypuw6BpIjoi5peg5aWIIiwgIndlaWxhaSI6IuacquadpSIsCiAgICAieGl16ZW/IjogIuS/rumVvyIsICLkurVkdSI6ICLkurXmuI4iLCAieGluZ+emjyI6ICLlubjnpo8iLCAi5bCPYm8iOiLlsI/ms6IiLCAi5bCPbmnFqyI6IuWwj+WmniIsICJ4aW9uZyhbXmEtel0pIjoi6IO4JDEiLCAi5bCPdHVpIjoi5bCP6IW/IiwgInhpYW5n5rivIjoi6aaZ5rivIiwgInhpw6BvaHXDoCI6IueskeivnSIsICJ4acOgblxcJ3pow6wiOiLpmZDliLYiLCAieGnFjW5nXFxzKmTDrCI6IuWFhOW8nyIsICLpgIl6w6kiOiLpgInmi6kiLAogICAgInnDrFxccyp3w6BpXFxzKiI6IuaEj+WkliIsICJ5aW4o5Ya3fOaal3zosIt86ZmpfOayiXzmsp9855m45rS+fOWQjikiOiLpmLQkMSIsICJ5W2nEq115W8OgYV1uZyI6IuS4gOagtyIsICJ5W8SraV1kaVvHjmFdbiI6IuS4gOeCuSIsICJ5xKtcXHMqemjDqG4iOiLkuIDpmLUiLCAieVvHkGldalvEq2ldbmciOiLlt7Lnu48iLCAi55aRaHVvIjoi55aR5oORIiwgInnDrVxccypodcOyIjoi55aR5oORIiwgIuW9sW1pIjoi5b2x6L+3IiwgInlpbuiNoSI6Iua3q+iNoSIsICJ5aW7otLwiOiLmt6votLwiLCAi6Zizd1vEm2VdaSI6ICLpmLPnl78iLCAieWFv5aS0IjogIuaRh+WktCIsICJ5YW90b3UiOiAi5pGH5aS0IiwgIuaRh3RvdSI6ICLmkYflpLQiLCAieWV6aGFuIjogIumHjuaImCIsICJ5b3XppbUiOiAi6K+x6aW1IiwgIig/OnlvdXzor7EpKD865oORfGh1bykiOiAi6K+x5oORIiwgInlvdeWvvCI6ICLor7Hlr7wiLCAi5byVeW91IjogIuW8leivsSIsICJ5b3XkuroiOiAi6K+x5Lq6IiwgInlvdXNoaSI6IuacieS6iyIsICJ5b3VcXHMqeGl1Ijoi5LyY56eAIiwgIuW+oXnDsm5nIjoi5b6h55SoIiwgIuaXlm5pIjoi5peW5peOIiwgInl15b+1Ijoi5qyy5b+1IiwgInlvdeaVjOa3seWFpSI6IuivseaVjOa3seWFpSIsICLlvbFzaGUiOiLlvbHlsIQiLCAi54mZcWlhbiI6IueJmeetviIsICLkuIB5w6jmg4UiOiLkuIDlpJzmg4UiLAogICAgInpbacOsXWpbaceQXSI6ICLoh6rlt7EiLCJ6W8OsaV0oPzpcXHN8PGJyLz8+fCZuYnNwOykqeVtvw7NddSI6ICLoh6rnlLEiLCJ6aFtpxKtdZD9bw6BhXXU/byI6IuefpemBkyIsICJ6aXhpbiI6IuiHquS/oSIsICJ6aMOsJ2bDuiI6IuWItuacjSIsICJ6aGHoja8iOiAi54K46I2vIiwgInpoYW7mnIkiOiAi5Y2g5pyJIiwgInpow6hcXHMqZ8OoIjoi6L+Z5LiqIiwgIuaUv2Zbx5R1XXx6aGVuZ+W6nCI6ICLmlL/lupwiLCAiemhbw6hlXW5nXFxzezAsMn1mW3XHlF0iOiAi5pS/5bqcIiwgInpvbmfnkIYiOiLmgLvnkIYiLCAiemhbxY1vXW5neVvEgWFdbmciOiAi5Lit5aSuIiwgIuS4rXlhbmciOiLkuK3lpK4iLCAienVbb8eSXVxccyp5W2/Dsl11Ijoi5bem5Y+zIiwgInpox5RcXHMqZMOybmciOiLkuLvliqgiLCAiemhbb8WNXXV3W8OpZV1pIjoi5ZGo5Zu0IiwgIuS4rW5hbua1tyI6IuS4reWNl+a1tyIsICLkuK1q5aeUIjoi5Lit57qq5aeUIiwgIuS4rXp16YOoIjoi5Lit57uE6YOoIiwgIuaUv3poaeWxgCI6IuaUv+ayu+WxgCIsICIo5piofOS4gHzml7Z85L2ZKSg/Ojxici8/PnwmbmJzcDt8XFxzKSrDrCI6IiQx5pelIiwgIueFp3NoZSI6IueFp+WwhCIsICJ6aMeUblxccypiw6hpXFxzKiI6IuWHhuWkhyIsICJ6aHXkuYkiOiLkuLvkuYkiLAoKICAgICI8L3A+XFxuPHA+XFxzKsOsIjoi5pelIiwKfTsKCi8vIOWNleWtl+abv+aNou+8jOWPr+iDveS8muivr+abv+aNou+8jOaJgOS7pemcgOimgeeJueauiuWkhOeQhgooZnVuY3Rpb24oKXsKICAgIHZhciBvbmVXb3JkUmVwbGFjZSA9IHsKICAgICAgICAiYlvEgcOgXW5nIjoi5qOSIiwiYsOgbyI6IueIhiIsImLDoCI6IuWQpyIsImLEqyI6IumAvCIsImLFjSI6IuazoiIsICJiacOgbiI6IuS+vyIsCiAgICAgICAgImPEgW8iOiAi5pONIiwgImPHjm8iOiAi6I2JIiwgImPDoG8iOiAi5pONIiwgImNoxIFuZyI6ICLlqLwiLCAiY2hhbmciOiAi5ai8IiwgImNow6FvIjogIua9riIsICJjaMSBIjogIuaPkiIsICJjaMOpbmciOiAi5oiQIiwgImNoxY11IjogIuaKvSIsICJjaHXDoW5nIjogIuW6iiIsICJjaMO6biI6ICLllIciLCAiY2jFq24iOiAi5pilIiwgImN1xY0iOiAi5pCTIiwgImPFqyI6ICLnspciLAogICAgICAgICJkx45uZyI6ICLlhZoiLCAiZMOgbmciOiAi6I2hIiwgImTEgW8iOiAi5YiAIiwgImTDsm5nIjogIua0niIsICJkaWFvIjogIuWxjCIsICJkaceObiI6ICLngrkiLAogICAgICAgICJmx44iOiAi5rOVIiwgImbDqWkiOiAi6IKlIiwgImbDuSI6ICLlpociLAogICAgICAgICJndcSBbiI6ICLlrpgiLAogICAgICAgICJow6FuIjogIuWQqyIsICJow7N1IjogIuWWiSIsICJow7J1Ijoi5ZCOIiwgImgodSk/xIEiOiAi6IqxIiwgImh1w6EiOiAi5Y2OIiwgImh1w6wiOiLkvJoiLCAiaHXDsiI6ICLmg5EiLCAiaMO5biI6ICLmt7ciLCAiaMO6biI6ICLprYIiLAogICAgICAgICJqaceUIjogIuS5nSIsICJqxKtuZyI6ICLnsr4iLCAiasOsbiI6ICLnpoEiLCAiaseQbmciOiAi6K2mIiwgImppxIFuZyI6ICLmsZ8iLCAiamnEgW4iOiAi5aW4IiwgImppxIFvIjogIuS6pCIsICJqxatuIjogIuWGmyIsICJqxasiOiAi5ouYIiwgImrDuiI6ICLlsYAiLCAiasSrIjogIua/gCIsICLmv4DEgW4iOiLlpbgiLAogICAgICAgICJrw7kiOiAi6KOkIiwgImvDoG4iOiAi55yLIiwKICAgICAgICAiWzFsXcOgbmciOiAi5rWqIiwgImxpw6FvIjogIuaSqSIsICJsacO6Ijoi5rWBIiwgImzDrCI6IuiOiSIsICJsacOoIjoi54OIIiwgIlsxbF11w6BuIjoi5LmxIiwgImzDum4iOiLkvKYiLCAibHXHkiI6IuijuCIsICJsw7J1Ijoi6ZyyIiwgIltsMV3DuSI6IumcsiIsICJsx5wiOiLnu78iLCAibGnDoG4iOiLnu4MiLAogICAgICAgICJtx45pIjogIuS5sCIsICJtw6BpIjogIuWNliIsICJtw6FvIjogIuavmyIsICJtxIEiOiAi5aaIIiwgIm3DqW5nIjogIuiSmSIsICJtw6luIjogIumXqCIsICJtacOoIjogIueBrSIsICJtw60iOiAi6L+3IiwgIm3DrCI6ICLonJwiLCAibcWNIjogIuaRuCIsICJtacOgbiI6IumdoiIsCiAgICAgICAgIm7HjmkiOiAi5aW2IiwgIm7DqG4iOiAi5aupIiwgIm5pw6BvIjogIuWwvyIsICJuacSTIjogIuaNjyIsICJuw7JuZyI6ICLlvIQiLCAibseaIjogIuWlsyIsCiAgICAgICAgInDDoG8iOiAi54KuIiwgInBpw6BuIjogIueJhyIsICJww7IiOiLnoLQiLAogICAgICAgICJxaVvEgWFdbmciOiAi5p6qIiwgInHDrW5nIjogIuaDhSIsICJxxKtuIjogIuS6siIsICJxacO6IjogIuaxgiIsICJxdcOhbiI6ICLlhagiLCAiccO5Ijoi5Y67IiwKICAgICAgICAicsOpbiI6IuS6uiIsICJyw6wiOiAi5pelIiwgInLHlCI6ICLkubMiLAogICAgICAgICJzx44iOiLmtJIiLCAic8SBbyI6IumqmiIsICJzx45vIjogIumqmiIsICJzw6giOiAi6ImyIiwgICJzaMSBIjogIuadgCIsICJzaMSTbiI6IuWRuyIsICJzaMOpbiI6IuelniIsICJzaMOoIjogIuWwhCIsICJzaMeQIjogIuWxjiIsICJzaMOsIjogIuS+jSIsICJzx5AiOiAi5q27IiwgInPEqyI6ICLnp4EiLCAic2jHlG4iOiAi5ZCuIiwgInPHlG4iOiAi5ZCuIiwgInPFqyI6ICLphaUiLCAic2jDoG8iOiLnu40iLAogICAgICAgICJ0xIFuIjoi6LSqIiwgInRpx45uIjogIuiIlCIsICJ0x5BuZyI6IuaMuiIsICJ0x5AiOiAi5L2TIiwgInTHkm5nIjogIuaNhSIsICJ0xY11IjogIuWBtyIsICJ0b3UiOiAi5YG3IiwgInR1x5AiOiAi6IW/IiwgInTFq24iOiAi5ZCeIiwgInTDum4iOiAi6IeAIiwgInRpw6FvIjoi6LCDIiwgInTDoGkiOiLmgIEiLCAidMOgbyI6IuWllyIsCiAgICAgICAgInfEk24iOiAi5ripIiwgInfEm24iOiAi5ZC7IiwKICAgICAgICAieGnHjm8iOiLlsI8iLCAieGnDoG8iOiLnrJEiLCAieMOsbmciOiAi5oCnIiwgInhpxY1uZyI6ICLog7giLCAieMSrIjogIuWQuCIsICJ4w60iOiAi5LmgIiwgInjDrCI6IuezuyIsICJ4w6xuIjoi5L+hIiwgInh1w6kiOiAi56m0IiwgInh1w6giOiAi56m0IiwgInjDuWUiOiAi56m0IiwgICJ4dWFuIjoi5a6jIiwgInhpw6BuZyI6IuixoSIsCiAgICAgICAgInnEgW5nIjoi5aSuIiwgInnDoG4iOiLoibMiLCAiecSrbiI6IumYtCIsICJ5w6BvIjogIuiNryIsICJ5w6kiOiAi54i3IiwgInnDsnUiOiAi6K+xIiwgInrDoG5nIjogIuiEjyIsICJ5w7kiOiAi5qyyIiwgInnDrW4iOiAi5rerIiwgInnDrCI6IuaEjyIsICJ5w6AiOiLorrYiLAogICAgICAgICJ6aMSTbiI6IumSiCIsICJ6xJNuIjoi6ZKIIiwgInpow6AiOiLngrgiLCAiemjDqG5nIjoi5pS/IiwgInrHknUiOiAi6LWwIiwgInp1w6wiOiLnvaoiLCAienXDsiI6IuWBmiIsICJ6aMWNbmciOiLkuK0iLAoKICAgICAgICAicmkiOiLml6UiLCAic2UiOiLoibIiLCAieXUiOiLmrLIiLCAieGluZyI6IuaApyIsCiAgICAgICAgImppbmciOiLnsr4iLCAidGluZyI6IuaMuiIsCiAgICB9OwoKICAgIHZhciByZXBsYWNlT3RoZXJzID0gewogICAgICAgIC8vID09Peivr+abv+aNoui/mOWOnz09PQogICAgICAgICLnoqfmrLIiOiAi56Kn546JIiwgIue+juassiI6ICLnvo7njokiLCLmrLLnn7MiOiAi546J55+zIiwi5oOc5qyyIjogIuaDnOeOiSIsIuWuneassiI6ICLlrp3njokiLAogICAgICAgICLlk4HmgKciOiAi5ZOB6KGMIiwgIuW+t+aApyI6ICLlvrfooYwiLAogICAgICAgICLms6JvayI6ICJib29rIiwgIuazolNTIjogIkJPU1MiLAoKICAgICAgICAvLyA9PT3lhbbku5bkv67mraM9PT0KICAgICAgICAi5byl5L+pIjogIuS9oOS/qSIsCiAgICAgICAgIuWmsyI6ICLkvaAiLAogICAgICAgICLlnJ585Z6pfOWNnXzpvpgiOiIiCiAgICB9OwoKICAgIF8uZWFjaChvbmVXb3JkUmVwbGFjZSwgZnVuY3Rpb24odmFsdWUsIGtleSkgewogICAgICAgIFJ1bGUucmVwbGFjZVsnKFteYS16XFxzXSknICsga2V5ICsgJyg/IVthLXpdKSddID0gJyQxJyArIHZhbHVlOwogICAgfSk7CgogICAgXy5leHRlbmQoUnVsZS5yZXBsYWNlLCByZXBsYWNlT3RoZXJzKTsKfSkoKTsKCi8vID09PT09IOWFqOWxgOenu+mZpO+8jOWcqOabv+aNoiA8YnI+IOS4uiBcbiDkuYvlkI4gPT09PT0KUnVsZS5yZXBsYWNlQWxsID0gWwogICAgLy8g6ZW/5paH5a2X5pu/5o2iCiAgICAn57qv5paH5a2X5Zyo57q/6ZiF6K+75pys56uZ5Z+f5ZCN5omL5py65ZCM5q2l6ZiF6K+76K+36K6/6ZeuJywKICAgICdcXCg/5pyq5a6M5b6F57ut6K+35pCc57Si6aOE5aSp5paH5a2477yM5bCP6K+05pu05aW95pu05paw5pu05b+rIScsCiAgICAnLeS8mO+8jeS8mO+8jeWwj++8jeivtO+8jeabtO+8jeaWsO+8jeacgO+8jeW/qy13d3cu77y177y177y477yzLu+8o++8oy0nLAogICAgJ+OAkOmYheivu+acrOS5puacgOaWsOeroOiKgu+8jOivt+aQnOe0ojgwMOOAkScsCiAgICAn5Lqy77yM55m+5bqm5pCc57Si55y8JmFtcDvlv6vvvIzlpKfph4/lsI/or7TlhY3otLnnnIvjgIInLAogICAgJ1xcfOavj+S4pOS4queci+iogOaDheeahOS6uuW9k+S4re+8jOWwseacieS4gOS4quazqOWGjOi/h+WPr8Kw5LmQwrDlsI/CsOivtMKw572R55qE6LSm5Y+344CCJywKICAgICfmnIDmlrDnq6DoioLlhajmlofpmIXor7vnnIvkuabnpZ7lmahcXC55YW5rdWFpXFwuJywKICAgICfvvIg4MDDlsI/or7TnvZEgd3d3LjgwMEJvb2submV0IOaPkOS+m1R4dOWFjei0ueS4i+i9ve+8ieacgOaWsOeroOiKguWFqOaWh+mYheivuy0uLi0nLAogICAgJ1xcW+eci+acrOS5puacgOaWsOeroOiKguivt+WIsOaxguS5piAuXFxdJywKICAgICdcXFs4MDBcXF1cXFvnq5npobXpnaLmuIXniL3vvIzlub/lkYrlsJHvvIwnLAogICAgJ1xcfOS8mFxcfOS8mFxcfOWwj1xcfOivtFxcfOabtFxcfOaWsFxcfOacgFxcfOW/q1xcfHd3dy51dXhzLmNjXFx8JywKICAgICfnnIvmnKzkuabmnIDmlrDnq6DoioLor7fliLA4MDDlsI/or7TnvZHvvIh3d3cuODAwYm9vay5uZXTvvIknLAogICAgJ++8iDgwMOWwj+ivtOe9kSB3d3cuODAwQm9vay5uZXQg5o+Q5L6bVHh05YWN6LS55LiL6L2977yJJywKICAgICfng63pl6jlsI/or7TmnIDmlrDnq6DoioLlhajmlofpmIXor7su44CCIOabtOaWsOWlveW/q+OAgicsCiAgICAnLeS8mO+8jeS8mO+8jeWwj++8jeivtO+8jeabtO+8jeaWsO+8jeacgO+8jeW/q3gnLAogICAgJ+S6su+8jOecvCblv6vvvIzlpKfph4/lsI/or7TlhY3otLnnnIvjgIInLAogICAgJ+aJi+acuueci+Wwj+ivtOWTquWutuW8uuaJi+acuumYhScsCiAgICAn5oCdy4rot6/Li+Wuou+8jOabtOaWsOacgOW/q+eahO+8gScsCiAgICAn77yI5pys56ug5pyq5a6M77yM6K+357+76aG177yJJywKICAgICfmnIDmlrDnq6DoioLlhajmlofpmIXor7vvvIguLummluWPke+8iScsCiAgICAn5pyA5paw56ug6IqC5YWo5paH6ZiF6K+744CQ6aaW5Y+R44CRJywKICAgICfmnIDmlrDnq6DoioLlhajmlofpmIXor7snLAogICAgJ+adpeWPr+S5kOe9keeci+Wwj+ivtCcsCiAgICAndHh055S15a2Q5Lmm5LiL6L29LycsCiAgICAndHh05YWo6ZuG5LiL6L29JywKICAgICd0eHTlsI/or7TkuIvovb0nLAogICAgJ++8iFxccyrlkJvlrZDogZrkuYnloILvvIknLAogICAgJ3JlYWR4OycsCiAgICAn6L+95Lmm5b+F5aSHJywKICAgICfmqILmloflsI/or7QnLAoKICAgIC8vIOWMheWQqyBcUCDnmoTmm7/mjaIKICAgICdcXFB7MSwyfVvpobbpoIJdLnsxLDN9W+eCueWwj10uKj9vP1ttd++8jF0nLAogICAgJ1xcUC4/6ZW/LnsxLDJ96aOOLnsxLDJ95paHLnsxLDJ95a2mLio/W3R4XScsCiAgICAnXFxQ5pegLumUmS4qP1tj77yjXVtv77yvXVtt77ytXScsCiAgICAnWztcXChd6aG2LnswLDJ954K5LuWwj+ivtCcsCiAgICAnMumVvzLpo44y5paHMuWtpu+8jHfvv6DvvIQnLAogICAgJ+OAi+mVvz7po47jgIsnLAoKICAgIC8vIOWMheWQqyAuKiDnmoTvvIzlj6/og73mnInlpJrkvZnnmoTmm7/mjaIKICAgICflpoLmgqjlt7IoPzrplrHoroB86ZiF6K+7KeWIsOatpOeroOiKgi4qP+aVrOivt+iusOS9j+aIkeS7rOaWsOeahOe9keWdgFxccyrjgIInLAogICAgJ+KGl+eZvuW6puaQnO+8mi4qP+ebtOi+vue9keWdgC4qP+KGlicsCiAgICAiWzrjgIrjgIjvvZx+4oio4oif4oiRXXsxLDJ96ZW/LnsxLDJ96aOOLio/ZXQiLAogICAgJ1xcW+mZkOaXtuaKoui0rVxcXS4qJywKICAgICfmlK/mjIHnvZHnq5nlj5HlsZUu6YCb5reY5a6d5Lmw5Lic6KW/5bCx5LuO6L+Z6YeM6L+bLionLAogICAgJ3BzW++8mjpd5oOz5ZCs5Yiw5pu05aSa5L2g5Lus55qE5aOw6Z+z77yM5oOz5pS25Yiw5pu05aSa5L2g5Lus55qE5bu66K6u77yM546w5Zyo5bCx5pCc57Si5b6u5L+h5YWs5LyX5Y+34oCccWRyZWFk4oCd5bm25Yqg5YWz5rOo77yM57uZLio/5pu05aSa5pSv5oyB77yBJywKICAgICcoPzpwc1s677yaXSk/55yL44CKLio/44CL6IOM5ZCO55qE54us5a625pWF5LqLLio/5ZGK6K+J5oiR5ZCn77yBJywKICAgICfvvIg/5aSp5LiK5o6J6aaF6aW855qE5aW95rS75YqoLio/5b6u5L+h5YWs5LyX5Y+377yB77yJPycsCiAgICAn77yI5b6u5L+h5re75YqgLipxZHJlYWTlvq7kv6HlhazkvJflj7fvvIHvvIknLAogICAgJ2ppZW1laeWmguaCqOW3sumYheivu+WIsOatpOeroOiKgu+8jOivt+enu+atpeWIsC4qP1xcW2FkczrmnKznq5nmjaLmlrDnvZHlnYDllabvvIzpgJ/orrDmlrnms5XvvJrvvIwuXFxdJywKCiAgICAvLyDnn63mloflrZfmm7/mjaIKICAgICdcXFt0eHTlhajpm4bkuIvovb1cXF0nLAogICAgJ1xcW1xccyrotoXlpJrlpb3nnIvlsI/or7RcXF0nLAogICAgJ+KKmeWbm+KKmeS6lOKKmeS4reKKmeaWh+KYhuKGkicsCiAgICAnXFxbYWRzOuacrOermeaNouaWsOe9keWdgOWVpu+8jOmAn+iusOaWueazle+8mi4qP1xcXScsCiAgICAnW+OAi+OAiu+9nO+9nl3ml6AoPzoufCZndDsp6ZSZKD86LnwmZ3Q7KeWwj+ivtCcsCiAgICAnYOaXoGDplJlg5bCP6K+0YHd3dy5gYGNvbScsICfvvIvml6DvvIvplJnvvIvlsI/or7TvvIszd++8i++8iycsCiAgICAnXFx85LyYXFx85LyYXFx85bCPXFx86K+0XFx85pu0XFx85pawXFx85pyAXFx85b+r77y4JywKICAgICfilrLiiLQnLCAnOO+8jHd34oaQJywKICAgIC93d3cuMjPvvIs/W++8t3ddW++8uHhdLlvvvKNjXW9tL2lnLAogICAgL+eDremXqOaOqOiNkDrjgIErL2csCiAgICAvaDImZ3Q7L2csCiAgICAnW+OAiuOAiOOAiz5cXCvvvZzvvZ7vvLtcXF1d5pegXFwx6ZSZXFwxJywgJ+OAi+aXoD7plJnjgIsnLAoKICAgICflpbPlh6TlhY3otLnlsI/or7TmiqLlhYjnnIsnLCAn5aWz5Yek5bCP6K+0572R5YWo5paH5a2XIOaXoOW5v+WRiicsCiAgICAn5LmQ5paH5bCP6K+0572RPycsICfjgIrkuZDjgIjmlofjgIrlsI/or7QnLCAn5LmQ5paH56e75Yqo572RJywgJ+mggueCueWwj+ivtCcsICfpoILpu57lsI/oqqonLAogICAgJ+i/veWwj+ivtOWTqumHjOW/q+WOu+ecvOW/qycsCiAgICAnXFxb5Lmm5bqTXFxdLlxcWzc3NFxcXVxcW2J1eVxcXS5rdWFpJywKCiAgICAvJ2Fkc193el90eHQ7Jyx855m+5bqm5pCc57SifOaXoOW8ueeql+Wwj+ivtOe9kXzmm7TmlrDlv6vml6DlvLnnqpfnuq/mloflrZd86auY5ZOB6LSo5pu05pawfOWwj+ivtOeroOiKguabtOaWsOacgOW/q3xcKOeZvuW6puaQnC5cKXzlhajmloflrZfmiYvmiZN84oCc4oCdJm5ic3A755yLfOaXoC7lvLku56qXLuWwjy7or7Qu572RfOi/veS5pue9kXzjgJbiiLfiiLfml6DlvLnnqpfiiLfnuq/mloflrZfiiLcg44CXL2csCl07CgoKLy8g6Ieq5a6a5LmJ55qEClJ1bGUuY3VzdG9tUnVsZXMgPSBbXTsKUnVsZS5jdXN0b21SZXBsYWNlID0ge307CgpSdWxlLnBhcnNlQ3VzdG9tUmVwbGFjZVJ1bGVzID0gZnVuY3Rpb24oc3RyKSB7CiAgICB2YXIgYXJyID0gc3RyLnNwbGl0KC9cbi8pOwogICAgdmFyIHJ1bGVzID0ge307CiAgICBfLmVhY2goYXJyLCBmdW5jdGlvbihiKSB7CiAgICAgICAgdmFyIHBvcyA9IGIuaW5kZXhPZignPScpOwogICAgICAgIGlmIChwb3MgPT09IC0xKSByZXR1cm47CgogICAgICAgIHZhciBrZXkgPSBiLnN1YnN0cmluZygwLCBwb3MpLAogICAgICAgICAgICB2YWx1ZSA9IGIuc3Vic3RyaW5nKHBvcyArIDEsIGIubGVuZ3RoKTsKICAgICAgICBydWxlc1trZXldID0gdmFsdWU7CiAgICB9KTsKICAgIHJldHVybiBydWxlczsKfTsKCgp2YXIgZ2V0Qm9vbGVhbkNvbmZpZyA9IGZ1bmN0aW9uKGNvbmZpZ05hbWUsIGRlZmF1bHRWYWx1ZSkgewogICAgdmFyIGNvbmZpZyA9IEdNX2dldFZhbHVlKGNvbmZpZ05hbWUpOwogICAgaWYoY29uZmlnID09PSB1bmRlZmluZWQpIHsKICAgICAgICBHTV9zZXRWYWx1ZShjb25maWdOYW1lLCBkZWZhdWx0VmFsdWUpOwogICAgICAgIGNvbmZpZyA9IGRlZmF1bHRWYWx1ZTsKICAgIH0KICAgIHJldHVybiBjb25maWc7Cn07Cgp2YXIgQ29uZmlnID0gewogICAgZ2V0RGlzYWJsZUF1dG9MYXVuY2g6IGZ1bmN0aW9uKCkgeyAgLy8g5by65Yi25omL5Yqo5ZCv55So5qih5byPCiAgICAgICAgcmV0dXJuIGdldEJvb2xlYW5Db25maWcoImRpc2FibGVfYXV0b19sYXVuY2giLCBmYWxzZSk7CiAgICB9LAogICAgc2V0RGlzYWJsZUF1dG9MYXVuY2g6IGZ1bmN0aW9uKGJvb2wpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgiZGlzYWJsZV9hdXRvX2xhdW5jaCIsIGJvb2wpOwogICAgfSwKCiAgICAvLyDmjInplK7osIPnlKjkvJrpgYfliLDpl67popjvvJogR3JlYXNlbW9ua2V5IOiuv+mXrui/neinhO+8mnVuc2FmZVdpbmRvdyDml6Dms5XosIPnlKggR01fZ2V0VmFsdWUKICAgIC8vIOaVheaUueaIkOi/meenjeW9ouW8jwogICAgY29weUN1clRpdGxlOiBnZXRCb29sZWFuQ29uZmlnKCJjb3B5Q3VyVGl0bGUiLCB0cnVlKSwKICAgIHNldENvcHlDdXJUaXRsZTogZnVuY3Rpb24gKGJvb2wpIHsKICAgICAgICB0aGlzLmNvcHlDdXJUaXRsZSA9ICEhYm9vbDsKICAgICAgICBHTV9zZXRWYWx1ZSgiY29weUN1clRpdGxlIiwgISFib29sKTsKICAgIH0sCgogICAgZ2V0IGNuMnR3KCkgewogICAgICAgIGlmIChfLmlzVW5kZWZpbmVkKHRoaXMuX2NuMnR3KSkgewogICAgICAgICAgICB0aGlzLl9jbjJ0dyA9IGdldEJvb2xlYW5Db25maWcoJ2NuMnR3JywgQ29uZmlnLmxhbmcgPT09ICd6aC1UVycgPyB0cnVlIDogZmFsc2UpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5fY24ydHc7CiAgICB9LAogICAgc2V0IGNuMnR3KGJvb2wpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgnY24ydHcnLCBib29sKTsKICAgICAgICB0aGlzLl9jbjJ0dyA9IGJvb2w7CiAgICB9LAoKICAgIGdldCBib29rbGlua19lbmFibGUoKSB7ICAvLyBib29rbGluay5tZSDot7PovaznmoToh6rliqjlkK/liqgKICAgICAgICByZXR1cm4gZ2V0Qm9vbGVhbkNvbmZpZygiYm9va2xpbmtfZW5hYmxlIiwgdHJ1ZSk7CiAgICB9LAogICAgc2V0IGJvb2tsaW5rX2VuYWJsZShib29sKSB7CiAgICAgICAgR01fc2V0VmFsdWUoImJvb2tsaW5rX2VuYWJsZSIsIGJvb2wpOwogICAgfSwKCiAgICBnZXQgZGVidWcoKSB7ICAvLyDosIPor5UKICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZCh0aGlzLl9kZWJ1ZykpIHsKICAgICAgICAgICAgdGhpcy5fZGVidWcgPSBnZXRCb29sZWFuQ29uZmlnKCJkZWJ1ZyIsIGZhbHNlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXMuX2RlYnVnOwogICAgfSwKICAgIHNldCBkZWJ1Zyhib29sKSB7CiAgICAgICAgdGhpcy5fZGVidWcgPSBib29sOwogICAgICAgIEdNX3NldFZhbHVlKCJkZWJ1ZyIsIGJvb2wpOwogICAgICAgIHRvZ2dsZUNvbnNvbGUoYm9vbCk7CiAgICB9LAoKICAgIGdldCBhZGRUb0hpc3RvcnkoKSB7CiAgICAgICAgaWYgKF8uaXNVbmRlZmluZWQodGhpcy5fYWRkVG9IaXN0b3J5KSkgewogICAgICAgICAgICB0aGlzLl9hZGRUb0hpc3RvcnkgPSBnZXRCb29sZWFuQ29uZmlnKCJhZGRfbmV4dHBhZ2VfdG9faGlzdG9yeSIsIHRydWUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5fYWRkVG9IaXN0b3J5OwogICAgfSwKICAgIHNldCBhZGRUb0hpc3RvcnkoYm9vbCkgewogICAgICAgIHRoaXMuX2FkZFRvSGlzdG9yeSA9IGJvb2w7CiAgICAgICAgR01fc2V0VmFsdWUoImFkZF9uZXh0cGFnZV90b19oaXN0b3J5IiwgYm9vbCk7CiAgICB9LAoKICAgIGdldCBkYmxjbGlja1BhdXNlKCkgewogICAgICAgIHJldHVybiBnZXRCb29sZWFuQ29uZmlnKCdkYmxjbGlja19wYXVzZScsIHRydWUpOwogICAgfSwKICAgIHNldCBkYmxjbGlja1BhdXNlKGJvb2wpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgnZGJsY2xpY2tfcGF1c2UnLCBib29sKTsKICAgIH0sCgogICAgZ2V0IHJlbWFpbl9oZWlnaHQoKSB7ICAvLyDot53nprvlupXpg6jlpJrlsJHpq5jluqbvvIhweO+8ieW8gOWni+WKoOi9veS4i+S4gOmhtQogICAgICAgIGlmKF8uaXNVbmRlZmluZWQodGhpcy5fcmVtYWluX2hlaWdodCkpewogICAgICAgICAgICB0aGlzLl9yZW1haW5faGVpZ2h0ID0gcGFyc2VJbnQoR01fZ2V0VmFsdWUoInJlbWFpbl9oZWlnaHQiKSwgMTApIHx8IDQwMDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbWFpbl9oZWlnaHQ7CiAgICB9LAogICAgc2V0IHJlbWFpbl9oZWlnaHQodmFsKSB7CiAgICAgICAgdGhpcy5fcmVtYWluX2hlaWdodCA9IHZhbDsKICAgICAgICBHTV9zZXRWYWx1ZSgicmVtYWluX2hlaWdodCIsIHZhbCk7CiAgICB9LAoKICAgIGdldCBsYW5nKCkgewogICAgICAgIGlmIChfLmlzVW5kZWZpbmVkKHRoaXMuX2xhbmcpKSB7CiAgICAgICAgICAgIHRoaXMuX2xhbmcgPSBHTV9nZXRWYWx1ZSgibGFuZyIpIHx8ICgobmF2aWdhdG9yLmxhbmd1YWdlID09PSAiemgtVFciIHx8IG5hdmlnYXRvci5sYW5ndWFnZSA9PT0gInpoLUhLIikgPyAiemgtVFciIDogInpoLUNOIik7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLl9sYW5nOwogICAgfSwKICAgIHNldCBsYW5nKHZhbCkgewogICAgICAgIHRoaXMuX2xhbmcgPSB2YWw7CiAgICAgICAgR01fc2V0VmFsdWUoImxhbmciLCB2YWwpOwogICAgfSwKCiAgICBnZXQgZm9udF9mYW1pbHkoKSB7CiAgICAgICAgcmV0dXJuIEdNX2dldFZhbHVlKCJmb250X2ZhbWlseSIpIHx8ICLlvq7ova/pm4Xpu5Es5a6L5L2TLOm7keS9kyzmpbfkvZMiLnVpVHJhbnMoKTsKICAgIH0sCiAgICBzZXQgZm9udF9mYW1pbHkodmFsKSB7CiAgICAgICAgR01fc2V0VmFsdWUoImZvbnRfZmFtaWx5IiwgdmFsKTsKICAgIH0sCgogICAgZ2V0IGZvbnRfc2l6ZSgpIHsgIC8vIOWtl+S9k+Wkp+WwjwogICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZSgiZm9udF9zaXplIikgfHwgIjE4cHgiOwogICAgfSwKICAgIHNldCBmb250X3NpemUodmFsKSB7CiAgICAgICAgR01fc2V0VmFsdWUoImZvbnRfc2l6ZSIsIHZhbCk7CiAgICB9LAoKICAgIGdldCB0ZXh0X2xpbmVfaGVpZ2h0KCl7CiAgICAgICAgcmV0dXJuIEdNX2dldFZhbHVlKCJ0ZXh0X2xpbmVfaGVpZ2h0IikgfHwgIjJlbSI7CiAgICB9LAogICAgc2V0IHRleHRfbGluZV9oZWlnaHQodmFsKXsKICAgICAgICBHTV9zZXRWYWx1ZSgidGV4dF9saW5lX2hlaWdodCIsIHZhbCk7CiAgICB9LAoKICAgIGdldCBjb250ZW50X3dpZHRoKCkgeyAgLy8g5YaF5a655a695bqmCiAgICAgICAgcmV0dXJuIEdNX2dldFZhbHVlKCJjb250ZW50X3dpZHRoIikgfHwgIjgwMHB4IjsKICAgIH0sCiAgICBzZXQgY29udGVudF93aWR0aCh2YWwpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgiY29udGVudF93aWR0aCIsIHZhbCk7CiAgICB9LAoKICAgIGdldCBleHRyYV9jc3MoKSB7CiAgICAgICAgcmV0dXJuIEdNX2dldFZhbHVlKCJleHRyYV9jc3MiLCAiIik7CiAgICB9LAogICAgc2V0IGV4dHJhX2Nzcyh2YWwpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgiZXh0cmFfY3NzIiwgdmFsKTsKICAgIH0sCgogICAgZ2V0IGN1c3RvbVNpdGVpbmZvKCkgewogICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZSgnY3VzdG9tX3NpdGVpbmZvJywgJ1tdJyk7CiAgICB9LAogICAgc2V0IGN1c3RvbVNpdGVpbmZvKHZhbCkgewogICAgICAgIEdNX3NldFZhbHVlKCdjdXN0b21fc2l0ZWluZm8nLCB2YWwpOwogICAgfSwKCiAgICBnZXQgY3VzdG9tUmVwbGFjZVJ1bGVzKCkgewogICAgICAgIHZhciBydWxlcyA9IEdNX2dldFZhbHVlKCdjdXN0b21fcmVwbGFjZV9ydWxlcycsICdiW8SBw6Bdbmc95qOSXG7jgI4oLinjgI89JDEnKTsKCiAgICAgICAgcmV0dXJuIHJ1bGVzOwogICAgfSwKICAgIHNldCBjdXN0b21SZXBsYWNlUnVsZXModmFsKSB7CiAgICAgICAgR01fc2V0VmFsdWUoJ2N1c3RvbV9yZXBsYWNlX3J1bGVzJywgdmFsKTsKICAgIH0sCgogICAgZ2V0IHNraW5fbmFtZSgpIHsKICAgICAgICByZXR1cm4gR01fZ2V0VmFsdWUoInNraW5fbmFtZSIpIHx8ICLnvLrnnIHnmq7ogqQiLnVpVHJhbnMoKTsKICAgIH0sCiAgICBzZXQgc2tpbl9uYW1lKHZhbCkgewogICAgICAgIEdNX3NldFZhbHVlKCJza2luX25hbWUiLCB2YWwpOwogICAgfSwKCiAgICBnZXQgbWVudV9saXN0X2hpZGRkZW4oKSB7CiAgICAgICAgcmV0dXJuIGdldEJvb2xlYW5Db25maWcoIm1lbnVfbGlzdF9oaWRkZGVuIiwgZmFsc2UpOwogICAgfSwKICAgIHNldCBtZW51X2xpc3RfaGlkZGRlbihib29sKSB7CiAgICAgICAgR01fc2V0VmFsdWUoIm1lbnVfbGlzdF9oaWRkZGVuIiwgYm9vbCk7CiAgICB9LAoKICAgIGdldCBoaWRlX2Zvb3Rlcl9uYXYoKSB7CiAgICAgICAgcmV0dXJuIGdldEJvb2xlYW5Db25maWcoImhpZGVfZm9vdGVyX25hdiIsIHRydWUpOwogICAgfSwKICAgIHNldCBoaWRlX2Zvb3Rlcl9uYXYoYm9vbCkgewogICAgICAgIEdNX3NldFZhbHVlKCJoaWRlX2Zvb3Rlcl9uYXYiLCBib29sKTsKICAgICAgICBVSS5oaWRlRm9vdGVyTmF2U3R5bGUoYm9vbCk7CiAgICB9LAoKICAgIGdldCBoaWRlX3ByZWZlcmVuY2VzX2J1dHRvbigpIHsKICAgICAgICByZXR1cm4gZ2V0Qm9vbGVhbkNvbmZpZygiaGlkZV9wcmVmZXJlbmNlc19idXR0b24iLCBmYWxzZSk7CiAgICB9LAogICAgc2V0IGhpZGVfcHJlZmVyZW5jZXNfYnV0dG9uKGJvb2wpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgnaGlkZV9wcmVmZXJlbmNlc19idXR0b24nLCBib29sKTsKICAgIH0sCgogICAgLy8gPT09IOW/q+aNt+mUrgoKICAgIC8vIOWuiemdmeaooeW8j+WIh+aNouW/q+aNt+mUrgogICAgZ2V0IHF1aWV0TW9kZUtleSgpIHsKICAgICAgICBpZiAodGhpcy5fcXVpZXRNb2RlS2V5KSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWlldE1vZGVLZXk7CiAgICAgICAgfQogICAgICAgIHRoaXMuX3F1aWV0TW9kZUtleSA9IEdNX2dldFZhbHVlKCdxdWlldE1vZGVLZXknKSB8fCAncSc7CgogICAgICAgIHJldHVybiB0aGlzLl9xdWlldE1vZGVLZXk7CiAgICB9LAogICAgc2V0IHF1aWV0TW9kZUtleShrZXlDb2RlKSB7CiAgICAgICAgdGhpcy5fcXVpZXRNb2RlS2V5ID0ga2V5Q29kZTsKICAgICAgICBHTV9zZXRWYWx1ZSgncXVpZXRNb2RlS2V5Jywga2V5Q29kZSk7CiAgICB9LAoKICAgIC8vIOaJk+W8gOiuvue9rueql+WPo+eahOW/q+aNt+mUrgogICAgZ2V0IG9wZW5QcmVmZXJlbmNlc0tleSgpIHsKICAgICAgICBpZiAodGhpcy5fb3BlblByZWZlcmVuY2VzS2V5KSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcGVuUHJlZmVyZW5jZXNLZXk7CiAgICAgICAgfQogICAgICAgIHRoaXMuX29wZW5QcmVmZXJlbmNlc0tleSA9IEdNX2dldFZhbHVlKCdvcGVuX3ByZWZlcmVuY2VzX2tleScpIHx8ICdzJzsKCiAgICAgICAgcmV0dXJuIHRoaXMuX29wZW5QcmVmZXJlbmNlc0tleTsKICAgIH0sCiAgICBzZXQgb3BlblByZWZlcmVuY2VzS2V5KGtleUNvZGUpIHsKICAgICAgICB0aGlzLl9vcGVuUHJlZmVyZW5jZXNLZXkgPSBrZXlDb2RlOwogICAgICAgIEdNX3NldFZhbHVlKCdvcGVuX3ByZWZlcmVuY2VzX2tleScsIGtleUNvZGUpOwogICAgfSwKCiAgICAvLyDpmpDol4/lt6bkvqfnq6DoioLliJfooajnmoTlv6vmjbfplK4KICAgIGdldCBoaWRlTWVudUxpc3RLZXkoKSB7ICAvLyDpu5jorqTkuLogYwogICAgICAgIC8vICdDJy5jaGFyQ29kZUF0KDApID0gNjcKICAgICAgICBpZiAodGhpcy5faGlkZU1lbnVMaXN0S2V5KSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oaWRlTWVudUxpc3RLZXk7CiAgICAgICAgfQogICAgICAgIHRoaXMuX2hpZGVNZW51TGlzdEtleSA9IEdNX2dldFZhbHVlKCdoaWRlX21lbnVsaXN0X2tleScpIHx8ICdjJzsKCiAgICAgICAgcmV0dXJuIHRoaXMuX2hpZGVNZW51TGlzdEtleTsKICAgIH0sCiAgICBzZXQgaGlkZU1lbnVMaXN0S2V5KGtleSkgewogICAgICAgIHRoaXMuX2hpZGVNZW51TGlzdEtleSA9IGtleTsKICAgICAgICBHTV9zZXRWYWx1ZSgiaGlkZV9tZW51bGlzdF9rZXkiLCBrZXkpOwogICAgfSwKCiAgICBnZXQgcGljTmlnaHRNb2RlQ2hlY2soKSB7CiAgICAgICAgcmV0dXJuIGdldEJvb2xlYW5Db25maWcoJ3BpY05pZ2h0TW9kZUNoZWNrJywgdHJ1ZSk7CiAgICB9LAogICAgc2V0IHBpY05pZ2h0TW9kZUNoZWNrKGJvb2wpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgncGljTmlnaHRNb2RlQ2hlY2snLCBib29sKTsKICAgIH0sCgogICAgZ2V0IHNwbGl0X2NvbnRlbnQoKSB7CiAgICAgICAgaWYgKF8uaXNVbmRlZmluZWQodGhpcy5fc3BsaXRfY29udGVudCkpIHsKICAgICAgICAgICAgdGhpcy5fc3BsaXRfY29udGVudCA9IEdNX2dldFZhbHVlKCdzcGxpdF9jb250ZW50JywgdHJ1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLl9zcGxpdF9jb250ZW50OwogICAgfSwKICAgIHNldCBzcGxpdF9jb250ZW50KGJvb2wpIHsKICAgICAgICB0aGlzLl9zcGxpdF9jb250ZW50ID0gYm9vbDsKICAgICAgICBHTV9zZXRWYWx1ZSgnc3BsaXRfY29udGVudCcsIGJvb2wpOwogICAgfSwKCiAgICBnZXQgc2Nyb2xsQW5pbWF0ZSgpIHsKICAgICAgICByZXR1cm4gR01fZ2V0VmFsdWUoJ3Njcm9sbEFuaW1hdGUnLCBmYWxzZSk7CiAgICB9LAogICAgc2V0IHNjcm9sbEFuaW1hdGUoYm9vbCkgewogICAgICAgIEdNX3NldFZhbHVlKCdzY3JvbGxBbmltYXRlJywgYm9vbCk7CiAgICB9LAp9OwoKCnZhciB1aVRyYW5zID0gewogICAgIuWwhuWwj+ivtOe9kemhteaWh+acrOi9rOaNouS4uue5geS9k+OAglxuXG7ms6jmhI/vvJrlhoXnva7nmoTnuYHnroDovazmjaLooajvvIzlj6rmlLblvZXkuobnroDljZXnmoTljZXlrZfovazmjaLvvIzlkK/nlKjmnKzlip/og73lkI7vvIzlpoLmnInplJnor6/ovazmjaLnmoTmg4XlvaLvvIzor7fliKnnlKjohJrmnKznmoToh6rorqLlrZfor43lj5bku6Pop4TliJnmnaXkv67mraPjgIJcbuS+i+Wmgu+8muOAjOWNg+mHjOS5i+WkluOAje+8jOS8mumUmeivr+i9rOaNouaIkOOAjOWNg+mHjOS5i+WkluOAje+8jOS9oOWPr+S7peWKoOWFpeinhOWImeOAjOWNg+mHjOS5i+Wklj3ljYPph4zkuYvlpJbjgI3mnaXoh6rooYzkv67mraPjgIIiOiAi5bCH5bCP6Kqq57ay6aCB5paH5a2X6L2J5o+b54K657mB6auU44CCXG5cbuazqOaEj++8muWFp+W7uueahOe5geewoei9ieaPm+ihqO+8jOWPquaUtumMhOS6huewoeWWrueahOWWruWtl+i9ieaPm++8jOWVn+eUqOacrOWKn+iDveW+jO+8jOWmguaciemMr+iqpOi9ieaPm+eahOaDheW9ou+8jOiri+WIqeeUqOiFs+acrOeahOiHquioguWtl+ipnuWPluS7o+imj+WJh+S+huS/ruato+OAglxu5L6L5aaC77ya44CM5Y2D6YeM5LmL5aSW44CN77yM5pyD6Yyv6Kqk6L2J5o+b5oiQ44CM5Y2D6KOh5LmL5aSW44CN77yM5L2g5Y+v5Lul5Yqg5YWl6KaP5YmH44CM5Y2D6KOh5LmL5aSWPeWNg+mHjOS5i+WkluOAjeS+huiHquihjOS/ruato+OAgiIsCiAgICAi5Zu+54mH56ug6IqC55So5aSc6Ze05qih5byP5rKh5rOV55yL77yM6L+Z5Liq6YCJ6aG55Zyo5ZCv5Yqo5pe25Lya6Ieq5Yqo5YiH5o2i5Yiw57y655yB55qu6IKkIjogIuWclueJh+eroOevgOeEoeazleS7peWknOmWk+aooeW8j+ingOeci++8jOmAmeWAi+mBuOmgheWcqOWVn+WLleaZguacg+iHquWLleWIh+aPm+WIsOmgkOioreS9iOaZryIsCiAgICAi6YCa6L+H5b+r5o236ZSu5YiH5o2i5oiW5ZyoIEdyZWFzZW1vbmtleSDnlKjmiLfohJrmnKzlkb3ku6TlpITmiZPlvIDorr7nva7nqpflj6MiOiAi6YCa6YGO54ax6Y215YiH5o+b5oiW5ZyoIEdyZWFzZW1vbmtleSDkvb/nlKjogIXohbPmnKzlkb3ku6TomZXplovllZ/oqK3lrproppbnqpciLAogICAgIumakOiXj+WQjumAmui/h+W/q+aNt+mUruaIliBHcmVhc2Vtb25rZXkg55So5oi36ISa5pys5ZG95Luk5aSE6LCD55SoIjogIumaseiXj+W+jOmAmumBjueGsemNteaIliBHcmVhc2Vtb25rZXkg5L2/55So6ICF6IWz5pys5ZG95Luk6JmV6Kq/55SoIiwKICAgICLkuIDooYzkuIDkuKrvvIzmr4/ooYznrKzkuIDkuKogPSDkuLrliIbpmpTnrKZcbumcgOimgeWIt+aWsOmhtemdoueUn+aViCI6ICLkuIDooYzkuIDmop3opo/liYfvvIzmr4/kuIDooYznrKzkuIDlgIsgPSDngrrliIbpmpTnrKZcbu+8iOmcgOmHjeaWsOi8ieWFpemggemdouaJjeiDveeUn+aViO+8iSIsCiAgICAi6ZSZ6K+v77ya5rKh5pyJ5om+5Yiw5LiL5LiA6aG155qE5YaF5a6577yM5L2/55So5Y+z6ZSu57+75Yiw5LiL5LiA6aG1IjogIumMr+iqpO+8muaykuacieaJvuWIsOS4i+S4gOmggeeahOWFp+Wuue+8jOS9v+eUqOWPs+mNtee/u+WIsOS4i+S4gOmggSIsCiAgICAi5bem6ZSu5rua5Yqo77yM5Lit6ZSu5omT5byA6ZO+5o6l77yI5peg6ZiF6K+75qih5byP77yJIjogIuW3pumNteaNsuWLleeVq+mdouiHs+ipsueroOevgO+8jOS4remNtemWi+WVn+mAo+e1kO+8iOeEoemWseiugOaooeW8j++8iSIsCiAgICAi6K+36L6T5YWl5YiH5o2i5bem5L6n56ug6IqC5YiX6KGo55qE5b+r5o236ZSu77yaIjogIuiri+i8uOWFpeWIh+aPm+W3puWBtOeroOevgOWIl+ihqOeahOeGsemNte+8miIsCiAgICAi6K+m6KeB6ISa5pys5Luj56CB55qEIFJ1bGUuc3BlY2lhbFNpdGUiOiAi6Kmz6KaL6IWz5pys5Luj56K855qEIFJ1bGUuc3BlY2lhbFNpdGUiLAogICAgImJvb2tsaW5rLm1lIOeCueWHu+eahOe9keermeW8uuWItuWQr+eUqCI6ICJib29rbGluay5tZSDpu57mk4rnmoTntrLnq5nlvLfliLbllZ/nlKgiLAogICAgIumDqOWIhumAiemhuemcgOimgeWIt+aWsOmhtemdouaJjeiDveeUn+aViCI6ICLpg6jku73pgbjpoIXpnIDph43mlrDovInlhaXpoIHpnaLmiY3og73nlJ/mlYgiLAogICAgIuWPlua2iOacrOasoeiuvuWumu+8jOaJgOaciemAiemhuei/mOWOnyI6ICLlj5bmtojmnKzmrKHoqK3lrprvvIzmiYDmnInpgbjpoIXpgoTljp8iLAogICAgIuS4jeW9seWTjSBib29rbGluay5tZSDnmoTlkK/nlKgiOiAi5LiN5b2x6Z+/IGJvb2tsaW5rLm1lIOeahOWVn+eUqCIsCiAgICAi6K+36L6T5YWl5omT5byA6K6+572u55qE5b+r5o236ZSu77yaIjogIuiri+i8uOWFpemWi+WVn+ioreWumuimlueql+eahOeGsemNte+8miIsCiAgICAi5b6u6L2v6ZuF6buRLOWui+S9kyzpu5HkvZMs5qW35L2TIjogIk1pY3Jvc29mdCBZYUhlaSzmlrDntLDmmI7pq5QsUE1pbmdMaVUsTWluZ0xpVSzntLDmmI7pq5Qs5qiZ5qW36auUIiwKICAgICLlpJzpl7TmqKHlvI/nmoTlm77niYfnq6DoioLmo4DmtYsiOiAi5aSc6ZaT5qih5byP55qE5ZyW54mH56ug56+A5qqi5risIiwKICAgICLngrnlh7vmmL7npLrpmpDol4/nq6DoioLliJfooagiOiAi6bue5q2k5Lul6aGv56S65oiW6Zqx6JeP56ug56+A5YiX6KGoIiwKICAgICLmt7vliqDkuIvkuIDpobXliLDljoblj7LorrDlvZUiOiAi5Yqg5YWl5LiL5LiA6aCB5Yiw5q235Y+y6KiY6YyEIiwKICAgICJib29rbGluayDoh6rliqjlkK/nlKgiOiAiYm9va2xpbmsg6Ieq5YuV5ZWf55SoIiwKICAgICJFbnRlciDplK7miZPlvIDnm67lvZUiOiAiRW50ZXIg6Y216ZaL5ZWf55uu6YyEIiwKICAgICLpmpDol4/lt6bkvqfnq6DoioLliJfooagiOiAi6Zqx6JeP5bem5YG056ug56+A5YiX6KGoIiwKICAgICLlsI/or7TpmIXor7vohJrmnKzorr7nva4iOiLlsI/oqqrplrHoroDohbPmnKzoqK3lrpoiLAogICAgIuW3suWIsOi+vuacgOWQjuS4gOmhtSI6ICLlt7LliLDpgZTmnIDlvozkuIDpoIEiLAogICAgIuato+WcqOi9veWFpeS4i+S4gOmhtSI6ICLmraPlnKjovInlhaXkuIvkuIDpoIEiLAogICAgIumAmui/h+W/q+aNt+mUruWIh+aNoiI6ICLpgJrpgY7nhrHpjbXliIfmj5siLAogICAgIumakOiXj+W6lemDqOWvvOiIquagjyI6ICLpmrHol4/lupXpg6jlsI7oiKrliJciLAogICAgIumakOiXj+W3puS+p+WvvOiIquadoSI6ICLpmrHol4/lt6blgbTnq6Dnr4DliJfooajlvYjlh7rpiJUiLAogICAgIuS4u+mhtemTvuaOpeayoeacieaJvuWIsCI6ICLmnKrmib7liLDkuLvpoIHpgKPntZAiLAogICAgIuiHquWumuS5ieermeeCueinhOWImSI6ICLoh6roqILntrLnq5nopo/liYciLAogICAgIuiHquWumuS5ieabv+aNouinhOWImSI6ICLoh6roqILlrZfoqZ7lj5bku6Popo/liYciLAogICAgIue9kemhte+8mui9rOe5geS9kyI6ICLntrLpoIHvvJrovYnnuYHpq5QiLAogICAgIuWPjOWHu+aaguWBnOe/u+mhtSI6ICLpm5nmk4rmmqvlgZznv7vpoIEiLAogICAgIumakOiXj+iuvue9ruaMiemSriI6ICLpmrHol4/oqK3lrprmjInpiJUiLAogICAgIuW8uuWItuaJi+WKqOWQr+eUqCI6ICLlvLfliLbmiYvli5XllZ/nlKgiLAogICAgIuiwg+eUqOmYheivu+WZqCI6ICLoqr/nlKjplrHoroDlmagiLAogICAgIuiHquWumuS5ieagt+W8jyI6ICLoh6roqILmqKPlvI8iLAogICAgIueVjOmdouivreiogCI6ICLku4vpnaLoqp7oqIAiLAogICAgIuaJk+W8gOebruW9lSI6ICLplovllZ/mnKzmm7jnm67pjITpoIEiLAogICAgIuiHquWKqOe/u+mhtSI6ICLoh6rli5Xnv7vpoIEiLAogICAgIue8uuecgeearuiCpCI6ICLpoJDoqK3kvYjmma8iLAogICAgIuaal+iJsuearuiCpCI6ICLmmpfoibLkvYjmma8iLAogICAgIuWknOmXtOaooeW8jyI6ICLlpJzplpPmqKHlvI8iLAogICAgIuWknOmXtOaooeW8jzEiOiAi5aSc6ZaT5qih5byPMSIsCiAgICAi5aSc6Ze05qih5byPMiI6ICLlpJzplpPmqKHlvI8yIiwKICAgICLmqZnoibLog4zmma8iOiAi5qmZ6Imy6IOM5pmvIiwKICAgICLnu7/oibLog4zmma8iOiAi57ag6Imy6IOM5pmvIiwKICAgICLnu7/oibLog4zmma8yIjogIue2oOiJsuiDjOaZrzIiLAogICAgIuiTneiJsuiDjOaZryI6ICLol43oibLog4zmma8iLAogICAgIuajlem7hOiDjOaZryI6ICLmo5Xpu4Pog4zmma8iLAogICAgIue7j+WFuOearuiCpCI6ICLntpPlhbjog4zmma8iLAogICAgIumYheivu+aooeW8jyI6ICLplrHoroDmqKHlvI8iLAogICAgIuiwg+ivleaooeW8jyI6ICLlgbXpjK/mqKHlvI8iLAogICAgIuWPjemmiOWcsOWdgCI6ICLlj43ppYvoiIfoqI7oq5YiLAogICAgIuWuiemdmeaooeW8jyI6ICLlronpnZzmqKHlvI8iLAogICAgIuKImiDnoa7orqQiOiAi4oiaIOeiuuWumiIsCiAgICAiWCDlj5bmtogiOiAiWCDlj5bmtogiLAogICAgIuS4iuS4gOmhtSI6ICLkuIrkuIDpoIEiLAogICAgIuS4i+S4gOmhtSI6ICLkuIvkuIDpoIEiLAogICAgIueKtuaAgSI6ICLni4DmhYsiLAogICAgIuW3sue7jyI6ICLlt7LntpMiLAogICAgIuaaguWBnCI6ICLmmqvlgZwiLAogICAgIuWQr+eUqCI6ICLllZ/nlKgiLAogICAgIumAgOWHuiI6ICLpm6LplosiLAogICAgIua1i+ivlSI6ICLmuKzoqaYiLAogICAgIui3neemuyI6ICLot53pm6IiLAogICAgIuWKoOi9vSI6ICLovInlhaUiLAogICAgIuWtl+S9kyI6ICLlrZflnosiLAogICAgIuihjOmrmCI6ICLooYzot50iLAogICAgIuihjOWuvSI6ICLniYjpnaLlr6zluqYiLAogICAgIuebruW9lSI6ICLnm67pjIQiCn07CgppZighU3RyaW5nLnByb3RvdHlwZS51aVRyYW5zKXsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCAndWlUcmFucycsIHsKICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKXsKICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcy52YWx1ZU9mKCksIGtleSwgcmVnZXhwOwogICAgICAgICAgICBpZihDb25maWcubGFuZyAhPT0gJ3poLVRXJykgcmV0dXJuIF90aGlzOwogICAgICAgICAgICBpZih1aVRyYW5zLmhhc093blByb3BlcnR5KF90aGlzKSkgcmV0dXJuIHVpVHJhbnNbX3RoaXNdOwogICAgICAgICAgICBmb3IgKGtleSBpbiB1aVRyYW5zKSB7CiAgICAgICAgICAgICAgICByZWdleHAgPSBuZXcgUmVnRXhwKGtleSwgJ2cnKTsKICAgICAgICAgICAgICAgIF90aGlzID0gX3RoaXMucmVwbGFjZShyZWdleHAsIHVpVHJhbnNba2V5XSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF90aGlzOwogICAgICAgIH0sCiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgIH0pOwp9CgovLy0tLS0tLS0tLS0tLS0tLS0tLS0g6L6F5Yqp5Ye95pWwIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCnZhciBudWxsRm4gPSBmdW5jdGlvbigpIHt9OwoKLy8gQ2hlY2sgaWYgaXMgR00gMi54CmlmICh0eXBlb2YgZXhwb3J0RnVuY3Rpb24gPT0gJ3VuZGVmaW5lZCcpIHsKICAgIC8vIEZvciBHTSAxLnggYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgc2hvdWxkIHdvcmsuCiAgICB2YXIgZXhwb3J0RnVuY3Rpb24gPSAoZnVuY3Rpb24oZm9vLCBzY29wZSwgZGVmQXMpIHsKICAgICAgICBzY29wZVtkZWZBcy5kZWZpbmVBc10gPSBmb287CiAgICB9KS5iaW5kKHVuc2FmZVdpbmRvdyk7Cn0KCnZhciBDOwp0b2dnbGVDb25zb2xlKENvbmZpZy5kZWJ1Zyk7CgpmdW5jdGlvbiB0b2dnbGVDb25zb2xlKGRlYnVnKSB7CiAgICBpZiAoZGVidWcpIHsKICAgICAgICBDID0gY29uc29sZTsKICAgIH0gZWxzZSB7CiAgICAgICAgQyA9IHsKICAgICAgICAgICAgbG9nOiBudWxsRm4sCiAgICAgICAgICAgIGRlYnVnOiBudWxsRm4sCiAgICAgICAgICAgIGVycm9yOiBudWxsRm4sCiAgICAgICAgICAgIGdyb3VwOiBudWxsRm4sCiAgICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBudWxsRm4sCiAgICAgICAgICAgIGdyb3VwRW5kOiBudWxsRm4sCiAgICAgICAgICAgIHRpbWU6IG51bGxGbiwKICAgICAgICAgICAgdGltZUVuZDogbnVsbEZuLAogICAgICAgIH07CiAgICB9Cn0KCmZ1bmN0aW9uIExfZ2V0VmFsdWUoa2V5KSB7IC8vIOS4quWIq+eUqOaIt+emgeeUqOacrOWcsOWtmOWCqOS8muaKpemUmQogICAgdHJ5IHsKICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTsKICAgIH0gY2F0Y2ggKGUpIHt9Cn0KCmZ1bmN0aW9uIExfc2V0VmFsdWUoa2V5LCB2YWx1ZSkgewogICAgdHJ5IHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTsKICAgIH0gY2F0Y2ggKGUpIHt9Cn0KCmZ1bmN0aW9uIExfcmVtb3ZlVmFsdWUoa2V5KSB7CiAgICB0cnkgewogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7CiAgICB9IGNhdGNoIChlKSB7fQp9CgoKZnVuY3Rpb24gcGFyc2VIVE1MKHN0cikgewogICAgdmFyIGRvYzsKICAgIHRyeSB7CiAgICAgICAgLy8gZmlyZWZveCBhbmQgY2hyb21lIDMwK++8jE9wZXJhIDEyIOS8muaKpemUmQogICAgICAgIGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoc3RyLCAidGV4dC9odG1sIik7CiAgICB9IGNhdGNoIChleCkge30KCiAgICBpZiAoIWRvYykgewogICAgICAgIGRvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIik7CiAgICAgICAgZG9jLnF1ZXJ5U2VsZWN0b3IoImh0bWwiKS5pbm5lckhUTUwgPSBzdHI7CiAgICB9CiAgICByZXR1cm4gZG9jOwp9CgpmdW5jdGlvbiB0b1JFKG9iaiwgZmxhZykgewogICAgaWYgKG9iaiBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICAgIHJldHVybiBvYmo7CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG9iaiwgKGZsYWcgfHwgJ2lnJykpOwogICAgfQp9CgpmdW5jdGlvbiB0b1JlU3RyKHN0cikgeyAgLy8g5aSE55CG5a2X56ym5Liy77yM5ZCm5YiZ5Y+v6IO95Lya5peg5rOV55So5q2j5YiZ5pu/5o2iCiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1soKVxbXF17fXwrLixeJD9cXCpdL2csICJcXCQmIik7Cn0KCmZ1bmN0aW9uIHdpbGRjYXJkVG9SZWdFeHBTdHIodXJsc3RyKSB7CiAgICBpZiAodXJsc3RyLnNvdXJjZSkgcmV0dXJuIHVybHN0ci5zb3VyY2U7CiAgICB2YXIgcmVnID0gdXJsc3RyLnJlcGxhY2UoL1soKVxbXF17fXwrLixeJD9cXF0vZywgIlxcJCYiKS5yZXBsYWNlKC9cKisvZywgZnVuY3Rpb24oc3RyKXsKICAgICAgICByZXR1cm4gc3RyID09PSAiKiIgPyAiLioiIDogIlteL10qIjsKICAgIH0pOwogICAgcmV0dXJuICJeIiArIHJlZyArICIkIjsKfQoKZnVuY3Rpb24gZ2V0VXJsSG9zdCh1cmwpIHsKICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgYS5ocmVmID0gdXJsOwogICAgcmV0dXJuIGEuaG9zdDsKfQoKJC5uYW5vID0gZnVuY3Rpb24odGVtcGxhdGUsIGRhdGEpIHsKICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC9ceyhbXHdcLl0qKVx9L2csIGZ1bmN0aW9uKHN0ciwga2V5KSB7CiAgICAgICAgdmFyIGtleXMgPSBrZXkuc3BsaXQoIi4iKSwKICAgICAgICAgICAgdiA9IGRhdGFba2V5cy5zaGlmdCgpXTsKICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB2ID0gdltrZXlzW2ldXTsKICAgICAgICByZXR1cm4gKHR5cGVvZiB2ICE9PSAidW5kZWZpbmVkIiAmJiB2ICE9PSBudWxsKSA/IHYgOiAiIjsKICAgIH0pOwp9OwoKLy8galF1ZXJ5IHRleHQg5a6M5YWo5Yy56YWNLiBlLmcuIGE6ZWNvbnRhaW5zKCfmnIDmlrDnq6DoioInKQokLmV4cHJbIjoiXS5lY29udGFpbnMgPSBmdW5jdGlvbihvYmosIGluZGV4LCBtZXRhLCBzdGFjaykgewogICAgcmV0dXJuIChvYmoudGV4dENvbnRlbnQgfHwgb2JqLmlubmVyVGV4dCB8fCAkKG9iaikudGV4dCgpIHx8ICIiKS50b0xvd2VyQ2FzZSgpID09IG1ldGFbM10udG9Mb3dlckNhc2UoKTsKfTsKCi8qIGpzaGludCBpZ25vcmU6IHN0YXJ0ICovCgpmdW5jdGlvbiAkeChhWFBhdGgsIGFDb250ZXh0KSB7CiAgICB2YXIgbm9kZXMgPSBbXTsKICAgIHZhciBkb2MgPSBkb2N1bWVudDsKICAgIGFDb250ZXh0ID0gYUNvbnRleHQgfHwgZG9jOwoKICAgIHRyeSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBkb2MuZXZhbHVhdGUoYVhQYXRoLCBhQ29udGV4dCwgbnVsbCwKICAgICAgICAgICAgWFBhdGhSZXN1bHQuQU5ZX1RZUEUsIG51bGwpOwogICAgICAgIHZhciBub2RlOwogICAgICAgIHdoaWxlIChub2RlID0gcmVzdWx0cy5pdGVyYXRlTmV4dCgpKSB7CiAgICAgICAgICAgIG5vZGVzLnB1c2gobm9kZSk7CiAgICAgICAgfQogICAgfSBjYXRjaCAoZXgpIHt9CgogICAgcmV0dXJuIG5vZGVzOwp9CgpGdW5jdGlvbi5wcm90b3R5cGUuZ2V0TVN0ciA9IGZ1bmN0aW9uKCkgeyAgLy8g5aSa6KGMU3RyaW5nCiAgICB2YXIgbGluZXMgPSBuZXcgU3RyaW5nKHRoaXMpOwogICAgbGluZXMgPSBsaW5lcy5zdWJzdHJpbmcobGluZXMuaW5kZXhPZigiLyoiKSArIDMsIGxpbmVzLmxhc3RJbmRleE9mKCIqLyIpKTsKICAgIHJldHVybiBsaW5lczsKfTsKCmlmICh0eXBlb2YgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoICE9ICdmdW5jdGlvbicpIHsKICAgIFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCA9IGZ1bmN0aW9uKHN0cikgewogICAgICAgIHJldHVybiB0aGlzLnNsaWNlKDAsIHN0ci5sZW5ndGgpID09IHN0cjsKICAgIH07Cn0KCmlmICh0eXBlb2YgU3RyaW5nLnByb3RvdHlwZS5jb250YWlucyAhPSAnZnVuY3Rpb24nKSB7CiAgICBTdHJpbmcucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24oc3RyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZihzdHIpICE9IC0xOwogICAgfTsKfQoKZnVuY3Rpb24gc2F2ZUFzKGRhdGEsIGZpbGVuYW1lKSB7CiAgICBpZighZmlsZW5hbWUpIGZpbGVuYW1lID0gJ2NvbnNvbGUuanNvbicKCiAgICBpZiAodHlwZW9mIGRhdGEgPT0gJ29iamVjdCcpIHsKICAgICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSwgdW5kZWZpbmVkLCA0KTsKICAgIH0KCiAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyB9KTsKICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgIHZhciBzYXZlYXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICBzYXZlYXMuaHJlZiA9IHVybDsKICAgIHNhdmVhcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzYXZlYXMpOwogICAgc2F2ZWFzLmRvd25sb2FkID0gZmlsZW5hbWU7CiAgICBzYXZlYXMuY2xpY2soKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgc2F2ZWFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2F2ZWFzKTsKICAgIH0sIDEwMDApCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWQnLCBmdW5jdGlvbigpIHsKICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgfSk7Cn0KCi8qCiAqIGpRdWVyeSBFYXNpbmcgdjEuMyAtIGh0dHA6Ly9nc2dkLmNvLnVrL3NhbmRib3gvanF1ZXJ5L2Vhc2luZy8KICovCmpRdWVyeS5lYXNpbmcuanN3aW5nPWpRdWVyeS5lYXNpbmcuc3dpbmcsalF1ZXJ5LmV4dGVuZChqUXVlcnkuZWFzaW5nLHtkZWY6ImVhc2VPdXRRdWFkIixzd2luZzpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBqUXVlcnkuZWFzaW5nW2pRdWVyeS5lYXNpbmcuZGVmXShhLGIsYyxkLGUpfSxlYXNlSW5RdWFkOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGQqKGIvPWUpKmIrY30sZWFzZU91dFF1YWQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4tZCooYi89ZSkqKGItMikrY30sZWFzZUluT3V0UXVhZDpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybihiLz1lLzIpPDE/ZC8yKmIqYitjOi1kLzIqKC0tYiooYi0yKS0xKStjfSxlYXNlSW5DdWJpYzpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBkKihiLz1lKSpiKmIrY30sZWFzZU91dEN1YmljOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGQqKChiPWIvZS0xKSpiKmIrMSkrY30sZWFzZUluT3V0Q3ViaWM6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4oYi89ZS8yKTwxP2QvMipiKmIqYitjOmQvMiooKGItPTIpKmIqYisyKStjfSxlYXNlSW5RdWFydDpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBkKihiLz1lKSpiKmIqYitjfSxlYXNlT3V0UXVhcnQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4tZCooKGI9Yi9lLTEpKmIqYipiLTEpK2N9LGVhc2VJbk91dFF1YXJ0OmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuKGIvPWUvMik8MT9kLzIqYipiKmIqYitjOi1kLzIqKChiLT0yKSpiKmIqYi0yKStjfSxlYXNlSW5RdWludDpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBkKihiLz1lKSpiKmIqYipiK2N9LGVhc2VPdXRRdWludDpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBkKigoYj1iL2UtMSkqYipiKmIqYisxKStjfSxlYXNlSW5PdXRRdWludDpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybihiLz1lLzIpPDE/ZC8yKmIqYipiKmIqYitjOmQvMiooKGItPTIpKmIqYipiKmIrMikrY30sZWFzZUluU2luZTpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybi1kKk1hdGguY29zKGIvZSooTWF0aC5QSS8yKSkrZCtjfSxlYXNlT3V0U2luZTpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBkKk1hdGguc2luKGIvZSooTWF0aC5QSS8yKSkrY30sZWFzZUluT3V0U2luZTpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybi1kLzIqKE1hdGguY29zKE1hdGguUEkqYi9lKS0xKStjfSxlYXNlSW5FeHBvOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIDA9PWI/YzpkKk1hdGgucG93KDIsMTAqKGIvZS0xKSkrY30sZWFzZU91dEV4cG86ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gYj09ZT9jK2Q6ZCooLU1hdGgucG93KDIsLTEwKmIvZSkrMSkrY30sZWFzZUluT3V0RXhwbzpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiAwPT1iP2M6Yj09ZT9jK2Q6KGIvPWUvMik8MT9kLzIqTWF0aC5wb3coMiwxMCooYi0xKSkrYzpkLzIqKC1NYXRoLnBvdygyLC0xMCotLWIpKzIpK2N9LGVhc2VJbkNpcmM6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4tZCooTWF0aC5zcXJ0KDEtKGIvPWUpKmIpLTEpK2N9LGVhc2VPdXRDaXJjOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGQqTWF0aC5zcXJ0KDEtKGI9Yi9lLTEpKmIpK2N9LGVhc2VJbk91dENpcmM6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4oYi89ZS8yKTwxPy1kLzIqKE1hdGguc3FydCgxLWIqYiktMSkrYzpkLzIqKE1hdGguc3FydCgxLShiLT0yKSpiKSsxKStjfSxlYXNlSW5FbGFzdGljOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9MS43MDE1OCxnPTAsaD1kO3JldHVybiAwPT1iP2M6MT09KGIvPWUpP2MrZDooZ3x8KGc9LjMqZSksaDxNYXRoLmFicyhkKT8oaD1kLGY9Zy80KTpmPWcvKDIqTWF0aC5QSSkqTWF0aC5hc2luKGQvaCksLShoKk1hdGgucG93KDIsMTAqKGItPTEpKSpNYXRoLnNpbigoYiplLWYpKjIqTWF0aC5QSS9nKSkrYyl9LGVhc2VPdXRFbGFzdGljOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9MS43MDE1OCxnPTAsaD1kO3JldHVybiAwPT1iP2M6MT09KGIvPWUpP2MrZDooZ3x8KGc9LjMqZSksaDxNYXRoLmFicyhkKT8oaD1kLGY9Zy80KTpmPWcvKDIqTWF0aC5QSSkqTWF0aC5hc2luKGQvaCksaCpNYXRoLnBvdygyLC0xMCpiKSpNYXRoLnNpbigoYiplLWYpKjIqTWF0aC5QSS9nKStkK2MpfSxlYXNlSW5PdXRFbGFzdGljOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9MS43MDE1OCxnPTAsaD1kO3JldHVybiAwPT1iP2M6Mj09KGIvPWUvMik/YytkOihnfHwoZz1lKi4zKjEuNSksaDxNYXRoLmFicyhkKT8oaD1kLGY9Zy80KTpmPWcvKDIqTWF0aC5QSSkqTWF0aC5hc2luKGQvaCksMT5iPy0uNSpoKk1hdGgucG93KDIsMTAqKGItPTEpKSpNYXRoLnNpbigoYiplLWYpKjIqTWF0aC5QSS9nKStjOi41KmgqTWF0aC5wb3coMiwtMTAqKGItPTEpKSpNYXRoLnNpbigoYiplLWYpKjIqTWF0aC5QSS9nKStkK2MpfSxlYXNlSW5CYWNrOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gdm9pZCAwPT1mJiYoZj0xLjcwMTU4KSxkKihiLz1lKSpiKigoZisxKSpiLWYpK2N9LGVhc2VPdXRCYWNrOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gdm9pZCAwPT1mJiYoZj0xLjcwMTU4KSxkKigoYj1iL2UtMSkqYiooKGYrMSkqYitmKSsxKStjfSxlYXNlSW5PdXRCYWNrOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gdm9pZCAwPT1mJiYoZj0xLjcwMTU4KSwoYi89ZS8yKTwxP2QvMipiKmIqKCgoZio9MS41MjUpKzEpKmItZikrYzpkLzIqKChiLT0yKSpiKigoKGYqPTEuNTI1KSsxKSpiK2YpKzIpK2N9LGVhc2VJbkJvdW5jZTpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBkLWpRdWVyeS5lYXNpbmcuZWFzZU91dEJvdW5jZShhLGUtYiwwLGQsZSkrY30sZWFzZU91dEJvdW5jZTpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybihiLz1lKTwxLzIuNzU/ZCo3LjU2MjUqYipiK2M6Mi8yLjc1PmI/ZCooNy41NjI1KihiLT0xLjUvMi43NSkqYisuNzUpK2M6Mi41LzIuNzU+Yj9kKig3LjU2MjUqKGItPTIuMjUvMi43NSkqYisuOTM3NSkrYzpkKig3LjU2MjUqKGItPTIuNjI1LzIuNzUpKmIrLjk4NDM3NSkrY30sZWFzZUluT3V0Qm91bmNlOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGUvMj5iPy41KmpRdWVyeS5lYXNpbmcuZWFzZUluQm91bmNlKGEsMipiLDAsZCxlKStjOi41KmpRdWVyeS5lYXNpbmcuZWFzZU91dEJvdW5jZShhLDIqYi1lLDAsZCxlKSsuNSpkK2N9fSk7CgovKiBqc2hpbnQgaWdub3JlOiBlbmQgKi8KCgp2YXIgVUkgPSB7CiAgICB0cGxfZm9vdGVyX25hdjogJ1wKICAgICAgICA8ZGl2IGNsYXNzPSJjaGFwdGVyLWZvb3Rlci1uYXYiPlwKICAgICAgICAgICAgPGEgY2xhc3M9InByZXYtcGFnZSIgaHJlZj0ie3ByZXZVcmx9Ij7kuIrkuIDpobU8L2E+IHwgXAogICAgICAgICAgICA8YSBjbGFzcz0iaW5kZXgtcGFnZSIgaHJlZj0ie2luZGV4VXJsfSIgdGl0bGU9IkVudGVyIOmUruaJk+W8gOebruW9lSI+55uu5b2VPC9hPiB8IFwKICAgICAgICAgICAgPGEgY2xhc3M9Im5leHQtcGFnZSIgc3R5bGU9ImNvbG9yOnt0aGVFbmRDb2xvcn0iIGhyZWY9IntuZXh0VXJsfSI+5LiL5LiA6aG1PC9hPlwKICAgICAgICA8L2Rpdj5cCiAgICAgICAgJy51aVRyYW5zKCksCiAgICBza2luczoge30sCgogICAgaW5pdDogZnVuY3Rpb24oKXsKICAgICAgICBVSS5yZWZyZXNoTWFpblN0eWxlKCk7CgogICAgICAgIFVJLnJlZnJlc2hTa2luU3R5bGUoQ29uZmlnLnNraW5fbmFtZSwgdHJ1ZSk7CgogICAgICAgIFVJLnJlZnJlc2hFeHRyYVN0eWxlKENvbmZpZy5leHRyYV9jc3MpOwoKICAgICAgICBVSS5maXhNb2JpbGUoKTsKCiAgICAgICAgLy8g5Yid5aeL5Y+Y6YePCiAgICAgICAgVUkuJG1lbnUgPSAkKCcjbWVudScpOwogICAgICAgIFVJLiRtZW51QmFyID0gJCgnI21lbnUtYmFyJyk7CiAgICAgICAgVUkuJGNvbnRlbnQgPSAkKCcjbXlub3ZlbHJlYWRlci1jb250ZW50Jyk7CiAgICAgICAgVUkuJHByZWZlcmVuY2VzQnRuID0gJCgnI3ByZWZlcmVuY2VzQnRuJyk7CgogICAgICAgIC8vIOWIneWni+WMluaYr+WQpumakOiXjwogICAgICAgIGlmKENvbmZpZy5oaWRlX2Zvb3Rlcl9uYXYpewogICAgICAgICAgICBVSS5oaWRlRm9vdGVyTmF2U3R5bGUodHJ1ZSk7CiAgICAgICAgfQoKICAgICAgICAvLyBVSS50b2dnbGVRdWlldE1vZGUoKTsgIC8vIOWIneWni+WMluWuiemdmeaooeW8jwogICAgICAgIFVJLmhpZGVNZW51TGlzdChDb25maWcubWVudV9saXN0X2hpZGRkZW4pOyAgLy8g5Yid5aeL5YyW56ug6IqC5YiX6KGo5piv5ZCm6ZqQ6JePCiAgICAgICAgVUkuaGlkZVByZWZlcmVuY2VzQnV0dG9uKENvbmZpZy5oaWRlX3ByZWZlcmVuY2VzX2J1dHRvbik7ICAvLyDliJ3lp4vljJborr7nva7mjInpkq7mmK/lkKbpmpDol48KICAgIH0sCiAgICByZWZyZXNoTWFpblN0eWxlOiBmdW5jdGlvbigpewogICAgICAgIGlmKFVJLm1haW5TdHlsZSl7CiAgICAgICAgICAgICQoVUkubWFpblN0eWxlKS5yZW1vdmUoKTsKICAgICAgICB9CgogICAgICAgIFVJLm1haW5TdHlsZSA9IEdNX2FkZFN0eWxlKAogICAgICAgICAgICBSZXMuQ1NTX01BSU4KICAgICAgICAgICAgICAgIC5yZXBsYWNlKCJ7Zm9udF9mYW1pbHl9IiwgQ29uZmlnLmZvbnRfZmFtaWx5KQogICAgICAgICAgICAgICAgLnJlcGxhY2UoIntmb250X3NpemV9IiwgQ29uZmlnLmZvbnRfc2l6ZSkKICAgICAgICAgICAgICAgIC5yZXBsYWNlKCJ7dGl0bGVfZm9udF9zaXplfSIsIFVJLmNhbGNUaXRsZUZvbnRTaXplKENvbmZpZy5mb250X3NpemUpKQogICAgICAgICAgICAgICAgLnJlcGxhY2UoIntjb250ZW50X3dpZHRofSIsIENvbmZpZy5jb250ZW50X3dpZHRoKQogICAgICAgICAgICAgICAgLnJlcGxhY2UoInt0ZXh0X2xpbmVfaGVpZ2h0fSIsIENvbmZpZy50ZXh0X2xpbmVfaGVpZ2h0KQogICAgICAgICAgICAgICAgLnJlcGxhY2UoInttZW51LWJhci1oaWRkZW59IiwgQ29uZmlnLm1lbnVfYmFyX2hpZGRlbiA/ICJkaXNwbGF5Om5vbmU7IiA6ICIiKQogICAgICAgICk7CiAgICB9LAogICAgaGlkZUZvb3Rlck5hdlN0eWxlOiBmdW5jdGlvbihoaWRkZW4pewogICAgICAgIHZhciBuYXZTdHlsZSA9ICQoIiNmb290ZXJfbmF2X2NzcyIpOwogICAgICAgIGlmKGhpZGRlbikgewogICAgICAgICAgICBpZihuYXZTdHlsZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICQoJzxzdHlsZT4nKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJpZCIsICJmb290ZXJfbmF2X2NzcyIpCiAgICAgICAgICAgICAgICAgICAgLnRleHQoIi5jaGFwdGVyLWZvb3Rlci1uYXYgeyBkaXNwbGF5OiBub25lOyB9IikKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJ2hlYWQnKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5hdlN0eWxlLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sCiAgICBoaWRlTWVudUxpc3Q6IGZ1bmN0aW9uKGhpZGRlbil7CiAgICAgICAgaWYodHlwZW9mKGhpZGRlbikgPT09ICJ1bmRlZmluZWQiKXsKICAgICAgICAgICAgaGlkZGVuID0gIVVJLm1lbnVfbGlzdF9oaWRkZGVuOwogICAgICAgIH0KCiAgICAgICAgaWYoaGlkZGVuKXsKICAgICAgICAgICAgVUkuJG1lbnUuYWRkQ2xhc3MoJ2hpZGRlbicpOwogICAgICAgICAgICBVSS4kY29udGVudC5jc3MoIm1hcmdpbi1sZWZ0IiwgIiIpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBVSS4kbWVudS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7CiAgICAgICAgICAgIFVJLiRjb250ZW50LmNzcygibWFyZ2luLWxlZnQiLCAiMzIwcHgiKTsKICAgICAgICB9CiAgICAgICAgVUkubWVudV9saXN0X2hpZGRkZW4gPSBoaWRkZW47CiAgICB9LAogICAgaGlkZVByZWZlcmVuY2VzQnV0dG9uOiBmdW5jdGlvbihoaWRkZW4pIHsKICAgICAgICBoaWRkZW4gPSBfLmlzVW5kZWZpbmVkKGhpZGRlbikgPyBDb25maWcuaGlkZV9wcmVmZXJlbmNlc19idXR0b24gOiBoaWRkZW47CgogICAgICAgIFVJLiRwcmVmZXJlbmNlc0J0bi50b2dnbGUoIWhpZGRlbik7CiAgICB9LAogICAgaGlkZU1lbnVCYXI6IGZ1bmN0aW9uKGhpZGRlbikgewogICAgICAgIGhpZGRlbiA9IF8uaXNVbmRlZmluZWQoaGlkZGVuKSA/IENvbmZpZy5tZW51X2Jhcl9oaWRkZW4gOiBoaWRkZW47CgogICAgICAgIFVJLiRtZW51QmFyLnRvZ2dsZSghaGlkZGVuKTsKICAgIH0sCiAgICByZWZyZXNoU2tpblN0eWxlOiBmdW5jdGlvbihza2luX25hbWUsIGlzRmlyc3QpewogICAgICAgIHZhciBzdHlsZSA9ICQoIiNza2luX3N0eWxlIik7CiAgICAgICAgaWYoc3R5bGUubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgc3R5bGUgPSAkKCc8c3R5bGUgaWQ9InNraW5fc3R5bGUiPicpLmFwcGVuZFRvKCdoZWFkJyk7CiAgICAgICAgfQoKICAgICAgICAvLyDlm77niYfnq6DoioLlpJzpl7TmqKHlvI/kvJrlj5jnmoTml6Dms5XnnIsKICAgICAgICBpZiAoaXNGaXJzdCAmJiBza2luX25hbWUuaW5kZXhPZign5aSc6Ze0Jy51aVRyYW5zKCkpICE9IC0xICYmIENvbmZpZy5waWNOaWdodE1vZGVDaGVjaykgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB2YXIgaW1nID0gJCgnI215bm92ZWxyZWFkZXItY29udGVudCBpbWcnKVswXTsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGltZy53aWR0aCwgaW1nLmhlaWdodCkKICAgICAgICAgICAgICAgIGlmIChpbWcgJiYgaW1nLndpZHRoID4gNTAwICYmIGltZy5oZWlnaHQgPiAxMDAwKSB7CiAgICAgICAgICAgICAgICAgICAgc3R5bGUudGV4dChVSS5za2luc1sn57y655yB55qu6IKkJy51aVRyYW5zKCldKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgfQoKICAgICAgICBzdHlsZS50ZXh0KFVJLnNraW5zW3NraW5fbmFtZV0pOwogICAgfSwKICAgIHJlZnJlc2hFeHRyYVN0eWxlOiBmdW5jdGlvbihjc3MpewogICAgICAgIHZhciBzdHlsZSA9ICQoIiNleHRyYV9zdHlsZSIpOwogICAgICAgIGlmKHN0eWxlLmxlbmd0aCA9PT0gMCl7CiAgICAgICAgICAgIHN0eWxlID0gJCgnPHN0eWxlIGlkPSJleHRyYV9zdHlsZSI+JykuYXBwZW5kVG8oJ2hlYWQnKTsKICAgICAgICB9CgogICAgICAgIHN0eWxlLnRleHQoY3NzKTsKICAgIH0sCiAgICB0b2dnbGVRdWlldE1vZGU6IGZ1bmN0aW9uKCkgewogICAgICAgIHRoaXMuX2lzUXVpZXRNb2RlID0gIXRoaXMuX2lzUXVpZXRNb2RlOwogICAgICAgIHZhciBzZWxlY3RvciA9ICcjbWVudS1iYXIsICNtZW51LCAjcHJlZmVyZW5jZXNCdG4sIC5yZWFkZXJidG4nOwoKICAgICAgICBpZiAodGhpcy4kX3F1aWV0U3R5bGUpIHsKICAgICAgICAgICAgdGhpcy4kX3F1aWV0U3R5bGUucmVtb3ZlKCk7CiAgICAgICAgICAgIHRoaXMuJF9xdWlldFN0eWxlID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLl9pc1F1aWV0TW9kZSkgewogICAgICAgICAgICAkKHNlbGVjdG9yKS5hZGRDbGFzcygicXVpZXQtbW9kZSIpOwoKICAgICAgICAgICAgaWYgKCFpc0Nocm9tZSkgeyAgLy8gZmlyZWZveCDkuIvpmpDol4/mu5rliqjmnaEKICAgICAgICAgICAgICAgIHRoaXMuJF9xdWlldFN0eWxlID0gJCgnPHN0eWxlPicpCiAgICAgICAgICAgICAgICAgICAgLnRleHQoJ3Njcm9sbGJhciB7dmlzaWJpbGl0eTpjb2xsYXBzZSAhaW1wb3J0YW50OyB9IGJvZHkge292ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDsgb3ZlcmZsb3cteDogaGlkZGVuICFpbXBvcnRhbnQ7fScpCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKCdoZWFkJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkKHNlbGVjdG9yKS5yZW1vdmVDbGFzcygicXVpZXQtbW9kZSIpOwogICAgICAgIH0KICAgIH0sCiAgICBhZGRCdXR0b246IGZ1bmN0aW9uKCl7CiAgICAgICAgR01fYWRkU3R5bGUoJ1wKICAgICAgICAgICAgLnJlYWRlcmJ0biB7XAogICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1wKICAgICAgICAgICAgICAgIHJpZ2h0OiAxMHB4O1wKICAgICAgICAgICAgICAgIGJvdHRvbTogMTBweDtcCiAgICAgICAgICAgICAgICB6LWluZGV4OiAyMjQ3NDgzNjQ4O1wKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggNXB4O1wKICAgICAgICAgICAgICAgIHdpZHRoOiA1MHB4O1wKICAgICAgICAgICAgICAgIGhlaWdodDogMjBweDtcCiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcCiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XAogICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQ7XAogICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjODg4O1wKICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLC41KTtcCiAgICAgICAgICAgICAgICBjb2xvcjogI0ZGRjtcCiAgICAgICAgICAgICAgICBmb250OiAxMnB4LzEuNSAi5b6u6L2v6ZuF6buRIiwi5a6L5L2TIixBcmlhbDtcCiAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XAogICAgICAgICAgICB9XAogICAgICAgICcpOwoKICAgICAgICAkKCI8ZGl2PiIpCiAgICAgICAgICAgIC5hZGRDbGFzcygicmVhZGVyYnRuIikKICAgICAgICAgICAgLmh0bWwoQXBwLmlzRW5hYmxlZCA/ICLpgIDlh7oiLnVpVHJhbnMoKSA6ICLpmIXor7vmqKHlvI8iLnVpVHJhbnMoKSkKICAgICAgICAgICAgLm1vdXNlZG93bihmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICBpZihldmVudC53aGljaCA9PSAxKXsKICAgICAgICAgICAgICAgICAgICBBcHAudG9nZ2xlKCk7CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihldmVudC53aGljaCA9PSAyKXsKICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIExfc2V0VmFsdWUoIm15bm92ZXJscmVhZGVyX2Rpc2FibGVfb25jZSIsIHRydWUpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gQXBwLmFjdGl2ZVVybCB8fCBBcHAuY3VyUGFnZVVybDsKICAgICAgICAgICAgICAgICAgICBBcHAub3BlblVybCh1cmwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuYXBwZW5kVG8oJ2JvZHknKTsKICAgIH0sCiAgICBjYWxjVGl0bGVGb250U2l6ZTogZnVuY3Rpb24oY29udGVudEZvbnRTaXplU3RyKXsKICAgICAgICB2YXIgbSA9IGNvbnRlbnRGb250U2l6ZVN0ci5tYXRjaCgvKFtcZFwuXSspKHB4fGVtfHB0KS8pOwogICAgICAgIGlmKG0pIHsKICAgICAgICAgICAgdmFyIHNpemUgPSBtWzFdLAogICAgICAgICAgICAgICAgdHlwZSA9IG1bMl07CiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChzaXplLCAxMCkgKiAxLjggKyB0eXBlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGZpeE1vYmlsZTogZnVuY3Rpb24oKXsgIC8vIOiHqumAguW6lOe9kemhteiuvuiuoQogICAgICAgIHZhciBtZXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibWV0YSIpOwogICAgICAgIG1ldGEuc2V0QXR0cmlidXRlKCJuYW1lIiwgInZpZXdwb3J0Iik7CiAgICAgICAgbWV0YS5zZXRBdHRyaWJ1dGUoImNvbnRlbnQiLCAid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiKTsKICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG1ldGEpOwogICAgfSwKICAgIHByZWZlcmVuY2VzU2hvdzogZnVuY3Rpb24oZXZlbnQpewogICAgICAgIGlmKCQoIiNyZWFkZXJfcHJlZmVyZW5jZXMiKS5sZW5ndGgpewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBVSS5fbG9hZEJsb2NrZXIoKTsKCiAgICAgICAgVUkuJHByZWZzID0gJCgnPGRpdiBpZD0icmVhZGVyX3ByZWZlcmVuY2VzIj4nKQogICAgICAgICAgICAuY3NzKCdjc3NUZXh0JywgJ3Bvc2l0aW9uOmZpeGVkOyB0b3A6MTIlOyBsZWZ0OjMwJTsgd2lkdGg6NTAwcHg7IHotaW5kZXg6MzAwMDAwOycpCiAgICAgICAgICAgIC5hcHBlbmQoCiAgICAgICAgICAgICAgICAkKCc8c3R5bGU+JykudGV4dChSZXMucHJlZmVyZW5jZXNDU1MpKQogICAgICAgICAgICAuYXBwZW5kKAogICAgICAgICAgICAgICAgJCgnPGRpdiBjbGFzcz0iYm9keSI+JykuaHRtbChSZXMucHJlZmVyZW5jZXNIVE1MKSkKICAgICAgICAgICAgLmFwcGVuZFRvKCdib2R5Jyk7CgogICAgICAgIFVJLnByZWZlcmVuY2VzTG9hZEhhbmRsZXIoKTsKICAgIH0sCiAgICBfbG9hZEJsb2NrZXI6IGZ1bmN0aW9uKCkgewogICAgICAgIFVJLiRibG9ja2VyID0gJCgnPGRpdj4nKS5hdHRyKHsKICAgICAgICAgICAgaWQ6ICd1aWxfYmxvY2tlcicsCiAgICAgICAgICAgIHN0eWxlOiAncG9zaXRpb246Zml4ZWQ7dG9wOjBweDtsZWZ0OjBweDtyaWdodDowcHg7Ym90dG9tOjBweDtiYWNrZ3JvdW5kLWNvbG9yOiMwMDA7b3BhY2l0eTowLjU7ei1pbmRleDoxMDAwMDA7JwogICAgICAgIH0pLmFwcGVuZFRvKCdib2R5Jyk7CiAgICB9LAogICAgaGlkZTogZnVuY3Rpb24oKXsKICAgICAgICBpZihVSS4kcHJlZnMpIFVJLiRwcmVmcy5yZW1vdmUoKTsKICAgICAgICBpZihVSS4kYmxvY2tlcikgVUkuJGJsb2NrZXIucmVtb3ZlKCk7CiAgICAgICAgVUkuJHByZWZzID0gbnVsbDsKICAgICAgICBVSS4kYmxvY2tlciA9IG51bGw7CiAgICB9LAogICAgcHJlZmVyZW5jZXNMb2FkSGFuZGxlcjogZnVuY3Rpb24oKXsKICAgICAgICB2YXIgJGZvcm0gPSAkKCIjcHJlZmVyZW5jZXMiKTsKCiAgICAgICAgLy8gY2hlY2tib3gKICAgICAgICAkZm9ybS5maW5kKCIjZW5hYmxlLWNuMnR3IikuZ2V0KDApLmNoZWNrZWQgPSBDb25maWcuY24ydHc7CiAgICAgICAgJGZvcm0uZmluZCgiI2Rpc2FibGUtYXV0by1sYXVuY2giKS5nZXQoMCkuY2hlY2tlZCA9IENvbmZpZy5nZXREaXNhYmxlQXV0b0xhdW5jaCgpOwogICAgICAgICRmb3JtLmZpbmQoIiNib29rbGluay1lbmFibGUiKS5nZXQoMCkuY2hlY2tlZCA9IENvbmZpZy5ib29rbGlua19lbmFibGU7CiAgICAgICAgJGZvcm0uZmluZCgiI2RlYnVnIikuZ2V0KDApLmNoZWNrZWQgPSBDb25maWcuZGVidWc7CiAgICAgICAgJGZvcm0uZmluZCgiI3F1aWV0TW9kZSIpLmdldCgwKS5jaGVja2VkID0gQ29uZmlnLmlzUXVpZXRNb2RlOwogICAgICAgICRmb3JtLmZpbmQoIiNwaWMtbmlnaHRtb2RlLWNoZWNrIikuZ2V0KDApLmNoZWNrZWQgPSBDb25maWcucGljTmlnaHRNb2RlQ2hlY2s7CiAgICAgICAgJGZvcm0uZmluZCgiI2NvcHlDdXJUaXRsZSIpLmdldCgwKS5jaGVja2VkID0gQ29uZmlnLmNvcHlDdXJUaXRsZTsKCiAgICAgICAgJGZvcm0uZmluZCgiI2hpZGUtbWVudS1saXN0IikuZ2V0KDApLmNoZWNrZWQgPSBDb25maWcubWVudV9saXN0X2hpZGRkZW47CiAgICAgICAgJGZvcm0uZmluZCgiI2hpZGUtZm9vdGVyLW5hdiIpLmdldCgwKS5jaGVja2VkID0gQ29uZmlnLmhpZGVfZm9vdGVyX25hdjsKICAgICAgICAkZm9ybS5maW5kKCIjaGlkZS1wcmVmZXJlbmNlcy1idXR0b24iKS5nZXQoMCkuY2hlY2tlZCA9IENvbmZpZy5oaWRlX3ByZWZlcmVuY2VzX2J1dHRvbjsKICAgICAgICAkZm9ybS5maW5kKCIjYWRkLW5leHRwYWdlLXRvLWhpc3RvcnkiKS5nZXQoMCkuY2hlY2tlZCA9IENvbmZpZy5hZGRUb0hpc3Rvcnk7CiAgICAgICAgJGZvcm0uZmluZCgiI2VuYWJsZS1kYmxjbGljay1wYXVzZSIpLmdldCgwKS5jaGVja2VkID0gQ29uZmlnLmRibGNsaWNrUGF1c2U7CgogICAgICAgICRmb3JtLmZpbmQoIiNmb250LWZhbWlseSIpLmdldCgwKS52YWx1ZSA9IENvbmZpZy5mb250X2ZhbWlseTsKICAgICAgICAkZm9ybS5maW5kKCIjZm9udC1zaXplIikuZ2V0KDApLnZhbHVlID0gQ29uZmlnLmZvbnRfc2l6ZTsKICAgICAgICAkZm9ybS5maW5kKCIjY29udGVudF93aWR0aCIpLmdldCgwKS52YWx1ZSA9IENvbmZpZy5jb250ZW50X3dpZHRoOwogICAgICAgICRmb3JtLmZpbmQoIiN0ZXh0X2xpbmVfaGVpZ2h0IikuZ2V0KDApLnZhbHVlID0gQ29uZmlnLnRleHRfbGluZV9oZWlnaHQ7CiAgICAgICAgJGZvcm0uZmluZCgiI3NwbGl0X2NvbnRlbnQiKS5nZXQoMCkuY2hlY2tlZCA9IENvbmZpZy5zcGxpdF9jb250ZW50OwogICAgICAgICRmb3JtLmZpbmQoIiNzY3JvbGxfYW5pbWF0ZSIpLmdldCgwKS5jaGVja2VkID0gQ29uZmlnLnNjcm9sbEFuaW1hdGU7CgogICAgICAgICRmb3JtLmZpbmQoIiNyZW1haW4taGVpZ2h0IikuZ2V0KDApLnZhbHVlID0gQ29uZmlnLnJlbWFpbl9oZWlnaHQ7CiAgICAgICAgJGZvcm0uZmluZCgiI2V4dHJhX2NzcyIpLmdldCgwKS52YWx1ZSA9IENvbmZpZy5leHRyYV9jc3M7CiAgICAgICAgJGZvcm0uZmluZCgiI2N1c3RvbV9zaXRlaW5mbyIpLmdldCgwKS52YWx1ZSA9IENvbmZpZy5jdXN0b21TaXRlaW5mbzsKICAgICAgICBVSS5fcnVsZXMgPSAkZm9ybS5maW5kKCIjY3VzdG9tX3JlcGxhY2VfcnVsZXMiKS5nZXQoMCkudmFsdWUgPSBDb25maWcuY3VzdG9tUmVwbGFjZVJ1bGVzOwoKICAgICAgICAvLyDnlYzpnaLor63oqIAKICAgICAgICB2YXIgJGxhbmcgPSAkZm9ybS5maW5kKCIjbGFuZyIpOwogICAgICAgICQoIjxvcHRpb24+IikudGV4dCgiemgtQ04iKS5hcHBlbmRUbygkbGFuZyk7CiAgICAgICAgJCgiPG9wdGlvbj4iKS50ZXh0KCJ6aC1UVyIpLmFwcGVuZFRvKCRsYW5nKTsKICAgICAgICAkbGFuZy52YWwoQ29uZmlnLmxhbmcpLmNoYW5nZShmdW5jdGlvbigpewogICAgICAgICAgICB2YXIga2V5ID0gJCh0aGlzKS5maW5kKCJvcHRpb246c2VsZWN0ZWQiKS50ZXh0KCk7CiAgICAgICAgICAgIENvbmZpZy5sYW5nID0ga2V5OwogICAgICAgIH0pOwoKICAgICAgICAvLyDnmq7ogqQKICAgICAgICB2YXIgJHNraW4gPSAkZm9ybS5maW5kKCIjc2tpbiIpOwogICAgICAgIGZvcih2YXIga2V5IGluIFVJLnNraW5zKXsKICAgICAgICAgICAgJCgiPG9wdGlvbj4iKS50ZXh0KGtleSkuYXBwZW5kVG8oJHNraW4pOwogICAgICAgIH0KICAgICAgICAkc2tpbi52YWwoQ29uZmlnLnNraW5fbmFtZSkuY2hhbmdlKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBrZXkgPSAkKHRoaXMpLmZpbmQoIm9wdGlvbjpzZWxlY3RlZCIpLnRleHQoKTsKICAgICAgICAgICAgVUkucmVmcmVzaFNraW5TdHlsZShrZXkpOwogICAgICAgICAgICBDb25maWcuc2tpbl9uYW1lID0ga2V5OwogICAgICAgIH0pOwoKICAgICAgICAvLyDlrZfkvZPlpKflsI/nrYnpooTop4gKICAgICAgICB2YXIgcHJldmlldyA9IF8uZGVib3VuY2UoZnVuY3Rpb24oKXsKICAgICAgICAgICAgc3dpdGNoKHRoaXMuaWQpewogICAgICAgICAgICAgICAgY2FzZSAiZm9udC1zaXplIjoKICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGVGb250U2l6ZSA9IFVJLmNhbGNUaXRsZUZvbnRTaXplKHRoaXMudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGlmKHRpdGxlRm9udFNpemUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgVUkuJGNvbnRlbnQuY3NzKCJmb250LXNpemUiLCB0aGlzLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgVUkuJGNvbnRlbnQuZmluZCgiaDEiKS5jc3MoImZvbnQtc2l6ZSIsIHRpdGxlRm9udFNpemUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgImZvbnQtZmFtaWx5IjoKICAgICAgICAgICAgICAgICAgICBVSS4kY29udGVudC5jc3MoImZvbnQtZmFtaWx5IiwgdGhpcy52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICJjb250ZW50X3dpZHRoIjoKICAgICAgICAgICAgICAgICAgICBVSS4kY29udGVudC5jc3MoIndpZHRoIiwgdGhpcy52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICJ0ZXh0X2xpbmVfaGVpZ2h0IjoKICAgICAgICAgICAgICAgICAgICBVSS4kY29udGVudC5jc3MoImxpbmUtaGVpZ2h0IiwgdGhpcy52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfSwgMzAwKTsKICAgICAgICAkZm9ybS5vbigiaW5wdXQiLCAiaW5wdXQiLCBwcmV2aWV3KTsKCiAgICAgICAgLy8g5Yid5aeL5YyW6K6+572u5oyJ6ZSuCiAgICAgICAgJGZvcm0uZmluZCgiI3F1aWV0TW9kZUtleSIpLmdldCgwKS52YWx1ZSA9IENvbmZpZy5xdWlldE1vZGVLZXk7CiAgICAgICAgJGZvcm0uZmluZCgiI29wZW5QcmVmZXJlbmNlc0tleSIpLmdldCgwKS52YWx1ZSA9IENvbmZpZy5vcGVuUHJlZmVyZW5jZXNLZXk7CiAgICAgICAgJGZvcm0uZmluZCgiI3NldEhpZGVNZW51TGlzdEtleSIpLmdldCgwKS52YWx1ZSA9IENvbmZpZy5oaWRlTWVudUxpc3RLZXk7CgogICAgICAgIC8vIOeCueWHu+S6i+S7tgogICAgICAgICRmb3JtLm9uKCdjbGljaycsICdpbnB1dDpjaGVja2JveCwgaW5wdXQ6YnV0dG9uJywgZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICBVSS5wcmVmZXJlbmNlc0NsaWNrSGFuZGxlcihldmVudC50YXJnZXQpOwogICAgICAgIH0pOwogICAgfSwKICAgIHByZWZlcmVuY2VzQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbih0YXJnZXQpewogICAgICAgIHZhciBrZXk7CiAgICAgICAgc3dpdGNoICh0YXJnZXQuaWQpIHsKICAgICAgICAgICAgY2FzZSAnY2xvc2VfYnV0dG9uJzoKICAgICAgICAgICAgICAgIFVJLnByZWZlcmVuY2VzQ2xvc2VIYW5kbGVyKCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnc2F2ZV9idXR0b24nOgogICAgICAgICAgICAgICAgVUkucHJlZmVyZW5jZXNTYXZlSGFuZGxlcigpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ2RlYnVnJzoKICAgICAgICAgICAgICAgIENvbmZpZy5kZWJ1ZyA9ICFDb25maWcuZGVidWc7CiAgICAgICAgICAgICAgICB0b2dnbGVDb25zb2xlKENvbmZpZy5kZWJ1Zyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAncXVpZXRNb2RlJzoKICAgICAgICAgICAgICAgIFVJLnRvZ2dsZVF1aWV0TW9kZSh0YXJnZXQuY2hlY2tlZCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnaGlkZS1tZW51LWxpc3QnOgogICAgICAgICAgICAgICAgVUkuaGlkZU1lbnVMaXN0KHRhcmdldC5jaGVja2VkKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdoaWRlLXByZWZlcmVuY2VzLWJ1dHRvbic6CiAgICAgICAgICAgICAgICBVSS5oaWRlUHJlZmVyZW5jZXNCdXR0b24odGFyZ2V0LmNoZWNrZWQpOwogICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+makOiXj+WQjumAmui/h+W/q+aNt+mUruaIliBHcmVhc2Vtb25rZXkg55So5oi36ISa5pys5ZG95Luk5aSE6LCD55SoJy51aVRyYW5zKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ2hpZGUtZm9vdGVyLW5hdic6CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAncXVpZXRNb2RlS2V5JzoKICAgICAgICAgICAgICAgIGtleSA9IHByb21wdCgn6K+36L6T5YWl5omT5byA6K6+572u55qE5b+r5o236ZSu77yaJy51aVRyYW5zKCksIENvbmZpZy5xdWlldE1vZGVLZXkpOwogICAgICAgICAgICAgICAgaWYgKGtleSkgewogICAgICAgICAgICAgICAgICAgIENvbmZpZy5xdWlldE1vZGVLZXkgPSBrZXk7CiAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLnZhbChrZXkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ29wZW5QcmVmZXJlbmNlc0tleSc6CiAgICAgICAgICAgICAgICBrZXkgPSBwcm9tcHQoJ+ivt+i+k+WFpeaJk+W8gOiuvue9rueahOW/q+aNt+mUru+8micudWlUcmFucygpLCBDb25maWcub3BlblByZWZlcmVuY2VzS2V5KTsKICAgICAgICAgICAgICAgIGlmIChrZXkpIHsKICAgICAgICAgICAgICAgICAgICBDb25maWcub3BlblByZWZlcmVuY2VzS2V5ID0ga2V5OwogICAgICAgICAgICAgICAgICAgICQodGFyZ2V0KS52YWwoa2V5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdzZXRIaWRlTWVudUxpc3RLZXknOgogICAgICAgICAgICAgICAga2V5ID0gcHJvbXB0KCfor7fovpPlhaXliIfmjaLlt6bkvqfnq6DoioLliJfooajnmoTlv6vmjbfplK7vvJonLnVpVHJhbnMoKSwgQ29uZmlnLmhpZGVNZW51TGlzdEtleSk7CiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7CiAgICAgICAgICAgICAgICAgICAgQ29uZmlnLmhpZGVNZW51TGlzdEtleSA9IGtleTsKICAgICAgICAgICAgICAgICAgICAkKHRhcmdldCkudmFsKGtleSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnc2F2ZUFzVHh0JzoKICAgICAgICAgICAgICAgIEFwcC5zYXZlQXNUeHQoKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfSwKICAgIHByZWZlcmVuY2VzQ2xvc2VIYW5kbGVyOiBmdW5jdGlvbigpewogICAgICAgIC8vIFVJLiRjb250ZW50LnJlbW92ZUF0dHIoInN0eWxlIik7CiAgICAgICAgVUkuJGNvbnRlbnQuZmluZCgiaDEiKS5jc3MoImZvbnQtc2l6ZSIsICIiKTsKCiAgICAgICAgVUkuaGlkZSgpOwogICAgfSwKICAgIHByZWZlcmVuY2VzU2F2ZUhhbmRsZXI6IGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyICRmb3JtID0gJCgiI3ByZWZlcmVuY2VzIik7CgogICAgICAgIENvbmZpZy5zZXREaXNhYmxlQXV0b0xhdW5jaCgkZm9ybS5maW5kKCIjZGlzYWJsZS1hdXRvLWxhdW5jaCIpLmdldCgwKS5jaGVja2VkKTsKCiAgICAgICAgQ29uZmlnLmNuMnR3ID0gJGZvcm0uZmluZCgiI2VuYWJsZS1jbjJ0dyIpLmdldCgwKS5jaGVja2VkOwogICAgICAgIENvbmZpZy5ib29rbGlua19lbmFibGUgPSAkZm9ybS5maW5kKCIjYm9va2xpbmstZW5hYmxlIikuZ2V0KDApLmNoZWNrZWQ7CiAgICAgICAgQ29uZmlnLmlzUXVpZXRNb2RlID0gJGZvcm0uZmluZCgiI3F1aWV0TW9kZSIpLmdldCgwKS5jaGVja2VkOwogICAgICAgIENvbmZpZy5kZWJ1ZyA9ICRmb3JtLmZpbmQoIiNkZWJ1ZyIpLmdldCgwKS5jaGVja2VkOwogICAgICAgIENvbmZpZy5waWNOaWdodE1vZGVDaGVjayA9ICRmb3JtLmZpbmQoIiNwaWMtbmlnaHRtb2RlLWNoZWNrIikuZ2V0KDApLmNoZWNrZWQ7CiAgICAgICAgQ29uZmlnLnNldENvcHlDdXJUaXRsZSgkZm9ybS5maW5kKCIjY29weUN1clRpdGxlIikuZ2V0KDApLmNoZWNrZWQpOwoKICAgICAgICBDb25maWcuYWRkVG9IaXN0b3J5ID0gJGZvcm0uZmluZCgiI2FkZC1uZXh0cGFnZS10by1oaXN0b3J5IikuZ2V0KDApLmNoZWNrZWQ7CiAgICAgICAgQ29uZmlnLmRibGNsaWNrUGF1c2UgPSAkZm9ybS5maW5kKCIjZW5hYmxlLWRibGNsaWNrLXBhdXNlIikuZ2V0KDApLmNoZWNrZWQ7CgogICAgICAgIHZhciBza2luTmFtZSA9ICRmb3JtLmZpbmQoIiNza2luIikuZmluZCgib3B0aW9uOnNlbGVjdGVkIikudGV4dCgpOwogICAgICAgIENvbmZpZy5za2luX25hbWUgPSBza2luTmFtZTsKICAgICAgICBVSS5yZWZyZXNoU2tpblN0eWxlKHNraW5OYW1lKTsKCiAgICAgICAgQ29uZmlnLmZvbnRfZmFtaWx5ID0gJGZvcm0uZmluZCgiI2ZvbnQtZmFtaWx5IikuZ2V0KDApLnZhbHVlOwogICAgICAgIFVJLiRjb250ZW50LmNzcygiZm9udC1mYW1pbHkiLCBDb25maWcuZm9udF9mYW1pbHkpOwoKICAgICAgICBDb25maWcuZm9udF9zaXplID0gJGZvcm0uZmluZCgiI2ZvbnQtc2l6ZSIpLmdldCgwKS52YWx1ZTsKICAgICAgICBDb25maWcudGV4dF9saW5lX2hlaWdodCA9ICRmb3JtLmZpbmQoIiN0ZXh0X2xpbmVfaGVpZ2h0IikuZ2V0KDApLnZhbHVlOwogICAgICAgIENvbmZpZy5jb250ZW50X3dpZHRoID0gJGZvcm0uZmluZCgiI2NvbnRlbnRfd2lkdGgiKS5nZXQoMCkudmFsdWU7CiAgICAgICAgQ29uZmlnLnJlbWFpbl9oZWlnaHQgPSAkZm9ybS5maW5kKCIjcmVtYWluLWhlaWdodCIpLmdldCgwKS52YWx1ZTsKICAgICAgICBDb25maWcuc3BsaXRfY29udGVudCA9ICRmb3JtLmZpbmQoIiNzcGxpdF9jb250ZW50IikuZ2V0KDApLmNoZWNrZWQ7CiAgICAgICAgQ29uZmlnLnNjcm9sbEFuaW1hdGUgPSAkZm9ybS5maW5kKCIjc2Nyb2xsX2FuaW1hdGUiKS5nZXQoMCkuY2hlY2tlZDsKCiAgICAgICAgQ29uZmlnLm1lbnVfbGlzdF9oaWRkZGVuID0gJGZvcm0uZmluZCgiI2hpZGUtbWVudS1saXN0IikuZ2V0KDApLmNoZWNrZWQ7CiAgICAgICAgVUkuaGlkZU1lbnVMaXN0KENvbmZpZy5tZW51X2xpc3RfaGlkZGRlbik7CgogICAgICAgIENvbmZpZy5oaWRlX2Zvb3Rlcl9uYXYgPSAkZm9ybS5maW5kKCIjaGlkZS1mb290ZXItbmF2IikuZ2V0KDApLmNoZWNrZWQ7CiAgICAgICAgQ29uZmlnLmhpZGVfcHJlZmVyZW5jZXNfYnV0dG9uID0gJGZvcm0uZmluZCgiI2hpZGUtcHJlZmVyZW5jZXMtYnV0dG9uIikuZ2V0KDApLmNoZWNrZWQ7CgogICAgICAgIHZhciBjc3MgPSAkZm9ybS5maW5kKCIjZXh0cmFfY3NzIikuZ2V0KDApLnZhbHVlOwogICAgICAgIFVJLnJlZnJlc2hFeHRyYVN0eWxlKGNzcyk7CiAgICAgICAgQ29uZmlnLmV4dHJhX2NzcyA9IGNzczsKCiAgICAgICAgQ29uZmlnLmN1c3RvbVNpdGVpbmZvID0gJGZvcm0uZmluZCgiI2N1c3RvbV9zaXRlaW5mbyIpLmdldCgwKS52YWx1ZTsKCiAgICAgICAgLy8g6Ieq5a6a5LmJ5pu/5o2i6KeE5YiZ55u05o6l55Sf5pWICiAgICAgICAgdmFyIHJ1bGVzID0gJGZvcm0uZmluZCgiI2N1c3RvbV9yZXBsYWNlX3J1bGVzIikuZ2V0KDApLnZhbHVlOwogICAgICAgIENvbmZpZy5jdXN0b21SZXBsYWNlUnVsZXMgPSBydWxlczsKICAgICAgICBpZiAocnVsZXMgIT0gVUkuX3J1bGVzKSB7CiAgICAgICAgICAgIHZhciBjb250ZW50SHRtbCA9IEFwcC5vQXJ0aWNsZXMuam9pbignXG4nKTsKICAgICAgICAgICAgaWYgKHJ1bGVzKSB7CiAgICAgICAgICAgICAgICAvLyDovazmjaLop4TliJkKICAgICAgICAgICAgICAgIHJ1bGVzID0gUnVsZS5wYXJzZUN1c3RvbVJlcGxhY2VSdWxlcyhydWxlcyk7CiAgICAgICAgICAgICAgICAvLyDmm7/mjaIKICAgICAgICAgICAgICAgIGNvbnRlbnRIdG1sID0gUGFyc2VyLnByb3RvdHlwZS5yZXBsYWNlSHRtbChjb250ZW50SHRtbCwgcnVsZXMpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBVSS4kY29udGVudC5odG1sKGNvbnRlbnRIdG1sKTsKCiAgICAgICAgICAgIEFwcC5yZXNldENhY2hlKCk7CgogICAgICAgICAgICBVSS5fcnVsZXMgPSBydWxlczsKICAgICAgICB9CgogICAgICAgIFVJLmhpZGUoKTsKICAgIH0sCiAgICBvcGVuSGVscDogZnVuY3Rpb24oKSB7CgogICAgfSwKICAgIG5vdGljZTogZnVuY3Rpb24gKGh0bWxUZXh0KXsKICAgICAgICB2YXIgJG5vdGljZURpdiA9ICQoIiNhbGVydCIpOwoKICAgICAgICBjbGVhclRpbWVvdXQoVUkubm90aWNlRGl2dG8pOwogICAgICAgICRub3RpY2VEaXYuZmluZCgicCIpLmh0bWwoaHRtbFRleHQpOwogICAgICAgICRub3RpY2VEaXYuZmFkZUluKCJmYXN0Iik7CgogICAgICAgIFVJLm5vdGljZURpdnRvID0gc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAkbm90aWNlRGl2LmZhZGVPdXQoNTAwKTsKICAgICAgICB9LCAxNjY2KTsKCiAgICAgICAgcmV0dXJuICRub3RpY2VEaXY7CiAgICB9Cn07CgpVSS5za2luc1si57y655yB55qu6IKkIi51aVRyYW5zKCldID0gIiI7ClVJLnNraW5zWyLmmpfoibLnmq7ogqQiLnVpVHJhbnMoKV0gPSAiYm9keSB7IGNvbG9yOiAjNjY2OyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDA7MDswOy4xKTsgfVwKICAgICAgICAgICAgICAgIC50aXRsZSB7IGNvbG9yOiAjMjIyOyB9IjsKVUkuc2tpbnNbIueZveW6lem7keWtlyIudWlUcmFucygpXSA9ICJib2R5IHsgY29sb3I6IGJsYWNrOyBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTt9XAogICAgICAgICAgICAgICAgLnRpdGxlIHsgZm9udC13ZWlnaHQ6IGJvbGQ7IGJvcmRlci1ib3R0b206IDAuMWVtIHNvbGlkOyBtYXJnaW4tYm90dG9tOiAxLjg1N2VtOyBwYWRkaW5nLWJvdHRvbTogMC44NTdlbTt9IjsKVUkuc2tpbnNbIuWknOmXtOaooeW8jyIudWlUcmFucygpXSA9ICJib2R5IHsgY29sb3I6ICM5MzkzOTI7IGJhY2tncm91bmQ6ICMyZDJkMmQ7IH0gI3ByZWZlcmVuY2VzQnRuIHsgYmFja2dyb3VuZDogd2hpdGU7IH0gI215bm92ZWxyZWFkZXItY29udGVudCBpbWcgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjYzBjMGMwOyB9IC5jaGFwdGVyLmFjdGl2ZSBkaXZ7Y29sb3I6ICM5MzkzOTI7fSI7ClVJLnNraW5zWyLlpJzpl7TmqKHlvI8xIi51aVRyYW5zKCldID0gImJvZHkgeyBjb2xvcjogIzY3OTsgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7IH0gI3ByZWZlcmVuY2VzQnRuIGltZyB7IGJhY2tncm91bmQtY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7IH0gLnRpdGxlIHsgY29sb3I6ICMzMzk5RkY7IGJhY2tncm91bmQtY29sb3I6ICMxMjEyMTI7IH0iOwpVSS5za2luc1si5aSc6Ze05qih5byPMiIudWlUcmFucygpXSA9ICJib2R5IHsgY29sb3I6ICNBQUFBQUE7IGJhY2tncm91bmQtY29sb3I6ICMxMjEyMTI7IH0gI3ByZWZlcmVuY2VzQnRuIGltZyB7IGJhY2tncm91bmQtY29sb3I6IHdoaXRlOyB9ICNteW5vdmVscmVhZGVyLWNvbnRlbnQgaW1nIHsgYmFja2dyb3VuZC1jb2xvcjogI2MwYzBjMDsgfSAudGl0bGUgeyBjb2xvcjogIzMzOTlGRjsgYmFja2dyb3VuZC1jb2xvcjogIzEyMTIxMjsgfSAgIGJvZHkgYSB7IGNvbG9yOiAjRTBCQzJEOyB9IGJvZHkgYTpsaW5rIHsgY29sb3I6ICNFMEJDMkQ7IH0gYm9keSBhOnZpc2l0ZWQgeyBjb2xvcjojQUFBQUFBOyB9IGJvZHkgYTpob3ZlciB7IGNvbG9yOiAjMzM5OUZGOyB9IGJvZHkgYTphY3RpdmUgeyBjb2xvcjogIzQyM0YzRjsgfSI7Ci8vIFVJLnNraW5zWyLlpJzpl7TmqKHlvI/vvIjlpJrnnIvvvIkiLnVpVHJhbnMoKV0gPSAiYm9keSB7IGNvbG9yOiAjM0E1MDU2OyBiYWNrZ3JvdW5kOiAjMTAxODE5OyB9ICNwcmVmZXJlbmNlc0J0biB7IGJhY2tncm91bmQ6IHdoaXRlOyB9ICNteW5vdmVscmVhZGVyLWNvbnRlbnQgaW1nIHsgYmFja2dyb3VuZC1jb2xvcjogI2MwYzBjMDsgfSI7ClVJLnNraW5zWyLlpJzpl7TmqKHlvI/vvIjlpJrnnIvvvIkiLnVpVHJhbnMoKV0gPSAiYm9keSB7IGNvbG9yOiAjNEE0QTRBOyBiYWNrZ3JvdW5kOiAjMTAxODE5OyB9ICNwcmVmZXJlbmNlc0J0biB7IGJhY2tncm91bmQ6IHdoaXRlOyB9ICNteW5vdmVscmVhZGVyLWNvbnRlbnQgaW1nIHsgYmFja2dyb3VuZC1jb2xvcjogI2MwYzBjMDsgfSI7CgpVSS5za2luc1si5qmZ6Imy6IOM5pmvIi51aVRyYW5zKCldID0gImJvZHkgeyBjb2xvcjogIzI0MjcyYzsgYmFja2dyb3VuZC1jb2xvcjogI0ZFRjBFMTsgfSI7ClVJLnNraW5zWyLnu7/oibLog4zmma8iLnVpVHJhbnMoKV0gPSAiYm9keSB7IGNvbG9yOiBibGFjazsgYmFja2dyb3VuZC1jb2xvcjogI2Q4ZTJjODsgfSI7ClVJLnNraW5zWyLnu7/oibLog4zmma8yIi51aVRyYW5zKCldID0gImJvZHkgeyBjb2xvcjogYmxhY2s7IGJhY2tncm91bmQtY29sb3I6ICNDQ0U4Q0Y7IH0iOwpVSS5za2luc1si6JOd6Imy6IOM5pmvIi51aVRyYW5zKCldID0gImJvZHkgeyBjb2xvcjogYmxhY2s7IGJhY2tncm91bmQtY29sb3I6ICNFN0Y0RkU7IH0iOwpVSS5za2luc1si5qOV6buE6IOM5pmvIi51aVRyYW5zKCldID0gImJvZHkgeyBjb2xvcjogYmxhY2s7IGJhY2tncm91bmQtY29sb3I6ICNDMkE4ODY7IH0iOwpVSS5za2luc1si57uP5YW455qu6IKkIi51aVRyYW5zKCldID0gImJvZHkgeyBjb2xvcjogYmxhY2s7IGJhY2tncm91bmQtY29sb3I6ICNFQUVBRUU7IH0gLnRpdGxlIHsgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDsgfSI7CgoKdmFyIGZvbnRhd2Vzb21lV29mZiA9IEdNX2dldFJlc291cmNlVVJMKCdmb250YXdlc29tZVdvZmYnKTsKaWYgKCFmb250YXdlc29tZVdvZmYgfHwgZm9udGF3ZXNvbWVXb2ZmLmxlbmd0aCA8IDEwKSB7CiAgICBmb250YXdlc29tZVdvZmYgPSAiaHR0cDovL2xpYnMuYmFpZHUuY29tL2ZvbnRhd2Vzb21lLzQuMC4zL2ZvbnRzL2ZvbnRhd2Vzb21lLXdlYmZvbnQud29mZj92PTQuMC4zIjsKfSBlbHNlIGlmIChpc0Nocm9tZSkgewogICAgZm9udGF3ZXNvbWVXb2ZmID0gImRhdGE6Zm9udC93b2ZmO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCIgKyBmb250YXdlc29tZVdvZmY7Cn0KCnZhciBSZXMgPSB7CiAgICBDU1NfTUFJTjogJ0Bmb250LWZhY2Uge1xuICAgIGZvbnQtZmFtaWx5OiAiRm9udEF3ZXNvbWUiO1xuICAgIHNyYzogdXJsKHtmb250YXdlc29tZVdvZmZ9KTtcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbn1cbmJvZHkgPiBhIHsgZGlzcGxheTpub25lICFpbXBvcnRhbnQ7IH1cbi5oaWRkZW4ge1xuICAgIGRpc3BsYXk6IG5vbmU7XG59XG4ucXVpZXQtbW9kZSB7XG4gICAgZGlzcGxheTogbm9uZTtcbn1cbmJvZHkge1xuICAgIGJhY2tncm91bmQ6ICNGM0YyRUU7XG4gICAgY29sb3I6ICMxRjA5MDk7XG4gICAgcGFkZGluZzogMHB4O1xuICAgIG1hcmdpbjogMHB4O1xuICAgIGZvbnQtZmFtaWx5OiAiTWljcm9zb2Z0IFlhSGVpIFVJIiwg5b6u6L2v6ZuF6buRLCDmlrDlrovkvZMsIOWui+S9kywgYXJpYWw7XG59XG5hIHsgY29sb3I6ICMwNjU0ODg7IH1cbmE6bGluayB7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgfVxuI215bm92ZWxyZWFkZXItY29udGVudCB7XG4gICAgd2lkdGg6IHtjb250ZW50X3dpZHRofTtcbiAgICBmb250LXNpemU6IHtmb250X3NpemV9O1xuICAgIGZvbnQtZmFtaWx5OiB7Zm9udF9mYW1pbHl9O1xuICAgIGxpbmUtaGVpZ2h0OiB7dGV4dF9saW5lX2hlaWdodH07XG4gICAgbWFyZ2luLWxlZnQ6YXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6YXV0bztcbiAgICBwYWRkaW5nLWJvdHRvbTogMTVweDtcbn1cbmFydGljbGUge1xuICAgIG1hcmdpbi10b3A6IDU1cHg7XG4gICAgd29yZC13cmFwOiBicmVhay13b3JkO1xufVxuYXJ0aWNsZSBoMSB7XG4gICAgY2xlYXI6IGJvdGg7XG4gICAgbGluZS1oZWlnaHQ6IDUwcHg7XG4gICAgZm9udC1zaXplOiB7dGl0bGVfZm9udF9zaXplfTtcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgIG1hcmdpbjogMjVweCAtMjBweDtcbiAgICBwYWRkaW5nOiAwIDIwcHggMTBweDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLDAsMCwuMjUpO1xuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG59XG4uY2hhcHRlci1mb290ZXItbmF2IHtcbiAgICB0ZXh0LWFsaWduOmNlbnRlcjtcbiAgICBmb250LXNpemU6MC45ZW07XG4gICAgbWFyZ2luOi0xMHB4IDBweCAzMHB4IDBweDtcbn1cbiNsb2FkaW5nIHtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQ6IDEycHggIuW+rui9r+mbhem7kSIsICLlrovkvZMiLCAiVGltZXMgTmV3IFJvbWFuIiwgIlZlcmRhbmEiO1xuICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICAgIHdpZHRoOiAzNzZweDtcbiAgICBoZWlnaHQ6IDMycHg7XG4gICAgbGluZS1oZWlnaHQ6IDMycHg7XG4gICAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNjY2O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XG59XG4jbG9hZGluZyBpbWcge1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG4jbG9hZGluZyBhIHtcbiAgICBjb2xvcjogd2hpdGU7XG59XG4jcHJlZmVyZW5jZXNCdG57XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMTBweDtcbiAgICByaWdodDogMTBweDtcbiAgICB6LWluZGV4OiAxNTk3O1xufVxuI2FsZXJ0IHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgei1pbmRleDogMTAwO1xuICAgIGZsb2F0OiBhdXRvO1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIGhlaWdodDogYXV0bztcbiAgICB0b3A6IDEwcHg7XG4gICAgbGVmdDogNTAwcHg7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyMTUsIDI0MCwgMjUzLCAwLjY1KTtcbiAgICBjb2xvcjogIzJkNzA5MTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDQ1LDExMiwxNDUsMC4zKTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgdGV4dC1zaGFkb3c6IDAgMXB4IDAgI2ZmZjtcbn1cbiNhbGVydCBwIHtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgbWFyZ2luOiA2cHg7XG59XG5pbWcuYmxvY2tJbWFnZSB7Y2xlYXI6IGJvdGg7ZmxvYXQ6IG5vbmU7ZGlzcGxheTogYmxvY2s7bWFyZ2luLWxlZnQ6IGF1dG87bWFyZ2luLXJpZ2h0OiBhdXRvO31cbiNtZW51LWJhciB7XG4gICAgYm9yZGVyOiBzb2xpZCByZ2JhKDAsIDEwMCwgMjU1LCAuOSk7XG4gICAgYm9yZGVyLXdpZHRoOiAzcHggMnB4IDNweCAwcHg7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIGxlZnQ6IDBweDtcbiAgICB0b3A6IDQwJTtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIHdpZHRoOiAycHg7XG4gICAgei1pbmRleDogMTk5O1xuICAgIHttZW51LWJhci1oaWRkZW59XG59XG4jbWVudS1iYXIgeyBcbiAgICB0b3A6IDBweDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDFweDtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXI6IG5vbmU7XG59XG4jbWVudSB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgICB6LWluZGV4OiAxMDA7XG4gICAgd2lkdGg6IDI3MHB4O1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kOiAjMzMzO1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG59XG4jbWVudTphZnRlciB7XG4gICAgY29udGVudDogIiI7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNDZweDtcbiAgICBib3R0b206IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgd2lkdGg6IDFweDtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuNik7XG4gICAgYm94LXNoYWRvdzogMCAwIDVweCAycHggcmdiYSgwLDAsMCwwLjYpO1xufVxuI2hlYWRlcntcbiAgICBjb2xvcjogIzc3NztcbiAgICBtYXJnaW4tdG9wOiAwO1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMyk7XG4gICAgYmFja2dyb3VuZDogIzQwNDA0MDtcbiAgICBib3gtc2hhZG93OiBpbnNldCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsMC4wNSk7XG4gICAgdGV4dC1zaGFkb3c6IDAgMXB4IDAgcmdiYSgwLDAsMCwwLjUpO1xuICAgIHBhZGRpbmc6IDEwcHggMTJweDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbn1cbiNoZWFkZXIgYSB7XG4gICAgY29sb3I6ICM3Nzc3Nzc7XG59XG4jZGl2aWRlciB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDMwMDtcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjAxKTtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLDAsMCwwLjMpO1xuICAgIG1hcmdpbjogMDtcbiAgICBoZWlnaHQ6IDRweDtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuMik7XG4gICAgYm94LXNoYWRvdzogMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LDAuMDUpLCBpbnNldCAwIDFweCAzcHggcmdiYSgwLDAsMCwwLjMpO1xufVxuI2NoYXB0ZXItbGlzdCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGJvdHRvbTogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIHotaW5kZXg6IDIwMDtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xufVxuLmNoYXB0ZXIge1xuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG59XG4uY2hhcHRlcjpsYXN0LWNoaWxkIHtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLDAsMCwwLjMpO1xuICAgIGJveC1zaGFkb3c6IDAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjA1KTtcbn1cbi5jaGFwdGVyIGRpdiB7XG4gICAgY29sb3I6ICNjY2M7XG4gICAgZm9udC1zaXplOiAxNXB4O1xuICAgIHBhZGRpbmc6IDhweCAyMHB4O1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMyk7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LDAuMDUpO1xuICAgIHRleHQtc2hhZG93OiAwIDFweCAwIHJnYmEoMCwwLDAsMC41KTtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cbi5jaGFwdGVyIGRpdjpiZWZvcmUge1xuICAgIGNvbnRlbnQ6ICJcXGYxMDUiO1xuICAgIHdpZHRoOiAyMHB4O1xuICAgIG1hcmdpbi1sZWZ0OiAtMTBweDtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBmb250LWZhbWlseTogIkZvbnRBd2Vzb21lIiAhaW1wb3J0YW50O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5jaGFwdGVyIGRpdjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogIzQwNDA0MDtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBvdXRsaW5lOiAwO1xufVxuLmNoYXB0ZXIuYWN0aXZlIGRpdiB7XG4gICAgYmFja2dyb3VuZDogIzFhMWExYTtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAxcHggM3B4IHJnYmEoMCwwLDAsMC4zKTtcbn1cbjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgIGhlaWdodDogOXB4ICFpbXBvcnRhbnQ7XG4gICAgd2lkdGg6IDlweCAhaW1wb3J0YW50O1xufVxuOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzdEN0Q3RCAhaW1wb3J0YW50O1xuICAgIGJvcmRlci1yYWRpdXM6IDNweCAhaW1wb3J0YW50O1xufVxuOjotd2Via2l0LXNjcm9sbGJhci10cmFjay1waWVjZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwuMjUpICFpbXBvcnRhbnQ7XG59JwogICAgICAgIC5yZXBsYWNlKCd7Zm9udGF3ZXNvbWVXb2ZmfScsIGZvbnRhd2Vzb21lV29mZiksCgogICAgcHJlZmVyZW5jZXNIVE1MOiAnPGZvcm0gaWQ9InByZWZlcmVuY2VzIiBuYW1lPSJwcmVmZXJlbmNlcyI+XG4gICAgPGRpdiBpZD0ic2V0dGluZ190YWJsZTEiPlxuICAgICAgICA8c3BhbiBpZD0idG9wLWJ1dHRvbnMiPlxuICAgICAgICAgICAgPGlucHV0IHRpdGxlPSLpg6jliIbpgInpobnpnIDopoHliLfmlrDpobXpnaLmiY3og73nlJ/mlYgiIGlkPSJzYXZlX2J1dHRvbiIgdmFsdWU9IuKImiDnoa7orqQiIHR5cGU9ImJ1dHRvbiI+XG4gICAgICAgICAgICA8aW5wdXQgdGl0bGU9IuWPlua2iOacrOasoeiuvuWumu+8jOaJgOaciemAiemhuei/mOWOnyIgaWQ9ImNsb3NlX2J1dHRvbiIgdmFsdWU9Ilgg5Y+W5raIIiB0eXBlPSJidXR0b24iPlxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tcm93Ij5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICDnlYzpnaLor63oqIA8c2VsZWN0IGlkPSJsYW5nIj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgdGl0bGU9IuWwhuWwj+ivtOe9kemhteaWh+acrOi9rOaNouS4uue5geS9k+OAglxcblxcbuazqOaEj++8muWGhee9rueahOe5geeugOi9rOaNouihqO+8jOWPquaUtuW9leS6hueugOWNleeahOWNleWtl+i9rOaNou+8jOWQr+eUqOacrOWKn+iDveWQju+8jOWmguaciemUmeivr+i9rOaNoueahOaDheW9ou+8jOivt+WIqeeUqOiEmuacrOeahOiHquiuouWtl+ivjeWPluS7o+inhOWImeadpeS/ruato+OAglxcbuS+i+Wmgu+8muOAjOWNg+mHjOS5i+WkluOAje+8jOS8mumUmeivr+i9rOaNouaIkOOAjOWNg+mHjOS5i+WkluOAje+8jOS9oOWPr+S7peWKoOWFpeinhOWImeOAjOWNg+mHjOS5i+Wklj3ljYPph4zkuYvlpJbjgI3mnaXoh6rooYzkv67mraPjgIIiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImVuYWJsZS1jbjJ0dyIgbmFtZT0iZW5hYmxlLWNuMnR3Ii8+572R6aG177ya6L2s57mB5L2TXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsIGlkPSJxdWlldE1vZGUiIGNsYXNzPSJyaWdodCIgdGl0bGU9IumakOiXj+WFtuS7lu+8jOWPquS/neeVmeato+aWh++8jOmAgueUqOS6juWFqOWxj+eKtuaAgeS4iyI+XG4gICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJrZXkiIHR5cGU9ImJ1dHRvbiIgaWQ9InF1aWV0TW9kZUtleSIvPuWuiemdmeaooeW8j1xuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tcm93Ij5cbiAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0i5LiN5b2x5ZONIGJvb2tsaW5rLm1lIOeahOWQr+eUqCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iZGlzYWJsZS1hdXRvLWxhdW5jaCIgbmFtZT0iZGlzYWJsZS1hdXRvLWxhdW5jaCIvPuW8uuWItuaJi+WKqOWQr+eUqFxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0iYm9va2xpbmsubWUg54K55Ye755qE572R56uZ5by65Yi25ZCv55SoIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJib29rbGluay1lbmFibGUiIG5hbWU9ImJvb2tsaW5rLWVuYWJsZSIvPmJvb2tsaW5rIOiHquWKqOWQr+eUqFxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJkZWJ1ZyIgbmFtZT0iZGVidWciLz7osIPor5XmqKHlvI9cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8YSBocmVmPSJodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMjkyLW15LW5vdmVsLXJlYWRlci9mZWVkYmFjayIgdGFyZ2V0PSJfYmxhbmsiPuWPjemmiOWcsOWdgDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tcm93Ij5cbiAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0i5Zu+54mH56ug6IqC55So5aSc6Ze05qih5byP5rKh5rOV55yL77yM6L+Z5Liq6YCJ6aG55Zyo5ZCv5Yqo5pe25Lya6Ieq5Yqo5YiH5o2i5Yiw57y655yB55qu6IKkIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJwaWMtbmlnaHRtb2RlLWNoZWNrIiBuYW1lPSJwaWMtbmlnaHRtb2RlLWNoZWNrIi8+XG4gICAgICAgICAgICAgICAg5aSc6Ze05qih5byP55qE5Zu+54mH56ug6IqC5qOA5rWLXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImNvcHlDdXJUaXRsZSIvPlxuICAgICAgICAgICAgICAgIOaJk+W8gOebruW9leWkjeWItuW9k+WJjeagh+mimFxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tcm93Ij5cbiAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0i6YCa6L+H5b+r5o236ZSu5YiH5o2iIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJoaWRlLW1lbnUtbGlzdCIvPumakOiXj+W3puS+p+eroOiKguWIl+ihqFxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJoaWRlLWZvb3Rlci1uYXYiLz7pmpDol4/lupXpg6jlr7zoiKrmoI9cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9InJpZ2h0IiB0aXRsZT0i5a+85Ye65LmL5ZCO55qE5omA5pyJ56ug6IqCIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iYnV0dG9uIiBpZD0ic2F2ZUFzVHh0IiB2YWx1ZT0i5a2Y5Li6IHR4dO+8iOa1i+ivle+8iSIgLz5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXJvdyI+XG4gICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAg5bem5L6n5a+86Iiq5qCP5YiH5o2i5b+r5o236ZSu77yaXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJrZXkiIHR5cGU9ImJ1dHRvbiIgaWQ9InNldEhpZGVNZW51TGlzdEtleSIgLz5cbiAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0i6YCa6L+H5b+r5o236ZSu5YiH5o2i5oiW5ZyoIEdyZWFzZW1vbmtleSDnlKjmiLfohJrmnKzlkb3ku6TlpITmiZPlvIDorr7nva7nqpflj6MiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImhpZGUtcHJlZmVyZW5jZXMtYnV0dG9uIi8+6ZqQ6JeP6K6+572u5oyJ6ZKuXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJrZXkiIHR5cGU9ImJ1dHRvbiIgaWQ9Im9wZW5QcmVmZXJlbmNlc0tleSIvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1yb3ciPlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIOi3neemu+W6lemDqFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0Ym94IiBpZD0icmVtYWluLWhlaWdodCIgbmFtZT0icmVtYWluLWhlaWdodCIgc2l6ZT0iNSIvPlxuICAgICAgICAgICAgICAgIHB4IOWKoOi9veS4i+S4gOmhtVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJhZGQtbmV4dHBhZ2UtdG8taGlzdG9yeSIvPua3u+WKoOS4i+S4gOmhteWIsOWOhuWPsuiusOW9lVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJlbmFibGUtZGJsY2xpY2stcGF1c2UiLz7lj4zlh7vmmoLlgZznv7vpobVcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXJvdyI+XG4gICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ic2tpbiI+XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIOWtl+S9k1xuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0Ym94IiBpZD0iZm9udC1mYW1pbHkiIHN0eWxlPSJtaW4td2lkdGg6MjAwcHg7Ii8+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGJyLz48YnIvPlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIOWtl+S9k+Wkp+Wwj1xuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0Ym94IiBpZD0iZm9udC1zaXplIiBuYW1lPSJmb250LXNpemUiIHNpemU9IjYiLz5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAg6KGM6auYXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHRib3giIGlkPSJ0ZXh0X2xpbmVfaGVpZ2h0IiBzaXplPSI2Ii8+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIOihjOWuvVxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0Ym94IiBpZD0iY29udGVudF93aWR0aCIgc2l6ZT0iNiIvPlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tcm93Ij5cbiAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0i5oqK5LiA5aSn5Z2X5pyq5YiG5q6155qE5YaF5a655paH5pys5oyJ54Wn5Y+l5Y+35YiG5q61Ij5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzcGxpdF9jb250ZW50Ii8+5a+55LiA5Z2o5YaF5a656L+b6KGM5by65Yi25YiG5q61XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InNjcm9sbF9hbmltYXRlIi8+56ug6IqC5rua5Yqo5pWI5p6cXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1yb3ciPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJlZnNfdGl0bGUiPuiHquWumuS5ieagt+W8jzwvZGl2PlxuICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJleHRyYV9jc3MiIGNsYXNzPSJwcmVmc190ZXh0YXJlYSIgcGxhY2Vob2xkZXI9IuiHquWumuS5ieagt+W8jyI+PC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD0ic2V0dGluZ190YWJsZTIiPlxuICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXJvdyIgdGl0bGU9IuivpuingeiEmuacrOS7o+eggeeahCBSdWxlLnNwZWNpYWxTaXRlIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9InByZWZzX3RpdGxlIj7oh6rlrprkuYnnq5nngrnop4TliJk8L2Rpdj5cbiAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0iY3VzdG9tX3NpdGVpbmZvIiBjbGFzcz0icHJlZnNfdGV4dGFyZWEiIHBsYWNlaG9sZGVyPSLoh6rlrprkuYnnq5nngrnop4TliJkiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXJvdyIgdGl0bGU9IuS4gOihjOS4gOS4qu+8jOavj+ihjOeahOesrOS4gOS4qiA9IOS4uuWIhumalOespuOAglxcbuS/neWtmOWQjueUn+aViCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcmVmc190aXRsZSI+6Ieq5a6a5LmJ5pu/5o2i6KeE5YiZPC9kaXY+XG4gICAgICAgICAgICA8dGV4dGFyZWEgaWQ9ImN1c3RvbV9yZXBsYWNlX3J1bGVzIiBjbGFzcz0icHJlZnNfdGV4dGFyZWEiIHBsYWNlaG9sZGVyPSJiW8SBw6Bdbmc95qOSIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZm9ybT4nCiAgICAgICAgLnVpVHJhbnMoKS5yZXBsYWNlKC9cXG4vZywgJ1xuJyksCgogICAgcHJlZmVyZW5jZXNDU1M6ICcuYm9keSB7XG4gICAgIGNvbG9yOiMzMzM7XG4gICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgcGFkZGluZzogMTBweDtcbiAgICAgaGVpZ2h0OiA0MjBweDtcbiAgICAgb3ZlcmZsb3cteTogYXV0bztcbiB9XG4gI3RvcC1idXR0b25zIHtcbiAgICAgYmFja2dyb3VuZDogbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlIHJnYigyNTUsIDI1NSwgMjU1KTtcbiAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgdG9wOiAtMzVweDtcbiAgICAgYm9yZGVyLXJpZ2h0OiAxMnB4IHNvbGlkIHJnYigyMjQsIDIyNCwgMjI0KTtcbiAgICAgYm9yZGVyLXRvcDogMTJweCBzb2xpZCByZ2IoMjI0LCAyMjQsIDIyNCk7XG4gICAgIGJvcmRlci1sZWZ0OiAxMnB4IHNvbGlkIHJnYigyMjQsIDIyNCwgMjI0KTtcbiAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuIH1cbiBpbnB1dCB7XG4gICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgbWFyZ2luLXJpZ2h0OiAzcHg7XG4gICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gfVxuIC5mb3JtLXJvdyB7XG4gICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICBtYXJnaW4tdG9wOiAzcHg7XG4gICAgIGZvbnQtc2l6ZTogMTFweDtcbiB9XG4gLmZvcm0tcm93IGxhYmVsIHtcbiAgICAgcGFkZGluZy1yaWdodDogMTBweDtcbiB9XG4gLmZvcm0tcm93IGlucHV0IHtcbiAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICAgbWFyZ2luLXRvcDogMHB4O1xuIH1cbiB0ZXh0YXJlYSwgLmZvcm0tcm93IGlucHV0IHtcbiAgICAgcGFkZGluZzogMnB4IDRweDtcbiAgICAgYm9yZGVyOiAxcHggc29saWQgI2U1ZTVlNTtcbiAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICBjb2xvcjogIzY2NjtcbiAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgbGluZWFyIC4ycztcbiAgICAgdHJhbnNpdGlvbjogYWxsIGxpbmVhciAuMnM7XG4gfVxuIHRleHRhcmVhIHtcbiAgICAgd2lkdGg6IDEwMCU7XG4gICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuIH1cbiB0ZXh0YXJlYTpmb2N1cywgaW5wdXQ6Zm9jdXMge1xuICAgICBib3JkZXItY29sb3I6ICM5OWJhY2E7XG4gICAgIG91dGxpbmU6IDA7XG4gICAgIGJhY2tncm91bmQ6ICNmNWZiZmU7XG4gICAgIGNvbG9yOiAjNjY2O1xuIH1cbiAucHJlZnNfdGl0bGUge1xuICAgICBmb250LXNpemU6IDEycHg7XG4gICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuIH1cbiAucHJlZnNfdGV4dGFyZWEge1xuICAgICBmb250LXNpemU6IDEycHg7XG4gICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgaGVpZ2h0OiAxMDBweDtcbiB9XG4gLnJpZ2h0IHtcbiAgICBmbG9hdDogcmlnaHQ7XG4gfScsCn07CgoKZnVuY3Rpb24gUGFyc2VyKCl7CiAgICB0aGlzLmluaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKUGFyc2VyLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBQYXJzZXIsCiAgICBnZXQgY29udGVudFR4dCgpIHsgIC8vIGNhbGxiYWNrIOaJjeacieeUqAogICAgICAgIHZhciB0ZXh0ID0gJCgnPGRpdj4nKS5odG1sKHRoaXMuY29udGVudCkudGV4dCgpLnRyaW0oKTsKCiAgICAgICAgLy8g6Kej5Yaz56ys5LqM5Liq5q616JC95ZKM56ys5LiA5Liq6ZS754K85ZCI5Zyo5LiA6LW355qE6Zeu6aKYCiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvKFteXG5dKeOAgOOAgC8sICckMVxu44CA44CAJyk7CgogICAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKCiAgICBpbml0OiBmdW5jdGlvbiAoaW5mbywgZG9jLCBjdXJQYWdlVXJsKSB7CiAgICAgICAgdGhpcy5pbmZvID0gaW5mbyB8fCB7fTsKICAgICAgICB0aGlzLmRvYyA9IGRvYzsKICAgICAgICB0aGlzLiRkb2MgPSAkKGRvYyk7CiAgICAgICAgdGhpcy5jdXJQYWdlVXJsID0gY3VyUGFnZVVybCB8fCBkb2MuVVJMOwogICAgICAgIHRoaXMuX2N1clBhZ2VIb3N0ID0gZ2V0VXJsSG9zdCh0aGlzLmN1clBhZ2VVcmwpOyAgLy8g5b2T5YmN6aG155qEIGhvc3TvvIzlkI7pnaLnlKjliLAKCiAgICAgICAgLy8g6K6+572u5Yid5aeL5YC8CiAgICAgICAgdGhpcy5pc1RoZUVuZCA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNTZWN0aW9uID0gZmFsc2U7CiAgICB9LAogICAgYXBwbHlQYXRjaDogZnVuY3Rpb24oKXsKICAgICAgICB2YXIgY29udGVudFBhdGNoID0gdGhpcy5pbmZvLmNvbnRlbnRQYXRjaDsKICAgICAgICBpZihjb250ZW50UGF0Y2gpewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29udGVudFBhdGNoLmNhbGwodGhpcywgdGhpcy4kZG9jKTsKICAgICAgICAgICAgICAgIEMubG9nKCJBcHBseSBDb250ZW50IFBhdGNoIFN1Y2Nlc3MuIik7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIEMubG9nKCJFcnJvcjogQ29udGVudCBQYXRjaCBFcnJvciEiLCBlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBnZXRBbGw6IGZ1bmN0aW9uKGNhbGxiYWNrKXsKICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CgogICAgICAgIEMuZGVidWcoJ+W8gOWni+ino+aekOmhtemdoicpOwoKICAgICAgICB0aGlzLmFwcGx5UGF0Y2goKTsKCiAgICAgICAgdmFyIGVuZEZuID0gZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICAgICAgdmFyIGRpdjsKICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvbnRlbnQpIHsKICAgICAgICAgICAgICAgICAgICBkaXYgPSAkKCc8ZGl2IGlkPSJjb250ZW50Ij48L2Rpdj4nKS5odG1sKGRhdGEuY29udGVudCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuaHRtbCkgewogICAgICAgICAgICAgICAgICAgIGRpdiA9ICQoJzxkaXY+PC9kaXY+JykuaHRtbChkYXRhLmh0bWwpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNlbGYuJGRvYy5maW5kKCdib2R5JykucHJlcGVuZChkaXYpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzZWxmLnBhcnNlKCk7CiAgICAgICAgICAgIGNhbGxiYWNrKHNlbGYpOwogICAgICAgIH07CgogICAgICAgIGlmICghdGhpcy5oYXNDb250ZW50KCkgJiYgdGhpcy5pbmZvLmdldENvbnRlbnQpIHsKICAgICAgICAgICAgQy5sb2coJ+W8gOWniyBpbmZvLmdldENvbnRlbnQnKQogICAgICAgICAgICB0aGlzLmluZm8uZ2V0Q29udGVudC5jYWxsKHRoaXMsIHRoaXMuJGRvYywgZW5kRm4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIOeJueauiuWkhOeQhu+8jOS+i+Wmgui1t+eCuQogICAgICAgICAgICB2YXIgYWpheFNjcmlwdCA9IHRoaXMuJGRvYy5maW5kKCcuJyArIFJFQURFUl9BSkFYKTsKICAgICAgICAgICAgaWYgKGFqYXhTY3JpcHQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgdmFyIHVybCA9IGFqYXhTY3JpcHQuYXR0cignc3JjJyk7CiAgICAgICAgICAgICAgICBpZighdXJsKSByZXR1cm47CiAgICAgICAgICAgICAgICB2YXIgY2hhcnNldCA9IGFqYXhTY3JpcHQuYXR0cignY2hhcnNldCcpIHx8ICd1dGYtOCc7CgogICAgICAgICAgICAgICAgQy5sb2coJ0FqYXgg6I635Y+W5YaF5a65OiAnLCB1cmwsICIuIGNoYXJzZXQ9IiArIGNoYXJzZXQpOwoKICAgICAgICAgICAgICAgIHZhciByZXFPYmogPSB7CiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICBvdmVycmlkZU1pbWVUeXBlOiAidGV4dC9odG1sO2NoYXJzZXQ9IiArIGNoYXJzZXQsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge30sCiAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbihyZXMpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IHJlcy5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL2RvY3VtZW50LndyaXRlKGxuKT9cKCcvLCAiIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgiJyk7IiwgIiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcblxyXSsvZywgJzwvcD48cD4nKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZEZuKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRleHQKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAvLyBKaXh1bjogQWxsb3cgcG9zdCBkYXRhCiAgICAgICAgICAgICAgICB2YXIgcG9zdERhdGEgPSBhamF4U2NyaXB0LmRhdGEoJ3Bvc3QnKTsKCiAgICAgICAgICAgICAgICBpZiAocG9zdERhdGEpIHsKICAgICAgICAgICAgICAgICAgICByZXFPYmoubWV0aG9kID0gJ1BPU1QnOwogICAgICAgICAgICAgICAgICAgIHJlcU9iai5kYXRhID0gJC5wYXJhbShwb3N0RGF0YSk7CiAgICAgICAgICAgICAgICAgICAgcmVxT2JqLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QocmVxT2JqKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGVuZEZuKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIHBhcnNlOiBmdW5jdGlvbigpIHsKICAgICAgICBDLmdyb3VwKCflvIDlp4vojrflj5bpk77mjqUnKTsKICAgICAgICB0aGlzLmdldFByZXZVcmwoKTsKICAgICAgICB0aGlzLmdldEluZGV4VXJsKCk7CiAgICAgICAgdGhpcy5nZXROZXh0VXJsKCk7CiAgICAgICAgQy5ncm91cEVuZCgpOwoKICAgICAgICBDLmdyb3VwKCflvIDlp4vojrflj5bmoIfpopgnKTsKICAgICAgICB0aGlzLmdldFRpdGxlcygpOwogICAgICAgIEMuZ3JvdXBFbmQoKTsKCiAgICAgICAgdGhpcy5nZXRDb250ZW50KCk7CiAgICB9LAoKICAgIGhhc0NvbnRlbnQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciAkY29udGVudDsKCiAgICAgICAgLy8gdmFyICRhamF4U2NyaXB0ID0gdGhpcy4kZG9jLmZpbmQoJy4nICsgUkVBREVSX0FKQVgpOwogICAgICAgIC8vIGlmICgkYWpheFNjcmlwdC5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8gICAgIHJldHVybiB0cnVlOwogICAgICAgIC8vIH0KCiAgICAgICAgaWYodGhpcy5pbmZvLmNvbnRlbnRTZWxlY3Rvcil7CiAgICAgICAgICAgICRjb250ZW50ID0gdGhpcy4kZG9jLmZpbmQodGhpcy5pbmZvLmNvbnRlbnRTZWxlY3Rvcik7CiAgICAgICAgfQoKICAgICAgICBpZiAoISRjb250ZW50IHx8ICEkY29udGVudC5sZW5ndGgpIHsKICAgICAgICAgICAgLy8g5oyJ54Wn6aG65bqP6YCJ5Y+WCiAgICAgICAgICAgIHZhciBzZWxlY3RvcnMgPSBSdWxlLmNvbnRlbnRTZWxlY3RvcnM7CiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSBzZWxlY3RvcnMubGVuZ3RoOyBpIDwgbDsgaSsrKXsKICAgICAgICAgICAgICAgICRjb250ZW50ID0gdGhpcy4kZG9jLmZpbmQoc2VsZWN0b3JzW2ldKTsKICAgICAgICAgICAgICAgIGlmKCRjb250ZW50Lmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgQy5sb2coIuiHquWKqOafpeaJvuWGheWuuemAieaLqeWZqDogIiArIHNlbGVjdG9yc1tpXSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuJGNvbnRlbnQgPSAkY29udGVudDsKICAgICAgICAvLyBDLmRlYnVnKCRjb250ZW50KTsKCiAgICAgICAgcmV0dXJuICRjb250ZW50LnNpemUoKSA+IDA7CiAgICB9LAogICAgLy8g6I635Y+W5Lmm5ZCN5ZKM56ug6IqC5qCH6aKYCiAgICBnZXRUaXRsZXM6IGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIGluZm8gPSB0aGlzLmluZm8sCiAgICAgICAgICAgIGNoYXB0ZXJUaXRsZSwKICAgICAgICAgICAgYm9va1RpdGxlLAogICAgICAgICAgICBkb2NUaXRsZSA9IHRoaXMuJGRvYy5maW5kKCJ0aXRsZSIpLnRleHQoKTsKCiAgICAgICAgLy8g6I635Y+W56ug6IqC5qCH6aKYCiAgICAgICAgaWYgKGluZm8udGl0bGVSZWcpewogICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGRvY1RpdGxlLm1hdGNoKHRvUkUoaW5mby50aXRsZVJlZywgJ2knKSk7CiAgICAgICAgICAgIGlmKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPT0gMyl7CiAgICAgICAgICAgICAgICB2YXIgdGl0bGVQb3MgPSAoIGluZm8udGl0bGVQb3MgfHwgMCApICsgMSwKICAgICAgICAgICAgICAgICAgICBjaGFwdGVyUG9zID0gKHRpdGxlUG9zID09IDEpID8gMiA6IDE7CiAgICAgICAgICAgICAgICBib29rVGl0bGUgPSBtYXRjaGVzW3RpdGxlUG9zXS50cmltKCk7CiAgICAgICAgICAgICAgICBjaGFwdGVyVGl0bGUgPSBtYXRjaGVzW2NoYXB0ZXJQb3NdLnRyaW0oKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgQy5sb2coIlRpdGxlUmVnOiIsIGluZm8udGl0bGVSZWcsIG1hdGNoZXMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgY2hhcHRlclRpdGxlID0gdGhpcy5nZXRUaXRsZUZyb21JbmZvKGluZm8udGl0bGVTZWxlY3Rvcik7CgogICAgICAgICAgIGJvb2tUaXRsZSA9IHRoaXMuZ2V0VGl0bGVGcm9tSW5mbyhpbmZvLmJvb2tUaXRsZVNlbGVjdG9yKTsKICAgICAgICB9CgogICAgICAgIGlmKCFjaGFwdGVyVGl0bGUpewogICAgICAgICAgICBjaGFwdGVyVGl0bGUgPSB0aGlzLmF1dG9HZXRDaGFwdGVyVGl0bGUodGhpcy5kb2MpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFib29rVGl0bGUpIHsKICAgICAgICAgICAgYm9va1RpdGxlID0gdGhpcy4kZG9jLmZpbmQoUnVsZS5ib29rVGl0bGVTZWxlY3RvcikudGV4dCgpOwogICAgICAgIH0KCiAgICAgICAgLy8g5qCH6aKY6Ze05aKe5Yqg5LiA5Liq56m65qC877yM5LiN5YeG56Gu77yM5bey5rOo6YeKCiAgICAgICAgY2hhcHRlclRpdGxlID0gY2hhcHRlclRpdGxlCiAgICAgICAgICAgICAgICAucmVwbGFjZShSdWxlLnRpdGxlUmVwbGFjZSwgIiIpCiAgICAgICAgICAgICAgICAudHJpbSgpOwogICAgICAgICAgICAgICAgLy8gLnJlcGxhY2UoLyjnrKw/XFMrP1vnq6DoioLljbflm55dKSguKikvLCAiJDEgJDIiKTsKCiAgICAgICAgLy8gaWYgKGluZm8udHJpbUJvb2tUaXRsZSAhPT0gZmFsc2UpIHsKICAgICAgICAvLyAgICAgY2hhcHRlclRpdGxlID0gY2hhcHRlclRpdGxlLnJlcGxhY2UoYm9va1RpdGxlLCAnJykudHJpbSgpOwogICAgICAgIC8vIH0KCiAgICAgICAgYm9va1RpdGxlID0gYm9va1RpdGxlLnJlcGxhY2UoL+acgOaWsOeroOiKgiQvLCAnJyk7CgogICAgICAgIGRvY1RpdGxlID0gYm9va1RpdGxlID8KICAgICAgICAgICAgICAgIGJvb2tUaXRsZSArICcgLSAnICsgY2hhcHRlclRpdGxlIDoKICAgICAgICAgICAgICAgIGRvY1RpdGxlOwoKICAgICAgICBpZiAoQ29uZmlnLmNuMnR3KSB7CiAgICAgICAgICAgIGJvb2tUaXRsZSA9IHRoaXMuY29udmVydDJ0dyhib29rVGl0bGUpOwogICAgICAgICAgICBjaGFwdGVyVGl0bGUgPSB0aGlzLmNvbnZlcnQydHcoY2hhcHRlclRpdGxlKTsKICAgICAgICAgICAgZG9jVGl0bGUgPSB0aGlzLmNvbnZlcnQydHcoZG9jVGl0bGUpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5ib29rVGl0bGUgPSBib29rVGl0bGUgfHwgJ+ebruW9lSc7CiAgICAgICAgdGhpcy5jaGFwdGVyVGl0bGUgPSBjaGFwdGVyVGl0bGU7CiAgICAgICAgdGhpcy5kb2NUaXRsZSA9IGRvY1RpdGxlOwoKICAgICAgICBDLmxvZygiQm9vayBUaXRsZTogIiArIHRoaXMuYm9va1RpdGxlKTsKICAgICAgICBDLmxvZygiQ2hhcHRlciBUaXRsZTogIiArIHRoaXMuY2hhcHRlclRpdGxlKTsKICAgICAgICBDLmxvZygiRG9jdW1lbnQgVGl0bGU6ICIgKyB0aGlzLmRvY1RpdGxlKTsKICAgIH0sCiAgICBnZXRUaXRsZUZyb21JbmZvOiBmdW5jdGlvbihzZWxlY3Rvck9yQXJyYXkpIHsKICAgICAgICB2YXIgdGl0bGUgPSAnJzsKICAgICAgICBpZiAoIXNlbGVjdG9yT3JBcnJheSkgewogICAgICAgICAgICByZXR1cm4gdGl0bGU7CiAgICAgICAgfQoKICAgICAgICB2YXIgc2VsZWN0b3IsCiAgICAgICAgICAgIHJlcGxhY2U7CgogICAgICAgIGlmIChfLmlzQXJyYXkoc2VsZWN0b3JPckFycmF5KSkgewogICAgICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yT3JBcnJheVswXTsKICAgICAgICAgICAgcmVwbGFjZSA9IHNlbGVjdG9yT3JBcnJheVsxXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yT3JBcnJheTsKICAgICAgICB9CgogICAgICAgIHRpdGxlID0gdGhpcy4kZG9jLmZpbmQoc2VsZWN0b3IpLnJlbW92ZSgpLnRleHQoKS50cmltKCk7CgogICAgICAgIGlmIChyZXBsYWNlKSB7CiAgICAgICAgICAgIHRpdGxlID0gdGl0bGUucmVwbGFjZSh0b1JFKHJlcGxhY2UpLCAnJyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGl0bGU7CiAgICB9LAogICAgLy8g5pm66IO96I635Y+W56ug6IqC5qCH6aKYCiAgICBhdXRvR2V0Q2hhcHRlclRpdGxlOiBmdW5jdGlvbiAoZG9jdW1lbnQpIHsKICAgICAgICB2YXIKICAgICAgICAgICAgX21haW5fc2VsZWN0b3IgPSAiaDEsIGgyLCBoMyIsCiAgICAgICAgICAgIF9zZWNvbmRfc2VsZWN0b3IgPSAiI1RleHRUaXRsZSwgI3RpdGxlLCAuQ2hhcHRlck5hbWUsICNsYkNoYXB0ZXJOYW1lLCBkaXYuaDEiLAogICAgICAgICAgICBfcG9zaXRpdmVfcmVnZXhwID0gUnVsZS50aXRsZVJlZ0V4cCwKICAgICAgICAgICAgLy8gX3Bvc2l0aXZlX3JlZ2V4cCA9IC/nrKw/XFMrW+eroOiKguWNt+Wbnl18XGR7Miw0fS8sCiAgICAgICAgICAgIC8vIF9uZWdhdGl2ZV9yZWdleHAgPSAvW+S4iuWJjeS4i+WQjl1b5LiAXT9b6aG15byg5Liq56+H56ug6IqC5q2lXS8sCiAgICAgICAgICAgIF90aXRsZV9yZW1vdmVfcmVnZXhwID0gL+acgOaWsOeroOiKgnzkuabkuabnvZEvLAogICAgICAgICAgICAkZG9jID0gJChkb2N1bWVudCksCiAgICAgICAgICAgIF9kb2N1bWVudF90aXRsZSA9IGRvY3VtZW50LnRpdGxlID8gZG9jdW1lbnQudGl0bGUgOiAkZG9jLmZpbmQoInRpdGxlIikudGV4dCgpLAogICAgICAgICAgICBfc2VhcmNoX2RvY3VtZW50X3RpdGxlID0gJyAnICsgX2RvY3VtZW50X3RpdGxlLnJlcGxhY2UoL1xzKy9naSwgJyAnKSArICcgJwogICAgICAgIDsKCiAgICAgICAgdmFyIF9oZWFkaW5ncyA9ICRkb2MuZmluZChfbWFpbl9zZWxlY3Rvcik7CiAgICAgICAgLy8g5Yqg5LiKIHNlY29uZCBzZWxlY3RvciDlubbljrvpmaTljIXlkKvnmoQKICAgICAgICAkZG9jLmZpbmQoX3NlY29uZF9zZWxlY3RvcikuZWFjaChmdW5jdGlvbigpewogICAgICAgICAgICBpZigkKHRoaXMpLmZpbmQoX21haW5fc2VsZWN0b3IpLmxlbmd0aCA9PT0gMCl7CiAgICAgICAgICAgICAgICBfaGVhZGluZ3MucHVzaCh0aGlzKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICB2YXIgcG9zc2libGVUaXRsZXMgPSB7fSwKICAgICAgICAgICAgX2hlYWRpbmdfdGV4dDsKCiAgICAgICAgQy5ncm91cENvbGxhcHNlZCgn6Ieq5Yqo5p+l5om+56ug6IqC5qCH6aKYJyk7CgogICAgICAgICQoX2hlYWRpbmdzKS5lYWNoKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBfaGVhZGluZyA9IHRoaXMsCiAgICAgICAgICAgICAgICBfaGVhZGluZ190ZXh0ID0gX2hlYWRpbmcudGV4dENvbnRlbnQudHJpbSgpOwoKICAgICAgICAgICAgaWYgKF9oZWFkaW5nX3RleHQgaW4gcG9zc2libGVUaXRsZXMpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgQy5ncm91cCgn5byA5aeL6K6h566XICInICsgX2hlYWRpbmdfdGV4dCArICciIOeahOW+l+WIhicpOwoKICAgICAgICAgICAgLy8gaDEg5Li6IDHvvIwgaDIg5Li6IDIKICAgICAgICAgICAgdmFyCiAgICAgICAgICAgICAgICBub2RlTnVtID0gcGFyc2VJbnQoX2hlYWRpbmcubm9kZU5hbWUuc2xpY2UoMSksIDEwKSB8fCAxMCwKICAgICAgICAgICAgICAgIHNjb3JlID0gMTAgLyBub2RlTnVtLAogICAgICAgICAgICAgICAgX2hlYWRpbmdfd29yZHMgPSBfaGVhZGluZ190ZXh0LnJlcGxhY2UoL1xzKy9nLCAiICIpLnNwbGl0KCIgIiksCiAgICAgICAgICAgICAgICBfbWF0Y2hlZF93b3JkcyA9ICIiCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIEMubG9nKCLliJ3lp4vlvpfliIbvvJoiICsgc2NvcmUpOwoKICAgICAgICAgICAgLy8g5ZCO6Z2i6L+Z56eN5piv54m55q6K55qE5Yik5patCiAgICAgICAgICAgIGlmIChfcG9zaXRpdmVfcmVnZXhwLnRlc3QoX2hlYWRpbmdfdGV4dCkgfHwgL1xkezIsNH0vLnRlc3QoX2hlYWRpbmdfdGV4dCkpIHsKICAgICAgICAgICAgICAgIHNjb3JlICs9IDUwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGlmKF9uZWdhdGl2ZV9yZWdleHAudGVzdChfaGVhZGluZ190ZXh0KSl7CiAgICAgICAgICAgIC8vICAgICBzY29yZSAtPSAxMDA7CiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgIEMubG9nKCLnrKblkIjmraPliJnorqHnrpflkI7lvpfliIbvvJoiICsgc2NvcmUpOwoKICAgICAgICAgICAgLy8gIGNvdW50IHdvcmRzIHByZXNlbnQgaW4gdGl0bGUKICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIF9qID0gX2hlYWRpbmdfd29yZHMubGVuZ3RoOyBqIDwgX2o7IGorKykgewogICAgICAgICAgICAgICAgaWYgKF9zZWFyY2hfZG9jdW1lbnRfdGl0bGUuaW5kZXhPZihfaGVhZGluZ193b3Jkc1tqXSkgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIF9tYXRjaGVkX3dvcmRzICs9IF9oZWFkaW5nX3dvcmRzW2pdICsgJyAnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHNjb3JlICs9IF9tYXRjaGVkX3dvcmRzLmxlbmd0aCAqIDEuNTsKCiAgICAgICAgICAgIEMubG9nKCLot5/pobXpnaLmoIfpopjmr5TovoPlkI7lvpfliIbvvJoiICsgc2NvcmUpOwoKICAgICAgICAgICAgdmFyIF9mb250X3NpemVfdGV4dCA9ICIiLAogICAgICAgICAgICAgICAgX2ZvbnRfc2l6ZV9hZGRfc2NvcmUgPSAwLAogICAgICAgICAgICAgICAgX2hlYWRpbmdfc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShfaGVhZGluZywgbnVsbCk7CiAgICAgICAgICAgIGlmKF9oZWFkaW5nX3N0eWxlKXsKICAgICAgICAgICAgICAgIF9mb250X3NpemVfdGV4dCA9IF9oZWFkaW5nX3N0eWxlLmdldFByb3BlcnR5VmFsdWUoImZvbnQtc2l6ZSIpIHx8IDA7CiAgICAgICAgICAgICAgICBfZm9udF9zaXplX2FkZF9zY29yZSA9IHBhcnNlSW50KF9mb250X3NpemVfdGV4dCwgMTApICogMS41OwogICAgICAgICAgICB9CgogICAgICAgICAgICBzY29yZSArPSAgX2ZvbnRfc2l6ZV9hZGRfc2NvcmU7CgogICAgICAgICAgICBDLmxvZygi6K6h566X5aSn5bCP5ZCO5b6X5YiG77yaIiArIHNjb3JlKTsKCiAgICAgICAgICAgIHBvc3NpYmxlVGl0bGVzW19oZWFkaW5nX3RleHRdID0gc2NvcmU7CgogICAgICAgICAgICBDLmdyb3VwRW5kKCk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIOaJvuWIsOWIhuaVsOacgOmrmOeahOWAvAogICAgICAgIHZhciB0b3BTY29yZVRpdGxlLAogICAgICAgICAgICBzY29yZV90bXAgPSAwOwogICAgICAgIGZvciAoX2hlYWRpbmdfdGV4dCBpbiBwb3NzaWJsZVRpdGxlcykgewogICAgICAgICAgICBpZiAocG9zc2libGVUaXRsZXNbX2hlYWRpbmdfdGV4dF0gPiBzY29yZV90bXApIHsKICAgICAgICAgICAgICAgIHRvcFNjb3JlVGl0bGUgPSBfaGVhZGluZ190ZXh0OwogICAgICAgICAgICAgICAgc2NvcmVfdG1wID0gcG9zc2libGVUaXRsZXNbX2hlYWRpbmdfdGV4dF07CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBjdXJUaXRsZSA9IHRvcFNjb3JlVGl0bGU7CiAgICAgICAgaWYgKCFjdXJUaXRsZSkgewogICAgICAgICAgICBjdXJUaXRsZSA9IF9kb2N1bWVudF90aXRsZTsKCiAgICAgICAgICAgIC8vIOS4i+mdoueahOato+WImeS7jgogICAgICAgICAgICAvLyAgICAgRmlyZWZveC1GaXJlZm945rWP6KeI5Zmo6K665Z2bLeWNoemlreiuuuWdmyAtIOS6kuWKqeWIhuS6qyAtIOWkp+awlOiwpuWSjCEKICAgICAgICAgICAgLy8g5Y+Y5Li6CiAgICAgICAgICAgIC8vICAgICBGaXJlZm94LUZpcmVmb3jmtY/op4jlmajorrrlnZst5Y2h6aWt6K665Z2bCiAgICAgICAgICAgIGN1clRpdGxlID0gY3VyVGl0bGUucmVwbGFjZSgvXHMtXHMuKi9pLCAiIikKICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9fW15cW1xd44CQ44CRXSskLywgIiIpOwogICAgICAgICAgICBjdXJUaXRsZSA9IGN1clRpdGxlLnRyaW0oKTsKICAgICAgICAgICAgY3VyVGl0bGUgPSBjdXJUaXRsZS5yZXBsYWNlKF90aXRsZV9yZW1vdmVfcmVnZXhwLCAnJyk7CiAgICAgICAgfQoKICAgICAgICBjdXJUaXRsZSA9IGN1clRpdGxlLnJlcGxhY2UoUnVsZS50aXRsZVJlcGxhY2UsICIiKTsKCiAgICAgICAgQy5ncm91cEVuZCgpOwoKICAgICAgICByZXR1cm4gY3VyVGl0bGU7CiAgICB9LAoKICAgIC8vIOiOt+WPluWSjOWkhOeQhuWGheWuuQogICAgZ2V0Q29udGVudDogZnVuY3Rpb24oKXsKICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CgogICAgICAgIHRoaXMuaGFzQ29udGVudCgpOwoKICAgICAgICBpZiAodGhpcy4kY29udGVudC5zaXplKCkgPD0gMCkgewogICAgICAgICAgICAvLyBjYWxsYmFjayh0aGlzKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign5rKh5pyJ5om+5Yiw5YaF5a65JywgdGhpcy4kZG9jKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jb250ZW50ID0gdGhpcy5oYW5kbGVDb250ZW50VGV4dCh0aGlzLiRjb250ZW50Lmh0bWwoKSwgdGhpcy5pbmZvKTsKICAgIH0sCiAgICBoYW5kbGVDb250ZW50VGV4dDogZnVuY3Rpb24odGV4dCwgaW5mbyl7CiAgICAgICAgaWYoIXRleHQpIHJldHVybiBudWxsOwoKICAgICAgICAvLyDotLTlkKfnmoTlhoXlrrnlpITnkIbmr5TovoPogJfml7bpl7QKICAgICAgICBDLmdyb3VwKCflvIDlp4vlhoXlrrnlpITnkIYnKTsKICAgICAgICBDLnRpbWUoJ+WGheWuueWkhOeQhicpOwoKICAgICAgICB2YXIgY29udGVudEhhbmRsZSA9ICh0eXBlb2YoaW5mby5jb250ZW50SGFuZGxlKSA9PSAndW5kZWZpbmVkJykgPyB0cnVlIDogaW5mby5jb250ZW50SGFuZGxlOwoKICAgICAgICAvLyDmi7zpn7PlrZfjgIHlsY/olL3lrZfkv67lpI0KICAgICAgICBpZihjb250ZW50SGFuZGxlKXsKICAgICAgICAgICAgdGV4dCA9IHRoaXMucmVwbGFjZUh0bWwodGV4dCk7CiAgICAgICAgfQoKICAgICAgICAvKiBUdXJuIGFsbCBkb3VibGUgYnIncyBpbnRvIHAncyAqLwogICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoUnVsZS5yZXBsYWNlQnJzLCAnPC9wPlxuPHA+Jyk7CiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvPFwvcD48cD4vZywgIjwvcD5cbjxwPiIpOwoKICAgICAgICAvLyBHTV9zZXRDbGlwYm9hcmQodGV4dCk7CgogICAgICAgIC8vIOenu+mZpOaWh+Wtl+W5v+WRiuetiQogICAgICAgIHRleHQgPSB0aGlzLnJlcGxhY2VUZXh0KHRleHQsIFJ1bGUucmVwbGFjZUFsbCk7CgogICAgICAgIC8vIOWOu+mZpOWGheWuueS4reeahOagh+mimAogICAgICAgIGlmKHRoaXMuY2hhcHRlclRpdGxlICYmIFJ1bGUudGl0bGVSZWdFeHAudGVzdCh0aGlzLmNoYXB0ZXJUaXRsZSkpewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgdmFyIHJlZyA9IHRvUmVTdHIodGhpcy5jaGFwdGVyVGl0bGUpLnJlcGxhY2UoL1xzKy9nLCAnXFxzKicpOwogICAgICAgICAgICAgICAgcmVnID0gbmV3IFJlZ0V4cChyZWcsICdpZycpOwogICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShyZWcsICIiKTsKICAgICAgICAgICAgICAgIEMubG9nKCfljrvpmaTlhoXlrrnkuK3nmoTmoIfpopgnLCByZWcpOwogICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmJvb2tUaXRsZSkgewogICAgICAgICAgICB2YXIgcmVnU3RyID0gJ++8iCcgKyB0b1JlU3RyKHRoaXMuYm9va1RpdGxlKSArICdcXGQq56ug77yJJwogICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAocmVnU3RyLCAnaWcnKSwgIiIpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGluZm8uY29udGVudFJlcGxhY2UpIHsKICAgICAgICAgICAgdGV4dCA9IHRoaXMucmVwbGFjZVRleHQodGV4dCwgaW5mby5jb250ZW50UmVwbGFjZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoQ29uZmlnLmNuMnR3KSB7CiAgICAgICAgICAgIHRleHQgPSB0aGlzLmNvbnZlcnQydHcodGV4dCk7CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICB0ZXh0ID0gdGhpcy5jb250ZW50Q3VzdG9tUmVwbGFjZSh0ZXh0KTsKICAgICAgICB9IGNhdGNoKGV4KSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iHquWumuS5ieabv+aNoumUmeivrycsIGV4KTsKICAgICAgICB9CgogICAgICAgIC8vIOmHh+eUqCBET00g5pa55byP6L+b6KGM5aSE55CGCiAgICAgICAgdmFyICRkaXYgPSAkKCI8ZGl2PiIpLmh0bWwodGV4dCk7CgogICAgICAgIC8vIGNvbnRlbnRSZW1vdmUKICAgICAgICAkZGl2LmZpbmQoUnVsZS5jb250ZW50UmVtb3ZlKS5yZW1vdmUoKTsKICAgICAgICBpZihpbmZvLmNvbnRlbnRSZW1vdmUpewogICAgICAgICAgICAkZGl2LmZpbmQoaW5mby5jb250ZW50UmVtb3ZlKS5yZW1vdmUoKTsKICAgICAgICB9CgogICAgICAgIC8vIOe7meeLrOeri+eahOaWh+acrOWKoOS4iiBwCiAgICAgICAgJGRpdi5jb250ZW50cygpLmZpbHRlcihmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9kZVR5cGUgPT0gMyAmJgogICAgICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCAhPSAnXG4nICYmCiAgICAgICAgICAgICAgICAoIXRoaXMubmV4dEVsZW1lbnRTaWJsaW5nIHx8IHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLm5vZGVOYW1lICE9ICdBJykgJiYKICAgICAgICAgICAgICAgICghdGhpcy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nIHx8IHRoaXMucHJldmlvdXNFbGVtZW50U2libGluZy5ub2RlTmFtZSAhPSAnQScpOwogICAgICAgIH0pLndyYXAoJzxwPicpOwoKICAgICAgICAvLyDliKDpmaTml6DmlYjnmoQgcO+8jOaOkumZpOWvueWkp+Wdl+aWh+acrOeahOWIpOaWrQogICAgICAgICRkaXYuZmluZCgncCcpLmZpbHRlcihmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTsKICAgICAgICAgICAgaWYgKCR0aGlzLmZpbmQoJ2ltZycpLnNpemUoKSkgIC8vIOaOkumZpOacieWbvueJh+eahAogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICAgICAgLy8g5pyJ5pWI5paH5pys77yI5o6S6Zmk5rOo6YeK44CB5o2i6KGM56ym44CB56m655m977yJ5Liq5pWw5Li6IDAKICAgICAgICAgICAgcmV0dXJuICR0aGlzLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9kZVR5cGUgIT0gOCAmJgogICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy50ZXh0Q29udGVudC5tYXRjaCgvXlxzKiQvKTsKICAgICAgICAgICAgfSkuc2l6ZSgpID09IDA7CiAgICAgICAgfSkucmVtb3ZlKCk7CgogICAgICAgIC8vIOaKiuS4gOWkp+Wdl+eahOaWh+acrOWIhuautQogICAgICAgIGlmIChDb25maWcuc3BsaXRfY29udGVudCkgewogICAgICAgICAgICB2YXIgJHAgPSAkZGl2LmZpbmQoJ3AnKSwKICAgICAgICAgICAgICAgICRuZXdQOwogICAgICAgICAgICBpZiAoJHAubGVuZ3RoID09IDAgKSB7CiAgICAgICAgICAgICAgICAkbmV3UCA9ICRkaXY7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHAubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgICAgICRuZXdQID0gJHA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgkbmV3UCkgewogICAgICAgICAgICAgICAgJG5ld1AucmVwbGFjZVdpdGgoJzxwPicgKyB0aGlzLnNwbGl0Q29udGVudCgkbmV3UC5odG1sKCkpLmpvaW4oJzwvcD5cbjxwPicpICsgJzwvcD4nKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYoY29udGVudEhhbmRsZSl7CiAgICAgICAgICAgICRkaXYuZmlsdGVyKCdicicpLnJlbW92ZSgpOwoKICAgICAgICAgICAgJGRpdi5maW5kKCcqJykucmVtb3ZlQXR0cignc3R5bGUnKTsKICAgICAgICB9CgogICAgICAgICRkaXYuZmluZCgncCcpLnJlbW92ZUF0dHIoJ2NsYXNzJyk7CgogICAgICAgIC8vIOWbvueJh+WxheS4re+8jOaJgOacieWbvuWDj++8nwogICAgICAgIC8vIGlmKGluZm8uZml4SW1hZ2UpewogICAgICAgIC8vICAgICAkZGl2LmZpbmQoImltZyIpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAvLyAgICAgICAgIHRoaXMuY2xhc3NOYW1lICs9ICIgYmxvY2tJbWFnZSI7CiAgICAgICAgLy8gICAgIH0pOwogICAgICAgIC8vIH0KCiAgICAgICAgdGV4dCA9ICRkaXYuaHRtbCgpOwoKICAgICAgICAvLyDkv67lpI3nrKzkuIDooYzlj6/og73mmK/nqbrnmoTmg4XlhrUKICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8oPzpcc3wmbmJzcDspKzxwPi8sICI8cD4iKTsKCiAgICAgICAgLy8g5L+u5aSN5b2T6KGM5bCx5LiA5Liq5a2X56ym55qECiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvPFwvcD48cD4oW+OAgl0pLywgIiQxIik7CgogICAgICAgIGlmKGNvbmZpZy5wYXJhZ3JhcGhCbGFuayl7CiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLzxwPig/OlxzfCZuYnNwOykrL2csICI8cD4iKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC88cD4vZywgIjxwPuOAgOOAgCIpOwogICAgICAgIH0KCiAgICAgICAgLy8g5Yig6Zmk56m655m955qE44CB5Y2V5Liq5a2X56ym55qEIHAKICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKFJ1bGUucmVtb3ZlTGluZVJlZ0V4cCwgIiIpOwoKICAgICAgICBDLnRpbWVFbmQoJ+WGheWuueWkhOeQhicpOwogICAgICAgIEMuZ3JvdXBFbmQoKTsKCiAgICAgICAgcmV0dXJuIHRleHQ7CiAgICB9LAogICAgcmVwbGFjZUh0bWw6IGZ1bmN0aW9uKHRleHQsIHJlcGxhY2VSdWxlKSB7ICAvLyByZXBsYWNlUnVsZSDnu5nigJzoh6rlrprkuYnmm7/mjaLop4TliJnnm7TmjqXnlJ/mlYjigJ3nlKgKICAgICAgICBpZiAoIXJlcGxhY2VSdWxlKSB7CiAgICAgICAgICAgIHJlcGxhY2VSdWxlID0gUnVsZS5yZXBsYWNlOwogICAgICAgIH0KCiAgICAgICAgLy8g5YWI5o+Q5Y+W5Ye6IGltZwogICAgICAgIHZhciBpbWdzID0ge307CiAgICAgICAgdmFyIGkgPSAwOwogICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLzwoaW1nfGEpW14+XSo+L2csIGZ1bmN0aW9uKGltZyl7CiAgICAgICAgICAgIGltZ3NbaV0gPSBpbWc7CiAgICAgICAgICAgIHJldHVybiAieyIgKyAoaSsrKSArICJ9IjsKICAgICAgICB9KTsKCiAgICAgICAgLy8g5L+u5q2j5ou86Z+z5a2X562JCiAgICAgICAgdGV4dCA9IHRoaXMuY29udGVudFJlcGxhY2VtZW50cyh0ZXh0LCByZXBsYWNlUnVsZSk7CgogICAgICAgIC8vIOi/mOWOn+WbvueJhwogICAgICAgIHRleHQgPSAkLm5hbm8odGV4dCwgaW1ncyk7CgogICAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIGNvbnRlbnRSZXBsYWNlbWVudHM6IGZ1bmN0aW9uICh0ZXh0LCBydWxlKSB7CiAgICAgICAgaWYgKCF0ZXh0KSByZXR1cm4gdGV4dDsKCiAgICAgICAgZm9yICh2YXIga2V5IGluIHJ1bGUpIHsKICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSh0b1JFKGtleSwgImlnIiksIHJ1bGVba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIHJlcGxhY2VUZXh0OiBmdW5jdGlvbih0ZXh0LCBydWxlKXsKICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgc3dpdGNoKHRydWUpIHsKICAgICAgICAgICAgY2FzZSBfLmlzUmVnRXhwKHJ1bGUpOgogICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShydWxlLCAnJyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBfLmlzU3RyaW5nKHJ1bGUpOgogICAgICAgICAgICAgICAgLy8g6L+Y5Y6f566A5YaZCiAgICAgICAgICAgICAgICBfLmVhY2goQ0hBUl9BTElBUywgZnVuY3Rpb24odmFsdWUsIGtleSkgewogICAgICAgICAgICAgICAgICAgIHJ1bGUgPSBydWxlLnJlcGxhY2Uoa2V5LCB2YWx1ZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKHJ1bGUsICdpZycpOwogICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShyZWdleHAsICcnKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIF8uaXNBcnJheShydWxlKToKICAgICAgICAgICAgICAgIHJ1bGUuZm9yRWFjaChmdW5jdGlvbihyKXsKICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gc2VsZi5yZXBsYWNlVGV4dCh0ZXh0LCByKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgXy5pc09iamVjdChydWxlKToKICAgICAgICAgICAgICAgIHZhciBrZXk7CiAgICAgICAgICAgICAgICBmb3Ioa2V5IGluIHJ1bGUpewogICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UobmV3IFJlZ0V4cChrZXksICJpZyIpLCBydWxlW2tleV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIGNvbnZlcnQydHc6IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgaWYgKCF0ZXh0KSByZXR1cm4gdGV4dDsKCiAgICAgICAgdmFyIGlpLCBsZW4sIHN0cjsKICAgICAgICBzdHIgPSB0ZXh0LnNwbGl0KCIiKTsKICAgICAgICBsZW4gPSBzdHIubGVuZ3RoOwogICAgICAgIGZvciAoaWkgPSAwOyBpaSA8IGxlbjsgaWkrKykgewogICAgICAgICAgICBzdHJbaWldID0gY24ydHdbc3RyW2lpXV0gfHwgc3RyW2lpXTsKICAgICAgICB9CgogICAgICAgIHN0ciA9IHN0ci5qb2luKCIiKTsKCiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCiAgICBjb250ZW50Q3VzdG9tUmVwbGFjZTogZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICBpZiAoIXRleHQpIHJldHVybiB0ZXh0OwoKICAgICAgICBmb3IgKHZhciBrZXkgaW4gUnVsZS5jdXN0b21SZXBsYWNlKSB7CiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UobmV3IFJlZ0V4cChrZXksICdpZycpLCBSdWxlLmN1c3RvbVJlcGxhY2Vba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIHNwbGl0Q29udGVudDogZnVuY3Rpb24gKHRleHQpIHsgIC8vIOacieS6m+eroOiKguaVtOS4qumDvembhuS4reWcqOS4gOi1t++8jOayoeacieWIhuaute+8jOi/meS4quWHveaVsOeUqOS6jueugOaYk+WIhuautQogICAgICAgIGlmICh0ZXh0LmluZGV4T2YoJ+OAgicpID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiBbdGV4dF07CiAgICAgICAgfQoKICAgICAgICB2YXIgaGFzTWFyayA9IGZhbHNlLAogICAgICAgICAgICBsaW5lcyA9IFtdCiAgICAgICAgICAgIGNoYXJDb3RhaW5lciA9IFtdOwoKICAgICAgICB0ZXh0LnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHsKICAgICAgICAgICAgY2hhckNvdGFpbmVyLnB1c2goYyk7CgogICAgICAgICAgICBpZiAoYyA9PSAn4oCcJykgewogICAgICAgICAgICAgICAgaGFzTWFyayA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PSAn4oCdJykgewogICAgICAgICAgICAgICAgaGFzTWFyayA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT0gJ+OAgicgJiYgIWhhc01hcmspIHsKICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goY2hhckNvdGFpbmVyLmpvaW4oJycpKTsKICAgICAgICAgICAgICAgIGNoYXJDb3RhaW5lciA9IFtdOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiBsaW5lczsKICAgIH0sCgogICAgLy8g6I635Y+W5LiK5LiL6aG15Y+K55uu5b2V6aG16ZO+5o6lCiAgICBnZXRQcmV2VXJsOiBmdW5jdGlvbigpewogICAgICAgIHZhciB1cmwgPSAnJywKICAgICAgICAgICAgbGluaywgc2VsZWN0b3I7CgogICAgICAgIGlmICh0aGlzLmluZm8ucHJldlNlbGVjdG9yID09PSBmYWxzZSkgewogICAgICAgICAgICB0aGlzLnByZXZVcmwgPSB1cmw7CiAgICAgICAgICAgIHJldHVybiB1cmw7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5pbmZvLnByZXZVcmwgJiYgXy5pc0Z1bmN0aW9uKHRoaXMuaW5mby5wcmV2VXJsKSkgewogICAgICAgICAgICB1cmwgPSB0aGlzLmluZm8ucHJldlVybCh0aGlzLiRkb2MpOwogICAgICAgICAgICB1cmwgPSB0aGlzLmNoZWNrTGlua3ModXJsKTsKICAgICAgICB9CgogICAgICAgIGlmICghdXJsKSB7CiAgICAgICAgICAgIHNlbGVjdG9yID0gdGhpcy5pbmZvLnByZXZTZWxlY3RvciB8fCBSdWxlLnByZXZTZWxlY3RvcjsKICAgICAgICAgICAgbGluayA9IHRoaXMuJGRvYy5maW5kKHNlbGVjdG9yKTsKICAgICAgICAgICAgaWYobGluay5sZW5ndGgpewogICAgICAgICAgICAgICAgdXJsID0gdGhpcy5jaGVja0xpbmtzKGxpbmspOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodXJsKSB7CiAgICAgICAgICAgIEMubG9nKCLmib7liLDkuIrkuIDpobXpk77mjqU6ICIgKyB1cmwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEMubG9nKCLml6Dms5Xmib7liLDkuIrkuIDpobXpk77mjqUiKTsKICAgICAgICB9CgogICAgICAgIHRoaXMucHJldlVybCA9IHVybCB8fCAnJzsKICAgICAgICByZXR1cm4gdXJsOwogICAgfSwKICAgIGdldEluZGV4VXJsOiBmdW5jdGlvbigpewogICAgICAgIHZhciB1cmwgPSAnJywKICAgICAgICAgICAgbGluazsKCiAgICAgICAgaWYgKHRoaXMuaW5mby5pbmRleFNlbGVjdG9yID09PSBmYWxzZSkgewogICAgICAgICAgICB0aGlzLmluZGV4VXJsID0gdXJsOwogICAgICAgICAgICByZXR1cm4gdXJsOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuaW5mby5pbmRleFNlbGVjdG9yICYmIF8uaXNGdW5jdGlvbih0aGlzLmluZm8uaW5kZXhTZWxlY3RvcikpIHsKICAgICAgICAgICAgdXJsID0gdGhpcy5pbmZvLmluZGV4U2VsZWN0b3IodGhpcy4kZG9jKTsKICAgICAgICB9IGVsc2UgaWYodGhpcy5pbmZvLmluZGV4U2VsZWN0b3IpewogICAgICAgICAgICBsaW5rID0gdGhpcy4kZG9jLmZpbmQodGhpcy5pbmZvLmluZGV4U2VsZWN0b3IpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBzZWxlY3RvcnMgPSBSdWxlLmluZGV4U2VsZWN0b3JzOwogICAgICAgICAgICB2YXIgX2luZGV4TGluazsKICAgICAgICAgICAgLy8g5oyJ54Wn6aG65bqP6YCJ5Y+W55uu5b2V6ZO+5o6lCiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSBzZWxlY3RvcnMubGVuZ3RoOyBpIDwgbDsgaSsrKXsKICAgICAgICAgICAgICAgIF9pbmRleExpbmsgPSB0aGlzLiRkb2MuZmluZChzZWxlY3RvcnNbaV0pOwogICAgICAgICAgICAgICAgaWYoX2luZGV4TGluay5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgICAgICBsaW5rID0gX2luZGV4TGluazsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYobGluayAmJiBsaW5rLmxlbmd0aCl7CiAgICAgICAgICAgIHVybCA9IHRoaXMuY2hlY2tMaW5rcyhsaW5rKTsKICAgICAgICAgICAgQy5sb2coIuaJvuWIsOebruW9lemTvuaOpTogIiArIHVybCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXVybCkgewogICAgICAgICAgICBDLmxvZygi5peg5rOV5om+5Yiw55uu5b2V6ZO+5o6lLiIpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5pbmRleFVybCA9IHVybDsKICAgICAgICByZXR1cm4gdXJsOwogICAgfSwKICAgIGdldE5leHRVcmw6IGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIHVybCA9ICcnLAogICAgICAgICAgICBsaW5rLAogICAgICAgICAgICBzZWxlY3RvciA9IHRoaXMuaW5mby5uZXh0U2VsZWN0b3IgfHwgUnVsZS5uZXh0U2VsZWN0b3I7CgogICAgICAgIGlmICh0aGlzLmluZm8ubmV4dFNlbGVjdG9yID09PSBmYWxzZSkgewogICAgICAgICAgICB0aGlzLm5leHRVcmwgPSB1cmw7CiAgICAgICAgICAgIHJldHVybiB1cmw7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5pbmZvLm5leHRVcmwgJiYgXy5pc0Z1bmN0aW9uKHRoaXMuaW5mby5uZXh0VXJsKSkgewogICAgICAgICAgICB1cmwgPSB0aGlzLmluZm8ubmV4dFVybCh0aGlzLiRkb2MpOwogICAgICAgICAgICB1cmwgPSB0aGlzLmNoZWNrTGlua3ModXJsKTsKICAgICAgICB9CgogICAgICAgIGlmICghdXJsKSB7CiAgICAgICAgICAgIGxpbmsgPSB0aGlzLiRkb2MuZmluZChzZWxlY3Rvcik7CiAgICAgICAgICAgIGlmKGxpbmsubGVuZ3RoKXsKICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuY2hlY2tMaW5rcyhsaW5rKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHVybCkgewogICAgICAgICAgICBDLmxvZygi5om+5Yiw5LiL5LiA6aG16ZO+5o6lOiAiICsgdXJsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBDLmxvZygi5peg5rOV5om+5Yiw5LiL5LiA6aG16ZO+5o6lIik7CiAgICAgICAgfQoKICAgICAgICB0aGlzLm5leHRVcmwgPSB1cmwgfHwgJyc7CiAgICAgICAgdGhpcy5pc1RoZUVuZCA9ICF0aGlzLmNoZWNrTmV4dFVybCh1cmwpOwogICAgICAgIGlmKHRoaXMuaXNUaGVFbmQpewogICAgICAgICAgICB0aGlzLnRoZUVuZENvbG9yID0gY29uZmlnLmVuZF9jb2xvcjsKICAgICAgICB9CgogICAgICAgIHJldHVybiB1cmw7CiAgICB9LAogICAgY2hlY2tOZXh0VXJsOiBmdW5jdGlvbih1cmwpewogICAgICAgIGlmICh0aGlzLmluZm8uY2hlY2tTZWN0aW9uKSB7CiAgICAgICAgICAgIGlmICgvXC9cZCtfXGQrXC5odG1sJC8udGVzdCh0aGlzLmN1clBhZ2VVcmwpKSB7CiAgICAgICAgICAgICAgICB0aGlzLmlzU2VjdGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICBpZih1cmwgPT0gdGhpcy5pbmRleFVybCl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIOi3nyBpbmNsdWRlIOavlOi+gwogICAgICAgIHZhciBpbmNsdWRlVXJsID0gdGhpcy5pbmZvLmluY2x1ZGVVcmwgfHwgdGhpcy5nZXRJbmNsdWRlVXJsKCk7CiAgICAgICAgaWYgKCF0b1JFKGluY2x1ZGVVcmwpLnRlc3QodXJsKSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICBzd2l0Y2godHJ1ZSl7CiAgICAgICAgICAgIGNhc2UgdXJsID09PSAnJzoKICAgICAgICAgICAgY2FzZSBSdWxlLm5leHRVcmxJZ25vcmUuc29tZShmdW5jdGlvbihyZSkgeyByZXR1cm4gdG9SRShyZSkudGVzdCh1cmwpIH0pOgogICAgICAgICAgICBjYXNlIHVybCA9PT0gdGhpcy5pbmRleFVybDoKICAgICAgICAgICAgY2FzZSB1cmwgPT09IHRoaXMucHJldlVybDoKICAgICAgICAgICAgY2FzZSB1cmwgPT09IHRoaXMuY3VyUGFnZVVybDoKICAgICAgICAgICAgY2FzZSBSdWxlLm5leHRVcmxDb21wYXJlLnRlc3QodGhpcy5wcmV2VXJsKSAmJiAhUnVsZS5uZXh0VXJsQ29tcGFyZS50ZXN0KHVybCk6CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9LAogICAgZ2V0SW5jbHVkZVVybDogZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGluY2x1ZGVVcmwgPSB0aGlzLmluZm8udXJsOwoKICAgICAgICBpZiAoIWluY2x1ZGVVcmwgJiYgdHlwZW9mIEdNX2luZm8gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIHZhciBsb2NhdGlvbkhyZWYgPSBsb2NhdGlvbi5ocmVmOwogICAgICAgICAgICBHTV9pbmZvLnNjcmlwdC5pbmNsdWRlcy5zb21lKGZ1bmN0aW9uKGluY2x1ZGVTdHIpIHsKICAgICAgICAgICAgICAgIHZhciBpVXJsID0gd2lsZGNhcmRUb1JlZ0V4cFN0cihpbmNsdWRlU3RyKTsKICAgICAgICAgICAgICAgIGlmICh0b1JFKGlVcmwpLnRlc3QobG9jYXRpb25IcmVmKSkgewogICAgICAgICAgICAgICAgICAgIGluY2x1ZGVVcmwgPSBpVXJsOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRoaXMuaW5mby5pbmNsdWRlVXJsID0gaW5jbHVkZVVybDsKICAgICAgICByZXR1cm4gaW5jbHVkZVVybDsKICAgIH0sCiAgICBjaGVja0xpbmtzOiBmdW5jdGlvbihsaW5rcyl7CiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgIGlmIChfLmlzU3RyaW5nKGxpbmtzKSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGdWxsSHJlZihsaW5rcyk7CiAgICAgICAgfQoKICAgICAgICB2YXIgdXJsID0gIiI7CiAgICAgICAgbGlua3MgJiYgbGlua3MuZWFjaChmdW5jdGlvbigpewogICAgICAgICAgICB1cmwgPSAkKHRoaXMpLmF0dHIoImhyZWYiKTsKICAgICAgICAgICAgaWYoIXVybCB8fCB1cmwuaW5kZXhPZigiIyIpID09PSAwIHx8IHVybC5pbmRleE9mKCJqYXZhc2NyaXB0OiIpID09PSAwKQogICAgICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICAgICAgdXJsID0gc2VsZi5nZXRGdWxsSHJlZih0aGlzKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0pOwoKICAgICAgICByZXR1cm4gdXJsOwogICAgfSwKICAgIGdldExpbmtVcmw6IGZ1bmN0aW9uKGxpbmtPclVybCkgewogICAgICAgIC8vIGlmIChsaW5rT3JVcmwgJiYgKQogICAgICAgIHJldHVybiBsaW5rT3JVcmw7CiAgICB9LAogICAgZ2V0RnVsbEhyZWY6IGZ1bmN0aW9uKGhyZWYpIHsKICAgICAgICBpZighaHJlZikgcmV0dXJuICcnOwoKICAgICAgICBpZiAoIV8uaXNTdHJpbmcoaHJlZikpIHsKICAgICAgICAgICAgaHJlZiA9IGhyZWYuZ2V0QXR0cmlidXRlKCdocmVmJyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoaHJlZi5pbmRleE9mKCdodHRwOi8vJykgPT09IDApIHsKICAgICAgICAgICAgcmV0dXJuIGhyZWY7CiAgICAgICAgfQoKICAgICAgICB2YXIgYSA9IHRoaXMuYTsKICAgICAgICBpZiAoIWEpIHsKICAgICAgICAgICAgdGhpcy5hID0gYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICB9CiAgICAgICAgYS5ocmVmID0gaHJlZjsKCiAgICAgICAgLy8g5qOA5rWLIGhvc3Qg5piv5ZCm5ZKMIOW9k+WJjemhteeahOS4gOiHtAogICAgICAgIGlmIChhLmhvc3QgIT0gdGhpcy5fY3VyUGFnZUhvc3QpIHsKICAgICAgICAgICAgYS5ob3N0ID0gdGhpcy5fY3VyUGFnZUhvc3Q7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYS5ocmVmOwogICAgfSwKfTsKCgp2YXIgQXBwID0gewogICAgaXNFbmFibGVkOiBmYWxzZSwKICAgIHBhcnNlZFBhZ2VzOiB7fSwKICAgIHBhZ2VOdW06IDEsCiAgICBwYXVzZWQ6IGZhbHNlLAogICAgY3VyUGFnZVVybDogbG9jYXRpb24uaHJlZiwKICAgIHJlcXVlc3RVcmw6IG51bGwsCiAgICBpZnJhbWU6IG51bGwsCiAgICByZW1vdmU6IFtdLAoKICAgIGluaXQ6IGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChbIm15bm92ZWxyZWFkZXItaWZyYW1lIiwgInN1cGVycHJlbG9hZGVyLWlmcmFtZSJdLmluZGV4T2Yod2luZG93Lm5hbWUpICE9IC0xKSB7IC8vIOeUqOS6juWKoOi9veS4i+S4gOmhteeahCBpZnJhbWUKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8g5omL5Yqo6LCD55SoCiAgICAgICAgdmFyIHJlYWR4ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIC8vIOmYsuatoiB1bnNhZmVXaW5kb3cgY2Fubm90IGNhbGw6IEdNX2dldFZhbHVlCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBBcHAubGF1bmNoKCk7CiAgICAgICAgICAgIH0sIDApOwogICAgICAgIH07CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZXhwb3J0RnVuY3Rpb24ocmVhZHgsIHVuc2FmZVdpbmRvdywge2RlZmluZUFzOiAicmVhZHgifSk7CiAgICAgICAgfSBjYXRjaChleCkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCfml6Dms5XlrprkuYkgcmVhZHgg5Ye95pWwJyk7CiAgICAgICAgfQoKCiAgICAgICAgQXBwLmxvYWRDdXN0b21TZXR0aW5nKCk7CiAgICAgICAgQXBwLnNpdGUgPSBBcHAuZ2V0Q3VyU2l0ZUluZm8oKTsKICAgICAgICB2YXIgYXV0b0xhdW5jaCA9IEFwcC5pc0F1dG9MYXVuY2goKTsKCiAgICAgICAgaWYgKGF1dG9MYXVuY2ggPT09IC0xKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKGF1dG9MYXVuY2gpIHsKICAgICAgICAgICAgaWYgKEFwcC5zaXRlLm11dGF0aW9uU2VsZWN0b3IpIHsgLy8g54m55q6K55qE5ZCv5Yqo77ya562J5b6FanPmiorlhoXlrrnnlJ/miJDlrozmr5UKICAgICAgICAgICAgICAgIEFwcC5hZGRNdXRhdGlvbk9ic2VydmUoZG9jdW1lbnQsIEFwcC5sYXVuY2gpOwogICAgICAgICAgICB9IGVsc2UgaWYgKEFwcC5zaXRlLnRpbWVvdXQpIHsgLy8g5bu26L+f5ZCv5YqoCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KEFwcC5sYXVuY2gsIEFwcC5zaXRlLnRpbWVvdXQpOwogICAgICAgICAgICB9IGVsc2UgeyAvLyBOb1NjcmlwdCDkuIsgc2V0VGltZW91dCDmsqHnlKjvvJ8KICAgICAgICAgICAgICAgIEFwcC5sYXVuY2goKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFVJLmFkZEJ1dHRvbigpOwogICAgICAgIH0KICAgIH0sCiAgICBsb2FkQ3VzdG9tU2V0dGluZzogZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGN1c3RvbVJ1bGVzOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGN1c3RvbVJ1bGVzID0gZXZhbChDb25maWcuY3VzdG9tU2l0ZWluZm8pOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign6L295YWl6Ieq5a6a5LmJ56uZ54K56YWN572u6ZSZ6K+vJywgZSk7CiAgICAgICAgfQogICAgICAgIGlmIChfLmlzQXJyYXkoY3VzdG9tUnVsZXMpKSB7CiAgICAgICAgICAgIFJ1bGUuY3VzdG9tUnVsZXMgPSBjdXN0b21SdWxlczsKICAgICAgICAgICAgQy5sb2coJ+i9veWFpeiHquWumuS5ieermeeCueinhOWImeaIkOWKnycsIGN1c3RvbVJ1bGVzKTsKICAgICAgICB9CgogICAgICAgIC8vIGxvYWQgY3VzdG9tIHJlcGxhY2UgcnVsZXMKICAgICAgICBSdWxlLmN1c3RvbVJlcGxhY2UgPSBSdWxlLnBhcnNlQ3VzdG9tUmVwbGFjZVJ1bGVzKENvbmZpZy5jdXN0b21SZXBsYWNlUnVsZXMpOwoKICAgICAgICBDLmxvZygn6L295YWl6Ieq5a6a5LmJ5pu/5o2i6KeE5YiZ5oiQ5YqfJywgUnVsZS5jdXN0b21SZXBsYWNlKTsKICAgIH0sCiAgICBnZXRDdXJTaXRlSW5mbzogZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIHJ1bGVzID0gUnVsZS5jdXN0b21SdWxlcy5jb25jYXQoUnVsZS5zcGVjaWFsU2l0ZSk7CiAgICAgICAgdmFyIGxvY2F0aW9uSHJlZiA9IGxvY2F0aW9uLmhyZWY7CgogICAgICAgIHZhciBpbmZvID0gXy5maW5kKHJ1bGVzLCBmdW5jdGlvbih4KSB7CiAgICAgICAgICAgIHJldHVybiB0b1JFKHgudXJsKS50ZXN0KGxvY2F0aW9uSHJlZik7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKCFpbmZvKSB7CiAgICAgICAgICAgIGluZm8gPSB7fTsKICAgICAgICAgICAgQy5sb2coIuayoeacieaJvuWIsOinhOWIme+8jOWwneivleiHquWKqOaooeW8j+OAgiIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEMubG9nKCLmib7liLDop4TliJnvvJoiLCBpbmZvKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGluZm87CiAgICB9LAogICAgaXNBdXRvTGF1bmNoOiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgbG9jYXRpb25IcmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWYsCiAgICAgICAgICAgIGxvY2F0aW9uSG9zdCA9IGxvY2F0aW9uLmhvc3QsCiAgICAgICAgICAgIHJlZmVycmVyID0gZG9jdW1lbnQucmVmZXJyZXI7CiAgICAgICAgc3dpdGNoICh0cnVlKSB7CiAgICAgICAgICAgIGNhc2UgTF9nZXRWYWx1ZSgibXlub3ZlcmxyZWFkZXJfZGlzYWJsZV9vbmNlIikgPT0gJ3RydWUnOgogICAgICAgICAgICAgICAgTF9yZW1vdmVWYWx1ZSgibXlub3ZlcmxyZWFkZXJfZGlzYWJsZV9vbmNlIik7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIC8vIGNhc2UgbG9jYXRpb24uaG9zdG5hbWUgPT0gJ3d3dy5ma3p3dy5uZXQnICYmICFkb2N1bWVudC50aXRsZS5tYXRjaCgv572R5paH5b+r6K6vLyk6ICAvLyDllYPkuablj6roh6rliqjlkK/nlKjkuIDkuKrlnLDmlrkKICAgICAgICAgICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgY2FzZSBDb25maWcuYm9va2xpbmtfZW5hYmxlICYmIC9ib29rbGlua1wubWUvLnRlc3QocmVmZXJyZXIpOgogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgbG9jYXRpb25Ib3N0ID09ICd0aWViYS5iYWlkdS5jb20nOgogICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gJCgnLmNvcmVfdGl0bGVfdHh0JykudGV4dCgpOwogICAgICAgICAgICAgICAgaWYgKHRpdGxlLm1hdGNoKFJ1bGUudGl0bGVSZWdFeHApKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgQ29uZmlnLmdldERpc2FibGVBdXRvTGF1bmNoKCk6CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIGNhc2UgR01fZ2V0VmFsdWUoImF1dG9fZW5hYmxlIik6CiAgICAgICAgICAgIGNhc2UgY29uZmlnLnNvZHVzbyAmJiAvd3d3XC5zb2R1XC5zby8udGVzdChyZWZlcnJlcik6CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9LAogICAgYWRkTXV0YXRpb25PYnNlcnZlOiBmdW5jdGlvbihkb2MsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHNob3VsZEFkZCA9IGZhbHNlOwogICAgICAgIHZhciAkZG9jID0gJChkb2MpOwoKICAgICAgICBpZiAoJGRvYy5maW5kKEFwcC5zaXRlLmNvbnRlbnRTZWxlY3Rvcikuc2l6ZSgpKSB7CiAgICAgICAgICAgIHNob3VsZEFkZCA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBtdXRhdGlvblNlbGVjdG9yID0gQXBwLnNpdGUubXV0YXRpb25TZWxlY3RvcjsKICAgICAgICAgICAgdmFyIHRhcmdldCA9ICRkb2MuZmluZChtdXRhdGlvblNlbGVjdG9yKVswXTsKICAgICAgICAgICAgaWYgKHRhcmdldCkgewogICAgICAgICAgICAgICAgdmFyIGNoaWxkQ291bnQgPSBBcHAuc2l0ZS5tdXRhdGlvbkNoaWxkQ291bnQ7CiAgICAgICAgICAgICAgICBpZiAoY2hpbGRDb3VudCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldC5jaGlsZHJlbi5sZW5ndGggPD0gY2hpbGRDb3VudCkgewogICAgICAgICAgICAgICAgICAgIHNob3VsZEFkZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChzaG91bGRBZGQpIHsKICAgICAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24obXV0YXRpb25zKSB7CiAgICAgICAgICAgICAgICB2YXIgbm9kZUFkZGVkID0gbXV0YXRpb25zLnNvbWUoZnVuY3Rpb24oeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB4LmFkZGVkTm9kZXMubGVuZ3RoID4gMDsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChub2RlQWRkZWQpIHsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCwgewogICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgQy5sb2coIua3u+WKoCBNdXRhdGlvbk9ic2VydmUg5oiQ5Yqf77yaIiwgbXV0YXRpb25TZWxlY3Rvcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9CiAgICB9LAogICAgbGF1bmNoOiBmdW5jdGlvbigpIHsKICAgICAgICAvLyDlj6rop6PmnpDkuIDmrKHvvIzpmLLmraLlpJrmrKHph43lpI3op6PmnpDkuIDkuKrpobXpnaIKICAgICAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZSgibmFtZSIpID09ICJNeU5vdmVsUmVhZGVyIikgewogICAgICAgICAgICByZXR1cm4gQXBwLnRvZ2dsZSgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFBcHAuc2l0ZSkgewogICAgICAgICAgICBBcHAuc2l0ZSA9IEFwcC5nZXRDdXJTaXRlSW5mbygpOwogICAgICAgIH0KCiAgICAgICAgaWYgKEFwcC5zaXRlLnN0YXJ0RmlsdGVyKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBBcHAuc2l0ZS5zdGFydEZpbHRlcigpOwogICAgICAgICAgICAgICAgQy5sb2coJ3J1biBzdGFydEZpbHRlciBmdW5jdGlvbiBzdWNjZXNzJyk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfov5DooYwgc3RhcnRGaWx0ZXIgZnVuY3Rpb24g6ZSZ6K+vJywgZXgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihBcHAuc2l0ZSwgZG9jdW1lbnQpOwogICAgICAgIHZhciBoYXNDb250ZW50ID0gISFwYXJzZXIuaGFzQ29udGVudCgpOwogICAgICAgIGlmIChoYXNDb250ZW50KSB7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCJuYW1lIiwgIk15Tm92ZWxSZWFkZXIiKTsKICAgICAgICAgICAgQXBwLnBhcnNlZFBhZ2VzW3dpbmRvdy5sb2NhdGlvbi5ocmVmXSA9IHRydWU7CiAgICAgICAgICAgIHBhcnNlci5nZXRBbGwoZnVuY3Rpb24ocGFyc2VyKSB7CiAgICAgICAgICAgICAgICBBcHAucHJvY2Vzc1BhZ2UocGFyc2VyKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigi5b2T5YmN6aG16Z2i5rKh5pyJ5om+5Yiw5YaF5a65Iik7CiAgICAgICAgfQoKICAgICAgICAvLyDliJ3lp4vljJYsIOWPlua2iOmhtemdoumZkOWItuetiQogICAgICAgIGlmIChBcHAuc2l0ZS5mSW5pdCkKICAgICAgICAgICAgQXBwLnNpdGUuZkluaXQoKTsKICAgIH0sCiAgICBwcm9jZXNzUGFnZTogZnVuY3Rpb24ocGFyc2VyKSB7CiAgICAgICAgLy8g5a+5IERvY3VtZW50IOi/m+ihjOWkhOeQhgogICAgICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgQXBwLnByZXBEb2N1bWVudCgpOwogICAgICAgIEFwcC5pbml0RG9jdW1lbnQocGFyc2VyKTsKCiAgICAgICAgLy8gY2FjaGUgdmFycwogICAgICAgIEFwcC4kZG9jID0gJChkb2N1bWVudCk7CiAgICAgICAgQXBwLiRtZW51QmFyID0gQXBwLiRkb2MuZmluZCgiI21lbnUtYmFyIik7CiAgICAgICAgQXBwLiRtZW51ID0gQXBwLiRkb2MuZmluZCgiI21lbnUiKTsKICAgICAgICBBcHAuJGNvbnRlbnQgPSBBcHAuJGRvYy5maW5kKCIjbXlub3ZlbHJlYWRlci1jb250ZW50Iik7CiAgICAgICAgQXBwLiRsb2FkaW5nID0gQXBwLiRkb2MuZmluZCgiI2xvYWRpbmciKTsKICAgICAgICBBcHAuJHByZWZlcmVuY2VzQnRuID0gQXBwLiRkb2MuZmluZCgiI3ByZWZlcmVuY2VzQnRuIik7CgogICAgICAgIEFwcC4kbWVudUhlYWRlciA9IEFwcC4kbWVudS5maW5kKCIjY2hhcHRlci1saXN0Iik7CiAgICAgICAgQXBwLiRjaGFwdGVyTGlzdCA9IEFwcC4kbWVudS5maW5kKCIjY2hhcHRlci1saXN0Iik7CgogICAgICAgIEFwcC5pbmRleFVybCA9IHBhcnNlci5pbmRleFVybDsKICAgICAgICBBcHAucHJldlVybCA9IHBhcnNlci5wcmV2VXJsOyAvLyDnrKzkuIDkuKrkuIrkuIDpobUKCiAgICAgICAgQXBwLm9BcnRpY2xlcyA9IFtdOyAgLy8g5Y6f5aeL55qE5YaF5a6577yM55So5LqO5pu/5o2i55qE5peg6ZyA5Yi35pawCiAgICAgICAgQXBwLnBhcnNlcnMgPSBbXTsKCiAgICAgICAgLy8g5Yqg5YWl5LiK5LiA56ug55qE6ZO+5o6lCiAgICAgICAgaWYgKHBhcnNlci5wcmV2VXJsKSB7CiAgICAgICAgICAgICQoIjxsaT4iKQogICAgICAgICAgICAgICAgLmFkZENsYXNzKCdjaGFwdGVyJykKICAgICAgICAgICAgICAgIC5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgJCgiPGRpdj4iKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKHsKICAgICAgICAgICAgICAgICAgICAgICAgInJlYWxIcmVmIjogcGFyc2VyLnByZXZVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgICJvbmNsaWNrIjogInJldHVybiBmYWxzZTsiCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAudGV4dCgi5LiK5LiA56ugIi51aVRyYW5zKCkpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAucHJlcGVuZFRvKEFwcC4kY2hhcHRlckxpc3QpOwogICAgICAgIH0KCiAgICAgICAgLy8g5o+S5YWl56uZ54K55qC35byPCiAgICAgICAgaWYgKEFwcC5zaXRlLnN0eWxlKSB7CiAgICAgICAgICAgIEdNX2FkZFN0eWxlKEFwcC5zaXRlLnN0eWxlKTsKICAgICAgICB9CgogICAgICAgIEFwcC5hcHBlbmRQYWdlKHBhcnNlciwgdHJ1ZSk7CgogICAgICAgIEFwcC5yZWdpc3RlckNvbnRyb2xzKCk7CgogICAgICAgIC8vIFVJIOeahOWIneWni+WMlgogICAgICAgIFVJLmluaXQoKTsKCiAgICAgICAgQXBwLmN1ckZvY3VzRWxlbWVudCA9ICQoImFydGljbGU6Zmlyc3QiKS5nZXQoMCk7IC8vIOWIneWni+WMluW9k+WJjeWFs+azqOeahCBlbGVtZW50CiAgICAgICAgQXBwLnJlcXVlc3RVcmwgPSBwYXJzZXIubmV4dFVybDsKICAgICAgICBBcHAuaXNUaGVFbmQgPSBwYXJzZXIuaXNUaGVFbmQ7CgogICAgICAgIEFwcC5pc0VuYWJsZWQgPSB0cnVlOwogICAgICAgIFVJLmFkZEJ1dHRvbigpOwoKICAgICAgICAvLyAvLyDlpoLmnpzlt7Lnu4/miorlvZPliY3nhKbngrnpk77mjqXmt7vliqDliLDljoblj7LorrDlvZXvvIzliJnmu5rliqjliLDpobbpg6gKICAgICAgICAvLyBpZiAoQ29uZmlnLmFkZFRvSGlzdG9yeSkgewogICAgICAgIC8vICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CiAgICAgICAgLy8gfQoKICAgICAgICAvLyDmnInkupvlm77niYfnvZHnq5npq5jluqbpmo/nnYDlm77niYfliqDovb3ogIzlj5jplb8KICAgICAgICBzZXRUaW1lb3V0KEFwcC5zY3JvbGwsIDEwMDApOwoKICAgICAgICBBcHAuY2xlYW5BZ2FpbigpOwoKICAgICAgICBpZiAoY29uZmlnLlBSRUxPQURFUikgewogICAgICAgICAgICBBcHAuZG9SZXF1ZXN0KCk7CiAgICAgICAgfQogICAgfSwKICAgIHByZXBEb2N1bWVudDogZnVuY3Rpb24oKSB7CiAgICAgICAgd2luZG93Lm9ubG9hZCA9IHdpbmRvdy5vbnVubG9hZCA9IGZ1bmN0aW9uKCkge307CgogICAgICAgIC8vIOegtOino+WPs+mUrumZkOWItgogICAgICAgIHZhciBkb2MgPSBkb2N1bWVudDsKICAgICAgICB2YXIgYmQgPSBkb2MuYm9keTsKICAgICAgICBiZC5vbmNsaWNrID0gYmQub25kYmxjbGljayA9IGJkLm9uc2VsZWN0c3RhcnQgPSBiZC5vbmNvcHkgPSBiZC5vbnBhc3RlID0gYmQub25rZXlkb3duID0gYmQub25jb250ZXh0bWVudSA9IGJkLm9ubW91c2Vtb3ZlID0gYmQub25zZWxlY3RzdGFydCA9IGJkLm9uZHJhZ3N0YXJ0ID0gZG9jLm9uc2VsZWN0c3RhcnQgPSBkb2Mub25jb3B5ID0gZG9jLm9ucGFzdGUgPSBkb2Mub25rZXlkb3duID0gZG9jLm9uY29udGV4dG1lbnUgPSBudWxsOwogICAgICAgIGRvYy5vbmNsaWNrID0gZG9jLm9uZGJsY2xpY2sgPSBkb2Mub25zZWxlY3RzdGFydCA9IGRvYy5vbmNvbnRleHRtZW51ID0gZG9jLm9ubW91c2Vkb3duID0gZG9jLm9ua2V5ZG93biA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9OwoKICAgICAgICBkb2MgPSBkb2N1bWVudC53cmFwcGVkSlNPYmplY3QgfHwgZG9jdW1lbnQ7CiAgICAgICAgZG9jLm9ubW91c2V1cCA9IG51bGw7CiAgICAgICAgZG9jLm9ubW91c2Vkb3duID0gbnVsbDsKICAgICAgICBkb2Mub25jb250ZXh0bWVudSA9IG51bGw7CgogICAgICAgIHZhciBhckFsbEVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKTsKICAgICAgICBmb3IgKHZhciBpID0gYXJBbGxFbGVtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgICAgICB2YXIgZWxtT25lID0gYXJBbGxFbGVtZW50c1tpXTsKICAgICAgICAgICAgZWxtT25lID0gZWxtT25lLndyYXBwZWRKU09iamVjdCB8fCBlbG1PbmU7CiAgICAgICAgICAgIGVsbU9uZS5vbm1vdXNldXAgPSBudWxsOwogICAgICAgICAgICBlbG1PbmUub25tb3VzZWRvd24gPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgJChkb2N1bWVudCkudW5iaW5kKCJrZXlwcmVzcyIpOwogICAgICAgICQoZG9jdW1lbnQpLnVuYmluZCgia2V5ZG93biIpOwoKICAgICAgICAvLyByZW1vdmUgYm9keSBzdHlsZQogICAgICAgICQoJ2xpbmtbcmVsPSJzdHlsZXNoZWV0Il0sIHNjcmlwdCcpLnJlbW92ZSgpOwogICAgICAgICQoJ2JvZHknKQogICAgICAgICAgICAucmVtb3ZlQXR0cignc3R5bGUnKQogICAgICAgICAgICAucmVtb3ZlQXR0cignYmdjb2xvcicpOwoKICAgICAgICAkKCdzdHlsZScpLmZpbHRlcihmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyICRzdHlsZSA9ICQodGhpcyk7CiAgICAgICAgICAgIGlmKCRzdHlsZS50ZXh0KCkuaW5kZXhPZignI2NWaW0tbGluay1jb250YWluZXInKSAhPSAtMSkgeyAgLy8gY2hyb21lIOeahCBjVmltIOaJqeWxlQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0pLnJlbW92ZSgpOwogICAgfSwKICAgIGluaXREb2N1bWVudDogZnVuY3Rpb24ocGFyc2VyKSB7CiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBwYXJzZXIuZG9jVGl0bGU7CiAgICAgICAgd2luZG93Lm5hbWUgPSAiTXlOb3ZlbFJlYWRlciI7CiAgICAgICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAkLm5hbm8oJzxkaXYgaWQ9ImNvbnRhaW5lciI+XG4gICAgPGRpdiBpZD0ibWVudS1iYXIiIHRpdGxlPSLngrnlh7vmmL7npLrpmpDol4/nq6DoioLliJfooagiPjwvZGl2PlxuICAgIDxkaXYgaWQ9Im1lbnUiPlxuICAgICAgICA8ZGl2IGlkPSJoZWFkZXIiIHRpdGxlPSLmiZPlvIDnm67lvZUiPlxuICAgICAgICAgICAgPGEgaHJlZj0ie2luZGV4VXJsfSIgdGFyZ2V0PSJfYmxhbmsiPntib29rVGl0bGV9PC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBpZD0iZGl2aWRlciI+PC9kaXY+XG4gICAgICAgIDx1bCBpZD0iY2hhcHRlci1saXN0IiB0aXRsZT0i5bem6ZSu5rua5Yqo77yM5Lit6ZSu5omT5byA6ZO+5o6l77yI5peg6ZiF6K+75qih5byP77yJIj5cbiAgICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPSJteW5vdmVscmVhZGVyLWNvbnRlbnQiPjwvZGl2PlxuICAgIDxkaXYgaWQ9ImxvYWRpbmciIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvZGl2PlxuICAgIDxkaXYgaWQ9InByZWZlcmVuY2VzQnRuIj5cbiAgICAgICAgPGltZyBzdHlsZT0id2lkdGg6MTZweCIgc3JjPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJnQUFBQVlDQVlBQUFEZ2R6MzRBQUFCd2tsRVFWUklpYlZWeldyQ1FCQWVRay9iZGsrYm0wYVdEUUVQSHR3VmFoZGF2TFU5YXc2S0FRK1NRODZTYTE5QXF1MFQ5TmFmU3c4dHRPZ3IxQ2V3VUI5Q0JMM1l5MjZ4MXFScDBBOEdoc25POXlVem14bUFoS2pYNjhjQU1BZUF1ZkszQzg3NUZRQXNBV0NwL08zQ3NxeWhGbEIrT3RpMi9jQVlld3JEOEZESGFyWGFoV0VZVXkxZ0dNYlVkZDF6L1R3TXcwUEcySk50Mi9leDVJeXhSMDJDRUpwSUtidUVrSkdPclJzaFpDU2w3Q0tFSmpyR0dIdUlGTWpsY3M5UlpFbE5jV3hHRUFRSEdPTnhXbktNOFRnSWdvUFlNa2twTDlNS3FOeDR4Tlg4THlPRXZNZVNxNXV4TVpsejN2Tjl2K0Q3Zm9GejNvczZWNjFXejM2UU5ocU5VeUhFTmFWMENBQ0xUVW5GWXZGNi9XVlViSlBJZ2xJNkZFTGN0RnF0TWlUNTlIYTdUZGNGVkN4SjZYWXMwR3cyVDFTSkJsc3EwWnhTT2hCQzNIaWVkL1FqU1RVb3FzbjlsU2Izbzg3OWF2STYxRlhielRVRkFDaVh5N3Y3MFRxZHpqN0crQ090d0oraklwUEp2S1lsMTJaWjFrdWN3SnMraUJENmxGSjJUZE9NSEIybWFiNy9hMXhYS3BXOWZENS82empPM2VyQ2NWMzNQTW5DY1J3bmZ1SEVZWFZsWnJQWlFXcWlLSlJLcGU4QnQ1T2w3M2xlQ1FCbUFEQlRmaUo4QWViVFlDUmJJM0JVQUFBQUFFbEZUa1N1UW1DQyIvPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9ImFsZXJ0IiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPlxuICAgICAgICA8cCBpZD0iQXBwLW5vdGljZSI+PC9wPlxuICAgIDwvZGl2PlxuPC9kaXY+Jy51aVRyYW5zKCksIHBhcnNlcik7CiAgICB9LAogICAgY2xlYW46IGZ1bmN0aW9uKCkgewogICAgICAgICQoJ2JvZHkgPiAqOm5vdCgiI2NvbnRhaW5lciwgLnJlYWRlcmJ0biwgI3JlYWRlcl9wcmVmZXJlbmNlcywgI3VpbF9ibG9ja2VyLGlmcmFtZVtuYW1lPVwnbXlub3ZlbHJlYWRlci1pZnJhbWVcJ10iKScpLnJlbW92ZSgpOwogICAgICAgICQoJ2xpbmtbcmVsPSJzdHlsZXNoZWV0Il0nKS5yZW1vdmUoKTsKICAgICAgICAkKCdib2R5JykucmVtb3ZlQXR0cignc3R5bGUnKTsKCiAgICAgICAgaWYgKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigncWlkaWFuJykgPiAwKSB7CiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5qUXVlcnkoZG9jdW1lbnQpLm9mZigic2VsZWN0c3RhcnQiKS5vZmYoImNvbnRleHRtZW51Iik7CiAgICAgICAgfQogICAgfSwKICAgIGNsZWFuQWdhaW46IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBob3N0ID0gbG9jYXRpb24uaG9zdDsKICAgICAgICBpZiAoIWhvc3QubWF0Y2goL3FpZGlhblwuY29tfHpvbmdoZW5nXC5jb20vKSkgeyAgLy8g5Y+q5Zyo6LW354K544CB57q15qiq562J572R56uZ6L+Q6KGMCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIOWGjeasoeenu+mZpOWFtuWug+S4jeebuOWFs+eahO+8jOi1t+eCue+8jOe6teaoquS4reaWh+acieaXtuWAmeaciemXrumimAogICAgICAgIHNldFRpbWVvdXQoQXBwLmNsZWFuLCAyMDAwKTsKICAgICAgICBzZXRUaW1lb3V0KEFwcC5jbGVhbiwgNTAwMCk7CiAgICAgICAgLy8gVE0g55SoIGFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnKSDmnInpl67popgKICAgICAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIEFwcC5jbGVhbigpOwogICAgICAgICAgICBzZXRUaW1lb3V0KEFwcC5jbGVhbiwgNTAwKTsKICAgICAgICB9OwogICAgfSwKICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKEFwcC5pc0VuYWJsZWQpIHsgLy8g6YCA5Ye6CiAgICAgICAgICAgIEdNX3NldFZhbHVlKCJhdXRvX2VuYWJsZSIsIGZhbHNlKTsKICAgICAgICAgICAgTF9zZXRWYWx1ZSgibXlub3ZlcmxyZWFkZXJfZGlzYWJsZV9vbmNlIiwgInRydWUiKTsKCiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IEFwcC5hY3RpdmVVcmw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgR01fc2V0VmFsdWUoImF1dG9fZW5hYmxlIiwgdHJ1ZSk7CiAgICAgICAgICAgIExfcmVtb3ZlVmFsdWUoIm15bm92ZXJscmVhZGVyX2Rpc2FibGVfb25jZSIpOwogICAgICAgICAgICBBcHAuaXNFbmFibGVkID0gdHJ1ZTsKICAgICAgICAgICAgQXBwLmxhdW5jaCgpOwogICAgICAgIH0KICAgIH0sCiAgICByZW1vdmVMaXN0ZW5lcjogZnVuY3Rpb24oKSB7CiAgICAgICAgQy5sb2coIuenu+mZpOWQhOenjeS6i+S7tuebkeWQrCIpOwogICAgICAgIEFwcC5yZW1vdmUuZm9yRWFjaChmdW5jdGlvbihfcmVtb3ZlKSB7CiAgICAgICAgICAgIF9yZW1vdmUoKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBhcHBlbmRQYWdlOiBmdW5jdGlvbihwYXJzZXIsIGlzRmlyc3QpIHsKICAgICAgICB2YXIgY2hhcHRlciA9ICQoImFydGljbGU6bGFzdCIpOwogICAgICAgIGlmIChjaGFwdGVyLmxlbmd0aCAmJiBwYXJzZXIuaXNTZWN0aW9uKSB7IC8vIOavj+asoeiOt+WPlueahOS4jeaYr+S4gOeroO+8jOiAjOaYr+S4gOiKggogICAgICAgICAgICB2YXIgbGFzdFRleHQgPSBjaGFwdGVyLmZpbmQoInA6bGFzdCIpLnJlbW92ZSgpLnRleHQoKS50cmltKCk7CiAgICAgICAgICAgIHZhciBuZXdQYWdlID0gcGFyc2VyLmNvbnRlbnQucmVwbGFjZSgvPHA+XHMrLywgIjxwPiIgKyBsYXN0VGV4dCk7CgogICAgICAgICAgICBjaGFwdGVyCiAgICAgICAgICAgICAgICAuZmluZCgiLmNoYXB0ZXItZm9vdGVyLW5hdiIpLnJlbW92ZSgpCiAgICAgICAgICAgICAgICAuZW5kKCkKICAgICAgICAgICAgICAgIC5hcHBlbmQobmV3UGFnZSk7CgogICAgICAgICAgICBpZiAoIUNvbmZpZy5oaWRlX2Zvb3Rlcl9uYXYpIHsKICAgICAgICAgICAgICAgIGNoYXB0ZXIuYXBwZW5kKCQubmFubyhVSS50cGxfZm9vdGVyX25hdiwgcGFyc2VyKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2hhcHRlciA9ICQoIjxhcnRpY2xlPiIpCiAgICAgICAgICAgICAgICAuYXR0cigiaWQiLCAicGFnZS0iICsgQXBwLnBhZ2VOdW0pCiAgICAgICAgICAgICAgICAuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICQoIjxoMT4iKS5hZGRDbGFzcygidGl0bGUiKS50ZXh0KHBhcnNlci5jaGFwdGVyVGl0bGUpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYXBwZW5kKHBhcnNlci5jb250ZW50KQogICAgICAgICAgICAgICAgLmFwcGVuZFRvKEFwcC4kY29udGVudCk7CgogICAgICAgICAgICBpZiAoIUNvbmZpZy5oaWRlX2Zvb3Rlcl9uYXYpIHsKICAgICAgICAgICAgICAgIGNoYXB0ZXIuYXBwZW5kKCQubmFubyhVSS50cGxfZm9vdGVyX25hdiwgcGFyc2VyKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEFwcC5maXhJbWFnZUZsb2F0cyhjaGFwdGVyLmdldCgwKSk7CgogICAgICAgICAgICAvLyDmt7vliqDliLDnq6DoioLliJfooagKICAgICAgICAgICAgdmFyIGNoYXB0ZXJJdGVtID0gJCgiPGxpPiIpCiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2NoYXB0ZXInKQogICAgICAgICAgICAgICAgLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAkKCI8ZGl2PiIpCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoewogICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAiI3BhZ2UtIiArIEFwcC5wYWdlTnVtLAogICAgICAgICAgICAgICAgICAgICAgICAicmVhbEhyZWYiOiBwYXJzZXIuY3VyUGFnZVVybCwKICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazogInJldHVybiBmYWxzZTsiLAogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogcGFyc2VyLmNoYXB0ZXJUaXRsZQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLnRleHQocGFyc2VyLmNoYXB0ZXJUaXRsZSkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5wcmVwZW5kVG8oQXBwLiRjaGFwdGVyTGlzdCk7CgogICAgICAgICAgICBpZiAoaXNGaXJzdCkgewogICAgICAgICAgICAgICAgY2hhcHRlckl0ZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBBcHAucGFnZU51bSArPSAxOwogICAgICAgICAgICBBcHAucmVzZXRDYWNoZSgpOwogICAgICAgIH0KCiAgICAgICAgQXBwLm9BcnRpY2xlcy5wdXNoKGNoYXB0ZXJbMF0ub3V0ZXJIVE1MKTsKICAgICAgICBBcHAucGFyc2Vycy5wdXNoKHBhcnNlcik7CiAgICB9LAogICAgcmVzZXRDYWNoZTogZnVuY3Rpb24oKSB7ICAvLyDmm7TmlrDnvJPlrZjlj5jph48KICAgICAgICBBcHAubWVudUl0ZW1zID0gQXBwLiRjaGFwdGVyTGlzdC5maW5kKCJkaXYiKTsKICAgICAgICBBcHAuc2Nyb2xsSXRlbXMgPSAkKCJhcnRpY2xlIik7CiAgICB9LAogICAgcmVnaXN0ZXJDb250cm9sczogZnVuY3Rpb24oKSB7CiAgICAgICAgLy8g5YaF5a655rua5YqoCiAgICAgICAgdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUoQXBwLnNjcm9sbCwgMjAwKTsKICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKHRocm90dGxlZCk7CgogICAgICAgIEFwcC5yZWdpc3RlcktleXMoKTsKCiAgICAgICAgaWYgKENvbmZpZy5kYmxjbGlja1BhdXNlKSB7CiAgICAgICAgICAgIEFwcC4kY29udGVudC5vbigiZGJsY2xpY2siLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIEFwcC5wYXVzZUhhbmRsZXIoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyDlt6bkvqfnq6DoioLliJfooagKICAgICAgICBBcHAuJG1lbnVIZWFkZXIuY2xpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIEFwcC5jb3B5Q3VyVGl0bGUoKTsKICAgICAgICB9KTsKCiAgICAgICAgQXBwLiRtZW51QmFyLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBVSS5oaWRlTWVudUxpc3QoKTsKICAgICAgICB9KTsKCiAgICAgICAgQXBwLiRkb2Mub24oIm1vdXNlZG93biIsICIjY2hhcHRlci1saXN0IGRpdiIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHsKICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICB2YXIgaHJlZiA9ICQodGhpcykuYXR0cigiaHJlZiIpOwogICAgICAgICAgICAgICAgICAgIGlmIChocmVmKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5zY3JvbGxUb0FydGljbGUoJChocmVmKSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICQodGhpcykuYXR0cigicmVhbEhyZWYiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDI6IC8vIG1pZGRsZSBjbGljawogICAgICAgICAgICAgICAgICAgIExfc2V0VmFsdWUoIm15bm92ZXJscmVhZGVyX2Rpc2FibGVfb25jZSIsIHRydWUpOwogICAgICAgICAgICAgICAgICAgIEFwcC5vcGVuVXJsKCQodGhpcykuYXR0cigicmVhbEhyZWYiKSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgJCgiI3ByZWZlcmVuY2VzQnRuIikuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgVUkucHJlZmVyZW5jZXNTaG93KCk7CiAgICAgICAgfSk7CgogICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoIuWwj+ivtOmYheivu+iEmuacrOiuvue9riIudWlUcmFucygpLCBVSS5wcmVmZXJlbmNlc1Nob3cuYmluZChVSSkpOwogICAgfSwKICAgIHJlZ2lzdGVyS2V5czogZnVuY3Rpb24oKSB7CiAgICAgICAga2V5KCdlbnRlcicsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIGlmIChVSS4kcHJlZnMpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgQXBwLm9wZW5VcmwoQXBwLmluZGV4VXJsLCAi5Li76aG16ZO+5o6l5rKh5pyJ5om+5YiwIi51aVRyYW5zKCkpOwogICAgICAgICAgICBBcHAuY29weUN1clRpdGxlKCk7CgogICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9KTsKCiAgICAgICAga2V5KCdsZWZ0JywgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTsKICAgICAgICAgICAgaWYgKHNjcm9sbFRvcCA9PT0gMCkgewogICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IEFwcC5wcmV2VXJsOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdmFyIG9mZnNldFRvcCA9ICQoQXBwLmN1ckZvY3VzRWxlbWVudCkub2Zmc2V0KCkudG9wOwogICAgICAgICAgICAgICAgLy8g5Zyo6KeG6YeO56qX5Y+j5YaFCiAgICAgICAgICAgICAgICBpZiAob2Zmc2V0VG9wID4gc2Nyb2xsVG9wICYmIG9mZnNldFRvcCA8IChzY3JvbGxUb3AgKyAkKHdpbmRvdykuaGVpZ2h0KCkpKSB7CiAgICAgICAgICAgICAgICAgICAgQXBwLnNjcm9sbFRvQXJ0aWNsZShBcHAuY3VyRm9jdXNFbGVtZW50LnByZXZpb3VzU2libGluZyB8fCAwKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgQXBwLnNjcm9sbFRvQXJ0aWNsZShBcHAuY3VyRm9jdXNFbGVtZW50KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSk7CgogICAgICAgIGtleSgncmlnaHQnLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICBpZiAoQXBwLmdldFJlbWFpbigpID09PSAwKSB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gQXBwLmxhc3RSZXF1ZXN0VXJsIHx8IEFwcC5yZXF1ZXN0VXJsOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgQXBwLnNjcm9sbFRvQXJ0aWNsZShBcHAuY3VyRm9jdXNFbGVtZW50Lm5leHRTaWJsaW5nIHx8IEFwcC4kZG9jLmhlaWdodCgpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9KTsKCiAgICAgICAga2V5KCdlc2MnLCBmdW5jdGlvbigpewogICAgICAgICAgICBpZiAoVUkuJHByZWZzKSB7CiAgICAgICAgICAgICAgICBVSS5oaWRlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAga2V5KCdzaGlmdCsvJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIFVJLm9wZW5IZWxwKCk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9KTsKCiAgICAgICAga2V5KENvbmZpZy5xdWlldE1vZGVLZXksIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIFVJLnRvZ2dsZVF1aWV0TW9kZSgpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSk7CgogICAgICAgIGtleShDb25maWcuaGlkZU1lbnVMaXN0S2V5LCBmdW5jdGlvbigpewogICAgICAgICAgICBVSS5oaWRlTWVudUxpc3QoKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0pOwoKICAgICAgICBrZXkoQ29uZmlnLm9wZW5QcmVmZXJlbmNlc0tleSwgZnVuY3Rpb24oKXsKICAgICAgICAgICAgVUkucHJlZmVyZW5jZXNTaG93KCk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBjb3B5Q3VyVGl0bGU6IGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChDb25maWcuY29weUN1clRpdGxlKSB7CiAgICAgICAgICAgIHZhciB0aXRsZSA9ICQoQXBwLmN1ckZvY3VzRWxlbWVudCkuZmluZCgiLnRpdGxlIikudGV4dCgpCiAgICAgICAgICAgICAgICAucmVwbGFjZSgv56ysP1xTK+eroC8sICIiKS50cmltKCk7CgogICAgICAgICAgICBHTV9zZXRDbGlwYm9hcmQodGl0bGUsICJ0ZXh0Iik7CiAgICAgICAgfQogICAgfSwKICAgIHNjcm9sbFRvQXJ0aWNsZTogZnVuY3Rpb24oZWxlbSkgewogICAgICAgIHZhciBvZmZzZXRUb3A7CiAgICAgICAgaWYgKHR5cGVvZiBlbGVtID09ICJudW1iZXIiKSB7CiAgICAgICAgICAgIG9mZnNldFRvcCA9IGVsZW07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb2Zmc2V0VG9wID0gJChlbGVtKS5vZmZzZXQoKS50b3AgLSBwYXJzZUludCgkKGVsZW0pLmNzcygibWFyZ2luLXRvcCIpLCAxMCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoQ29uZmlnLnNjcm9sbEFuaW1hdGUpIHsKICAgICAgICAgICAgJCgiaHRtbCwgYm9keSIpLnN0b3AoKS5hbmltYXRlKHsKICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogb2Zmc2V0VG9wCiAgICAgICAgICAgIH0sIDc1MCwgImVhc2VPdXRFeHBvIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJCgiaHRtbCwgYm9keSIpLnN0b3AoKS5zY3JvbGxUb3Aob2Zmc2V0VG9wKTsKICAgICAgICB9CiAgICB9LAogICAgb3BlblVybDogZnVuY3Rpb24odXJsLCBlcnJvck1zZykgewogICAgICAgIGlmICh1cmwpIHsKICAgICAgICAgICAgaWYgKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigncWlkaWFuLmNvbScpICE9IC0xKSB7ICAvLyDotbfngrnlgZrkuobpmLLnm5fpk77lpITnkIbvvJ8KICAgICAgICAgICAgICAgICQoJyNoZWFkZXIgYScpWzBdLmNsaWNrKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBmZjMwIEdyZWFzZW1vbmtleSDkvJrmiqXplJnvvJpHcmVhc2Vtb25rZXkg6K6/6Zeu6L+d6KeE77yadW5zYWZlV2luZG93IOaXoOazleiwg+eUqCBHTV9vcGVuSW5UYWLjgILmlrDlu7rohJrmnKzph4fnlKjmjInplK7osIPnlKjkuZ/ov5nmoLfjgIIKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgR01fb3BlbkluVGFiKHVybCwgZmFsc2UpOwogICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGVycm9yTXNnKSB7CiAgICAgICAgICAgIFVJLm5vdGljZShlcnJvck1zZyk7CiAgICAgICAgfQogICAgfSwKICAgIHBhdXNlSGFuZGxlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgQXBwLnBhdXNlZCA9ICFBcHAucGF1c2VkOwogICAgICAgIGlmIChBcHAucGF1c2VkKSB7CiAgICAgICAgICAgIFVJLm5vdGljZSgnPGI+54q25oCBPC9iPjroh6rliqjnv7vpobU8c3BhbiBzdHlsZT0iY29sb3I6cmVkIWltcG9ydGFudDsiPjxiPuaaguWBnDwvYj48L3NwYW4+LicudWlUcmFucygpKTsKICAgICAgICAgICAgQXBwLiRsb2FkaW5nLmh0bWwoJ+iHquWKqOe/u+mhteW3sue7jzxzcGFuIHN0eWxlPSJjb2xvcjpyZWQhaW1wb3J0YW50OyI+PGI+5pqC5YGcPC9iPjwvc3Bhbj4uJy51aVRyYW5zKCkpLnNob3coKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBVSS5ub3RpY2UoJzxiPueKtuaAgTwvYj466Ieq5Yqo57+76aG1PHNwYW4gc3R5bGU9ImNvbG9yOnJlZCFpbXBvcnRhbnQ7Ij48Yj7lkK/nlKg8L2I+PC9zcGFuPi4nLnVpVHJhbnMoKSk7CiAgICAgICAgICAgIEFwcC5zY3JvbGwoKTsKICAgICAgICB9CiAgICB9LAogICAgc2Nyb2xsOiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAoIUFwcC5wYXVzZWQgJiYgIUFwcC53b3JraW5nICYmIEFwcC5nZXRSZW1haW4oKSA8IENvbmZpZy5yZW1haW5faGVpZ2h0KSB7CiAgICAgICAgICAgIGlmIChBcHAudG1wRG9jKSB7CiAgICAgICAgICAgICAgICBBcHAubG9hZGVkKEFwcC50bXBEb2MpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgQXBwLmRvUmVxdWVzdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoQXBwLmlzVGhlRW5kKSB7CiAgICAgICAgICAgIEFwcC4kbG9hZGluZy5odG1sKCLlt7LliLDovr7mnIDlkI7kuIDpobUuLi4iLnVpVHJhbnMoKSkuc2hvdygpOwogICAgICAgIH0KCiAgICAgICAgQXBwLnVwZGF0ZUN1ckZvY3VzRWxlbWVudCgpOwogICAgfSwKICAgIHVwZGF0ZUN1ckZvY3VzRWxlbWVudDogZnVuY3Rpb24oKSB7IC8vIOa7muWKqOa/gOa0u+eroOiKguWIl+ihqAogICAgICAgIC8vIEdldCBjb250YWluZXIgc2Nyb2xsIHBvc2l0aW9uCiAgICAgICAgdmFyIGZyb21Ub3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCkgLyAyOwoKICAgICAgICAvLyBHZXQgaWQgb2YgY3VycmVudCBzY3JvbGwgaXRlbQogICAgICAgIHZhciBjdXIgPSBBcHAuc2Nyb2xsSXRlbXMubWFwKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoJCh0aGlzKS5vZmZzZXQoKS50b3AgPCBmcm9tVG9wKQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfSk7CiAgICAgICAgLy8gR2V0IHRoZSBpZCBvZiB0aGUgY3VycmVudCBlbGVtZW50CiAgICAgICAgY3VyID0gY3VyW2N1ci5sZW5ndGggLSAxXTsKICAgICAgICB2YXIgaWQgPSBjdXIgPyBjdXIuaWQgOiAiIjsKCiAgICAgICAgaWYgKEFwcC5sYXN0SWQgIT09IGlkKSB7CiAgICAgICAgICAgIEFwcC5sYXN0SWQgPSBpZDsKCiAgICAgICAgICAgIHZhciBhY3RpdmVJdGVtID0gQXBwLm1lbnVJdGVtcy5maWx0ZXIoIltocmVmPSMiICsgaWQgKyAiXSIpLAogICAgICAgICAgICAgICAgYWN0aXZlVGl0bGUgPSBhY3RpdmVJdGVtLnRleHQoKSwKICAgICAgICAgICAgICAgIGFjdGl2ZVVybCA9IGFjdGl2ZUl0ZW0uYXR0cigicmVhbEhyZWYiKTsKCiAgICAgICAgICAgIC8vIFNldC9yZW1vdmUgYWN0aXZlIGNsYXNzCiAgICAgICAgICAgIEFwcC5tZW51SXRlbXMucGFyZW50KCkucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpOwogICAgICAgICAgICBhY3RpdmVJdGVtLnBhcmVudCgpLmFkZENsYXNzKCJhY3RpdmUiKTsKCiAgICAgICAgICAgIEFwcC5jdXJGb2N1c0VsZW1lbnQgPSBjdXI7CiAgICAgICAgICAgIEFwcC5hY3RpdmVVcmwgPSBhY3RpdmVVcmw7CgogICAgICAgICAgICBpZiAoQ29uZmlnLmFkZFRvSGlzdG9yeSkgewogICAgICAgICAgICAgICAgdmFyIGN1ck51bSA9IGlkLm1hdGNoKC9cZCsvKVswXSAtIDE7ICAvLyDlvZPliY3mmK/nrKzlh6DkuKoKICAgICAgICAgICAgICAgIHZhciBjdXJUaXRsZSA9IEFwcC5wYXJzZXJzW2N1ck51bV0uZG9jVGl0bGU7CiAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IGN1clRpdGxlOwoKICAgICAgICAgICAgICAgIC8vIFRPRE86IOi1t+eCueaXoOazlea3u+WKoOaVtOS4que9keWdgO+8jOWPquiDvea3u+WKoOWQjuWNiumDqOWIhuOAggogICAgICAgICAgICAgICAgdmFyIHVybCA9IGFjdGl2ZVVybC5yZXBsYWNlKCdodHRwOi8vcmVhZC5xaWRpYW4uY29tJywgJycpOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB1bnNhZmVXaW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgY3VyVGl0bGUsIHVybCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5re75Yqg5LiL5LiA6aG15Yiw5Y6G5Y+y6K6w5b2V5aSx6LSlJywgZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgZ2V0UmVtYWluOiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCwKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpOwogICAgICAgIHZhciByZW1haW4gPSBzY3JvbGxIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQgLSB3aW5kb3cuc2Nyb2xsWTsKICAgICAgICByZXR1cm4gcmVtYWluOwogICAgfSwKICAgIGRvUmVxdWVzdDogZnVuY3Rpb24oKSB7CiAgICAgICAgQXBwLndvcmtpbmcgPSB0cnVlOwogICAgICAgIHZhciBuZXh0VXJsID0gQXBwLnJlcXVlc3RVcmw7CiAgICAgICAgQXBwLmxhc3RSZXF1ZXN0VXJsID0gQXBwLnJlcXVlc3RVcmw7CgogICAgICAgIGlmIChuZXh0VXJsICYmICFBcHAuaXNUaGVFbmQgJiYgIShuZXh0VXJsIGluIEFwcC5wYXJzZWRQYWdlcykpIHsKICAgICAgICAgICAgQXBwLnBhcnNlZFBhZ2VzW25leHRVcmxdID0gdHJ1ZTsKICAgICAgICAgICAgQXBwLmN1clBhZ2VVcmwgPSBBcHAucmVxdWVzdFVybDsKICAgICAgICAgICAgQXBwLnJlcXVlc3RVcmwgPSBudWxsOwoKICAgICAgICAgICAgdmFyIHVzZWlmcmFtZSA9IEFwcC5zaXRlLnVzZWlmcmFtZTsKCiAgICAgICAgICAgIEFwcC4kbG9hZGluZwogICAgICAgICAgICAgICAgLnNob3coKQogICAgICAgICAgICAgICAgLmh0bWwoIiIpCiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoIjxpbWc+IikuYXR0cigic3JjIiwgImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEVBQVFBTVFBQVBmMzkrL3Y3K2JtNXQ3ZTN0YlcxczdPenNYRnhiMjl2YlcxdGEydHJhV2xwWnljbkpTVWxJeU1qSVNFaEh0N2UzTnpjMnRyYTJOalkxcGFXbEpTVWtwS1NrSkNRam82T2pFeE1Ta3BLU0VoSVJrWkdSQVFFQWdJQ0FBQUFBQUFBQ0gvQzA1RlZGTkRRVkJGTWk0d0F3RUFBQUFoK1FRSkJRQWVBQ3dBQUFFQUR3QU9BQUFGZGFBbmV0MjBHQVVDY2VONExRbHlGTVJBVEMzR0xFcU0xZ0ljNmRGZ1BEQ2lpNkkyWUYwZURraW54VWtNQkJBUEJmTEl0RVNXMnNFamlXUy9JdHFBTEpHZ1Jack5SdHZXb0RseEZxWmRtYlkwY1ZNZGJSTVdjeDU0ZVNNWkV4UVZGaGNZR0JtQmZ4V1BrWlFiZmkwZEdwSVlHaXdqSVFBaCtRUUpCUUFlQUN3QUFBRUFEd0FPQUFBRmVLQW5lcDBGTFFvamNlT1lRVTZESXNkaHRWb0V5d3B0RUJSUlp5S0JRREtpaStKSFlHRWt4RTZMa3lBTUlCNktSS0pwSlF1RGcyY3I4WTdBZ2pIVUxDb1EwcFVKWldPK3VCR2VESVZpa2JZeURnUllIUlVWRmhjc0hod2FHaHNZZmh1SEZ4Z1pHWXdiSEg0aUhCaVVsaHVZbWxNYmpaa3RJUUFoK1FRRkJRQWVBQ3dBQUFFQUR3QU9BQUFGZTZBbmVoMUdRVTlVZGVPb1RWSUVPUTJ6V0cwbVNWUDBPRFlGNGlMcTdIZ2FFYWFSUUNBNEhzeU93aHAxRmdkRHhGT1pURFl0MGNWUVNIZ282UENJUE9CV0ttcFJnZERHV0N6UThLVXdPSGcyRnhjWVlSd0pkQkFpR1JnWkdYa2NDM01FamhrYWxaWVRmQk10SFJ1ZG5oc0tjR29kSEtVY0hWVWVJUUFoK1FRSkJRQWVBQ3dBQUFFQUR3QU9BQUFGYktBbmpwNGtVUmlwbG1ZRVFlbW9UWk1wdVkvVGtCVkZWUnRSSnRKZ01Eb2VqYVZpV1QwV2lva0hjMm11TUlvRVkwcGRpUkNJZ3llRGlhME9ob0puazhsNFBlbUVoNk9wcnhRRlFrUzAyV2lDSWhkNEhtb2lIUng5SW1rRUExNGNpSVNNQkZKZVNBUUlFQndqSVFBaCtRUUpCUUFlQUN3QUFBRUFEd0FPQUFBRmQ2QW5lbDFXVFJLRmRlTzRXUldGU3RLa3Rkd0ZVM0pOWjZNTTVuTFppRFFUQ0NUQzRnaFhyVTdrNGJCNE5wb01weVhLTkJxUWE1WTdZaXdXSGc2V0xGSzRTV29XOTVKQU1PQWJJMDV4T0VoRUhXb2FGeUowQmdZSFd5SWNIQTRGajQ4RUJGWXRHSktTQXdNRkZHUWRFQWdDQWdjUWloNGhBQ0g1QkFrRkFCNEFMQUFBQVFBUEFBNEFBQVYwb0NlS0cyWlZGdGFOWTZkaDEwbE5VOFoyV3diTGt5UnBJODVHaytHUUtyN0pxaU1FM21ZU2pJZTVXYkU4R2toa01oVmVSNDhIcEx2NWlob09COWw0eFRBWVl3OW5vbUNMT2d6Rm9pSlNFQW9JRmlJWEN3a0pDMVlWQXdNRWZ3VUdCZ2VCTEJNRUFvdU9CeGRmSEE4SGx3Z1JkaUVBSWZrRUNRVUFIZ0FzQUFBQkFBOEFEZ0FBQlhPZ0o0cmRwbVdaMW8wc1oyWVlkbGthNjNYdUtWc1ZWWk91emNyRHVmUW9ReHpIMXJGTUpKaWJhOGphUENuU2pXMzBsSGdHaE1KV0JJbDREMkRMTnZPQVREd1B3U0N4SEhVZ2pzZUZPSkFuMUI0WURnd05EME1UQVdBRkJnY0lDZ3NNVVZ3RGlnWUlDUXQ3Tmh3UUNHRUxFMVFoQUNINUJBa0ZBQjRBTEFBQUFRQVBBQTRBQUFWNG9DZU9IV2R5WStwMUpiZHBXb2FtN2ZabUdZWnRZb2VabTQ2SWs3a1loWkJCUTZQeVdTb1pqMEZBdUtnOG13ckY0Z2xRcnlJS1pkTDlnaWNUaVZRdzRLbzJhWXJud1ViTWVoR0pCT1BoREFZRUNWWWVHQThQRUJOQ0hoT0FCZ2NKQ2d3Tmgwd2pGUWFPQ0FvTGsxRXFIQklMbWc4VmloNGhBQ0g1QkFrRkFCNEFMQUFBQVFBUEFBNEFBQVY2b0NkNkhkbWQ1VGhXQ2VlK1hDcE93VEJ0ZUw2bG5DQU1MVkZIUTlTSUhnSEJnYVB5WkRLWWpjZndzelE5SE13bDQwa09yaUtMdURzZ2dEMlZ0T2N3S0ZpYkd3ckZDaUVVRWpKU1pUTGhjZ3dHQndzWUloa1VFaElUS1JZR0NBa0tEQTBQaUJKY0t3b0tDd3dPRHhFVFJrMGRGQThORGhJWU1pRUFJZmtFQ1FVQUhnQXNBQUFCQUE4QURnQUFCWG1nSjNyY1l3aGNONjZlSkFUQ3NIRXBPd1h3UUd3OHJaS0RHTUlpNnZCbW9rY3N3V0Z0TkJ2VlFVZGtjVEpRajY3QUdtRXlHVStoWU9pS01HaVA0b0M0ZERtWFMxaUNTRFIreFl2Rm92RjBGQW9MRHhnaUd4WVVGUlkvRndzTURRNFBFaE9URkgwakZ3NlFFQktjRTVZckhSY1RFUklVR0hnaEFDSDVCQWtGQUI0QUxBQUFBUUFQQUE0QUFBVjRvQ2Q2M0dNQWdmRjA0emdOUWl4anJWY0pRejRRUkxOeEkwNkJoN0NJTHBrZjBDTXBHQkxMMGViSFdod09sNXFuby9sNUVHQ3RxQXRVbU1XZVROZnpXQ3hvTlU0bWFXczBWcTBPQnBNQmRoNE9EeEVhSWhzWGh4a2pHUkFRRWhJVEV4UVZGaGRSSGhvVGpvOFVGQlliV25vVWpoVVpMQ0loQUNINUJBa0ZBQjRBTEFBQUFRQVBBQTRBQUFWNW9DZDZISVFJZ2ZGdzQyZ1pCREVNZ2pCTWJYVVlSbEhJTkVGRjFGRWdFSXFMeUhLUUpUb2Vpa0xCZ0k0NGlza0crbUFzTUMwUlI3TmhOUnFNOElqTWVqZ2NhaEhiTTRFOE11cHgyWU9KU0NaV0l4bGtVQjBURWhJVUcySVlnNHR5aUg4VUZSYU5Hb0VlR1lnVGt4WVhHWmhFR0JXVEdJOGlJUUE3IikpCiAgICAgICAgICAgICAgICAuYXBwZW5kKCI8YSBocmVmPSciICsgbmV4dFVybCArICInIHRpdGxlPSfngrnlh7vmiZPlvIDkuIvkuIDpobXpk77mjqUnPuato+WcqOi9veWFpeS4i+S4gOmhtSIudWlUcmFucygpICsgKHVzZWlmcmFtZSA/ICIoaWZyYW1lKSIgOiAiIikgKyAiLi4uPC9hPiIpOwoKICAgICAgICAgICAgaWYgKHVzZWlmcmFtZSkgewogICAgICAgICAgICAgICAgQXBwLmlmcmFtZVJlcXVlc3QobmV4dFVybCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBBcHAuaHR0cFJlcXVlc3QobmV4dFVybCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBBcHAuJGxvYWRpbmcuaHRtbCgiPGEgaHJlZj0nIiArIEFwcC5jdXJQYWdlVXJsICArICInPuaXoOazleS9v+eUqOmYheivu+aooeW8j++8jOivt+aJi+WKqOeCueWHu+S4i+S4gOmhtTwvYT4iKS5zaG93KCk7CiAgICAgICAgfQogICAgfSwKICAgIGh0dHBSZXF1ZXN0OiBmdW5jdGlvbihuZXh0VXJsLCBjYWxsYmFjaykgewogICAgICAgIEMubG9nKCLojrflj5bkuIvkuIDpobU6ICIgKyBuZXh0VXJsKTsKICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgIHVybDogbmV4dFVybCwKICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgb3ZlcnJpZGVNaW1lVHlwZTogInRleHQvaHRtbDtjaGFyc2V0PSIgKyBkb2N1bWVudC5jaGFyYWN0ZXJTZXQsCiAgICAgICAgICAgIHRpbWVvdXQ6IDMwICogMTAwMCwKICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbihyZXMpIHsKICAgICAgICAgICAgICAgIHZhciBkb2MgPSBwYXJzZUhUTUwocmVzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRvYyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIEFwcC5iZWZvcmVMb2FkKGRvYyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9udGltZW91dDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgaWZyYW1lUmVxdWVzdDogZnVuY3Rpb24obmV4dFVybCkgewogICAgICAgIEMubG9nKCJpZnJhbWVSZXF1ZXN0OiAiICsgbmV4dFVybCk7CiAgICAgICAgaWYgKCFBcHAuaWZyYW1lKSB7CiAgICAgICAgICAgIHZhciBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7CiAgICAgICAgICAgIEFwcC5pZnJhbWUgPSBpOwogICAgICAgICAgICBpLm5hbWUgPSAnbXlub3ZlbHJlYWRlci1pZnJhbWUnOwogICAgICAgICAgICBpLndpZHRoID0gJzEwMCUnOwogICAgICAgICAgICBpLmhlaWdodCA9ICcwJzsKICAgICAgICAgICAgaS5mcmFtZUJvcmRlciA9ICIwIjsKICAgICAgICAgICAgaS5zdHlsZS5jc3NUZXh0ID0gJ1wKICAgICAgICAgICAgICAgIG1hcmdpbjowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICBwYWRkaW5nOjAhaW1wb3J0YW50O1wKICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6aGlkZGVuIWltcG9ydGFudDtcCiAgICAgICAgICAgICc7CiAgICAgICAgICAgIGkuc3JjID0gbmV4dFVybDsKICAgICAgICAgICAgaS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgQXBwLmlmcmFtZUxvYWRlZCwgZmFsc2UpOwogICAgICAgICAgICBBcHAucmVtb3ZlLnB1c2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBBcHAuaWZyYW1lTG9hZGVkLCBmYWxzZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEFwcC5pZnJhbWUuY29udGVudERvY3VtZW50LmxvY2F0aW9uLnJlcGxhY2UobmV4dFVybCk7CiAgICAgICAgfQogICAgfSwKICAgIGlmcmFtZUxvYWRlZDogZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGlmcmFtZSA9IHRoaXM7CiAgICAgICAgdmFyIGJvZHkgPSBpZnJhbWUuY29udGVudERvY3VtZW50LmJvZHk7CgogICAgICAgIGlmIChib2R5ICYmIGJvZHkuZmlyc3RDaGlsZCkgewogICAgICAgICAgICBkb2MgPSBpZnJhbWUuY29udGVudERvY3VtZW50OwoKICAgICAgICAgICAgdmFyIG11dGF0aW9uU2VsZWN0b3IgPSBBcHAuc2l0ZS5tdXRhdGlvblNlbGVjdG9yOwogICAgICAgICAgICBpZiAobXV0YXRpb25TZWxlY3RvcikgewogICAgICAgICAgICAgICAgQXBwLmFkZE11dGF0aW9uT2JzZXJ2ZShkb2MsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIEFwcC5iZWZvcmVMb2FkKGRvYyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciB0aW1lb3V0ID0gQXBwLnNpdGUudGltZW91dCB8fCAwOwoKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgQXBwLmJlZm9yZUxvYWQoZG9jKTsKICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGJlZm9yZUxvYWQ6IGZ1bmN0aW9uKGh0bWxEb2MpIHsKICAgICAgICBpZiAoY29uZmlnLlBSRUxPQURFUikgewogICAgICAgICAgICBBcHAudG1wRG9jID0gaHRtbERvYzsKICAgICAgICAgICAgQXBwLndvcmtpbmcgPSBmYWxzZTsKICAgICAgICAgICAgQXBwLnNjcm9sbCgpOwoKICAgICAgICAgICAgLy8g6aKE6K+75Zu+54mHCiAgICAgICAgICAgIHZhciBleGlzdFNSQyA9IHt9OwogICAgICAgICAgICAkKEFwcC50bXBEb2MpLmZpbmQoJ2ltZycpLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB2YXIgaXNyYyA9ICQodGhpcykuYXR0cignc3JjJyk7CiAgICAgICAgICAgICAgICBpZiAoIWlzcmMgfHwgZXhpc3RTUkNbaXNyY10pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGV4aXN0U1JDW2lzcmNdID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKICAgICAgICAgICAgICAgIGltZy5zcmMgPSBpc3JjOwogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBBcHAubG9hZGVkKGh0bWxEb2MpOwogICAgICAgIH0KICAgIH0sCiAgICBsb2FkZWQ6IGZ1bmN0aW9uKGRvYykgewogICAgICAgIHZhciBwYXJzZXIgPSBuZXcgUGFyc2VyKEFwcC5zaXRlLCBkb2MsIEFwcC5jdXJQYWdlVXJsKTsKICAgICAgICBwYXJzZXIuZ2V0QWxsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBBcHAuYWRkTmV4dFBhZ2UocGFyc2VyKTsKICAgICAgICB9KTsKICAgICAgICBBcHAudG1wRG9jID0gbnVsbDsKICAgIH0sCiAgICBhZGROZXh0UGFnZTogZnVuY3Rpb24ocGFyc2VyKSB7CiAgICAgICAgaWYgKHBhcnNlci5jb250ZW50KSB7CiAgICAgICAgICAgIEFwcC5hcHBlbmRQYWdlKHBhcnNlcik7CgogICAgICAgICAgICBBcHAuJGxvYWRpbmcuaGlkZSgpOwogICAgICAgICAgICBBcHAucmVxdWVzdFVybCA9IHBhcnNlci5uZXh0VXJsOwogICAgICAgICAgICBBcHAuaXNUaGVFbmQgPSBwYXJzZXIuaXNUaGVFbmQ7CgogICAgICAgICAgICBBcHAuYWZ0ZXJMb2FkKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgQXBwLnJlbW92ZUxpc3RlbmVyKCk7CgogICAgICAgICAgICBBcHAuJGxvYWRpbmcuaHRtbCgKICAgICAgICAgICAgICAgICc8YSBocmVmPSInICsgQXBwLmN1clBhZ2VVcmwgKyAnIj7plJnor6/vvJrmsqHmnInmib7liLDkuIvkuIDpobXnmoTlhoXlrrnjgILngrnlh7vmiZPlvIDkuIvkuIDpobXpk77mjqXjgII8L2E+Jy51aVRyYW5zKCkpCiAgICAgICAgICAgICAgICAuc2hvdygpOwogICAgICAgIH0KCiAgICAgICAgQXBwLndvcmtpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uKCkgewogICAgICAgIEFwcC50bXBEb2MgPSBudWxsOwoKICAgICAgICBpZiAoY29uZmlnLlBSRUxPQURFUikgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBBcHAuZG9SZXF1ZXN0KCk7CiAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgfQogICAgfSwKICAgIGZpeEltYWdlRmxvYXRzOiBmdW5jdGlvbihhcnRpY2xlQ29udGVudCkgewogICAgICAgIGlmICghY29uZmlnLmZpeEltYWdlRmxvYXRzKSByZXR1cm47CgogICAgICAgIGFydGljbGVDb250ZW50ID0gYXJ0aWNsZUNvbnRlbnQgfHwgZG9jdW1lbnQ7CgogICAgICAgIHZhciBpbWFnZVdpZHRoVGhyZXNob2xkID0gTWF0aC5taW4oYXJ0aWNsZUNvbnRlbnQub2Zmc2V0V2lkdGgsIDgwMCkgKiAwLjU1LAogICAgICAgICAgICBpbWFnZXMgPSBhcnRpY2xlQ29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWc6bm90KC5ibG9ja0ltYWdlKScpOwoKICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBpbWFnZXMubGVuZ3RoOyBpIDwgaWw7IGkgKz0gMSkgewogICAgICAgICAgICB2YXIgaW1hZ2UgPSBpbWFnZXNbaV07CgogICAgICAgICAgICBpZiAoaW1hZ2Uub2Zmc2V0V2lkdGggPiBpbWFnZVdpZHRoVGhyZXNob2xkKSB7CiAgICAgICAgICAgICAgICBpbWFnZS5jbGFzc05hbWUgKz0gIiBibG9ja0ltYWdlIjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCgogICAgaXNTYXZlaW5nOiBmYWxzZSwKICAgIHNhdmVBc1R4dDogZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKEFwcC5zaXRlLnVzZWlmcmFtZSkgewogICAgICAgICAgICBhbGVydCgn5pqC5LiN5pSv5oyBJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChBcHAuaXNTYXZlaW5nKSB7CiAgICAgICAgICAgIGFsZXJ0KCfmraPlnKjkv53lrZjvvIzor7fnqI3lkI4nKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KCflvIDlp4vkuIDnq6Dnq6Dojrflj5blhoXlrrnvvIzor7fogJDlv4PnrYnlvoUnKTsKICAgICAgICB9CgogICAgICAgIEFwcC5pc1NhdmVpbmcgPSB0cnVlOwoKICAgICAgICB2YXIgY2hhcHRlcnMgPSBbXTsKICAgICAgICB2YXIgZmlsZU5hbWU7CgogICAgICAgIHZhciB0b1R4dCA9IGZ1bmN0aW9uKHBhcnNlcikgewogICAgICAgICAgICB2YXIgaHRtbCA9ICQubmFubygne2NoYXB0ZXJUaXRsZX1cblxue2NvbnRlbnRUeHR9JywgcGFyc2VyKTsKICAgICAgICAgICAgY2hhcHRlcnMucHVzaChodG1sKTsKICAgICAgICB9OwogICAgICAgIHZhciBmaW5pc2ggPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgc2F2ZUFzKGNoYXB0ZXJzLmpvaW4oJ1xuXG4nKSwgZmlsZU5hbWUpOwogICAgICAgICAgICBBcHAuaXNTYXZlaW5nID0gZmFsc2U7CiAgICAgICAgfTsKCiAgICAgICAgdmFyIGdldE9uZVBhZ2UgPSBmdW5jdGlvbiAocGFyc2VyLCBuZXh0VXJsKSB7CiAgICAgICAgICAgIGlmIChwYXJzZXIpIHsKICAgICAgICAgICAgICAgIHRvVHh0KHBhcnNlcik7CiAgICAgICAgICAgICAgICBuZXh0VXJsID0gcGFyc2VyLm5leHRVcmw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghbmV4dFVybCkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WFqOmDqOiOt+WPluWujOavlScpOwogICAgICAgICAgICAgICAgZmluaXNoKCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChBcHAuc2l0ZS51c2VpZnJhbWUpIHsKICAgICAgICAgICAgICAgIC8vIEFwcC5pZnJhbWVSZXF1ZXN0KG5leHRVcmwpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1vlrZjkuLp0eHRd5q2j5Zyo6I635Y+W77yaJywgbmV4dFVybCkKICAgICAgICAgICAgICAgIEFwcC5odHRwUmVxdWVzdChuZXh0VXJsLCBmdW5jdGlvbihkb2MpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXIgPSBuZXcgUGFyc2VyKEFwcC5zaXRlLCBkb2MsIG5leHRVcmwpOwogICAgICAgICAgICAgICAgICAgICAgICBwYXIuZ2V0QWxsKGdldE9uZVBhZ2UpCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign6LaF5pe25oiW6L+e5o6l5Ye66ZSZJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgQXBwLnBhcnNlcnMuZm9yRWFjaCh0b1R4dCk7CiAgICAgICAgLy8g5L+d5a2Y5ZCO6Z2i55qE56ug6IqCCiAgICAgICAgdmFyIGxhc3RQYXJzZXIgPSBBcHAucGFyc2Vyc1tBcHAucGFyc2Vycy5sZW5ndGggLSAxXTsKICAgICAgICBmaWxlTmFtZSA9IGxhc3RQYXJzZXIuYm9va1RpdGxlICsgJy50eHQnOwogICAgICAgIGdldE9uZVBhZ2UobnVsbCwgbGFzdFBhcnNlci5uZXh0VXJsKTsKICAgIH0KfTsKCnZhciBCb29rTGlua01lID0gewogICAgY2xpY2tlZENvbG9yOiAiNjY2NjY2IiwKCiAgICBpbml0OiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAobG9jYXRpb24uaG9zdCAhPSAnYm9va2xpbmsubWUnKSByZXR1cm47CgogICAgICAgIHRoaXMuYWRkVW5yZWFkQnV0dG9uKCk7CgogICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCIvYm9vay0iKSA9PT0gMCkgewogICAgICAgICAgICB0aGlzLmNoYXB0ZXJQYWdlQWRkVGllYmFMaW5rKCk7CiAgICAgICAgfQogICAgfSwKICAgIGFkZFVucmVhZEJ1dHRvbjogZnVuY3Rpb24oKXsgIC8vIOa3u+WKoOS4gOmUruaJk+W8gOaJgOacieacquivu+mTvuaOpQogICAgICAgIHZhciAkcGFyZW50ID0gJCgndGRbY29sc3Bhbj0iMiJdOmNvbnRhaW5zKCLmnKror7siKTpmaXJzdCwgdGRbY29sc3Bhbj0iMiJdOmNvbnRhaW5zKCLmnKroroAiKTpmaXJzdCcpOwogICAgICAgIGlmKCEkcGFyZW50Lmxlbmd0aCkgcmV0dXJuOwoKICAgICAgICB2YXIgb3BlbkFsbFVucmVhZExpbmtzID0gZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgICAgdmFyIGxpbmtzID0gJHgoJy4vYW5jZXN0b3I6OnRhYmxlW0B3aWR0aD0iMTAwJSJdL2Rlc2NlbmRhbnQ6OmFbaW1nW0BhbHQ9IuacquivuyJdXScsIGV2ZW50LnRhcmdldCk7CiAgICAgICAgICAgIGxpbmtzLmZvckVhY2goZnVuY3Rpb24obGluayl7CiAgICAgICAgICAgICAgICAvLyDlv73nlaXmsqHmnInnm5fniYjnmoQKICAgICAgICAgICAgICAgIHZhciBjaGFwdGVyTGluayA9IGxpbmsucGFyZW50Tm9kZS5uZXh0U2libGluZy5uZXh0U2libGluZy5xdWVyeVNlbGVjdG9yKCdhJyk7CiAgICAgICAgICAgICAgICBpZiAoY2hhcHRlckxpbmsucXVlcnlTZWxlY3RvcignZm9udFtjb2xvcio9IjgwMDAwMCJdJykpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYoaXNGaXJlZm94KQogICAgICAgICAgICAgICAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBHTV9vcGVuSW5UYWIobGluay5ocmVmKTsKCiAgICAgICAgICAgICAgICAvLyDorr7nva7ngrnlh7vlkI7nmoTmoLflvI8KICAgICAgICAgICAgICAgIC8vIOacquivu+W3pui+ueeahCAxeCDpk77mjqUKICAgICAgICAgICAgICAgIGxpbmsucGFyZW50Tm9kZS5wcmV2aW91c1NpYmxpbmcucXVlcnlTZWxlY3RvcignZm9udCcpCiAgICAgICAgICAgICAgICAgICAgLnNldEF0dHJpYnV0ZSgnY29sb3InLCBCb29rTGlua01lLmNsaWNrZWRDb2xvcik7CiAgICAgICAgICAgICAgICBjaGFwdGVyTGluay5jbGFzc0xpc3QuYWRkKCdtY2xpY2tlZCcpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKCiAgICAgICAgJCgnPGE+JykKICAgICAgICAgICAgLmF0dHIoeyBocmVmOiAnamF2YXNjcmlwdDo7JywgdGl0bGU6ICfkuIDplK7miZPlvIDmiYDmnInmnKror7vpk77mjqUnLCBzdHlsZTogJ3dpZHRoOmF1dG87JyB9KQogICAgICAgICAgICAuY2xpY2sob3BlbkFsbFVucmVhZExpbmtzKQogICAgICAgICAgICAuYXBwZW5kKCQoJzxpbWcgc3JjPSJtZS5wbmciIHN0eWxlPSJtYXgtd2lkdGg6IDIwcHg7Ij4nKSkKICAgICAgICAgICAgLmFwcGVuZFRvKCRwYXJlbnQpOwogICAgfSwKICAgIGNoYXB0ZXJQYWdlQWRkVGllYmFMaW5rOiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgbGluayA9ICQoJ2ZvbnQ6Y29udGFpbnMoIui0tOWQpyIpJykucGFyZW50KCkuZ2V0KDApOwogICAgICAgIGlmICghbGluaykgcmV0dXJuOwoKICAgICAgICB2YXIgdGllYmFVcmwgPSAnaHR0cDovL3RpZWJhLmJhaWR1LmNvbS9mP2t3PScgKyAkKCdoMScpLnRleHQoKTsKICAgICAgICBjb25zb2xlLmxvZygnR01feG1saHR0cFJlcXVlc3QnLCB0aWViYVVybCk7CiAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICB1cmw6IHRpZWJhVXJsLAogICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICB2YXIgZG9jID0gcGFyc2VIVE1MKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICBCb29rTGlua01lLmxvYWQoZG9jKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGxvYWQ6IGZ1bmN0aW9uKGRvYykgewogICAgICAgIHZhciAkZGF0YSA9ICQoZG9jKS5maW5kKCcudGhyZWFkbGlzdF90ZXh0ID4gYScpLm1hcChmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHRpdGxlOiAkKHRoaXMpLnRleHQoKSwKICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly90aWViYS5iYWlkdS5jb20nICsgJCh0aGlzKS5hdHRyKCdocmVmJykKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICB2YXIgdHJpbVRpdGxlID0gZnVuY3Rpb24odGl0bGUsIHN0cmljdCkgewogICAgICAgICAgICB0aXRsZSA9IHRpdGxlLnRyaW0oKQogICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wuXC5cLiQvLCAnJyk7CgogICAgICAgICAgICBpZiAoc3RyaWN0KSB7CiAgICAgICAgICAgICAgICB0aXRsZSA9IHRpdGxlLnJlcGxhY2UoL+esrC4qP+eroFxzKi8sICcnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gaWYgKHRvTnVtKSB7CiAgICAgICAgICAgIC8vICAgICB0aXRsZSA9IHRpdGxlLnJlcGxhY2UoL1vpm7bkuIDkuozkuInlm5vkupTlha3kuIPlhavkuZ3ljYHnmb7ljYPkuIfkur9dKy8sIGNuTnVtMkFyYWJOdW0pOwogICAgICAgICAgICAvLyB9CgogICAgICAgICAgICByZXR1cm4gdGl0bGU7CiAgICAgICAgfTsKCiAgICAgICAgdmFyIGZpbmRVcmwgPSBmdW5jdGlvbihzVGl0bGUpIHsKICAgICAgICAgICAgaWYgKCFzVGl0bGUpIHJldHVybjsKCiAgICAgICAgICAgIHZhciB1cmw7CiAgICAgICAgICAgICRkYXRhLmVhY2goZnVuY3Rpb24oaSwgaXRlbSkgewogICAgICAgICAgICAgICAgdmFyIHRpZWJhVGl0bGUgPSBpdGVtLnRpdGxlOwogICAgICAgICAgICAgICAgaWYgKHRpZWJhVGl0bGUuaW5kZXhPZih0cmltVGl0bGUoc1RpdGxlKSkgPiAwIHx8CiAgICAgICAgICAgICAgICAgICAgc1RpdGxlLmluZGV4T2YodHJpbVRpdGxlKHRpZWJhVGl0bGUsIHRydWUpKSA+IDAgIC8vIOWMheWQq+i0tOWQp+agh+mimOeahOmDqOWIhgogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgdXJsID0gaXRlbS51cmw7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcmV0dXJuIHVybDsKICAgICAgICB9OwoKICAgICAgICAkKCdhOmNvbnRhaW5zKCLmkJzntKLmnKznq6DoioIiKScpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwKICAgICAgICAgICAgICAgICR0aGlzTGluZSA9ICR0aGlzLnBhcmVudCgpLnBhcmVudCgpLAogICAgICAgICAgICAgICAgY2hhcHRlclRpdGxlID0gJHRoaXNMaW5lLnByZXYoKS5maW5kKCdhW2hyZWZePSIvanVtcC5waHAiXTpmaXJzdCcpLnRleHQoKTsKCiAgICAgICAgICAgIHZhciB1cmwgPSBmaW5kVXJsKGNoYXB0ZXJUaXRsZSk7CiAgICAgICAgICAgIGlmICh1cmwpIHsKICAgICAgICAgICAgICAgICQoJzxhPicpCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoeyB0YXJnZXQ6ICdfYmxhbmsnLCBocmVmOiB1cmwgfSkKICAgICAgICAgICAgICAgICAgICAudGV4dCgn6LS05ZCnJykKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJHRoaXMucGFyZW50KCkpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9Cn07CgppZiAobG9jYXRpb24uaG9zdCA9PT0gJ2Jvb2tsaW5rLm1lJykgewogICAgQm9va0xpbmtNZS5pbml0KCk7Cn0gZWxzZSB7CiAgICBBcHAuaW5pdCgpOwp9Cg=="},{"name":"gwdang","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://*.jd.com/*","https://*.jd.com/*","http://*.jd.hk/*","https://*.jd.hk/*","http://*.taobao.com/*","https://*.taobao.com/*","http://*.tmall.com/*","https://*.tmall.com/*","https://*.tmall.hk/*","http://*.yixun.com/*","http://*.51buy.com/*","http://*.yhd.com/*","http://*.suning.com/*","http://*.dangdang.com/*","http://*.gome.com.cn/*","http://*.newegg.cn/*","http://*.paipai.com/*","https://*.amazon.com/*","https://*.amazon.cn/*","https://*.amazon.*/dp/*","http://www.kjt.com/*","http://www.kaola.com/*","http://www.tcl.com/*","http://shop.hisense.com/*","http://*.oppo.com/*","http://shop.vivo.com.cn/*","http://www.ebay.com/*","http://t.dianping.com/*","http://*.nuomi.com/*","http://*.meituan.com/*","https://yao.95095.com/*","http://*.feiniu.com/*","http://*.meilishuo.com/*","http://*.mogujie.com/*","http://shop.coolpad.cn/*","http://*.sephora.cn/*","http://*.yesmywine.com/*","http://*.yiguo.com/*","http://*.wanggou.com/*","http://mall.jia.com/*","http://weigou.baidu.com/*","http://*.mi.com/*","http://shop.letv.com/*","http://*.handu.com/*","http://*.taoshu.com/*","http://*.1688.com/*","http://*.muyingzhijia.com/*","http://*.vmall.com/*","http://*.xiji.com/*","http://*.xijie.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512529},"enabled":false,"position":15,"file_url":"https://greasyfork.org/scripts/14466-%E8%B4%AD%E7%89%A9%E5%85%9A%E6%AF%94%E4%BB%B7%E5%B7%A5%E5%85%B7/code/%E8%B4%AD%E7%89%A9%E5%85%9A%E6%AF%94%E4%BB%B7%E5%B7%A5%E5%85%B7.user.js","uuid":"2c03b7de-9feb-4997-aebc-10c507d28225","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIGd3ZGFuZwovLyBAbmFtZTp6aC1DTiAgIOi0reeJqeWFmuavlOS7t+W3peWFtwovLyBAbmFtZXNwYWNlICAgbm8KLy8gQGRlc2NyaXB0aW9uIOS6rOS4nC7mt5jlrp0u5aSp54yrLuaYk+i/hS7kuprpqazpgIrkuK3lm70u5LiA5Y+35bqXLuiLj+WugeaYk+i0rS7lvZPlvZPnvZEu5Zu9576O5Zyo57q/LuaWsOibi+e9keS4reWbvS7mi43mi43nvZHoh6rliqjmr5Tku7fjgILkuI3kvJrooqvliKDnmoTniYjmnKzvvIjlpKfmpoIKLy8gQGRlc2NyaXB0aW9uOnpoLUNOIOS6rOS4nC7mt5jlrp0u5aSp54yrLuaYk+i/hS7kuprpqazpgIrkuK3lm70u5LiA5Y+35bqXLuiLj+WugeaYk+i0rS7lvZPlvZPnvZEu5Zu9576O5Zyo57q/LuaWsOibi+e9keS4reWbvS7mi43mi43nvZHoh6rliqjmr5Tku7fjgILkuI3kvJrooqvliKDnmoTniYjmnKzvvIjlpKfmpoLlkKcKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmpkLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwczovLyouamQuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmpkLmhrLyoKLy8gQGluY2x1ZGUgICAgIGh0dHBzOi8vKi5qZC5oay8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi50YW9iYW8uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHBzOi8vKi50YW9iYW8uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRtYWxsLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwczovLyoudG1hbGwuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHBzOi8vKi50bWFsbC5oay8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55aXh1bi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNTFidXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnloZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc3VuaW5nLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kYW5nZGFuZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ29tZS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubmV3ZWdnLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBhaXBhaS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly8qLmFtYXpvbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly8qLmFtYXpvbi5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwczovLyouYW1hem9uLiovZHAvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3d3dy5ranQuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly93d3cua2FvbGEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly93d3cudGNsLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vc2hvcC5oaXNlbnNlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vcHBvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vc2hvcC52aXZvLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vd3d3LmViYXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly90LmRpYW5waW5nLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5udW9taS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWVpdHVhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly95YW8uOTUwOTUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmZlaW5pdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWVpbGlzaHVvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tb2d1amllLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vc2hvcC5jb29scGFkLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNlcGhvcmEuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueWVzbXl3aW5lLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55aWd1by5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoud2FuZ2dvdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL21hbGwuamlhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vd2VpZ291LmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5taS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3Nob3AubGV0di5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaGFuZHUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRhb3NodS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMTY4OC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubXV5aW5nemhpamlhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi52bWFsbC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueGlqaS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueGlqaWUuY29tLyoKLy8gQHZlcnNpb24gICAgIDEuMi43Ci8vIEBncmFudCAJCW5vbmUKLy8gPT0vVXNlclNjcmlwdD09CihmdW5jdGlvbigpewp2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO3Muc2V0QXR0cmlidXRlKCdzcmMnLCdodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMTQ0NjQtZ3dkL2NvZGUvZ3dkLmpzP3ZlcnNpb249MTcyNjYxJyk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTsKfSkoKQ=="},{"name":"Greasyfork Search with Sleazyfork Results include","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["greasyfork.org","sleazyfork.org"],"orig_excludes":[],"orig_includes":["http*://greasyfork.org/*","http*://www.greasyfork.org/*","http*://sleazyfork.org/*","http*://www.sleazyfork.org/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512535},"enabled":true,"position":16,"file_url":"https://greasyfork.org/scripts/23840-greasyfork-search-with-sleazyfork-results-include/code/Greasyfork%20Search%20with%20Sleazyfork%20Results%20include.user.js","uuid":"bd5db117-c2c8-463a-b3d8-0fe17eeff077","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBHcmVhc3lmb3JrIFNlYXJjaCB3aXRoIFNsZWF6eWZvcmsgUmVzdWx0cyBpbmNsdWRlCi8vIEBuYW1lOnpoLUNOICAg5aSn5Lq655qER3JlYXN5Zm9yawovLyBAbmFtZTp6aC1UVyAgIOWkp+S6uueahEdyZWFzeWZvcmsKLy8gQG5hbWU6amEgICAgICDlpKfkurrjga5HcmVhc3lmb3JrCi8vIEBuYW1lc3BhY2UgICAgaG9vdGhpbgovLyBAdmVyc2lvbiAgICAgIDAuNjkKLy8gQGRlc2NyaXB0aW9uICBNZXJnZSBhZHVsdCByZXN1bHRzIG9mIHNsZWF6eWZvcmsgaW50byBncmVhc3lmb3JrIHdoZW4gdGhlIHNjcmlwdCBpcyBubyBsb25nZXIgYW5vbnltb3VzbHkgYXZhaWxhYmxlLCBhZGQgcmF0aW5nIHNjb3JlIGFuZCB2ZXJzaW9uIGZvciBzY3JpcHRzIHRoZW4KLy8gQGRlc2NyaXB0aW9uOnpoLUNOIOWcqEdyZWFzeWZvcmvnmoTmkJzntKLnu5PmnpzkuK3mt7vliqBTbGVhenlmb3Jr5LiK55qE5oiQ5Lq66ISa5pys77yM5aKe5Yqg6K+E5YiG5LiO54mI5pys5Y+377yM5bm25Zyo6K6/6Zeu5Yy/5ZCN5LiN5Y+v55So6ISa5pys5pe26Lez6L2s6IezU2xlYXp5Zm9yawovLyBAZGVzY3JpcHRpb246emgtVFcg5ZyoR3JlYXN5Zm9ya+eahOaQnOe0oue1kOaenOS4rea3u+WKoFNsZWF6eWZvcmvkuIrnmoTmiJDkurrohbPmnKzvvIzlop7liqDoqZXliIboiIfniYjmnKzomZ/vvIzkuKblnKjoqKrllY/ljL/lkI3kuI3lj6/nlKjohbPmnKzmmYLot7PovYnoh7NTbGVhenlmb3JrCi8vIEBkZXNjcmlwdGlvbjpqYSAgICDohJrmnKzku5jjgZHjgotTbGVhenlmb3Jr5LiK44Gu5oiQ5Lq66ISa5pys5qSc57Si57WQ5p6c44GL44KJR3JlYXN5Zm9ya+OAgeiEmuacrOS7mOOBkeOCi+aOoeeCueOBqOODkOODvOOCuOODp+ODs+eVquWPt+OCkuioquWVj+WMv+WQjeWIqeeUqOOBp+OBjeOBquOBhOiEmuacrOOBq+OCuOODo+ODs+ODl+OBi+OCiVNsZWF6eWZvcmsKLy8gQGF1dGhvciAgICAgICBob290aGluCi8vIEBpbmNsdWRlICAgICAgaHR0cCo6Ly9ncmVhc3lmb3JrLm9yZy8qCi8vIEBpbmNsdWRlICAgICAgaHR0cCo6Ly93d3cuZ3JlYXN5Zm9yay5vcmcvKgovLyBAaW5jbHVkZSAgICAgIGh0dHAqOi8vc2xlYXp5Zm9yay5vcmcvKgovLyBAaW5jbHVkZSAgICAgIGh0dHAqOi8vd3d3LnNsZWF6eWZvcmsub3JnLyoKLy8gQGdyYW50ICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGNvbm5lY3QgICAgICBncmVhc3lmb3JrLm9yZwovLyBAY29ubmVjdCAgICAgIHNsZWF6eWZvcmsub3JnCi8vIEBjb250cmlidXRpb25VUkwgaHR0cHM6Ly93d3cucGF5cGFsLmNvbS9jZ2ktYmluL3dlYnNjcj9jbWQ9X2RvbmF0aW9ucyZidXNpbmVzcz1yaXhpeGlAc2luYS5jb20maXRlbV9uYW1lPUdyZWFzeStGb3JrK2RvbmF0aW9uCi8vIEBjb250cmlidXRpb25BbW91bnQgMQovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uc2lnbi1pbi1saW5rJykpewogICAgICAgIHZhciBvdGhlclNpdGU9L2dyZWFzeWZvcmtcLm9yZy8udGVzdChsb2NhdGlvbi5ob3N0bmFtZSk/InNsZWF6eWZvcmsiOiJncmVhc3lmb3JrIjsKICAgICAgICBpZigvc2NyaXB0c1wvXGQrLy50ZXN0KGxvY2F0aW9uLmhyZWYpKXsKICAgICAgICAgICAgaWYoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzY3JpcHQtaW5mbyIpICYmIChvdGhlclNpdGUgPT0gImdyZWFzeWZvcmsiIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImRpdi53aWR0aC1jb25zdHJhaW50PnNlY3Rpb24+cD5hIikpKXsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWY9bG9jYXRpb24uaHJlZi5yZXBsYWNlKC9cL1wvKFteXC5dK1wuKT8oZ3JlYXN5Zm9ya3xzbGVhenlmb3JrKVwub3JnLywiLy8kMSIrb3RoZXJTaXRlKyJcLm9yZyIpOwogICAgICAgICAgICB9CiAgICAgICAgfWVsc2UgaWYoL1wvKHNjcmlwdHN8dXNlcnMpKFwvfFw/cT18XD9zZXQ9KS8udGVzdChsb2NhdGlvbi5ocmVmKSl7CiAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICB1cmw6IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgvXC9cLyhbXlwuXStcLik/KGdyZWFzeWZvcmt8c2xlYXp5Zm9yaylcLm9yZy8sIi8vJDEiK290aGVyU2l0ZSsiXC5vcmciKSwKICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRvYyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5pbm5lckhUTUwgPSByZXN1bHQucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGFyc2UgZXJyb3InKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb2MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IGRvYy5xdWVyeVNlbGVjdG9yKCdvbC5zY3JpcHQtbGlzdCcpOwogICAgICAgICAgICAgICAgICAgIGlmIChsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ29sLnNjcmlwdC1saXN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFtbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvbCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWwuc2V0QXR0cmlidXRlKCJjbGFzcyIsInNjcmlwdC1saXN0Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5PmRpdi53aWR0aC1jb25zdHJhaW50Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHM9bGlzdC5xdWVyeVNlbGVjdG9yQWxsKCJwIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDtpPHBzLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwPXBzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QucmVtb3ZlQ2hpbGQocCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKG1sKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2NzPWwucXVlcnlTZWxlY3RvckFsbCgibGkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2NzKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8c2NzLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzYz1zY3NbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIW1sLnF1ZXJ5U2VsZWN0b3IoImxpW2RhdGEtc2NyaXB0LWlkPSciK3NjLmdldEF0dHJpYnV0ZSgiZGF0YS1zY3JpcHQtaWQiKSsiJ10iKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFNjb3JlKHNjKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWwuYXBwZW5kQ2hpbGQoc2MpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIGFkZFNjb3JlKHNjcmlwdCl7CiAgICAgICAgdmFyIHNlcGFyYXRvcj1zY3JpcHQucXVlcnlTZWxlY3RvcignaDI+c3Bhbi5uYW1lLWRlc2NyaXB0aW9uLXNlcGFyYXRvcicpOwogICAgICAgIHZhciBkZXNjcmlwdGlvbj1zY3JpcHQucXVlcnlTZWxlY3RvcignaDI+c3Bhbi5kZXNjcmlwdGlvbicpOwogICAgICAgIGlmKHNlcGFyYXRvcil7CiAgICAgICAgICAgIHZhciBzY29yZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHJvbmciKTsKICAgICAgICAgICAgc2NvcmUuc3R5bGUuY29sb3I9IiNlMDkwMTUiOwogICAgICAgICAgICBzY29yZS5pbm5lckhUTUw9c2NyaXB0LmdldEF0dHJpYnV0ZSgiZGF0YS1zY3JpcHQtcmF0aW5nLXNjb3JlIik7CiAgICAgICAgICAgIHNlcGFyYXRvci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzY29yZSxzZXBhcmF0b3IpOwogICAgICAgIH0KICAgICAgICBpZihkZXNjcmlwdGlvbilkZXNjcmlwdGlvbi5pbm5lckhUTUwrPSI8c3Ryb25nPlZlci4iK3NjcmlwdC5nZXRBdHRyaWJ1dGUoImRhdGEtc2NyaXB0LXZlcnNpb24iKSsiPC9zdHJvbmc+IjsKICAgIH0KICAgIHZhciBzb3J0RGl2PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzY3JpcHQtbGlzdC1zb3J0Iik7CiAgICBpZihzb3J0RGl2KXsKICAgICAgICB2YXIgc2NyaXB0cz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdvbC5zY3JpcHQtbGlzdD5saScpOwogICAgICAgIGZvcihsZXQgaT0wO2k8c2NyaXB0cy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgbGV0IHNjcmlwdD1zY3JpcHRzW2ldOwogICAgICAgICAgICBhZGRTY29yZShzY3JpcHQpOwogICAgICAgIH0KICAgICAgICAvL01vZGlmeSBmcm9tIEdyZWFzeUZvcmsgQnVsbHNoaXQgRmlsdGVyLFRoYW5rcyB0byBkYXJrcmVkCiAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9ICdsaS5maWx0ZXJlZCB7IGRpc3BsYXk6bm9uZSAhaW1wb3J0YW50OyB9JzsKICAgICAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJzsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJykuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgICAgIHZhciBidWxsc2hpdD0i55m+5bqmKOS6kXznvZHnm5gpfEFudGlHYW1lfHNwbGl0fEFnYXJ8YWdhclwuaW98YWxpc1wuaW98YW5nZWxcLmlvfEV4dGVuY2lvblJpcFhDaGV0b01hbG98QXBvc0JvdHxERnhMaXRlfFpUeC1MaXRlfEFwb3NGZWVkaW5nQm90fEFwb3NMb2FkZXJ8QmxhaCBCbGFofE9yYyBDbGFuIFNjcmlwdHxBc3Ryb1xzKkVtcGlyZXN8XlxzKkF0dGFja3xeXHMqQmF0dGxlfEJpdGVGaWdodHxCbG9vZFxzKldhcnN8Qm90c3xCb3RzNHxCcmF3bGVyfFxiQnZTXGJ8QnVzaW5lc3NccypUeWNvb258Q2FzdGxlXHMqQWdlfENpdHlccypWaWxsZXxjaG9wY29pblwuaW98Q29tdW5pb3xDb25xdWVyXHMqQ2x1YnxDb3Ntb1B1bHNlfGN1cnNvcnNcLmlvfERhcmtccypPcmJpdHxEZWFkXHMqRnJvbnRpZXJ8RGllcFwuaW98XGJET0FcYnxkb2Jsb25zXC5pb3xEb3REfERvc3NlcmdhbWV8RHJhZ29uc1xzKm9mXHMqQXRsYW50aXN8ZHJpZnRpblwuaW98RHVnb3V0fFxiRFNbYS16XStcbnxlbGl0ZXNcLmlvfEVtcGlyZVxzKkJvYXJkfGVSZXAodWJsaWspP3xFcGljLipXYXJ8RXhvUGxhbmV0fEZhbGNvbiBUb29sc3xGZXVlcndhY2hlfEZhcm1pbmd8RmFybVZpbGxlfEZpZ2h0aW5mb3xGcm9udGllclxzKlZpbGxlfEdob3N0XHMqVHJhcHBlcnxHbGFkaWF0dXN8R29hbGxpbmV8R29uZGFsfGdvdGFcLmlvfEdyZXBvbGlzfEhvYm9wb2xpc3xcYmh3bShcYnxfKXxJa2FyaWFtfFxiSVQyXGJ8SmVsbHluZW98S2FwaVxzKkhvc3BpdGFsfEtpbmdzXHMqQWdlfEtpbmdkb21zP1xzKm9mfGtuYXN0dijDtnxvZSlnZWx8S25pZ2h0XHMqRmlnaHR8XGIoUG93ZXIpP0tvQyhBdHRhP2NrKT9cYnxcYktPTFxifEtvbmdyZWdhdGV8TGFzdFxzKkVtcGVyb3J8TGVnZW5kcz9ccypvZnxMaWdodFxzKlJpc2luZ3xsaXRlXC5leHRcLmlvfExvY2tlcnp8XGJMb1VcYnxNYWZpYVxzKihXYXJzfE1vZm8pfE1lbmVsZ2FtZXxNb2JccypXYXJzfE1vdXNlXHMqSHVudHxNb2xlaGlsbFxzKkVtcGlyZXxOZW9RdWVzdHxNeUZyZWVGYXJtfG5hcndoYWxlXC5pb3xOZW9wZXRzfE5lbWV4aWF8XGJPR2FtZVxifE9nYXIoaW8pP3xQYXJkdXN8UGVubmVyZ2FtZXxQaWdza2luXHMqRW1waXJlfFBsYXllclNjcmlwdHN8cG9rZXJhZGFyXC5pb3xQb3BtdW5kb3xQbz93ZT9yXHMqKEJvdHxUb29scyl8UHNpY29UU0l8UmF2ZW53b29kfFNjaHVsdGVyZ2xhdHplfHNsaXRoZXJcLmlvfHNsaXRoZXJwbHVzXC5pb3xzbGl0aGVyaW9nYW1lcGxheXxTcGFjZVdhcnN8c3BsaXhcLmlvfFxiU1dfW2Etel0rXG58XGJTblBcYnxUaGVccypDcmltc3xUaGVccypXZXN0fHRvcnRvXC5pb3xUcmF2aWFufFRyZWFzdXJlXHMqSXNsKGFuZHxlKXxUcmliYWxccypXYXJzfFRXLj9QUk98VmFtcGlyZVxzKldhcnN8dmVydGl4XC5pb3xXYXJccypvZlxzKk5pbmphfFdlc3RccypXYXJzfHdpbmdzXC5pb3xcYldvRFxifFdvcmxkXHMqb2ZccypEdW5nZW9uc3x3dGZccypiYXR0bGVzfFd1cnplbGltcGVyaXVtIjsKICAgICAgICB2YXIgZmlsdGVyTmFtZT0iRW5hYmxlIEZpbHRlciIsZmlsdGVyZWROdW07CiAgICAgICAgdmFyIGZpbHRlcj1mdW5jdGlvbigpewogICAgICAgICAgICBmaWx0ZXJlZE51bT0wOwogICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYXJ0aWNsZT5oMicpLCBmdW5jdGlvbihpdGVtKSB7CiAgICAgICAgICAgICAgICBpZihuZXcgUmVnRXhwKGJ1bGxzaGl0LCJpIikudGVzdChpdGVtLmlubmVyVGV4dCkpewogICAgICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2ZpbHRlcmVkJyk7CiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWROdW0rKzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgc3dpdGNoRmlsdGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGVuYWJsZUZpbHRlcj0hR01fZ2V0VmFsdWUoImRpc2FibGVGaWx0ZXIiKTsKICAgICAgICBpZihlbmFibGVGaWx0ZXIpZmlsdGVyKCk7CiAgICAgICAgc3dpdGNoRmlsdGVyLmlubmVySFRNTD0nPGlucHV0IHR5cGU9ImNoZWNrQm94IiBuYW1lPSJzd2l0Y2hGaWx0ZXIiIGlkPSJzd2l0Y2hGaWx0ZXIiLz48bGFiZWwgZm9yPSJzd2l0Y2hGaWx0ZXIiPicrZmlsdGVyTmFtZSsoZmlsdGVyZWROdW0/JyAoJytmaWx0ZXJlZE51bSsnIGZpbHRlcmVkKSc6JycpKyc8L2xhYmVsPic7CiAgICAgICAgdmFyIHN3aXRjaEZpbHRlckNoZWNrYm94PXN3aXRjaEZpbHRlci5xdWVyeVNlbGVjdG9yKCcjc3dpdGNoRmlsdGVyJyk7CiAgICAgICAgdmFyIHN3aXRjaEZpbHRlckxhYmVsPXN3aXRjaEZpbHRlckNoZWNrYm94Lm5leHRTaWJsaW5nOwogICAgICAgIHN3aXRjaEZpbHRlckNoZWNrYm94LmNoZWNrZWQ9ZW5hYmxlRmlsdGVyOwogICAgICAgIHN3aXRjaEZpbHRlckNoZWNrYm94Lm9uY2xpY2s9ZnVuY3Rpb24oKXsKICAgICAgICAgICAgaWYoZW5hYmxlRmlsdGVyKXsKICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdsaS5maWx0ZXJlZCcpLCBmdW5jdGlvbihpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdmaWx0ZXJlZCcpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzd2l0Y2hGaWx0ZXJMYWJlbC5pbm5lckhUTUw9ZmlsdGVyTmFtZTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBmaWx0ZXIoKTsKICAgICAgICAgICAgICAgIHN3aXRjaEZpbHRlckxhYmVsLmlubmVySFRNTD1maWx0ZXJOYW1lKycgKCcrZmlsdGVyZWROdW0rJyBmaWx0ZXJlZCknOwogICAgICAgICAgICB9CiAgICAgICAgICAgIEdNX3NldFZhbHVlKCJkaXNhYmxlRmlsdGVyIixlbmFibGVGaWx0ZXIpOwogICAgICAgICAgICBlbmFibGVGaWx0ZXI9IWVuYWJsZUZpbHRlcjsKICAgICAgICB9OwogICAgICAgIHNvcnREaXYuaW5zZXJ0QmVmb3JlKHN3aXRjaEZpbHRlcixzb3J0RGl2LmZpcnN0Q2hpbGQpOwogICAgfQp9KSgpOw=="},{"name":"Baidu Tieba: No Login","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://tieba.baidu.com/*","*://www.tieba.com/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512539},"enabled":true,"position":17,"file_url":"https://greasyfork.org/scripts/14151-baidu-tieba-no-login/code/Baidu%20Tieba:%20No%20Login.user.js","uuid":"dfba0b3a-9e0f-4cf7-b653-12ea6bb62844","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWVzcGFjZSAgIFZBX2kKLy8gQHZlcnNpb24gICAgIDMuMC4wLjIwMTcwMzEwCi8vIEBncmFudCAgICAgICB1bnNhZmVXaW5kb3cKLy8gQG1hdGNoICAgICAgICo6Ly90aWViYS5iYWlkdS5jb20vKgovLyBAbWF0Y2ggICAgICAgKjovL3d3dy50aWViYS5jb20vKgovLyBAcnVuLWF0ICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQG5hbWUgICAgICAgIEJhaWR1IFRpZWJhOiBObyBMb2dpbgovLyBAbmFtZTp6aC1DTiAg55m+5bqm6LS05ZCn77ya5LiN55m75b2V5Y2z5Y+v55yL6LS0Ci8vIEBuYW1lOnpoLVRXICDnmb7luqbotLTlkKfvvJrkuI3nmbvlhaXljbPlj6/nnIvosrwKLy8gQGRlc2NyaXB0aW9uIFZpZXcgQmFpZHUgVGllYmEgd2l0aG91dCBsb2dpbi4KLy8gQGRlc2NyaXB0aW9uOnpoLUNOIOeZvuW6pui0tOWQp+eci+i0tO+8iOWMheaLrOalvOS4realvO+8ieaXoOmhu+eZu+W9leOAggovLyBAZGVzY3JpcHRpb246emgtVFcg55m+5bqm6LS05ZCn55yL6LK877yI5YyF5ous5qiT5Lit5qiT77yJ54Sh6aCI55m75YWl44CCCi8vID09L1VzZXJTY3JpcHQ9PQoKdW5zYWZlV2luZG93Lk9iamVjdC5mcmVlemUgPSBudWxsOwoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uIChldmVudCkgewogIHRyeSB7CiAgICB1bnNhZmVXaW5kb3cuUGFnZURhdGEudXNlci5pc19sb2dpbiA9IDE7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIC8vYWxlcnQoZXJyb3IpOwogIH0KfSwgdHJ1ZSk7Cg=="},{"name":"gpu acceleration of the flash player","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://*","https://*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512543},"enabled":false,"position":18,"file_url":"https://greasyfork.org/scripts/17605-gpu-acceleration-of-the-flash-player/code/gpu%20acceleration%20of%20the%20flash%20player.user.js","uuid":"b35c5753-9b1e-4b86-80e0-0e3599f7aa83","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIGdwdSBhY2NlbGVyYXRpb24gb2YgdGhlIGZsYXNoIHBsYXllcgovLyBAbmFtZXNwYWNlICAgc3BpZWxlcjE3Ci8vIEBkZXNjcmlwdGlvbiBUaGlzIHNjcmlwdCBpcyBiYXNlZCBvbiB0aGUgbWV0aG9kIG9mIGluY29ycG9yYXRpbmcgYSBjZXJ0YWluIHZhbHVlIG9mIHRoZSAiZ3B1IiBhdHRyaWJ1dGUgIndtb2RlIiBmbGFzaCBvYmplY3QuIEluY2x1ZGVzIGdwdSBhY2NlbGVyYXRpb24gb2YgdGhlIGZsYXNoIHBsYXllci4gU29sdmVzIHByb2JsZW1zIHdpdGggbGFncyBvZiB0aGUgZmxhc2ggcGxheWVyIHdoZW4gd2F0Y2hpbmcgdmlkZW9zIGFuZCBzdHJlYW1zLiBXb3JrcyBvbiBhbGwgd2Vic2l0ZXMgdGhhdCB1c2UgZmxhc2ggdGVjaG5vbG9neS4KLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qCi8vIEBpbmNsdWRlICAgICBodHRwczovLyoKLy8gQHZlcnNpb24gICAgIDMuNwovLyBAZ3JhbnQgICAgICAgZnVuY3Rpb24KLy8gPT0vVXNlclNjcmlwdD09Cgp2YXIgcnVuX3RpbWVfbWF4ID0gMjsKdmFyIHdtb2RlX3ZhbHVlID0gJ2dwdSc7CnZhciB0b2dnbGUgPSBmdW5jdGlvbiAobykgewppZiAobykgewogICBvLnNldEF0dHJpYnV0ZSgnZmEtc2lnbicsIDEpOwogICB2YXIgZGlzcGxheSA9IG8uc3R5bGUuZGlzcGxheTsKICAgby5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgby5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTsKICAgIH0sIDApOwogIH0KfTsKdmFyIHJlcGxhY2Vfbm9kZSA9IGZ1bmN0aW9uIChvKSB7CmlmIChvKSB7CiAgIGlmIChvLnR5cGUgIT09ICdhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCcpIHsKICAgfSAKICAgZWxzZSB7CiAgIGNsb25lID0gby5jbG9uZU5vZGUodHJ1ZSk7CiAgIGNsb25lLnNldEF0dHJpYnV0ZSgnZmEtc2lnbicsIDEpOwogICBvLnBhcmVudEVsZW1lbnQucmVwbGFjZUNoaWxkKGNsb25lLCBvKTsKICAgIH0KICB9Cn07CnZhciBydW5fdGltZSA9IDE7CnZhciBmaW5kX3dtb2RlID0gZnVuY3Rpb24gKHQpIHsKICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKSB7CiAgIGlmICh0W2ldLm5hbWUgPT09ICd3bW9kZScgfHwgdFtpXS5uYW1lID09PSAnd01vZGUnKSB7CiAgIHJldHVybiB0W2ldOwogICAgfQogIH0KICAgcmV0dXJuIG51bGw7Cn07CnZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKdmFyIG9iamVjdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnb2JqZWN0Jyk7CnZhciBlbWJlZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZW1iZWQnKTsKY29uc29sZS5sb2coJ3J1bl90aW1lJywgcnVuX3RpbWUsIGxvY2F0aW9uKTsKaWYgKHJ1bl90aW1lID09PSBydW5fdGltZV9tYXgpIHsKICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgfQogICBydW5fdGltZSA9IHJ1bl90aW1lICsgMTsKICAgaWYgKGVtYmVkcy5sZW5ndGggPiAwKSB7CiAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW1iZWRzLmxlbmd0aDsgaSsrKSB7CiAgIGlmIChlbWJlZHNbaV0uY2xpZW50V2lkdGggPCAxMzY2IHx8IGVtYmVkc1tpXS5jbGllbnRIZWlnaHQgPCA3NjggfHwgZW1iZWRzW2ldLnR5cGUgIT09ICdhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCcpIHsKICB9IAogIGVsc2UgaWYgKGVtYmVkc1tpXS5nZXRBdHRyaWJ1dGUoJ2ZhLXNpZ24nKSkgewogIGNvbnRpbnVlOwogIH0gCiAgZWxzZSB7CiAgZW1iZWRzW2ldLnNldEF0dHJpYnV0ZSgnd21vZGUnLCB3bW9kZV92YWx1ZSk7CiAgcmVwbGFjZV9ub2RlKGVtYmVkc1tpXSwgb2JqZWN0cyk7CiAgfQogIH0KICB9CiAgaWYgKG9iamVjdHMubGVuZ3RoID4gMCkgewogIGZvciAodmFyIGogPSAwOyBqIDwgb2JqZWN0cy5sZW5ndGg7IGorKykgewogIGlmIChvYmplY3RzW2pdLmNsaWVudFdpZHRoIDwgMTM2NiB8fCBvYmplY3RzW2pdLmNsaWVudEhlaWdodCA8IDc2OCB8fCBvYmplY3RzW2pdLnR5cGUgIT09ICdhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCcpIHsKICB9IAogIGVsc2UgaWYgKG9iamVjdHNbal0uZ2V0QXR0cmlidXRlKCdmYS1zaWduJykpIHsKICBjb250aW51ZTsKICB9IAogIGVsc2UgewogIHZhciBkID0gZmluZF93bW9kZShvYmplY3RzW2pdLmNoaWxkTm9kZXMpOwogIGlmIChkKSB7CiAgZC52YWx1ZSA9IHdtb2RlX3ZhbHVlOwogIH0gCiAgZWxzZSB7CiAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwYXJhbScpOwogIGUubmFtZSA9ICd3bW9kZSc7CiAgZS52YWx1ZSA9IHdtb2RlX3ZhbHVlOwogIG9iamVjdHNbal0uYXBwZW5kQ2hpbGQoZSk7CiAgfQogIHJlcGxhY2Vfbm9kZShvYmplY3RzW2pdKTsKICB9CiAgfQogIH0KfSwgMTM2Nik7"},{"name":"琉神转","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http*://www.hacg.*/wordpress/*","http*://hacg.*/wordpress/*","http*://www.hacg.*/wp/*","http*://hacg.*/wp/*","http*://www.hacg.lol/*","http*://hacg.lol/*","http*://hacg.riwee.com/*","http*://hacg.me/*","http*://hacg.in/*","http*://hacg.be/*","http*://hacg.club/*","http*://hacg.li/*","http*://hacg.fi/*","http*://hacg.red/*","http*://hacg.la/*","http*://hacg.tw/*","http*://hacg.at/*","http*://hacg.ch/*","http*://www.acgpy.com/*","http*://blog.reimu.net/*","http*://pan.baidu.com/share/*","http*://pan.baidu.com/s/*","http*://sexacg.com/*","http*://www.acg.tf/*","http*://acg.tf/*","http*://www.moxacg.com/*","http*://moxacg.*","http*://*.acggj.com/*","http*://acg12.com/*","http*://*.acg12.com/*","http*://www.acgnz.cc/*","http*://nacg.me/*","http*://www.tianshit.com/*","http*://www.oomoe.moe/*","http*://www.kaze5.com/*","http*://www.acg15.com/*","http*://www.acglover.top/*","http*://lifanmoe.com/*","http*://www.idanmu.*","http*://*.sijihuisuo.club/*","http*://sijihuisuo.club/*","http*://acg18.us/*","http*://*.acg18.us/*","http*://*.acg44.com/*","http*://zuiacg.com/*","http*://www.galacg.me/*","http*://www.mhecy.com/*","http*://acgzone.org/*","http*://www.acgzone.org/*","http*://uraban.me/*","http*://www.uraban.me/*","http*://acgmoon.*","http*://www.jiyue.*","http*://www.moe-acg.*/*","http*://www.mygalgame.com/*","http*://htai.*","http*://gmgard.com/*","http*://*.gmgard.com/*","http*://www.kou.moe/*","http*://www.91moe.com/*","http*://cefamilie.com/*","http*://yui-nya.com/*","http*://www.l-sj.cc/*","http*://htacg.cc/*","http*://www.htacg.cc/*","http*://sleazyfork.org/*/scripts/*","http*://greasyfork.org/*/scripts/*","http*://*yfork.org/*/forum/*discussion*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512552},"enabled":false,"position":19,"file_url":"https://sleazyfork.org/scripts/23316-hacggodturn/code/HacgGodTurn.user.js","uuid":"30226229-8174-42a3-b763-6a7251daa74c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIOeQieelnui9rAovLyBAbmFtZTplbiAgICAgSGFjZ0dvZFR1cm4KLy8gQG5hbWU6emgtVFcgIOeQieelnui9iQovLyBAbmFtZTpqYSAgICAg55CJ55KD56We56S+5bel5YW344K744OD44OICi8vIEBuYW1lc3BhY2UgICBob290aGluCi8vIEBkZXNjcmlwdGlvbiAgICAgICAgIOiAgeWPuOacuuW3peWFt+euse+8jOaUr+aMgeeQieeSg+elnuekvuOAgeeBteaipuW+oeaJgOOAgee6r+eIseiuoeWIkuOAgee7heWjq+S6jOasoeWFg+OAgeiQjOW/g+asoeWFg+OAgeasoeWFg+i9qOi/ueOAgUFDR+iwg+afpeWwj+mYn+OAgeW5u+WkqemihuWfn+OAgeWkqeS9v+S6jOasoeWFg+OAgeaoseiKsea8q+iIjeOAgemjjumTg+eqneOAgeasoeWFg+OBruWco+WFieOAgeeIseW8ueW5leOAgeW5u+aDs+asoeWFg+OAgeWPuOacuuS8muaJgOOAgemHjOeVquiQjOOAgeacgEFDR+OAgee7heWjq+S7k+W6k+OAgee7heWjq+WbvuS5pummhuOAgUFDR+WSjOiwkOWMui/ph4zkuJbnlYzjgIHlr4LmnIjnpZ7npL7jgIHokIzlubvkuYvkuaHjgIHnu4Xlo6vkuYvluq3jgIHokIzlj6Pnu4TjgIHkuZ3lppbokIzjgIFDReWutuaXj+ekvuOAgeWWteeqneOAgeasoeWFg+iAgeWPuOacuuOAgee7heWjq0FDR+ekvuetie+8jOelnuenmOS7o+eggei9rOaNouaIkOS4i+i9vemTvuaOpe+8jOe9keebmOiHquWKqOWhq+WGmeaPkOWPluWvhuegge+8jEY444CBU2hpZnQrRjjnq5nngrnliIfmjaLvvIxBbHQrRjjliJfooajmtY/op4jvvIzlt6blj7PmlrnlkJHplK7mlofnq6Dot7PovazvvIxDdHJsK+W3puWPs+W/q+aNt+e/u+mhte+8jEN0cmwr5LiK5LiL6Lez5YWl6Lez5Ye677yM5LiL6L296ZO+5o6l5ZeF5o6i77yM57uV6L+H6YeN5a6a5ZCR6Lez6L2s77yM5ZCE56eN5ZKM6LCQ6KGl5LiBCi8vIEBkZXNjcmlwdGlvbjplbiAgICAgIFRvb2xzIGZvciBhZHVsdCBnZW50bGVtYW4gc2l0ZXMgKGdsYXplZCBzaHJpbmUsIHJlaW11IGltcGVyaWFsLCBwdXJlIGxvdmUgcGxhbiwgZ2VudGxlbWFuIHR3byBkaW1lbnNpb24sIGRpbWVuc2lvbiBhbmQgZGltZW5zaW9uIHRyYWplY3RvcnksIGFkb3JhYmxlIGhlYXJ0IEFDRyBzdXJ2ZXkgdGVhbSwgdGhlIG1hZ2ljIGRheSBpbiB0aGUgZmllbGQsIGxpZ2h0IGFnZW5jeSwgdHdvIGRpbWVuc2lvbmFsLCBhZG9yYWJsZSBBbmdlbCBTYWt1cmEgZGlmZnVzZSBob21lcywgU2hlbmdndWFuZywgbG92ZSBuZXN0LCBDYW1wYW51bGEgZGltZW5zaW9uIGJhcnJhZ2UsIGZhbnRhc3kgZWxlbWVudCwgb3VyIG9wcG9ydHVuaXRpZXMsIHNvbWUgYWRvcmFibGUpIG15c3RlcmlvdXMgY29kZSBpbnRvIHRoZSBkb3dubG9hZCBsaW5rLCBGOCAmIHNoaWZ0K0Y4IHN3aXRjaGluZyBzaXRlcywgQmFpZHUgZGlzayBhdXRvbWF0aW9uLCBoYXJtb25pb3VzIHBhdGNoCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyAgIOiAgeWPuOapn+W3peWFt+euse+8jOaUr+aMgeeQieeSg+elnuekvuOAgemdiOWkouempuaJgOOAgee0lOaEm+ioiOWKg+OAgee0s+Wjq+S6jOasoeWFg+OAgeiQjOW/g+asoeWFg+OAgeasoeWFg+i7jOi3oeOAgUFDR+iqv+afpeWwj+maiuOAgeW5u+WkqemgmOWfn+OAgeWkqeS9v+S6jOasoeWFg+OAgearu+iKsea8q+iIjeOAgemiqOmItOeqqeOAgeasoeWFg+OBruiBluWFieOAgeaEm+W9iOW5leOAgeW5u+aDs+asoeWFg+OAgeWPuOapn+acg+aJgOOAgeijj+eVquiQjOOAgeacgEFDR+OAgee0s+Wjq+WAieW6q+OAgee0s+Wjq+WcluabuOmkqOOAgUFDR+WSjOirp+WNgC/oo4/kuJbnlYzjgIHlr4LmnIjnpZ7npL7jgIHokIzlubvkuYvphJXjgIHntLPlo6vjga7luq3jgIHokIzlj6PntYTjgIHkuZ3lppbokIzjgIFDReWutuaXj+ekvuOAgeWWteeqqeOAgeasoeWFg+iAgeWPuOapn+OAgee0s+Wjq0FDR+ekvuetie+8jOelnuenmOS7o+eivOi9ieaPm+aIkOS4i+i8iemPiOaOpe+8jOe2suebpOiHquWLleWhq+Wvq+aPkOWPluWvhueivO+8jEY444CBU2hpZnQrRjjnq5npu57liIfmj5vvvIxBbHQrRjjliJfooajngI/opr3vvIzlt6blj7PmlrnlkJHpjbXmlofnq6Dot7PovYnvvIxDdHJsK+W3puWPs+W/q+aNt+e/u+mgge+8jEN0cmwr5LiK5LiL6Lez5YWl6Lez5Ye677yM5LiL6LyJ6Y+I5o6l5ZeF5o6i77yM57me6YGO6YeN5a6a5ZCR6Lez6L2J77yM5ZCE56iu5ZKM6Kun6KOc5LiBCi8vIEBkZXNjcmlwdGlvbjpqYSAgICAgIOeQieeSg+elnuekvuW3peWFt+OCu+ODg+ODiOOAgeeni+OBruWQjeWxseiAgemBi+i7ouaJi+WwgueUqAovLyBAYXV0aG9yICAgICAgaG9vdGhpbgovLyBAaWNvbiAgICAgICAgaHR0cHM6Ly93d3cuaGFjZy5maS9mYXZpY29uLmljbwovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly93d3cuaGFjZy4qL3dvcmRwcmVzcy8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL2hhY2cuKi93b3JkcHJlc3MvKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly93d3cuaGFjZy4qL3dwLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vaGFjZy4qL3dwLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3LmhhY2cubG9sLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vaGFjZy5sb2wvKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly9oYWNnLnJpd2VlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL2hhY2cubWUvKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly9oYWNnLmluLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vaGFjZy5iZS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL2hhY2cuY2x1Yi8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL2hhY2cubGkvKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly9oYWNnLmZpLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vaGFjZy5yZWQvKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly9oYWNnLmxhLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vaGFjZy50dy8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL2hhY2cuYXQvKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly9oYWNnLmNoLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3LmFjZ3B5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL2Jsb2cucmVpbXUubmV0LyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vcGFuLmJhaWR1LmNvbS9zaGFyZS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3Bhbi5iYWlkdS5jb20vcy8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3NleGFjZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly93d3cuYWNnLnRmLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vYWNnLnRmLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3Lm1veGFjZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly9tb3hhY2cuKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly8qLmFjZ2dqLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL2FjZzEyLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovLyouYWNnMTIuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3LmFjZ256LmNjLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vbmFjZy5tZS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3d3dy50aWFuc2hpdC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly93d3cub29tb2UubW9lLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3LmthemU1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3d3dy5hY2cxNS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly93d3cuYWNnbG92ZXIudG9wLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vbGlmYW5tb2UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3LmlkYW5tdS4qCi8vIEBpbmNsdWRlICAgICBodHRwKjovLyouc2lqaWh1aXN1by5jbHViLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vc2lqaWh1aXN1by5jbHViLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vYWNnMTgudXMvKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly8qLmFjZzE4LnVzLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vKi5hY2c0NC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly96dWlhY2cuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3LmdhbGFjZy5tZS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3d3dy5taGVjeS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly9hY2d6b25lLm9yZy8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3d3dy5hY2d6b25lLm9yZy8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3VyYWJhbi5tZS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3d3dy51cmFiYW4ubWUvKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly9hY2dtb29uLioKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3LmppeXVlLioKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3Lm1vZS1hY2cuKi8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3d3dy5teWdhbGdhbWUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vaHRhaS4qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL2dtZ2FyZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly8qLmdtZ2FyZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly93d3cua291Lm1vZS8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL3d3dy45MW1vZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly9jZWZhbWlsaWUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8veXVpLW55YS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly93d3cubC1zai5jYy8qCi8vIEBpbmNsdWRlICAgICBodHRwKjovL2h0YWNnLmNjLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vd3d3Lmh0YWNnLmNjLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vc2xlYXp5Zm9yay5vcmcvKi9zY3JpcHRzLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vZ3JlYXN5Zm9yay5vcmcvKi9zY3JpcHRzLyoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vKnlmb3JrLm9yZy8qL2ZvcnVtLypkaXNjdXNzaW9uKgovLyBAdmVyc2lvbiAgICAgMy4yMi4wNwovLyBAZ3JhbnQgICAgICAgR01fbm90aWZpY2F0aW9uCi8vIEBncmFudCAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgR01fc2V0Q2xpcGJvYXJkCi8vIEBncmFudCAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgIHVuc2FmZVdpbmRvdwovLyBAcnVuLWF0ICAgICAgZG9jdW1lbnQtZW5kCi8vIEByZXF1aXJlICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMjM1MjIvY29kZS9vZC5qcz92ZXJzaW9uPTE2OTg5MAovLyBAcmVxdWlyZSAgICAgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2NyeXB0by1qcy8zLjEuMi9jb21wb25lbnRzL2NvcmUtbWluLmpzCi8vIEByZXF1aXJlICAgICBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvY3J5cHRvLWpzLzMuMS4yL3JvbGx1cHMvYWVzLmpzCi8vIEBsaWNlbnNlICAgICBNSVQgTGljZW5zZQovLyBAY29ubmVjdCAgICAgdHRzLmJhaWR1LmNvbQovLyBAY29tcGF0aWJsZSAgICAgICAgY2hyb21lCi8vIEBjb21wYXRpYmxlICAgICAgICBmaXJlZm94Ci8vIEBjb21wYXRpYmxlICAgICAgICBvcGVyYSDmnKrmtYvor5UKLy8gQGNvbXBhdGlibGUgICAgICAgIHNhZmFyaSDmnKrmtYvor5UKLy8gQGNvbnRyaWJ1dGlvblVSTCBodHRwczovL3d3dy5wYXlwYWwuY29tL2NnaS1iaW4vd2Vic2NyP2NtZD1fZG9uYXRpb25zJmJ1c2luZXNzPXJpeGl4aUBzaW5hLmNvbSZpdGVtX25hbWU9R3JlYXN5K0ZvcmsrZG9uYXRpb24KLy8gQGNvbnRyaWJ1dGlvbkFtb3VudCAxCi8vID09L1VzZXJTY3JpcHQ9PQovKgrpgJrnlKjlv6vmjbfplK7vvJoKICAgIEY45oiW6ICFc2hpZnQrRjjlkJHliY3miJblkJHlkI7lvqrnjq/lroXnq5nliJfooagKICAgIOKGkCDihpLlv6vpgJ/lrprkvY3liLDkuIrkuIDnr4fmiJbkuIvkuIDnr4fmlofnq6AKICAgIEN0cmwr4oaQIOKGkuW/q+mAn+e/u+mhtQogICAgQ3RybCvihpEg4oaT6L+b5YWl5paH56ug5YaF5a656aG15oiW6L+U5ZueCiAgICBBbHQrRjjmiZPlvIDnu4Xlo6vnq5nngrnliJfooagKICAgIEN0cmwrRjjmiZPlvIDngavnrq3ll4XmjqLnqpflj6MKICAgIEN0cmwrWuW8gOWQr+aIluWFs+mXrU5TRlfmqKHlvI8KCuacgEFDR+W/q+aNt+mUru+8mgogICAg54K55Ye75Zu+54mH5Y676Zmk5ZKM6LCQ5Yqb6YePCiAgICDmjInkvY9DdHJs54K55Ye75Zu+6ZuG5oiW5paH56ug6aG16Z2i55qE5LiL6L295oyJ6ZKu55u05o6l6Lez6L2s6Iez55m+5bqm55uYCgrngavnrq3lip/og73vvIzll4XmjqLlubbmmL7npLrmiYDmnInkuIvovb3pk77mjqXvvIzngrnlh7vluo/lj7flrprkvY3oh7PpobXpnaLkuK3otYTmupDmiYDlnKjkvY3nva4KCuiAgeWPuOacuui+k+WFpeahhui+k+WFpemTvuaOpTpodHRwczovL3Bhbi5iYWlkdS5jb20vcy94eHh4eHh4eCDlr4bnoIE6eXl5eeaIluiAhXh4eHh4eHh4IHl5eXnnrYnlj6/ot7Povazoh7M6aHR0cHM6Ly9wYW4uYmFpZHUuY29tL3MveHh4eHh4eHgjeXl5eQoqLwooZnVuY3Rpb24oKXsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBjb25maWc9ewogICAgICAgIHNpdGVzOlsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZToi55CJ55KD56We56S+IiwKICAgICAgICAgICAgICAgIHVybDoiaHR0cHM6Ly93d3cuaGFjZy5maS93cC8iLAogICAgICAgICAgICAgICAgcmVnZXg6L2hhY2dcLi8KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZToi54G15qKm5b6h5omAIiwKICAgICAgICAgICAgICAgIHVybDoiaHR0cHM6Ly9ibG9nLnJlaW11Lm5ldC8iLAogICAgICAgICAgICAgICAgcmVnZXg6L2Jsb2dcLnJlaW11XC4vCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6Iue6r+eIseiuoeWIkiIsCiAgICAgICAgICAgICAgICB1cmw6Imh0dHBzOi8vc2V4YWNnLmNvbS8iLAogICAgICAgICAgICAgICAgcmVnZXg6L3NleGFjZ1wuLywKICAgICAgICAgICAgICAgIGNvbnRlbnRBcmVhOidhcnRpY2xlJywKICAgICAgICAgICAgICAgIGNvbW1BcmVhOidzdS1xdW90ZS1pbm5lcicKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZToi5qyh5YWD44Gu5Zyj5YWJIiwKICAgICAgICAgICAgICAgIHVybDoiaHR0cDovL3d3dy5hY2dsb3Zlci50b3AvIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi9hY2dsb3ZlclwudG9wLywKICAgICAgICAgICAgICAgIG9mZnNldDo2MCwKICAgICAgICAgICAgICAgIGNvbnRlbnRBcmVhOiIuZW50cnktaW5uZXIiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6Iue7heWjq+S6jOasoeWFgyIsCiAgICAgICAgICAgICAgICB1cmw6Imh0dHBzOi8vd3d3LmFjZy50Zi8iLAogICAgICAgICAgICAgICAgcmVnZXg6L2FjZ1wudGYvLAogICAgICAgICAgICAgICAgb2Zmc2V0OjYwLAogICAgICAgICAgICAgICAgYXJ0aWNsZVNlbDoiLm1hZ2F6aW5lLWxpc3Q+bGksLmFydGljbGVfbGlzdD5saSIsCiAgICAgICAgICAgICAgICBjb250ZW50QXJlYToiLmVudHJ5IgogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiLlpKnkvb/kuozmrKHlhYMiLAogICAgICAgICAgICAgICAgdXJsOiJodHRwczovL3d3dy50aWFuc2hpdC5jb20vIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi90aWFuc2hpdFwuLywKICAgICAgICAgICAgICAgIGNvbnRlbnRBcmVhOicuYXJ0aWNsZS1jb250ZW50JwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiJBQ0fosIPmn6XlsI/pmJ8iLAogICAgICAgICAgICAgICAgdXJsOiJodHRwczovL2FjZzEyLmNvbS8iLAogICAgICAgICAgICAgICAgcmVnZXg6L2FjZzEyXC4vLAogICAgICAgICAgICAgICAgaGlkZU9kOnRydWUsCiAgICAgICAgICAgICAgICBkb3dubG9hZFVybDovYWNnMTJcLmNvbVwvZG93bmxvYWQvLAogICAgICAgICAgICAgICAgb2Zmc2V0OjU1LAogICAgICAgICAgICAgICAgYXJ0aWNsZVNlbDoic2VjdGlvbi5jYXJkIgogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiLpo47pk4Pnqp0iLAogICAgICAgICAgICAgICAgdXJsOiJodHRwOi8vd3d3LmFjZzE1LmNvbS8iLAogICAgICAgICAgICAgICAgcmVnZXg6L2FjZzE1XC5jb20vLAogICAgICAgICAgICAgICAgaGlkZU9kOnRydWUsCiAgICAgICAgICAgICAgICBvZmZzZXQ6NTUsCiAgICAgICAgICAgICAgICBhcnRpY2xlU2VsOiJzZWN0aW9uLmNhcmQiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6IumHjOeVquiQjCIsCiAgICAgICAgICAgICAgICB1cmw6Imh0dHA6Ly9saWZhbm1vZS5jb20vIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi9saWZhbm1vZVwuLywKICAgICAgICAgICAgICAgIGRvd25sb2FkVXJsOi9saWZhbm1vZVwuY29tXC9kb3dubG9hZC8sCiAgICAgICAgICAgICAgICBvZmZzZXQ6NTUsCiAgICAgICAgICAgICAgICBhcnRpY2xlU2VsOiJzZWN0aW9uLmNhcmQiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6IueIseW8ueW5lSIsCiAgICAgICAgICAgICAgICB1cmw6Imh0dHA6Ly93d3cuaWRhbm11LmNvLyIsCiAgICAgICAgICAgICAgICByZWdleDovaWRhbm11XC4vLAogICAgICAgICAgICAgICAgb2Zmc2V0OjU1LAogICAgICAgICAgICAgICAgYXJ0aWNsZVNlbDoic2VjdGlvbi5jYXJkIgogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiLlj7jmnLrkvJrmiYAiLAogICAgICAgICAgICAgICAgdXJsOiJodHRwczovL3d3dy5zaWppaHVpc3VvLmNsdWIvIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi9zaWppaHVpc3VvXC5jbHViLywKICAgICAgICAgICAgICAgIGlubmVyUGFnZTovc2lqaWh1aXN1b1wuY2x1YlwvKHNqXC9cZHxcP3A9XGQpLywKICAgICAgICAgICAgICAgIG9mZnNldDoxMTUsCiAgICAgICAgICAgICAgICBjb250ZW50QXJlYToiLmRzLWNvbW1lbnRzIgogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiLlubvmg7PmrKHlhYMiLAogICAgICAgICAgICAgICAgdXJsOiJodHRwczovL2FjZzE4LnVzLyIsCiAgICAgICAgICAgICAgICByZWdleDovYWNnMThcLi8sCiAgICAgICAgICAgICAgICBvZmZzZXQ6NTUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZToi5pyAQUNH572RIiwKICAgICAgICAgICAgICAgIHVybDoiaHR0cDovL3p1aWFjZy5jb20vIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi96dWlhY2dcLi8sCiAgICAgICAgICAgICAgICBoaWRlT2Q6dHJ1ZSwKICAgICAgICAgICAgICAgIG9mZnNldDo3NQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiLnu4Xlo6vku5PlupMiLAogICAgICAgICAgICAgICAgdXJsOiJodHRwOi8vd3d3LmdhbGFjZy5tZS8iLAogICAgICAgICAgICAgICAgcmVnZXg6L2dhbGFjZ1wuLywKICAgICAgICAgICAgICAgIGhpZGVPZDp0cnVlLAogICAgICAgICAgICAgICAgYXJ0aWNsZVNlbDoiZGl2LmFydGljbGUiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6IuaoseiKsea8q+iIjSIsCiAgICAgICAgICAgICAgICB1cmw6Imh0dHBzOi8vd3d3Lm9vbW9lLm1vZS8iLAogICAgICAgICAgICAgICAgcmVnZXg6L29vbW9lXC5tb2UvLAogICAgICAgICAgICAgICAgaGlkZU9kOnRydWUsCiAgICAgICAgICAgICAgICBvZmZzZXQ6MTAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZToiQUNH5ZKM6LCQ5Yy6L+mHjOS4lueVjC/mr5vnq5kiLAogICAgICAgICAgICAgICAgdXJsOiJodHRwOi8vd3d3LnVyYWJhbi5tZS93cC8iLAogICAgICAgICAgICAgICAgcmVnZXg6L2FjZ3pvbmVcLm9yZ3x1cmFiYW5cLm1lLywKICAgICAgICAgICAgICAgIGNvbnRlbnRBcmVhOidhcnRpY2xlJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiLlr4LmnIjnpZ7npL4iLAogICAgICAgICAgICAgICAgdXJsOiJodHRwOi8vd3d3LmppeXVlLmNvbS8iLAogICAgICAgICAgICAgICAgcmVnZXg6LyhhY2dtb29ufGppeXVlKVwuKG9yZ3xjb20pLywKICAgICAgICAgICAgICAgIG9mZnNldDo1MCwKICAgICAgICAgICAgICAgIGNvbnRlbnRBcmVhOiJkaXYucG9zdC1jb250ZW50IiwKICAgICAgICAgICAgICAgIGFydGljbGVTZWw6ImFydGljbGUiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6IuiQjOW5u+S5i+S5oSIsCiAgICAgICAgICAgICAgICB1cmw6Imh0dHBzOi8vd3d3Lm1vZS1hY2cudXMvIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi9tb2UtYWNnXC4vLAogICAgICAgICAgICAgICAgb2Zmc2V0OjU1LAogICAgICAgICAgICAgICAgaGlkZU9kOnRydWUsCiAgICAgICAgICAgICAgICBkb3dubG9hZFVybDovbW9lLWFjZ1wuLipcL2Rvd25sb2FkLywKICAgICAgICAgICAgICAgIGFydGljbGVTZWw6InNlY3Rpb24uY2FyZCIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZToi57uF5aOr5Zu+5Lmm6aaGIiwKICAgICAgICAgICAgICAgIHVybDoiaHR0cDovL2h0YWkuY28vIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi9odGFpXC4oY298bWUpLywKICAgICAgICAgICAgICAgIGNvbnRlbnRBcmVhOiJkaXYucG9zdF9jb250ZW50IiwKICAgICAgICAgICAgICAgIGNvbW1BcmVhOidjb21tZW50bGlzdCcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZToi57Sz5aOr44Gu5bqtIiwKICAgICAgICAgICAgICAgIHVybDoiaHR0cHM6Ly9nbWdhcmQuY29tLyIsCiAgICAgICAgICAgICAgICByZWdleDovZ21nYXJkXC5jb20vLAogICAgICAgICAgICAgICAgYXJ0aWNsZVNlbDoiZGl2LnBvc3QiLAogICAgICAgICAgICAgICAgbm9TY2FsZTp0cnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6Ik15R2FsZ2FtZSAtIOW/p+mDgeeahOW8n+W8nyIsCiAgICAgICAgICAgICAgICB1cmw6Imh0dHBzOi8vd3d3Lm15Z2FsZ2FtZS5jb20vIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi9teWdhbGdhbWVcLmNvbS8sCiAgICAgICAgICAgICAgICBhcnRpY2xlU2VsOiIuYXJ0aWNsZSIsCiAgICAgICAgICAgICAgICBjb21tQXJlYTonY29tbWVudGxpc3QnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6IuW5u+WkqemihuWfnyIsCiAgICAgICAgICAgICAgICB1cmw6Imh0dHA6Ly93d3cuYWNnbnouY2MvIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi9hY2duelwuY2MvLAogICAgICAgICAgICAgICAgaGlkZU9kOnRydWUsCiAgICAgICAgICAgICAgICBvZmZzZXQ6NTUsCiAgICAgICAgICAgICAgICBkb3dubG9hZFVybDovYWNnbnpcLmNjXC9kb3dubG9hZC8sCiAgICAgICAgICAgICAgICBhcnRpY2xlU2VsOiJzZWN0aW9uLmNhcmQiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6IuiQjOW/g+asoeWFgyIsCiAgICAgICAgICAgICAgICB1cmw6Imh0dHBzOi8vbW94YWNnLm1vZS8iLAogICAgICAgICAgICAgICAgcmVnZXg6L21veGFjZ1wuLywKICAgICAgICAgICAgICAgIGhpZGVPZDp0cnVlLAogICAgICAgICAgICAgICAgb2Zmc2V0OjU1LAogICAgICAgICAgICAgICAgYXJ0aWNsZVNlbDoic2VjdGlvbi5jYXJkIgogICAgICAgICAgICB9LAogICAgICAgICAgICAvKnsKICAgICAgICAgICAgICAgIG5hbWU6Iui9u+iQjOekviIsCiAgICAgICAgICAgICAgICB1cmw6Imh0dHA6Ly9uYWNnLm1lLyIsCiAgICAgICAgICAgICAgICByZWdleDovbmFjZ1wubWUvLAogICAgICAgICAgICAgICAgaGlkZU9kOnRydWUsCiAgICAgICAgICAgICAgICBvZmZzZXQ6NjUsCiAgICAgICAgICAgICAgICBjb250ZW50QXJlYTonLmNvbnRlbnQnCiAgICAgICAgICAgIH0sKi8KICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZToi5qyh5YWD6L2o6L+5IiwKICAgICAgICAgICAgICAgIHVybDoiaHR0cHM6Ly93d3cuYWNnZ2ouY29tLyIsCiAgICAgICAgICAgICAgICByZWdleDovd3d3XC4oYWNnZ2p8YWNnNDQpXC4vLAogICAgICAgICAgICAgICAgZG93bmxvYWRVcmw6L2NvbVwvXD9wYWdlX2lkPS8sCiAgICAgICAgICAgICAgICBoaWRlT2Q6dHJ1ZSwKICAgICAgICAgICAgICAgIGJiczovYmJzXC5hY2dnalwuLywKICAgICAgICAgICAgICAgIG9mZnNldDo1NSwKICAgICAgICAgICAgICAgIGFydGljbGVTZWw6InNlY3Rpb24uY2FyZCIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZToi6JCM5Y+j57uEIiwKICAgICAgICAgICAgICAgIHVybDoiaHR0cDovL3d3dy5rb3UubW9lLyIsCiAgICAgICAgICAgICAgICByZWdleDova291XC5tb2UvLAogICAgICAgICAgICAgICAgb2Zmc2V0OjM1LAogICAgICAgICAgICAgICAgYXJ0aWNsZVNlbDoiLmFycm93X2JveCIsCiAgICAgICAgICAgICAgICBjb250ZW50QXJlYTonLmFydGljbGVfY29udGVudCcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZToi5Lmd5aaW6JCMIiwKICAgICAgICAgICAgICAgIHVybDoiaHR0cDovL3d3dy45MW1vZS5jb20vIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi85MW1vZVwuY29tLywKICAgICAgICAgICAgICAgIG9mZnNldDo1NSwKICAgICAgICAgICAgICAgIGhpZGVPZDp0cnVlLAogICAgICAgICAgICAgICAgZG93bmxvYWRVcmw6LzkxbW9lXC5jb21cL2Rvd25sb2FkLywKICAgICAgICAgICAgICAgIGFydGljbGVTZWw6InNlY3Rpb24uY2FyZCIsCiAgICAgICAgICAgICAgICBjb250ZW50QXJlYTonLmFydGljbGVfY29udGVudCcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZToiQ0Xlrrbml4/npL4iLAogICAgICAgICAgICAgICAgdXJsOiJodHRwczovL2NlZmFtaWxpZS5jb20vIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi9jZWZhbWlsaWVcLmNvbS8sCiAgICAgICAgICAgICAgICBhcnRpY2xlU2VsOiJsaS5wb3N0PmRpdi50aHVtYm5haWwiLAogICAgICAgICAgICAgICAgY29udGVudEFyZWE6JyNwb3N0X2NvbnRlbnQnLAogICAgICAgICAgICAgICAgY29tbUFyZWE6ImNvbW1lbnRsaXN0IgogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiLllrXnqp0iLAogICAgICAgICAgICAgICAgdXJsOiJodHRwOi8veXVpLW55YS5jb20vIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi95dWlcLW55YVwuY29tLywKICAgICAgICAgICAgICAgIGFydGljbGVTZWw6ImFydGljbGUiLAogICAgICAgICAgICAgICAgY29udGVudEFyZWE6Jy5hcnRpY2xlLWNvbnRlbnQnLAogICAgICAgICAgICAgICAgb2Zmc2V0OjUwLAogICAgICAgICAgICAgICAgY29tbUFyZWE6ImNvbW1lbnRsaXN0IgogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiLmrKHlhYPogIHlj7jmnLoiLAogICAgICAgICAgICAgICAgdXJsOiJodHRwOi8vd3d3Lmwtc2ouY2MvIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi9sXC1zalwuY2MvLAogICAgICAgICAgICAgICAgYXJ0aWNsZVNlbDoic2VjdGlvbi5jYXJkIiwKICAgICAgICAgICAgICAgIGhpZGVPZDp0cnVlLAogICAgICAgICAgICAgICAgZG93bmxvYWRVcmw6L2xcLXNqXC5jY1wvZG93bmxvYWRcP2lkPS8KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZToi57uF5aOrQUNH56S+IiwKICAgICAgICAgICAgICAgIHVybDoiaHR0cDovL2h0YWNnLmNjLyIsCiAgICAgICAgICAgICAgICByZWdleDovaHRhY2dcLmNjLywKICAgICAgICAgICAgICAgIGFydGljbGVTZWw6InNlY3Rpb24iLAogICAgICAgICAgICAgICAgb2Zmc2V0OjU1LAogICAgICAgICAgICAgICAgaGlkZU9kOnRydWUsCiAgICAgICAgICAgICAgICBkb3dubG9hZFVybDovaHRhY2dcLmNjXC9kb3dubG9hZFw/aWQvCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6Iue7heWjq+S6pOaYkyIsCiAgICAgICAgICAgICAgICB1cmw6Imh0dHBzOi8vd3d3LmFjZ3B5LmNvbS93cHgvIiwKICAgICAgICAgICAgICAgIHJlZ2V4Oi9hY2dweVwuY29tLywKICAgICAgICAgICAgICAgIG9mZnNldDo0NSwKICAgICAgICAgICAgICAgIGhpZGVPZDp0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLyp7CiAgICAgICAgICAgICAgICBuYW1lOiLmoqblubvkuozmrKHlhYMiLAogICAgICAgICAgICAgICAgdXJsOiJodHRwOi8vd3d3Lm1oZWN5LmNvbS8iLAogICAgICAgICAgICAgICAgcmVnZXg6L21oZWN5XC4vLAogICAgICAgICAgICAgICAgZG93bmxvYWRVcmw6L3d3d1wubWhlY3lcLmNvbVwvXD9wYWdlX2lkPVxkKy8sCiAgICAgICAgICAgICAgICBoaWRlT2Q6dHJ1ZSwKICAgICAgICAgICAgICAgIG9mZnNldDo1NSwKICAgICAgICAgICAgICAgIGFydGljbGVTZWw6InNlY3Rpb24uY2FyZCIKICAgICAgICAgICAgfSovCiAgICAgICAgXSwKICAgICAgICByb2NrZXRSZWc6L21hZ25ldDpcP3h0fHBhblwuYmFpZHVcLmNvbVwvc3x5dW5wYW5cLmNufGhvd2ZpbGVcLmNvbVwvZmlsZXxtZWdhXC58ZWQyazpcL1wvXHxmaWxlfGJ0XC5jb3N4Y29zXC5jb21cL3ZpZXd8ZHVcLmFjZ2dldFwuY29tXC9nb1wvfFwubWVkaWFmaXJlXC5jb21cL2Rvd25sb2FkXC98XC50b3JyZW50JC8sCiAgICAgICAgZGlzYWJsZVNpdGVzOi9oYWNnLiphYm91dFwuaHRtbC8sCiAgICAgICAgaW1nUmVnczpbWy9eKD86aHR0cHM6KT8oXC9cL2ltZ1wuMmRmYW58d3d3XC5tb3h0dVwuY2N8KD86cGljfHRjKVwuKD86ZmZza3l8cnBnc2t5KXxcL1wvaVwudGlhbnNoaVwuaW5mbykvLCdodHRwOiQxJ10sWy9odHRwKDpcL1wvKD86W15cLl0qXC4pP2xvbGlcLmlvKS8sJ2h0dHBzJDEnXSxbL15odHRwczpcL1wvZ2FsYWNnLm1lLywnaHR0cHM6Ly93d3cuZ2FsYWNnLm1lLyddLFsvXmh0dHA6XC9cL3d3d1wubW9lcGljeFwuY2MvLCdodHRwczovL3d3dy5tb2VwaWN4LmNjJ11dCiAgICB9OwogICAgaWYgKCFBcnJheS5wcm90b3R5cGUuZmluZFNpdGUpIHsKICAgICAgICBBcnJheS5wcm90b3R5cGUuZmluZFNpdGUgPSBmdW5jdGlvbiAoc2l0ZU5hbWUpIHsKICAgICAgICAgICAgdmFyIGFyciA9IHRoaXM7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhcnIubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmIChhcnJbaV0ubmFtZSA9PSBzaXRlTmFtZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJbaV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQogICAgaWYoLyhzbGVhenxncmVhcyl5Zm9ya1wub3JnXC8vLnRlc3QobG9jYXRpb24uaHJlZikpewogICAgICAgIGlmKC9zY3JpcHRzXC8yMzMxNi8udGVzdChsb2NhdGlvbi5ocmVmKSl7CiAgICAgICAgICAgIGxldCBwb3M9ZWxlbWVudFBvc2l0aW9uKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNhZGRpdGlvbmFsLWluZm8+ZGl2LnNjcmlwdC1hdXRob3ItZGVzY3JpcHRpb24+aDIiKSkueTsKICAgICAgICAgICAgc2Nyb2xsVG8oMCxwb3MpOwogICAgICAgIH1lbHNlIGlmKC9kaXNjdXNzaW9uLy50ZXN0KGxvY2F0aW9uLmhyZWYpKXsKICAgICAgICAgICAgdmFyIGdvb2RCdG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI0Zvcm1fUmF0aW5nMyIpOwogICAgICAgICAgICB2YXIgb2tCdG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI0Zvcm1fUmF0aW5nMiIpOwogICAgICAgICAgICB2YXIgYmFkQnRuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNGb3JtX1JhdGluZzEiKTsKICAgICAgICAgICAgaWYoZ29vZEJ0bil7CiAgICAgICAgICAgICAgICB2YXIgc2NyaXB0SUQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT1TY3JpcHRJRF0iKTsKICAgICAgICAgICAgICAgIHZhciBhYm91dD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjQ29udGVudD5kaXYuTWVzc2FnZUxpc3QuRGlzY3Vzc2lvbj5zcGFuPmEiKTsKICAgICAgICAgICAgICAgIGlmKChzY3JpcHRJRCAmJiBzY3JpcHRJRC52YWx1ZT09IjIzMzE2IikgfHwgKGFib3V0ICYmIGFib3V0LmdldEF0dHJpYnV0ZSgiaHJlZiIpPT0iL3NjcmlwdHMvMjMzMTYiKSl7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGlvbkJ0bj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dC5QcmltYXJ5Iil8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNGb3JtX1NhdmUiKTsKICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdG4ub25jbGljaz1mdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzY3Vzc1RpdGxlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNGb3JtX05hbWUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc2N1c3NCb2R5PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNGb3JtX0JvZHkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZ29vZEJ0bi5jaGVja2VkPT1mYWxzZSAmJiAoKGRpc2N1c3NUaXRsZSAmJiAv5aOw6Z+zfOivremfsy8udGVzdChkaXNjdXNzVGl0bGUudmFsdWUpKSB8fCAoZGlzY3Vzc0JvZHkgJiYgL+WjsOmfs3zor63pn7MvLnRlc3QoZGlzY3Vzc0JvZHkudmFsdWUpKSkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIlx1OGY5M1x1NTE2NVx1MDA2OFx1MDA2MVx1MDA3YVx1MDA3NVx1MDA2Ylx1MDA2MVx1MDA3M1x1MDA2OFx1MDA2OVx1MDA2OVx1NWMzMVx1ODBmZFx1NTIwN1x1NjM2Mlx1OGJlZFx1OTdmM1x1ZmYwY1x1N2I1NFx1NWU5NFx1NjIxMVx1NGUwMFx1NWI5YVx1ODk4MVx1NTk3ZFx1NTk3ZFx1NzcwYlx1OGJmNFx1NjYwZSIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9rQnRuLmNoZWNrZWQgfHwgYmFkQnRuLmNoZWNrZWQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29vZEJ0bi5jaGVja2VkPXRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUbygwLDApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGlmKGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MLmluZGV4T2YoIlx1NzQwOVx1NzQ4M1x1Nzk1ZVx1NzkzZSIpIT0tMSl7CiAgICAgICAgICAgICAgICB2YXIgaW5zdGFsbExpbms9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYS5pbnN0YWxsLWxpbmsiKTsKICAgICAgICAgICAgICAgIGlmKGluc3RhbGxMaW5rKXsKICAgICAgICAgICAgICAgICAgICBpbnN0YWxsTGluay5vbmNsaWNrPWZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHdpbmRvdy5jb25maXJtKCdcdThiZTVcdTgxMWFcdTY3MmNcdTUzZWZcdTgwZmRcdTRlMGVcdTAwMjBcdTI2MDVcdTc0MDlcdTc5NWVcdThmNmNcdTI2MDVcdTAwMjBcdTRlMGRcdTUxN2NcdTViYjlcdTU0ZTZcdWZmMGNcdTY2MmZcdTU0MjZcdTUzZDZcdTZkODhcdTViODlcdTg4YzVcdWZmMWYnKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHZhciBoZ3RTaWduPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvbnQiKTsKICAgICAgICAgICAgICAgICAgICBoZ3RTaWduLmlubmVySFRNTD0nIDxiPlx1OGJlNVx1ODExYVx1NjcyY1x1NTNlZlx1ODBmZFx1NGUwZVx1MDAyMFx1MjYwNVx1NzQwOVx1Nzk1ZVx1OGY2Y1x1MjYwNVx1MDAyMFx1NGUwZFx1NTE3Y1x1NWJiOVx1NTRlNjwvYj4nOwogICAgICAgICAgICAgICAgICAgIC8vaW5zdGFsbExpbmsucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaGd0U2lnbixpbnN0YWxsTGluay5uZXh0U2libGluZy5uZXh0U2libGluZyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciB0LCBjdXJTaXRlLCBjdXJBcnRpY2xlLCBzaXRlTGlzdEh0bWw7CiAgICB2YXIgb3JpZ2luVGl0aWxlID0gZG9jdW1lbnQudGl0bGU7CiAgICB2YXIgaXNIdHRwcz1sb2NhdGlvbi5wcm90b2NvbD09Imh0dHBzOiI7CiAgICB2YXIgaGVhZD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdOwogICAgaWYoaXNIdHRwcyl7CiAgICAgICAgdmFyIHJlZk1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRhJyk7CiAgICAgICAgcmVmTWV0YS5uYW1lID0gJ3JlZmVycmVyJzsKICAgICAgICByZWZNZXRhLmNvbnRlbnQgPSAnYWx3YXlzJzsKICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHJlZk1ldGEpOwogICAgfWVsc2V7CiAgICAgICAgaWYoZG9jdW1lbnQudGl0bGU9PSJTZXJ2aWNlIFVuYXZhaWxhYmxlIC0gQ29ubmVjdGlvbiBFcnJvciIpewogICAgICAgICAgICBsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvXmh0dHA6LywiaHR0cHM6Iik7CiAgICAgICAgfQogICAgfQogICAgZm9yKHZhciBzaXRlIG9mIGNvbmZpZy5zaXRlcyl7CiAgICAgICAgaWYoc2l0ZS5yZWdleC50ZXN0KGxvY2F0aW9uLmhyZWYpKXsKICAgICAgICAgICAgY3VyU2l0ZT1zaXRlOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICB9CiAgICB2YXIgY29udGVudEFyZWE9Y3VyU2l0ZSYmY3VyU2l0ZS5jb250ZW50QXJlYT9jdXJTaXRlLmNvbnRlbnRBcmVhOicuZW50cnktY29udGVudCcsY29tbUFyZWE9Y3VyU2l0ZSYmY3VyU2l0ZS5jb21tQXJlYT9jdXJTaXRlLmNvbW1BcmVhOiJjb21tZW50LWNvbnRlbnQiLGFydGljbGVTZWw9Y3VyU2l0ZSYmY3VyU2l0ZS5hcnRpY2xlU2VsP2N1clNpdGUuYXJ0aWNsZVNlbDoiYXJ0aWNsZSI7CgogICAgaWYoL15odHRwcz86XC9cL3BhblwuYmFpZHVcLmNvbS8udGVzdChsb2NhdGlvbi5ocmVmKSl7CiAgICAgICAgaWYobG9jYXRpb24uaGFzaC5zbGljZSgxKSl7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNhY2Nlc3NDb2RlIikudmFsdWU9ZGVjb2RlVVJJKGxvY2F0aW9uLmhhc2guc2xpY2UoMSkpOwogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3VibWl0QnRuJykuY2xpY2soKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgfWVsc2UgaWYoY29uZmlnLmRpc2FibGVTaXRlcy50ZXN0KGxvY2F0aW9uLmhyZWYpKXsKICAgICAgICByZXR1cm47CiAgICB9ZWxzZSBpZihjdXJTaXRlKXsKICAgICAgICBzd2l0Y2goY3VyU2l0ZS5uYW1lKXsKICAgICAgICAgICAgY2FzZSAi57uF5aOr5LqM5qyh5YWDIjoKICAgICAgICAgICAgICAgIHZhciBjb250ZW50PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbnRyeScpOwogICAgICAgICAgICAgICAgaWYoY29udGVudCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBsaXN0ID0gY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCJwIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9ICIiOwogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8cGxpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwTm9kZT1wbGlzdFtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoL1x1NWJjNlx1NTMxOVs677yaXS9pLnRlc3QocE5vZGUuaW5uZXJIVE1MKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JnU3RyID0gcE5vZGUuaW5uZXJIVE1MLm1hdGNoKC9cdTViYzZcdTUzMTlbOu+8ml1ccypcUyovaSlbMF0ucmVwbGFjZSgvXHU1YmM2XHU1MzE5WzrvvJpdXHMqLywiIikucmVwbGFjZSgnJmFtcDsnLCcmJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9Q3J5cHRvSlMuZW5jLkJhc2U2NC5wYXJzZShvcmdTdHIpLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5VdGY4KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBOb2RlLmlubmVySFRNTCA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoa2V5ICE9PSAiIil7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBibG9ja3F1b3RlcyA9IGNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgiYmxvY2txdW90ZSIpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDtpPGJsb2NrcXVvdGVzLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJsb2NrcXVvdGU9YmxvY2txdW90ZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gYmxvY2txdW90ZS5xdWVyeVNlbGVjdG9yKCJwIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighdGFyZ2V0fHx0YXJnZXQuaW5uZXJUZXh0PT09IiJ8fCEvXlswLTlhLXpcK1wvPVxzXSskL2kudGVzdCh0YXJnZXQuaW5uZXJUZXh0KSl7Y29udGludWU7fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5pbm5lckhUTUwucmVwbGFjZSgvPGJyPi9nLCIiKS5yZXBsYWNlKC9ccy9nLCIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IENyeXB0b0pTLkFFUy5kZWNyeXB0KHJlc3VsdCxrZXkpLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5VdGY4KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5pbm5lckhUTUwgPSByZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAi54G15qKm5b6h5omAIjoKICAgICAgICAgICAgICAgIHZhciB0aXRsZVRpbWU7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikgewogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9ICdcdTY3NjVcdTU1NmFcdTAwMzhcdTU1NjZ+KCrCtOKIh++9gCopICcgKyBvcmlnaW5UaXRpbGU7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aXRsZVRpbWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSAnXHU2MjRkXHU0ZTBkXHU3ZWQ5XHU1NTZhKOKVr+KAteKWoeKAsinila/vuLXilLvilIHilLsgJyArIG9yaWdpblRpdGlsZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVUaW1lID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gb3JpZ2luVGl0aWxlOwogICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJsb2NrQnRuKCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHByZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInByZSIpOwogICAgICAgICAgICAgICAgICAgIHZhciBhdXRob3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYXV0aG9yLWluZm8iKTsKICAgICAgICAgICAgICAgICAgICBpZiAoYXV0aG9yICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYmxvY2tCdG4iKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmxvY2tCdG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrQnRuLmlkPSJibG9ja0J0biI7CiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrQnRuLnR5cGU9ImJ1dHRvbiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrQnRuLnRleHRDb250ZW50PSJcdTU5N2RcdTViNjlcdTViNTBcdTc3MGJcdTRlMGRcdTUyMzAiOwogICAgICAgICAgICAgICAgICAgICAgICBibG9ja0J0bi5zdHlsZS5jc3NUZXh0PSJwYWRkaW5nOjRweCAwO3Bvc2l0aW9uOiByZWxhdGl2ZTt3aWR0aDoxMjBweDsiOwogICAgICAgICAgICAgICAgICAgICAgICBpZihwcmUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJsb2NrQnRuLHByZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tCdG4uc3R5bGUuY3NzVGV4dD0iZGlzcGxheTpub25lOyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3IuYXBwZW5kQ2hpbGQoYmxvY2tCdG4pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubmV4dFNpYmxpbmcuc3R5bGUuZGlzcGxheSA9PSAnYmxvY2snKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFNpYmxpbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNtYWluIikuYWRkRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIHZhciBhdXRob3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYXV0aG9yLWluZm8iKTsKICAgICAgICAgICAgICAgICAgICBpZiAoYXV0aG9yICYmICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYmxvY2tCdG4iKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVCbG9ja0J0bigpOwogICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkPXVuc2FmZVdpbmRvdy5qUXVlcnk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b2dnbGU9JCgiLnRvZ2dsZSIpWzBdOwogICAgICAgICAgICAgICAgICAgICAgICBpZih0b2dnbGUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2dHM9JC5fZGF0YSh0b2dnbGUsICJldmVudHMiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFldnRzIHx8ICFldnRzWyJjbGljayJdKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCIudG9nZ2xlLWJveCIpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCIudG9nZ2xlIikudG9nZ2xlKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoInRvZ2dsZS1hY3RpdmUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoInRvZ2dsZS1hY3RpdmUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCIudG9nZ2xlIikuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5uZXh0KCIudG9nZ2xlLWJveCIpLnNsaWRlVG9nZ2xlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNyZWF0ZUJsb2NrQnRuKCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAiQUNH6LCD5p+l5bCP6ZifIjoKICAgICAgICAgICAgICAgIGlmKGlzSHR0cHMpCiAgICAgICAgICAgICAgICAgICAgYWRkSW5zZXJ0SGFuZGxlcihbWyJhIiwiaW1nIiwibGluayIsInNjcmlwdCJdLFtbJ3A6KFxcXC9cXFwvfFxcXFxcXC9cXFxcXFwvKSh3d3dcXFwufHN0YXRpY1xcXC4pP2FjZzEyJywncHM6JDEkMmFjZzEyJ11dXSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAi5Y+45py65Lya5omAIjoKICAgICAgICAgICAgICAgIGlmKGN1clNpdGUuaW5uZXJQYWdlLnRlc3QobG9jYXRpb24uaHJlZikpewogICAgICAgICAgICAgICAgICAgIHQ9d2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5kcy1jb21tZW50cyIpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LDUwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjaGFuZ2VVcmwodHJ1ZSxbWyJhIl0sW1snaHR0cHM/OlxcXC9cXFwvW15cXFwuXSooXFxcLik/c2lqaWh1aXN1b1xcXC5jbHViXFxcL2dvXFxcL1xcXD91cmw9JywnJ11dXSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAi55CJ55KD56We56S+IjoKICAgICAgICAgICAgICAgIHZhciBmZWlaYW8sZmVpWmFvcz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJwMSIpLGk7CiAgICAgICAgICAgICAgICBmb3IoaT0wO2k8ZmVpWmFvcy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICBmZWlaYW89ZmVpWmFvc1tpXTsKICAgICAgICAgICAgICAgICAgICBpZihmZWlaYW8ucGFyZW50Tm9kZSlmZWlaYW8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmZWlaYW8pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIGhhczg9ZmFsc2U7CiAgICAgICAgICAgICAgICB2YXIgY29tbSxjb21tcz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJzcGFuLmZuIiksY29tbUlkOwogICAgICAgICAgICAgICAgZm9yKGk9MDtpPGNvbW1zLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgIGNvbW09Y29tbXNbaV07CiAgICAgICAgICAgICAgICAgICAgaWYoY29tbS5pbm5lckhUTUwgPT0gIlx1NWMwZlx1MDAzOFx1OTE3MSIpewogICAgICAgICAgICAgICAgICAgICAgICBoYXM4PXRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1JZD1jb21tLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLmlkOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihoYXM4KXsKICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGVyPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImRpdi5lbnRyeS1tZXRhIik7CiAgICAgICAgICAgICAgICAgICAgaWYoaGVhZGVyKXsKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLmlubmVySFRNTCs9IjwvYnI+IDxhIGhyZWY9XCIjIitjb21tSWQrIlwiPlx1MjYwNVx1MDAyMFx1NzZmNFx1OGZiZVx1ODg2NVx1Njg2M1x1NTllY1x1MDAyMFx1MjYwNTxcL2E+IjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihpc0h0dHBzKXsKICAgICAgICAgICAgICAgICAgICBjaGFuZ2VVcmwodHJ1ZSxbWyJpZnJhbWUiXSxbWydodHRwOicsJ2h0dHBzOiddXV0pOwogICAgICAgICAgICAgICAgICAgIGNoYW5nZVVybCh0cnVlLFtbIm9iamVjdCJdLFtbJ2h0dHA6JywnaHR0cHM6J11dXSk7CiAgICAgICAgICAgICAgICAgICAgY2hhbmdlVXJsKHRydWUsW1siYSJdLFtbJ2h0dHA6KC4qaGFjZyknLCdodHRwczokMSddXV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoL2hhY2dcLihjaHxsYXxhdHx0d3xzZSkvLnRlc3QobG9jYXRpb24uaHJlZikpewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gZG9jdW1lbnQudGl0bGUucmVwbGFjZSgvXHU3NDA5XHU3NDgzXHU3OTVlXHU3OTNlLywiXHU3NDA5XHU3NDgz4pmCXHU3OTVlXHU3OTNlIik7CiAgICAgICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImEiKSwgZnVuY3Rpb24oaXRlbSwgaW5kZXgsIGFycikgewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmlubmVySFRNTD1pdGVtLmlubmVySFRNTC5yZXBsYWNlKC9cdTc0MDlcdTc0ODNcdTc5NWVcdTc5M2UvLCJcdTc0MDlcdTc0ODPimYJcdTc5NWVcdTc5M2UiKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciB0YWdzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImFydGljbGU+Zm9vdGVyPmEiKTsKICAgICAgICAgICAgICAgIGZvcihpPTA7aTx0YWdzLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgIHZhciB0YWc9dGFnc1tpXTsKICAgICAgICAgICAgICAgICAgICBpZih0YWcuaW5uZXJIVE1MID09ICJcdTRmMmFcdTVhMTgiIHx8IHRhZy5pbm5lckhUTUwgPT0gIlx1NTNlZlx1NzIzMVx1NzY4NFx1NzUzN1x1NWI2OVx1NWI1MCIgfHwgdGFnLmlubmVySFRNTCA9PSAiXHU1OTczXHU4OGM1IiB8fCB0YWcuaW5uZXJIVE1MID09ICJcdTc1MzdcdTMwNmVcdTVhMTgiKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFydGljbGVUaXRsZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuZW50cnktdGl0bGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoYXJ0aWNsZVRpdGxlKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFydGljbGVUaXRsZS5pbm5lckhUTUw9Ijxmb250IGNvbG9yPSdyZWQnIHRpdGxlPSfvvIFcdTUzY2RcdTllMjFcdTU5MGRcdTU5NzbvvIEnPlx1MjY0Mlx1OGRlZlx1ODk3Zlx1NmNkNVx1MjY0MjwvZm9udD4gIithcnRpY2xlVGl0bGUuaW5uZXJIVE1MOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luVGl0aWxlID0gZG9jdW1lbnQudGl0bGUgPSBkb2N1bWVudC50aXRsZS5yZXBsYWNlKC9cdTc0MDlcdTc0ODNcdTc5NWVcdTc5M2UvLCJcdTU5MjdcdTVjNGNcdTc5NWVcdTc5M2UiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgZW1iZWRzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi53cC1lbWJlZGRlZC1jb250ZW50Iik7CiAgICAgICAgICAgICAgICBmb3IoaT0wO2k8ZW1iZWRzLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgIGxldCBlbWJlZD1lbWJlZHNbaV07CiAgICAgICAgICAgICAgICAgICAgZW1iZWQub25sb2FkPWZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYmVkLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1zZWNyZXQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwxKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodW5zYWZlV2luZG93LnF1b3RlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgbXNnID0gIuKApiIgKyB1bnNhZmVXaW5kb3cucXVvdGUgKyAi4oCmIixwb3MgPSAwOwogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNjcm9sbE1zZygpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBtc2cuc3Vic3RyaW5nKHBvcywgbXNnLmxlbmd0aCkgKyBtc2cuc3Vic3RyaW5nKDAsIHBvcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zID4gIG1zZy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IG9yaWdpblRpdGlsZTsKICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHNjcm9sbE1zZywyNTApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHNjcm9sbE1zZygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgIuiQjOW/g+asoeWFgyI6CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAi5qyh5YWD6L2o6L+5IjoKICAgICAgICAgICAgICAgIGlmKGlzSHR0cHMpewogICAgICAgICAgICAgICAgICAgIGNoYW5nZVVybCh0cnVlLFtbImEiLCJpbWciLCJzY3JpcHQiLCJsaW5rIl0sW1sncDooXFxcL1xcXC98XFxcXFxcL1xcXFxcXC8pKHd3d1xcXC58YmJzXFxcLik/YWNnZ2onLCdwczokMSQyYWNnZ2onXV1dKTsKICAgICAgICAgICAgICAgICAgICB2YXIgYmFzZVVybD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdiYXNlJyk7CiAgICAgICAgICAgICAgICAgICAgaWYoYmFzZVVybCliYXNlVXJsLmhyZWY9YmFzZVVybC5ocmVmLnJlcGxhY2UoL2h0dHA6LywiaHR0cHM6Iik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAi5bm75aSp6aKG5Z+fIjoKICAgICAgICAgICAgICAgIGlmKGlzSHR0cHMpYWRkSW5zZXJ0SGFuZGxlcihbWyJhIiwiaW1nIiwibGluayIsInNjcmlwdCJdLFtbJ3A6KFxcXC9cXFwvfFxcXFxcXC9cXFxcXFwvKSh3d3dcXFwuKT9hY2dueicsJ3BzOiQxJDJhY2dueiddXV0pOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgIuasoeWFg+OBruWco+WFiSI6CiAgICAgICAgICAgICAgICBjaGFuZ2VVcmwodHJ1ZSxbWyJhIiwiaW1nIl0sW1snYWNnbG92ZXJcXFwubmV0JywnYWNnbG92ZXJcXFwudG9wJ11dXSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAi54ix5by55bmVIjoKICAgICAgICAgICAgICAgIHZhciByZXNldHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdib2R5PnN0eWxlJyk7CiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDtpPHJlc2V0cy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzZXQ9cmVzZXRzW2ldOwogICAgICAgICAgICAgICAgICAgIGlmKC9cLmNhcmQtYmdcc2ltZ3xcLmNvbnRlbnQtcmVzZXRcc2ltZy8udGVzdChyZXNldC5pbm5lckhUTUwpKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZXNldCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIHIxMD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVudS1pdGVtLTEyNzQ0Jyk7CiAgICAgICAgICAgICAgICBpZihyMTApewogICAgICAgICAgICAgICAgICAgIHZhciByMTg9cjEwLmNsb25lTm9kZSh0cnVlKTsKICAgICAgICAgICAgICAgICAgICByMTguaW5uZXJIVE1MID0gcjE4LmlubmVySFRNTC5yZXBsYWNlKC9cdThkNDRcdThiYWYvZywgJ1IxOCcpLnJlcGxhY2UoL2NhdGVnb3J5XC92MDEvZywgJ2NhdGVnb3J5L3YwOS92MTMnKTsKICAgICAgICAgICAgICAgICAgICByMTAuYWZ0ZXIocjE4KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICLmnIBBQ0fnvZEiOgogICAgICAgICAgICAgICAgbGV0IHNoaWVsZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2hpZWxkY2xhc3MnKTsKICAgICAgICAgICAgICAgIGlmKHNoaWVsZCl7CiAgICAgICAgICAgICAgICAgICAgc2hpZWxkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2hpZWxkKTsKICAgICAgICAgICAgICAgICAgICBsZXQgaW1ncz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwPmltZycpOwogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8aW1ncy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltZz1pbWdzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICBpbWcub25jbGljaz1mdW5jdGlvbigpe3RoaXMuY2xhc3NOYW1lPSIiO307CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkQnRuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2FbZGF0YS1hY3Rpb249ZG93bmxvYWRdJyk7CiAgICAgICAgICAgICAgICBpZihkb3dubG9hZEJ0bil7CiAgICAgICAgICAgICAgICAgICAgaWYoL1wuY29tXC9kb3dubG9hZFwvLy50ZXN0KGxvY2F0aW9uLmhyZWYpKXsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5zaW5nbGUtY29udGVudD5wPmlucHV0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNkKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkQnRuLmhyZWYrPSIjIitjZC52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEJ0bi5vbmNsaWNrPWZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZS5jdHJsS2V5KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3V2luPXdpbmRvdy5vcGVuKCcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZG93bmxvYWRCdG4uaHJlZi5yZXBsYWNlKC9cL25ld3NcLy8sIi9kb3dubG9hZC8iKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbD1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbC5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MID0gZC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGw9aHRtbC5xdWVyeVNlbGVjdG9yKCcjYWRkZG93bmxvYWQ+YScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmw9ZGwuaHJlZjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2Q9aHRtbC5xdWVyeVNlbGVjdG9yKCdkaXYuc2luZ2xlLWNvbnRlbnQ+cD5pbnB1dCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNkKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsKz0iIyIrY2QudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1dpbi5sb2NhdGlvbi5ocmVmPXVybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1dpbi5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdXaW4uY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAi5a+C5pyI56We56S+IjoKICAgICAgICAgICAgICAgIHZhciBwb3N0Q29udGVudD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJkaXYucG9zdC1jb250ZW50Iik7CiAgICAgICAgICAgICAgICBpZihwb3N0Q29udGVudCAmJiBwb3N0Q29udGVudC5jbGFzc0xpc3QuY29udGFpbnMoImhleGllIikpewogICAgICAgICAgICAgICAgICAgIHZhciBoZXhpZUJ0bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICAgICAgICAgICAgICBoZXhpZUJ0bi5pZD0iaGV4aWVCdG4iOwogICAgICAgICAgICAgICAgICAgIGhleGllQnRuLnR5cGU9ImJ1dHRvbiI7CiAgICAgICAgICAgICAgICAgICAgaGV4aWVCdG4udGV4dENvbnRlbnQ9Ilx1NTk3ZFx1NWI2OVx1NWI1MFx1NzcwYlx1NGUwZFx1NTIzMCI7CiAgICAgICAgICAgICAgICAgICAgaGV4aWVCdG4uc3R5bGUuY3NzVGV4dD0icGFkZGluZzo0cHggMDtwb3NpdGlvbjogcmVsYXRpdmU7d2lkdGg6MTIwcHg7IjsKICAgICAgICAgICAgICAgICAgICBoZXhpZUJ0bi5vbmNsaWNrPWZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RDb250ZW50LmNsYXNzTGlzdC5jb250YWlucygiaGV4aWUiKT9wb3N0Q29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCJoZXhpZSIpOnBvc3RDb250ZW50LmNsYXNzTGlzdC5hZGQoImhleGllIik7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB2YXIgd2Fybj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJkaXYua2lua3ktd2FybmluZyIpOwogICAgICAgICAgICAgICAgICAgIGlmKHdhcm4pd2Fybi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShoZXhpZUJ0bix3YXJuLm5leHRTaWJsaW5nKTsKICAgICAgICAgICAgICAgICAgICBlbHNlIHBvc3RDb250ZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGhleGllQnRuLHBvc3RDb250ZW50KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBlbGUsZWxlcz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuaGV4aWUiKSxpOwogICAgICAgICAgICAgICAgZm9yKGk9MDtpPGVsZXMubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgICAgZWxlPWVsZXNbaV07CiAgICAgICAgICAgICAgICAgICAgaWYoIWVsZS5jbGFzc0xpc3QuY29udGFpbnMoInBvc3QtY29udGVudCIpKWVsZS5jbGFzc0xpc3QucmVtb3ZlKCJoZXhpZSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxlcz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJhIik7CiAgICAgICAgICAgICAgICBmb3IoaT0wO2k8ZWxlcy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICBlbGU9ZWxlc1tpXTsKICAgICAgICAgICAgICAgICAgICBpZigvcGFuXC5iYWlkdVwuY29tL2kudGVzdChlbGUuaHJlZikgJiYgL1swLTlhLXpdezR9L2kudGVzdChlbGUuaW5uZXJIVE1MKSAmJiAhLyMvaS50ZXN0KGVsZS5ocmVmKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5ocmVmKz0iIyIrZWxlLmlubmVySFRNTDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgJD11bnNhZmVXaW5kb3cualF1ZXJ5OwogICAgICAgICAgICAgICAgJChkb2N1bWVudCkub2ZmKCJjbGljayIsICIuc29yYS1jYXJkIC5fX2NvcHkiKTsKICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCJjbGljayIsICIuc29yYS1jYXJkIC5fX2NvcHkiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICQodGhpcykuY2hpbGRyZW4oImNvZGUiKS50ZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5ocmVmPXRoaXMuaHJlZi5zcGxpdCgiIyIpWzBdKyIjIitjb2RlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAi5bm75oOz5qyh5YWDIjoKICAgICAgICAgICAgICAgIGNoYW5nZVVybCh0cnVlLFtbImEiXSxbWydodHRwcz86XFxcL1xcXC9bXlxcXC5dKihcXFwuKT9hY2cxOFxcXC51c1xcXC9nb1xcXC9cXFw/dXJsPScsJyddXV0pOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgIk15R2FsZ2FtZSAtIOW/p+mDgeeahOW8n+W8nyI6CiAgICAgICAgICAgICAgICBTdHJpbmcucHJvdG90eXBlLnBtYXRjaCA9IGZ1bmN0aW9uKHJlZyl7CiAgICAgICAgICAgICAgICAgICAgaWYoIShyZWcgaW5zdGFuY2VvZiBSZWdFeHApKXJldHVybiAwOwogICAgICAgICAgICAgICAgICAgIGlmKCFyZWcuZ2xvYmFsKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSB0aGlzLm1hdGNoKHJlZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhPyBbYS5zbGljZSgxLGEubGVuZ3RoKV0gOiAwOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgYT1bXSxiOwogICAgICAgICAgICAgICAgICAgIHdoaWxlKGI9cmVnLmV4ZWModGhpcykpewogICAgICAgICAgICAgICAgICAgICAgICBiLnNoaWZ0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaChiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEubGVuZ3RoPjA/YTowOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIGRvd25CdG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYS5oaW50LS1yaWdodCIpOwogICAgICAgICAgICAgICAgaWYoZG93bkJ0bil7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlubkJ0bj1kb3duQnRuLnF1ZXJ5U2VsZWN0b3IoIi5idG4tZGFuZ2VyIik7CiAgICAgICAgICAgICAgICAgICAgaWYoaW5uQnRuKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uY2xpY2tTdHI9aW5uQnRuLmdldEF0dHJpYnV0ZSgib25jbGljayIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZigvXC9cL3d3d1wubXlnYWxnYW1lXC5jb21cL2dvXC5waHBcP3VybFw9Ly50ZXN0KG9uY2xpY2tTdHIpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubkJ0bi5zZXRBdHRyaWJ1dGUoIm9uY2xpY2siLCAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHJlZj1vbmNsaWNrU3RyLnJlcGxhY2UoLy4qd3d3XC5teWdhbGdhbWVcLmNvbVwvZ29cLnBocFw/dXJsXD0oW14nXSspJy4qLywiJDEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25CdG4uc2V0QXR0cmlidXRlKCJocmVmIiwgaHJlZik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3duQnRuLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwgIl9ibGFuayIpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgYmdMaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpOwogICAgICAgICAgICAgICAgYmdMaS5pbm5lckhUTUw9IjxhPjxpIGNsYXNzPSdmYSBmYS1zdGFyJz48L2k+XHU1ZjUzXHU1MjRkXHU4MGNjXHU2NjZmXHU1NmZlXHU3MjQ3PC9hPiI7CiAgICAgICAgICAgICAgICB2YXIgYmdzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5jYi1zbGlkZXNob3c+bGk+c3BhbiIpOwogICAgICAgICAgICAgICAgYmdMaS5vbmNsaWNrPWZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxiZ3MubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZz1iZ3NbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGdldENvbXB1dGVkU3R5bGUoYmcpLm9wYWNpdHk+LjUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybD1nZXRDb21wdXRlZFN0eWxlKGJnKS5iYWNrZ3JvdW5kSW1hZ2UucmVwbGFjZSgvdXJsXCgiPyhbXiJdKykiP1wpLywiJDEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKHVybCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBiZ0xpLm9ubW91c2VvdmVyPWZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgYmdMaS5jbGFzc0xpc3QuYWRkKCJvcGVuIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBiZ0xpLm9ubW91c2VvdXQ9ZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICBiZ0xpLmNsYXNzTGlzdC5yZW1vdmUoIm9wZW4iKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBiZ1VybHMsc3VtPTAsbWF4Q3NzPTU7CiAgICAgICAgICAgICAgICB2YXIgYmF0Y2hCZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ1bCIpOwogICAgICAgICAgICAgICAgYmF0Y2hCZy5jbGFzc0xpc3QuYWRkKCJkcm9wZG93bi1tZW51Iik7CiAgICAgICAgICAgICAgICBiYXRjaEJnLmlubmVySFRNTD0iPGxpPjxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIj7lpI3liLblvZPnu4Tog4zmma/lm77pk77mjqU8L2E+PC9saT4iOwogICAgICAgICAgICAgICAgYmF0Y2hCZy5vbmNsaWNrPWZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgaWYoYmdVcmxzPT11bmRlZmluZWQpewogICAgICAgICAgICAgICAgICAgICAgICBiZ1VybHM9IiI7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJzdHlsZSIpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGo9MDtqPD1zdHlsZS5sZW5ndGg7aisrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN0eWxlW2pdLmlubmVySFRNTC5pbmRleE9mKCIuY2Itc2xpZGVzaG93IikhPS0xKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1zdHlsZVtqXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyUmVncz1zdHlsZS5pbm5lckhUTUwucG1hdGNoKC9iYWNrZ3JvdW5kXC1pbWFnZTpccyp1cmxcKCc/KFteXCcpXSspJz9cKS9naSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgY3VyUmVnIG9mIGN1clJlZ3MpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdVcmxzKz1jdXJSZWdbMF0rIlxuIjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm1CZz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJkaXYubGFyZ2UiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocm1CZyliZ1VybHMrPWdldENvbXB1dGVkU3R5bGUocm1CZykuYmFja2dyb3VuZEltYWdlLnJlcGxhY2UoL3VybFwoIj8oW14iXSspIj9cKS8sIiQxIik7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX3NldENsaXBib2FyZChiZ1VybHMpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oYmdVcmxzKTsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuiDjOaZr+WbvueJh+mTvuaOpeWkjeWItuWujOavlSIpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBpZihiZ1VybHMhPSIiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3NldENsaXBib2FyZChiZ1VybHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuiDjOaZr+WbvueJh+mTvuaOpeWkjeWItuWujOavlSIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYmdMaS5hcHBlbmRDaGlsZChiYXRjaEJnKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInVsLm5hdmJhci1uYXYiKS5hcHBlbmRDaGlsZChiZ0xpKTsKICAgICAgICAgICAgICAgIHZhciBjb21tZW50cz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY29tbWVudHMiKSxwcm9jZXNzaW5nPWZhbHNlOwogICAgICAgICAgICAgICAgaWYoY29tbWVudHMpY29tbWVudHMuYWRkRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIGlmKHByb2Nlc3NpbmcpcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIHByb2Nlc3Npbmc9dHJ1ZTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmlvdXNSZXBsYWNlKGNvbW1BcmVhKTsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2luZz1mYWxzZTsKICAgICAgICAgICAgICAgICAgICB9LDUwMCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciBwaWNUaXRsZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoMT5hW2hyZWY9J2h0dHBzOi8vd3d3Lm15Z2FsZ2FtZS5jb20vZ2VuZ3hpbnJpemhpLmh0bWwnXSIpOwogICAgICAgICAgICAgICAgaWYocGljVGl0bGUpewogICAgICAgICAgICAgICAgICAgIHZhciBpbWdVcmw9cGljVGl0bGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcigiZGl2LmltZz5pbWciKS5zcmM7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBpY0J0bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgICAgICAgICAgICAgcGljQnRuLmhyZWY9aW1nVXJsOwogICAgICAgICAgICAgICAgICAgIHBpY0J0bi50YXJnZXQ9Il9ibGFuayI7CiAgICAgICAgICAgICAgICAgICAgcGljQnRuLmlubmVySFRNTD0iPHNwYW4gY2xhc3M9J2FuaW1hdGVkX2gxJz7lsIHpnaLlm748L3NwYW4+IjsKICAgICAgICAgICAgICAgICAgICBwaWNUaXRsZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHBpY0J0bik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAi57Sz5aOr44Gu5bqtIjoKICAgICAgICAgICAgICAgIGlmKGlzSHR0cHMpYWRkSW5zZXJ0SGFuZGxlcihbWyJpbWciXSxbWydwKDpcXFwvXFxcL3N0YXRpY1wuZ21nYXJkXC5jb20pJywncHMkMSddXV0pOwogICAgICAgICAgICAgICAgY3VyU2l0ZS5wcmVSb2NrZXQ9ZnVuY3Rpb24oKXt1bnNhZmVXaW5kb3cuJCgnI2RsbGlzdCBhJykubW91c2VlbnRlcigpO307CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAi57uF5aOr5Lqk5piTIjoKICAgICAgICAgICAgICAgIGlmKGxvY2F0aW9uLmhyZWY9PSJodHRwczovL3d3dy5hY2dweS5jb20vbG9naW4wMjAyLmh0bWwiKXsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZT1uZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSsxNDQwMCo2MCoxMDAwKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5jb29raWU9InRyYWRlMDIwMj1BMzI7IGV4cGlyZXM9IitkYXRlLnRvR01UU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgdG9wLmxvY2F0aW9uPSd3cHgnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIGRvd25CdG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYS5kb3duYnRuIik7CiAgICAgICAgICAgICAgICBpZihkb3duQnRuKXsKICAgICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZG93bkJ0bi5ocmVmLAogICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb2MgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MID0gZC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwYXJzZSBlcnJvcicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkb2MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3duQnRuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRvYy5xdWVyeVNlbGVjdG9yKCJkaXYubGlzdCIpLGRvd25CdG4pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2VzcygpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGlmKGN1clNpdGUgJiYgY3VyU2l0ZS5kb3dubG9hZFVybCAmJiBjdXJTaXRlLmRvd25sb2FkVXJsLnRlc3QobG9jYXRpb24uaHJlZikpewogICAgICAgIGlmKCFjdXJTaXRlLmdldERvd25QYXNzKXsKICAgICAgICAgICAgY3VyU2l0ZS5nZXREb3duUGFzcz1mdW5jdGlvbih0YXJnZXQpewogICAgICAgICAgICAgICAgdmFyIHBhc3M9dGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0LmZvcm0tY29udHJvbCcpOwogICAgICAgICAgICAgICAgaWYocGFzcyl0YXJnZXQuaHJlZj10YXJnZXQuaHJlZi5zcGxpdCgiIyIpWzBdKycjJytwYXNzLnZhbHVlOwogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICB0PXdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpewogICAgICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLXN1Y2Nlc3MnKSl7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHQpOwogICAgICAgICAgICAgICAgcHJvY2VzcygpOwogICAgICAgICAgICB9CiAgICAgICAgfSwxMDAwKTsKICAgIH1lbHNlewogICAgICAgIHByb2Nlc3MoKTsKICAgIH0KCiAgICB2YXIgaGlkZU5vZGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgIGhpZGVOb2RlLmlkPSJoaWRlTm9kZSI7CiAgICBoaWRlTm9kZS5pbm5lckhUTUw9ImltZ3tkaXNwbGF5Om5vbmUhaW1wb3J0YW50fSI7CiAgICBpZihHTV9nZXRWYWx1ZSgiaGFjZ0dvZGVUdXJuSGlkZUltZyIpKXsKICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGhpZGVOb2RlKTsKICAgIH0KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBmdW5jdGlvbihlKSB7CiAgICAgICAgaWYoY3VyQXJ0aWNsZSAmJiBlLmtleUNvZGUgIT0gMTcpY3VyQXJ0aWNsZS5jbGFzc0xpc3QucmVtb3ZlKCJvRF9zZWwiKTsKICAgICAgICBpZihlLmtleUNvZGUgPT0gMTE5KSB7CiAgICAgICAgICAgIGlmKGUuYWx0S2V5KXsKICAgICAgICAgICAgICAgIHJvY2tldENvbnRlbnQuc3R5bGUuZGlzcGxheT0iYmxvY2siOwogICAgICAgICAgICAgICAgdmFyIHJvY2tldExpbmtzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImRpdiNyb2NrZXRMaW5rcyIpOwogICAgICAgICAgICAgICAgaWYoIXNpdGVMaXN0SHRtbCl7CiAgICAgICAgICAgICAgICAgICAgc2l0ZUxpc3RIdG1sPSIiOwogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8Y29uZmlnLnNpdGVzLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZT1jb25maWcuc2l0ZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVMaXN0SHRtbCs9IjxzcGFuIHN0eWxlPSdmb250LXdlaWdodDpib2xkO2NvbG9yOnJlZDsnPiIrKGkrMSkrIjpcdDwvc3Bhbj4iKyI8YSBocmVmPSIrc2l0ZS51cmwrIj4iK3NpdGUubmFtZSsiPC9hPjxici8+IjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByb2NrZXRMaW5rcy5pbm5lckhUTUw9c2l0ZUxpc3RIdG1sOwogICAgICAgICAgICB9ZWxzZSBpZihlLmN0cmxLZXkpewogICAgICAgICAgICAgICAgbGF1bmNoUm9ja2V0KCk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdmFyIGk9MDsKICAgICAgICAgICAgICAgIGlmKGN1clNpdGUpaT1jb25maWcuc2l0ZXMuaW5kZXhPZihjdXJTaXRlKTsKICAgICAgICAgICAgICAgIGlmKGUuc2hpZnRLZXkpIGk9aT09PTA/KGNvbmZpZy5zaXRlcy5sZW5ndGgtMSk6KGktMSk7CiAgICAgICAgICAgICAgICBlbHNlIGk9aT09KGNvbmZpZy5zaXRlcy5sZW5ndGgtMSk/MDooaSsxKTsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBjb25maWcuc2l0ZXNbaV0udXJsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgaWYoZS5rZXlDb2RlPjM2ICYmIGUua2V5Q29kZTw0MSAmJiAhZS5zaGlmdEtleSAmJiAhZS5hbHRLZXkpewogICAgICAgICAgICAgICAgaWYoL0lOUFVUfFRFWFRBUkVBLy50ZXN0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudGFnTmFtZSkpcmV0dXJuOwogICAgICAgICAgICAgICAgdmFyIGFydGljbGUsIGlzRmluZCwgaW5kZXgsIGFydGljbGVzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXJ0aWNsZVNlbCk7CiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICB8fCAwOwogICAgICAgICAgICAgICAgaWYoZS5rZXlDb2RlPT0zOSl7CiAgICAgICAgICAgICAgICAgICAgaWYoZS5jdHJsS2V5KXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHQ9Z2V0UGFnZSgpLm5leHQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5leHQpbmV4dC5jbGljaygpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBpc0ZpbmQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VyQXJ0aWNsZSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleD1BcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGFydGljbGVzLCBjdXJBcnRpY2xlKSsxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXg8YXJ0aWNsZXMubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxBcnRpY2xlKGFydGljbGVzW2luZGV4XSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGaW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGk9MCxqPWFydGljbGVzLmxlbmd0aDtpPGo7aSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnRpY2xlPWFydGljbGVzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnRQb3NpdGlvbihhcnRpY2xlKS55PnNjcm9sbFRvcCs1MCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFydGljbGUoYXJ0aWNsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRmluZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZighaXNGaW5kKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckFydGljbGU9bnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvKDAsZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfWVsc2UgaWYoZS5rZXlDb2RlPT0zNyl7CiAgICAgICAgICAgICAgICAgICAgaWYoZS5jdHJsS2V5KXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZT1nZXRQYWdlKCkucHJlOwogICAgICAgICAgICAgICAgICAgICAgICBpZihwcmUpcHJlLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmluZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBpZihjdXJBcnRpY2xlKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4PUFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYXJ0aWNsZXMsIGN1ckFydGljbGUpLTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleD49MCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQXJ0aWNsZShhcnRpY2xlc1tpbmRleF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRmluZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTAsaj1hcnRpY2xlcy5sZW5ndGg7aTxqO2krKyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJ0aWNsZT1hcnRpY2xlc1tqLWktMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudFBvc2l0aW9uKGFydGljbGUpLnk8c2Nyb2xsVG9wLTUwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQXJ0aWNsZShhcnRpY2xlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGaW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFpc0ZpbmQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyQXJ0aWNsZT1udWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG8oMCwwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKGUuY3RybEtleSAmJiBlLmtleUNvZGU9PTM4KXsKICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LmdvKC0xKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihlLmN0cmxLZXkgJiYgZS5rZXlDb2RlPT00MCl7CiAgICAgICAgICAgICAgICAgICAgaWYoY3VyQXJ0aWNsZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhTGluaz1jdXJBcnRpY2xlLnF1ZXJ5U2VsZWN0b3IoImE6bm90KC5sYWJlbCkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoYUxpbmspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYUxpbmsuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoY3VyQXJ0aWNsZS5wYXJlbnROb2RlICYmIGN1ckFydGljbGUucGFyZW50Tm9kZS50YWdOYW1lPT0iQSIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyQXJ0aWNsZS5wYXJlbnROb2RlLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpczsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTAsaj1hcnRpY2xlcy5sZW5ndGg7aTxqO2krKyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnRpY2xlPWFydGljbGVzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzPWVsZW1lbnRQb3NpdGlvbihhcnRpY2xlKS55IC0gc2Nyb2xsVG9wOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGlzID4gLTUwICYmIGRpcyA8IDUwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYUxpbms9YXJ0aWNsZS5xdWVyeVNlbGVjdG9yKCJhOm5vdCgubGFiZWwpIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoYUxpbmspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhTGluay5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoYXJ0aWNsZS5wYXJlbnROb2RlICYmIGFydGljbGUucGFyZW50Tm9kZS50YWdOYW1lPT0iQSIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnRpY2xlLnBhcmVudE5vZGUuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWVsc2UgaWYoZS5rZXlDb2RlICE9IDE3KXsKICAgICAgICAgICAgICAgIGlmKGUuY3RybEtleSAmJiBlLmtleUNvZGU9PTkwKXsKICAgICAgICAgICAgICAgICAgICBpZihoaWRlTm9kZS5wYXJlbnROb2RlKXsKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZC5yZW1vdmVDaGlsZChoaWRlTm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJoYWNnR29kZVR1cm5IaWRlSW1nIixmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoaGlkZU5vZGUpOwogICAgICAgICAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZSgiaGFjZ0dvZGVUdXJuSGlkZUltZyIsdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY3VyQXJ0aWNsZT1udWxsOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CiAgICB2YXIgbW91c2V3aGVlbEV2ZW50PW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdmaXJlZm94Jyk9PS0xPyJtb3VzZXdoZWVsIjoiRE9NTW91c2VTY3JvbGwiOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihtb3VzZXdoZWVsRXZlbnQsZnVuY3Rpb24oZSl7CiAgICAgICAgaWYoY3VyQXJ0aWNsZSljdXJBcnRpY2xlLmNsYXNzTGlzdC5yZW1vdmUoIm9EX3NlbCIpOwogICAgfSk7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjb3B5IiwgZnVuY3Rpb24oZSkgewogICAgICAgIHZhciBjb3B5RGF0YT1kb2N1bWVudC5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwogICAgICAgIGlmKGNvcHlEYXRhICYmIG9EX3RleHQpewogICAgICAgICAgICBvRF90ZXh0LnZhbHVlPWNvcHlEYXRhOwogICAgICAgIH0KICAgIH0pOwoKICAgIGhlYWQuYXBwZW5kQ2hpbGQobm9kKTsKICAgIHZhciByb2NrZXRDb250ZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyb2NrZXRDb250ZW50KTsKICAgIHJvY2tldENvbnRlbnQub3V0ZXJIVE1MPXJvY2tldFN0cjsKICAgIHJvY2tldENvbnRlbnQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3JvY2tldENvbnRlbnQiKTsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNyb2NrZXRRdWl0Iikub25jbGljaz1mdW5jdGlvbiAoKXsKICAgICAgICByb2NrZXRDb250ZW50LnN0eWxlLmRpc3BsYXk9Im5vbmUiOwogICAgfTsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNyb2NrZXRDb250ZW50PmRpdiIpLm9uY2xpY2s9ZnVuY3Rpb24gKCl7CiAgICAgICAgcm9ja2V0Q29udGVudC5zdHlsZS5kaXNwbGF5PSJub25lIjsKICAgIH07CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgZnVuY3Rpb24oZSkgewogICAgICAgIGlmKGUua2V5Q29kZSA9PSAyNykgewogICAgICAgICAgICByb2NrZXRDb250ZW50LnN0eWxlLmRpc3BsYXk9Im5vbmUiOwogICAgICAgIH0KICAgIH0pOwogICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNvRF9ib3giKS5sZW5ndGggPiAxKXsKICAgICAgICAgICAgYWxlcnQoIlx1NjhjMFx1NmQ0Ylx1NTIzMFx1MDA0OVx1MDA0NFx1NTFiMlx1N2E4MVx1ZmYwY1x1NzQwOVx1Nzk1ZVx1OGY2Y1x1ODExYVx1NjcyY1x1NWMwNlx1NjVlMFx1NmNkNVx1NmI2M1x1NWUzOFx1NWRlNVx1NGY1Y1x1ZmYwMVx1OGJmN1x1NjhjMFx1NjdlNVx1NjYyZlx1NTQyNlx1NWI1OFx1NTcyOFx1OTFjZFx1NTkwZFx1NjIxNlx1NTQwY1x1N2M3Ylx1ODExYVx1NjcyYyIpOwogICAgICAgIH0KICAgIH0sNTAwKTsKICAgIHZhciBvRF9ib3gsb0RfdGV4dCxvRF9idXR0b247CiAgICBpZigoIWN1clNpdGUgfHwgIWN1clNpdGUuaGlkZU9kKSAmJiAhZnJhbWVFbGVtZW50KXsKICAgICAgICBvRF9ib3g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgb0RfYm94LmlkPSJvRF9ib3giOwogICAgICAgIG9EX2JveC5jbGFzc05hbWUgPSAib0RfYm94IjsKICAgICAgICBvRF9ib3gub25tb3VzZW92ZXIgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIG9EX2xpbmsuc3R5bGUudmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjsKICAgICAgICAgICAgb0RfbGluazIuc3R5bGUudmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjsKICAgICAgICAgICAgcm9ja2V0QnRuLnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICAgICAgfTsKICAgICAgICBvRF9ib3gub25tb3VzZW91dCA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgb0RfbGluay5zdHlsZS52aXNpYmlsaXR5ID0gImhpZGRlbiI7CiAgICAgICAgICAgIG9EX2xpbmsyLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgICAgICAgICAgcm9ja2V0QnRuLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgICAgICB9OwogICAgICAgIG9EX3RleHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgICBvRF90ZXh0LnR5cGU9InRleHQiOwogICAgICAgIG9EX3RleHQuc3R5bGUuY3NzVGV4dD0id2lkdGg6MjQ4cHg7aGVpZ2h0OjMzcHg7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luLXRvcDowcHg7cGFkZGluZzowcHg7Ym94LXNpemluZzpib3JkZXItYm94O3otaW5kZXg6MCI7CiAgICAgICAgb0RfdGV4dC5wbGFjZWhvbGRlcj0i6L6T5YWlaGFzaOWAvOOAgee9keebmOWcsOWdgOaIlkJhc2U2NOWvhuaWhyI7CiAgICAgICAgb0RfdGV4dC50aXRsZT0n5bCG6Ieq5Yqo5re75YqgIm1hZ25ldDo/eHQ9dXJuOmJ0aWg6IuW5tuWOu+mZpOmdnuazleWtl+espic7CiAgICAgICAgb0RfYnV0dG9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgICAgIG9EX2J1dHRvbi50eXBlPSJidXR0b24iOwogICAgICAgIG9EX2J1dHRvbi50ZXh0Q29udGVudD0i5byA6L2mIjsKICAgICAgICBvRF9idXR0b24uc3R5bGUuY3NzVGV4dD0icGFkZGluZzo0cHggMDtwb3NpdGlvbjogYWJzb2x1dGU7dG9wOi0xcHg7cmlnaHQ6MHB4O3dpZHRoOjQwcHg7aGVpZ2h0OjM1cHgiOwogICAgICAgIG9EX2J1dHRvbi5vbmNsaWNrPWZ1bmN0aW9uICgpewogICAgICAgICAgICBvRF9saW5rLnRleHRDb250ZW50PW9EX2xpbmsyLnRleHRDb250ZW50PW9EX2xpbmszLnRleHRDb250ZW50PSIiOwogICAgICAgICAgICB2YXIgb0RfaGFzaD1vRF90ZXh0LnZhbHVlOwogICAgICAgICAgICBpZihvRF9oYXNoPT09IiIpewogICAgICAgICAgICAgICAgYWxlcnQoIuivt+i+k+WFpWhhc2jlgLzjgIHnvZHnm5jmiJZCYXNlNjTlr4bmlociKTsKICAgICAgICAgICAgfWVsc2UgaWYoL1xiMVswLTlhLXpdezYsN30oXGJ8JCkvaS50ZXN0KG9EX2hhc2gpKXsKICAgICAgICAgICAgICAgIHZhciBwYW5NYXRjaD1vRF9oYXNoLm1hdGNoKC9cYjFbMC05YS16XXs2LDd9L2kpOwogICAgICAgICAgICAgICAgdmFyIGVjb2RlPW9EX2hhc2gudHJpbSgpLHVybD0iaHR0cHM6Ly9wYW4uYmFpZHUuY29tL3MvIitwYW5NYXRjaDsKICAgICAgICAgICAgICAgIHZhciBzaG9ydE1hdGNoPS9cYjFbMC05YS16XXs2LDd9XHMqKFswLTlhLXpdezR9KVxiL2kuZXhlYyhlY29kZSk7CiAgICAgICAgICAgICAgICBpZihzaG9ydE1hdGNoKXsKICAgICAgICAgICAgICAgICAgICB1cmwrPSIjIitzaG9ydE1hdGNoWzFdOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgZWNvZGU9c2ltcGxlUnVsZS50ZXN0KGVjb2RlKT9lY29kZS5tYXRjaChzaW1wbGVSdWxlKVsxXTpjb2RlUnVsZS50ZXN0KGVjb2RlKT9lY29kZS5tYXRjaChjb2RlUnVsZSlbMV06IiI7CiAgICAgICAgICAgICAgICAgICAgaWYoZWNvZGUpdXJsKz0iIyIrZWNvZGU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3aW5kb3cub3Blbih1cmwpOwogICAgICAgICAgICB9ZWxzZSBpZigvXlxzKihodHRwc3xmdHApPzpcL1wvLy50ZXN0KG9EX2hhc2gpKXsKICAgICAgICAgICAgICAgIHZhciB1cmw9b0RfaGFzaC5yZXBsYWNlKC9bXmEtejAtOTpcLyVcPyZcLl9cLVwrXCpdL2dpLCIiKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKHVybCk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgb0RfaGFzaD1vRF9oYXNoLnJlcGxhY2UoLyhcWy4qXF0pfFtcV19dL2csIiIpOwogICAgICAgICAgICAgICAgaWYoIXJlZ09iai5idGloLnRlc3Qob0RfaGFzaCkpewogICAgICAgICAgICAgICAgICAgIGlmKC9eW1xkYS16XC9cK1w9XSskL2kudGVzdChvRF9oYXNoKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNX3NldENsaXBib2FyZChDcnlwdG9KUy5lbmMuQmFzZTY0LnBhcnNlKG9EX2hhc2gpLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5VdGY4KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgiQmFzZTY06Kej5a+G57uT5p6c5bey5aSN5Yi2Iik7CiAgICAgICAgICAgICAgICAgICAgICAgIH1jYXRjaChlKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGUrIiDmoLzlvI/plJnor68iKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1lbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJoYXNo5YC85qC85byP6ZSZ6K+vIik7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICBvRF9saW5rLmhyZWY9Im1hZ25ldDo/eHQ9dXJuOmJ0aWg6IitvRF9oYXNoOwogICAgICAgICAgICAgICAgICAgIG9EX2xpbmsudGV4dENvbnRlbnQ9IuejgemTviI7CiAgICAgICAgICAgICAgICAgICAgb0RfbGluazIuaHJlZj0iaHR0cDovL3d3dy50b3JyZW50Lm9yZy5jbi9Ib21lL3RvcnJlbnQvZG93bmxvYWQuaHRtbD9oYXNoPSIrb0RfaGFzaDsKICAgICAgICAgICAgICAgICAgICBvRF9saW5rMi50ZXh0Q29udGVudD0i56eN5a2QIjsKICAgICAgICAgICAgICAgICAgICBvRF9saW5rMi5zdHlsZS5jc3NUZXh0PSJtYXJnaW4tbGVmdDoyMHB4IjsKICAgICAgICAgICAgICAgICAgICBvRF9saW5rMy5ocmVmPSJodHRwczovL2J0c28ucHcvbWFnbmV0L2RldGFpbC9oYXNoLyIrb0RfaGFzaDsKICAgICAgICAgICAgICAgICAgICBvRF9saW5rMy50ZXh0Q29udGVudD0i6K+m5oOFIjsKICAgICAgICAgICAgICAgICAgICBvRF9saW5rMy5zdHlsZS5jc3NUZXh0PSJtYXJnaW4tbGVmdDoyMHB4IjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgdmFyIG9EX2xpbms9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgIHZhciBvRF9saW5rMj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgdmFyIG9EX2xpbmszPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICBvRF9saW5rMi50YXJnZXQ9b0RfbGluazMudGFyZ2V0PSJfYmxhbmsiOwogICAgICAgIG9EX2JveC5hcHBlbmRDaGlsZChvRF90ZXh0KTsKICAgICAgICBvRF9ib3guYXBwZW5kQ2hpbGQob0RfYnV0dG9uKTsKICAgICAgICBvRF9ib3guYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKSk7CiAgICAgICAgb0RfYm94LmFwcGVuZENoaWxkKG9EX2xpbmspOwogICAgICAgIG9EX2JveC5hcHBlbmRDaGlsZChvRF9saW5rMik7CiAgICAgICAgb0RfYm94LmFwcGVuZENoaWxkKG9EX2xpbmszKTsKICAgICAgICB2YXIgcm9ja2V0QnRuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgICAgIHJvY2tldEJ0bi5pZD0icm9ja2V0QnRuIjsKICAgICAgICByb2NrZXRCdG4udHlwZT0iYnV0dG9uIjsKICAgICAgICByb2NrZXRCdG4udGV4dENvbnRlbnQ9Ilx1NzA2Ylx1N2JhZCI7CiAgICAgICAgcm9ja2V0QnRuLnN0eWxlLmNzc1RleHQ9InBhZGRpbmc6NHB4IDA7cG9zaXRpb246YWJzb2x1dGU7dG9wOi0zNnB4O3JpZ2h0OjBweDt3aWR0aDo0MHB4O2hlaWdodDozNXB4O3Zpc2liaWxpdHk6aGlkZGVuIjsKICAgICAgICB2YXIgcHJlSW1nRGF0YT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBOEFBQUFQQ0FNQUFBQU1DR1Y0QUFBQWdWQk1WRVVBQUFEREtrUFBOMUhMTTAyK0l6M1BQRmJVUUZyREswWGNSMkxUT2xYVU8xYkpMMHJHTGtqSE4xRFhTbVBSUmwvRExVZkhNMHpPT1ZQYVNHUENLMFRJTVVyZFJtSElNRW0vSlQvREswYkhMa2k3SVR2ZFJXSEhMVWUrSXp6WVBWbStKRDdPUjE3S1FWblJUR1RKTzFUWFZHdlJTbUxLUGxmRk5FM0xQMWZITmsvRnNJZjVBQUFBSVhSU1RsTUFkUXdHeXNXNGwzNWhSRHNzL3ZqNDV1WGUyTUN6b1o2VGpJQkxTa1F4S3hhRTlkeGxBQUFBWjBsRVFWUUkxNTJMVnc2QUlCQUZBWHZ2dlNQWTduOUFjVFVHZjUyUG5jeExGdjJrL1JUSlRUbUhoTXR0K1p6ck5ubksxcFpac0FTNnBZaDA0dWxGdXdhUzdaVFNsYTNpRnZDQlBjWU10NnNqZHJnd09PR0doUlJqcXhBd3BoaGNxdWlodndVdDBaeTFIZ2RESDRDTkVRQUFBQUJKUlU1RXJrSmdnZz09IjsKICAgICAgICByb2NrZXRCdG4ub25jbGljaz1mdW5jdGlvbiAoKXsKICAgICAgICAgICAgbGF1bmNoUm9ja2V0KCk7CiAgICAgICAgfTsKICAgICAgICBvRF9ib3guYXBwZW5kQ2hpbGQocm9ja2V0QnRuKTsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG9EX2JveCk7CiAgICB9CgogICAgZnVuY3Rpb24gbGF1bmNoUm9ja2V0KCl7CiAgICAgICAgaWYoIXJvY2tldEJ0bilyZXR1cm47CiAgICAgICAgaWYoY3VyU2l0ZS5wcmVSb2NrZXQpewogICAgICAgICAgICBjdXJTaXRlLnByZVJvY2tldCgpOwogICAgICAgIH0KICAgICAgICByb2NrZXRDb250ZW50LnN0eWxlLmRpc3BsYXk9ImJsb2NrIjsKICAgICAgICB2YXIgbGlua3M9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiYSIpOwogICAgICAgIHZhciByb2NrZXRMaW5rcz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJkaXYjcm9ja2V0TGlua3MiKTsKICAgICAgICByb2NrZXRMaW5rcy5pbm5lckhUTUw9IiI7CiAgICAgICAgdmFyIGk9MDsKICAgICAgICBmb3IobGV0IGo9MDtqPGxpbmtzLmxlbmd0aDtqKyspewogICAgICAgICAgICBsZXQgbGluaz1saW5rc1tqXTsKICAgICAgICAgICAgaWYoY29uZmlnLnJvY2tldFJlZy50ZXN0KGxpbmsuaHJlZikmJmxpbmsuY2xhc3NOYW1lLmluZGV4T2YoIndoeC1hIik9PS0xKXsKICAgICAgICAgICAgICAgIGlmKHJvY2tldExpbmtzLmlubmVySFRNTC5pbmRleE9mKGxpbmsub3V0ZXJIVE1MKSE9LTEpY29udGludWU7CiAgICAgICAgICAgICAgICByb2NrZXRMaW5rcy5pbm5lckhUTUwrPSI8YSBpZD0ncm9ja2V0QmFjaycgc3R5bGU9J2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6cmVkOycgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApJz4iKygrK2kpKyI8aW1nIHNyYz0nIitwcmVJbWdEYXRhKyInPjwvYT46ICI7CiAgICAgICAgICAgICAgICByb2NrZXRMaW5rcy5hcHBlbmRDaGlsZChsaW5rLmNsb25lTm9kZSh0cnVlKSk7CiAgICAgICAgICAgICAgICByb2NrZXRMaW5rcy5pbm5lckhUTUwrPSI8YnIvPiI7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdmFyIGJhY2tzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImRpdiNyb2NrZXRMaW5rcz4jcm9ja2V0QmFjayIpOwogICAgICAgIGZvcihpPTA7aTxiYWNrcy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgbGV0IGJhY2s9YmFja3NbaV07CiAgICAgICAgICAgIGJhY2sub25jbGljaz1mdW5jdGlvbigpewogICAgICAgICAgICAgICAgbGV0IHRhcmdldD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJbaHJlZj0nIitiYWNrLm5leHRTaWJsaW5nLm5leHRTaWJsaW5nLmdldEF0dHJpYnV0ZSgiaHJlZiIpKyInXSIpOwogICAgICAgICAgICAgICAgbGV0IHBvcz1lbGVtZW50UG9zaXRpb24odGFyZ2V0KS55OwogICAgICAgICAgICAgICAgaWYoY3VyU2l0ZSAmJiBjdXJTaXRlLm9mZnNldClwb3MtPWN1clNpdGUub2Zmc2V0OwogICAgICAgICAgICAgICAgc2Nyb2xsVG9Db250cm9sKHBvcyk7CiAgICAgICAgICAgICAgICByb2NrZXRDb250ZW50LnN0eWxlLmRpc3BsYXk9Im5vbmUiOwogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZihyb2NrZXRMaW5rcy5pbm5lckhUTUw9PT0iIil7CiAgICAgICAgICAgIHJvY2tldExpbmtzLmlubmVySFRNTD0iTm8gbGlua3MgZm91bmQhIjsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcHJvY2VzcygpewogICAgICAgIHZhciBkb3dubG9hZEJ0bjsKICAgICAgICBpZihpc0h0dHBzICYmIChkb3dubG9hZEJ0bj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJkaXYjcG9zdC10b29sYmFyLWRvd25sb2FkLWNvdW50LWNvbnRhaW5lciIpKSl7CiAgICAgICAgICAgIHZhciB0PWZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBpZihkb3dubG9hZEJ0bi5pbm5lckhUTUw9PSI8IS0tIHJlYWN0LWVtcHR5OiAxIC0tPiIpewogICAgICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZENvbnRlbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkQ29udGVudC5ocmVmPXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCsiLy8iK3dpbmRvdy5sb2NhdGlvbi5ob3N0KyIvZG93bmxvYWQ/aWQ9Iit3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoIi8iKS5wb3AoKTsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZENvbnRlbnQuaW5uZXJIVE1MKz0nPGRpdiBjbGFzcz0idHgiPjxzcGFuPjxpIGNsYXNzPSJmYSBmYS1jbG91ZC1kb3dubG9hZCI+PC9pPjwvc3Bhbj5cdTRlMGJcdThmN2Q8L2Rpdj4nOwogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkQnRuLmFwcGVuZENoaWxkKGRvd25sb2FkQ29udGVudCk7CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihkb3dubG9hZEJ0bi5pbm5lckhUTUw9PT0iIil7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCh0LDEwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHNldFRpbWVvdXQodCwxMDApOwogICAgICAgIH0KICAgICAgICB2YXIgY29udGVudD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRlbnRBcmVhKTsKICAgICAgICBpZihjb250ZW50KXsKICAgICAgICAgICAgcHJvY2Vzc09iaihjb250ZW50KTsKICAgICAgICB9CiAgICAgICAgdmFyIGxpbmssIGltZ3MsIGksIGs7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwpIHsKICAgICAgICAgICAgbGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKTsKICAgICAgICAgICAgaW1ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpOwogICAgICAgICAgICBpbWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpOwogICAgICAgIH0KICAgICAgICBmb3IgKGkgPSAwLCBrID0gbGluay5sZW5ndGg7IGkgPCBrOyBpKyspIHsKICAgICAgICAgICAgbGV0IHRhcmdldD1saW5rW2ldOwogICAgICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGlmKC9iYWlkdS5jb20vaS50ZXN0KHRhcmdldC5ocmVmKSYmIS8oPzpleXVufHRpZWJhKVwuYmFpZHVcLmNvbS9pLnRlc3QodGFyZ2V0LmhyZWYpJiYhLyMvaS50ZXN0KHRhcmdldC5ocmVmKSl7CiAgICAgICAgICAgICAgICAgICAgaWYoL1wvc3RvcmFnZS1kb3dubG9hZC8udGVzdChsb2NhdGlvbi5ocmVmKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXNzPXRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignaW5wdXQucHdkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBhc3MmJnBhc3MuaWQuaW5kZXhPZigiZG93bmxvYWQtcHdkIikhPS0xKXRhcmdldC5ocmVmPXRhcmdldC5ocmVmLnNwbGl0KCIjIilbMF0rJyMnK3Bhc3MudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKGN1clNpdGUuZG93bmxvYWRVcmwgJiYgY3VyU2l0ZS5kb3dubG9hZFVybC50ZXN0KGxvY2F0aW9uLmhyZWYpICYmIGN1clNpdGUuZ2V0RG93blBhc3MpewogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlLmdldERvd25QYXNzKHRhcmdldCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKGNvZGVSdWxlLnRlc3QodGFyZ2V0LnRleHRDb250ZW50KSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5ocmVmKz0nIycrZXh0Q29kZSh0YXJnZXQpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZih0YXJnZXQubmV4dFNpYmxpbmcmJmNvZGVSdWxlLnRlc3QodGFyZ2V0Lm5leHRTaWJsaW5nLnRleHRDb250ZW50KSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEvI1xTKy9pLnRlc3QodGFyZ2V0LmhyZWYpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5ocmVmKz0vIy9pLnRlc3QodGFyZ2V0LmhyZWYpP2V4dENvZGUodGFyZ2V0Lm5leHRTaWJsaW5nKTooJyMnK2V4dENvZGUodGFyZ2V0Lm5leHRTaWJsaW5nKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoY29kZVJ1bGUudGVzdCh0YXJnZXQucGFyZW50Tm9kZS50ZXh0Q29udGVudCkpewogICAgICAgICAgICAgICAgICAgICAgICBpZighLyNcUysvaS50ZXN0KHRhcmdldC5ocmVmKSkgdGFyZ2V0LmhyZWYrPS8jL2kudGVzdCh0YXJnZXQuaHJlZik/ZXh0Q29kZSh0YXJnZXQucGFyZW50Tm9kZSk6KCcjJytleHRDb2RlKHRhcmdldC5wYXJlbnROb2RlKSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGogPSAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4UGFyZW50ID0gNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHRhcmdldDsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoajxtYXhQYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGorKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFyZW50LnRhZ05hbWU9PSJUUiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb2RlUnVsZS50ZXN0KHBhcmVudC5uZXh0RWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudD1wYXJlbnQubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuaHJlZis9JyMnK2V4dENvZGUocGFyZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKGNvZGVSdWxlLnRlc3QocGFyZW50LnRleHRDb250ZW50KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5ocmVmKz0nIycrZXh0Q29kZShwYXJlbnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFyZW50PT1kb2N1bWVudC5ib2R5KSBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGZvciAoaSA9IDAsIGsgPSBpbWdzLmxlbmd0aDsgaSA8IGs7IGkrKykgewogICAgICAgICAgICBsZXQgc3JjOwogICAgICAgICAgICBmb3IobGV0IGltZ1JlZyBvZiBjb25maWcuaW1nUmVncyl7CiAgICAgICAgICAgICAgICBzcmMgPSBpbWdzW2ldLnNyYy5yZXBsYWNlKGltZ1JlZ1swXSwgaW1nUmVnWzFdKTsKICAgICAgICAgICAgICAgIGlmKHNyYyAhPSBpbWdzW2ldLnNyYylpbWdzW2ldLnNyYyA9IHNyYzsKICAgICAgICAgICAgICAgIGlmKGltZ3NbaV0uZGF0YXNldC5zcmMpewogICAgICAgICAgICAgICAgICAgIHNyYz1pbWdzW2ldLmRhdGFzZXQuc3JjLnJlcGxhY2UoaW1nUmVnWzBdLCBpbWdSZWdbMV0pOwogICAgICAgICAgICAgICAgICAgIGlmKHNyYyAhPSBpbWdzW2ldLmRhdGFzZXQuc3JjKWltZ3NbaV0uZGF0YXNldC5zcmMgPSBzcmM7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc2VyaW91c1JlcGxhY2UoY29tbUFyZWEpOwogICAgfQoKICAgIGZ1bmN0aW9uIHByb2Nlc3NPYmoob2JqKXsKICAgICAgICBpZihvYmopewogICAgICAgICAgICBpZihvYmoubm9kZVR5cGU9PTEgJiYgb2JqLnRhZ05hbWUgIT0gIkEiKXsKICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8b2JqLmNoaWxkTm9kZXMubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc09iaihvYmouY2hpbGROb2Rlc1tpXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlIGlmKG9iai5ub2RlVHlwZT09Myl7CiAgICAgICAgICAgICAgICB2YXIgY3VyRGF0YT1vYmouZGF0YTsKICAgICAgICAgICAgICAgIGlmKG9iai5uZXh0U2libGluZyAmJiBvYmoubmV4dFNpYmxpbmcub3V0ZXJIVE1MPT0iPGI+aGFjZzwvYj4iKXsKICAgICAgICAgICAgICAgICAgICBjdXJEYXRhKz0iaGFjZyI7CiAgICAgICAgICAgICAgICAgICAgaWYob2JqLm5leHRTaWJsaW5nLm5leHRTaWJsaW5nICYmIG9iai5uZXh0U2libGluZy5uZXh0U2libGluZy5ub2RlVHlwZT09Myl7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckRhdGErPW9iai5uZXh0U2libGluZy5uZXh0U2libGluZy5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICBvYmoubmV4dFNpYmxpbmcubmV4dFNpYmxpbmcuZGF0YT0iIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgb2JqLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob2JqLm5leHRTaWJsaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBkYXRhPXByb2Nlc3NUeHQoY3VyRGF0YSk7CiAgICAgICAgICAgICAgICBpZihjdXJEYXRhICE9IGRhdGEpewogICAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpOwogICAgICAgICAgICAgICAgICAgIG9iai5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdEYXRhLCBvYmopOwogICAgICAgICAgICAgICAgICAgIG5ld0RhdGEub3V0ZXJIVE1MPWRhdGE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UGFnZSgpewogICAgICAgIGxldCBwcmU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYS5wcmV2Iik7CiAgICAgICAgbGV0IG5leHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYS5uZXh0Iik7CiAgICAgICAgaWYoIXByZSlwcmU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnByZXY+YSIpOwogICAgICAgIGlmKCFuZXh0KW5leHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLm5leHQ+YSIpOwogICAgICAgIGlmKCFwcmUgJiYgIW5leHQpewogICAgICAgICAgICBsZXQgYVRhZ3M9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiYSIpOwogICAgICAgICAgICBpZighcHJlKXsKICAgICAgICAgICAgICAgIGxldCBwcmVmLHByZXMscHJldDsKICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8YVRhZ3MubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgICAgbGV0IGFUYWc9YVRhZ3NbaV07CiAgICAgICAgICAgICAgICAgICAgaWYocHJlZiAmJiBwcmVzICYmIHByZXQpYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgaWYoIXByZWYpewogICAgICAgICAgICAgICAgICAgICAgICBpZigv5LiK5LiA6aG1Ly50ZXN0KGFUYWcuaW5uZXJIVE1MKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVmPWFUYWc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoIXByZXMpewogICAgICAgICAgICAgICAgICAgICAgICBpZihhVGFnLmlubmVySFRNTD09IiZsdDsiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXM9YVRhZzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZighcHJldCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFUYWcuaW5uZXJIVE1MPT0iwqsiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXQ9YVRhZzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHByZT1wcmVmfHxwcmVzfHxwcmV0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCFuZXh0KXsKICAgICAgICAgICAgICAgIGxldCBuZXh0ZixuZXh0cyxuZXh0dDsKICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8YVRhZ3MubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgICAgbGV0IGFUYWc9YVRhZ3NbaV07CiAgICAgICAgICAgICAgICAgICAgaWYobmV4dGYgJiYgbmV4dHMgJiYgbmV4dHQpYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgaWYoIW5leHRmKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoL+S4i+S4gOmhtS8udGVzdChhVGFnLmlubmVySFRNTCkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dGY9YVRhZzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZighbmV4dHMpewogICAgICAgICAgICAgICAgICAgICAgICBpZihhVGFnLmlubmVySFRNTD09IiZndDsiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRzPWFUYWc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoIW5leHR0KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoYVRhZy5pbm5lckhUTUw9PSLCuyIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dHQ9YVRhZzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG5leHQ9bmV4dGZ8fG5leHRzfHxuZXh0dDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZighcHJlICYmICFuZXh0KXsKICAgICAgICAgICAgbGV0IHBhZ2VEaXY9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZGl2LndwLXBhZ2VuYXZpIik7CiAgICAgICAgICAgIGlmKHBhZ2VEaXYpewogICAgICAgICAgICAgICAgdmFyIGN1cj1wYWdlRGl2LnF1ZXJ5U2VsZWN0b3IoInNwYW4uY3VycmVudCIpOwogICAgICAgICAgICAgICAgcHJlPWN1ci5wcmV2aW91c1NpYmxpbmc7CiAgICAgICAgICAgICAgICBuZXh0PWN1ci5uZXh0U2libGluZzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4ge3ByZTpwcmUsbmV4dDpuZXh0fTsKICAgIH0KCiAgICBmdW5jdGlvbiBzY3JvbGxBcnRpY2xlKGEpewogICAgICAgIGN1ckFydGljbGU9YTsKICAgICAgICBpZighY3VyU2l0ZS5ub1NjYWxlKWN1ckFydGljbGUuY2xhc3NMaXN0LmFkZCgib0Rfc2VsIik7CiAgICAgICAgbGV0IHBvcz1lbGVtZW50UG9zaXRpb24oY3VyQXJ0aWNsZSkueTsKICAgICAgICBpZihjdXJTaXRlICYmIGN1clNpdGUub2Zmc2V0KXBvcy09Y3VyU2l0ZS5vZmZzZXQ7CiAgICAgICAgc2Nyb2xsVG9Db250cm9sKHBvcyk7CiAgICB9CgogICAgdmFyIGhhc1ZpZXdlZD1mYWxzZTsKICAgIGlmKGRvY3VtZW50LnJlZmVycmVyKXsKICAgICAgICBmb3Ioc2l0ZSBvZiBjb25maWcuc2l0ZXMpewogICAgICAgICAgICBpZihzaXRlLnJlZ2V4LnRlc3QoZG9jdW1lbnQucmVmZXJyZXIpKXsKICAgICAgICAgICAgICAgIGhhc1ZpZXdlZD10cnVlOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBpZighaGFzVmlld2VkKXsKICAgICAgICB2YXIgbm90aWZpY2F0aW9uRGV0YWlscyA9IHsKICAgICAgICAgICAgdGV4dDogIlx1MDA0MVx1MDA2Y1x1MDA3NFx1MDAyYlx1MDA0Nlx1MDAzOFx1NjI1M1x1NWYwMFx1N2VjNVx1NThlYlx1N2FkOVx1NTIxN1x1ODg2OFxuXHUwMDQzXHUwMDc0XHUwMDcyXHUwMDZjXHUwMDJiXHUwMDRjXHUwMDY1XHUwMDY2XHUwMDc0XHU0ZTBhXHU0ZTAwXHU5ODc1XHVmZjBjXHUwMDQzXHUwMDc0XHUwMDcyXHUwMDZjXHUwMDJiXHUwMDUyXHUwMDY5XHUwMDY3XHUwMDY4XHUwMDc0XHU0ZTBiXHU0ZTAwXHU5ODc1IiwKICAgICAgICAgICAgdGl0bGU6ICJcdTgwMDFcdTUzZjhcdTY3M2FcdTUzZDFcdThmNjZcdTRlODZcdTAwMjEiLAogICAgICAgICAgICB0aW1lb3V0OiAxMDAwMCwKICAgICAgICAgICAgaW1hZ2U6ICJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LC85ai80QUFRU2taSlJnQUJBUUVCTEFFc0FBRC80UTVIYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3THdBOFAzaHdZV05yWlhRZ1ltVm5hVzQ5SXUrN3Z5SWdhV1E5SWxjMVRUQk5jRU5sYUdsSWVuSmxVM3BPVkdONmEyTTVaQ0kvUGlBOGVEcDRiWEJ0WlhSaElIaHRiRzV6T25nOUltRmtiMkpsT201ek9tMWxkR0V2SWlCNE9uaHRjSFJyUFNKQlpHOWlaU0JZVFZBZ1EyOXlaU0ExTGpVdFl6QXhOQ0EzT1M0eE5URTBPREVzSURJd01UTXZNRE12TVRNdE1USTZNRGs2TVRVZ0lDQWdJQ0FnSUNJK0lEeHlaR1k2VWtSR0lIaHRiRzV6T25Ka1pqMGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M4d01pOHlNaTF5WkdZdGMzbHVkR0Y0TFc1ekl5SStJRHh5WkdZNlJHVnpZM0pwY0hScGIyNGdjbVJtT21GaWIzVjBQU0lpSUhodGJHNXpPbmh0Y0UxTlBTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZiVzB2SWlCNGJXeHVjenB6ZEVWMmREMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMM05VZVhCbEwxSmxjMjkxY21ObFJYWmxiblFqSWlCNGJXeHVjenBrWXowaWFIUjBjRG92TDNCMWNtd3ViM0puTDJSakwyVnNaVzFsYm5Sekx6RXVNUzhpSUhodGJHNXpPbkJvYjNSdmMyaHZjRDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5d2FHOTBiM05vYjNBdk1TNHdMeUlnZUcxc2JuTTZlRzF3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdklpQjRiWEJOVFRwRWIyTjFiV1Z1ZEVsRVBTSkZOamM1UlRaRVJqRTRSRVZFT1VJNVJERXhPRFUzTjBRMk1UYzFNems1TmlJZ2VHMXdUVTA2U1c1emRHRnVZMlZKUkQwaWVHMXdMbWxwWkRvM04yWmlOR1JsTVMwellXWmtMVEJoTkRndE9HUTFaaTAzTkdaaU9UTmxaVFl6T0dRaUlIaHRjRTFOT2s5eWFXZHBibUZzUkc5amRXMWxiblJKUkQwaVJUWTNPVVUyUkVZeE9FUkZSRGxDT1VReE1UZzFOemRFTmpFM05UTTVPVFlpSUdSak9tWnZjbTFoZEQwaWFXMWhaMlV2YW5CbFp5SWdjR2h2ZEc5emFHOXdPa052Ykc5eVRXOWtaVDBpTXlJZ2VHMXdPa055WldGMFpVUmhkR1U5SWpJd01UWXRNVEF0TURoVU1EazZNekk2TWpnck1EZzZNREFpSUhodGNEcE5iMlJwWm5sRVlYUmxQU0l5TURFMkxURXdMVEE0VkRBNU9qTTNPalV6S3pBNE9qQXdJaUI0YlhBNlRXVjBZV1JoZEdGRVlYUmxQU0l5TURFMkxURXdMVEE0VkRBNU9qTTNPalV6S3pBNE9qQXdJajRnUEhodGNFMU5Pa2hwYzNSdmNuaytJRHh5WkdZNlUyVnhQaUE4Y21SbU9teHBJSE4wUlhaME9tRmpkR2x2YmowaWMyRjJaV1FpSUhOMFJYWjBPbWx1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2Tm1OaU5qY3lZMlF0Tm1Wa055MHdZVFJrTFRrNFptSXRNVEF6T0dNNU1HWTBOVFJrSWlCemRFVjJkRHAzYUdWdVBTSXlNREUyTFRFd0xUQTRWREE1T2pNM09qVXpLekE0T2pBd0lpQnpkRVYyZERwemIyWjBkMkZ5WlVGblpXNTBQU0pCWkc5aVpTQlFhRzkwYjNOb2IzQWdRME1nS0ZkcGJtUnZkM01wSWlCemRFVjJkRHBqYUdGdVoyVmtQU0l2SWk4K0lEeHlaR1k2YkdrZ2MzUkZkblE2WVdOMGFXOXVQU0p6WVhabFpDSWdjM1JGZG5RNmFXNXpkR0Z1WTJWSlJEMGllRzF3TG1scFpEbzNOMlppTkdSbE1TMHpZV1prTFRCaE5EZ3RPR1ExWmkwM05HWmlPVE5sWlRZek9HUWlJSE4wUlhaME9uZG9aVzQ5SWpJd01UWXRNVEF0TURoVU1EazZNemM2TlRNck1EZzZNREFpSUhOMFJYWjBPbk52Wm5SM1lYSmxRV2RsYm5ROUlrRmtiMkpsSUZCb2IzUnZjMmh2Y0NCRFF5QW9WMmx1Wkc5M2N5a2lJSE4wUlhaME9tTm9ZVzVuWldROUlpOGlMejRnUEM5eVpHWTZVMlZ4UGlBOEwzaHRjRTFOT2tocGMzUnZjbmsrSUR4d2FHOTBiM05vYjNBNlZHVjRkRXhoZVdWeWN6NGdQSEprWmpwQ1lXYytJRHh5WkdZNmJHa2djR2h2ZEc5emFHOXdPa3hoZVdWeVRtRnRaVDBpNXJLaDVwZTI2WmUwNktlajZZZUs1THFHSU9XL3ErUzRpdWk5cHUrOGdlKzhnU0lnY0dodmRHOXphRzl3T2t4aGVXVnlWR1Y0ZEQwaTVyS2g1cGUyNlplMDZLZWo2WWVLNUxxR0lPVy9xK1M0aXVpOXB1KzhnZSs4Z1NJdlBpQThMM0prWmpwQ1lXYytJRHd2Y0dodmRHOXphRzl3T2xSbGVIUk1ZWGxsY25NK0lEd3ZjbVJtT2tSbGMyTnlhWEIwYVc5dVBpQThMM0prWmpwU1JFWStJRHd2ZURwNGJYQnRaWFJoUGlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHcvZUhCaFkydGxkQ0JsYm1ROUluY2lQejcvMndCREFFTXVNam95S2tNNk5qcExSME5QWktac1pGeGNaTXlTbW5tbThkVCsrdTNVNmVYLy8vLy8vLy8vLytYcC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8yd0JEQVVkTFMyUlhaTVJzYk1ULy8rbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL3dnQVJDQUczQWJnREFTSUFBaEVCQXhFQi84UUFHQUFCQVFFQkFRQUFBQUFBQUFBQUFBQUFBQUVDQXdUL3hBQVhBUUVCQVFFQUFBQUFBQUFBQUFBQUFBQUFBUUlELzlvQURBTUJBQUlRQXhBQUFBSG1BV0JTQUFBS0pLcVRVSW9nQUFBQUFBQUFBQUNVU2lLQUFBVUMyRXBZbEFBQUFCTEFpclpTUzJNTjVxQUFFS2xJc0ZsQ0N3QUZCWUxLSW9TaUtJQzFDYTcrWWExVEM5RGhwQ1BSRGhmUndLeFlxMnBpNE8zUHJnamRPYm9PZWZUd005Y2R6eXZWd0Zkemdkank2blk1M3Z4TVY2RHp0RE9mWDR5M3JvNE80NE80NFBUczhRTjV2WTg3ckRweDN5T2pPVHJ5N1lPL2w5WGxPdXM1T3J6N083alJ2ajJQUHJQb09iSTF6OUhuT3VONFBSeDFrNytmZWpqMXZuTjlweE1lbnpkeTU2UTVSMEswT002OGlXN2pEcHpNZE91SzZlZG93ME5jK3ZJTzNFOU9jWk9yejlpOE9rTytOK1k5UERXVHZ3dEpjNkxvUFA2UFA2Q09BOVhsNzhEcmplRGU4Wk84eG81ZFhFOUhIcndKYzZQVjUvUmc0TmREazdqek8vRTd0SWNQUjV6dHk2ODYxanBpSTJKejNha3hTZCtIYzU3M3lNSkk5UG05T0ttZTNFMGtrV0xlZ1BQNk9HanE0Yk8vbHlPMk9uTTZOZWM5RjU2SmVJOVhQWG5OZGVGT3ZEdndMV2pTamxONU9uWGptUFQ1NUQwY3V2Q3VzeklvSjAxeHJsNnVlRHJ5M3FPZDJOY2dsNkRqZXhPUGJHVjY4ZDlUT2VuRW5lYkV1VHo5dUdhOVBtVTY4ZGRpVE5KbnJtTjhwMk01Nnd6enVpcU9hME44eTQwT3JoYVVLaUt5UFRqZUV5Q3l3VFF6TnhjckJZS2d1c0U3TWJOQWN1bURqbldiUU92VGp1S3VFcEZkZVhSTEVTcVhOdFhNY1N3cXdDQ3dBSUQxNDZjNU1yQ3JBQlpSS01Ub09iV1FRdlhsME9pQm5XVHp5eTBEczNKRXNJc0oxNWRoTkNHRFdPZVZzS0FBRUtncUFEMmMrbktST2V6Y3ZNMjU5UUFCWnpPc3pzeG5ya3gweG82SE02WTU2T1VMVm16dENSRklDZGVlelNjelhDTFFBRUJZTEFBTmFNdW82K2J2NVk3OCt2bXIwOGJvWFhJNnpqMWswZ21kRG4zNGRpNTFERWxOOHV1N2VXTytUenZRUFBydDV6MFhsMWt6ejY4aDAxZzFySEkzZ3RFRmR6enBRQUJic3h2ZGlVUW81c2RMZFpjRFdzanJ5M3lPK2RZallTSlRFNnkzRTZaTXhVejJ2QloxNStnODJzN09lcDJPZlcyUng3Y1RyeTY4TGFCQUF2YmgzUFBaUXVqUFRlNHphTXJFc1EwRGhuMDhEcHo2Y0xlMnVIVTNqZm1QVjV3NmFqS0phNTlPZlFTb3pqcHpydlBPcjBkUEg2U1BObzEyNGRJNkppVFhDNTFlL0hXUUFBQjI0Yk02MTFqSFFrRklvem5TczJGMkV2RHZ3TjgrbkMyOTc1eTdtak81eGs2cVhPbTY0YjFDS2psMjVXdWpBMzA4dmNqaHM2Y21EY0JMRGZQcnlLQWxKZGFPZTVvMzA1ZEpDQ2dxQ0E1YmxYWVJ4Nnc1clY1ZHFSejZEbmpzWGs3RTR1dE9VN2poZXc0ZDFBT2M2Y3pPOFpVU2xnQWxRM0dqTlUzMDVXTnlRNlp4QnJHam9FQUFsQ2dnSUFBQXNCVEpRQlpRV0l1YXZHUlFxQUFRR3JZVGVCTEZ1cDFPVlpOQW04ZERVdVdiYzZCazBnb0JTQWxvaWlLSTBqTFNzdEROb2k4UzhpMEJBRUxBV2FMcFl2UHBnbXBWM3FXTWMrM09zYWd2VGwwVGVPc1RsZGlvRXRNTmlheHNaMWtXUTFJS2cwelpZU3lwUkp6VzVLQVFBSUFDOXVQZkxJc3ZQcGhjenRWenE2amp6OU9hNU5aSFRudE95a3pORERjWE0wSW9xNVRTVXcxa0FsUmJGaUVxNGtFV282Y3hBQVFBQUw2T0hhTVN3cVV1c0M2eFY2ektNNDFLbTg2VHBybHMwRUpRQ0tNM21OM2xGN1RrT2puVFdWSlVOWTNJNXRicml1YTZZUUFOVTV1bVRJR3M5RHBjV1hXYWpscldiRUFoYmNpbWpPNklzVGV1ZE40dE0yRFRKT2QyTTJ3WEkweU5RR2RBb0lHTlNzdFVsbk0zakphZ0Fhem8xYzNOMHpvWXNwWlJLSnViS1dKS0lzSnZGczBDVUlvNXJMQUtBQ29nZ3NpaUNvTlNjMXNBQUFEVE9qVm1zYWJ6cE1ZNjhkTFpTMXFHczZBQUpOUWsxQ1M0czFjSzZPU05pd1VTd0lMSVd3Q0NvQmtRQUFBQUdzMWQ3eHZGR0RxbXJNdGpGME1yQ2dKUUNBek5TekxLdE1rNkxTVWhuV2F6TlJaTEFBQkVFQUFBQUFCWU9tOGJ4cTh1M016MDRYVTlManFPckZOSUtETnNMQWhTU2puejc4ck1pdlJJU3lDZ0ZKTlU1enJrNXpXRkF1ZXVDV2JPWUFBQUFONzU3emR4YzN6ck9rV0UzdmxaZXQ1Mk9qRkxxQ3lnc0FKTlpPRGF6UXNXVUFzZ0pEVEdpOHZSek9jcGRiNTlaZUpiSk5ESUFBQUwwNWJsNlhPc1hsanJ5M0FzcVV0bGwxYzZOV1dGbWhLSXNFc09iU29MbXlGcUN5WUxJTmRjZFUwelV4eDNoYnZGVVpOWmdBZE9kTGtBR3MyWHByR3MyOGUzTk1EY2F6cGQ2enFOV1dBTEFvSW9rc0lvNURVQXpBZ0tEcDJFbVNPT1NyUmJrV0JBQUFBQVhlakxVTTNrT2tsRGVpTlVoUUFvRUFDQS84UUFLQkFBQVFNQ0JRUURBUUVCQUFBQUFBQUFBUUFDRVFNU0VDQWhNVElUSWpCQU0wRkRVRUp3LzlvQUNBRUJBQUVGQXY4QW0wNHovRURKRzJBQmNySEt4eXNjdGlwVXFWT0xSTG5pQ2p1V2FTb2NvY29jb2NvZGdWYUxjTFNySEt4eXNPRUZXdVZoVnBteHl0Y3JYS3gyR3ExV3ExV3ExV3ExeEJ0T2poOTA5M09JUFVLWTRsUDVsTjQzTlF0S2Z5bFhKbktwdktLWTVQaWVvdW91b3VvbXV1VHViUkpMZ2hhVS9sZVVURGJ5bUdRZDcwMDNLOHpjWkJsdDVYVUtuUk5lQUx3cndyd3J3cndnNmNQc2xRWXdZSUIxY3FlN3diaktid0NwclMvc1hZaGFqQ2RiRlBpZzJWMHl1bVYwemhTVHVZRURwbFJBTENFMFNYcXh5YUxRdVRLZXpSM1BNbHB0TG15bXRoT2RPRUtGQ2dMUk5ZaVExRWwyQlRYU25NVElUM29GWElHRDFFNTBodkJVMVU1UVlEWlRPVlRjdDBwOFZUNDN1Vjdrd2tvNzBrL2xUVW0rb1NGK2R3Z3pNdWd1SndBY0UwRUx1Q3RNaW1wRFZJY3VtaTIzR0U5Qm9DYzlSa0lSY1NCeWhxN0YyTHNUd0xmcHZIcUJOZEtmeUhjMXVqbWM2bTd1TlBpcWZIcHJwcHJiVWQ2U2R6cEx0bDFxUENtTlhOSlVkdlRLSXRON2tOaVhJUE1seEtwOHFuSU9JVTNHTWFtN3VOTkhDTUR1NW9nQ1ZUS2VJT2lwaFBNbDJ6ZURWVFQrYkRCcUpuS3B1L2hUNHFueGtxU3FhTzlKUDVVbEJ2cUJmbTNSdDVVOWx6bHVtaVhTZ2JsRnI3bW9FRkVnSzVxUE1ZMU4zY2FlMlJ1cnFoUTJPaUVQQVpxNTBKb1R0bThJY3FZVHVibXlneE01MU4zOEtmRlUrTmpWWTFBQUw3cEovS21yOVhPdFIxWlpwMDFIYjAwNWtMZzJudDl3U3JISmpTQzlwSnNjb0lRS25DcHU3aXpiRjIxTWFPTXV1VU9jbXR0VndLTEYzQkV5bThlb211dVR1WmV1b21jcW03K0ZQaW11dEFiSzZaeHBwL0ptalJ5cUw4dFZxdnoxV3FjNjVVOXZzT0lYVUthNGt1Y1Flb1VYRnlHMG1aY3RYRjNGdTJMMWNMVUxZTlFMVnl0UWNRZzhKOFRlUUdoYXRXcGNPMTl6VmMxYzNQNHNJdFp5Z1lIWmtMc1Z6UXR5NTNiQzdFNXdnYk9YNXR3alNuc09XRE9UK1dPejd3cnduT3VReUVLMVJwYXJSa3RRRVlTcFVvZ0ZXaFdoRFJGZE5OYkdKTUloUmkwYWtTclZiZ1JLdFFHa0tGWWcyTWJVRzVZVVpKOU9jenQ4alBRSjkwWlhJNUFZVStVbUZNK3hHY1pEbEEwaGZXUVppNzNJeXR5SE9jb3lGRSsvR0l5SElOem5HSk1JbWZSSmhYcmZBdWhYNTcwSFRpY0JnNTBLOUhJM2Z3bDNvUXJjS2kvTnV5L1NvaHRrTzFNQWc4OGdjRmVGeWZVVTZZakpxU1FRaHFNQzZjbTVMU1BGQ2pFbUE0eXZ6MVhUS0RDQzlzcnBsRnBDRzJCMnA3SDVNQ25iTmFDTEFnMEJGb0tzQ3NDc0NzQyt3Y1I4bFRpM1luTTNuVTQ1b1FDakxVMmdkUFpoRnd1Y211Tnp5UXJuS3B4YnRnZHFlemdidTlkNjdsdUxVMFNhaDBqUU1CYUJLdE9iOUtuRUhUTTNsVTQ1UUZHZCs3K0orTU9JRFlDYjhsVmZkVGkzYkIyMVBZdmc5UmRSRitqVVRvd1FDWkpkS2J3QmhYNFJrL1NweHp0NVZPT0lDQThMaHE1MG8vRzFzanBvTWd1YmN1bWlKRG0yb2JJN1U5bmM0Q2dLQW9UbGUxWE5WelVOcm1xNXFlUWNoTUwvQUhVMnpqbFUyR0VaemxxSS9HQVVaQ3Bya05WRGxhY1R0VDJQeVlrd3BDMFdpMFRlQzBXaXV3THNQdHpwR2Y3YzZRMEtJOHRSSDQyYmN5ZTFyREJlMU5kaElVaEVpS2V6dWNoU0ZJUjM3RjJMc1hZaEVkaTdGMko4S2NkeVdRTSs1TElEVEk4dFJINHdDVm8wY3k0SmprNWtyVmROZE5kTk5GcUxKUFRYVFhUVG0yb01WaXNUbXdtOEdpVllpMkZHUUdDNThqTUJLNHVjK1F3UVBFTWFpdUZqWHdOWElDTUMxQjhMVng3MTNydlhldTlkNjcxM3FISEkvWnJoYlRSZDVRTVlHQk9BOGxvVm95eFBuc0NueWdxVktsU3B4SDhEWkV6NG96RE1QZkpqeHdweWdZSEtQZUx2VU9WdWVGSHFsM29mZVU1RyszS21mS09PWVlISzMyaVk4LzFsakdGR1J2c3o2OG9ZbkVlNUhrQ0hnbFNwOVNWY3JsY3JrSlBnUGlHU1BVbkNWS2xUaHFvVUtGR0VxY1R0bWhXcUJsYjVvOGtLRkhoakxHRUtGR0VxZlNqMHA4YzVTVlBrajFwOU1uem4wSlZ5dVZ5dUhway93WVVLRkh2RE5DdFVLUDZYMy9XZHZLbjBUL0VkaktuMENQSEdlTk1JMDh2MTZoOUZxT0E4NTlRK1U1QW5laTczNXdoRnVUL1BsR0x0dmZBeGRqT21jSS93NXlCRERaSDFYZTgzRDdjajZwMjlQLy9FQUJZUkFRRUJBQUFBQUFBQUFBQUFBQUFBQUFGQWtQL2FBQWdCQXdFQlB3SE44c0pmLzhRQUd4RUFBZ0lEQVFBQUFBQUFBQUFBQUFBQUFVQVJjQUFRTUlELzJnQUlBUUlCQVQ4Qjh6eGtVR2FORGdiTGgwSEEyZW4veEFBakVBQUJCQUlDQXdBREFRQUFBQUFBQUFBQUFSQVJJU0F4TUVGQVVJRmhjSUNnLzlvQUNBRUJBQVkvQXYzYlQxaG8wYWVWNE5HbWp5NjRJVW8wYU5Hc0lVMFZsckNubGZFdDFGazZPaWl5dUJXcHFKYU9HVUpYZ3ZHeVVhRXcxeUsyelpZb3I3N2VpeWF3dDc0cUx4Z3MwZEhSMXdSaXJiTnNvcktma3NwNHd2eFllU01GYU1sYlp0bEZaVFhieWJKTmx2Q3ZSYlZ5UTB0WkNZYWVpOFZ4VVVVVWg5bXlEYnEwbW4xNFZZYWVzbHlVVmtFNFY0SzQ1S2Uyb2d0cjROUFowOU5aQ2VyMy9KdDg5ZXhqeTQ5dktQWFBCSlBvdmpiWkJPRFJyQ2ZSeTN6eUs1azhINFUwK3pRK1l5bkowZEhSMDNSMGRGY3NlQWg4eGhTaStMWnMzaHMzNThZMFh4WDRsK3ByL0FiUHQ0ZVBhei9BWC8vRUFDa1FBQUlCQXdNREJRQURBUUVBQUFBQUFBQUJFUkFoTVNCQmNUQlJZWUdSb2JId1FNSHhVT0gvMmdBSUFRRUFBVDhoNjhmOXFQOEFzd1IvdzU2N2FSQ3FSMGdqVlA4QUtka09tbmd1OE1Rd3NmcVQ5U2ZxU0hHeHVEaWNUaUtkRUtnWXBVS1hRSTVYRTRQQXp3czh3OHc4d3VuRG9SUk9DUlBVNkszS2NIbmUxWjhrZUQ1UEY4bmkrVHdmSml6T0J3Wndmc2NQZzRNNFAyT0RPREV4cVIvaUdocTBKa3pFYlVIaFF4Y3hTeEZVYkk0ZlliWmV4WlRTZHFlSWlOSi9TSDkwS0NqN0g3ay9jbjdrdkxSQm1PUFFxOGh0VjlpQUpLaXc2WGM0eHJtelB5VFNreG5hQjJ5Z2htOGpKc2p4bzRSTWl1N2JFRk9Ubk9jNXpuT2NWak5Ga1JXR3FUd0tjTGN3dkpmSHVOTzZadUM4Sk5pUnNmc1lPQkpNdzlweHZVTG1FK0R4L1U3VlBpZzhzZXNxRHlvOHFQS2hXYlRvTExJc2VSSzhvd2N4QTJhSCtJZVlYYzhCbVIzWXZXTTNKTTcyUmFWc1p6QW52QlBlRTJGZ1NzUUlFYVQ3QnJ2WWhKL1J3Z2xBcm1STnVSRjlBczc1SkY4aEJzY0M0SWlMZEJnNEZLMkZ1NkxWSnF3cEptbmlJSlRVWnVUOEVmZ2hhNUh5cUdVWnVaWmlZQmdvY0V6SjNJa1MzZXhCTEkycUJaZGlMd0xYRVhKamMySlNKSlhNWTdqMkd2SHdKZVBoalRad08zQ3VoS2l5RUtaZWU1cys4VHUraEZkRWdFVW13VEZLUWtKQlNjTDRDbGlTb3huZ1lqR2FiSzhOZUdReGFBWnVTSWlMaTU4cWhtb1I2NHdHTTloSlBzT2JSQkx6UWVWRHJtVHlmQk9HNFR2dHdJU2R6ZG80UG9Qb01FeHN1YWtqQndaZUJGRGU5RVZYb2hPZllnRzRMcHN4cUdUZCtoWTJ3a0lqQndJbk1tWXVGNWJrSlRUdlR4YUFadVR5UGM4ajNHYlRsbnlxR1doa1M5QXh0UW16SHBQdnFLWGtpa2JieXh4U0ZKdndMa1VGVGcvY0Q3dTRIMFpjSDdnWk9XQkJvYUVZK0RMd1pobURJeGIvQUd1V2tGZ0xLQTBGbkNFWGMramNaaU1IQWtZYjJHSnVVMVRhMDVIZEdReGFBNXVhMWpSNklVbnhid09aV0dsZmdYZVhJajRoRVFWRG1SZXFmTUc0ZHJ1TEhTZmd5UXRiRWhTUHdZNzlxQzFJaEpqNE12Qm1HekpoandJSmR6Z1I5aUZ3Qk56ZHhNUW1UM2IzTzZpRmd4a1JkV01aQzdDWFpGN014Y1ZCS1dpTEpFanNUeUl0b2xsdmsrWVpqK2dwWVk0WmI5eitncGJ2M0hETEpDN0dia2FrRXNRandvalRnamFnOEtGa05Jc0RkQVE3UDJJVWxGcm1hdHpOQ1hZOEtpTGc5UkR1RytNZHRuY3M5d3p2SEl6UVJjaXNCR2RvS1p3aEpab09tVGc4aUlsa3ZMc1p4UzVwR2NrMmUxRWxrWkxmVWovUWcyYTlCdTR4VUZ1SEJKaWtrNFR6U1JZRzBuNEdMSVEwVFFNazBzeTFkSzV3TW5hNUlpcWR3ODU1ekNTc0pDMEphdU5TTmhua1NLdStScHRZUTNjblFXVXVUenNYZllpU0VpRFVNaHQ4QkhPc0FWTnJVUlNXNFFrTVN2Y1NMelNBY2lPb2ZsVVFPWkM1bzNlMUdreUpFaExGSm9rWTlFNloxcWhhTVE5RzRlREY5S3dNbFVnM3E3RW5UZUI5Q0Jyb01MUmt0S0lYb1RsYVZnZUNLckxvZ05tNmo2Y0QxRVBveEhuUWxwUzFHa2xpQ0NLTEpGWlpNOVoxZlJnZWxscHZSaEN4cEl3ME8xY2Evd0NBK3RBeEhTN2txZWRPRlZoalg2OFVVaHdFNFRTWkVDN2xyaDJFTkZjTkgxSXUwTktsYVhlbStsWXB0OVpCQklTYjAyRFMyYkdZMkY5aFVrb1JqMDV4Z2xTSkVWVjRvaHVlVVhwRHFFdHhJb2tva2thTG9XS3R3ekU4dC9JOUNVbEk3REdoSndJU3l4YTRJRTdFcUc3VVJJenN4L1FzN0R5b1VXMmhpcUR5b1N6S0hsSFhPWnVUN3FKVk01WnptSkdrdVRuT2M1em5NT2lKeFJZUHNxYUVOdDUwNHFDeHFRYXhJcXVqMklnbENtQ1lINEZJeWJIbitCbEUyUnNpOHBmeHBQT1p1U1hhUkhrZW9lOXlKNUNmZEZqSUlOeHVrYmNtQ1JtQnhFQ1JBcGlpK3g5aEJGYThKOWdzYUVocndKVnBkSGxFV3hvbUJJeUhjWFVEb0RxeWE1VE55S1lvSWlJUzJVWkxDS0hjdWJjdkxJc1FZNlNYWWtSaEtxK3hpNUZqWGg1TVhJc1VTT3dKV2REMHVXOE1WVFJMbWJJOTJLbWtSQ1dRN3N0d3BGRE1USUZ2TTNOSHhJOFNIMmxRa05Ia1AzQis0R1Rrc0g3Zy9jRUFFcklpaWduWnlZK1JZMS9LTWZOQ1F1OHhqb0ZtdXlpY1Z3aXBiK1JIRFpqdXdLVGlibm0rU1RMTUtLWnpOeWZkb1JrTjJVY1djV1Bza3hpamM0c1RYWmlWdWtGbFNZVmk0a2hZMXB3ckZ4SkRXaEowVFlzNlpORHRsNFZnZFJMMExZOE0vdWlTenlPMlR6SG1IR3VadWFQa1BJZVFkTmV4SCtoSCtoSCtoSCtoc01FZjZFZjZFZjZDVFZ2b05uVkp4SWROTWkxSkNUakRwcGs5SjZUeUxPa1Z0V0JJYmI4SlpsYkV2Y0VYV01ha2xJajNaSHV5SGRrS3doamxrTzdJOTJSN3NVaWhraVQraCtvUDFCRG1aTVpMekIrb0UvOEFocFhNVEFsa1JHaElZTjhUQWxreU85RzBoT2RiVnpKMTJEOHhCWlh0Z3UrQkNRcVRYRHJDM0tKN21UM01udVp5WjZqMUhxUFVNQktFbFg3eENMZHpKa1dNbVhmb3RFYUUwbmtTOExRUHJhN0NzcXRKcUhTOEJqUTB5UWtsanF1NmlpMFZ1bFdLd2FabFhQOEFpU1BwdHJJYnc2U2tSVmlZa2plbk1qK2NrTnR1L1NTSzdvaDl4NUdSUVNzS0o2YndTS2pwSlA4QUdpc3Vtc2pFb283TWlpVkVHcVRVeGlFM1NLa09rVWdnZ2dnZ2dnZ2dnaWxpVVNpYXl4MUVyU0pWWXRST3NOR2RZVlpKRTZKNkpwSkpKTkpKSjBORU51b1dpMm8wS2lDYW9sYXVYUnViaXhSNjUwcFNlbzZ5UDY2TU1SQVZMc2pVZGM5TUVVaWpGUjlSOXZYUTNzWXBJN2lwWU5OSHBKckJjbWtVZEpvMTBXMGh1YW9pbDVZMURqcG9MYVIxVkpHN0NvUFFSZ1RyTUZxeUowaWtydVNpS29hUlJJWUlHdENFNVhBMHZwSkxFa3F2c0hZV09pbFZNVEpvN0UwU3FlZGFYMklFdTlNQ0hZeHNORTdDU0J0TVN2Z1FOUlNhd3laNU9nMTIwV0o2V1RyZ1drcVhKbk9uQ2lOYnVSSTBNTkVDSWtNRExvMzBMQW1Ka2tqMW9SclhSbWlXWDZFMFRWS1JLd09XbDFXQ0NDT3dtZ2RGb1M2SzFwWkhraGRkWE50YTNSUnFYVEFsMG5BNGtDSFZKMXdLRjAxcGVLb1hVYUluTTU5TEpQUW1PcVZVeERSa090TVpKSlA4SjlSQ0ZTWUNlcUNPa3hrazZJSUgvSVFoVXNDS0U5QjlCYmFJME1naitPaERFdE5FNlVFeWV0RTlNNllvalZMd1ZkaHJwb1JzTlRvSVRKSkpKSko2TEVoa2s5Rm9nYWpRMjdjU0hSODkzVFFoVXNlbVNTYUxwTVhvU1RUaGs5NkhvTGlwNTZTRUtpWDFva1QwTFV4NnAwVFZnZGlxSGZqb2FqcGxSSjFvRW1KZE5yUk9oc2JvamVKYXlaNElVVmhYRWJsaVI2RldXWjZWWFlkbnBRcXgxSjdWa2tZYjBHU011OURUUlZuVk9wQ0ZSTHpvUWhDNnJlaVNheHVTSW5UWU50VWlSOVpDb2s2Q0VMcmYvOW9BREFNQkFBSUFBd0FBQUJBM3Z0Ly9BUHlaVjU5aEpEQkJCQkJWNTVkeEJCQUF0YmlERERlV0lNdTF0dGRKbHA5VjlsbFY1Wng5Y1EwdzRNUWVRVWc0QWM4VXdNa0U4d2tzTU1JOUVjczBjQVk0UTBJQWM0NE1rVWNvNDhBN2Z3Sng4azQ0QVVVWUljb0U4NDhJZ29jUWtnWVZHODlQMDQ0aytRZ0hzOG80RWdVa2dBMDBvSVFqK3NQek1NK0ttVzMrMmVTR2dnUUEyQ2c2ODZIcm94ekREclh6V3lpQy9YRExVSGVGMGpIbGdleFo5OUI5bjNuRnBWcFBIck5wd0UvTjFqUk5lZHh4Rk5OeFRYVnhCVnRSM25BSFlRVlp0dEo4eEJkdGRsVk1lRVFRYk56UFpmWWs4c3puRG5BRlFkOTFGdTd6QVlNRXExRDRVTllvb2dyWGdCZDVZNUZxOFZOQm5zQVl3a0tNZWtjZzRnOTBvN2hSY1duSkY1bUJ6ODh3N3lrSXlZd284a0FFVUpMMEF0OXhkQjJEUHFudE83N2JqSlFQYUZ2am54ZHVrTUp4eEJQREJ0Tk5GcDlGcDd4Q0I3RGZ1WGlZb0FnWkpGVHpwTmhGTnpCUmhuOG9iSGY5QzZPQ3NpaGg1eHhONWRsZFJxMXBTY29kajdqWEQrcVNVR25CZGdZQUhodEZrYW9TWm9UamJESHR4emQwKzhENHRKaEJOMDg0YUZmSzBnR0NqREJNT3hicWtnOHhrdzR4em5ySFRmVGJ4OVo4RERSVHpRcVlzWWFpQkFvd2xkQnhEN1o5dHNMRERqZGVua1VxcWdNaWVQNE85NVJwWVFzTTBmakRESEVvODhVb01BNE11cDh4QkRWRWM0d2M5L3JERFh0cWtTQ01FRWtZNE8velpkQjU1QlVoNVI3REREeDlxQUYrU2V1dzBvbS9WcFpWNTRjUkM1UmZITGpONU1EZCtjaVlRMEc4WlFNa3VnQkFWRk5EOXJEaTB2QmdRQ1VjQXdXQ2dBOC9BaEM5OUFEQkRqRGNkZUE4Y2lnOEFjQSsvOFFBSEJFQkFBSUNBd0VBQUFBQUFBQUFBQUFBQVFCQUVUQVFJRkJnLzlvQUNBRURBUUUvRVByc2ZUc3pDM2p6Q09nalNOSmJ4dU5XYldkbUlGMXJuVnJuVjhjak0rSWFXa2NObzRkTDV4U1lNTkJ3Mmh3MFhVSTYvd0QveEFBZUVRQURBQU1CQUFNQkFBQUFBQUFBQUFBQUFSRVFJRUF3SVRGUWNQL2FBQWdCQWdFQlB4RCtFTDhLbEtVcFM3M0R4Y1hsZTg2NTF6MW1FUE0xUXllRjNlRjRVWGhTNko3SVo4aXVqb3FUZHJZV2tKbVl2SGMwcFNsTGhQc1MxdkxObnF1Q2J0bTRUNTJyc3ZDRUlRZ3Z4R042dm1ZeE1YZ2lFOTJQeUxoWXo3RUo0SjhTL0lzUW15NGpIK09walErWDBsOTVmaC8veEFBcEVBRUFBZ0VEQWdVRkFRRUJBQUFBQUFBQkFCRWhFREZCVVdFZ2NaR2hzVENCMGZEeHdlRkEvOW9BQ0FFQkFBRS9FR2N6Wmh2cnpwdDRXVm9TVi82cmpwWDA4N1E3NlZPZGE4SEVUV3RGU3ZEWC9ndVhyWDBhanFWcno0K0k3ZURtVmNadytsY3Z4WExsNkdocFd0YTFLMVFicG9hOC9RZEhhZCswRWEyMHNDM0JFcUdWR0ZFejRVWERPMHBpQnBVeExqZmhycDRhaWFWS2xhdkpHRHBmcWpkT3FpRXNqQWUyZDUzQ080UjNDRVo4K2NBV3o5cm43WEwvQU5RbFNWY1lMWW5HekxCaWdUckRpV050RjFtVWlxREoxZ1ZlZXNGTEtIdFA1VS9pVCtSUDVFMkxUM2lvcUh6UnE3R1dJM01ZZzRWU1dabllQV2RnOVoyVDFnUzl4cUNiUkNjb0x1QjVzUlJMSFJuNngrWjMvby9NNy8wZm1kMzZQekxXN2hpRnNpVHNUOXhwbm54KzQwejl4Sy81b2kwN3d4VW9qbGJrdTE0NGVTWmdBemtudFlvS2xHNVA0a0ZqZ1hnbitFMnZPVzEyTXRUdityK0k0Z1Zid1RBVUFiU3ZSaEcxUjIzcU05dkF1R1c3b0pWVGViL0luMU9qYTVTY0pYNnFmcC9FL1QrSituOFMxN3BjNXZVK0prazVIOFJZR0c1Vmt5V29jcGhLQUFGVUhNRmpBS0xKdHJpVDl4S0ljTllpeTkwUWJLZVZxNHFIQTFMZ04xR0kwZVZLcEpoTmpzN1hFMm0wN1RzZW1ZR2pWb2ZFYjFsdVpMZ1p4UDNFL2NUOXhQM0UvY1JMSERtb29GclIxWmszR1pScHV3b2JiMmpxcTF1TDNsakJsYnZTSXdVOVhCQUUydjRqcHlxY1F5RnpJQ09yU2U2UWJYZUNlMklWc0ZLaXY3eXY3d2ozNUEwM2VJUGUwZk93V3ZUUHZHNmdHc3Mvc3Y0bjlsL0Uvc3Y0Z3JRMVo5NXUreVZBbVVNK1UyVzdubGlncnJ2bC9FSGpzTUwxNng2Q3N1V0NsMjd2K1M4NHRmeUpiQjhraXFNdks5b3JIcTNLVnV6SDNJS0YzaSt6SytzNlBZZmVLaHU3L21FMmx2Umd0cFQwSXUwSGJ2QXduWWgwcDJmZWRROTV4Rys4b2ZKT1dWZkhZUnZPT2cyZ2p2QlY4UTNFZFBEQ0RzbVdHSjI4bDdRRVd4M2dMN2xsUDZqKzNzS01xK3pCSUlwdkxwbVZTejJpRjRtRGVibmtRVXdUV1psYWZhR21kQm50NEc5VDUyYytYL1NlNC9CUDJEOFQ5Zy9FUWJLY1ludWszZlpCWi91MGR1TkFIdkN0WnNWMnVDYjJPSmJvSzIrY3hBSjJCeDV6Q3lXdkpLcmNTOTJGN0JjRXRUa3dzRDduYUdZc2pFT3FLVWJ5VE9CYnkzT2Y3Y1VmeHd5eXlxekIrLzJPWlVLVzlxM2hRWXNJekJ0VnpIcEJhdUlqK3I3UlMxejEzaVZnMjBZR1JYYUNrd2J2V0RFRzJiMmw2RTZoT3o2SitvaUFDWFloY3FXQlJFeGEzWXFmb1Q5OGk2QVYxalJKdUJPNFJUMllqYmExOTU4NmUzaDZlaytkblBsLzBudVB3VHVQU2R4NlFnQk56M1NidnNuN2ZLYnZzaGxGZVk3M0NuRGZGcktlZzRsendIdkQ2Z0RsaTJjMk8wL3N2NGd3UmhaVVIzOXI4VGRsb3RsL1pMb05JanpFcDRtRWFPbUVJcXk4b0FxRllUZEd1am1CRERqRUFGQktxV1ExcHFVb0tPOEZSdExkSWt1RHZHZEVSdWNzdlhrMmxhdHZrbVBISjVNQVVTdkV5MGR2eWxabE1QTmdHY005MG1Gcm94UGJFT0RyUkVmdFB2RFdIRkk3czhqUGJ6ZSswK2RqdisrU2U0L0JEL3RKL2FTOXh5YnR6M1NidnNuNi9LYnZzaFV3Y3J0MW0xK094Y1JRUkUyUG5DT3VTMFZidyt4SGN1VzUrd0lOQTBic3BsT1JoSE9WU2doWlpYVW1VUnpldkU4bWFMWERzbUNtSGRQSm5xb0ZZcUxaWm5RZ3JmVXE5eksyMUZYMmdnc21FekxiK0VvQnpsbEFjeHh3NTQ0WXAzT1RwSE13bnB6RHdtRlk0U3ZyTzA5NXBGelJ2REcxK0c1VTJ2dExEQnltZTd1eFBuVDI4M3Z0UG5aejVQOEFTZTQvQk80K3M3ajZ3Rkh2MVliODVtNzdKKzd5aHd2SWlEVFRrKzhNQU5uTWRVcFlKR0lBcE80OUloeTR3dWR4NlFrSWxWVkFJdm03c1NvN3NJb3BFMzk0T2pJNzJUOWcvTWJVekRjbVRzbzVKK3dmbUdsUmRYWkdURm04QnFGS3ZOMExCVTlLV2ZWeExsN3IyaEtyZzE2UVRrODVzSTkyeE4wblZzRWVsWDVsNXl1aS93Qmk3dFhmSjZ5dkdpTVZQMEozSHJDUUVWMVo3NGlLQWc3dk1PZVJhWEZPbmIzMm56c2JmbFB5UzgzemQzVXU3QUhMRUMzSEVDZzMzQ0NGN3d1Vll4UGpmRUZ2TmNPMDdmbWUyWituM2hPMW94dk1mZFFybGJmT1Y4U1l5bUhHYmpVQ2diZDlPUVJ2Yjh5dDZMNUdmeVg4eDJRS3ZCS1JJcThrL2t2NWdIRU40SVVCM2lUZzRDMW5PKzVMZkRwZFZVWjVHb3E4eUxjekZXSmZzMUtobXdEaUc0dHBjTkFBOHFZZ0s5Q0xaZmdSUzFrS1VVNzcrc3dyWjBnMWVHNE4yRkJRRlpHNWVZQjJzbWZXY1hWM0hTRklxbGJTOEZaREwvOEFZamlnOWdoUnBoN0U5NGZNcFNsdUZtVEhSK1lzdFY2b2dBVUFIYWQ0Qkpla1Z4VEhmOUtOSFE2UmU3YTIxR3A3UFFqZGVsbk1HYlV6bmZHTmdqNU4zTTJRakN5KytDL01peFRrbGZNMUtoRFBMRGRIVmlWb2lTRk9WcUFraFFXTVZ1SmNHQ1QyR2QxNk1lcWZ0R280dDkyVUpFMVJBc2x1eFFsblI2d1RSRmVVNEczdkFseW1BRTd4UEtMeHUrSWRzOGtEMFpUb3lwQWVwUDBTWGNyS0lnbG1GakxIS0hlQldsVnV1b1dPVjRpRzduRTgzdEE4c2NnY0hTQnpBelVVUXZNN0l2ZWZOS2dVT084djBWNVFTRE41akRZVGlKZU1PNU1odTJVN1MwSktOUUNUYWJTcWwzWWx6Y1NlYjZ6emZXR3dWRm5saU9JdWJORndjeGFhclFvOFI3VDdTNVNXU3lYTEpjR2NUSEpIcmN5aHZqcU1yN1RCTVJBTitkQTA0WWNhaW90TkRpNmpBWlN1MHJ0RUMzQkZ4TUVNYVhMbDZQZ0dXcmtqZCtGTEZQTHdjNmpPRjJtNi9BY2szZUIwQUVZN2dvZ3NsMGRZR0RNcVYzZ1RaekxibWVhSEJpSkJLb1puZnBMZzdkSnRMbHhkTGw2dW14anAwaVUrTkxFTm9sZUZTNnp3YlhuTjd3WEZ2TXNEZ2dLRXJFclFONEZZaE15c3crMm1EaDgzcTZSVld0dmd1WHJjdndPekJvL1NJZHlkR0ltcHROendiU2JuVTNoaDdFd2pJRHE2c1RhTTJmQVRScnRGYU1IYjZseTlIYURPakYyMHFWOUJEQjRpeDAzK0RlUjMxTkR2RmdOTWoyOENUWjFCemw2U3hiT24wTDF1dFFYYUhYcGVuUFFsdjdoMEltQ0JVczh6Snc5bUZJSnMrRmFMWEJFWENaWGdqMzFHamRwVkFMWFdPTmVqQkpMRWp2cWJIYk1XL0pwZWZZOER0SGhMbFhJOVkydHJhNlg5RGJVVHhBbThHTERFcURsMjAzZmYva3JHbDF6VTk1T0VJZ2N4UVlaZGlleGpyY2ZveFFORHpBcktCTUd1OUhCY1d6N0ozSHBEdWZ4QlVTMmJySVE1YlBsR1ZKU1dyTm94Q2N3aGxXOTJZaXVBdXBoc0RwRGl1L01kcGt6VXdHSHk4QVBlZHBkWW82TVZsK01UdEFtODRpanF6SnVYcXpnRXpSYkdXMFMwYkt2bUZTQmFtSXQ3VjdUK3kvaVZ4SThMK0lHTUtlWi9aZnhMdjNPRmp1YjYrMzA3ZDhueG9qNVFVSks3SHpoKys3ZG1mdVpZMWM3MnhYZVh2UDNNL2N6OXpQM01RRTJGSm1tekxvdnBCaE1SNXB1K1pOdnpZTFc3MGlGcndxdk5tNzVuaXF0bUMyYkFVZFprOTN2TFhiVGJwUjFUY2JCMWlzNWd4eTZNMjIrVjE3UVpvUzlLZmlZWXk1S0NiUkx1OGVVS2hjMXcvRStjbXo5OWZhNmM1UFZsUDJuYWl2M0lTT0Fid21IbnRCZHFPOHBlTzc1U24zUGhLbUs0Y3dpZ1VkbkVkUkJYV0pGM0YrMHJ6TE8wdUkrczJtSWo0MFVOenJLNWQvRmo1OCtONFpYZkUyaGpxek51WHZGZU1lRGhveDNCSFYxb1RZOGtRT2g5cG1HdHhFQW1SWDRtNzcvOGpHaHVnSjg1QkZDK2x6ZmJSVUhiVGxhMnVibmNlczdqMWh0WlN0NWdXcnVMUTMrRU5jTGszd1MzS3k4SGFJS0JUYzlvL0xGYWhkekJ0OVptNUlZRnNOb1FTcGMyUEpQWWZobTE5QnZZZmhteG9yNVMxb1d6S08zMmw5Tm9hYm5SWTVUUXNTbUdDZ0N1bk0yUEpGU0Ntc2FNTUtVNnhSSVYwZ0tPMUN1cUYzaU9DTnZNc3E1STI1SlV0OGFjQlk3S2ZFL2tUK0JLV0xJUHRIc2NreFUreG5lSTd4SHc3VHZFZDRoL3AzZUtsUkptaVU2U2pwQXNsdlFqSzdXWis1Mlp0ZVBpZEUvVTdNQ2hVRTdzZHpnZElBS0VwNW1abVowc1dqdE53WnNhWmdEYnZmOEFrMlBKRXpRWDFxVzQxREVDT0MySUM2YlN6cVJadWJNczcrTDNIM2JnVURZS21aN1RUdDd5ZUFROWhEYVJsLzhBVEwvNlk2WWg3ejJqOHN6dFY2Vkwvd0MwajkzSjFsY2JMNnk1M2oxaXEyNVdGdE1DTUpJS2J6TUI0cnVXVHNJd2tncHZNQWdWM1ozaDZ4dDMwdVhLbFRtYjNaaUVXRlRNT3Y4QXAvazJQSkJlVVhNVEFQWW0yVnFvL2lReFZvendQbUNSYTZ1c1FMUUhlZGpPeGdrRzYyMDVBMXdDZkU3ZWR2TzNsUkk0VHZ5Nzh1L0x2eUFwWHl1SjM1ZCtYZmtUWUt6YTRhQmc2eXEwTnljR28zeFVWbmd2UlhzYUlYQnhiNHFPVjRjR2JURXhNVEdsNk8wSHFoQUE4YVhQOXY4QUpzZVNkOUdWMkp2YWpsZDJXVndQWWhwSElxamtna1RzZXNjZTRIREMwYmd2d00zQ2dsdHZNZkpMMDhITXpnamJ6TmpGbDFINy93QlQ5LzZsRHVtcXFwN1IrV1doc2RybjdmMUFNNThITDNnT1h3TVZiT25hSVhISllhSW80MHVBdTBFN3hERzNXVzRsbnlSQzQ1TEc0Q3IwNVNBTFBCeHJSMnd0anBjQ2o0TGphVndtMENodDRPWXQ5d1BRbjZBZEx6aWVUck1KTFhQSkdoTnRqcFA2TS9veitqTC9BT21iZC9YTDZ2WEw2dlhQUDY0dUZrT3J0Q0U0SzBxRlQyZ2RVbzRxYm5zUU1jdmhGYkZiNExqbmVVSEdsMlMzSkRyZ2RDRnY2SUpWR0FnOUFUdkZiRzVqcktNRzhWVzVrU1hMbHhkV1VlRUdEUzR5Q3laOW4xamZmemdBb0tQQnQwOTRiUW9sVkhRWmRuZ3ZTNWNBaUxIaUlaYkR6aEtWSEwxbTMwRmoyUWlKa2x1NkxnRnlRdnRMUm9iUlk2VHpqTm1YcTdmVkplaHc4QWRDSGhNdFJucEhieDNvMlZZbUpObUxOMmh1SlEweTdxT0pjdUVWb2NjeTdhSlNiNlhvYVZLbFN0S0pVclU4bzlKVXJVaENWS2hIVjZTNUw3VGp4M0RNSjlpTGNCTnBhSnhGVklNZDRKbGtxcE0xa28zZ2lWRXJhWnZhSExNRW04eTN3eEk0ekx2Y1pzMmxzT3FOUmVrR3dmbzNONVUybFNwVXFWcDlwYzZoZXZTYnFxcXgraFUyQ1dXcHZIZlROaFp6S3pVcm5FdVBLUGR3eEJFWG1PN3JpRnFpV055WmRxZ2RtR1F1VVlpUFJLTm9GbWhNenpUenp6eXZXVmxlc3IxOEJyS3lpV09taFVXb1RwWGt6Ynh1cEhvQjNxVTU1bTJtU1pZNUpZb2tKSlpGSTdWWktKdkE2d04zdEVsSE1BMmlTMDJndVNNaDFqS0hSTVMyV2xzdEZTOEhMN3hYV1g2c3QxWmN1WEFMWDdSak8zVHdYOURkQUY2M0Y4REswUnpOUkl4c1c3UjRSWTNkZFpuTXBOSHNsTVNKRVpUS2VHTjlKUkNqMmlWQ3ZRS2ZDemk0UXRrY1M1Y1RaTGxiOUVWVzNmNndLckEyRG9iU29aN3hyMklTY1JLc1FSZ2hmS3B4Q2RYVlEzbERIUWRGUTAzRlQ1NkN5Wkd2Q1BESzZTMjZpeTR1SWwwNjd6dno0YitpWUJnVzFWRVN0TzhGWVZsTWlKR0RNNkpGMm1Pc3VLbzdabTVXWXFSZ3VHRFpITXcyWmhPNllZOUVSZ3MybTI4T0RwWWQ0aWJ5cFQwaUp2S2dwREx0RVp1amZsSDdEcEhRVzFFV3M5U015OEw0a2N3QkxlWFc2MFdwbnpIZVdPc0Jva3FBTm9CNndLVE1XOUY0SWNRV1BUMWJLU0NwUk1rN2lJWVlseTNTQlc2U2poSHJ6Z1hLZFBlTXBXWVY0dVBFRXRBbGx6S0RCb2liNmJvbEY1eWlJdjBxODRtQUNYR25lWUlDdG1HazZNeHpLSU9ONWRtWmNXOFJWN1FLSXloN1NueWdIbUpaVEJhb0k1aDFFRTVnZ29URVhEM011N0RMZG9zbDI4QTVXZHIzaDBFYU4wcnlnbDI4c3kwMndYeUpRRXAzV0cwSE43eFJlOHRHWStjdTlCTmhnL0ZURFlQS0pjc0dyWDI4Q0Vjd2VZTXZSNGlLbCtFM2dwZHZBb3hveW8rSlVFYlJBb1ZPMHJRNm4waDBvQTJEUlVxVVRFYTRnMURTb1FBYkVxQkt4WEVCN01wYVFpM0VPUzJBMkNVREw5b1pneEZZcTdzR29kOVhWb096QTI2U2hDMGRrWWExQXVYWllBMVFaVVNiTnpJdlN0SzhGa1NicEU4VytSTHRqMWxybXZLVjFXQjRiSWtqMEVVODYvWVFHb1RsTGw2ZEp1ZGRpQjVnZDR2elFIQmlUZmZUWnJXa2FwcTZPbXBjdWJ5dEhwRmx1d0VzN3I3UURqeFhMbHk0c3VYTGx3MjdRSzRUbnJGdndrM1FnNVRuQmlCQWdaaExTelFodEtob0E4RlJJa0M1dHRGbzFaS2RVT2t3NzhPcDlDNWVsMW9XWExseTRaYW52RkY4UkhmUVlyaERRMmhWQkd4cGh2cVZVR29PdGFNcVZpSkFTbU9UTEszUkRqRnM1TWVLNWN2UXhjdnhOSGRpMzlVTkNaU2JvYUZlSmhBcU1QQmZnY1MzRTJReldaSkREV3BVclJaY1dYTGwrRytZcmZxYjVzMWxnZXN1ZytCQ0kwYlJsK0pJTVZMRnpkRFpLZ1FJUWlDbzZQaXVMRit1UEpIZURKMWpHSWJDTGx5NWMzbFNvS2hyektsUkpiWWx5OW9FS1N3aXkrc1Y2R0VsZUZaY2Zxam5XRkFrdUM0MFFZUGJUdGhBeTRNdU12UllSbFJpWW1RTnRMcmFMRnJSZWhLdlFyaU5JbGFMRjAyZ2lwVUxyV0h6K2tieHkwcGJYTGc3ZUJWSzREaUVrbWhhRGpSM2hyVXFHeXBZUkhIaUVxQktnTWJ5NW1McWRPeGhFUWVJN1FrVGJaNXgzK2s2aWlhclFXbmZVaENrSUl1OW9KaW9NdUdqcXkwSkw1OFJNRzhla2x1Vm1KdHVFR3RVdnJCWlNabTdXZ2ptRWdja3ZGUXdpYmt5VDEra280dEtyOWZBYURGT3lKQzlQTFJlbGFPak1UdzRONDhDYjZLRVpGQnVGemVlekdNK2lJalRxOVFsUkszZ1hDbzd6YmFYcFRLcndFV2daa09uZ0lRSmFLMklwRHBBcGdabGVHb2tEUW0yN0hwbThDYmFqZHc1dVhOdU9JNWxLNlFiOVlHWW1lc1NtS0x1c2liSlZyU0pNRVY2a3BRUTRlQWpwZ3dpV2pyQllha0NFSUNCS2xKWGpZeGxjc2E0aFplaXVoYm9GdEVCZ1lTalk5NVNkdDh4YzhZbHhYUVhEYkVjUlRvK0M5VkY4S2ppaEtnT2ZGTFZjMzhURWxTb2kyNnJHRnk3ME1MWUpoUUZTamJiSlE0UzR2cFMyRldORlRveUxqNHVaVDRTT0tFdU8wcVZyd05aQ1g0blc2Si8vOWs9IiwKICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cub3BlbigiaHR0cHM6Ly9zbGVhenlmb3JrLm9yZy9zY3JpcHRzLzIzMzE2Iik7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHZhciBhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7CiAgICAgICAgZnVuY3Rpb24gcGxheVNvdW5kKGJ1ZmZlcikgewogICAgICAgICAgICB2YXIgc291cmNlID0gYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpOwogICAgICAgICAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyOwogICAgICAgICAgICBzb3VyY2UuY29ubmVjdChhdWRpb0NvbnRleHQuZGVzdGluYXRpb24pOwogICAgICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7CiAgICAgICAgfQogICAgICAgIHZhciB0dHNzPVsi5pyJ5a6277yM5pyJ54ix77yM5pyJ5qyn5rS+Iiwi5pyq6KKr56m/6L+H55qE6IOW5qyh5piv5rKh5pyJ5Lu35YC855qEIiwi5beo5Lmz5Y+q5pyJ5LiL5Z6C55qE5pyq5p2lIiwi55S35Lq65Y+Y5oCB5pyJ5LuA5LmI6ZSZIiwi5Li65LuA5LmI5L2g5Lya6L+Z5LmI54af57uD5ZWKIiwi5b635Zu955qE56eR5a2m5oqA5pyv5piv5LiW55WM56ys5LiAIiwi5Zyo6Jma5p6E55qE5pWF5LqL5b2T5Lit5a+75rGC55yf5a6e5oSf55qE5Lq66ISR6KKL5LiA5a6a5pyJ6Zeu6aKYIiwiIOiDuOmDqOS7gOS5iOeahO+8jOaYjuaYjuWPquaYr+ijhemlsCIsIuWLh+Wjq+WWnOasouW3qOS5s+acieS7gOS5iOmUmSIsIuWTpeWTpeiuqeW8gO+8gei/meagt+aIkeadgOS4jeS6humCo+WutuS8mSIsIuaIkeS7rOeahOWuh+WumeWFhea7oeS6hui0qOWtkCzkuK3lrZAs55S15a2QLOi/mOacieWltuWtkCIsIuacieS4quiDveW5sueahOWmueWmueecn+WlvSIsIuWPquimgeWPr+eIseWwseeul+aYr+eUt+WtqeWtkOS5n+ayoeWFs+ezuyIsIumBk+atieaZgumcsuWHuuiDuOmDqOaYr+W4uOitmCIsIuaIkeWwseaYr+WPq+e0q+WmiOaAjuS5iOS6hiDmnInmnKzkuovnqoHnhLbku47miJHog4zlkI7lh7rnjrAg5oqK5oiR55qE6IS45oyJ5Zyo6ZSu55uY5LiKYXFzd2RlY3RmcnZ0Z2h1bmlqb3Bpb2lqb2hudXlnYnlmdnRjZGVzeHdlZHJmdnRiZ3V5aGl1bWppdXl2ZnRyc3NleHJ5YnRnbnl1aG0iLCLlj43ln7rlpI3lpbYiXTsKICAgICAgICB2YXIgdHRzUmFuZD1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdHRzcy5sZW5ndGgpOwogICAgICAgIHZhciB0dHM9dHRzc1t0dHNSYW5kXTsKICAgICAgICB2YXIgc1VybCA9ICJodHRwOi8vdHRzLmJhaWR1LmNvbS90ZXh0MmF1ZGlvP2xhbj16aCZpZT1VVEYtOCZzcGQ9NSZ0ZXh0PSIrdHRzOy8vYGh0dHA6Ly90dHMuYmFpZHUuY29tL3RleHQyYXVkaW8/bGFuPXpoJmllPVVURi04JnNwZD01JnRleHQ9JHt0dHN9YDsKICAgICAgICB2YXIgcCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICB2YXIgcmV0ID0gR01feG1saHR0cFJlcXVlc3Qoe21ldGhvZDogIkdFVCIsdXJsOiBzVXJsLHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJywKICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Db250ZXh0LmRlY29kZUF1ZGlvRGF0YShyZXMucmVzcG9uc2UsIGZ1bmN0aW9uKGJ1ZmZlcikge3Jlc29sdmUoYnVmZmVyKTt9KTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGNvbW1hbmQ9WzcyLDY1LDkwLDg1LDc1LDY1LDgzLDcyLDczLDczXSxpbmRleD0wOy8vImhhenVrYXNoaWkiCiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgaWYoZS5rZXlDb2RlPT1jb21tYW5kW2luZGV4XSkgewogICAgICAgICAgICAgICAgaWYoaW5kZXg9PWNvbW1hbmQubGVuZ3RoLTEpewogICAgICAgICAgICAgICAgICAgIGluZGV4PTA7CiAgICAgICAgICAgICAgICAgICAgdmFyIG5vd1ZhbHVlPUdNX2dldFZhbHVlKCJoYXp1a2FzaGlpIik7CiAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoImhhenVrYXNoaWkiLCAhbm93VmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGlmKG5vd1ZhbHVlKXsKICAgICAgICAgICAgICAgICAgICAgICAgcC50aGVuKHBsYXlTb3VuZCwgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGluZGV4Kys7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgaW5kZXg9MDsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBjb25zdCBtaW5MZW5ndGg9MjU2LHRnPTAuNTsKICAgICAgICB2YXIgbGFzdFgsIGxhc3RZLCBzaWducywgbGFzdFNpZ247CiAgICAgICAgZnVuY3Rpb24gdHJhY2VyKGUpIHsKICAgICAgICAgICAgbGV0IGN1clg9ZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLGN1clk9ZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZOwogICAgICAgICAgICBsZXQgZGlzdGFuY2VYPWN1clgtbGFzdFgsZGlzdGFuY2VZPWN1clktbGFzdFk7CiAgICAgICAgICAgIGxldCBkaXN0YW5jZT1kaXN0YW5jZVgqZGlzdGFuY2VYK2Rpc3RhbmNlWSpkaXN0YW5jZVk7CiAgICAgICAgICAgIGlmIChkaXN0YW5jZT5taW5MZW5ndGgpIHsKICAgICAgICAgICAgICAgIGxhc3RYPWN1clg7CiAgICAgICAgICAgICAgICBsYXN0WT1jdXJZOwogICAgICAgICAgICAgICAgbGV0IGRpcmVjdGlvbj0iIjsKICAgICAgICAgICAgICAgIGxldCBzbG9wZT1NYXRoLmFicyhkaXN0YW5jZVkvZGlzdGFuY2VYKTsKICAgICAgICAgICAgICAgIGlmKHNsb3BlPnRnKXsKICAgICAgICAgICAgICAgICAgICBpZihkaXN0YW5jZVk+MCkgewogICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb249IuKGkyI7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbj0i4oaRIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihzbG9wZTw9MS90ZykgewogICAgICAgICAgICAgICAgICAgIGlmKGRpc3RhbmNlWD4wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbj0i4oaSIjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uPSLihpAiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKGxhc3RTaWduIT1kaXJlY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICBzaWducys9ZGlyZWN0aW9uOwogICAgICAgICAgICAgICAgICAgIGxhc3RTaWduPWRpcmVjdGlvbjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgbGFzdFg9ZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYOwogICAgICAgICAgICBsYXN0WT1lLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFk7CiAgICAgICAgICAgIGxhc3RTaWduPXNpZ25zPSIiOwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCB0cmFjZXIsIGZhbHNlKTsKICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsIHRyYWNlciwgZmFsc2UpOwogICAgICAgICAgICBpZihzaWducz09IuKGk+KGkuKGkeKGkCIpewogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGlmKHdpbmRvdy5jb25maXJtKCJcdTY2MmZcdTU0MjZcdTc5ODFcdTc1MjhcdTdmOWVcdTgwM2JcdTAwNzBcdTAwNmNcdTAwNjFcdTAwNzlcdThiZWRcdTk3ZjNcdWZmMWYiKSl7CiAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoImhhenVrYXNoaWkiLCB0cnVlKTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJoYXp1a2FzaGlpIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgZmFsc2UpOwogICAgICAgIGlmKCFHTV9nZXRWYWx1ZSgiaGF6dWthc2hpaSIpKXsKICAgICAgICAgICAgcC50aGVuKHBsYXlTb3VuZCwgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIEdNX25vdGlmaWNhdGlvbihub3RpZmljYXRpb25EZXRhaWxzKTsKICAgICAgICB9CiAgICB9Cn0pKCk7Cg=="},{"name":"Smoothscroll","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://*","https://*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-load","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512556},"enabled":false,"position":20,"file_url":"https://greasyfork.org/scripts/7018-smoothscroll/code/Smoothscroll.user.js","uuid":"844356cd-4a5c-499b-b188-acf57925771a","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgU21vb3Roc2Nyb2xsCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly8qCi8vIEBhdXRob3IgICAgICAgQ3JlZWMgV2luY2VwdG9yCi8vIEBkZXNjcmlwdGlvbiAgU21vb3RoIHNjcm9sbGluZyBvbiBwYWdlcyB1c2luZyBqYXZhc2NyaXB0IGFuZCBqcXVlcnkKLy8gQG5hbWVzcGFjZSBodHRwczovL2dyZWFzeWZvcmsub3JnL3VzZXJzLzMxNjcKLy8gQHJ1bi1hdCBkb2N1bWVudC1sb2FkCi8vIEBncmFudCAgICBub25lCi8vIEBncmFudCAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQHZlcnNpb24gMi42Ci8vID09L1VzZXJTY3JpcHQ9PQoKaWYgKHdpbmRvdy50b3AgIT0gd2luZG93LnNlbGYpICAvL2Rvbid0IHJ1biBvbiBmcmFtZXMgb3IgaWZyYW1lcwogICAgcmV0dXJuOwoKLy9ERUZBVUxUIFNFVFRJTkdTIEhFUkUgCi8vRE8gTk9UIENIQU5HRSBBTllUSElORyBIRVJFIEFOWU1PUkUsIFVTRSBTQ1JJUFQgQ09NTUFORFMgLT4gQ09ORklHVVJFIFNNT09USFNDUk9MTAoKCi8vU21vb3RobmVzcyBmYWN0b3IgdmFsdWUgKGhvdyBzdHJvbmcgdGhlIHNtb290aGluZyBlZmZlY3QgaXMpCi8vdmFsdWVzOiAxLShpbmZpbml0ZSkgKGRlZmF1bHQgMS4wMCkKdmFyIHNtb290aG5lc3MgPSAxOwoKLy9TY3JvbGwgc2Vuc2l0aXZpdHkKLy92YWx1ZXM6IGFueXRoaW5nPyAoZGVmYXVsdCAxLjAwKQp2YXIgc2Vuc2l0aXZpdHkgPSAxOwoKLy9BY2NlbGVyYXRpb24gc2Vuc2l0aXZpdHkKLy92YWx1ZXM6IGFueXRoaW5nPyAoZGVmYXVsdCAxLjUwKQp2YXIgYWNjZWxlcmF0aW9uID0gMTsKCi8vUmVmcmVzaHJhdGUgc2V0dGluZwovL3ZhbHVlczogMzAtMTQ0IChkZWZhdWx0ID0gNjAvNzIvMTIwLzE0NCA9IHNhbWUgYXMgeW91ciBtb25pdG9yIGh6KQp2YXIgcmVmcmVzaHJhdGUgPSA2MDsKCgovL0FsdGVybmF0aXZlIHNjcm9sbGluZyBtdWx0aXBsaWVyCi8vdmFsdWVzOiB0cnVlL2ZhbHNlICh0cnkgdG8gc2V0IHRoaXMgdG8gdHJ1ZSBpZiBzY3JvbGxpbmcgaXMgdG9vIHNsb3cvZG9lc24ndCB3b3JrKQp2YXIgYWx0ZXJuYXRpdmVfc2Vuc2l0aXZpdHlfbXVsdGlwbGllciA9IGZhbHNlOwoKCi8vQ09ERSBTVEFSVFMgSEVSRQoKdmFyIERFQlVHID0gZmFsc2U7Cgp2YXIgV0VCS0lUID0gZmFsc2U7CgovL2NvbnNvbGUubG9nKCJMb2FkaW5nIHNtb290aHNjcm9sbC4uLiIpOwoKdmFyIGJhc2VyZWZyZXNocmF0ZSA9IDYwOyAvL0RPIE5PVCBDSEFOR0UgVEhJUyBFVkVSCmlmIChzbW9vdGhuZXNzPjEwKQp7CglzbW9vdGhuZXNzID0gMTA7Cn0KCmlmIChyZWZyZXNocmF0ZSA8PSAzMCB8fCByZWZyZXNocmF0ZT4xNDQpCnsKCXJlZnJlc2hyYXRlID0gMTQ0Owp9CgpmdW5jdGlvbiBJbml0U21vb3Roc2Nyb2xsKCkKewogIAogIExvYWRDb25maWcoKTsKCiAgSW5pdENvbmZpZ21lbnUoKTsKCnZhciBzdGFydHBvc2l0aW9uID0gZmFsc2U7CnZhciB0YXJnZXRwb3NpdGlvbiA9IDA7CnZhciBwb3NpdGlvbiA9IDA7CgovL3ZhciBzY3JvbGxmb2N1cyA9IC8vc3MkKCdib2R5Jyk7CnZhciBzY3JvbGxmb2N1cyA9IGRvY3VtZW50LmJvZHk7CnZhciBtb3VzZW1vdmVkID0gdHJ1ZTsKICAKLy92YXIgbGFzdExvb3AgPSBuZXcgRGF0ZTsgIAp2YXIgbmV4dExvb3AgPSAxOwovL3ZhciBuZXh0cHJpbnQgPSBsYXN0TG9vcDsKdmFyIGR5bmFtaWNmcmFtZWRlbGF5ID0gMDsKdmFyIGR5bmFtaWNyZWZyZXNocmF0ZSA9IHJlZnJlc2hyYXRlOwpmdW5jdGlvbiBmcHNjYWxjbG9vcChhbmltYXRpb25kdXJhdGlvbikgeyAKCXZhciB0aGlzTG9vcERhdGUgPSBuZXcgRGF0ZTsKICAJdmFyIHRoaXNMb29wID0gdGhpc0xvb3BEYXRlLmdldFRpbWUoKTsKICAgIC8vdmFyIGZwc2NhbGMgPSAxMDAwIC8gKHRoaXNMb29wIC0gbGFzdExvb3AgKyAxKTsKICAgIC8vbGFzdExvb3AgPSB0aGlzTG9vcDsKICAgIC8vCiAgICB2YXIgZGVsYXkgPSB0aGlzTG9vcCAtIG5leHRMb29wOwogIAkvL3ZhciBmcHNjYWxjID0gMTAwMCAvICh0aGlzTG9vcCAtIG5leHRMb29wICsgMSk7CiAgCgoJCgkvL3JlZnJlc2hyYXRlID0gcmVmcmVzaHJhdGUgKyAocmVmcmVzaHJhdGUwLXJlZnJlc2hyYXRlKSowLjE7CgkvL3JlZnJlc2hyYXRlID0gTWF0aC5yb3VuZChyZWZyZXNocmF0ZSk7CgkKCS8vYW5pbWF0aW9uZHVyYXRpb24gPSBNYXRoLnJvdW5kKDEwMDAvKHJlZnJlc2hyYXRlKjMpKTsKCS8vY29uc29sZS5sb2coYW5pbWF0aW9uZHVyYXRpb24pOwoJLy92YXIgcmVsYXRpdmVyYXRpbyA9IE1hdGgucm91bmQoNTEtc21vb3RobmVzcy8yKS8xMDA7CgkvL3JlbGF0aXZlcmF0aW8gPSBNYXRoLnJvdW5kKDEvKDErc21vb3RobmVzcypiYXNlcmVmcmVzaHJhdGUvcmVmcmVzaHJhdGUpKjEwMCkvMTAwOwoJLy8KCS8vCglpZiAoYW5pbWF0aW9uZHVyYXRpb24+PTApCiAgICB7CiAgICAgICBuZXh0TG9vcCA9IHRoaXNMb29wK2FuaW1hdGlvbmR1cmF0aW9uOwogIAkKICAgICAgZnJhbWVkZWxheSA9IE1hdGgucm91bmQoZGVsYXkqcmVmcmVzaHJhdGUvMTAwMCk7CgogICAgICBpZiAoZnJhbWVkZWxheT4wKQogICAgICB7CiAgICAgICAgICAgZHluYW1pY2ZyYW1lZGVsYXkgPSBkeW5hbWljZnJhbWVkZWxheSArIGZyYW1lZGVsYXkqMjsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICBpZiAoIGR5bmFtaWNmcmFtZWRlbGF5PjAgJiYgZnJhbWVkZWxheTwxICkKICAgICAgICB7CiAgICAgICAgICAgZHluYW1pY2ZyYW1lZGVsYXkgPSBNYXRoLmZsb29yKGR5bmFtaWNmcmFtZWRlbGF5LzIpOwoKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJlZnJlc2hyYXRlID0gcmVmcmVzaHJhdGUqMTsKICAJIGR5bmFtaWNyZWZyZXNocmF0ZSA9IE1hdGgucm91bmQoIChyZWZyZXNocmF0ZSpyZWZyZXNocmF0ZS8ocmVmcmVzaHJhdGUrZHluYW1pY2ZyYW1lZGVsYXkpKSoxMDAgKS8xMDA7CiAgICB9CiAgCWVsc2UKICAgIHsKICAgICAgICBuZXh0TG9vcCA9IHRoaXNMb29wOwogICAgfQoJCiAgCiAgLy9jb25zb2xlLmxvZygiZHluYW1pY2ZyYW1lZGVsYXk6ICIgKyBkeW5hbWljZnJhbWVkZWxheSk7CiAgCiAgLy9jb25zb2xlLmxvZygiZHluYW1pY3JlZnJlc2hyYXRlOiAiICsgZHluYW1pY3JlZnJlc2hyYXRlKTsKfQoKICAKZnVuY3Rpb24gaGFzU2Nyb2xsQmFyVmlzaWJsZShlbGVtZW50KQp7CiAgLy9yZXR1cm4gKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpOwogCiAgLy8gR2V0IHRoZSBjb21wdXRlZCBzdHlsZSBvZiB0aGUgYm9keSBlbGVtZW50CiAgdmFyIGNTdHlsZSA9IGVsZW1lbnQuY3VycmVudFN0eWxlfHx3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCAiIik7CiAKICAvLyBDaGVjayB0aGUgb3ZlcmZsb3cgYW5kIG92ZXJmbG93WSBwcm9wZXJ0aWVzIGZvciAiYXV0byIgYW5kICJ2aXNpYmxlIiB2YWx1ZXMKICB2YXIgc2Nyb2xsYmFyMSA9IGNTdHlsZS5vdmVyZmxvdyA9PSAic2Nyb2xsIiB8fCBjU3R5bGUub3ZlcmZsb3dZID09ICJzY3JvbGwiOwoKCXZhciBzY3JvbGxiYXIyID0gY1N0eWxlLm92ZXJmbG93ID09ICJhdXRvIiB8fCBjU3R5bGUub3ZlcmZsb3dZID09ICJhdXRvIjsKCQoJdmFyIHNjcm9sbGJhciA9IHNjcm9sbGJhcjEgfHwgc2Nyb2xsYmFyMjsKIAogIHJldHVybiBzY3JvbGxiYXI7Cn0KCgpmdW5jdGlvbiBoYXNzY3JvbGxiYXJzKHNjcm9sbGZvY3VzKQp7Cgl2YXIgaGFzdmlzaWJsZXNjcm9sbGJhcnMgPSBoYXNTY3JvbGxCYXJWaXNpYmxlKHNjcm9sbGZvY3VzKTsKCXJldHVybiBoYXN2aXNpYmxlc2Nyb2xsYmFyczsKCQoJLyoKCXZhciBwYXJlbnRlbGVtZW50ID0gLy9zcyQoc2Nyb2xsZm9jdXMpLnBhcmVudCgpOwoJaWYgKCAvL3NzJChwYXJlbnRlbGVtZW50KSkKCXsKCQlpZiAoLy9zcyQocGFyZW50ZWxlbWVudCkuaXMoInRleHRhcmVhIikgfHwgLy9zcyQoc2Nyb2xsZm9jdXMpLmlzKCJ0ZXh0YXJlYSIpIHx8IC8vc3MkKHBhcmVudGVsZW1lbnQpLmlzKCJhcnRpY2xlIikgfHwgLy9zcyQocGFyZW50ZWxlbWVudCkuaXMoImFydGljbGUiKSkKCQl7CgkJCXJldHVybiB0cnVlOwoJCX0KCQllbHNlCgkJewoJCQlpZiAoLy9zcyQocGFyZW50ZWxlbWVudCkuaGFzQ2xhc3MoICJ5dC1zY3JvbGxiYXIiICkgfHwgLy9zcyQoc2Nyb2xsZm9jdXMpLmhhc0NsYXNzKCAieXQtc2Nyb2xsYmFyIiApKQoJCQl7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCQlyZXR1cm4gaGFzdmlzaWJsZXNjcm9sbGJhcnM7CgkJfQoJfQoJZWxzZQoJewoJCXJldHVybiBoYXN2aXNpYmxlc2Nyb2xsYmFyczsKCX0KCXJldHVybiBmYWxzZTsKCSovCn0KCnZhciBzY3JvbGxfdGltZW91dCA9IG51bGw7CiAgCmZ1bmN0aW9uIGRpcmVjdGlvbihudW1iZXIpCnsKICBpZiAobnVtYmVyPjApCiAgewogICAgcmV0dXJuIDE7CiAgfQogIGlmIChudW1iZXI8MCkKICB7CiAgICByZXR1cm4gLTE7CiAgfQogIHJldHVybiAwOwp9CgpmdW5jdGlvbiBVcGRhdGVQb3NpdGlvbihlbGVtZW50KQp7CgkvL2Zwc2NhbGNsb29wKDApOwogIAoJdmFyIGludGVycG9sYXRpb24gPSAzOwogIAoJdmFyIGFuaW1hdGlvbmR1cmF0aW9uID0gTWF0aC5mbG9vcigxMDAwLyhkeW5hbWljcmVmcmVzaHJhdGUqaW50ZXJwb2xhdGlvbikpOwogIAogIAl2YXIgcmVsYXRpdmVyYXRpbyA9IE1hdGguY2VpbCggaW50ZXJwb2xhdGlvbiooIE1hdGgucG93KDAuMDEsc21vb3RobmVzcykvZHluYW1pY3JlZnJlc2hyYXRlICpiYXNlcmVmcmVzaHJhdGUgICkqMTAwMDAwMCkvMTAwMDAwMDsKCQoJdmFyIHBvc2l0aW9uZGVsdGEgPSBzY3JvbGxwb3NpdGlvbmRlbHRhKGVsZW1lbnQpOwogIAogIAl2YXIgZGlyID0gZGlyZWN0aW9uKHBvc2l0aW9uZGVsdGEpOwogIAogIAkvL2NvbnNvbGUubG9nKCJwb3NpdGlvbmRlbHRhOiIgKyBwb3NpdGlvbmRlbHRhKTsKCSAgCgl2YXIgc21vb3RoZGVsdGEgPSBNYXRoLnNxcnQocG9zaXRpb25kZWx0YSpwb3NpdGlvbmRlbHRhKnJlbGF0aXZlcmF0aW8pL2ludGVycG9sYXRpb247CiAgCXZhciByb3VuZGRlbHRhID0gTWF0aC5jZWlsKHNtb290aGRlbHRhKTsKICAJCgkvL3ZhciBzbW9vdGhkZWx0YSA9IHBvc2l0aW9uZGVsdGEqcmVsYXRpdmVyYXRpbzsKCglpZiAoIHJvdW5kZGVsdGEgPiAxICkKCXsJCiAgICAgIAllbGVtZW50LnNjcm9sbFRvcCA9IGVsZW1lbnQuc2Nyb2xsVG9wICsgcm91bmRkZWx0YSpkaXI7CgkJCXNjcm9sbHBvc2l0aW9uZGVsdGEoZWxlbWVudCwgcG9zaXRpb25kZWx0YSAtIHJvdW5kZGVsdGEqZGlyKTsKCQkJCgkJICBzY3JvbGxfdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIAkKCQkJVXBkYXRlUG9zaXRpb24oZWxlbWVudCk7CgkJICB9LCBhbmltYXRpb25kdXJhdGlvbik7CiAgICAgIGZwc2NhbGNsb29wKGFuaW1hdGlvbmR1cmF0aW9uKTsKCX0KICAJZWxzZQoJewkKCQkKICAgICAgaWYgKCBwb3NpdGlvbmRlbHRhKmRpciA+IDEgKQogICAgICB7CiAgICAgICAgCiAgICAgICAgZWxlbWVudC5zY3JvbGxUb3AgPSBlbGVtZW50LnNjcm9sbFRvcCArIGRpcjsKCQkJc2Nyb2xscG9zaXRpb25kZWx0YShlbGVtZW50LCBwb3NpdGlvbmRlbHRhIC0gZGlyKTsKCQkJCiAgICAgIAlzY3JvbGxfdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIAkJCgkJCVVwZGF0ZVBvc2l0aW9uKGVsZW1lbnQpOwoJCSAgfSwgKGFuaW1hdGlvbmR1cmF0aW9uL3Ntb290aGRlbHRhKSk7CiAgICAgIH0KICAgICAgZWxzZQogICAgICB7CiAgICAgICAgZWxlbWVudC5zY3JvbGxUb3AgPSBlbGVtZW50LnNjcm9sbFRvcCArIHJvdW5kZGVsdGEqZGlyOwogICAgICAgICAgICAgIHNjcm9sbHBvc2l0aW9uZGVsdGEoZWxlbWVudCwgMCk7CiAgICAgICAgICAvL3Njcm9sbF90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAJCiAgICAgICAgICAgICAgCiAgICAgICAgICAgIC8vfSwgKGFuaW1hdGlvbmR1cmF0aW9uL3Ntb290aGRlbHRhKSk7CiAgICAgIH0KICAgICAgZnBzY2FsY2xvb3AoIChhbmltYXRpb25kdXJhdGlvbi9zbW9vdGhkZWx0YSkgKTsKCX0KfQoKCiBmdW5jdGlvbiBNb3VzZVNjcm9sbCAoZSkgewoKICAgCXZhciBtdWwgPSAxOwoJaWYgKCFXRUJLSVQgfHwgYWx0ZXJuYXRpdmVfc2Vuc2l0aXZpdHlfbXVsdGlwbGllcikKCQltdWwgPSA0MDsKICAgCXZhciB4ID0gZS5kZWx0YVgqbXVsOwogICAJdmFyIHkgPSBlLmRlbHRhWSptdWw7CiAgIAogICAJLy9pZiAobW91c2Vtb3ZlZCkKICAgIC8vewogICAgICBzY3JvbGxmb2N1cyA9IFVwZGF0ZUZvY3VzKHgseSk7CiAgICAgIC8vbW91c2Vtb3ZlZCA9IGZhbHNlOwogICAgLy99CiAgIAoJIHZhciBwb3NpdGlvbmRlbHRhID0gMDsKCSB2YXIgbGFzdHNjcm9sbHRvcCA9IDA7CgoJIHZhciByb2xsZWQgPSB5OwoJIAkKCSAJaWYgKCFjYW5zY3JvbGwoc2Nyb2xsZm9jdXMsIHJvbGxlZCkpCgkJewoJCQlpZiAoc2Nyb2xsZm9jdXMgIT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KQkKCQkJewoJCQkJc2Nyb2xsZm9jdXMgPSBVcGRhdGVGb2N1cyh4LHkpOwogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCQkJfQoJCQllbHNlCgkJCXsKICAgICAgICAgICAgICAJCiAgICAgICAgICAgICAgCS8vY29uc29sZS5sb2coInRydWUiKTsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCX0KCSAJZWxzZQoJCXsKICAgICAgICAgIAlpZiAoZS5kZWZhdWx0UHJldmVudGVkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIAllbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIH0KCQkJCgkJfQogICAJIHBvc2l0aW9uZGVsdGEgPSBzY3JvbGxwb3NpdGlvbmRlbHRhKHNjcm9sbGZvY3VzKTsKICAgCgkgdmFyIGRpcmVjdGlvbiA9IHJvbGxlZC9NYXRoLmFicyhyb2xsZWQpOwoJIAoJIHZhciBwb3NpdGlvbmRlbHRhZGVsdGEgPSBNYXRoLnJvdW5kKHJvbGxlZCpzZW5zaXRpdml0eSArIE1hdGguc3FydChNYXRoLmFicyhwb3NpdGlvbmRlbHRhLXJvbGxlZCpzZW5zaXRpdml0eSkpKmFjY2VsZXJhdGlvbipyb2xsZWQqMC4yKTsKCSAKCSBwb3NpdGlvbmRlbHRhID0gcG9zaXRpb25kZWx0YSoxICsgcG9zaXRpb25kZWx0YWRlbHRhKjE7CgkgCiAgCSBzY3JvbGxwb3NpdGlvbmRlbHRhKHNjcm9sbGZvY3VzLCBwb3NpdGlvbmRlbHRhKQoKCSBjbGVhclRpbWVvdXQoc2Nyb2xsX3RpbWVvdXQpOwogICAKICAgCQlmcHNjYWxjbG9vcCgtMSk7CgkgCgkgVXBkYXRlUG9zaXRpb24oc2Nyb2xsZm9jdXMpOwogICAKICAgCQkvL2NvbnNvbGUubG9nKGUpOwoJIAoJIHJldHVybiB0cnVlOwogfQoKIGZ1bmN0aW9uIGNhbnNjcm9sbChlbGVtZW50LCBkaXIpCnsKICAJaWYgKGRpcj4wKQogICAgewogICAgICBkaXIgPSAxOwogICAgfQogIAlpZiAoZGlyPDApCiAgICB7CiAgICAgIGRpciA9IC0xOwogICAgfQogIAl2YXIgY2hlY2tyYWRpdXMgPSAzOyAvL3BpeGVscyB0byB0cnkgc2Nyb2xsaW5nCiAgCiAgCXZhciBjYW5zY3JvbGwwID0gZmFsc2U7CgoJdmFyIHNjcm9sbGFibGUgPSBlbGVtZW50OwoKCXZhciBsYXN0c2Nyb2xsdG9wID0gc2Nyb2xsYWJsZS5zY3JvbGxUb3A7CgoJc2Nyb2xsYWJsZS5zY3JvbGxUb3AgPSBsYXN0c2Nyb2xsdG9wK2RpcipjaGVja3JhZGl1czsKCglpZiAoc2Nyb2xsYWJsZS5zY3JvbGxUb3AhPWxhc3RzY3JvbGx0b3ApCgl7CgkJY2Fuc2Nyb2xsMCA9IHRydWU7Cgl9CgoJc2Nyb2xsYWJsZS5zY3JvbGxUb3AgPSBsYXN0c2Nyb2xsdG9wOwoKCXJldHVybiBjYW5zY3JvbGwwOwp9CiAgCiAgCmZ1bmN0aW9uIHNjcm9sbHBvc2l0aW9uZGVsdGEoZWxlbWVudCwgbmV3ZGVsdGEpCnsKICAJLy92YXIgdGFyZ2V0ID0gLy9zcyQoZWxlbWVudCk7Cgl2YXIgdGFyZ2V0ID0gZWxlbWVudDsKICAJdmFyIGRlbHRhID0gMDsKICAJaWYgKG5ld2RlbHRhIT11bmRlZmluZWQpCiAgICB7CiAgICAgIC8vY29uc29sZS5sb2coIm5ld2RlbHRhOiIgKyBuZXdkZWx0YSk7CiAgICAgIC8qdmFyIGRpciA9IDA7CiAgICAgIGlmIChuZXdkZWx0YT4wKQogICAgICB7CiAgICAgICAgZGlyID0gMTsKICAgICAgfQogICAgICBpZiAobmV3ZGVsdGE8MCkKICAgICAgewogICAgICAgIGRpciA9IC0xOwogICAgICB9Ki8KCSAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgicG9zaXRpb25kZWx0YSIsIG5ld2RlbHRhICk7CgogICAgICBkZWx0YSA9IG5ld2RlbHRhOwogICAgfQoJZWxzZQogICAgewoJCXZhciBvbGRkZWx0YSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoInBvc2l0aW9uZGVsdGEiKTsKICAgICAgaWYgKG9sZGRlbHRhIT11bmRlZmluZWQpCiAgICAgIHsKICAgICAgCWRlbHRhID0gb2xkZGVsdGE7CiAgICAgIH0KICAgIH0KICAJcmV0dXJuIGRlbHRhKjE7Cn0KCmZ1bmN0aW9uIFVwZGF0ZUZvY3VzKHgseSkgewoJaWYgKHNjcm9sbGZvY3VzKQogICAgICB7CiAgICAgICAgLy9zY3JvbGxwb3NpdGlvbmRlbHRhKHNjcm9sbGZvY3VzLCAwKTsKICAgICAgICAvL3NzJChzY3JvbGxmb2N1cykuc3RvcCgpOwogICAgICB9Cgl2YXIgZGlyID0geTsKCSAJdmFyIG5vZGVsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggIjpob3ZlciIgKTsKCSAJaWYgKFdFQktJVCkKICAgICAgICB7CiAgICAgICAgCS8vc2Nyb2xsZm9jdXMgPSAvL3NzJCgnYm9keScpOwoJCQlzY3JvbGxmb2N1cyA9IGRvY3VtZW50LmJvZHk7CiAgICAgICAgfQogIAkJZWxzZQogICAgICAgIHsKICAgICAgICAgICAgLy9zY3JvbGxmb2N1cyA9IC8vc3MkKCdodG1sJyk7CgkJCXNjcm9sbGZvY3VzID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgICAgIH0KICAJCQoJIAlmb3IgKHZhciBpID0gbm9kZWxpc3QubGVuZ3RoLTE7IGkgPj0gMCA7IGktLSkgeyAKCQkJICB2YXIgbmV3Zm9jdXMgPSBub2RlbGlzdFtpXTsKCQkJCWlmIChjYW5zY3JvbGwobmV3Zm9jdXMsIGRpcikgJiYgaGFzc2Nyb2xsYmFycyhuZXdmb2N1cykpCgkJCQl7CgkJCQkJc2Nyb2xsZm9jdXMgPSBuZXdmb2N1czsKCQkJCQlyZXR1cm4gbmV3Zm9jdXM7CgkJCQl9CiAJCX0KCgkgcmV0dXJuIHNjcm9sbGZvY3VzOwogfQoJCiAgLypzcyQoJ2h0bWwnKS5iaW5kKHsKICAgIAoJbW91c2Vtb3ZlOiBmdW5jdGlvbihlKSB7CiAgICAgIG1vdXNlbW92ZWQgPSB0cnVlOwogICAgfSwKICAgIAogICAgbW91c2Vkb3duOiBmdW5jdGlvbihlKSB7CiAgICAgIGlmIChERUJVRykKICAgICAgewogICAgICAgIGNvbnNvbGUubG9nKHNjcm9sbGZvY3VzKTsKICAgICAgfQogICAgICBpZiAoc2Nyb2xsZm9jdXMpCiAgICAgIHsKICAgICAgICBzY3JvbGxwb3NpdGlvbmRlbHRhKHNjcm9sbGZvY3VzLCAwKTsKICAgICAgICAvLy8vc3MkKHNjcm9sbGZvY3VzKS5zdG9wKCk7CiAgICAgIH0KICAgICAgc2Nyb2xsZm9jdXMgPSBVcGRhdGVGb2N1cygwLDApOwogICAgICAvL2NvbnNvbGUubG9nKCJjbGljayIpOwogICAgfQogIH0pOwoJKi8KCQogIApkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2hlZWwiLCBmdW5jdGlvbihlKXsKICAgIE1vdXNlU2Nyb2xsKGUpOwoJbW91c2Vtb3ZlZCA9IHRydWU7CiAgLy9jb25zb2xlLmxvZygic2Nyb2xsaW5nIik7Cn0pOwogIAoKICAvL1dFQktJVCA9ICd3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnIGluIHdpbmRvdzsKICBXRUJLSVQgPSBkb2N1bWVudC5jb21wYXRNb2RlID09ICdDU1MxQ29tcGF0JyB8fCBkb2N1bWVudC5jb21wYXRNb2RlID09ICJCYWNrQ29tcGF0IjsKICAKICAvL2NvbnNvbGUubG9nKCJ3aW5kb3c6ICIgKyB3aW5kb3cpOwogIGNvbnNvbGUubG9nKCJTbW9vdGhzY3JvbGwgbG9hZGVkISBXZWJraXQ6ICIgKyBXRUJLSVQpOwogIAogICRzbW9vdGhzY3JvbGwkID0gdHJ1ZTsKfQoKZnVuY3Rpb24gTG9hZENvbmZpZygpCnsKICBzbW9vdGhuZXNzID0gR01fZ2V0VmFsdWUoICdzbW9vdGhuZXNzJywgc21vb3RobmVzcyApOwogIHNlbnNpdGl2aXR5ID0gR01fZ2V0VmFsdWUoICdzZW5zaXRpdml0eScsIHNlbnNpdGl2aXR5ICk7CiAgYWNjZWxlcmF0aW9uID0gR01fZ2V0VmFsdWUoICdhY2NlbGVyYXRpb24nLCBhY2NlbGVyYXRpb24gKTsKICByZWZyZXNocmF0ZSA9IEdNX2dldFZhbHVlKCAncmVmcmVzaHJhdGUnLCByZWZyZXNocmF0ZSApOwogIC8vYWx0ZXJuYXRpdmVfc2VzaXRpdml0eV9tdWx0aXBsaWVyID0gR01fZ2V0VmFsdWUoICdhbHRlcm5hdGl2ZV9zZXNpdGl2aXR5X211bHRpcGxpZXInLCBhbHRlcm5hdGl2ZV9zZXNpdGl2aXR5X211bHRpcGxpZXIgKTsKICAvL2NvbnNvbGUubG9nKCJDb25maWcgZm9yIHNtb290aHNjcm9sbCBsb2FkZWQhIikKfQoKZnVuY3Rpb24gU2F2ZUNvbmZpZygpCnsKICBHTV9zZXRWYWx1ZSggJ3Ntb290aG5lc3MnLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Mtc21vb3RobmVzcycpLnZhbHVlKQogIEdNX3NldFZhbHVlKCAnc2Vuc2l0aXZpdHknLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Mtc2Vuc2l0aXZpdHknKS52YWx1ZSkKICBHTV9zZXRWYWx1ZSggJ2FjY2VsZXJhdGlvbicsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcy1hY2NlbGVyYXRpb24nKS52YWx1ZSkKICBHTV9zZXRWYWx1ZSggJ3JlZnJlc2hyYXRlJywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NzLXJlZnJlc2hyYXRlJykudmFsdWUpCiAgLy9jb25zb2xlLmxvZyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3MtYWx0ZXJuYXRpdmVfc2VzaXRpdml0eV9tdWx0aXBsaWVyJykuY2hlY2tlZCkKICBjb25zb2xlLmxvZygiQ29uZmlnIGZvciBzbW9vdGhzY3JvbGwgc2F2ZWQhIikKICAKICBsb2NhdGlvbi5yZWxvYWQoKTsKfQoKZnVuY3Rpb24gQ2xvc2VDb25maWcoKQp7CiAJdmFyIGNvbmZpZ2JhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcy1jb25maWdiYXIiKTsKICBjb25maWdiYXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgIAp9CgpmdW5jdGlvbiBJbml0Q29uZmlnbWVudSgpCnsKICAJLy9jb25zb2xlLmxvZygiSW5pdGlhdGluZyBzbW9vdGhzY3JvbGwgY29uZmlnLi4uIik7CiAgICB2YXIgY29uZmlnYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBjb25maWdiYXIuc2V0QXR0cmlidXRlKCJpZCIsInNzLWNvbmZpZ2JhciIpOwogIAogIC8vPHRyPjx0ZD5TZW5zaXRpdml0eTwvdGQ+PHRkPjxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJzcy1zZW5zaXRpdml0eSIgbWluPSIwIiBtYXg9IjEwMCIgdmFsdWU9IicgKyBzZW5zaXRpdml0eSArICciPjwvdGQ+PHRkPiBTY3JvbGwgc2Vuc2l0aXZpdHkgKGR1aCk8L3RkPjwvdHI+CiAJCiAgCWNvbmZpZ2Jhci5pbm5lckhUTUwgPSAnPGRpdiBzdHlsZT0iZGlzcGxheTpibG9jazsgd2lkdGg6IDEwMCU7IGhlaWdodDogYXV0bzsgYm9yZGVyOiAwcHggc29saWQgI2FhYWFhYTsgYmFja2dyb3VuZC1jb2xvcjogZ3JleTsiPkNvbmZpZyBwYWdlIGZvciBzbW9vdGhzY3JvbGwgKHJlZnJlc2ggcGFnZSBmb3IgY2hhbmdlcyB0byBhcHBseSEpIE1hZGUgYnk6IENyZWVjIFdpbmNlcHRvcjwvZGl2PjxkaXYgaWQ9InNzLWNvbmZpZyIgc3R5bGU9Im1hcmdpbjozcHg7IGRpc3BsYXk6YmxvY2s7IHdpZHRoOiBhdXRvOyBoZWlnaHQ6IGF1dG87IGJvcmRlcjogMHB4IHNvbGlkICM1NTQ0MzM7Ij48dGFibGUgc3R5bGU9IndpZHRoOmF1dG87Ij48dHI+PHRkPlNtb290aG5lc3M8L3RkPjx0ZD48aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic3Mtc21vb3RobmVzcyIgbWluPSIwIiBtYXg9IjEwIiB2YWx1ZT0iJyArIHNtb290aG5lc3MgKyAnIj48L3RkPjx0ZD4gU21vb3RobmVzcyBmYWN0b3IgdmFsdWUgKGRlZmF1bHQgMS4wMCk8L3RkPjwvdHI+PHRyPjx0ZD5TZW5zaXRpdml0eTwvdGQ+PHRkPjxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJzcy1zZW5zaXRpdml0eSIgbWluPSIwIiBtYXg9IjEwMCIgdmFsdWU9IicgKyBzZW5zaXRpdml0eSArICciPjwvdGQ+PHRkPiBTY3JvbGwgc2Vuc2l0aXZpdHkgKGRlZmF1bHQgMS4wMCk8L3RkPjwvdHI+PHRyPjx0ZD5BY2NlbGVyYXRpb248L3RkPjx0ZD48aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic3MtYWNjZWxlcmF0aW9uIiBtaW49IjAiIG1heD0iMTAwIiB2YWx1ZT0iJyArIGFjY2VsZXJhdGlvbiArICciPjwvdGQ+PHRkPiBBY2NlbGVyYXRpb24gb2YgY29udGludW91cyBzY3JvbGwgYWN0aW9uIChkZWZhdWx0IDEuMDApPC90ZD48L3RyPjx0cj48dGQ+UmVmcmVzaHJhdGU8L3RkPjx0ZD48aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic3MtcmVmcmVzaHJhdGUiIG1pbj0iMSIgbWF4PSIxMDAiIHZhbHVlPSInICsgcmVmcmVzaHJhdGUgKyAnIj48L3RkPjx0ZD5SZWZyZXNocmF0ZSBvZiBzY3JvbGxhbmltYXRpb24gKDYwSHogZGVmYXVsdCk8L3RkPjwvdHI+PC90YWJsZT48L2Rpdj48ZGl2IHN0eWxlPSJ3aWR0aDogMTAwJTsgaGVpZ2h0OiBhdXRvOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJhY2tncm91bmQtY29sb3I6IGdyZXk7Ij48aW5wdXQgaWQ9InNzLXNhdmUiIHR5cGU9ImJ1dHRvbiIgdmFsdWU9IlNhdmUgY29uZmlnIiBzdHlsZT0id2lkdGg6IDQ0JTsgaGVpZ2h0OiBhdXRvOyBib3JkZXI6IDBweCBzb2xpZCAjYWFhYWFhOyBtYXJnaW46IDNweCIvPjxpbnB1dCBpZD0ic3MtY2xvc2UiIHR5cGU9ImJ1dHRvbiIgdmFsdWU9IkNsb3NlIGNvbmZpZyIgc3R5bGU9IndpZHRoOiA0NCU7IGhlaWdodDogYXV0bzsgYm9yZGVyOiAwcHggc29saWQgI2FhYWFhYTsgbWFyZ2luOiAzcHgiLz48ZGl2Pic7CiAgCQogIAkKICAgIHZhciBjb25maWdwYXJlbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgCWNvbmZpZ2Jhci5zdHlsZS53aWR0aCA9ICcxMDAlJzsgIAogIAljb25maWdiYXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgIAogIAljb25maWdiYXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwoJY29uZmlnYmFyLnN0eWxlLnpJbmRleCA9ICc5OTk5JzsKICAJY29uZmlnYmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSc7CiAgCiAgCWNvbmZpZ3BhcmVudC5pbnNlcnRCZWZvcmUoY29uZmlnYmFyLCBjb25maWdwYXJlbnQuY2hpbGROb2Rlc1swXSk7CiAgCQogIAlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3MtY2xvc2UiKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7Q2xvc2VDb25maWcoKX07CiAgCiAgCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcy1zYXZlIikub25jbGljayA9IGZ1bmN0aW9uKCkge1NhdmVDb25maWcoKX07Cn0KCmZ1bmN0aW9uIENvbmZpZ1Ntb290aHNjcm9sbCgpCnsKICBpZiAodHlwZW9mICRzbW9vdGhzY3JvbGwkID09ICd1bmRlZmluZWQnKXsKICAgIGFsZXJ0KCJTbW9vdGhzY3JvbGwgaXMgbm90IHJ1bm5pbmcgcHJvcGVybHkgb24gdGhpcyBwYWdlISIpOwogICAgcmV0dXJuOwogIH0KCiAgdmFyIGNvbmZpZ2JhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcy1jb25maWdiYXIiKTsKICBjb25maWdiYXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7ICAKICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CiAgLy9zcyQoImh0bWwsIGJvZHkiKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sICJzbG93Iik7CiAgLy9jb25zb2xlLmxvZygib3BlbmluZyBjb25maWcuLi4iKTsKfQoKaWYgKHR5cGVvZiAkc21vb3Roc2Nyb2xsJCA9PSAndW5kZWZpbmVkJyl7CgkvL2NvbnNvbGUubG9nKCJJbml0aWF0aW5nIHNtb290aHNjcm9sbC4uLiIpOwoJSW5pdFNtb290aHNjcm9sbCgpOwkKCUdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoIkNvbmZpZ3VyYXRlIHNtb290aHNjcm9sbCIsIENvbmZpZ1Ntb290aHNjcm9sbCk7Cn0KZWxzZQp7CiAgY29uc29sZS5sb2coIlNtb290aHNjcm9sbCBhbHJlYWR5IGxvYWRlZCEiKTsKfQ=="},{"name":"Weibo Larger Pics 新浪微博之我要看大图","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http://s.weibo.com/user/*","http://weibo.com/app/*","http://weibo.com/app"],"orig_includes":["http://t.sina.com.cn/*","http://weibo.com/*","http://www.weibo.com/*","http://s.weibo.com/*","http://s.weibo.com/pic/*","http://photo.weibo.com/*","http://d.weibo.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512559},"enabled":false,"position":21,"file_url":"https://greasyfork.org/scripts/5038-weibo-larger-pics-%E6%96%B0%E6%B5%AA%E5%BE%AE%E5%8D%9A%E4%B9%8B%E6%88%91%E8%A6%81%E7%9C%8B%E5%A4%A7%E5%9B%BE/code/Weibo%20Larger%20Pics%20%E6%96%B0%E6%B5%AA%E5%BE%AE%E5%8D%9A%E4%B9%8B%E6%88%91%E8%A6%81%E7%9C%8B%E5%A4%A7%E5%9B%BE.user.js","uuid":"5a3890f4-7c7b-401b-b8d1-c7e4c3e0a81c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIFdlaWJvIExhcmdlciBQaWNzIOaWsOa1quW+ruWNmuS5i+aIkeimgeeci+Wkp+WbvgovLyBAbmFtZTp6aCAgICAgICAg5paw5rWq5b6u5Y2a5LmL5oiR6KaB55yL5aSn5Zu+Ci8vIEBuYW1lOmVuICAgICAgICBXZWlibyBMYXJnZXIgUGljcwovLyBAbmFtZXNwYWNlICAgICAgaHR0cDovL3hpYS5pbS8KLy8gQGRlc2NyaXB0aW9uICAgIFZpZXcgbGFyZ2UgcGljdHVyZXMgb24gd2VpYm8uY29tIGVhc2lseSBhbmQgcXVpY2tseS4g5paw5rWq5b6u5Y2a55yL5Zu+5aKe5by66ISa5pys77yM5p+l55yL5Y6f5aeL5aSn5Zu+5pu05b+r5pu05pa55L6/44CCCi8vIEBkZXNjcmlwdGlvbjplbiAgICBWaWV3IGxhcmdlIHBpY3R1cmVzIG9uIHdlaWJvLmNvbSBlYXNpbHkgYW5kIHF1aWNrbHkuCi8vIEBkZXNjcmlwdGlvbjp6aCAgICDmlrDmtarlvq7ljZrnnIvlm77lop7lvLrohJrmnKzvvIzmn6XnnIvljp/lp4vlpKflm77mm7Tlv6vmm7Tmlrnkvr/jgIIKLy8gQGxpY2Vuc2UgICAgICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSAoTEdQTCkKLy8gQHZlcnNpb24gICAgICAgIDEuMy4xLjUKLy8gQGF1dGhvciAgICAgICAgIHhpYW94aWEKLy8gQHN1cHBvcnRVUkwgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9uZXZlcndlZXAvV2VpYm8tTGFyZ2VyLVBpY3MvaXNzdWVzCi8vIEBjb3B5cmlnaHQgICAgICB4aWFveGlhLCBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgKExHUEwpCi8vIEBncmFudCAgICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vdC5zaW5hLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd2VpYm8uY29tLyoKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly93d3cud2VpYm8uY29tLyoKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9zLndlaWJvLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vcy53ZWliby5jb20vcGljLyoKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9waG90by53ZWliby5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL2Qud2VpYm8uY29tLyoKLy8gQGV4Y2x1ZGUgICAgICAgIGh0dHA6Ly9zLndlaWJvLmNvbS91c2VyLyoKLy8gQGV4Y2x1ZGUgICAgICAgIGh0dHA6Ly93ZWliby5jb20vYXBwLyoKLy8gQGV4Y2x1ZGUgICAgICAgIGh0dHA6Ly93ZWliby5jb20vYXBwCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCl7CgovKiAtZ2V0SWQtICovCnZhciAkaWQgPSBmdW5jdGlvbihpZCkgewogICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKfTsKCi8qIC3nm5HlkKzliqjnlLvmlrnms5UtICovCi8qKiBodHRwOi8vZy5tb3plc3QuY29tL3RocmVhZC00MjQwMS0xLTEgKiovCmZ1bmN0aW9uIGFkZFN0eWxlQ29tcGF0aWJsZShhKXt2YXIgYixkLGM7J3VuZGVmaW5lZCchPXR5cGVvZiBHTV9hZGRTdHlsZT8ndW5kZWZpbmVkJz09dHlwZW9mIEdNX3VwZGF0aW5nRW5hYmxlZHx8MCE9PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJykubGVuZ3RoP0dNX2FkZFN0eWxlKGEpOmI9d2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCl7MCE9PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJykubGVuZ3RoJiYod2luZG93LmNsZWFySW50ZXJ2YWwoYiksR01fYWRkU3R5bGUoYSkpfSwzKTondW5kZWZpbmVkJyE9dHlwZW9mIGFkZFN0eWxlP2FkZFN0eWxlKGEpOihjPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWQnKSxjJiYoZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpLGQudHlwZT0ndGV4dC9jc3MnLGQuaW5uZXJIVE1MPWEsYy5hcHBlbmRDaGlsZChkKSkpfWZ1bmN0aW9uIGFkZE5vZGVJbnNlcnRlZExpc3RlbmVyKGEsYixjLGQpe3ZhciBpLGosayxlPSdhbmlsYW5pbScsZj1bJy1tb3otJywnLXdlYmtpdC0nLCcnXSxnPVsnYW5pbWF0aW9uc3RhcnQnLCd3ZWJraXRBbmltYXRpb25TdGFydCddLGg9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspYihhW2NdKX07cmV0dXJuIGR8fChpPWErJ3snLGo9JycsaChmLGZ1bmN0aW9uKGEpe2krPWErJ2FuaW1hdGlvbi1kdXJhdGlvbjouMDAxczsnK2ErJ2FuaW1hdGlvbi1uYW1lOicrZSsnOycsais9J0AnK2ErJ2tleWZyYW1lcyAnK2UrJ3tmcm9te29wYWNpdHk6MTt9dG97b3BhY2l0eToxO319J30pLGkrPSd9JytqLGFkZFN0eWxlQ29tcGF0aWJsZShpKSksYj8oaz1mdW5jdGlvbihkKXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGEpLGY9ZC50YXJnZXQ7MCE9PWUubGVuZ3RoJiZoKGUsZnVuY3Rpb24oYSl7cmV0dXJuIGY9PT1hPyhjJiZyZW1vdmVOb2RlSW5zZXJ0ZWRMaXN0ZW5lcihrKSxiLmNhbGwoZixkKSx2b2lkIDApOnZvaWQgMH0pfSxoKGcsZnVuY3Rpb24oYSl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihhLGssITEpfSksayk6dm9pZCAwfWZ1bmN0aW9uIHJlbW92ZU5vZGVJbnNlcnRlZExpc3RlbmVyKGEpe3ZhciBiPVsnYW5pbWF0aW9uc3RhcnQnLCd3ZWJraXRBbmltYXRpb25TdGFydCddLGM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspYihhW2NdKX07YyhiLGZ1bmN0aW9uKGIpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoYixhLCExKX0pfQoKLyogLeWIpOaWreWbvuWDj+Wkp+Wwjy0gKi8KLyoqCiAqIOWbvueJh+WktOaVsOaNruWKoOi9veWwsee7quS6i+S7tiAtIOabtOW/q+iOt+WPluWbvueJh+WwuuWvuAogKiBAdmVyc2lvbiAyMDExLjA1LjI3CiAqIEBhdXRob3IgIFRhbmdCaW4KICogQHNlZSAgICAgaHR0cDovL3d3dy5wbGFuZWFydC5jbi8/cD0xMTIxCiAqLwp2YXIgaW1nUmVhZHk9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PW51bGwsbj1mdW5jdGlvbigpe3ZhciB0PTA7Zm9yKDt0PGUubGVuZ3RoO3QrKyllW3RdLmVuZD9lLnNwbGljZSh0LS0sMSk6ZVt0XSgpOyFlLmxlbmd0aCYmcigpfSxyPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0KSx0PW51bGx9O3JldHVybiBmdW5jdGlvbihyLGkscyxvKXt2YXIgdSxhLGYsbCxjLGg9bmV3IEltYWdlO2guc3JjPXI7aWYoaC5jb21wbGV0ZSl7aS5jYWxsKGgpLHMmJnMuY2FsbChoKTtyZXR1cm59YT1oLndpZHRoLGY9aC5oZWlnaHQsaC5vbmVycm9yPWZ1bmN0aW9uKCl7byYmby5jYWxsKGgpLHUuZW5kPSEwLGg9aC5vbmxvYWQ9aC5vbmVycm9yPW51bGx9LHU9ZnVuY3Rpb24oKXtsPWgud2lkdGgsYz1oLmhlaWdodDtpZihsIT09YXx8YyE9PWZ8fGwqYz4xMDI0KWkuY2FsbChoKSx1LmVuZD0hMH0sdSgpLGgub25sb2FkPWZ1bmN0aW9uKCl7IXUuZW5kJiZ1KCkscyYmcy5jYWxsKGgpLGg9aC5vbmxvYWQ9aC5vbmVycm9yPW51bGx9LHUuZW5kfHwoZS5wdXNoKHUpLHQ9PT1udWxsJiYodD1zZXRJbnRlcnZhbChuLDQwKSkpfX0oKTsKCi8qIC3lhajlsYAtICovCgovL+WIpOaWrea1j+iniOWZqOS7peehruWumuivu+WPluWSjOWCqOWtmOaWueazlQp2YXIgX3R5cGUsIF9vbiwgX21vZGUsIF9jc3MsIF9jZG4sIEdNX2dldFZhbHVlOwpfY3NzID0gdHlwZW9mKGRvY3VtZW50LmJvZHkuc3R5bGUudHJhbnNmb3JtKSAhPT0gJ3VuZGVmaW5lZCc7IC8v5Yik5pat5rWP6KeI5Zmo5piv5ZCm5pSv5oyB5qCH5YeGIGNzcyDlsZ7mgKcKCmlmKHR5cGVvZihHTV9nZXRWYWx1ZSkgIT09ICd1bmRlZmluZWQnKXsKICAgIC8vRmlyZWZveCDlkowgQ2hyb21lICsgVGFtcGVybW9ua2V5IOWSjOWFtuWug+S9v+eUqCBHTSDnmoTmtY/op4jlmajkvb/nlKggR00g5pa55rOV5YKo5a2YCiAgICBfb24gPSBHTV9nZXRWYWx1ZSgnZmxvYXRiYXInLCB0cnVlKTsKICAgIF9tb2RlID0gR01fZ2V0VmFsdWUoJ21vZGUnLCB0cnVlKTsKICAgIF9fdmlldyA9IEdNX2dldFZhbHVlKCd2aWV3JywgdHJ1ZSk7CiAgICBfX2NkbiA9IEdNX2dldFZhbHVlKCdjZG4nLCAwKTsKICAgIF90eXBlID0gMTsKfWVsc2UgaWYodHlwZW9mKHdpbmRvdy5jaHJvbWUpICE9PSAndW5kZWZpbmVkJyl7CiAgICAvL0Nocm9tZSDkvb/nlKggbG9jYWxzdG9yYWdlIOWCqOWtmAogICAgX29uID0gbG9jYWxTdG9yYWdlWydmbG9hdGJhciddID09PSAndHJ1ZScgfHwgdHlwZW9mKGxvY2FsU3RvcmFnZVsnZmxvYXRiYXInXSkgPT09ICd1bmRlZmluZWQnOwogICAgX21vZGUgPSBsb2NhbFN0b3JhZ2VbJ21vZGUnXSA9PT0gJ3RydWUnIHx8IHR5cGVvZihsb2NhbFN0b3JhZ2VbJ21vZGUnXSkgPT09ICd1bmRlZmluZWQnOwogICAgX192aWV3ID0gbG9jYWxTdG9yYWdlWyd2aWV3J10gPT09ICd0cnVlJyB8fCB0eXBlb2YobG9jYWxTdG9yYWdlWyd2aWV3J10pID09PSAndW5kZWZpbmVkJzsKICAgIF9fY2RuID0gdHlwZW9mKGxvY2FsU3RvcmFnZVsnY2RuJ10pID09PSAndW5kZWZpbmVkJyA/ICAwIDogcGFyc2VJbnQobG9jYWxTdG9yYWdlWydjZG4nXSk7CiAgICBfdHlwZSA9IDI7Cn1lbHNlIGlmKHR5cGVvZih3aW5kb3cuZXh0ZXJuYWwubXhHZXRSdW50aW1lKSAhPT0gJ3VuZGVmaW5lZCcpewogICAgLy9NYXh0aG9uIOaPkuS7tueJiOS9v+eUqOWOn+eUn+aOpeWPo+WCqOWtmAogICAgdmFyIHBiID0gd2luZG93LmV4dGVybmFsLm14R2V0UnVudGltZSgpOwogICAgX29uID0gcGIuc3RvcmFnZS5nZXRDb25maWcoJ2Zsb2F0YmFyJyk7CiAgICBfb24gPSAoX29uID09PSAnJyB8fCBfb24gPT09ICd0cnVlJyk7CiAgICBfbW9kZSA9IHBiLnN0b3JhZ2UuZ2V0Q29uZmlnKCdtb2RlJyk7CiAgICBfbW9kZSA9IChfbW9kZSA9PT0gJycgfHwgX21vZGUgPT09ICd0cnVlJyk7CiAgICBfX3ZpZXcgPSBwYi5zdG9yYWdlLmdldENvbmZpZygndmlldycpOwogICAgX192aWV3ID0gKF9fdmlldyA9PT0gJycgfHwgX192aWV3ID09PSAndHJ1ZScpOwogICAgX19jZG4gPSBwYi5zdG9yYWdlLmdldENvbmZpZygnY2RuJyk7CiAgICBfX2NkbiA9IChfY2RuID09PSAnJyB8fCBfY2RuID09PSAnMCcpID8gMCA6IHBhcnNlSW50KF9jZG4pOwogICAgX3R5cGUgPSAzOwp9ZWxzZXsKICAgIC8v5Lul5LiK6YO95LiN5pSv5oyB55qE5rWP6KeI5Zmo5bi45byACiAgICBfb24gPSB0cnVlOwogICAgX21vZGUgPSB0cnVlOwogICAgX192aWV3ID0gdHJ1ZTsKICAgIF9fY2RuID0gMDsKfQoKZnVuY3Rpb24gY2hlY2tTZXR0aW5nKG5hbWUsIHZhbHVlKXsKICAgIGlmKHR5cGVvZihuYW1lKSA9PSAidW5kZWZpbmVkIiB8fCBuYW1lID09IG51bGwpCiAgICAgICAgbmFtZSA9IHZhbHVlOwp9CgpjaGVja1NldHRpbmcoX29uLCB0cnVlKTsKY2hlY2tTZXR0aW5nKF9tb2RlLCB0cnVlKTsKY2hlY2tTZXR0aW5nKF9fdmlldywgdHJ1ZSk7CmNoZWNrU2V0dGluZyhfY2RuLCAwKTsKCi8v6YCJ6aG55L+d5a2Y5pa55rOVCnZhciBzYXZlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpewogICAgc3dpdGNoKF90eXBlKXsKICAgICAgICBjYXNlIDEgOiBHTV9zZXRWYWx1ZShuYW1lLCB2YWx1ZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMiA6IGxvY2FsU3RvcmFnZVtuYW1lXSA9IHZhbHVlOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDMgOiBwYi5zdG9yYWdlLnNldENvbmZpZyhuYW1lLCB2YWx1ZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgfQp9CgoKLy/liqDlhaXpnIDopoHnmoQgQ1NTCmFkZFN0eWxlQ29tcGF0aWJsZSgnXAovKiDpgInpobkqL1wKI3dscF9jZG4ge1wKICAgIHBvc2l0aW9uOiBmaXhlZDtcCiAgICB0b3A6IDEwJTtcCiAgICB3aWR0aDogMTAwJTtcCiAgICB6LWluZGV4OiA5OTk5OTlcCn1cCiN3bHBfY2RuPmRpdiB7XAogICAgd2lkdGg6IDYwMHB4O1wKICAgIGJhY2tncm91bmQ6ICNGRkY7XAogICAgYm9yZGVyOiAycHggc29saWQgIzJBRDtcCiAgICBib3JkZXItcmFkaXVzOiA1cHg7XAogICAgcGFkZGluZzogMjBweDtcCiAgICBtYXJnaW46IDAgYXV0b1wKfVwKI3dscF9jZG4gc3BhbiB7XAogICAgbWFyZ2luOiAwIDVweDtcCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XAogICAgd2lkdGg6IDVlbTtcCiAgICB0ZXh0LWFsaWduOiByaWdodFwKfVwKI3dscF9jZG4gcCB7XAogICAgbWFyZ2luOiAxZW0gMFwKfVwKLyog55S75buKKi9cCiN3bHBfaW1nX3dyYXAge1wKICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XAogICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcCiAgICB1c2VyLXNlbGVjdDogbm9uZTtcCiAgICBwb3NpdGlvbjogZml4ZWQ7XAogICAgd2lkdGg6IDEwMCU7XAogICAgaGVpZ2h0OiAxMDAlO1wKICAgIGxlZnQ6IDA7XAogICAgdG9wOiAwO1wKICAgIHotaW5kZXg6IDk5OTk7XAogICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuOTUpO1wKICAgIG9wYWNpdHk6IDA7XAogICAgdmlzaWJpbGl0eTogaGlkZGVuO1wKICAgIHRyYW5zaXRpb246IG9wYWNpdHkgLjNzIGVhc2Utb3V0IDBzO1wKfVwKI3dscF9pbWdfZHJhZyB7XAogICAgcG9zaXRpb246IGFic29sdXRlO1wKICAgIHotaW5kZXg6IDEwMDtcCn1cCiN3bHBfaW1nIHtcCiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4ycyBlYXNlLW91dCAwcztcCiAgICBvcGFjaXR5OiAwO1wKfVwKI3dscF9pbWcge1wKICAgIGN1cnNvcjogbW92ZVwKfVwKI3dscF9pbWdfY29udHJvbGVyIHtcCiAgICBvcGFjaXR5OiAuNDtcCiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IC4zcyBlYXNlLW91dCAwcztcCiAgICBwb3NpdGlvbjogZml4ZWQ7XAogICAgYm90dG9tOiAwO1wKICAgIGxlZnQ6IDA7XAogICAgd2lkdGg6IDEwMCU7XAogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwuNyk7XAogICAgdGV4dC1hbGlnbjogY2VudGVyO1wKICAgIHotaW5kZXg6IDEwMFwKfVwKI3dscF9pbWdfY29udHJvbGVyOmhvdmVyIHtcCiAgICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XAp9XAojd2xwX2ltZ19jb250cm9sZXIgYSwgI3dscF9jZG4gYSB7XAogICAgY29sb3I6ICMzMzM7XAogICAgcGFkZGluZzogNXB4IDEwcHg7XAogICAgYm9yZGVyOiAxcHggc29saWQgI0NDQztcCiAgICBiYWNrZ3JvdW5kOiAjRkZGO1wKICAgIG1hcmdpbjogMTBweDtcCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XAogICAgbGluZS1oZWlnaHQ6IDFcCn1cCiN3bHBfaW1nX2NvbnRyb2xlciBhOmhvdmVyLCAjd2xwX2NkbiBhOmhvdmVyIHtcCiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XAogICAgYm9yZGVyOiAxcHggc29saWQgIzJBQztcCiAgICBiYWNrZ3JvdW5kOiAjMkFDO1wKICAgIGNvbG9yOiAjRkZGO1wKICAgIGN1cnNvcjogcG9pbnRlclwKfVwKI3dscF9pbWdfcmF0aW8ge1wKICAgIHdpZHRoOiAyZW1cCn1cCiN3bHBfaW1nX3B1bGxsZWZ0IHtcCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XAogICAgbGVmdDogMDtcCiAgICBsaW5lLWhlaWdodDogMVwKfVwKI3dscF9pbWdfcHVsbHJpZ2h0IHtcCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XAogICAgcmlnaHQ6IDA7XAogICAgbGluZS1oZWlnaHQ6IDFcCn1cCiN3bHBfaW1nX25vdGkge1wKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcCiAgICBsZWZ0OiA0OCU7XAogICAgdG9wOiA1MCU7XAogICAgY29sb3I6ICNGRkY7XAogICAgYm9yZGVyLXJhZGl1czoyMHB4O1wKICAgIGJhY2tncm91bmQ6cmdiYSgxMjgsMTI4LDEyOCwwLjUpO1wKICAgIHBhZGRpbmc6MTBweDtcCn1cCiN3bHBfaW1nX2NvdW50ZXIge1wKICAgIHRyYW5zaXRpb246IG9wYWNpdHkgLjNzIGVhc2Utb3V0IDBzO1wKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcCiAgICB0b3A6IDIlO1wKICAgIHJpZ2h0OiAyJTtcCiAgICBjb2xvcjogI0ZGRjtcCiAgICB0ZXh0LXNoYWRvdzogMCwgMCwgNXB4LCAjMzMzXAogICAgYm9yZGVyLXJhZGl1czoxMHB4O1wKICAgIGJhY2tncm91bmQ6cmdiYSg4MCw4MCw4MCwwLjUpO1wKICAgIHBhZGRpbmc6NXB4O1wKICAgIHotaW5kZXg6OTk5OTtcCiAgICBtaW4td2lkdGg6NWVtO1wKICAgIHRleHQtYWxpZ246Y2VudGVyO1wKfVwKI3dscF9pbWdfdXNlciB7XAogICAgcG9zaXRpb246IGZpeGVkO1wKICAgIHJpZ2h0OiAyMHB4O1wKICAgIHRvcDogMjBweDtcCiAgICBwYWRkaW5nOiAwXAp9XAojd2xwX2ltZ191c2VyIGEge1wKICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1wKICAgIGJvcmRlci1yYWRpdXM6IDVweDtcCiAgICBwYWRkaW5nOiAwO1wKICAgIG92ZXJmbG93OiBoaWRkZW47XAogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgIWltcG9ydGFudFwKfVwKLyog5rWu5Yqo5qCPKi9cCiN3bHBfZmxvYXRiYXIge1wKICAgIGJhY2tncm91bmQ6ICNGRkY7XAogICAgYm9yZGVyOiAycHggc29saWQgI0NDQztcCiAgICB3aWR0aDogMjhweDtcCiAgICBvdmVyZmxvdzogaGlkZGVuO1wKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcCiAgICBwYWRkaW5nOiA4cHggMnB4O1wKICAgIHRleHQtYWxpZ246IGNlbnRlcjtcCiAgICBsaW5lLWhlaWdodDogMS45O1wKICAgIHotaW5kZXg6IDk5OTg7XAogICAgb3BhY2l0eTogMDtcCiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMXMgZWFzZS1vdXQgMHM7XAogICAgYm9yZGVyLXJhZGl1czo1cHg7XAogICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XAogICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7XAogICAgYm9yZGVyLXJpZ2h0OjA7XAp9XAojd2xwX2Zsb2F0YmFyOmhvdmVyIHtcCiAgICBib3JkZXItY29sb3I6ICMyQUNcCn1cCiN3bHBfZmxvYXRiYXIgYSB7XAogICAgZGlzcGxheTogYmxvY2s7XAp9XAojd2xwX2Zsb2F0YmFyIGE6aG92ZXIge1wKICAgIGNvbG9yOiAjMkFDO1wKfVwKLndscF9mbG9hdGJhcl9oaWRlIHtcCiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnRcCn1cCi8qIOaUtumbhumdouadvyovXAojd2xwX2NwIHtcCiAgICBwb3NpdGlvbjpmaXhlZDtcCiAgICBib3R0b206MDtcCiAgICB3aWR0aDo5OSU7XAogICAgZGlzcGxheTpub25lO1wKfVwKI3dscF9jcF93cmFwIHtcCiAgICB3aWR0aDo0NTBweDtcCiAgICBtYXJnaW46MCBhdXRvO1wKICAgIHBhZGRpbmc6MCAxMHB4O1wKICAgIGJhY2tncm91bmQ6I0ZGRjtcCiAgICBib3JkZXI6MnB4IHNvbGlkICMyYWY7XAogICAgYm9yZGVyLXJhZGl1czo1cHg7XAogICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowO1wKICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7XAogICAgYm9yZGVyLWJvdHRvbTpub25lO1wKICAgIHotaW5kZXg6OTk5OTtcCn1cCiN3bHBfY3BfdXJsbGlzdCB7XAogICAgbWFyZ2luOjEwcHggMCAwIDA7XAogICAgaGVpZ2h0OjcwcHg7XAogICAgd2lkdGg6MTAwJTtcCiAgICBvdmVyZmxvdy14OmhpZGRlbjtcCiAgICBvdmVyZmxvdy15OnNjcm9sbFwKfVwKI3dscF9jcF9idG4gYSB7XAogICAgY29sb3I6ICMzMzM7XAogICAgcGFkZGluZzogNXB4IDEwcHg7XAogICAgYm9yZGVyOiAxcHggc29saWQgI0NDQztcCiAgICBiYWNrZ3JvdW5kOiAjRkZGO1wKICAgIG1hcmdpbjogMTBweCAwO1wKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcCiAgICBsaW5lLWhlaWdodDogMVwKfVwKI3dscF9jcF9idG4gYTpob3ZlciB7XAogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1wKICAgIGJvcmRlcjogMXB4IHNvbGlkICMyQUM7XAogICAgYmFja2dyb3VuZDogIzJBQztcCiAgICBjb2xvcjogI0ZGRjtcCiAgICBjdXJzb3I6IHBvaW50ZXJcCn1cCicpOwoKLy/ln7rmnKzlj5jph48KdmFyIHVpZCwgcGlkLCBtaWQsIGZvcm1hdCwgcGFyYSwgY2RuLCBxdW90ZSwgdCwgZnQsIGh0LCBpdCwgaW1nTnVtID0gMCwgaW1ncyA9IFtdLCBwYXJlbnQsIGNwID0gW107Ci8v54mI6Z2i5Yik5pat44CC5YWs55uK54mI5L2/55SoIGlmcmFtZe+8jOaXoOazleaUr+aMgeOAggp2YXIgc2VhcmNoID0gd2luZG93LmxvY2F0aW9uLmhvc3QgPT09ICdzLndlaWJvLmNvbScsIC8v5Yik5pat5pCc57Si6aG16Z2iCiAgICBzZWFyY2hQaWMgPSB3aW5kb3cubG9jYXRpb24uaG9zdCA9PT0gJ3Mud2VpYm8uY29tJyAmJiB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdzLndlaWJvLmNvbS9waWMvJykgPiAwLCAvL+WIpOaWreaQnOe0oueFp+eJh+mhtemdogogICAgcGhvdG8gPSB3aW5kb3cubG9jYXRpb24uaG9zdCA9PT0gJ3Bob3RvLndlaWJvLmNvbSc7IC8v5Yik5pat54Wn54mH6aG16Z2iCiAgICBkaXNjb3ZlciA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0ID09PSAnZC53ZWliby5jb20nOyAvL+WIpOaWreWPkeeOsOmhtemdogogICAgcGhvdG9GbHVpZCA9ICEhd2luZG93LmxvY2F0aW9uLmhyZWYubWF0Y2goL3dlaWJvXC5jb21cL3BcL1xkK1wvYWxidW0vKTsKLy/mraPliJnooajovr7lvI8KdmFyIHJlZzMgPSAvLip3ZWliby5jb21cLyguKj8pXC8uKi8sCiAgICByZWc0ID0gLy4qdWlkPShcZCopJj8uKi8sCiAgICByZWc1ID0gLy4qbWlkPShcZCopJj8uKi8sCiAgICByZWc2ID0gL14uKj9cL1wvd3c/KHR8XGQpLiovLAogICAgcmVnNyA9IC8uKihcLihqcGd8Z2lmKSkuKj8kLywKICAgIHJlZzkgPSAvLipwaWQ9KFx3KikmPy4qLywKICAgIHJlZzExID0gL1t1cG1daWQ9L2csCiAgICByZWcxMyA9IC8uKlsoc3F1YXJlKXwodGh1bWJuYWlsKXwodGh1bWJcZCspXVwvKC4qKVwuLi4uLywKICAgIHJlZzE0ID0gLyh0aHVtYm5haWwpfChzcXVhcmUpfCh0aHVtYlxkKyl8KGNtd1xkKyl8KG9yajQ4MCkvLAogICAgcmVnMTUgPSAvLipzY2FsZVwoKC4qPylcKS4qLywKICAgIHJlZzE2ID0gLy4qcm90YXRlXCgoLio/KWRlZ1wpLiovLAogICAgcmVnMTcgPSAvLipzaW5haW1nLmNuXC8oLio/KVwvLiovLAogICAgcmVnMTggPSAvLipcLyguKikvLAogICAgcmVnMTkgPSAvXD90YWdzPS4qLzsKLy/lsI/lm77nu5HlrprorrDlvZUKdmFyIHdscF9iaW5kID0ge307Ci8v5rWu5Yqo5qCP5a+56LGhCnZhciB3bHBfZmxvYXRiYXIgPSB7fTsKCgovKiAt5bCP5Zu+LSAqLwoKaWYoX29uKXsKICAgIHdscF9mbG9hdGJhciA9IHsKCiAgICAgICAgLy/liKTmlq3mta7liqjmnaHlvIDlhbPnirbmgIEKICAgICAgICBzdGF0dXMgOiB0cnVlLAoKICAgICAgICAvL+WIpOaWrea1ruWKqOadoeacrOmhtemdouaYvumakAogICAgICAgIG9uIDogdHJ1ZSwKCiAgICAgICAgLy/lt6XlhbfmnaHpmpDol48KICAgICAgICBoaWRlIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgdCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB3bHBfZmxvYXRiYXIuZWwuc3R5bGUub3BhY2l0eSA9ICcwJzsKICAgICAgICAgICAgICAgIHdscF9mbG9hdGJhci5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMuaGlkZSwgZmFsc2UpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQub25rZXl1cCA9IG51bGw7CiAgICAgICAgICAgICAgICBodCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgd2xwX2Zsb2F0YmFyLmVsLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsKICAgICAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfSwKCiAgICAgICAgLy/lt6XlhbfmnaHotLTliLDlhYPntKDkuIoKICAgICAgICBzdGljayA6IGZ1bmN0aW9uKG5vZGUpewogICAgICAgICAgICBjbGVhclRpbWVvdXQodCk7CiAgICAgICAgICAgIGNsZWFyVGltZW91dChmdCk7CiAgICAgICAgICAgIGNsZWFyVGltZW91dChodCk7CiAgICAgICAgICAgIHZhciBub2RlUG9zaXRpb25pbmc7CiAgICAgICAgICAgIGlmKG5vZGUucGFyZW50Tm9kZS50YWdOYW1lID09PSAiTEkiKXsKICAgICAgICAgICAgICAgIG5vZGVQb3NpdGlvbmluZyA9IG5vZGUucGFyZW50Tm9kZTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBub2RlUG9zaXRpb25pbmcgPSBub2RlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBsZWZ0ID0gbm9kZVBvc2l0aW9uaW5nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyAoZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KSAtIDM5OwogICAgICAgICAgICB2YXIgdG9wID0gbm9kZVBvc2l0aW9uaW5nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIChkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKTsKICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gKGxlZnQgKyA1KSArICdweCc7CiAgICAgICAgICAgIHRoaXMuZWwuc3R5bGUudG9wID0gdG9wICsgJ3B4JzsKICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5vcGFjaXR5ID0gJzEnOwogICAgICAgICAgICB0aGlzLmVsLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7CiAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLmhpZGUsIGZhbHNlKTsKICAgICAgICB9LAoKICAgICAgICAvL+W3peWFt+adoeWFs+mXrQogICAgICAgIGNsb3NlIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHQpOwogICAgICAgICAgICBjbGVhclRpbWVvdXQoZnQpOwogICAgICAgICAgICBjbGVhclRpbWVvdXQoaHQpOwogICAgICAgICAgICB0aGlzLmVsLnN0eWxlLm9wYWNpdHkgPSAnMCc7CiAgICAgICAgICAgIHRoaXMuZWwuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nOwogICAgICAgICAgICBkb2N1bWVudC5vbmtleXVwID0gbnVsbDsKICAgICAgICB9LAoKICAgICAgICAvL+W3peWFt+adoeiuvue9ruWxnuaApwogICAgICAgIHByb3BlcnR5IDogZnVuY3Rpb24odWlkLCBtaWQsIHBpZCwgZm9ybWF0LCBjZG4pewogICAgICAgICAgICAkaWQoJ3dscF9mbG9hdGJhcl8xJykuaHJlZiA9ICdodHRwOi8vcGhvdG8ud2VpYm8uY29tLycgKyB1aWQgKyAnL3dicGhvdG9zL2xhcmdlL21pZC8nICsgbWlkICsgJy9waWQvJyArIHBpZDsKICAgICAgICAgICAgJGlkKCd3bHBfZmxvYXRiYXJfMycpLmhyZWYgPSAnaHR0cDovL3d3JyArIChjZG4gIT0gInQiID8gY2RuIDogIjEiKSArICcuc2luYWltZy5jbi9sYXJnZS8nICsgcGlkICsgZm9ybWF0OwogICAgICAgICAgICAvL+W8gOWni+ebkeWQrOmUruebmOS6i+S7tgogICAgICAgICAgICBkb2N1bWVudC5vbmtleXVwID0gZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7CiAgICAgICAgICAgICAgICBpZignNjUgODMgNjggNzAnLmluZGV4T2YoZS5rZXlDb2RlLnRvU3RyaW5nKCkpID49IDApewogICAgICAgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzd2l0Y2goZS5rZXlDb2RlKXsvL0VTQyDnqbrmoLwg5Y+z5LiK5bem5LiLIFogQyBYIFYgQgogICAgICAgICAgICAgICAgICAgIGNhc2UgNjUgOiB3aW5kb3cub3BlbigkaWQoJ3dscF9mbG9hdGJhcl8xJykuaHJlZiwgJ19ibGFuayAnICsgTWF0aC5yYW5kb20oKSk7YnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSA4MyA6IHdscF9mbG9hdGJhci5hZGQoKTticmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlIDY4IDogd2luZG93Lm9wZW4oJGlkKCd3bHBfZmxvYXRiYXJfMycpLmhyZWYsICdfYmxhbmsgJyArIE1hdGgucmFuZG9tKCkpO2JyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgNzAgOiBpbml0R2FsbGVyeSgpOzticmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8v5Yig6Zmk5rWu5Yqo5p2hCiAgICAgICAgcmVtb3ZlIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICAgICAgICB0aGlzLmVsLmNsYXNzTmFtZSA9ICd3bHBfZmxvYXRiYXJfaGlkZSc7CiAgICAgICAgICAgIHRoaXMub24gPSBmYWxzZTsKICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgcmVtb3ZlTm9kZUluc2VydGVkTGlzdGVuZXIod2xwX2JpbmQuTWFpbik7CiAgICAgICAgICAgICAgICByZW1vdmVOb2RlSW5zZXJ0ZWRMaXN0ZW5lcih3bHBfYmluZC5TZWFyY2gpOwogICAgICAgICAgICAgICAgcmVtb3ZlTm9kZUluc2VydGVkTGlzdGVuZXIod2xwX2JpbmQuU2VhcmNoUGljKTsKICAgICAgICAgICAgICAgIHJlbW92ZU5vZGVJbnNlcnRlZExpc3RlbmVyKHdscF9iaW5kLlBob3RvKTsKICAgICAgICAgICAgICAgIHJlbW92ZU5vZGVJbnNlcnRlZExpc3RlbmVyKHdscF9iaW5kLnBob3RvRmx1aWQpOwogICAgICAgICAgICB9Y2F0Y2goZXJyKXt9CiAgICAgICAgICAgICRpZCgnd2xwX2Zsb2F0YmFyXzEnKS5vbmNsaWNrID0gbnVsbDsKICAgICAgICAgICAgJGlkKCd3bHBfZmxvYXRiYXJfMicpLm9uY2xpY2sgPSBudWxsOwogICAgICAgICAgICAkaWQoJ3dscF9mbG9hdGJhcl8zJykub25jbGljayA9IG51bGw7CiAgICAgICAgICAgICRpZCgnd2xwX2Zsb2F0YmFyXzQnKS5vbmNsaWNrID0gbnVsbDsKICAgICAgICAgICAgJGlkKCd3bHBfZmxvYXRiYXJfNScpLm9uY2xpY2sgPSBudWxsOwogICAgICAgICAgICBkZWxldGUgd2xwX2JpbmQ7IC8v5riF6Zmk5omA5pyJ5bCP5Zu+55qE55uR6KeG5bm26YeK5pS+CiAgICAgICAgfSwKCiAgICAgICAgLy/liqDlhaXmlLbpm4bpnaLmnb8KICAgICAgICBhZGQgOiBmdW5jdGlvbigpewogICAgICAgICAgICAkaWQoJ3dscF9jcCcpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICBpZihjcC5pbmRleE9mKCRpZCgnd2xwX2Zsb2F0YmFyXzMnKS5ocmVmKSA8IDApewogICAgICAgICAgICAgICAgY3AucHVzaCgkaWQoJ3dscF9mbG9hdGJhcl8zJykuaHJlZik7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciBjcF90ZXh0ID0gIiI7CiAgICAgICAgICAgIGZvcih2YXIgaSBpbiBjcCl7CiAgICAgICAgICAgICAgICBjcF90ZXh0ID0gY3BfdGV4dCArIGNwW2ldICsgIlxyXG4iOwogICAgICAgICAgICB9CiAgICAgICAgICAgICRpZCgnd2xwX2NwX3VybGxpc3QnKS5pbm5lckhUTUwgPSBjcF90ZXh0OwogICAgICAgIH0sCiAgICB9OwoKICAgIC8v57uR5a6a5bCP5Zu+CiAgICB2YXIgYmluZFNtYWxsID0gewoKICAgICAgICBtYWluIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgYWRkU3R5bGVDb21wYXRpYmxlKCcuV0JfZmVlZF92MyAuV0JfbWVkaWFfYSBsaTphZnRlcntwb3NpdGlvbjpyZWxhdGl2ZSAhaW1wb3J0YW50fScpOy8vOjphZnRlciDnmoQgcG9zaXRpb24g5b2x5ZON5LqGIGltZyDnmoQgaG92ZXLvvIxoYWNrIOaOieWug+OAggogICAgICAgICAgICB3bHBfYmluZC5NYWluID0gYWRkTm9kZUluc2VydGVkTGlzdGVuZXIoJ2ltZy5iaWdjdXJzb3Jbc3JjKj0ic2luYWltZyJdOmhvdmVyLCBsaS5iaWdjdXJzb3IgaW1nW3NyYyo9InNpbmFpbWciXTpob3ZlcicsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgdGhhdCA9IGUudGFyZ2V0IHx8IGV2ZW50LnRhcmdldDsKICAgICAgICAgICAgICAgIHdscF9mbG9hdGJhci5jbG9zZSgpOwogICAgICAgICAgICAgICAgZW50cnlTbWFsbC5tYWluKHRoYXQpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICBzZWFyY2ggOiBmdW5jdGlvbigpewogICAgICAgICAgICB3bHBfYmluZC5TZWFyY2ggPSBhZGROb2RlSW5zZXJ0ZWRMaXN0ZW5lcignaW1nLmJpZ2N1cnNvcltzcmMqPSJzaW5haW1nIl06aG92ZXInLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIHRoYXQgPSBlLnRhcmdldCB8fCBldmVudC50YXJnZXQ7CiAgICAgICAgICAgICAgICB3bHBfZmxvYXRiYXIuY2xvc2UoKTsKICAgICAgICAgICAgICAgIGVudHJ5U21hbGwuc2VhcmNoKHRoYXQpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICBzZWFyY2hQaWMgOiBmdW5jdGlvbigpewogICAgICAgICAgICB3bHBfYmluZC5TZWFyY2hQaWMgPSBhZGROb2RlSW5zZXJ0ZWRMaXN0ZW5lcignLmxpc3RfcGljYm94IC5pbWcgaW1nW3NyYyo9InNpbmFpbWciXTpob3ZlcicsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgdGhhdCA9IGUudGFyZ2V0IHx8IGV2ZW50LnRhcmdldDsKICAgICAgICAgICAgICAgIHdscF9mbG9hdGJhci5jbG9zZSgpOwogICAgICAgICAgICAgICAgZW50cnlTbWFsbC5zZWFyY2hQaWModGhhdCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIHBob3RvIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgd2xwX2JpbmQuUGhvdG8gPSBhZGROb2RlSW5zZXJ0ZWRMaXN0ZW5lcignLnBob3RvTGlzdCBpbWdbc3JjKj0ic2luYWltZyJdOmhvdmVyJywgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICB0aGF0ID0gZS50YXJnZXQgfHwgZXZlbnQudGFyZ2V0OwogICAgICAgICAgICAgICAgd2xwX2Zsb2F0YmFyLmNsb3NlKCk7CiAgICAgICAgICAgICAgICBlbnRyeVNtYWxsLnBob3RvKHRoYXQpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICBwaG90b0ZsdWlkIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgd2xwX2JpbmQucGhvdG9GbHVpZCA9IGFkZE5vZGVJbnNlcnRlZExpc3RlbmVyKCdpbWcucGhvdG9fcGljW3NyYyo9InNpbmFpbWciXTpob3ZlcicsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgdGhhdCA9IGUudGFyZ2V0IHx8IGV2ZW50LnRhcmdldDsKICAgICAgICAgICAgICAgIHdscF9mbG9hdGJhci5jbG9zZSgpOwogICAgICAgICAgICAgICAgZW50cnlTbWFsbC5waG90b0ZsdWlkKHRoYXQpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICBwaG90b0ZsdWlkTmV3IDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgd2xwX2JpbmQucGhvdG9GbHVpZCA9IGFkZE5vZGVJbnNlcnRlZExpc3RlbmVyKCdpbWcucGhvdG9fcGljdFtzcmMqPSJzaW5haW1nIl06aG92ZXInLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIHRoYXQgPSBlLnRhcmdldCB8fCBldmVudC50YXJnZXQ7CiAgICAgICAgICAgICAgICB3bHBfZmxvYXRiYXIuY2xvc2UoKTsKICAgICAgICAgICAgICAgIGVudHJ5U21hbGwucGhvdG9GbHVpZE5ldyh0aGF0KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgZGlzY292ZXIgOiBmdW5jdGlvbigpewogICAgICAgICAgICBhZGRTdHlsZUNvbXBhdGlibGUoJy5XQl9mZWVkX3YzIC5XQl9tZWRpYV9hIGxpOmFmdGVye3Bvc2l0aW9uOnJlbGF0aXZlICFpbXBvcnRhbnR9Jyk7Ly86OmFmdGVyIOeahCBwb3NpdGlvbiDlvbHlk43kuoYgaW1nIOeahCBob3Zlcu+8jGhhY2sg5o6J5a6D44CCCiAgICAgICAgICAgIHdscF9iaW5kLkhvdCA9IGFkZE5vZGVJbnNlcnRlZExpc3RlbmVyKCdpbWcuYmlnY3Vyc29yW3NyYyo9InNpbmFpbWciXTpob3ZlcicsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgdGhhdCA9IGUudGFyZ2V0IHx8IGV2ZW50LnRhcmdldDsKICAgICAgICAgICAgICAgIHdscF9mbG9hdGJhci5jbG9zZSgpOwogICAgICAgICAgICAgICAgZW50cnlTbWFsbC5tYWluKHRoYXQpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgfTsKCiAgICAvL+m8oOagh+enu+WKqOWIsOWwj+WbvuWQjueahOihjOS4ugogICAgdmFyIGVudHJ5U21hbGwgPSB7CgogICAgICAgIG1haW4gOiBmdW5jdGlvbih0aGF0KXsKICAgICAgICAgICAgd2xwX2Zsb2F0YmFyLnN0aWNrKHRoYXQpOwogICAgICAgICAgICBmb3JtYXQgPSB0aGF0LnNyYy5yZXBsYWNlKHJlZzcsICckMScpOy8v5Zu+54mH5qC85byPCiAgICAgICAgICAgIGNkbiA9IGdhbGxlcnkuX2NkbiB8fCB0aGF0LnNyYy5yZXBsYWNlKC93eChcZClcLi8sICd3dyQxLicpLnJlcGxhY2UocmVnNiwgJyQxJyk7Ly/lm77niYcgQ0ROIOWcsOWdgAogICAgICAgICAgICBpZih0aGF0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2FjdGlvbi1kYXRhJyk9PSBudWxsKXsKICAgICAgICAgICAgICAgIHBhcmEgPSB0aGF0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdhY3Rpb24tZGF0YScpOwogICAgICAgICAgICAgICAgcGlkID0gcGFyYS5yZXBsYWNlKC9wKGljXyk/aWQ9KC4qPykmLiovZywgJyQyJyk7CiAgICAgICAgICAgICAgICBtaWQgPSBwYXJhLnJlcGxhY2UocmVnNSwgJyQxJyk7CiAgICAgICAgICAgICAgICB1aWQgPSBwYXJhLnJlcGxhY2UocmVnNCwgJyQxJyk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgcGFyYSA9IHRoYXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnYWN0aW9uLWRhdGEnKTsKICAgICAgICAgICAgICAgIHBpZCA9IHRoYXQuc3JjLnJlcGxhY2UocmVnMTMsICckMScpOwogICAgICAgICAgICAgICAgbWlkID0gcGFyYS5yZXBsYWNlKHJlZzUsICckMScpOwogICAgICAgICAgICAgICAgdWlkID0gcGFyYS5yZXBsYWNlKHJlZzQsICckMScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHdscF9mbG9hdGJhci5wcm9wZXJ0eSh1aWQsIG1pZCwgcGlkLCBmb3JtYXQsIGNkbik7CiAgICAgICAgfSwKCiAgICAgICAgc2VhcmNoIDogZnVuY3Rpb24odGhhdCl7CiAgICAgICAgICAgIHdscF9mbG9hdGJhci5zdGljayh0aGF0KTsKICAgICAgICAgICAgZm9ybWF0ID0gdGhhdC5zcmMucmVwbGFjZShyZWc3LCAnJDEnKTsKICAgICAgICAgICAgY2RuID0gZ2FsbGVyeS5fY2RuIHx8dGhhdC5zcmMucmVwbGFjZSgvd3goXGQpXC4vLCAnd3ckMS4nKS5yZXBsYWNlKHJlZzYsICckMScpOwogICAgICAgICAgICBwaWQgPSB0aGF0LnNyYy5yZXBsYWNlKHJlZzEzLCAnJDEnKTsKICAgICAgICAgICAgaWYodGhhdC5nZXRBdHRyaWJ1dGUoJ2FjdGlvbi10eXBlJykuaW5kZXhPZignZmVlZF9saXN0X21lZGlhX2ltZycpID49IDApewogICAgICAgICAgICAgICAgcGFyYSA9IHRoYXQuZ2V0QXR0cmlidXRlKCdhY3Rpb24tZGF0YScpLnJlcGxhY2UocmVnMTEsICcnKS5zcGxpdCgnJicpOwogICAgICAgICAgICAgICAgbWlkID0gcGFyYVsxXTsKICAgICAgICAgICAgICAgIHVpZCA9IHBhcmFbMF07CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhhdCA9IHRoYXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICBtaWQgPSB0aGF0LmdldEF0dHJpYnV0ZSgnYWN0aW9uLWRhdGEnKS5yZXBsYWNlKHJlZzUsICckMScpOwogICAgICAgICAgICAgICAgdWlkID0gdGhhdC5nZXRBdHRyaWJ1dGUoJ2FjdGlvbi1kYXRhJykucmVwbGFjZShyZWc0LCAnJDEnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB3bHBfZmxvYXRiYXIucHJvcGVydHkodWlkLCBtaWQsIHBpZCwgZm9ybWF0LCBjZG4pOwogICAgICAgIH0sCgogICAgICAgIHBob3RvIDogZnVuY3Rpb24odGhhdCl7CiAgICAgICAgICAgIHdscF9mbG9hdGJhci5zdGljayh0aGF0KTsKICAgICAgICAgICAgZm9ybWF0ID0gdGhhdC5zcmMucmVwbGFjZShyZWc3LCAnJDEnKTsKICAgICAgICAgICAgY2RuID0gZ2FsbGVyeS5fY2RuIHx8IHRoYXQuc3JjLnJlcGxhY2UoL3d4KFxkKVwuLywgJ3d3JDEuJykucmVwbGFjZShyZWc2LCAnJDEnKTsKICAgICAgICAgICAgcGlkID0gdGhhdC5zcmMucmVwbGFjZShyZWcxMywgJyQxJyk7CiAgICAgICAgICAgIG1pZCA9IHRoYXQucGFyZW50Tm9kZS5ocmVmLnJlcGxhY2UocmVnMTgsICckMScpLnJlcGxhY2UocmVnMTksICcnKTsKICAgICAgICAgICAgdWlkID0gdGhhdC5wYXJlbnROb2RlLmhyZWYucmVwbGFjZShyZWczLCAnJDEnKTsKICAgICAgICAgICAgd2xwX2Zsb2F0YmFyLnByb3BlcnR5KHVpZCwgbWlkLCBwaWQsIGZvcm1hdCwgY2RuKTsKICAgICAgICB9LAoKICAgICAgICBwaG90b0ZsdWlkIDogZnVuY3Rpb24odGhhdCl7CiAgICAgICAgICAgIHdscF9mbG9hdGJhci5zdGljayh0aGF0KTsKICAgICAgICAgICAgZm9ybWF0ID0gdGhhdC5zcmMucmVwbGFjZShyZWc3LCAnJDEnKTsKICAgICAgICAgICAgY2RuID0gZ2FsbGVyeS5fY2RuIHx8IHRoYXQuc3JjLnJlcGxhY2UoL3d4KFxkKVwuLywgJ3d3JDEuJykucmVwbGFjZShyZWc2LCAnJDEnKTsKICAgICAgICAgICAgcGlkID0gdGhhdC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnYWN0aW9uLWRhdGEnKS5yZXBsYWNlKHJlZzksICckMScpOwogICAgICAgICAgICB1aWQgPSB0aGF0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdhY3Rpb24tZGF0YScpLnJlcGxhY2UocmVnNCwgJyQxJyk7CiAgICAgICAgICAgIHdscF9mbG9hdGJhci5wcm9wZXJ0eSh1aWQsIG1pZCwgcGlkLCBmb3JtYXQsIGNkbik7CiAgICAgICAgfSwKCiAgICAgICAgcGhvdG9GbHVpZE5ldyA6IGZ1bmN0aW9uKHRoYXQpewogICAgICAgICAgICBpZih0aGF0LnBhcmVudE5vZGUuaHJlZi5pbmRleE9mKCJ2aWRlby53ZWliby5jb20iKSA8IDApewogICAgICAgICAgICAgICAgd2xwX2Zsb2F0YmFyLnN0aWNrKHRoYXQpOwogICAgICAgICAgICAgICAgZm9ybWF0ID0gdGhhdC5zcmMucmVwbGFjZShyZWc3LCAnJDEnKTsKICAgICAgICAgICAgICAgIGNkbiA9IGdhbGxlcnkuX2NkbiB8fCB0aGF0LnNyYy5yZXBsYWNlKC93eChcZClcLi8sICd3dyQxLicpLnJlcGxhY2UocmVnNiwgJyQxJyk7CiAgICAgICAgICAgICAgICBwaWQgPSB0aGF0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdhY3Rpb24tZGF0YScpLnJlcGxhY2UocmVnOSwgJyQxJyk7CiAgICAgICAgICAgICAgICBpZih0aGF0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNoaWxkcmVuLmxlbmd0aCA8IDIpewogICAgICAgICAgICAgICAgICAgIG1pZCA9IHRoYXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2FjdGlvbi1kYXRhJykucmVwbGFjZShyZWc1LCAnJDEnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHVpZCA9IHRoYXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2FjdGlvbi1kYXRhJykucmVwbGFjZShyZWc0LCAnJDEnKTsKICAgICAgICAgICAgICAgIHdscF9mbG9hdGJhci5wcm9wZXJ0eSh1aWQsIG1pZCwgcGlkLCBmb3JtYXQsIGNkbik7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzZWFyY2hQaWMgOiBmdW5jdGlvbih0aGF0KXsKICAgICAgICAgICAgd2xwX2Zsb2F0YmFyLnN0aWNrKHRoYXQpOwogICAgICAgICAgICBmb3JtYXQgPSB0aGF0LnNyYy5yZXBsYWNlKC93eChcZClcLi8sICd3dyQxLicpLnJlcGxhY2UocmVnNywgJyQxJyk7CiAgICAgICAgICAgIGNkbiA9IGdhbGxlcnkuX2NkbiB8fCB0aGF0LnNyYy5yZXBsYWNlKHJlZzYsICckMScpOwogICAgICAgICAgICBwaWQgPSB0aGF0LnNyYy5yZXBsYWNlKHJlZzEzLCAnJDEnKTsKICAgICAgICAgICAgbWlkID0gdGhhdC5nZXRBdHRyaWJ1dGUoJ21pZCcpOwogICAgICAgICAgICB1aWQgPSB0aGF0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLnNyYy5yZXBsYWNlKHJlZzE3LCAnJDEnKTsKICAgICAgICAgICAgd2xwX2Zsb2F0YmFyLnByb3BlcnR5KHVpZCwgbWlkLCBwaWQsIGZvcm1hdCwgY2RuKTsKICAgICAgICB9LAogICAgfTsKCiAgICAvL+Wwj+WbvuWKn+iDveWIneWni+WMlgogICAgLy/liJvlu7rlt6XlhbfmnaEKICAgIHZhciBmdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZnREaXYuaWQgPSAnd2xwX2Zsb2F0YmFyJzsKICAgIGZ0RGl2LmlubmVySFRNTCA9ICc8YSBocmVmPSJqYXZhc2NyaXB0OjsidGFyZ2V0PSJfYmxhbmsiaWQ9IndscF9mbG9hdGJhcl8xInRpdGxlPSLlv6vmjbfplK4oQSkg6L+b5YWl55u45YaM5aSn5Zu+6aG16Z2iIj7lm748L2E+PGEgaHJlZj0iamF2YXNjcmlwdDo7ImlkPSJ3bHBfZmxvYXRiYXJfMiJ0aXRsZT0i5b+r5o236ZSuKFMpIOWKoOWFpeivpeWbvuWcsOWdgOWIsOaUtumbhumdouadvyI+6ZuGPC9hPjxhIGhyZWY9ImphdmFzY3JpcHQ6OyJ0YXJnZXQ9Il9ibGFuayJpZD0id2xwX2Zsb2F0YmFyXzMidGl0bGU9IuW/q+aNt+mUrihEKSDlpKflm77ljp/lp4vlnLDlnYDvvIzlnKjmraTngrnlj7PplK7lj6/ku6Xlj6blrZjlm77lg4/miJbogIXlpI3liLblnLDlnYDovazlj5Hnu5nliKvkuroiPua6kDwvYT48YSBocmVmPSJqYXZhc2NyaXB0OjsiaWQ9IndscF9mbG9hdGJhcl81InRpdGxlPSLlv6vmjbfplK4oRikg5L2/55So55S75buK5qih5byP5rWP6KeI5pys6aG15aSn5Zu+Ij7op4g8L2E+PGEgaHJlZj0iamF2YXNjcmlwdDo7ImlkPSJ3bHBfZmxvYXRiYXJfNCJ0aXRsZT0i5Li05pe25YWz6Zet5oiR6KaB55yL5aSn5Zu+5bel5YW35p2h77yM5Yi35paw6aG16Z2i5ZCO5aSx5pWIXG7kvaDlj6/ku6XlnKjkuIrmlrnnmoTlt6XlhbfmoI/orr7nva7oj5zljZXlhoXmsLjkuYXlhbPpl63mta7liqjlt6XlhbfmnaEiPlg8L2E+JzsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZnREaXYpOwoKICAgIC8v5Li65bel5YW35p2h5oyJ6ZKu5Yib5bu65LqL5Lu2CiAgICAkaWQoJ3dscF9mbG9hdGJhcl8xJykub25jbGljayA9IGZ1bmN0aW9uKCl7d2xwX2Zsb2F0YmFyLmNsb3NlKCk7fQogICAgJGlkKCd3bHBfZmxvYXRiYXJfMicpLm9uY2xpY2sgPSBmdW5jdGlvbigpe3dscF9mbG9hdGJhci5hZGQoKTt9CiAgICAkaWQoJ3dscF9mbG9hdGJhcl8zJykub25jbGljayA9IGZ1bmN0aW9uKCl7d2xwX2Zsb2F0YmFyLmNsb3NlKCk7fQogICAgJGlkKCd3bHBfZmxvYXRiYXJfNCcpLm9uY2xpY2sgPSBmdW5jdGlvbigpe3dscF9mbG9hdGJhci5yZW1vdmUoKTt9CgoKICAgIC8v5Yib5bu65pS26ZuG6Z2i5p2/CiAgICB2YXIgY3BEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGNwRGl2LmlkID0gJ3dscF9jcCc7CiAgICBjcERpdi5pbm5lckhUTUwgPSAnPGRpdiBpZD0id2xwX2NwX3dyYXAiPjx0ZXh0YXJlYSBpZD0id2xwX2NwX3VybGxpc3QiIHJlYWRvbmx5PjwvdGV4dGFyZWE+PGRpdiBpZD0id2xwX2NwX2J0biI+PGRpdiBzdHlsZT0iZmxvYXQ6bGVmdCI+PGEgaHJlZj0iamF2YXNjcmlwdDo7IiBpZD0id2xwX2NwX2NsZWFyIiBzdHlsZT0ibWFyZ2luLXJpZ2h0OjEwcHgiPua4heepujwvYT48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGlkPSJ3bHBfY3BfY2xvc2UiPuWFs+mXrTwvYT48L2Rpdj48ZGl2IHN0eWxlPSJmbG9hdDpyaWdodCI+PGEgaHJlZj0iamF2YXNjcmlwdDo7IiBpZD0id2xwX2NwX2NkbiI+6K6+572uPC9hPjwvZGl2PjxkaXYgc3R5bGU9ImNsZWFyOmJvdGgiPjwvZGl2PjwvZGl2PjxkaXY+54K55Ye75Zyw5Z2A5pS26ZuG5paH5pys5qGG77yM5oyJ5LiLIEN0cmwrQSDlho3mjIkgQ3RybCtDIOWNs+WPr+WwhuWcsOWdgOWkjeWItuWIsOWJqui0tOadv+OAgjwvZGl2PjxkaXY+5Yi35paw6aG16Z2i5oiW6L+b5YWl5paw6aG16Z2i5bCG5Lya5riF56m65pS26ZuG77yBPC9kaXY+PC9kaXY+JzsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY3BEaXYpOwogICAgCiAgICAkaWQoJ3dscF9jcF9jbG9zZScpLm9uY2xpY2sgPSBmdW5jdGlvbigpeyRpZCgnd2xwX2NwJykuc3R5bGUuZGlzcGxheSA9ICJub25lIjt9CiAgICAkaWQoJ3dscF9jcF9jbGVhcicpLm9uY2xpY2sgPSBmdW5jdGlvbigpewogICAgICAgICRpZCgnd2xwX2NwJykuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAkaWQoJ3dscF9jcF91cmxsaXN0JykuaW5uZXJUZXh0ID0gIiI7CiAgICAgICAgY3AgPSBbXTsKICAgIH0KICAgICRpZCgnd2xwX2NwX2NkbicpLm9uY2xpY2sgPSBmdW5jdGlvbigpe0NETi5jZG5VSSgpO30KCgogICAgZnVuY3Rpb24gaW5pdEdhbGxlcnkoKXsKICAgICAgICBpZih3bHBfZmxvYXRiYXIub24pe3dscF9mbG9hdGJhci5jbG9zZSgpO30KICAgICAgICBpbWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nLmJpZ2N1cnNvcltzcmMqPSJzaW5haW1nIl0sIGltZy5pbWdpY29uW3NyYyo9InNpbmFpbWciXSwgLnBob3RvTGlzdCBpbWdbc3JjKj0ic2luYWltZyJdLCBpbWcucGhvdG9fcGljW3NyYyo9InNpbmFpbWciXSwgLmxpc3RfcGljYm94IC5pbWcgaW1nW3NyYyo9InNpbmFpbWciXSwgbGkuYmlnY3Vyc29yIGltZ1tzcmMqPSJzaW5haW1nIl0sIGltZy5waG90b19waWN0W3NyYyo9InNpbmFpbWciXScpOwogICAgICAgIHNyYyA9ICRpZCgnd2xwX2Zsb2F0YmFyXzMnKS5ocmVmLnJlcGxhY2UocmVnMTgsICckMScpLnJlcGxhY2UocmVnMTksICcnKTs7CiAgICAgICAgZm9yKHZhciBpIGluIGltZ3MpewogICAgICAgICAgICAvL+iOt+WPluW9k+WJjeWbvueJh+eahOasoeW6jwogICAgICAgICAgICBpZihpbWdzW2ldLnNyYy5yZXBsYWNlKHJlZzE4LCAnJDEnKS5yZXBsYWNlKHJlZzE5LCAnJykgPT09IHNyYyl7CiAgICAgICAgICAgICAgICBpbWdOdW0gPSBpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoaSA9PSBpbWdzLmxlbmd0aCl7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBnYWxsZXJ5LmNvdW50ZXJfbm93LmlubmVySFRNTCA9IHBhcnNlSW50KGltZ051bSkgKyAxOwogICAgICAgIGdhbGxlcnkuY291bnRlcl90b3RhbC5pbm5lckhUTUwgPSBpbWdzLmxlbmd0aDsKICAgICAgICBnYWxsZXJ5Ll9tb2RlID8gc3JjID0gJGlkKCd3bHBfZmxvYXRiYXJfMycpLmhyZWYgOiBzcmMgPSAkaWQoJ3dscF9mbG9hdGJhcl8zJykuaHJlZi5yZXBsYWNlKCdsYXJnZScsICdibWlkZGxlJyk7ICAvL+agueaNrua1j+iniOaooeW8j+WGs+WumuWkp+WbvuWwj+WbvgogICAgICAgIGdhbGxlcnkuX2NkbiA9PT0gMCA/IHRydWUgOiBzcmMgPSBzcmMucmVwbGFjZSgvdyh3fHQpP1xkP1wuLywgJ3d3JyArIGdhbGxlcnkuX2NkbiArICcuJyk7ICAvL+agueaNriBDRE4g6K6+572u5Zyw5Z2ACiAgICAgICAgZ2FsbGVyeS5zb3VyY2UuaHJlZiA9IHNyYy5yZXBsYWNlKC8oYm1pZGRsZSl8KG9yajQ4MCkvLCAnbGFyZ2UnKTsKICAgICAgICBpbWdSZWFkeShzcmMsIGZ1bmN0aW9uKCl7Z2FsbGVyeS5pbWcuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztnYWxsZXJ5LmltZy5zdHlsZS5vcGFjaXR5ID0gJzAuNSc7Z2FsbGVyeS5jYWxjUG9zKHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoLCBzcmMpfSk7CiAgICAgICAgZ2FsbGVyeS5pbWdEaXYuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsgLy/mmL7npLrlm77lg4/lsYIKICAgICAgICBnYWxsZXJ5LmltZ0Rpdi5zdHlsZS5vcGFjaXR5ID0gJzEnOwogICAgICAgIGdhbGxlcnkubm90aS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnOwogICAgICAgIGdhbGxlcnkubm90aS5pbm5lckhUTUwgPSAn5q2j5Zyo6K+75Y+WJzsKICAgICAgICAvL+W8gOWni+ebkeWQrOmUruebmOS6i+S7tgogICAgICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IGZ1bmN0aW9uKGUpewogICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7CiAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTsKICAgICAgICAgICAgLy/kuIrkuIvlt6blj7PlkoznqbrmoLzkuI3op6blj5HpobXpnaLmu5rliqjlkozkuovku7YKICAgICAgICAgICAgaWYoJzMyIDM3IDM4IDM5IDQwJy5pbmRleE9mKGUua2V5Q29kZS50b1N0cmluZygpKSA+PSAwKXsKICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc3dpdGNoKGUua2V5Q29kZSl7Ly9FU0Mg56m65qC8IOWPs+S4iuW3puS4iyBaIEMgWCBWIEIKICAgICAgICAgICAgICAgIGNhc2UgMjcgOiBnYWxsZXJ5LmNvbnRyb2wuZXhpdEdhbGxlcnkoKTticmVhazsKICAgICAgICAgICAgICAgIGNhc2UgMzIgOiBnYWxsZXJ5LmNhbGNQb3MoZ2FsbGVyeS5pbWcuaGVpZ2h0LCBnYWxsZXJ5LmltZy53aWR0aCwgJycpO2JyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAzNyA6IGdhbGxlcnkuY29udHJvbC5wcmV2SW1nKCk7YnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDM4IDogZ2FsbGVyeS5pbWcucGFyZW50Tm9kZS5zdHlsZS50b3AgPSBwYXJzZUludChnYWxsZXJ5LmltZy5wYXJlbnROb2RlLnN0eWxlLnRvcC5yZXBsYWNlKCdweCcsJycpKSArIDMwICsgJ3B4JzticmVhazsKICAgICAgICAgICAgICAgIGNhc2UgMzkgOiBnYWxsZXJ5LmNvbnRyb2wubmV4dEltZygpO2JyZWFrOwogICAgICAgICAgICAgICAgY2FzZSA0MCA6IGdhbGxlcnkuaW1nLnBhcmVudE5vZGUuc3R5bGUudG9wID0gcGFyc2VJbnQoZ2FsbGVyeS5pbWcucGFyZW50Tm9kZS5zdHlsZS50b3AucmVwbGFjZSgncHgnLCcnKSkgLSAzMCArICdweCc7YnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDkwIDogZ2FsbGVyeS5jb250cm9sLnJvdGF0ZUxlZnQoKTticmVhazsKICAgICAgICAgICAgICAgIGNhc2UgNjcgOiBnYWxsZXJ5LmNvbnRyb2wucm90YXRlUmlnaHQoKTticmVhazsKICAgICAgICAgICAgICAgIGNhc2UgODggOiBnYWxsZXJ5LmNvbnRyb2wuY2hhbmdlTW9kZSgpO2JyZWFrOwogICAgICAgICAgICAgICAgY2FzZSA4NiA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gZ2FsbGVyeS5maW5kUGFyZW50KCkub2Zmc2V0VG9wIC0gNTA7Z2FsbGVyeS5jb250cm9sLmV4aXRHYWxsZXJ5KCk7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGdhbGxlcnkuZmluZFBhcmVudCgpLm9mZnNldFRvcCAtIDUwO2JyZWFrOwogICAgICAgICAgICAgICAgY2FzZSA2NiA6IHdpbmRvdy5vcGVuKGdhbGxlcnkuc291cmNlLmhyZWYsICdfYmxhbmsgJyArIE1hdGgucmFuZG9tKCkpO2JyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgICRpZCgnd2xwX2Zsb2F0YmFyXzUnKS5vbmNsaWNrID0gZnVuY3Rpb24oKXtpbml0R2FsbGVyeSgpfTsKCiAgICAvL+S4uuW3peWFt+adoeWIm+W7uuebkeWQrOS6i+S7tgogICAgd2xwX2Zsb2F0YmFyLmVsID0gJGlkKCd3bHBfZmxvYXRiYXInKTsKICAgIHdscF9mbG9hdGJhci5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpewogICAgICAgIGNsZWFyVGltZW91dChodCk7CiAgICAgICAgY2xlYXJUaW1lb3V0KGZ0KTsKICAgICAgICBjbGVhclRpbWVvdXQodCk7CiAgICB9LCBmYWxzZSk7CiAgICB3bHBfZmxvYXRiYXIuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbigpewogICAgICAgIGZ0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgd2xwX2Zsb2F0YmFyLmVsLnN0eWxlLm9wYWNpdHkgPSAnMCc7CiAgICAgICAgICAgIGh0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICB3bHBfZmxvYXRiYXIuZWwuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nOwogICAgICAgICAgICB9LCAxMDApOwogICAgICAgIH0sIDUwMCk7CiAgICB9LCBmYWxzZSk7Cn1lbHNlewogICAgd2xwX2Zsb2F0YmFyLnN0YXR1cyA9IHdscF9mbG9hdGJhci5vbiA9IGZhbHNlOwp9OwoKLyogLeeUu+W7ii0gKi8KCnZhciBnYWxsZXJ5ID0gewogICAgaW1nRGl2IDogbnVsbCwKICAgIGltZyA6IG51bGwsCiAgICByYXRpbyA6IG51bGwsCiAgICBub3RpIDogbnVsbCwKICAgIG1vZGUgOiBudWxsLAogICAgX21vZGUgOiBudWxsLAogICAgX3ZpZXcgOiBfX3ZpZXcsCiAgICBfY2RuIDogX19jZG4sCiAgICBjb3VudGVyX25vdyA6IG51bGwsCiAgICBjb3VudGVyX3RvdGFsOiBudWxsLAoKICAgIGluaXQgOiBmdW5jdGlvbigpewogICAgICAgIC8v5bu656uL5Zu+5YOP5bGCCiAgICAgICAgZ2FsbGVyeS5pbWdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBnYWxsZXJ5LmltZ0Rpdi5pZCA9ICd3bHBfaW1nX3dyYXAnOwogICAgICAgIGdhbGxlcnkuaW1nRGl2LmlubmVySFRNTCA9ICc8ZGl2IGlkPSJ3bHBfaW1nX2NvbnRhaW5lciI+PGRpdiBpZD0id2xwX2ltZ19kcmFnIj48aW1nIGlkPSJ3bHBfaW1nIi8+PC9kaXY+PC9kaXY+PGRpdiBpZD0id2xwX2ltZ19jb250cm9sZXIiPjxzcGFuIGlkPSJ3bHBfaW1nX3B1bGxsZWZ0Ij48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGlkPSJ3bHBfaW1nX2hlbHAiPuW4ruWKqTwvYT48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGlkPSJ3bHBfaW1nX2NkbiI+6K6+572uPC9hPjwvc3Bhbj48YSBpZD0id2xwX2ltZ19wcmV2IiB0aXRsZT0i5rWP6KeI5LiK5LiA5byg5Zu+54mHIj7kuIrkuIDlvKAo4oaQKTwvYT48YSBpZD0id2xwX2ltZ19sZWZ0IiB0aXRsZT0i5ZCR5bem5peL6L2s5Zu+54mHIDkwwrAiPuWQkeW3pui9rChaKTwvYT48YSBpZD0id2xwX2ltZ19yYXRpbyIgdGl0bGU9IumHjee9ruWbvuWDj+e8qeaUvuavlOS+i+WSjOaXi+i9rCI+MTwvYT48YSBpZD0id2xwX2ltZ19tb2RlIiB0aXRsZT0i5rWP6KeI5qih5byP77yM5aSn5Zu+5oiW5Lit5Zu+Ij48L2E+PGEgaWQ9IndscF9pbWdfb3JpIiB0aXRsZT0i5Y6f5aeL5q+U5L6LIj4xOjE8L2E+PGEgaWQ9IndscF9pbWdfcmlnaHQiIHRpdGxlPSLlkJHlj7Pml4vovazlm77niYcgOTDCsCI+5ZCR5Y+z6L2sKEMpPC9hPjxhIGlkPSJ3bHBfaW1nX25leHQiIHRpdGxlPSLmtY/op4jkuIvkuIDlvKDlm77niYciPuS4i+S4gOW8oCjihpIpPC9hPjxzcGFuIGlkPSJ3bHBfaW1nX3B1bGxyaWdodCI+PGEgaWQ9IndscF9pbWdfc291cmNlIiBocmVmPSJqYXZhc2NyaXB0OjsiIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i5p+l55yL5rqQ5Zu+77yI5rC46L+c5piv5aSn5Zu+77yJ77yM5Zyo5q2k5Y+z6ZSu5Y+v5Y+m5a2Y5aSn5Zu+Ij7mupDlm74oQik8L2E+PGEgaHJlZj0iamF2YXNjcmlwdDo7IiBpZD0id2xwX2ltZ19zY3JvbGwiIHRpdGxlPSLpgIDlh7rnlLvlu4rmqKHlvI/vvIzlubblsIbpobXpnaLlrprkvY3liLDor6Xlvq7ljZoiPuafpeeci+W+ruWNmiAoVik8L2E+PGEgaHJlZj0iamF2YXNjcmlwdDo7IiBpZD0id2xwX2ltZ19leGl0IiB0aXRsZT0i6YCA5Ye655S75buK5qih5byPIiA+6YCA5Ye6KEVTQyk8L2E+PC9zcGFuPjwvZGl2PjxkaXYgaWQ9IndscF9pbWdfbm90aSI+PC9kaXY+PGRpdiBpZD0id2xwX2ltZ19jb3VudGVyIj48c3BhbiBpZD0id2xwX2ltZ19jb3VudGVyX25vdyI+PC9zcGFuPiAvIDxzcGFuIGlkPSJ3bHBfaW1nX2NvdW50ZXJfdG90YWwiPjwvc3Bhbj48L2Rpdj48L2Rpdj4nOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZ2FsbGVyeS5pbWdEaXYpOwoKICAgICAgICBnYWxsZXJ5LnJhdGlvID0gJGlkKCd3bHBfaW1nX3JhdGlvJyk7CiAgICAgICAgZ2FsbGVyeS5ub3RpID0gJGlkKCd3bHBfaW1nX25vdGknKTsKICAgICAgICBnYWxsZXJ5Lm1vZGUgPSAkaWQoJ3dscF9pbWdfbW9kZScpOwogICAgICAgIGdhbGxlcnkuc291cmNlID0gJGlkKCd3bHBfaW1nX3NvdXJjZScpOwogICAgICAgIGdhbGxlcnkuY291bnRlcl9ub3cgPSAkaWQoJ3dscF9pbWdfY291bnRlcl9ub3cnKTsKICAgICAgICBnYWxsZXJ5LmNvdW50ZXJfdG90YWwgPSAkaWQoJ3dscF9pbWdfY291bnRlcl90b3RhbCcpOwogICAgICAgIGdhbGxlcnkuX21vZGUgPSBfbW9kZTsKICAgICAgICBnYWxsZXJ5Ll9tb2RlID8gZ2FsbGVyeS5tb2RlLmlubmVySFRNTCA9ICflpKflm74oWCknIDogZ2FsbGVyeS5tb2RlLmlubmVySFRNTCA9ICfkuK3lm74oWCknOy8v5Yid5aeL5YyW5pe25qC55o2u6K6+572u5pi+56S65paH5a2XCgogICAgICAgIC8v5Zu+5YOP5rua5YqoCiAgICAgICAgZ2FsbGVyeS5pbWdEaXYub25tb3VzZXdoZWVsID0gZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIHZhciBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7CiAgICAgICAgICAgIHZhciB0b3AgPSBwYXJzZUludChnYWxsZXJ5LmltZy5wYXJlbnROb2RlLnN0eWxlLnRvcC5yZXBsYWNlKCdweCcsICcnKSk7CiAgICAgICAgICAgIHRvcCArPSBlLndoZWVsRGVsdGEgLyAzOwogICAgICAgICAgICBnYWxsZXJ5LmltZy5wYXJlbnROb2RlLnN0eWxlLnRvcCA9IHRvcCArICdweCc7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgLy9GaXJlZm94IOWFvOWuueWbvuWDj+a7muWKqAogICAgICAgIGdhbGxlcnkuaW1nRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIHZhciBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7CiAgICAgICAgICAgIHZhciB0b3AgPSBwYXJzZUludChnYWxsZXJ5LmltZy5wYXJlbnROb2RlLnN0eWxlLnRvcC5yZXBsYWNlKCdweCcsICcnKSk7CiAgICAgICAgICAgIHRvcCAtPSBlLmRldGFpbCAvIDMgKiA0MDsKICAgICAgICAgICAgZ2FsbGVyeS5pbWcucGFyZW50Tm9kZS5zdHlsZS50b3AgPSB0b3AgKyAncHgnOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LCBmYWxzZSk7CgoKICAgICAgICAvL+WbvuWDj+WFg+e0oAogICAgICAgIGdhbGxlcnkuaW1nID0gJGlkKCd3bHBfaW1nJyk7CiAgICAgICAgZ2FsbGVyeS50cmFucy5zZXRUcmFucygnMScsICcwJyk7CiAgICAgICAgZ2FsbGVyeS5pbWcuc3R5bGUub3BhY2l0eSA9ICcwJzsKICAgICAgICAvL+WbvuWDj+aLluWKqAogICAgICAgIGdhbGxlcnkuaW1nLm9ubW91c2VvdmVyID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgZ2FsbGVyeS5kcmFnRi5kcmFnKCd3bHBfaW1nX2RyYWcnKTsKICAgICAgICAgICAgJGlkKCd3bHBfaW1nX2NvbnRyb2xlcicpLnN0eWxlLm9wYWNpdHkgPSAnLjEnOwogICAgICAgICAgICAkaWQoJ3dscF9pbWdfY291bnRlcicpLnN0eWxlLm9wYWNpdHkgPSAnLjQnOwogICAgICAgIH0KICAgICAgICBnYWxsZXJ5LmltZy5vbm1vdXNlb3V0ID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgJGlkKCd3bHBfaW1nX2NvbnRyb2xlcicpLnN0eWxlLm9wYWNpdHkgPSAnLjQnOwogICAgICAgICAgICAkaWQoJ3dscF9pbWdfY291bnRlcicpLnN0eWxlLm9wYWNpdHkgPSAnMSc7CiAgICAgICAgfQogICAgICAgIC8v5Zu+54mH6K+75Y+W5a6M5oiQ5ZCO5omN5pi+56S6CiAgICAgICAgZ2FsbGVyeS5pbWcub25sb2FkID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGl0KTsKICAgICAgICAgICAgdGhpcy5zdHlsZS5vcGFjaXR5ID0gJzEnOwogICAgICAgICAgICBnYWxsZXJ5Lm5vdGkuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nOwogICAgICAgIH0KICAgICAgICBnYWxsZXJ5LmltZy5jb21wZWx0ZSA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGNsZWFyVGltZW91dChpdCk7CiAgICAgICAgICAgIHRoaXMuc3R5bGUub3BhY2l0eSA9ICcxJzsKICAgICAgICAgICAgZ2FsbGVyeS5ub3RpLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsKICAgICAgICB9CiAgICAgICAgLy/lj4zlh7vlm77lg4/pgIDlh7oKICAgICAgICBnYWxsZXJ5LmltZy5vbmRibGNsaWNrID0gZnVuY3Rpb24oKXtnYWxsZXJ5LmNvbnRyb2wuZXhpdEdhbGxlcnkoKX07CiAgICAgICAgLy/pvKDmoIfmu5rova7nvKnmlL7lm77lg48KICAgICAgICBnYWxsZXJ5LmltZy5wYXJlbnROb2RlLm9ubW91c2V3aGVlbCA9IGZ1bmN0aW9uKGUpewogICAgICAgICAgICAvL+S9v+eUqCB0cmFuc2Zvcm0g57yp5pS+5Zu+5YOPCiAgICAgICAgICAgIHZhciBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7CiAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTsgLy/pgb/lhY3kuIrlsYIgRE9NIOS6i+S7tuinpuWPkQogICAgICAgICAgICB2YXIgdHJhbnMgPSBnYWxsZXJ5LnRyYW5zLmdldFRyYW5zKCk7CiAgICAgICAgICAgIHRyYW5zWzBdICs9IGUud2hlZWxEZWx0YSAvIDI0MDA7CiAgICAgICAgICAgIGlmKHRyYW5zWzBdID4gMC4wMSAmJiB0cmFuc1swXSA8IDEwKXsKICAgICAgICAgICAgICAgIHRyYW5zWzBdID0gTWF0aC5yb3VuZCh0cmFuc1swXSAqIDEwMCkgLyAxMDA7CiAgICAgICAgICAgICAgICBnYWxsZXJ5LnRyYW5zLnNldFRyYW5zKHRyYW5zWzBdLCB0cmFuc1sxXSk7CiAgICAgICAgICAgICAgICBnYWxsZXJ5LnJhdGlvLmlubmVySFRNTCA9IHRyYW5zWzBdLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZ2FsbGVyeS5fdmlldyA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgLy9GaXJlZm94IOWFvOWuuem8oOagh+a7mui9rue8qeaUvuWbvuWDjwogICAgICAgIGdhbGxlcnkuaW1nLnBhcmVudE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgdmFyIGUgPSBlIHx8IHdpbmRvdy5ldmVudDsKICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlOyAvL+mBv+WFjeS4iuWxgiBET00g5LqL5Lu26Kem5Y+RCiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAgICAgICB2YXIgdHJhbnMgPSBnYWxsZXJ5LnRyYW5zLmdldFRyYW5zKCk7CiAgICAgICAgICAgIHRyYW5zWzBdIC09IGUuZGV0YWlsIC8gNjA7CiAgICAgICAgICAgIGlmKHRyYW5zWzBdID4gMC4wMSAmJiB0cmFuc1swXSA8IDEwKXsKICAgICAgICAgICAgICAgIHRyYW5zWzBdID0gTWF0aC5yb3VuZCh0cmFuc1swXSAqIDEwMCkgLyAxMDA7CiAgICAgICAgICAgICAgICBnYWxsZXJ5LnRyYW5zLnNldFRyYW5zKHRyYW5zWzBdLCB0cmFuc1sxXSk7CiAgICAgICAgICAgICAgICBnYWxsZXJ5LnJhdGlvLmlubmVySFRNTCA9IHRyYW5zWzBdLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZ2FsbGVyeS5fdmlldyA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LCBmYWxzZSk7CgogICAgICAgIC8v5rWP6KeI5oyJ6ZKuCiAgICAgICAgLy/lm77niYfliY3kuIDlvKDlkI7kuIDlvKDmjInpkq4KICAgICAgICAkaWQoJ3dscF9pbWdfbmV4dCcpLm9uY2xpY2sgPSBmdW5jdGlvbigpe2dhbGxlcnkuY29udHJvbC5uZXh0SW1nKCk7fQogICAgICAgICRpZCgnd2xwX2ltZ19wcmV2Jykub25jbGljayA9IGZ1bmN0aW9uKCl7Z2FsbGVyeS5jb250cm9sLnByZXZJbWcoKTt9CiAgICAgICAgLy9DRE4g55WM6Z2iCiAgICAgICAgJGlkKCd3bHBfaW1nX2NkbicpLm9uY2xpY2sgPSBmdW5jdGlvbigpe0NETi5jZG5VSSgpO30KICAgICAgICAvL+aMiemSrumAgOWHugogICAgICAgICRpZCgnd2xwX2ltZ19leGl0Jykub25jbGljayA9IGZ1bmN0aW9uKCl7Z2FsbGVyeS5jb250cm9sLmV4aXRHYWxsZXJ5KCk7fQogICAgICAgIC8v5Zu+5YOP5peL6L2s5oyJ6ZKuCiAgICAgICAgJGlkKCd3bHBfaW1nX3JpZ2h0Jykub25jbGljayA9IGZ1bmN0aW9uKCl7Z2FsbGVyeS5jb250cm9sLnJvdGF0ZVJpZ2h0KCk7fQogICAgICAgICRpZCgnd2xwX2ltZ19sZWZ0Jykub25jbGljayA9IGZ1bmN0aW9uKCl7Z2FsbGVyeS5jb250cm9sLnJvdGF0ZUxlZnQoKTt9CiAgICAgICAgLy/lrprkvY3lvq7ljZoKICAgICAgICAkaWQoJ3dscF9pbWdfc2Nyb2xsJykub25jbGljayA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gZ2FsbGVyeS5maW5kUGFyZW50KCkub2Zmc2V0VG9wIC0gNTA7CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBnYWxsZXJ5LmZpbmRQYXJlbnQoKS5vZmZzZXRUb3AgLSA1MDsKICAgICAgICAgICAgZ2FsbGVyeS5jb250cm9sLmV4aXRHYWxsZXJ5KCk7CiAgICAgICAgfQogICAgICAgIC8v5biu5Yqp5oyJ6ZKuCiAgICAgICAgJGlkKCd3bHBfaW1nX2hlbHAnKS5vbmNsaWNrID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgYWxlcnQoJ+m8oOagh+aTjeS9nO+8mlxuXG7nvKnmlL7lm77niYfvvJrlnKjlm77niYfkuIrmu5rliqjpvKDmoIfmu5rova7lj6/ku6XmlL7lpKfnvKnlsI/lm77lg4/jgIJcbuaLluWKqOWbvueJh++8muWcqOWbvueJh+S4iuaMieS9j+m8oOagh+W3pumUruWPr+S7peiHqueUseaLluWKqOWbvueJh+OAglxu5rua5Yqo5Zu+54mH77ya5Zyo56m655m95Yy65Z+f5rua5Yqo5rua6L2u5Y+v5Lul5rua5Yqo5Zu+54mH44CCXG5cbumAgOWHuueUu+W7iuaooeW8j++8muWPjOWHu+WbvueJh1xuXG5cblxu6ZSu55uY5pON5L2c77yaXG5cbuW3puWPs+aWueWQke+8muWIh+aNouWbvueJh+OAglxu5LiK5LiL5pa55ZCR77ya5rua5Yqo5Zu+54mH44CCXG5a44CBQ++8muaXi+i9rOWbvuWDj+OAglxuWO+8muWIh+aNouWbvuWDj+aooeW8j+OAglxuVu+8muWumuS9jeWIsOivpeW+ruWNmuOAglxu56m65qC877yaMToxIOS4juWIneWni+eKtuaAgeWIh+aNouOAglxuQu+8muaWsOeql+WPo+afpeeci+Wkp+WbvlxuXG5FU0PvvJrpgIDlh7rnlLvlu4rmqKHlvI/jgIInKQogICAgICAgIH0KICAgICAgICAvL+e8qeaUviAx77yaMSDmjInpkq4KICAgICAgICAkaWQoJ3dscF9pbWdfb3JpJykub25jbGljayA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGdhbGxlcnkuX3ZpZXcgPSBmYWxzZTsKICAgICAgICAgICAgZ2FsbGVyeS5jYWxjUG9zKGdhbGxlcnkuaW1nLmhlaWdodCwgZ2FsbGVyeS5pbWcud2lkdGgsICcnKTsKICAgICAgICB9CgogICAgICAgIGdhbGxlcnkubW9kZS5vbmNsaWNrID0gZnVuY3Rpb24oKXtnYWxsZXJ5LmNvbnRyb2wuY2hhbmdlTW9kZSgpO30KICAgICAgICAvL+aYvuekuue8qeaUvuavlOS+i+WSjOmAguWQiOWxj+W5leeahOaMiemSrgogICAgICAgIGdhbGxlcnkucmF0aW8ub25jbGljayA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGdhbGxlcnkuX3ZpZXcgPSB0cnVlOwogICAgICAgICAgICBnYWxsZXJ5LmNhbGNQb3MoZ2FsbGVyeS5pbWcuaGVpZ2h0LCBnYWxsZXJ5LmltZy53aWR0aCwgJycpOwogICAgICAgIH0KICAgIH0sCgogICAgdHJhbnMgOiB7CiAgICAgICAgLy/or7vlj5blkozorr7nva4gdHJhbnNmb3JtCiAgICAgICAgZ2V0VHJhbnMgOiBmdW5jdGlvbigpewogICAgICAgICAgICBpZihfY3NzKXsKICAgICAgICAgICAgICAgIHNjYWxlID0gcGFyc2VGbG9hdChnYWxsZXJ5LmltZy5wYXJlbnROb2RlLnN0eWxlLnRyYW5zZm9ybS5yZXBsYWNlKHJlZzE1LCAnJDEnKSk7CiAgICAgICAgICAgICAgICByb3RhdGUgPSBwYXJzZUludChnYWxsZXJ5LmltZy5wYXJlbnROb2RlLnN0eWxlLnRyYW5zZm9ybS5yZXBsYWNlKHJlZzE2LCAnJDEnKSk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgc2NhbGUgPSBwYXJzZUZsb2F0KGdhbGxlcnkuaW1nLnBhcmVudE5vZGUuc3R5bGUud2Via2l0VHJhbnNmb3JtLnJlcGxhY2UocmVnMTUsICckMScpKTsKICAgICAgICAgICAgICAgIHJvdGF0ZSA9IHBhcnNlSW50KGdhbGxlcnkuaW1nLnBhcmVudE5vZGUuc3R5bGUud2Via2l0VHJhbnNmb3JtLnJlcGxhY2UocmVnMTYsICckMScpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gW3NjYWxlLCByb3RhdGVdOwogICAgICAgIH0sCiAgICAgICAgc2V0VHJhbnMgOiBmdW5jdGlvbihzY2FsZSwgcm90YXRlKXsKICAgICAgICAgICAgaWYoX2Nzcyl7CiAgICAgICAgICAgICAgICBnYWxsZXJ5LmltZy5wYXJlbnROb2RlLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgnICsgc2NhbGUgKyAnKSByb3RhdGUoJyArIHJvdGF0ZSArICdkZWcpJzsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBnYWxsZXJ5LmltZy5wYXJlbnROb2RlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICdzY2FsZSgnICsgc2NhbGUgKyAnKSByb3RhdGUoJyArIHJvdGF0ZSArICdkZWcpJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCgogICAgY29udHJvbCA6IHsKICAgIC8v5aSN55So5Ye95pWwCiAgICAgICAgLy/liIfmjaLmqKHlvI8KICAgICAgICBjaGFuZ2VNb2RlIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGl0KTsgLy/muIXpmaTkuYvliY3nmoTlrprml7YKICAgICAgICAgICAgZ2FsbGVyeS5ub3RpLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7CiAgICAgICAgICAgIGdhbGxlcnkuX3ZpZXcgPSBfX3ZpZXc7CiAgICAgICAgICAgIGdhbGxlcnkuaW1nLnN0eWxlLm9wYWNpdHkgPSAnMCc7CiAgICAgICAgICAgIGl0ID0gc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgZ2FsbGVyeS5pbWcuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nOyAvL+iuvue9ruS4uumakOiXj++8jOi/meagt+S4i+aWueeahOaOp+WItuagj+WwseS4jeS8muWPl+acquWKoOi9veWbvuWDj+eahOW9seWTjeiAjOaUueWPmOmAj+aYjuW6puOAggogICAgICAgICAgICAgICAgZ2FsbGVyeS5pbWcuc3JjID0gJyc7CiAgICAgICAgICAgICAgICBnYWxsZXJ5Lm5vdGkudmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjsKICAgICAgICAgICAgICAgIGdhbGxlcnkubm90aS5pbm5lckhUTUwgPSAn5q2j5Zyo6K+75Y+WJzsKICAgICAgICAgICAgICAgIGdhbGxlcnkuX21vZGUgPSBnYWxsZXJ5Ll9tb2RlID09PSB0cnVlID8gZmFsc2UgOiB0cnVlOwogICAgICAgICAgICAgICAgaWYoZ2FsbGVyeS5fbW9kZSl7CiAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeS5tb2RlLmlubmVySFRNTCA9ICflpKflm74oWCknOwogICAgICAgICAgICAgICAgICAgIHNyYyA9IGltZ3NbaW1nTnVtXS5zcmMucmVwbGFjZShyZWcxNCwgJ2xhcmdlJyk7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5Lm1vZGUuaW5uZXJIVE1MID0gJ+S4reWbvihYKSc7CiAgICAgICAgICAgICAgICAgICAgc3JjID0gaW1nc1tpbWdOdW1dLnNyYy5yZXBsYWNlKHJlZzE0LCAnYm1pZGRsZScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaW1nUmVhZHkoc3JjLCBmdW5jdGlvbigpe2dhbGxlcnkuaW1nLnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7Z2FsbGVyeS5pbWcuc3R5bGUub3BhY2l0eSA9ICIwLjUiO2dhbGxlcnkuY2FsY1Bvcyh0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgc3JjKX0pOwogICAgICAgICAgICAgICAgc2F2ZSgnbW9kZScsIGdhbGxlcnkuX21vZGUpOwogICAgICAgICAgICB9LCAyMDApOwogICAgICAgIH0sCiAgICAgICAgLy/ml4vovazlm77lg48KICAgICAgICByb3RhdGVSaWdodCA6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciB0cmFucyA9IGdhbGxlcnkudHJhbnMuZ2V0VHJhbnMoKTsKICAgICAgICAgICAgdHJhbnNbMV0gPSB0cmFuc1sxXSArIDkwOwogICAgICAgICAgICBpZih0cmFuc1sxXSA+PSAzNjAgfHwgdHJhbnNbMV0gPD0gLTM2MCl7CiAgICAgICAgICAgICAgICB0cmFuc1sxXSA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZ2FsbGVyeS50cmFucy5zZXRUcmFucyh0cmFuc1swXSwgdHJhbnNbMV0pOwogICAgICAgIH0sCiAgICAgICAgcm90YXRlTGVmdCA6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciB0cmFucyA9IGdhbGxlcnkudHJhbnMuZ2V0VHJhbnMoKTsKICAgICAgICAgICAgdHJhbnNbMV0gPSB0cmFuc1sxXSAtIDkwCiAgICAgICAgICAgIGlmKHRyYW5zWzFdID49IDM2MCB8fCB0cmFuc1sxXSA8PSAtMzYwKXsKICAgICAgICAgICAgICAgIHRyYW5zWzFdID0gMDsKICAgICAgICAgICAgfQogICAgICAgICAgICBnYWxsZXJ5LnRyYW5zLnNldFRyYW5zKHRyYW5zWzBdLCB0cmFuc1sxXSk7CiAgICAgICAgfSwKICAgICAgICAvL+mAgOWHuueUu+W7igogICAgICAgIGV4aXRHYWxsZXJ5IDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGl0KTsKICAgICAgICAgICAgaXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBnYWxsZXJ5LmltZ0Rpdi5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7CiAgICAgICAgICAgICAgICAvL+e9ruWFpeS4gOS4qiAxWDEg55qEIHBuZyDmuIXnqbrkuYvliY3nmoTlm77lg48KICAgICAgICAgICAgICAgIGdhbGxlcnkuaW1nLnNyYyA9ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQUFBQUFBNmZwdFZBQUFBQ1had1FXY0FBQUFCQUFBQUFRREhsVi90QUFBQUFuUlNUbE1BLzF1UklyVUFBQUFLU1VSQlZBalhZL2dQQUFFQkFRQWJ0dTVXQUFBQUFFbEZUa1N1UW1DQyc7CiAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgIGdhbGxlcnkuX3ZpZXcgPSBfX3ZpZXc7CiAgICAgICAgICAgIGdhbGxlcnkuaW1nRGl2LnN0eWxlLm9wYWNpdHkgPSAnMCc7CiAgICAgICAgICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IG51bGw7CiAgICAgICAgfSwKICAgICAgICAvL+S4i+S4gOW8oAogICAgICAgIG5leHRJbWcgOiBmdW5jdGlvbigpewogICAgICAgICAgICBjbGVhclRpbWVvdXQoaXQpOwogICAgICAgICAgICBnYWxsZXJ5Lm5vdGkuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsKICAgICAgICAgICAgZ2FsbGVyeS5fdmlldyA9IF9fdmlldzsgLy/lsIbmtY/op4jmr5TkvovmoIflv5fph43nva4KICAgICAgICAgICAgZ2FsbGVyeS5pbWcuc3R5bGUub3BhY2l0eSA9ICcwJzsgLy/lhYjmiorlm77lg4/pgI/mmI7vvIzor7vlj5blkI7lho3mmL7npLoKICAgICAgICAgICAgaW1nTnVtKys7CiAgICAgICAgICAgIGlmKGltZ051bSA+IGltZ3MubGVuZ3RoIC0gMSB8fCBpbWdOdW0gPCAwKXsKICAgICAgICAgICAgICAgIGltZ051bSA9IDA7Ly/nva7pm7YKICAgICAgICAgICAgfQogICAgICAgICAgICAvL+iHquWKqOi9veWFpeWQjumdoueahOWbvuWDjwogICAgICAgICAgICBpZihpbWdOdW0gPT0gaW1ncy5sZW5ndGggLSA0KXsKICAgICAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2RlSW5zZXJ0ZWRMaXN0ZW5lcih3bHBfYmluZC5NYWluX2luc2VydCk7CiAgICAgICAgICAgICAgICB9Y2F0Y2goZXJyKXt9CiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFBvcyA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOwogICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpOwogICAgICAgICAgICAgICAgd2xwX2JpbmQuTWFpbl9pbnNlcnQgPSBhZGROb2RlSW5zZXJ0ZWRMaXN0ZW5lcignZGl2LldCX2ZlZWRfZGF0YWlsLCBkaXYubGlzdF9waWMnLCBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgIGltZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcuYmlnY3Vyc29yW3NyYyo9InNpbmFpbWciXSwgLnBob3RvTGlzdCBpbWdbc3JjKj0ic2luYWltZyJdLCBpbWcucGhvdG9fcGljW3NyYyo9InNpbmFpbWciXSwgLmxpc3RfcGljYm94IC5pbWcgaW1nW3NyYyo9InNpbmFpbWciXSwgbGkuYmlnY3Vyc29yIGltZ1tzcmMqPSJzaW5haW1nIl0nKTsKICAgICAgICAgICAgICAgICAgICBnYWxsZXJ5LmNvdW50ZXJfbm93LmlubmVySFRNTCA9IHBhcnNlSW50KGltZ051bSkgKyAxOwogICAgICAgICAgICAgICAgICAgIGdhbGxlcnkuY291bnRlcl90b3RhbC5pbm5lckhUTUwgPSBpbWdzLmxlbmd0aDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5zY3JvbGxUbygwLGN1cnJlbnRQb3MpfSwgNTAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBnYWxsZXJ5LmNvdW50ZXJfbm93LmlubmVySFRNTCA9IGltZ051bSArIDE7CiAgICAgICAgICAgIGl0ID0gc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgZ2FsbGVyeS5pbWcuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nOyAvL+iuvue9ruS4uumakOiXj++8jOi/meagt+S4i+aWueeahOaOp+WItuagj+WwseS4jeS8muWPl+acquWKoOi9veWbvuWDj+eahOW9seWTjeiAjOaUueWPmOmAj+aYjuW6puOAggogICAgICAgICAgICAgICAgZ2FsbGVyeS5pbWcuc3JjID0gJyc7CiAgICAgICAgICAgICAgICBnYWxsZXJ5Lm5vdGkudmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjsKICAgICAgICAgICAgICAgIGdhbGxlcnkubm90aS5pbm5lckhUTUwgPSAn5q2j5Zyo6K+75Y+WJzsKICAgICAgICAgICAgICAgIGdhbGxlcnkuX21vZGUgPyBzcmMgPSBpbWdzW2ltZ051bV0uc3JjLnJlcGxhY2UocmVnMTQsICdsYXJnZScpIDogc3JjID0gaW1nc1tpbWdOdW1dLnNyYy5yZXBsYWNlKHJlZzE0LCAnYm1pZGRsZScpOyAvL+agueaNrua1j+iniOaooeW8j+WGs+WumuWkp+WbvuWwj+WbvgogICAgICAgICAgICAgICAgZ2FsbGVyeS5fY2RuID09PSAwID8gdHJ1ZSA6IHNyYyA9IHNyYy5yZXBsYWNlKC93KHd8dCk/XGQ/XC4vLCAnd3cnICsgZ2FsbGVyeS5fY2RuICsgJy4nKTsgLy/moLnmja4gQ0ROIOiuvue9ruWcsOWdgAogICAgICAgICAgICAgICAgZ2FsbGVyeS5zb3VyY2UuaHJlZiA9IHNyYy5yZXBsYWNlKC8oYm1pZGRsZSl8KG9yajQ4MCkvLCAnbGFyZ2UnKTsKICAgICAgICAgICAgICAgIGltZ1JlYWR5KHNyYywgZnVuY3Rpb24oKXtnYWxsZXJ5LmltZy5zdHlsZS52aXNpYmlsaXR5ID0gInZpc2libGUiO2dhbGxlcnkuaW1nLnN0eWxlLm9wYWNpdHkgPSAiMC41IjtnYWxsZXJ5LmNhbGNQb3ModGhpcy5oZWlnaHQsIHRoaXMud2lkdGgsIHNyYyl9KTsKICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICB9LAogICAgICAgIC8v5LiK5LiA5bygCiAgICAgICAgcHJldkltZyA6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGNsZWFyVGltZW91dChpdCk7CiAgICAgICAgICAgIGdhbGxlcnkuX3ZpZXcgPSBfX3ZpZXc7CiAgICAgICAgICAgIGdhbGxlcnkubm90aS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnOwogICAgICAgICAgICBnYWxsZXJ5LmltZy5zdHlsZS5vcGFjaXR5ID0gJzAnOwogICAgICAgICAgICBpbWdOdW0tLTsKICAgICAgICAgICAgaWYoaW1nTnVtID4gaW1ncy5sZW5ndGggLSAxIHx8IGltZ051bSA8IDApewogICAgICAgICAgICAgICAgaW1nTnVtID0gaW1ncy5sZW5ndGggLSAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8v6Ieq5Yqo6L295YWl5ZCO6Z2i55qE5Zu+5YOPCiAgICAgICAgICAgIGlmKGltZ051bSA9PSBpbWdzLmxlbmd0aCAtIDEpewogICAgICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGVJbnNlcnRlZExpc3RlbmVyKHdscF9iaW5kLk1haW5faW5zZXJ0KTsKICAgICAgICAgICAgICAgIH1jYXRjaChlcnIpe30KICAgICAgICAgICAgICAgIHZhciBjdXJyZW50UG9zID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CiAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCxkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCk7CiAgICAgICAgICAgICAgICB3bHBfYmluZC5NYWluX2luc2VydCA9IGFkZE5vZGVJbnNlcnRlZExpc3RlbmVyKCdkaXYuV0JfZmVlZF9kYXRhaWwsIGRpdi5saXN0X3BpYycsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgaW1ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZy5iaWdjdXJzb3Jbc3JjKj0ic2luYWltZyJdLCAucGhvdG9MaXN0IGltZ1tzcmMqPSJzaW5haW1nIl0sIGltZy5waG90b19waWNbc3JjKj0ic2luYWltZyJdLCAubGlzdF9waWNib3ggLmltZyBpbWdbc3JjKj0ic2luYWltZyJdLCBsaS5iaWdjdXJzb3IgaW1nW3NyYyo9InNpbmFpbWciXScpOwogICAgICAgICAgICAgICAgICAgIGdhbGxlcnkuY291bnRlcl9ub3cuaW5uZXJIVE1MID0gcGFyc2VJbnQoaW1nTnVtKSArIDE7CiAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeS5jb3VudGVyX3RvdGFsLmlubmVySFRNTCA9IGltZ3MubGVuZ3RoOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7d2luZG93LnNjcm9sbFRvKDAsY3VycmVudFBvcyl9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGdhbGxlcnkuY291bnRlcl9ub3cuaW5uZXJIVE1MID0gaW1nTnVtICsgMTsKICAgICAgICAgICAgaXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBnYWxsZXJ5LmltZy5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7IC8v6K6+572u5Li66ZqQ6JeP77yM6L+Z5qC35LiL5pa555qE5o6n5Yi25qCP5bCx5LiN5Lya5Y+X5pyq5Yqg6L295Zu+5YOP55qE5b2x5ZON6ICM5pS55Y+Y6YCP5piO5bqm44CCCiAgICAgICAgICAgICAgICBnYWxsZXJ5LmltZy5zcmMgPSAnJzsKICAgICAgICAgICAgICAgIGdhbGxlcnkubm90aS52aXNpYmlsaXR5ID0gInZpc2libGUiOwogICAgICAgICAgICAgICAgZ2FsbGVyeS5ub3RpLmlubmVySFRNTCA9ICfmraPlnKjor7vlj5YnOwogICAgICAgICAgICAgICAgZ2FsbGVyeS5fbW9kZSA/IHNyYyA9IGltZ3NbaW1nTnVtXS5zcmMucmVwbGFjZShyZWcxNCwgJ2xhcmdlJykgOiBzcmMgPSBpbWdzW2ltZ051bV0uc3JjLnJlcGxhY2UocmVnMTQsICdibWlkZGxlJyk7IC8v5qC55o2u5rWP6KeI5qih5byP5Yaz5a6a5aSn5Zu+5bCP5Zu+CiAgICAgICAgICAgICAgICBnYWxsZXJ5Ll9jZG4gPT09IDAgPyB0cnVlIDogc3JjID0gc3JjLnJlcGxhY2UoL3cod3x0KT9cZD9cLi8sICd3dycgKyBnYWxsZXJ5Ll9jZG4gKyAnLicpOyAvL+agueaNriBDRE4g6K6+572u5Zyw5Z2ACiAgICAgICAgICAgICAgICBnYWxsZXJ5LnNvdXJjZS5ocmVmID0gc3JjLnJlcGxhY2UoLyhibWlkZGxlKXwob3JqNDgwKS8sICdsYXJnZScpOwogICAgICAgICAgICAgICAgaW1nUmVhZHkoc3JjLCBmdW5jdGlvbigpe2dhbGxlcnkuaW1nLnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7Z2FsbGVyeS5pbWcuc3R5bGUub3BhY2l0eSA9ICIwLjUiO2dhbGxlcnkuY2FsY1Bvcyh0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgc3JjKX0pOwogICAgICAgICAgICB9LCAyMDApOwogICAgICAgIH0sCiAgICB9LAoKICAgIC8v5a+75om+54i257qn6IqC54K5CiAgICBmaW5kUGFyZW50IDogZnVuY3Rpb24oKXsKICAgICAgICB2YXIgbm9kZSA9IGltZ3NbaW1nTnVtXS5wYXJlbnROb2RlOwogICAgICAgIGZvcih2YXIgaSA9IDA7aSA8PSA5O2krKyl7CiAgICAgICAgICAgIGlmKG5vZGUuY2xhc3NOYW1lLmluZGV4T2YoJ1dCX2ZlZWRfZGV0YWlsJykgPj0gMCB8fCBub2RlLmNsYXNzTmFtZS5pbmRleE9mKCdsaXN0X2ZlZWRfbGknKSA+PSAwIHx8IG5vZGUuY2xhc3NOYW1lLmluZGV4T2YoJ01JQl9saW5lZG90X2wnKSA+PSAwIHx8IG5vZGUuY2xhc3NOYW1lLmluZGV4T2YoJ2ZlZWRfbGlzdCAnKSA+PSAwIHx8IG5vZGUuY2xhc3NOYW1lLmluZGV4T2YoJ2xpc3RfcGljYm94JykgPj0gMCB8fCBub2RlLmNsYXNzTmFtZS5pbmRleE9mKCdvbmVfcGljJykgPj0gMCB8fCBub2RlLmNsYXNzTmFtZS5pbmRleE9mKCdtX3Bob3RvSXRlbScpID49IDApewogICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCgogICAgLy/moLnmja7lm77lg4/lpKflsI/vvIzorqHnrpflm77lg4/kvY3nva7lkoznvKnmlL7nqIvluqYKICAgIGNhbGNQb3MgOiBmdW5jdGlvbihoZWlnaHQsIHdpZHRoLCBzcmMpewogICAgICAgIGlmKGdhbGxlcnkuX3ZpZXcgPT09IGZhbHNlKXsKICAgICAgICAgICAgdmFyIHRyYW5zID0gZ2FsbGVyeS50cmFucy5nZXRUcmFucygpOwogICAgICAgICAgICBnYWxsZXJ5LnRyYW5zLnNldFRyYW5zKCcxJywgdHJhbnNbMV0pOwogICAgICAgICAgICBpZihnYWxsZXJ5LmltZy5oZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjgpewogICAgICAgICAgICAgICAgZ2FsbGVyeS5pbWcucGFyZW50Tm9kZS5zdHlsZS50b3AgPSAnNDBweCc7IC8v5Zu+5YOP5LiK6L655LiN6LaF6L+H5bGP5bmV77yM6ZiF6K+76ZW/5b6u5Y2a5b6I5ZCI6YCCCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZ2FsbGVyeS5yYXRpby5pbm5lckhUTUwgPSAnMSc7CiAgICAgICAgICAgIGdhbGxlcnkuX3ZpZXcgPSB0cnVlOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGlmKGhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuOCAmJiBnYWxsZXJ5Ll92aWV3ID09PSB0cnVlKXsKICAgICAgICAgICAgICAgIHZhciBpbWdIZWlnaHRSYXRpbyA9ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSA1MCkgKiAwLjggLyBoZWlnaHQ7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdmFyIGltZ0hlaWdodFJhdGlvID0gMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZih3aWR0aCA+IGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggKiAwLjggJiYgZ2FsbGVyeS5fdmlldyA9PT0gdHJ1ZSl7CiAgICAgICAgICAgICAgICB2YXIgaW1nV2lkdGhSYXRpbyA9IGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggKiAwLjggLyB3aWR0aDsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB2YXIgaW1nV2lkdGhSYXRpbyA9IDE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHNjYWxlID0gTWF0aC5mbG9vcigoaW1nSGVpZ2h0UmF0aW8gfHwgaW1nV2lkdGhSYXRpbykgKiAxMDApIC8gMTAwOwogICAgICAgICAgICBnYWxsZXJ5LnRyYW5zLnNldFRyYW5zKHNjYWxlLCAnMCcpOwogICAgICAgICAgICBnYWxsZXJ5LmltZy5wYXJlbnROb2RlLnN0eWxlLmxlZnQgPSAoZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAtIHdpZHRoKSAvIDIgKyAncHgnOwogICAgICAgICAgICBnYWxsZXJ5LmltZy5wYXJlbnROb2RlLnN0eWxlLnRvcCA9ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSA0MCAtIGhlaWdodCkgLyAyICsgJ3B4JzsKICAgICAgICAgICAgaWYoc3JjICE9PSAnJyl7CiAgICAgICAgICAgICAgICBnYWxsZXJ5LmltZy5zcmMgPSBzcmM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZ2FsbGVyeS5yYXRpby5pbm5lckhUTUwgPSBzY2FsZTsKICAgICAgICAgICAgZ2FsbGVyeS5fdmlldyA9IGZhbHNlOwogICAgICAgIH07CiAgICB9LAoKICAgIC8v5Zu+5YOP5ouW5puzCiAgICBkcmFnRiA6IHsKICAgICAgICBsb2NrZWQgOiBmYWxzZSwKICAgICAgICBsYXN0T2JqIDogdW5kZWZpbmVkLAogICAgICAgIGRyYWcgOiBmdW5jdGlvbihvYmopewogICAgICAgICAgICAkaWQob2JqKS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgdmFyIGUgPSBlID8gZSA6d2luZG93LmV2ZW50OwogICAgICAgICAgICAgICAgaWYoIXdpbmRvdy5ldmVudCl7CiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZ2FsbGVyeS5kcmFnRi5sb2NrZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgJGlkKG9iaikuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgICAgICAgICAgICAgZ2FsbGVyeS5kcmFnRi5sYXN0T2JqID0gJGlkKG9iaik7CiAgICAgICAgICAgICAgICB2YXIgdGVtcFggPSAkaWQob2JqKS5vZmZzZXRMZWZ0OwogICAgICAgICAgICAgICAgdmFyIHRlbXBZID0gJGlkKG9iaikub2Zmc2V0VG9wOwogICAgICAgICAgICAgICAgZ2FsbGVyeS5kcmFnRi54ID0gZS5jbGllbnRYOwogICAgICAgICAgICAgICAgZ2FsbGVyeS5kcmFnRi55ID0gZS5jbGllbnRZOwogICAgICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IGUgPyBlIDp3aW5kb3cuZXZlbnQ7CiAgICAgICAgICAgICAgICAgICAgaWYoZ2FsbGVyeS5kcmFnRi5sb2NrZWQgPT0gZmFsc2Upe3JldHVybiBmYWxzZTt9CiAgICAgICAgICAgICAgICAgICAgJGlkKG9iaikuc3R5bGUubGVmdCA9IHRlbXBYICsgZS5jbGllbnRYIC0gZ2FsbGVyeS5kcmFnRi54ICsgJ3B4JzsKICAgICAgICAgICAgICAgICAgICAkaWQob2JqKS5zdHlsZS50b3AgPSB0ZW1wWSArIGUuY2xpZW50WSAtIGdhbGxlcnkuZHJhZ0YueSArICdweCc7CiAgICAgICAgICAgICAgICAgICAgaWYod2luZG93LmV2ZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgIGdhbGxlcnkuZHJhZ0YubG9ja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9OwogICAgICAgIH0KICAgIH0sCn0KCi8qIC3mtYvpgJ8tICovCi8v5bu656uL6YCJ6aG555WM6Z2iCnZhciBDRE4gPSB7CiAgICBjZG5VSSA6IGZ1bmN0aW9uKCl7CiAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3dscF9jZG4nKS5sZW5ndGggPT09IDApewogICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGRpdi5pZCA9ICd3bHBfY2RuJzsKICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9ICc8ZGl2PjxoND7mlrDmtarlvq7ljZrkuYvmiJHopoHnnIvlpKflm74gLSDorr7nva48L2g0Pjxici8+PGhyPjxwPuWcqOi/memHjOWPr+S7peW8uuWItuaMh+WumuaWsOa1quWbvueJh+acjeWKoeWZqOeahOWcsOWdgO+8iOWPquWvueeUu+W7iuaooeW8j+WSjOWbvueJh+a6kOaMiemSruacieaViO+8ieOAgumAmuW4uOaDheWGteaWsOa1queahOWbvueJh+acjeWKoeWZqO+8iHd3Ki5zaW5haW1nLmNu77yJ5Lya5qC55o2u5L2g55qE5Zyw5Z2A5ZKM572R57uc5YiG6YWN5pyA5ZCI6YCC55qE5pyN5Yqh5Zmo5ZKMIENETu+8jOS9huaYr+acieaXtuaWsOa1quWIhumFjeeahOacjeWKoeWZqOWSjCBDRE4g6YCf5bqm5b6I5oWi77yM6L+Z5pe25Y+v5Lul5by65Yi25oyH5a6a5LiA5Liq6YCf5bqm5pu05b+r55qE5pyN5Yqh5Zmo5Li65L2g5pyN5Yqh44CCPC9wPjxwPuS4gOiIrOaDheWGteS4i+W7uuiuruS9v+eUqOKAnOaWsOa1quWIhumFjeKAne+8jOS7heWcqOafkOS6m+WbvueJh+aXoOazleWKoOi9veaIluWKoOi9veW+iOaFouaXtuaJjeeJueWIq+aMh+WumuacjeWKoeWZqO+8jOW5tumAieaLqeKAnOWcqOatpOmhtemdouS4tOaXtuS9v+eUqOKAneOAgjwvcD48cD7ku6XkuIvmlbDlgLzljZXkvY3kuLrmr6vnp5LvvIzmnIDlkI7kuIDliJfkuLrlkIzkuIDlm77niYfnmoTkuInmrKHmtYvpgJ/lubPlnYflgLzjgILotoXml7borrDkuLogNTAwMCDmr6vnp5LjgII8L3A+PHA+Me+8mjxzcGFuIGlkPSJ3bHBfY2RuXzEiPi08L3NwYW4+PHNwYW4gaWQ9IndscF9jZG5fNSI+LTwvc3Bhbj48c3BhbiBpZD0id2xwX2Nkbl85Ij4tPC9zcGFuPjxzcGFuIGlkPSJ3bHBfY2RuXzEzIj4tPC9zcGFuPjwvcD48cD4y77yaPHNwYW4gaWQ9IndscF9jZG5fMiI+LTwvc3Bhbj48c3BhbiBpZD0id2xwX2Nkbl82Ij4tPC9zcGFuPjxzcGFuIGlkPSJ3bHBfY2RuXzEwIj4tPC9zcGFuPjxzcGFuIGlkPSJ3bHBfY2RuXzE0Ij4tPC9zcGFuPjwvcD48cD4z77yaPHNwYW4gaWQ9IndscF9jZG5fMyI+LTwvc3Bhbj48c3BhbiBpZD0id2xwX2Nkbl83Ij4tPC9zcGFuPjxzcGFuIGlkPSJ3bHBfY2RuXzExIj4tPC9zcGFuPjxzcGFuIGlkPSJ3bHBfY2RuXzE1Ij4tPC9zcGFuPjwvcD48cD4077yaPHNwYW4gaWQ9IndscF9jZG5fNCI+LTwvc3Bhbj48c3BhbiBpZD0id2xwX2Nkbl84Ij4tPC9zcGFuPjxzcGFuIGlkPSJ3bHBfY2RuXzEyIj4tPC9zcGFuPjxzcGFuIGlkPSJ3bHBfY2RuXzE2Ij4tPC9zcGFuPjwvcD48cD7mnI3liqHlmajvvJo8c2VsZWN0IG5hbWU9IndscF9jZG5fb3B0aW9uIiBpZD0id2xwX2Nkbl9vcHRpb24iPjxvcHRpb24gdmFsdWU9IjAiPuaWsOa1quWIhumFjTwvb3B0aW9uPjxvcHRpb24gdmFsdWU9IjEiPjE8L29wdGlvbj48b3B0aW9uIHZhbHVlPSIyIj4yPC9vcHRpb24+PG9wdGlvbiB2YWx1ZT0iMyI+Mzwvb3B0aW9uPjxvcHRpb24gdmFsdWU9IjQiPjQ8L29wdGlvbj48L3NlbGVjdD48YSBpZD0id2xwX2Nkbl90ZXN0IiBuYW1lPSJ3bHBfY2RuX3Rlc3QiPua1i+mAnzwvYT48YSBpZD0id2xwX2Nkbl90ZW1wIiBuYW1lPSJ3bHBfY2RuX3RlbXAiPuWcqOatpOmhtemdouS4tOaXtuS9v+eUqDwvYT48YSBpZD0id2xwX2Nkbl9zYXZlIiBuYW1lPSJ3bHBfY2RuX3NhdmUiPuS4gOebtOS9v+eUqDwvYT48L3A+PGhyPjxwPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ3bHBfdmlldyI+IOeUu+W7iuaooeW8j+S8mOWFiOS9v+eUqOiHquWKqOe8qeaUvuWbvuWDjzwvbGFiZWw+PC9wPjxwPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ3bHBfZmxvYXRiYXJfb3B0aW9uIj4g5ZCv55So5Zu+5YOP5rWu5Yqo5bel5YW35qCPPC9sYWJlbD48L3A+PGhyPjxwPjxhIGhyZWY9Imh0dHA6Ly94aWEuaW0vIj7miJHnmoTljZrlrqI8L2E+PGEgaHJlZj0iaHR0cDovL3hpYS5pbS93ZWliby1sYXJnZXItcGljcy11c2Vyc2NyaXB0LyI+5Y+N6aaIPC9hPjxhIGhyZWY9Imh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy81MDM4LXdlaWJvLWxhcmdlci1waWNzIj5HcmVhc3lGb3JrPC9hPjxhIGhyZWY9Imh0dHBzOi8vZ2l0aHViLmNvbS9uZXZlcndlZXAvV2VpYm8tTGFyZ2VyLVBpY3MvIj5HaXRodWI8L2E+PGEgc3R5bGU9ImNvbG9yOnJlZDtmb250LXdlaWdodDpib2xkIiBocmVmPSJodHRwOi8veGlhLmltL3VwbG9hZC9kb25hdGlvbi5odG1sIj7mjZDotaA8L2E+PGEgaWQ9IndscF9jZG5fZXhpdCIgc3R5bGU9ImZsb2F0OnJpZ2h0IiBuYW1lPSJ3bHBfY2RuX2V4aXQiPuWFs+mXrTwvYT48L3A+PC9kaXY+JzsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpOwogICAgICAgICAgICAvL+agueaNruiuvue9ruehruWumuaYvuekugogICAgICAgICAgICAkaWQoJ3dscF9jZG5fb3B0aW9uJykudmFsdWUgPSBnYWxsZXJ5Ll9jZG47CiAgICAgICAgICAgICRpZCgnd2xwX3ZpZXcnKS5jaGVja2VkID0gX192aWV3OwogICAgICAgICAgICAkaWQoJ3dscF9mbG9hdGJhcl9vcHRpb24nKS5jaGVja2VkID0gd2xwX2Zsb2F0YmFyLnN0YXR1czsKICAgICAgICAgICAgLy/mtYvor5UgQ0ROIOmAn+W6pgogICAgICAgICAgICAkaWQoJ3dscF9jZG5fdGVzdCcpLm9uY2xpY2sgPSBmdW5jdGlvbigpe0NETi5jZG5UZXN0KCk7fQogICAgICAgICAgICAvL+atpOmhteS4tOaXtuS/neWtmAogICAgICAgICAgICAkaWQoJ3dscF9jZG5fdGVtcCcpLm9uY2xpY2sgPSBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgZ2FsbGVyeS5fY2RuID0gcGFyc2VJbnQoJGlkKCd3bHBfY2RuX29wdGlvbicpLnZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvL+awuOS5heS/neWtmAogICAgICAgICAgICAkaWQoJ3dscF9jZG5fc2F2ZScpLm9uY2xpY2sgPSBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgZ2FsbGVyeS5fY2RuID0gcGFyc2VJbnQoJGlkKCd3bHBfY2RuX29wdGlvbicpLnZhbHVlKTsKICAgICAgICAgICAgICAgIHNhdmUoJ2NkbicsIGdhbGxlcnkuX2Nkbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy/kv53lrZjnvKnmlL7lm77lg4/orr7nva4KICAgICAgICAgICAgJGlkKCd3bHBfdmlldycpLm9uY2hhbmdlID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGdhbGxlcnkuX3ZpZXcgPSBfX3ZpZXcgPSB0aGlzLmNoZWNrZWQ7CiAgICAgICAgICAgICAgICBzYXZlKCd2aWV3JywgX192aWV3KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvL+S/neWtmOa1ruWKqOW3peWFt+agj+iuvue9rgogICAgICAgICAgICAkaWQoJ3dscF9mbG9hdGJhcl9vcHRpb24nKS5vbmNoYW5nZSA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBpZih0aGlzLmNoZWNrZWQgPT09IGZhbHNlKXsKICAgICAgICAgICAgICAgICAgICBzYXZlKCdmbG9hdGJhcicsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB3bHBfZmxvYXRiYXIucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgd2xwX2Zsb2F0YmFyLnN0YXR1cyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgc2F2ZSgnZmxvYXRiYXInLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICBjb25maXJtKCfph43mlrDlvIDlkK/mta7liqjmoI/pnIDopoHliLfmlrDpobXpnaLjgIJcblxu54K55Ye74oCc56Gu5a6a4oCd56uL5Y2z5Yi35paw6aG16Z2i77ybXG7ngrnlh7vigJzlj5bmtojigJ3pgqPlsLHlvoXkvJrlhL/lho3or7R+JykgPT09IHRydWUgPyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkgOiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8v6YCA5Ye6CiAgICAgICAgICAgICRpZCgnd2xwX2Nkbl9leGl0Jykub25jbGljayA9IGZ1bmN0aW9uKCl7JGlkKCd3bHBfY2RuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzt9CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICRpZCgnd2xwX2Nkbl9vcHRpb24nKS52YWx1ZSA9IGdhbGxlcnkuX2NkbjsKICAgICAgICAgICAgJGlkKCd3bHBfY2RuJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgfQogICAgfSwKICAgIC8v5rWL6YCfCiAgICBjZG5UZXN0IDogZnVuY3Rpb24oKXsKICAgICAgICB2YXIgbm9kZXMgPSAkaWQoJ3dscF9jZG4nKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuJyk7CiAgICAgICAgZm9yKHZhciB6IGluIG5vZGVzKXsKICAgICAgICAgICAgbm9kZXNbel0uaW5uZXJIVE1MID0gJy0nOwogICAgICAgIH0KICAgICAgICB2YXIgaiA9IDAsIG4gPSAwLCBjZG50OwogICAgICAgIHZhciBzID0gJy5zaW5haW1nLmNuL2xhcmdlLzc0NDM1OTI3Z3cxZTc1NXFvcnlwYmoyMTl4MHVrNGE4LmpwZz8nOwogICAgICAgIHZhciBjZG5pbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKICAgICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgICAgY2RuaW1nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjZG5pbWcpOwogICAgICAgIHN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgY2RuaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGNsZWFyVGltZW91dChjZG50KTsKICAgICAgICAgICAgZW5kID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgICAgIG4gPSBqKysgJSA0ICsgMTsKICAgICAgICAgICAgcmVzdWx0LnB1c2goZW5kIC0gc3RhcnQpOwogICAgICAgICAgICAkaWQoJ3dscF9jZG5fJyArIGopLmlubmVySFRNTCA9IGVuZCAtIHN0YXJ0OwogICAgICAgICAgICBzdGFydCA9IGVuZDsKICAgICAgICAgICAgLy8gaiA+PSAxMiDml7borqHnrpflubPlnYfliqDovb3ml7bpl7Tlubbot7Plh7oKICAgICAgICAgICAgaWYoaiA+PSAxMil7CiAgICAgICAgICAgICAgICAkaWQoJ3dscF9jZG5fMTMnKS5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKChyZXN1bHRbMF0gKyByZXN1bHRbNF0gKyByZXN1bHRbOF0pIC8gMyk7CiAgICAgICAgICAgICAgICAkaWQoJ3dscF9jZG5fMTQnKS5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKChyZXN1bHRbMV0gKyByZXN1bHRbNV0gKyByZXN1bHRbOV0pIC8gMyk7CiAgICAgICAgICAgICAgICAkaWQoJ3dscF9jZG5fMTUnKS5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKChyZXN1bHRbMl0gKyByZXN1bHRbNl0gKyByZXN1bHRbMTBdKSAvIDMpOwogICAgICAgICAgICAgICAgJGlkKCd3bHBfY2RuXzE2JykuaW5uZXJIVE1MID0gTWF0aC5yb3VuZCgocmVzdWx0WzNdICsgcmVzdWx0WzddICsgcmVzdWx0WzExXSkgLyAzKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoY2RuaW1nKTsgLy/liKDpmaTmtYvor5XoioLngrkKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNkbmltZy5zcmMgPSAnaHR0cDovL3d3JyArIG4gKyBzICsgc3RhcnQ7CiAgICAgICAgICAgIC8v5Zu+54mH5Yqg6L296LaF5pe25aSE55CGCiAgICAgICAgICAgIGNkbnQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgcmVzdWx0W2pdID0gNTAwMDsKICAgICAgICAgICAgICAgIG4gPSBqKysgJSA0ICsgMTsKICAgICAgICAgICAgICAgICRpZCgnd2xwX2Nkbl8nICsgaikuaW5uZXJIVE1MID0gJ+i2heaXtic7CiAgICAgICAgICAgICAgICBjZG5pbWcuc3JjID0gJ2h0dHA6Ly93dycgKyBuICsgcyArIHN0YXJ0OwogICAgICAgICAgICAgICAgc3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjZG50KTsKICAgICAgICAgICAgfSwgNTAwMCk7CiAgICAgICAgfQogICAgICAgIGNkbmltZy5zcmMgPSAnaHR0cDovL3d3MScgKyBzICsgc3RhcnQ7CiAgICB9LAp9CgoKCgovKiAt5Yid5aeL5YyWLSAqLwppZihfb24pewogICAgLy/liKTmlq3pobXpnaLnsbvlnovvvIzkuLvlhaXlj6MKICAgIGlmKHNlYXJjaFBpYyl7CiAgICAgICAgYmluZFNtYWxsLnNlYXJjaFBpYygpOwogICAgfWVsc2UgaWYoc2VhcmNoKXsKICAgICAgICBiaW5kU21hbGwuc2VhcmNoKCk7CiAgICB9ZWxzZSBpZihwaG90byl7CiAgICAgICAgYmluZFNtYWxsLnBob3RvKCk7CiAgICB9ZWxzZSBpZihkaXNjb3Zlcil7CiAgICAgICAgYmluZFNtYWxsLmRpc2NvdmVyKCk7CiAgICB9CiAgICBiaW5kU21hbGwucGhvdG9GbHVpZCgpOwogICAgYmluZFNtYWxsLnBob3RvRmx1aWROZXcoKTsKICAgIGJpbmRTbWFsbC5tYWluKCk7CgoKICAgIGFkZE5vZGVJbnNlcnRlZExpc3RlbmVyKCcuZmljb25fc2V0OmhvdmVyJywgZnVuY3Rpb24oZSl7CiAgICAgICAgaWYoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN3bHBfc2V0dGluZ19idG4iKSl7CiAgICAgICAgICAgIHZhciBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7CiAgICAgICAgICAgIGxpLm9uY2xpY2sgPSBmdW5jdGlvbigpe0NETi5jZG5VSSgpfTsKICAgICAgICAgICAgbGkuaW5uZXJIVE1MID0gJzxhIGhyZWY9ImphdmFzY3JpcHQ6OyIgaWQ9IndscF9zZXR0aW5nX2J0biI+5oiR6KaB55yL5aSn5Zu+PC9hPicKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmduX3RvcG1lbnVsaXN0X3NldCIpLmNoaWxkcmVuWzBdLmluc2VydEJlZm9yZShsaSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmduX3RvcG1lbnVsaXN0X3NldCIpLmNoaWxkcmVuWzBdLmNoaWxkTm9kZXNbOV0pOwogICAgICAgIH0KICAgIH0pOwoKICAgIC8v5Yid5aeL5YyW55S75buKCiAgICBnYWxsZXJ5LmluaXQoKTsKfQp9KSgpOwo="},{"name":"DuckDuckMenu","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["*://duckduckgo.com/?q=*"],"orig_matches":["http://mycroftproject.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512563},"enabled":false,"position":22,"file_url":"https://greasyfork.org/scripts/3658-duckduckmenu/code/DuckDuckMenu.user.js","uuid":"6940dd41-ec17-4523-9ea5-a1eb8a09b76f","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBEdWNrRHVja01lbnUKLy8gQGRlc2NyaXB0aW9uICAgICBFeHRlbmRzIER1Y2tEdWNrR28gYnkgYWRkaW5nIGEgY3VzdG9taXphYmxlIGxpc3Qgb2YgYWRkaXRpb25hbCBzZWFyY2ggZW5naW5lcyBmb3IgbWFraW5nIGZhc3Qgc2VhcmNoZXMgZnJvbSBvdGhlciBlbmdpbmVzLgovLyBAbmFtZXNwYWNlICAgICAgIGdyZWFzeWZvcmsub3JnL3VzZXJzLzM5MjYtamd1ZXIKLy8gQGhvbWVwYWdlICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vSmd1ZXIvRHVja2R1Y2tHby1NZXh0ZW5kZWQKLy8gQGljb24gICAgICAgICAgICBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSmd1ZXIvRHVja2R1Y2tHby1NZXh0ZW5kZWQvbWFzdGVyL3Jlc291cmNlcy9sYXJnZS5wbmcKLy8gQGNvbnRyaWJ1dGlvblVSTCBodHRwczovL3d3dy5wYXlwYWwuY29tL2NnaS1iaW4vd2Vic2NyP2NtZD1fZG9uYXRpb25zJmJ1c2luZXNzPWpvYW9nZzNAaG90bWFpbC5jb20maXRlbV9uYW1lPUtpY2thc3MrMjQrZG9uYXRpb24KLy8gQGluY2x1ZGUgICAgICAgICAqOi8vZHVja2R1Y2tnby5jb20vP3E9KgovLyBAbWF0Y2ggICAgICAgICAgIGh0dHA6Ly9teWNyb2Z0cHJvamVjdC5jb20vKgovLyBAcmVxdWlyZSAgICAgICAgIC8vYWpheC5nb29nbGVhcGlzLmNvbS9hamF4L2xpYnMvanF1ZXJ5LzEuMTEuMS9qcXVlcnkubWluLmpzCi8vIEBncmFudCAgICAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBsaWNlbnNlICAgICAgICAgTUlUCi8vIEB2ZXJzaW9uICAgICAgICAgMy4wLjEgQnVpbGQgMjkyCi8vIEBhdXRob3IgICAgICAgICAgSmd1ZXIKLy8gPT0vVXNlclNjcmlwdD09Ci8vU3R5bGVzCgpmdW5jdGlvbiBhZGRHbG9iYWxTdHlsZShjc3MpIHsKICB2YXIgaGVhZCwKICBzdHlsZTsKICBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKSBbMF07CiAgaWYgKCFoZWFkKSB7CiAgICByZXR1cm47CiAgfQogIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJzsKICBzdHlsZS5pbm5lckhUTUwgPSBjc3M7CiAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7Cn0KLy9NYWluIE1lbnUgU3R5bGUKYWRkR2xvYmFsU3R5bGUoJy5kZGdtIHsgYmFja2dyb3VuZC1jb2xvcjogIzI0MjcyQTsgaGVpZ2h0OiBhdXRvOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7d2lkdGg6IDEwMCU7IH0nKTsKLy9CdXR0b24gU3R5bGUKYWRkR2xvYmFsU3R5bGUoJy5kZGdtYnRuIHsgYmFja2dyb3VuZC1jb2xvcjogIzI0MjcyQTsgaGVpZ2h0OiAyNXB4OyB3aWR0aDogYXV0bzsgdGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7cGFkZGluZy10b3A6IDZweDtwYWRkaW5nLWJvdHRvbTogNnB4OyBmb250LWZhbWlseTogaW5oZXJpdDsgZm9udC1zaXplOiAxLjJlbTsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6IHdoaXRlOyBib3JkZXItd2lkdGg6IDNweDsgYm9yZGVyLWJvdHRvbS13aWR0aDogMHB4OyBib3JkZXItY29sb3I6ICAjMjQyNzJBOyBwYWRkaW5nLWxlZnQ6IDRweDsgcGFkZGluZy1yaWdodDogNHB4OyBib3JkZXItc3R5bGU6IHNvbGlkO30nKTsKYWRkR2xvYmFsU3R5bGUoJy5kZGdtYnRuOmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogICM1QTYyNjk7IGNvbG9yOiB3aGl0ZTsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7fScpOwphZGRHbG9iYWxTdHlsZSgnLmRkZ21idG46dmlzaXRlZCB7Y29sb3I6IHdoaXRlO30nKTsKLy9DdXN0b20gRW5naW5lIFN0eWxlCmFkZEdsb2JhbFN0eWxlKCcuY2RkZ21idG4geyBiYWNrZ3JvdW5kLWNvbG9yOiAjMjQyNzJBO30nKTsKLy9FbmdpbmUgQWRkIFN0eWxlCmFkZEdsb2JhbFN0eWxlKCcuYWRkZW5naW5lIHsgZmxvYXQ6IHJpZ2h0O30nKTsKYWRkR2xvYmFsU3R5bGUoJy5hZGRlbmdpbmU6aG92ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAgIzVBNjI2OTsgY29sb3I6IHdoaXRlOyB0ZXh0LWRlY29yYXRpb246bm9uZTt9Jyk7CmFkZEdsb2JhbFN0eWxlKCcuYWRkZW5naW5lOnZpc2l0ZWQge2NvbG9yOiB3aGl0ZTt9Jyk7Ci8vRWRpdCBNZW51IFN0eWxlCmFkZEdsb2JhbFN0eWxlKCcuZW5naW5lZGl0IHsgZmxvYXQ6IHJpZ2h0O30nKTsKYWRkR2xvYmFsU3R5bGUoJy5lbmdpbmVkaXQ6aG92ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAgIzVBNjI2OTsgY29sb3I6IHdoaXRlOyB0ZXh0LWRlY29yYXRpb246bm9uZTt9Jyk7CmFkZEdsb2JhbFN0eWxlKCcuZW5naW5lZGl0OnZpc2l0ZWQge2NvbG9yOiB3aGl0ZTt9Jyk7CmFkZEdsb2JhbFN0eWxlKCcucmVtb3ZleCB7IGNvbG9yOiByZWQ7Zm9udC1mYW1pbHk6IGluaGVyaXQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBwb3NpdGlvbjpyZWxhdGl2ZTsgdG9wOi01cHg7fScpOwphZGRHbG9iYWxTdHlsZSgnLnJlbW92ZXg6dmlzaXRlZCB7Y29sb3I6IHJlZDt9JykKYWRkR2xvYmFsU3R5bGUoJy5yZW1vdmV4OmhvdmVyIHsgY29sb3I6IHdoaXRlOyB0ZXh0LWRlY29yYXRpb246bm9uZTt9Jyk7CmFkZEdsb2JhbFN0eWxlKCcuZGRnZW0geyBiYWNrZ3JvdW5kLWNvbG9yOiAjMjQyNzJBOyBoZWlnaHQ6IDIwcHg7IH0nKTsKYWRkR2xvYmFsU3R5bGUoJy5kZGdlbWJ0biB7IGZsb2F0OiByaWdodDsgYmFja2dyb3VuZC1jb2xvcjogIzI0MjcyQTsgaGVpZ2h0OiAxNHB4OyB3aWR0aDogYXV0bzsgdGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7cGFkZGluZy10b3A6IDNweDtwYWRkaW5nLWJvdHRvbTogM3B4OyBmb250LWZhbWlseTogaW5oZXJpdDsgZm9udC1zaXplOiAwLjhlbTsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6IHdoaXRlOyBib3JkZXItd2lkdGg6IDNweDsgYm9yZGVyLWJvdHRvbS13aWR0aDogMHB4O2JvcmRlci10b3Atd2lkdGg6IDBweDsgYm9yZGVyLWNvbG9yOiAgIzI0MjcyQTsgcGFkZGluZy1sZWZ0OiA0cHg7IHBhZGRpbmctcmlnaHQ6IDRweDsgYm9yZGVyLXN0eWxlOiBzb2xpZDtwb3NpdGlvbjpyZWxhdGl2ZTsgdG9wOi0ycHg7fScpOwphZGRHbG9iYWxTdHlsZSgnLmRkZ2VtYnRuOmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogICM1QTYyNjk7IGNvbG9yOiB3aGl0ZTsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7fScpOwphZGRHbG9iYWxTdHlsZSgnLmRkZ2VtYnRuOnZpc2l0ZWQge2NvbG9yOiB3aGl0ZTt9Jyk7CgovL05ld3MgU3R5bGUKYWRkR2xvYmFsU3R5bGUoJy5kZGdtbmV3cyB7Y29sb3I6IHdoaXRlOyBiYWNrZ3JvdW5kLWNvbG9yOiAjREU1ODMzO3RleHQtYWxpZ246IGNlbnRlcjstby10ZXh0LW92ZXJmbG93OiBlbGxpcHNpczt0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczt3aWR0aDogYXV0bztoZWlnaHQ6IGF1dG87IHBhZGRpbmc6IDVweDttYXJnaW46IDA7b3ZlcmZsb3c6IHZpc2libGU7ZGlzcGxheTogYmxvY2s7ZmxvYXQ6IG5vbmU7ei1pbmRleDogYXV0bzstd2Via2l0LWJveC1zaXppbmc6IGNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzogY29udGVudC1ib3g7Ym94LXNpemluZzogY29udGVudC1ib3g7cG9zaXRpb246IHN0YXRpYztvcGFjaXR5OiAxO2N1cnNvcjogZGVmYXVsdDtib3JkZXI6IG5vbmU7LXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwIDAgMjBweCAyMHB4O2JvcmRlci1yYWRpdXM6IDAgMCAyMHB4IDIwcHg7fScpOwoKLy8tRERHLS8vCmZ1bmN0aW9uIGRkbSgpIHsKICAvL0NyZWF0ZSBNZW51CiAgdmFyIHNlYXJjaFZhbCA9ICQoJyNzZWFyY2hfZm9ybV9pbnB1dCcpLnZhbCgpOwogICQoJzxkaXY+JykuYWRkQ2xhc3MoJ2RkZ20nKS5wcmVwZW5kVG8oJ2JvZHknKTsKICBjb25zb2xlLmxvZygnIyNTZWFyY2ggdGVybSBpcyAnICsgc2VhcmNoVmFsKTsKICBjb25zb2xlLmxvZygnI0NyZWF0ZWQgdGhlIE1lbnUnKTsKICAvL0xvYWQgZGVmYXVsdCBFbmdpbmVzCiAgZnVuY3Rpb24gTG9hZERlZmF1bHQoKSB7CiAgICB2YXIgZ25hbWUgPSBHTV9nZXRWYWx1ZSgnZGRnbURpc0VuZ2luZXMnLCAnZW1wdHknKTsKICAgIHZhciBkbmFtZTsKICAgIHZhciBkdXJsOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHsKICAgICAgc3dpdGNoIChpKSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgZG5hbWUgPSAnR29vZ2xlJzsKICAgICAgICAgIGR1cmwgPSAnaHR0cDovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPSc7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBkbmFtZSA9ICdZb3V0dWJlJzsKICAgICAgICAgIGR1cmwgPSAnaHR0cDovL3d3dy55b3V0dWJlLmNvbS9yZXN1bHRzP3NlYXJjaF9xdWVyeT0nOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAyOgogICAgICAgICAgZG5hbWUgPSAnV2lraXBlZGlhJzsKICAgICAgICAgIGR1cmwgPSAnaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvdy9pbmRleC5waHA/dGl0bGU9U3BlY2lhbCUzQVNlYXJjaCZwcm9maWxlPWRlZmF1bHQmc2VhcmNoPSc7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBkbmFtZSA9ICdHaXRodWInOwogICAgICAgICAgZHVybCA9ICdodHRwczovL2dpdGh1Yi5jb20vc2VhcmNoP3E9JzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNDoKICAgICAgICAgIGRuYW1lID0gJ0tpY2thc3MudG8nOwogICAgICAgICAgZHVybCA9ICdodHRwczovL2tpY2thc3MudG8vdXNlYXJjaC8nOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA1OgogICAgICAgICAgZG5hbWUgPSAnVGhlIFBpcmF0ZSBCYXknOwogICAgICAgICAgZHVybCA9ICdodHRwczovL3RoZXBpcmF0ZWJheS5zZS9zZWFyY2gvJzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNjoKICAgICAgICAgIGRuYW1lID0gJ1N1YnRpdGxlIFNlZWtlcic7CiAgICAgICAgICBkdXJsID0gJ2h0dHA6Ly9zdWJ0aXRsZXNlZWtlci5lZS9zZWFyY2gvcmVxdWVzdC5waHA/cT0nOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGFsZXJ0KCdFcnJvcicpOwogICAgICB9CiAgICAgIGlmIChnbmFtZS5pbmRleE9mKGRuYW1lKSA8IDApCiAgICAgIHsKICAgICAgICBidG5jcmVhdGUoZG5hbWUsIGR1cmwsIHNlYXJjaFZhbCk7CiAgICB9CiAgfQogIGNvbnNvbGUubG9nKCcjTG9hZGVkIERlZmF1bHQgRW5naW5lcycpOwp9CgovL0xvYWQgQ3VzdG9tIEVuZ2luZXMKZnVuY3Rpb24gTG9hZEN1c3RvbSgpIHsKICB2YXIgX0NFbmdpbmVOYW1lID0gW3VuZGVmaW5lZF07CiAgdmFyIF9DRW5naW5lVVJMID0gW3VuZGVmaW5lZF07CiAgdmFyIGFycmF5TGVuZ3RoOwogIGZvciAodmFyIGkgPSAwOyBpIDwgMTU7IGkrKykgewogICAgX0NFbmdpbmVOYW1lW2ldID0gR01fZ2V0VmFsdWUoJ0NFbmdpbmVOYW1lJyArIGksICdlbXB0eScpOwogICAgX0NFbmdpbmVVUkxbaV0gPSBHTV9nZXRWYWx1ZSgnQ0VuZ2luZVVybCcgKyBpLCAnZW1wdHknKTsKICAgIGlmIChfQ0VuZ2luZU5hbWVbaV0gIT0gJ2VtcHR5JykgewogICAgICBjYnRuY3JlYXRlKF9DRW5naW5lTmFtZVtpXSwgX0NFbmdpbmVVUkxbaV0sIHNlYXJjaFZhbCk7CiAgICB9CiAgfQp9CiAgCkxvYWREZWZhdWx0KCk7CkxvYWRDdXN0b20oKTsKICAKLy9DcmVhdGUgU2V0dGluZ3MgTWVudSAgCiQoJzxhPicpLmFkZENsYXNzKCdlbmdpbmVkaXQnKS5hZGRDbGFzcygnZGRnbWJ0bicpLnRleHQoJ0VkaXQgTWVudScpLmF0dHIoJ2hyZWYnLCAnIycpLmFwcGVuZFRvKCcuZGRnbScpOwoKLyoKCgpMb2dpYwoKCiovCiAgCi8vRGVmYXVsdCBFbmdpbmUgQ3JlYXRvcgpmdW5jdGlvbiBidG5jcmVhdGUobmFtZSwgc2VhcmNoRW5naW5lLCBfc2VhcmNoVmFsKSB7CiAgaWYgKG5hbWUgIT0gdW5kZWZpbmVkICYgc2VhcmNoRW5naW5lICE9IHVuZGVmaW5lZCkgewogICAgJCgnPGE+JykuYWRkQ2xhc3MoJ2RkZ21idG4nKS5hZGRDbGFzcygnZW5naW5lJykuaGlkZSgpLnRleHQobmFtZSkuYXR0cignaHJlZicsIHNlYXJjaEVuZ2luZSArIF9zZWFyY2hWYWwpLmFwcGVuZFRvKCcuZGRnbScpLmZhZGVJbigxMDApOwogICAgY29uc29sZS5sb2coJyMjQWRkZWQgQnV0dG9uIHdpdGggJyArIG5hbWUpOwogIH0KfTsKLy9DdXN0b20gRW5naW5lIENyZWF0b3IKZnVuY3Rpb24gY2J0bmNyZWF0ZShuYW1lLCBzZWFyY2hFbmdpbmUsIF9zZWFyY2hWYWwpIHsKICBpZiAobmFtZSAhPSB1bmRlZmluZWQgJiBzZWFyY2hFbmdpbmUgIT0gdW5kZWZpbmVkKSB7CiAgICBzZWFyY2hFbmdpbmUgPSBzZWFyY2hFbmdpbmUucmVwbGFjZSgne3NlYXJjaFRlcm1zfScsIF9zZWFyY2hWYWwpOwogICAgJCgnPGE+JykuYWRkQ2xhc3MoJ2RkZ21idG4nKS5hZGRDbGFzcygnZW5naW5lJykuYWRkQ2xhc3MoJ2NkZGdtYnRuJykuaGlkZSgpLnRleHQobmFtZSkuYXR0cignaHJlZicsIHNlYXJjaEVuZ2luZSkucHJlcGVuZFRvKCcuZGRnbScpLmZhZGVJbigxMDApOwogICAgY29uc29sZS5sb2coJyMjQWRkZWQgQnV0dG9uIGZpcnN0IHdpdGggJyArIG5hbWUpOwogIH0KfTsKLy9FZGl0IEVuZ2luZXMKJCgnLmVuZ2luZWRpdCcpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICBpZiAoJCgnI3Jlc3RvcmVkZW5naW5lcycpLmxlbmd0aCkgewogICAgLy9pZiByZW1vdmV4IGV4aXN0cyByZW1vdmUgZWRpdCBtZW51CiAgICAkKCcucmVtb3ZleCcpLmZhZGVPdXQoMjAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICQodGhpcykucmVtb3ZlKCk7CiAgICB9KTsKICAgICQoJy5kZGdlbScpLnNsaWRlVXAoMzAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICQodGhpcykucmVtb3ZlKCk7CiAgICB9KTsKICB9IAogIGVsc2UgewogICAgLy9pZiByZW1vdmV4IGRvZXNuJ3QgZXhpc3QgYWRkIG1lbnUKICAgICQoJzxhPicpLnRleHQoJyB4JykuYWRkQ2xhc3MoJ3JlbW92ZXgnKS5oaWRlKCkuYXR0cignaHJlZicsICcjJykuYXBwZW5kVG8oJy5lbmdpbmUnKS5mYWRlSW4oMzAwKTsKICAgICQoJzxkaXY+JykuYWRkQ2xhc3MoJ2RkZ2VtJykuc2xpZGVEb3duKDMwMCkuaW5zZXJ0QWZ0ZXIoJy5kZGdtJyk7CiAgICAkKCc8YT4nKS5hZGRDbGFzcygnZGRnZW1idG4nKS5hdHRyKCdpZCcsICdhZGRtZW5naW5lJykudGV4dCgnQWRkIG5ldyBFbmdpbmUgKE1hbnVhbCknKS5hdHRyKCdocmVmJywgJyMnKS5hcHBlbmRUbygnLmRkZ2VtJyk7CiAgICAkKCc8YT4nKS5hZGRDbGFzcygnZGRnZW1idG4nKS5hdHRyKCdpZCcsICdyZXN0b3JlZGVuZ2luZXMnKS50ZXh0KCdSZXN0b3JlIGRlZmF1bHQgRW5naW5lcycpLmF0dHIoJ2hyZWYnLCAnIycpLmFwcGVuZFRvKCcuZGRnZW0nKTsKICB9Cn0pOwovL0FkZCBFbmdpbmVzIE1hbnVhbGx5CiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjYWRkbWVuZ2luZScsIGZ1bmN0aW9uICgpIHsKICB2YXIgY05hbWUgPSBwcm9tcHQoJ0VuZ2luZSBOYW1lJywgJ0Rpc3BsYXkgTmFtZScpOwogIGlmIChuYW1lLmxlbmd0aCA8IDI1KSB7CiAgICBjb25zb2xlLmxvZygnQ2FsbGVkIFNlYXJjaCBFbmdpbmUgUHJvbXB0Jyk7CiAgICB2YXIgY1NlYXJjaEVuZ2luZSA9IHByb21wdCgnRW5naW5lIFVSTCAoRXhhbXBsZTpodHRwOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP3E9e3NlYXJjaFRlcm1zfSknLCAnVVJMJyk7CiAgICBjYnRuY3JlYXRlKGNOYW1lLCBjU2VhcmNoRW5naW5lLCBzZWFyY2hWYWwpOwogICAgLy9TYXZlIEN1c3RvbSBlbmdpbmUgICAgICAgICAgIAogICAgdmFyIGNFbmdpbmVzYXZlID0gW3VuZGVmaW5lZF07CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE1OyBpKyspIHsKICAgICAgY0VuZ2luZXNhdmVbaV0gPSBHTV9nZXRWYWx1ZSgnQ0VuZ2luZU5hbWUnICsgaSwgJ2VtcHR5Jyk7CiAgICAgIGlmIChjRW5naW5lc2F2ZVtpXSA9PSAnZW1wdHknKSB7CiAgICAgICAgR01fc2V0VmFsdWUoJ0NFbmdpbmVOYW1lJyArIGksIGNOYW1lKTsKICAgICAgICBHTV9zZXRWYWx1ZSgnQ0VuZ2luZVVybCcgKyBpLCBjU2VhcmNoRW5naW5lKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0gCiAgZWxzZQogIHsKICAgIGFsZXJ0KCdZb3VyIHRpdGxlIGlzIHRvbyBsb25nJyk7CiAgfQp9KTsKLy9SZXN0b3JlIERlZmF1bHQgRW5naW5lcwokKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3Jlc3RvcmVkZW5naW5lcycsIGZ1bmN0aW9uICgpIHsKICBHTV9zZXRWYWx1ZSgnZGRnbURpc0VuZ2luZXMnLCAnZW1wdHknKTsKICBsb2NhdGlvbi5yZWxvYWQoKTsKfSk7Ci8vUmVtb3ZlIEVuZ2luZQokKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnJlbW92ZXgnLCBmdW5jdGlvbiAoKSB7CiAgdmFyIGNvbXBhcmVkZWwgPSAkKHRoaXMpLnBhcmVudCgnLmVuZ2luZScpLmNsb25lKCkuY2hpbGRyZW4oKS5yZW1vdmUoKS5lbmQoKS50ZXh0KCk7CiAgJCh0aGlzKS5jbG9zZXN0KCcuZW5naW5lJykucmVtb3ZlKCk7CiAgY29uc29sZS5sb2coJyNSZW1vdmVkIEVuZ2luZSAnICsgY29tcGFyZWRlbCk7CiAgdmFyIGNFbmdpbmVkZWwgPSBbdW5kZWZpbmVkXTsKICBmb3IgKHZhciBpID0gMDsgaSA8IDE1OyBpKyspIHsKICAgIGNFbmdpbmVkZWxbaV0gPSBHTV9nZXRWYWx1ZSgnQ0VuZ2luZU5hbWUnICsgaSwgJ2VtcHR5Jyk7CiAgICBpZiAoY0VuZ2luZWRlbFtpXSA9PSBjb21wYXJlZGVsKSB7CiAgICAgIEdNX3NldFZhbHVlKCdDRW5naW5lTmFtZScgKyBpLCAnZW1wdHknKTsKICAgICAgR01fc2V0VmFsdWUoJ0NFbmdpbmVVcmwnICsgaSwgJ2VtcHR5Jyk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICB2YXIgZGlzYWJsZWRlbmdpbmVzID0gR01fZ2V0VmFsdWUoJ2RkZ21EaXNFbmdpbmVzJywgJ2VtcHR5Jyk7CiAgR01fc2V0VmFsdWUoJ2RkZ21EaXNFbmdpbmVzJywgZGlzYWJsZWRlbmdpbmVzICsgJyAnICsgY29tcGFyZWRlbCk7CiAgZGlzYWJsZWRlbmdpbmVzID0gR01fZ2V0VmFsdWUoJ2RkZ21EaXNFbmdpbmVzJywgJ2VtcHR5Jyk7CiAgY29uc29sZS5sb2coJyNEaXNhYmxlZCBFbmdpbmVzICcgKyBkaXNhYmxlZGVuZ2luZXMpCn0pOwp9Ci8vLU15Q3JvZnQtLy8KCnZhciBteWNyb2Z0ID0gewpwbHVnaW5zOiBudWxsLAphZGRMaW5rczogZnVuY3Rpb24gKHApIHsKICBpZiAocCkgewogICAgdGhpcy5wbHVnaW5zID0gZG9jdW1lbnQuZXZhbHVhdGUoJy8vYVtAaHJlZj0iL2pzcmVxLmh0bWwiXScsIHAsIG51bGwsIFhQYXRoUmVzdWx0Lk9SREVSRURfTk9ERV9TTkFQU0hPVF9UWVBFLCBudWxsKTsKICAgIHZhciByZXZpZXdzID0gZG9jdW1lbnQuZXZhbHVhdGUoJy8vYVsuPSJbUmV2aWV3XSJdJywgcCwgbnVsbCwgWFBhdGhSZXN1bHQuT1JERVJFRF9OT0RFX1NOQVBTSE9UX1RZUEUsIG51bGwpOwogICAgdmFyIGFkZExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICBhZGRMaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsICdqYXZhc2NyaXB0OnZvaWQoMCknKTsKICAgIGFkZExpbmsuc2V0QXR0cmlidXRlKCdzdHlsZScsICdtYXJnaW4tbGVmdDo1cHg7IGNvbG9yOiMwMDAwOTknKTsKICAgIGFkZExpbmsuaW5uZXJIVE1MID0gJ1tBZGQgdG8gRERNXSc7CiAgICBmb3IgKHZhciBpID0gMCwgdG1wOyBpIDwgcmV2aWV3cy5zbmFwc2hvdExlbmd0aDsgaSsrKSB7CiAgICAgIHRtcCA9IGFkZExpbmsuY2xvbmVOb2RlKHRydWUpOwogICAgICB0bXAuc2V0QXR0cmlidXRlKCdkYXRhLWluZCcsIGkpOwogICAgICB0bXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmFkZE5ld0VuZ2luZSwgZmFsc2UpOwogICAgICByZXZpZXdzLnNuYXBzaG90SXRlbShpKS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0bXAsIHJldmlld3Muc25hcHNob3RJdGVtKGkpLm5leHRTaWJsaW5nKTsKICAgIH0KICB9Cn0sCmFkZE5ld0VuZ2luZTogZnVuY3Rpb24gKCkgewogIHZhciBpID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kJyk7CiAgdmFyIG5hbWUgPSBteWNyb2Z0LnBsdWdpbnMuc25hcHNob3RJdGVtKGkpLmlubmVySFRNTC5zcGxpdCgnICgnKSBbMF0uc3BsaXQoJyAtJykgWzBdOwogIHZhciBuZXdFbmdpbmUgPSBteWNyb2Z0LnBsdWdpbnMuc25hcHNob3RJdGVtKGkpLmdldEF0dHJpYnV0ZSgnb25DbGljaycpLnNwbGl0KCdcJycpIFsxXTsKICB2YXIgbmV3TmFtZSA9IHByb21wdCgnVGhpcyBlbmdpbmUgd2lsbCBiZSBhZGRlZCB0byBEREcgRXh0ZW5kZWQuXG5HaXZlIGEgbmFtZSBvciBjYW5jZWwuJywgbmFtZSk7CiAgaWYgKG5ld05hbWUgJiYgbmV3TmFtZS5sZW5ndGggPiAwKSB7CiAgICB0aGlzLmlubmVySFRNTCA9ICdbQWRkZWRdJzsKICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmFkZE5ld0VuZ2luZSwgZmFsc2UpOwogICAgdGhpcy5zdHlsZS5jb2xvciA9ICcjMDA5OTAwJzsKICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKCdocmVmJyk7CiAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgIHVybDogJ2h0dHA6Ly9teWNyb2Z0cHJvamVjdC5jb20vZXh0ZXJuYWxvcy5waHAvJyArIG5ld0VuZ2luZSArICcueG1sJywKICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgcmVzcG9uc2VYTUwgPSBudWxsOwogICAgICAgIC8vIEluamVjdCByZXNwb25zZVhNTCBpbnRvIGV4aXN0aW5nIE9iamVjdCAob25seSBhcHByb3ByaWF0ZSBmb3IgWE1MIGNvbnRlbnQpLgogICAgICAgIGlmICghcmVzcG9uc2UucmVzcG9uc2VYTUwpIHsKICAgICAgICAgIHJlc3BvbnNlWE1MID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhyZXNwb25zZS5yZXNwb25zZVRleHQsICd0ZXh0L3htbCcpOwogICAgICAgIH0KICAgICAgICB2YXIgZW5naW5lID0gcmVzcG9uc2VYTUwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1VybCcpOwogICAgICAgIGlmIChlbmdpbmUubGVuZ3RoID4gMCAmJiBlbmdpbmVbMF0uZ2V0QXR0cmlidXRlKCd0ZW1wbGF0ZScpKSB7CiAgICAgICAgICB2YXIgY0VuZ2luZXNhdmUgPSBbdW5kZWZpbmVkXTsKICAgICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgMTU7IGYrKykgewogICAgICAgICAgICBjRW5naW5lc2F2ZVtmXSA9IEdNX2dldFZhbHVlKCdDRW5naW5lTmFtZScgKyBmLCAnZW1wdHknKTsKICAgICAgICAgICAgaWYgKGNFbmdpbmVzYXZlW2ZdID09ICdlbXB0eScpIHsKICAgICAgICAgICAgICBHTV9zZXRWYWx1ZSgnQ0VuZ2luZU5hbWUnICsgZiwgbmV3TmFtZSk7CiAgICAgICAgICAgICAgR01fc2V0VmFsdWUoJ0NFbmdpbmVVcmwnICsgZiwgZW5naW5lWzBdLmdldEF0dHJpYnV0ZSgndGVtcGxhdGUnKSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FkZGVkIGVuZ2luZSB3aXRoIG5hbWU6ICcgKyBuZXdOYW1lICsgJyBhbmQgVVJMOiAnICsgZW5naW5lWzBdLmdldEF0dHJpYnV0ZSgndGVtcGxhdGUnKSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KfQp9OwoKZnVuY3Rpb24gTmV3cygpIHsKICB2YXIgRGlzcGxheW5ld3MgPSBHTV9nZXRWYWx1ZSgnRERNdjMwMWIyODInLCAiMSIpOwogIAogIGlmKERpc3BsYXluZXdzID09ICIxIil7CiAgICAkKCc8ZGl2PicpLmFkZENsYXNzKCdkZGdtbmV3cycpLnRleHQoIk5ldzogRGlkIHlvdSBrbm93PyBJZiB5b3UgZ28gdG8gbXljcm9mdHByb2plY3QuY29tIHlvdSBjYW4gYWRkIGFkZCBlbmdpbmVzIGp1c3QgYnkgc2VhcmNoaW5nIHRoZWlyIG5hbWUuIFRoaXMgdHlwZSBvZiBtZXNzYWdlIHdpbGwgb25seSBhcHBlYXIgb25jZSBhZnRlciB1cGRhdGVzLiIpLmluc2VydEFmdGVyKCQoIiNoZWFkZXJfd3JhcHBlciIpKTsKfTsKICBHTV9zZXRWYWx1ZSgnRERNdjMwMWIyODInLCAiMCIpOwogIH0KICAKLy9GdW5jdGlvbiBDYWxsaW5nCmlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdodHRwOi8vbXljcm9mdHByb2plY3QuY29tLycpICE9PSAtIDEpIHsKbXljcm9mdC5hZGRMaW5rcyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGx1Z2lucycpKTsKfSBlbHNlIHsKZGRtKCk7Ck5ld3MoKTsKfQo="},{"name":"e-hentai magnet link","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["http://exhentai.org/gallerytorrents.php?*","https://exhentai.org/gallerytorrents.php?*","http://e-hentai.org/gallerytorrents.php?*","https://e-hentai.org/gallerytorrents.php?*","http://g.e-hentai.org/gallerytorrents.php?*","https://g.e-hentai.org/gallerytorrents.php?*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512567},"enabled":false,"position":23,"file_url":"https://sleazyfork.org/scripts/13311-e-hentai-magnet-link/code/e-hentai%20magnet%20link.user.js","uuid":"87ac8782-9fa7-43db-bf06-b0ff8f87fe6b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBlLWhlbnRhaSBtYWduZXQgbGluawovLyBAbmFtZXNwYWNlICAgIHlvb29vfgovLyBAdmVyc2lvbiAgICAgIDAuNQovLyBAZGVzY3JpcHRpb24gIGFkZCBtYWduZXQgbGluayB0byBkb3dubG9hZCBwYWdlCi8vIEBhdXRob3IgICAgICAgQSBHb29kIEd1eQovLyBAbWF0Y2ggICAgICAgIGh0dHA6Ly9leGhlbnRhaS5vcmcvZ2FsbGVyeXRvcnJlbnRzLnBocD8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9leGhlbnRhaS5vcmcvZ2FsbGVyeXRvcnJlbnRzLnBocD8qCi8vIEBtYXRjaCAgICAgICAgaHR0cDovL2UtaGVudGFpLm9yZy9nYWxsZXJ5dG9ycmVudHMucGhwPyoKLy8gQG1hdGNoICAgICAgICBodHRwczovL2UtaGVudGFpLm9yZy9nYWxsZXJ5dG9ycmVudHMucGhwPyoKLy8gQG1hdGNoICAgICAgICBodHRwOi8vZy5lLWhlbnRhaS5vcmcvZ2FsbGVyeXRvcnJlbnRzLnBocD8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9nLmUtaGVudGFpLm9yZy9nYWxsZXJ5dG9ycmVudHMucGhwPyoKLy8gQHJlcXVpcmUgICAgICBodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2pxdWVyeS8xLjkuMS9qcXVlcnkubWluLmpzCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zeXN0ZW0vc2NyZWVuc2hvdHMvc2NyZWVuc2hvdHMvMDAwLzAwMi8zMzcvb3JpZ2luYWwvZDUxZDIxZGJiNmZkNTI2NjNlYjI3NDRmYWQxODk3MmJkNTA3MzYyMi5qcGcKLy8gQGdyYW50ICAgICAgICBub25lCi8vIEBjb250cmlidXRpb25VUkwgaHR0cDovL2Nsc28udGsvZG9uYXRlLwovLyBAY29udHJpYnV0aW9uQW1vdW50IDYuNjYKLy8gPT0vVXNlclNjcmlwdD09CgokKCJmb3JtIGEiKS5lYWNoKGZ1bmN0aW9uKGkpewogICAgJCh0aGlzKS5hZnRlcignPGJyLz48YSBzdHlsZT0iY29sb3I6cmVkIiBocmVmPSJtYWduZXQ6P3h0PXVybjpidGloOicgCiAgICAgICAgICAgICAgICAgICsgdGhpcy5ocmVmLm1hdGNoKC9cLyhcdyspXC50b3JyZW50L2kpWzFdICsgCiAgICAgICAgICAgICAgICAgICciPjxpbWcgc3JjPSJodHRwczovL2dyZWFzeWZvcmsub3JnL3N5c3RlbS9zY3JlZW5zaG90cy9zY3JlZW5zaG90cy8wMDAvMDAyLzMzNi9vcmlnaW5hbC9tYWduZXQucG5nIiB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiAvPltEb3dubG9hZCBieSBtYWduZXQgbGlua108L2E+Jyk7CiAgICAKfSk7CgokKHdpbmRvdykua2V5ZG93bihmdW5jdGlvbihldmVudCl7CiAgICAvL2FsZXJ0KGV2ZW50LmtleUNvZGUpOwogICAgc3dpdGNoKGV2ZW50LmtleUNvZGUpIHsKICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTsKICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn0pOwo="},{"name":"Ex绅士界面汉化","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["*://exhentai.org/*","*://ul.exhentai.org/*","*://g.e-hentai.org/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512571},"enabled":false,"position":24,"file_url":"https://sleazyfork.org/scripts/22850-ex%E7%BB%85%E5%A3%AB%E7%95%8C%E9%9D%A2%E6%B1%89%E5%8C%96/code/Ex%E7%BB%85%E5%A3%AB%E7%95%8C%E9%9D%A2%E6%B1%89%E5%8C%96.user.js","uuid":"5ae5f103-919c-4df3-b62b-af350bba14c6","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBFeOe7heWjq+eVjOmdouaxieWMlgovLyBAbmFtZXNwYWNlICAgIEV4aGVudGFpX+WPtua1t+aZqOaYnwovLyBAdmVyc2lvbiAgICAgIDIuMDglCi8vIEBkZXNjcmlwdGlvbiAgRXjnu4Xlo6vnlYzpnaLmsYnljJYs6ZmE5bimRee7heWjq+eVjOmdogovLyBAYXV0aG9yICAgICAgIOWPtua1t+aZqOaYnwovLyBAaW5jbHVkZSAgICAgICo6Ly9leGhlbnRhaS5vcmcvKgovLyBAaW5jbHVkZSAgICAgICo6Ly91bC5leGhlbnRhaS5vcmcvKgovLyBAaW5jbHVkZSAgICAgICo6Ly9nLmUtaGVudGFpLm9yZy8qCi8vIEBpY29uICAgICAgICAgaHR0cDovL2V4aGVudGFpLm9yZy9mYXZpY29uLmljbwovLyA9PS9Vc2VyU2NyaXB0PT0KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT095Y+Y6YeP5aOw5piOPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT095YWo5bGA5Ye95pWwPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpmdW5jdGlvbiBmYW55aShzdHJBcnJheSwgdGVtcCkgeyAvL+e/u+ivkQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJBcnJheS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChzdHJBcnJheVtpXVswXS5sZW5ndGggPiAyKSB7CiAgICAgICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoc3RyQXJyYXlbaV1bMF0sICJnIik7IC8v5YWo5bGA5q2j5YiZ5Yy56YWNCiAgICAgICAgICAgIHRlbXAgPSB0ZW1wLnJlcGxhY2UocmVnZXgsIHN0ckFycmF5W2ldWzFdKTsgLy/lhajlsYDmm7/mjaIKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gdGVtcDsKfQoKZnVuY3Rpb24gRGVzY0J5TGVuZ3RoKGEsIGIpIHsgLy/mjInlrZfnrKbplb/luqblgJLluo/mjpLliJcKICAgIGlmIChhWzBdLmxlbmd0aCA+IGJbMF0ubGVuZ3RoKSByZXR1cm4gLTE7ICAgICAKICAgIHJldHVybiAxOwp9CgovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT3nv7vor5HliLbkvZw9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CmZ1bmN0aW9uIG1ha2VfbmIoKSB7IC8v5Li75a+86IiqCiAgICB2YXIgYXJyYXlfRU5fQ0ggPSBuZXcgQXJyYXkoKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+RnJvbnQgUGFnZTwiLCAiPummluOAgOmhtTwiXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPlRvcnJlbnRzPCIsICI+56eN44CA5a2QPCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+TXkgR2FsbGVyaWVzPCIsICI+5oiR55qE55S75YaMPCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+TXkgSG9tZTwiLCAiPuaIkeeahOS4u+mhtTwiXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPkJvdW50aWVzPCIsICI+5oKs44CA6LWPPCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+U2V0dGluZ3M8IiwgIj7kuKrmgKforr7nva48Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5GYXZvcml0ZXM8IiwgIj7miJHnmoTmlLbol488Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5VcGxvYWQgR2FsbGVyeTwiLCAiPuS4iuS8oOeUu+WGjDwiXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPk1haW50YWluIEdhbGxlcmllczwiLCAiPueuoeeQhueUu+WGjDwiXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPlRvcGxpc3RzPCIsICI+5o6S6KGM5qacPCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+TmV3czwiLCAiPuaWsOOAgOmXuzwiXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPkZvcnVtczwiLCAiPuiuuuOAgOWdmzwiXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPldpa2k8IiwgIj7nmb7jgIDnp5E8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5Mb2dvdXQ8IiwgIj7pgIDjgIDlh7o8Il0pOwogICAgYXJyYXlfRU5fQ0guc29ydChEZXNjQnlMZW5ndGgpOyAvL+i/m+ihjOaOkuW6jwogICAgcmV0dXJuIGFycmF5X0VOX0NIOwp9CgpmdW5jdGlvbiBtYWtlX2RtaSgpIHsgLy/mmL7npLrmlrnlvI8KICAgIHZhciBhcnJheV9FTl9DSCA9IG5ldyBBcnJheSgpOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIkRpc3BsYXk6IiwgIuaYvuekuuaWueW8jzoiXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPkxpc3Q8IiwgIj7or6bnu4bliJfooag8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5UaHVtYm5haWxzPCIsICI+57yp55Wl5Zu+PCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+U2hvdyBMaXN0PCIsICI+6K+m57uG5YiX6KGoPCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+U2hvdyBUaHVtYm5haWxzPCIsICI+57yp55Wl5Zu+PCJdKTsKICAgIGFycmF5X0VOX0NILnNvcnQoRGVzY0J5TGVuZ3RoKTsgLy/ov5vooYzmjpLluo8KICAgIHJldHVybiBhcnJheV9FTl9DSDsKfQoKZnVuY3Rpb24gbWFrZV9nZDMoKSB7IC8v55S75YaM5YaF5L+h5oGvCiAgICB2YXIgYXJyYXlfRU5fQ0ggPSBuZXcgQXJyYXkoKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyJjbGFzcz1cImdkdCIsICJzdHlsZT1cIndoaXRlLXNwYWNlOm5vd3JhcDtcIiBjbGFzcz1cImdkdCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+VFI8IiwgIj7or5HliLY8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5SRVM8IiwgIj7ljovnvKk8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5Qb3N0ZWQ6PCIsICI+5LiK5Lyg5pe26Ze0OjwiXSk7CiAgICAvL2FycmF5X0VOX0NILnB1c2goWyI+SW1hZ2VzOjwiLCAiPueUu+WGjOS/oeaBrzo8Il0pOwogICAgLy9hcnJheV9FTl9DSC5wdXNoKFsiPlJlc2l6ZWQ6PCIsICI+57yp5pS+5aSn5bCPOjwiXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPlBhcmVudDo8IiwgIj7nlLvlhozkvZzogIU6PCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+VmlzaWJsZTo8IiwgIj7mmK/lkKblj6/op4E6PCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+RmlsZSBTaXplOjwiLCAiPuaWh+S7tuWkp+Wwjzo8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5MZW5ndGg6PCIsICI+55S75YaM6aG15pWwOjwiXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPkxhbmd1YWdlOjwiLCAiPuivreiogOexu+Weizo8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5SYXRpbmc6PCIsICI+6K+E5YiGOjwiXSk7CiAgICAvL2FycmF5X0VOX0NILnB1c2goWyI+QXZlcmFnZToiLCAiPuW5s+Wdh+ivhOWIhjo8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5GYXZvcml0ZWQ6PCIsICI+5pS26JeP5qyh5pWwOjwiXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPk5ldmVyPCIsICI+5peg5Lq65pS26JePPCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+T25jZTwiLCAiPjEg5qyhPCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+IEFkZCB0byBGYXZvcml0ZXM8IiwgIj4g5re75Yqg5Yiw5oiR55qE5pS26JePPCJdKTsKICAgIC8vYXJyYXlfRU5fQ0gucHVzaChbIj5Gb3IgYnJvd3Npbmc8IiwgIj7mtY/op4jkvJjljJY8Il0pOwogICAgLy9hcnJheV9FTl9DSC5wdXNoKFsiPk9yaWdpbmFscyBvbmx5PCIsICI+5Y6f55S75bC65a+4PCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+SmFwYW5lc2UiLCAiPuaXpeivrSJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+RW5nbGlzaCIsICI+6Iux6K+tIl0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5DaGluZXNlIiwgIj7msYnor60iXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPkR1dGNoIiwgIj7ojbflhbDor60iXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPkZyZW5jaCIsICI+5rOV6K+tIl0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5HZXJtYW4iLCAiPuW+t+ivrSJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+SHVuZ2FyaWFuIiwgIj7ljIjniZnliKnor60iXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPkl0YWxpYW4iLCAiPuaEj+Wkp+WIqeivrSJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+S29yZWFuIiwgIj7pn6nor60iXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPlBvbGlzaCIsICI+5rOi5YWw6K+tIl0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5Qb3J0dWd1ZXNlIiwgIj7okaHokITniZnor60iXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPlJ1c3NpYW4iLCAiPuS/hOe9l+aWr+ivrSJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+U3BhbmlzaCIsICI+6KW/54+t54mZ6K+tIl0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5UaGFpIiwgIj7ms7Dor60iXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPlZpZXRuYW1lc2UiLCAiPui2iuWNl+ivrSJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+TlwvQSIsICI+5pyq55+lIl0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5PdGhlciIsICI+5YW25LuWIl0pOwogICAgLy9hcnJheV9FTl9DSC5wdXNoKFsiXFwoVFxcKTwiLCAiKOivkSk8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbInBhZ2VzPCIsICLpobU8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbInRpbWVzPCIsICLmrKE8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5Ob25lPCIsICI+5pegPCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+WWVzPCIsICI+5pivPCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+Tm88IiwgIj7lkKY8Il0pOwogICAgYXJyYXlfRU5fQ0guc29ydChEZXNjQnlMZW5ndGgpOyAvL+i/m+ihjOaOkuW6jwogICAgcmV0dXJuIGFycmF5X0VOX0NIOwp9CgpmdW5jdGlvbiBtYWtlX2dkNSgpIHsgLy/nlLvlhozlhoXorr7nva4KICAgIHZhciBhcnJheV9FTl9DSCA9IG5ldyBBcnJheSgpOwogICAgLy9hcnJheV9FTl9DSC5wdXNoKFsiPiBUaHVtYm5haWwgU2VsZWN0aW9uPCIsICI+57yp55Wl5Zu+6YCJ6aG5OjwiXSk7CiAgICAvL2FycmF5X0VOX0NILnB1c2goWyI+U2l6ZTo8IiwgIj7pooTop4g6PCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+Tm9ybWFsPCIsICI+5q2j5bi4PCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+TGFyZ2U8IiwgIj7lpKflm748Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbInJvd3M8IiwgIuihjDwiXSk7CiAgICAvL2FycmF5X0VOX0NILnB1c2goWyI+Um93czo8IiwgIj7ooYzmlbA6PCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+R2V0IEV4dGVybmFsIEdhbGxlcnk8IiwgIj7ojrflj5bliIbkuqvku6PnoIE8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5BcmNoaXZlIERvd25sb2FkPCIsICI+5LiL6L2955S75YaMPCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+VG9ycmVudCBEb3dubG9hZCIsICI+5LiL6L2956eN5a2QIl0pOwogICAgLy9hcnJheV9FTl9DSC5wdXNoKFsiPkhlbnRhaUBIb21lIERvd25sb2FkPCIsICI+55SoSEBI5LiL6L29PCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+SEBIIERvd25sb2FkZXI8IiwgIj7nlKhIQEjkuIvovb08Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5TaG93IEdhbGxlcnkgU3RhdHM8IiwgIj7mmL7npLrnlLvlhozmmJ/nuqc8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5QZXRpdGlvbiB0byBFeHB1bmdlPCIsICI+55Sz6K+35Yig6ZmkPCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+UGV0aXRpb24gdG8gUmVuYW1lPCIsICI+55Sz6K+35pS55ZCNPCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+UmVwb3J0IEdhbGxlcnk8IiwgIj7kuL7miqXnlLvlhow8Il0pOwogICAgYXJyYXlfRU5fQ0guc29ydChEZXNjQnlMZW5ndGgpOyAvL+i/m+ihjOaOkuW6jwogICAgcmV0dXJuIGFycmF5X0VOX0NIOwp9CgpmdW5jdGlvbiBtYWtlX3RhZ2xpc3QoKSB7IC8v55S75YaM5YaF5qCH562+5YiG57G7CiAgICB2YXIgYXJyYXlfRU5fQ0ggPSBuZXcgQXJyYXkoKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyJ0ZXh0LWFsaWduOnJpZ2h0OyBmb250LWZhbWlseTp2ZXJkYW5hOyBmb250LXNpemU6OHB0OyBwYWRkaW5nLXRvcDoycHg7IHZlcnRpY2FsLWFsaWduOnRvcCIsICJ3aGl0ZS1zcGFjZTpub3dyYXA7IHRleHQtYWxpZ246cmlnaHQ7IGZvbnQtZmFtaWx5OnZlcmRhbmE7IGZvbnQtc2l6ZTo4cHQ7IHBhZGRpbmctdG9wOjJweDsgdmVydGljYWwtYWxpZ246dG9wIl0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5sYW5ndWFnZTo8IiwgIj7or63jgIDoqIA6PCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+cGFyb2R5OjwiLCAiPuWHuuOAgOWkhDo8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5jaGFyYWN0ZXI6PCIsICI+6KeS44CA6ImyOjwiXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPmdyb3VwOjwiLCAiPuWIhuOAgOe7hDo8Il0pOwogICAgYXJyYXlfRU5fQ0gucHVzaChbIj5hcnRpc3Q6PCIsICI+55S744CA5biIOjwiXSk7CiAgICBhcnJheV9FTl9DSC5wdXNoKFsiPmZlbWFsZTo8IiwgIj7lpbPop5LoibI6PCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+bWFsZTo8IiwgIj7nlLfop5LoibI6PCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+bWlzYzo8IiwgIj7mnYLjgIDpobk6PCJdKTsKICAgIGFycmF5X0VOX0NILnB1c2goWyI+cmVjbGFzczo8IiwgIj7ph43lvZLnsbs6PCJdKTsKICAgIGFycmF5X0VOX0NILnNvcnQoRGVzY0J5TGVuZ3RoKTsgLy/ov5vooYzmjpLluo8KICAgIHJldHVybiBhcnJheV9FTl9DSDsKfQovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT3nv7vor5Hlh73mlbA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CmZ1bmN0aW9uIGdldEFycmF5QnlLZXkoa2V5KSB7IC8v5aGr5YWF5pWw57uECiAgICB2YXIgYXJyYXlfRU5fQ0ggPSBuZXcgQXJyYXkoKTsKICAgIHN3aXRjaCAoa2V5LnRvTG93ZXJDYXNlKCkpIHsKICAgICAgICBjYXNlICJuYiI6CiAgICAgICAgICAgIHJldHVybiBtYWtlX25iKCk7CiAgICAgICAgY2FzZSAiZG1pIjoKICAgICAgICAgICAgcmV0dXJuIG1ha2VfZG1pKCk7CiAgICAgICAgY2FzZSAiZ2QzIjoKICAgICAgICAgICAgcmV0dXJuIG1ha2VfZ2QzKCk7CiAgICAgICAgY2FzZSAiZ2Q1IjoKICAgICAgICBjYXNlICJnZG8iOgogICAgICAgICAgICByZXR1cm4gbWFrZV9nZDUoKTsKICAgICAgICBjYXNlICJ0YWdsaXN0IjoKICAgICAgICAgICAgcmV0dXJuIG1ha2VfdGFnbGlzdCgpOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybjsKICAgIH0KfQoKZnVuY3Rpb24gQ2hhbmdlRG9jKGtleSwgY29kZSkgeyAvL+e/u+ivkeaTjeS9nAogICAgdmFyIGFycmF5X0VOX0NIID0gbmV3IEFycmF5KCk7CiAgICB2YXIgbWFzayA9IGFyZ3VtZW50c1syXSA/IGFyZ3VtZW50c1syXSA6IG51bGw7CiAgICBzd2l0Y2ggKGNvZGUudG9Mb3dlckNhc2UoKSkgewogICAgICAgIGNhc2UgInRhYiI6CiAgICAgICAgICAgIGNvZGUgPSBrZXk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgImlkIjoKICAgICAgICAgICAgY29kZSA9ICIjIiArIGtleTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiY2xhc3MiOgogICAgICAgICAgICBjb2RlID0gIi4iICsga2V5OwogICAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBjb2RlID0gIioiOwogICAgICAgICAgICBicmVhazsKICAgIH0KICAgIGlmIChtYXNrKQogICAgICAgIGlmICghZG9jdW1lbnQubG9jYXRpb24uaHJlZi5tYXRjaChtYXNrKSkgcmV0dXJuOwogICAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvZGUpKSByZXR1cm47CiAgICBhcnJheV9FTl9DSCA9IGdldEFycmF5QnlLZXkoa2V5KTsKICAgIGlmICghYXJyYXlfRU5fQ0gpIHJldHVybjsKICAgIHZhciBpdGVtZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb2RlKS5pbm5lckhUTUw7CiAgICBpdGVtZGl2ID0gZmFueWkoYXJyYXlfRU5fQ0gsIGl0ZW1kaXYpOwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb2RlKS5pbm5lckhUTUwgPSBpdGVtZGl2Owp9CgoKLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT095Ye95pWw6LCD55SoPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpmdW5jdGlvbiBtYWluKCkgewogICAgQ2hhbmdlRG9jKCJuYiIsICJpZCIpOwogICAgQ2hhbmdlRG9jKCJkbWkiLCAiaWQiKTsKICAgIENoYW5nZURvYygiZ2QzIiwgImlkIiwgIlwvZ1wvIik7CiAgICBDaGFuZ2VEb2MoImdkNSIsICJpZCIsICJcL2dcLyIpOwogICAgQ2hhbmdlRG9jKCJnZG8iLCAiaWQiLCAiXC9nXC8iKTsKICAgIENoYW5nZURvYygidGFnbGlzdCIsICJpZCIsICJcL2dcLyIpOwp9Cm1haW4oKTs="},{"name":"ByPass Caoliu Href(跳过草榴链接广告)","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":true,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["http://*.t66y.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512579},"enabled":false,"position":25,"file_url":"https://sleazyfork.org/scripts/23637-bypass-caoliu-href-%E8%B7%B3%E8%BF%87%E8%8D%89%E6%A6%B4%E9%93%BE%E6%8E%A5%E5%B9%BF%E5%91%8A/code/ByPass%20Caoliu%20Href(%E8%B7%B3%E8%BF%87%E8%8D%89%E6%A6%B4%E9%93%BE%E6%8E%A5%E5%B9%BF%E5%91%8A).user.js","uuid":"192e305a-5581-4010-adb7-a1ccc5cd2dfd","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBCeVBhc3MgQ2FvbGl1IEhyZWYo6Lez6L+H6I2J5qa06ZO+5o6l5bm/5ZGKKQovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly90YW1wZXJtb25rZXkubmV0LwovLyBAdmVyc2lvbiAgICAgIDAuMQovLyBAZGVzY3JpcHRpb24gIENhb2xpdSBvZmZlbiBwdXQgYSB0aGlyZCB3ZWJzaXRlIGluIGl0cyBsaW5rIGhyZWYsIHRoaXMgc2NyaXB0IHNraXAgdGhhdCBzdGVwIGRpcmVjdGx5Ci8vIEBhdXRob3IgICAgICAgQWxleAovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2JhYmVsLWNvcmUvNS42LjE1L2Jyb3dzZXItcG9seWZpbGwubWluLmpzCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvYmFiZWwtY29yZS81LjYuMTUvYnJvd3Nlci5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktMy4xLjEubWluLmpzCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2xvZGFzaC80LjE2LjIvbG9kYXNoLmNvcmUubWluLmpzCi8vIEBtYXRjaCAgICAgICAgaHR0cDovLyoudDY2eS5jb20vKgovLyA9PS9Vc2VyU2NyaXB0PT0KCi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi8KdmFyIGlubGluZV9zcmMgPSAoPD48IVtDREFUQVsKLyoganNoaW50IGlnbm9yZTplbmQgKi8KLyoganNoaW50IGVzbmV4dDogdHJ1ZSAqLwogICAgdmFyIGNvbnZlcnRVUkwgPSBmdW5jdGlvbihvbGRVUkwpewogICAgICAgICB2YXIgYXJyID0gb2xkVVJMLnNwbGl0KCIvPyIpOwogICAgICAgIGlmKGFyci5sZW5ndGggPCAyKSB7IHJldHVybiBvbGRVUkw7IH0KICAgICAgICByZXR1cm4gYXJyWzFdLnJlcGxhY2UoL19fX19fXy9nLCIuIik7CiAgICB9OwogICAgICAgICAgICAgICAgICAgICAgIAogICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXsKICAgICAgICB2YXIgbGlua3MgPSAkKCJhW2hyZWZePSdodHRwOi8vd3d3LnZpaWRpaS5pbmZvJ10iKTsKICAgICAgICBfLmVhY2gobGlua3MsIGZ1bmN0aW9uKHZhbCl7CiAgICAgICAgICAgIHZhciBocmVmID0gJCh2YWwpLmF0dHIoImhyZWYiKTsKICAgICAgICAgICAgJCh2YWwpLmF0dHIoImhyZWYiLGNvbnZlcnRVUkwoaHJlZikgKTsKICAgICAgICB9KTsKICAgIH0pOwoKCi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi8KXV0+PC8+KS50b1N0cmluZygpOwp2YXIgYyA9IGJhYmVsLnRyYW5zZm9ybShpbmxpbmVfc3JjKTsKZXZhbChjLmNvZGUpOwovKiBqc2hpbnQgaWdub3JlOmVuZCAqLw=="},{"name":"Yet Another Weibo Filter","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":true,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http://weibo.com/a/bind/*","http://weibo.com/nguide/*","http://weibo.com/"],"orig_includes":["http://www.weibo.com/*","http://weibo.com/*","http://d.weibo.com/*","http://s.weibo.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512585},"enabled":false,"position":26,"file_url":"https://greasyfork.org/scripts/3249-yet-another-weibo-filter/code/Yet%20Another%20Weibo%20Filter.user.js","uuid":"7178228b-561c-4a75-982c-3b7f03e0f763","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgIFlldCBBbm90aGVyIFdlaWJvIEZpbHRlcgovLyBAbmFtZTp6aC1DTiAgICAgICAgWWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyIOeci+ecn+ato+aDs+eci+eahOW+ruWNmgovLyBAbmFtZTp6aC1ISyAgICAgICAgWWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyIOeci+ecn+ato+aDs+eci+eahOW+ruWNmgovLyBAbmFtZTp6aC1UVyAgICAgICAgWWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyIOeci+ecn+ato+aDs+eci+eahOW+ruWNmgovLyBAbmFtZTplbiAgICAgICAgICAgWWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyCi8vIEBuYW1lc3BhY2UgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vdGlhbnNoCi8vIEBkZXNjcmlwdGlvbiAgICAgICDmlrDmtarlvq7ljZrmoLnmja7lhbPplK7or43jgIHkvZzogIXjgIHor53popjjgIHmnaXmupDnrYnov4fmu6Tlvq7ljZrvvJvkv67mlLnniYjpnaLjgIIg5paw5rWq5b6u5Y2a5qC55pOa6Zec6Y215a2X44CB5L2c6ICF44CB6Kmx6aGM44CB5L6G5rqQ562J56+p6YG45b6u5Y2a77yb5L+u5pS554mI6Z2i44CCIGZpbHRlciBTaW5hIFdlaWJvIGJ5IGtleXdvcmRzLCBhdXRob3JzLCB0b3BpY3MsIHNvdXJjZXMsIGV0Yy47IG1vZGlmeSBsYXlvdXQKLy8gQGRlc2NyaXB0aW9uOnpoLUNOIOaWsOa1quW+ruWNmuagueaNruWFs+mUruivjeOAgeS9nOiAheOAgeivnemimOOAgeadpea6kOetiei/h+a7pOW+ruWNmu+8m+S/ruaUueeJiOmdouOAggovLyBAZGVzY3JpcHRpb246emgtSEsg5paw5rWq5b6u5Y2a5qC55pOa6Zec6Y215a2X44CB5L2c6ICF44CB6Kmx6aGM44CB5L6G5rqQ562J56+p6YG45b6u5Y2a77yb5L+u5pS554mI6Z2i44CCCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyDmlrDmtarlvq7ljZrmoLnmk5rpl5zpjbXlrZfjgIHkvZzogIXjgIHoqbHpoYzjgIHkvobmupDnrYnnr6npgbjlvq7ljZrvvJvkv67mlLnniYjpnaLjgIIKLy8gQGRlc2NyaXB0aW9uOmVuICAgIGZpbHRlciBTaW5hIFdlaWJvIGJ5IGtleXdvcmRzLCBhdXRob3JzLCB0b3BpY3MsIHNvdXJjZXMsIGV0Yy47IG1vZGlmeSBsYXlvdXQKLy8gQGluY2x1ZGUgICAgICAgICAgIGh0dHA6Ly93d3cud2VpYm8uY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICAgIGh0dHA6Ly93ZWliby5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgICAgaHR0cDovL2Qud2VpYm8uY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICAgIGh0dHA6Ly9zLndlaWJvLmNvbS8qCi8vIEBleGNsdWRlICAgICAgICAgICBodHRwOi8vd2VpYm8uY29tL2EvYmluZC8qCi8vIEBleGNsdWRlICAgICAgICAgICBodHRwOi8vd2VpYm8uY29tL25ndWlkZS8qCi8vIEBleGNsdWRlICAgICAgICAgICBodHRwOi8vd2VpYm8uY29tLwovLyBAdmVyc2lvbiAgICAgICAgICAgMy43LjQzNgovLyBAaWNvbiAgICAgICAgICAgICAgZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFZ0FBQUJJQ0FNQUFBQmlNME4xQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUFGelVrZENBSzdPSE9rQUFBQmRVRXhVUlV4cGNlbU5TZW1OU2VtTlNlbU5TZW1OU2VtTlNlbU5TZW1OU2VtTlNka3RPdW1OU2VtTlNlbU5TZW1OU2VtTlNlbU5TZGt0T3RrdE90a3RPdGt0T3RrdE90a3RPdGt0T3RrdE90a3RPdGt0T3RrdE90a3RPdW1OU2RrdE9zWm9BaFVBQUFBZGRGSk9Vd0Fna0lBUTRNQkFZUEJBMEtBd2NMQlEwQkJnSUhEZ2dEQ3c4SkRBVDJjNnBRQUFBaUZKUkVGVVdNUE5sOWx5d3lBTVJjTU9NUWE3U2RNVi8vOW5OazRucVJjSmhPdk9WSTkrT0piRTVVb2NEbjhWckJOUnAzc283WVdSR3pCV0pTQWEzbFp5Zk1MQ1ZiRjR5a1ZqeWUxSmhWQjJqNFMrVVIwRnBCTWhOQ3VERWlsY0tJSWNqWlNpM0tPMFc2Y0tVZ2hVVUhMNW5rdEhKcVc4RUd6NmZ5VG1yN2RXODJER0s4K01FYjdaU0FMWU5pSWtVMjB1TW9EdTR0cTlqS3JaWW5sU0FDUy96WVNCdm5mYi9IenRNMDV1STYxMUZqZk9tTmI5WGdNSXFTazAxcGhnRFRUUjJncUJtL2o0cmZKZHFVK0sybEhIV2Y3c3NKVE0rb3pGdk1TRzFpVlY5RmJtS0FmWEVqeERVQzZLUVR5RFo3S1dOYUFaeVJMYWJVaU9xQWozQkI4bExab1NXSnZBNTZMRVV1b3F0eTJCcVpMRFNoSm9kUXpacGRDYmE4eXRINTNIclhVdTc3SzlScXlydk5hVjVwdEZRR1J5L1g3OENRS3BRZGF5NnpFTTAramZYbDVYcEFqWE5tdVNYb0RHdUh5Y005dE9CL01oMERWZWNDY1RpSEJoME5BL1lmdTNSazRCQVMxSUNnSVpFbWpva1MzVjFZS0daK1FlVjRNdVR6dUJwaW41WDRGNnNFZE5QV2g0MUNiQjQrL0lvQ1AwYjE0blNCd1VZQjlSMWFBV2ZnSnBFb2lCcTRkYldDY0JOUG01UUVhN0lKM2F6OVl3V2F6RDBtcFJ6dnQ2NFpzdTZIRTVYbERRMi93UkViVzM2RUFlVzBlNUlzV1hkTXlCemhXZ2tBSDFOVTl5ZHFENVVXbER1S2xyWTJVenVkc01xQytPWUw1d0JBVDBlU3FsOUNoT3l4eG9UT3BVcW00VXBiNnJhOGpFNWJYaXVUTms0N1FYaUU3NkFuYWNJbEpmMVc1WkFBQUFBRWxGVGtTdVFtQ0MKLy8gQGhvbWVwYWdlVVJMICAgICAgIGh0dHBzOi8vdGlhbnNoLmdpdGh1Yi5pby95YXdmLwovLyBAc3VwcG9ydFVSTCAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL3RpYW5zaC95YXdmL2lzc3VlcwovLyBAYXV0aG9yICAgICAgICAgICAg55Sw55SfIGh0dHA6Ly93ZWliby5jb20vdHNoOTAKLy8gQGNvcHlyaWdodCAgICAgICAgIOeUsOeUnzsgVGhlIE1JVCBMaWNlbnNlCi8vIEBsaWNlbnNlICAgICAgICAgICBUaGUgTUlUIExpY2Vuc2UgKE1JVCk7IGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQKLy8gQGNvbXBhdGlibGUgICAgICAgIGZpcmVmb3gg5o6o6I2QCi8vIEBjb21wYXRpYmxlICAgICAgICBvcGVyYSAgIOaUr+aMgQovLyBAY29tcGF0aWJsZSAgICAgICAgY2hyb21lICDmlK/mjIEKLy8gQGNvbXBhdGlibGUgICAgICAgIHNhZmFyaSAg5Z+65pys5pSv5oyBCi8vIEBncmFudCAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgICBHTV9kZWxldGVWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgICAgR01fYWRkU3R5bGUKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX2luZm8KLy8gQGdyYW50ICAgICAgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBjb25uZWN0ICAgICAgICAgICB3ZWliby5jb20KLy8gQGNvbm5lY3QgICAgICAgICAgIHd3dy53ZWliby5jb20KLy8gQGNvbm5lY3QgICAgICAgICAgIHMud2VpYm8uY29tCi8vIEBjb25uZWN0ICAgICAgICAgICB2aWRlby53ZWliby5jb20KLy8gQGNvbm5lY3QgICAgICAgICAgIHQuY24KLy8gQGNvbm5lY3QgICAgICAgICAgIHd3dy5taWFvcGFpLmNvbQovLyBAY29ubmVjdCAgICAgICAgICAgZW50LnYuc2luYS5jbgovLyBAcnVuLWF0ICAgICAgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gPT0vVXNlclNjcmlwdD09CgovLyDlrZfkvZMKdmFyIGZvbnRzID0gewogICdpY29uZm9udCc6ICdAZm9udC1mYWNlIHsgZm9udC1mYW1pbHk6ICJ5YXdmLWljb25mb250IjsgZm9udC1zdHlsZTogbm9ybWFsOyBmb250LXdlaWdodDogbm9ybWFsOyBzcmM6IHVybCgiZGF0YTppbWFnZS93b2ZmO2Jhc2U2NCxkMDlHUms5VVZFOEFBQVBJQUFvQUFBQUFCYlFBQVFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQkRSa1lnQUFBQTlBQUFBTlVBQUFEb3Q4RVFGa1pHVkUwQUFBSE1BQUFBR2dBQUFCeHRBdzBtVDFNdk1nQUFBZWdBQUFCSkFBQUFZRm1kWWxkamJXRndBQUFDTkFBQUFEZ0FBQUZDQUEwREFHaGxZV1FBQUFKc0FBQUFNQUFBQURZRDVhMW9hR2hsWVFBQUFwd0FBQUFkQUFBQUpBYUFBNEJvYlhSNEFBQUN2QUFBQUFnQUFBQUlDQUFBZDIxaGVIQUFBQUxFQUFBQUJnQUFBQVlBQWxBQWJtRnRaUUFBQXN3QUFBRGtBQUFCMUhoNU9QUndiM04wQUFBRHNBQUFBQllBQUFBZy80WUFNM2ljVlkyeGFnSkJGQURmTys5TzFHTk5KQmNMRndXeFBMVVhBdW12RGVrUFFVbWpUWWpZQ05iUDBzTE8rQWsyTnNMV2ZrTitaTi9lYmlUYUJHNnFxV1lRZkI4UVVTeXp4YVQvTVo3UEp2UFpKNkFIQ0MvYzhsaVd1T2x2SW14WG9mTDFQaVQ2bDZpc2E3YVp0MDBTU0ZqVkpjQ0RoUFdqQkNIaHB3SGVQU0dnVlFnWEx6ZEc0Q0YyMzBoeHFsQXBjMUVsOVp3UCtIZ2RoTXF0WWs3TnhhVmxrVmRNRW4rVDNia2V1WTdkRTNISDdyZ1g4UEQzTlQ3b2M2Z3pmWEpUMHBrOWtUMEhJdDgrVWJ6WW00UkNpcXAvaFpKV1hnQUFBSGljWTJCZ1lHUUFnak8yaTg2RDZBdEpXN1ZoTkFCS1ZRYWdBQUI0bkdOZ1ptRmcvTUxBeXNEQk5KUHBEQU1EUXorRVpuek5ZTXpJeWNEQXhNQUdKS0dBa1FFSkJLUzVwakE0TUVReVJETHIvTmRoaUdHYXdkQ01VQVBrS1FBaEl3QllUd3VtQUFBQWVKeGpZR0JnWm9CZ0dRWkdCaEN3QWZJWXdYd1dCZ1VnelFLRUlIN2svLzhROHY4S3FFb0dSallHR0pQNmdHWUdVeGNBQUpnckJ3eDRuR05nWkdCZ0FPSytGLy85NHZsdHZqSndzekNBd0lXa3JkcHd1dngvTFhNWDB3d2dsNE9CQ1NRS0FGTUNDN3g0bkdOZ1pHQmdtdkcvbGlHR2hRRUVtTHNZR0JsUUFSTUFVNk1EQ0FBQUFBUUFBQUFFQUFCM0FBQlFBQUFDQUFCNG5KV1B3V29DTVJDR3YrZ3FpaFY2S0I3RVE4NUNsbVR4SkwxMm4wQzhpK3pLWGphd0N1S0xlT243OUVINkJIMkVUblNnbEZKb0EwbSttZitmekFSNDRJb2hMY09VaFhLUEVjL0tmWmE4S21maWVWY2VNREVqNVNGVDQ4VnBzckZrNXJlcXhEMGVwZnJPZlRhOEtHZmllVk1lTU9ORGVjamNQSEZoeDVrYVI4T2VTQ3VjemhOY2R1ZmFOZnZZMXJHVjhJZitKWldhU25mSGdRcExRWTZYZXkzNzl5WjNQYkFTTFlqZlNaMi94WlR5ZEJtN1EyV0wzTnUxL1RhT3hHSGxnbmVGRCtMOSt5KzJNbHpIVVh4SlQ2M1RtR3lyN3RqRTFvYmMvK08xVDVSd1RPSjRuR05nWmdDRC84ME1Sa0NLa1FFTkFBQW9WUUc1QUFBPSIpIGZvcm1hdCgid29mZiIpOyB9JywKfTsKCi8vIOaWh+acrOW4uOmHjwovLyDor7fku6XnroDkvZPkuK3mlofkuLrljp/mlofvvIzlj4LogIPov5nkupvotYTmlpnnv7vor5EKLy8gaHR0cDovL3poLndpa2lwZWRpYS5vcmcvd2lraS9UZW1wbGF0ZTpDR3JvdXAvSVQKLy8gaHR0cDovL3d3dy5taWNyb3NvZnQuY29tL0xhbmd1YWdlL3poLWNuL1NlYXJjaC5hc3B4Ci8vIOe/u+ivkeaXtuS8mOWFiOiAg+iZkeW+ruWNmue9kemhteS4reeahOe/u+ivke+8jOe9kemhteS4reacque/u+ivkeaIluihqOaEj+S4jeaYjuaXtueUqOaLrOWPt+WKoOazqOOAguWmguaenOivpeWGheWuueS4jeWvueW6lOW+ruWNmue9kemhteS4reeahOWFg+e0oO+8jOWPr+S7peiHqueUseWPkeaMpQovLyDnrKblj7figJx84oCd5YiG5Ymy5aSa5Liq6L6T5YWl5qGG55qE5ZON5bqU5Yy65Z+f77yM4oCcfHzigJ3kvJrlkIzml7bmjaLooYzvvIzigJx7ezxuYW1lPn194oCd5Y+v5Lul5bWM5YWl5LiA5Liq6L6T5YWl5qGG77yb57+76K+R5bqU5L+d6K+B6L6T5YWl5qGG5LiA5LiA5a+55bqUCnZhciB0ZXh0ID0gewogIC8vIOWfuuacrOaMiemSrgogICdva0J1dHRvblRpdGxlJzogeyAnemgtY24nOiAn56Gu5a6aJywgJ3poLWhrJzogJ+eiuuWumicsICd6aC10dyc6ICfnorrlrponLCAnZW4nOiAnQ29uZmlybScgfSwKICAnY2FuY2VsQnV0dG9uVGl0bGUnOiB7ICd6aC1jbic6ICflj5bmtognLCAnemgtaGsnOiAn5Y+W5raIJywgJ3poLXR3JzogJ+WPlua2iCcsICdlbic6ICdDYW5jZWwnIH0sCiAgJ2Nsb3NlQnV0dG9uVGl0bGUnOiB7ICd6aC1jbic6ICflhbPpl60nLCAnemgtaGsnOiAn6Zec6ZaJJywgJ3poLXR3JzogJ+mXnOmWiScsICdlbic6ICdDbG9zZScgfSwKICAnY29uZmlnU3RyaW5nc0FkZCc6IHsgJ3poLWNuJzogJ+a3u+WKoCcsICd6aC1oayc6ICfmlrDlop4nLCAnemgtdHcnOiAn5paw5aKeJywgJ2VuJzogJ0FkZCcgfSwKICAnY29uZmlnVXNlcnNBZGQnOiB7ICd6aC1jbic6ICfmt7vliqAnLCAnemgtaGsnOiAn5paw5aKeJywgJ3poLXR3JzogJ+aWsOWinicsICdlbic6ICdBZGQnIH0sCiAgJ2Rpc2FibGVkS2V5JzogeyAnemgtY24nOiAnKOW3suemgeeUqCknLCAnemgtaGsnOiAnKOW3suWBnOeUqCknLCAnemgtdHcnOiAnKOW3suWBnOeUqCknLCAnZW4nOiAnKERpc2FibGVkKScgfSwKICAnaW5kZW50JzogeyAnemgtY24nOiAn44CA44CAJywgJ3poLWhrJzogJ+OAgOOAgCcsICd6aC10dyc6ICfjgIDjgIAnLCAnZW4nOiAn44CA44CAJyB9LAogIC8vIOaXtumXtOaXpeacnwogICd0aW1lVG9kYXknOiB7ICd6aC1jbic6ICfku4rlpKknLCAnemgtaGsnOiAn5LuK5aSpJywgJ3poLXR3JzogJ+S7iuWkqScsICdlbic6ICdUb2RheScgLyogYXMgaXMgKi8gfSwKICAndGltZVNlY29uZEJlZm9yZSc6IHsgJ3poLWNuJzogJ+enkuWJjScsICd6aC1oayc6ICfnp5LliY0nLCAnemgtdHcnOiAn56eS5YmNJywgJ2VuJzogJyBzZWNzIGFnbycgLyogYXMgaXMgKi8gfSwKICAndGltZU1pbnV0ZUJlZm9yZSc6IHsgJ3poLWNuJzogJ+WIhumSn+WJjScsICd6aC1oayc6ICfliIbpkJjliY0nLCAnemgtdHcnOiAn5YiG6ZCY5YmNJywgJ2VuJzogJyBtaW5zIGFnbycgLyogYXMgaXMgKi8gfSwKICAndGltZU1vbnRoRGF5JzogeyAnemgtY24nOiAnJXPmnIglc+aXpSAlczolcycsICd6aC1oayc6ICclc+aciCVz5pelICVzOiVzJywgJ3poLXR3JzogJyVz5pyIJXPml6UgJXM6JXMnLCAnZW4nOiAnJXMtJXMgJXM6JXMnIC8qIGFzIGlzICovIH0sCiAgJ3RpbWVSZWFkSGVyZSc6IHsgJ3poLWNuJzogJ+S9oOeci+WIsOi/memHjCcsICd6aC1oayc6ICfkvaDnnIvliLDpgJnoo6EnLCAnemgtdHcnOiAn5L2g55yL5Yiw6YCZ6KOhJywgJ2VuJzogJyB5b3Ugc2VlIGhlcmUnIC8qIGFzIGlzICovIH0sCiAgLy8g6K6+572u5qGGCiAgJ2ZpbHRlcic6IHsgJ3poLWNuJzogJ+i/h+a7pOWZqCcsICd6aC1oayc6ICfnr6npgbjlmagnLCAnemgtdHcnOiAn56+p6YG45ZmoJywgJ2VuJzogJ0ZpbHRlcicgfSwKICAnZmlsdGVyTWVudUl0ZW0nOiB7ICd6aC1jbic6ICfov4fmu6Tlmajorr7nva4nLCAnemgtaGsnOiAn56+p6YG45Zmo6Kit5a6aJywgJ3poLXR3JzogJ+evqemBuOWZqOioreWumicsICdlbic6ICdGaWx0ZXIgU2V0dGluZ3MnIH0sCiAgJ2NvbmZpZ0RpYWxvZ1RpdGxlJzogeyAnemgtY24nOiAn6L+H5ruk5Zmo6K6+572uIC0gWWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyJywgJ3poLWhrJzogJ+evqemBuOWZqOioreWumiAtIFlldCBBbm90aGVyIFdlaWJvIEZpbHRlcicsICd6aC10dyc6ICfnr6npgbjlmajoqK3lrpogLSBZZXQgQW5vdGhlciBXZWlibyBGaWx0ZXInLCAnZW4nOiAnRmlsdGVyIFNldHRpbmdzIC0gWWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyJyB9LAogICd3aGl0ZWxpc3RGaWx0ZXJEZXNjJzogeyAnemgtY24nOiAn5oC75piv5pi+56S6e3t7dHlwZWR9fX0nLCAnemgtaGsnOiAn57i95piv6aGv56S6e3t7dHlwZWR9fX0nLCAnemgtdHcnOiAn57i95piv6aGv56S6e3t7dHlwZWR9fX0nLCAnZW4nOiAnQWx3YXlzIHNob3cge3t7dHlwZWR9fX0nIH0sCiAgJ2JsYWNrbGlzdEZpbHRlckRlc2MnOiB7ICd6aC1jbic6ICfpmpDol497e3t0eXBlZH19fScsICd6aC1oayc6ICfpmrHol497e3t0eXBlZH19fScsICd6aC10dyc6ICfpmrHol497e3t0eXBlZH19fScsICdlbic6ICdIaWRlIHt7e3R5cGVkfX19JyB9LAogICdmb2xkbGlzdEZpbHRlckRlc2MnOiB7ICd6aC1jbic6ICfmipjlj6B7e3t0eXBlZH19fScsICd6aC1oayc6ICfmipjnlop7e3t0eXBlZH19fScsICd6aC10dyc6ICfmipjnlop7e3t0eXBlZH19fScsICdlbic6ICdGb2xkIHt7e3R5cGVkfX19JyB9LAogICd3aGl0ZWxpc3RBY3Rpb25EZXNjJzogeyAnemgtY24nOiAn5pi+56S6JywgJ3poLWhrJzogJ+mhr+ekuicsICd6aC10dyc6ICfpoa/npLonLCAnZW4nOiAnU2hvdycgfSwKICAnYmxhY2tsaXN0QWN0aW9uRGVzYyc6IHsgJ3poLWNuJzogJ+makOiXjycsICd6aC1oayc6ICfpmrHol48nLCAnemgtdHcnOiAn6Zqx6JePJywgJ2VuJzogJ0hpZGUnIH0sCiAgJ2ZvbGRsaXN0QWN0aW9uRGVzYyc6IHsgJ3poLWNuJzogJ+aKmOWPoCcsICd6aC1oayc6ICfmipjnloonLCAnemgtdHcnOiAn5oqY55aKJywgJ2VuJzogJ0ZvbGQnIH0sCiAgLy8g5Y+z6ZSu6I+c5Y2VCiAgJ2NvbnRleHRNZW51Q3JlYXRlTGFiZWwnOiB7ICd6aC1jbic6ICfliJvlu7rov4fmu6TlmagnLCAnemgtaGsnOiAn5Ym15bu656+p6YG45ZmoJywgJ3poLXR3JzogJ+WJteW7uuevqemBuOWZqCcsICdlbic6ICdDcmVhdGUgRmlsdGVyJyB9LAogIC8vIOW+ruWNmui/h+a7pAogICdiYXNlRmlsdGVyR3JvdXBUaXRsZSc6IHsgJ3poLWNuJzogJ+W+ruWNmui/h+a7pCcsICd6aC1oayc6ICflvq7ljZrnr6npgbgnLCAnemgtdHcnOiAn5b6u5Y2a56+p6YG4JywgJ2VuJzogJ1dlaWJvIEZpbHRlcicgfSwKICAvLyDlvq7ljZoKICAnbG9hZFdlaWJvVGl0bGUnOiB7ICd6aC1jbic6ICflvq7ljZonLCAnemgtaGsnOiAn5b6u5Y2aJywgJ3poLXR3JzogJ+W+ruWNmicsICdlbic6ICdXZWlibycgfSwKICAnbG9hZFdlaWJvQnlTZWFyY2gnOiB7ICd6aC1jbic6ICfkvb/nlKjmkJzntKLku6Pmm7/pppbpobXku6XmgaLlpI3mraPluLjpppbpobXpobrluo97ezxpPn19JywgJ3poLWhrJzogJ+S9v+eUqOaqoue0ouS7o+abv+mmlumggeS7peaBouW+qeato+W4uOmmlumggemghuW6j3t7PGk+fX0nLCAnemgtdHcnOiAn5L2/55So5qqi57Si5Luj5pu/6aaW6aCB5Lul5oGi5b6p5q2j5bi46aaW6aCB6aCG5bqPe3s8aT59fScsICdlbic6ICdVc2Ugc2VhcmNoIG9uIGhvbWUgcGFnZSBmb3IgYmV0dGVyIG9yZGVyIG9mIFdlaWJvJyB9LAogICdsb2FkV2VpYm9CeVNlYXJjaERlc2MnOiB7CiAgICAnemgtY24nOiAn5aaC5p6c5oKo55qE6aaW6aG15LiK5b6u5Y2a5o6S5bqP5re35Lmx77yM5Lul6Ie05peg5rOV5q2j5bi45L2/55So5b6u5Y2a77yM6K+35bCd6K+V5omT5byA5q2k5Yqf6IO944CCPHN0cm9uZz7miZPlvIDmraTlip/og73kvJrlr7zoh7Tmgqjlvq7ljZrkuK3orr7nva7nmoTlsY/olL3op4TliJnlpLHmlYjvvIzmgqjpnIDopoHlsIbkvJrlkZjkuK3orr7nva7nmoTlsY/olL3op4TliJnlnKjohJrmnKzkuK3lho3pmpDol4/kuIDpgY3jgII8L3N0cm9uZz4nCiAgfSwKICAnbG9hZFdlaWJvQnlTZWFyY2hXYXJuVGl0bGUnOiB7CiAgICAnemgtY24nOiAn5L2/55So5pCc57Si5Luj5pu/6aaW6aG1JwogIH0sCiAgJ2xvYWRXZWlib0J5U2VhcmNoV2Fybic6IHsKICAgICd6aC1jbic6ICfmnKzlip/og73liKnnlKjmkJzntKLpobXkuI3mlK/mjIHigJzmmbrog73mjpLluo/igJ3nmoTnibnngrnvvIzlnKjmgqjorr/pl67pppbpobXml7boh6rliqjot7PovazliLDmkJzntKLnu5PmnpzpobXvvIzlm6DmraTmnKzlip/og73nmoTmraPluLjlt6XkvZzlrozlhajlj5fliLbkuo7lvq7ljZrmkJzntKLlip/og73jgII8YnIgLz7lpoLmnpzmgqjmiZPlvIDlkI7ml6Dms5XmraPluLjmtY/op4jlvq7ljZrvvIzor7fogIPomZHlhbPpl63mraTlip/og73jgII8YnIgLz7ngrnlh7vmn6XnnIs8YSBocmVmPSJodHRwczovL3RpYW5zaC5naXRodWIuaW8veWF3Zi9mcWEuaHRtbCMlRTUlODUlQjMlRTQlQkElOEUlRTQlQkQlQkYlRTclOTQlQTglRTYlOTAlOUMlRTclQjQlQTIlRTQlQkIlQTMlRTYlOUIlQkYlRTklQTYlOTYlRTklQTElQjUlRTUlOEElOUYlRTglODMlQkQiPuWFs+S6juacrOWKn+iDveeahOivpue7huivtOaYjjwvYT48YnIgLz7noa7lrp7opoHmiZPlvIDmnKzlip/og73lkJfvvJ8nCiAgfSwKICAvLyDohJrmnKwKICAnc2NyaXB0VG9vbHNUaXRsZSc6IHsgJ3poLWNuJzogJ+iEmuacrCcsICd6aC1oayc6ICfohbPmnKwnLCAnemgtdHcnOiAn6IWz5pysJywgJ2VuJzogJ1NjcmlwdCcgfSwKICAndXNlRmFzdENyZWF0b3InOiB7ICd6aC1jbic6ICfkvb/nlKjmi5bmlL7lv6vpgJ/liJvlu7rov4fmu6Tlmah7ezxpPn19JywgJ3poLWhrJzogJ+S9v+eUqOaLluaUvuW/q+mAn+WJteW7uuevqemBuOWZqHt7PGk+fX0nLCAnemgtdHcnOiAn5L2/55So5ouW5pS+5b+r6YCf5Ym15bu656+p6YG45Zmoe3s8aT59fScsICdlbic6ICdVc2UgZHJhZyBhbmQgZHJvcCB0byBjcmVhdGUgZmlsdGVyc3t7PGk+fX0nIH0sCiAgJ3VzZUZhc3RDcmVhdG9yRGVzYyc6IHsKICAgICd6aC1jbic6ICfmgqjlj6/ku6Xkvb/nlKjpvKDmoIfmi5bmi73lvq7ljZrkuK3nmoTmloflrZfjgIHluJDlj7fjgIHor53popjjgIHmnaXmupDnrYnvvIznvZHpobXlj7PkuIrop5LkvJrmmL7npLrkuIDkuKrpu4ToibLnmoTljLrln5/vvIzmi5bmi73liLDlhbbkuIrph4rmlL7lj6/liJvlu7rov4fmu6TlmajjgIInLAogIH0sCiAgJ3VzZUNvbnRleHRNZW51Q3JlYXRvcic6IHsgJ3poLWNuJzogJ+S9v+eUqOWPs+mUruiPnOWNleW/q+mAn+WIm+W7uui/h+a7pOWZqHt7PGk+fX0nLCAnemgtaGsnOiAn5L2/55So5Y+z6Y215Yqf6IO96KGo5b+r6YCf5Ym15bu656+p6YG45Zmoe3s8aT59fScsICd6aC10dyc6ICfkvb/nlKjlj7PpjbXlip/og73ooajlv6vpgJ/libXlu7rnr6npgbjlmah7ezxpPn19JywgJ2VuJzogJ1VzZSByaWdodC1jbGljayBtZW51IHRvIGNyZWF0ZSBmaWx0ZXJze3s8aT59fScgfSwKICAndXNlQ29udGV4dE1lbnVDcmVhdG9yRGVzYyc6IHsKICAgICd6aC1jbic6ICflnKjlvq7ljZrkuIrngrnlj7PplK7vvIzmgqjlj6/ku6XlnKjmtY/op4jlmajljp/mnInnmoToj5zljZXkuK3mib7liLDigJzliJvlu7rov4fmu6TlmajigJ3nmoToj5zljZXvvIzngrnpgInljbPlj6/lv6vpgJ/liJvlu7rov4fmu6TlmajjgIInLAogIH0sCiAgJ3JlZmlsdGVyQWZ0ZXJSdWxlRWRpdGVkJzogeyAnemgtY24nOiAn5L+u5pS56KeE5YiZ5ZCO6Ieq5Yqo6YeN5paw6L+H5ruk5b6u5Y2ae3s8aT59fScsICd6aC1oayc6ICfkv67mlLnopo/liYflvozoh6rli5Xph43mlrDpgY7mv77lvq7ljZp7ezxpPn19JywgJ3poLXR3JzogJ+S/ruaUueimj+WJh+W+jOiHquWLlemHjeaWsOmBjua/vuW+ruWNmnt7PGk+fX0nLCAnZW4nOiAnUmVmaWx0ZXIgV2VpYm8gYWZ0ZXIgcnVsZSBjaGFuZ2VkIHt7PGk+fX0nIH0sCiAgJ3JlZmlsdGVyQWZ0ZXJSdWxlRWRpdGVkRGVzYyc6IHsKICAgICd6aC1jbic6ICflvIDlkK/or6XpgInpobnlkI7vvIzlvZPmgqjkv67mlLnov4fmu6Top4TliJnml7bvvIzohJrmnKzkvJrph43mlrDlr7nnjrDmnInnmoTlvq7ljZrov4fmu6TjgILkvYblt7LooqvpmpDol4/nmoTlvq7ljZrvvIzlm6DkuLrlt7Lnu4/ooqvnp7vpmaTvvIzlnKjliLfmlrDliY3kuI3kvJrlho3ooqvmmL7npLrlh7rmnaXjgIInCiAgfSwKICAnZmFzdEhpZGVCdXR0b24nOiB7ICd6aC1jbic6ICflnKjmr4/mnaHlvq7ljZrlj7PkuIrop5Lmt7vliqDpmpDol4/lvq7ljZrmjInpkq57ezxpPn19JywgJ3poLWhrJzogJ+WcqOavj+aineW+ruWNmuWPs+S4iuinkua3u+WKoOmaseiXj+W+ruWNmuaMiemIlXt7PGk+fX0nLCAnemgtdHcnOiAn5Zyo5q+P5qKd5b6u5Y2a5Y+z5LiK6KeS5re75Yqg6Zqx6JeP5b6u5Y2a5oyJ6YiVe3s8aT59fScsICdlbic6ICdBZGQgIkhpZGUiIGJ1dHRvbnMgb24gcmlnaHQgdG9wIG9mIFdlaWJvIHt7PGk+fX0nIH0sCiAgJ2Zhc3RIaWRlQnV0dG9uRGVzYyc6IHsKICAgICd6aC1jbic6ICflnKjmr4/mnaHlvq7ljZrlj7PkuIrop5Lmt7vliqDkuIDkuKrpmpDol4/lvq7ljZrmjInpkq7vvIzngrnlh7vljbPlj6/pmpDol4/ov5nmnaHlvq7ljZrjgIInCiAgfSwKICAnaGlkZVRoaXNXZWlibyc6IHsgJ3poLWNuJzogJ+makOiXjycsICd6aC1oayc6ICfpmrHol48nLCAnemgtdHcnOiAn6Zqx6JePJywgJ2VuJzogJ0hpZGUnLyogYXMgaXMgKi8gfSwKICAnZGlzYWJsZUxhenlMb2FkJzogeyAnemgtY24nOiAn56aB55So6aaW6aG15b6u5Y2a5bu26L+f5Yqg6L29e3s8aT59fScsICd6aC1oayc6ICfnpoHnlKjpppbpoIHlvq7ljZrlu7bpgbLovInlhaV7ezxpPn19JywgJ3poLXR3JzogJ+emgeeUqOmmlumggeW+ruWNmuW7tumBsui8ieWFpXt7PGk+fX0nLCAnZW4nOiAnRGlzYWJsZSBXZWlibyBsYXp5IGxvYWQgb24gaG9tZSBwYWdlIHt7PGk+fX0nIH0sCiAgJ2Rpc2FibGVMYXp5TG9hZERlc2MnOiB7CiAgICAnemgtY24nOiAn5aaC5p6c5oKo5Zug5Li66ZqQ6JeP5LqG6L+H5aSa55qE5b6u5Y2a77yM6aaW6aG15omT5byA5ZCO55yL5Yiw55qE5b6u5Y2a5aSq5bCR77yM5oKo5Y+v5Lul5omT5byA6K+l5Yqf6IO95LiA5qyh5oCn5pi+56S65pu05aSa5b6u5Y2a44CCJwogIH0sCiAgLy8g6Ieq5Yqo6L295YWlCiAgJ2F1dG9Mb2FkTmV3V2VpYm9UaXRsZSc6IHsgJ3poLWNuJzogJ+iHquWKqOi9veWFpeaWsOW+ruWNmicsICd6aC1oayc6ICfoh6rli5XovInlhaXmlrDlvq7ljZonLCAnemgtdHcnOiAn6Ieq5YuV6LyJ5YWl5paw5b6u5Y2aJywgJ2VuJzogJ05ldyBXZWlibyBBdXRvIExvYWQnIH0sCiAgJ2F1dG9Mb2FkTmV3V2VpYm8nOiB7ICd6aC1jbic6ICfoh6rliqjovb3lhaXmlrDlvq7ljZonLCAnemgtaGsnOiAn6Ieq5YuV6LyJ5YWl5paw5b6u5Y2aJywgJ3poLXR3JzogJ+iHquWLlei8ieWFpeaWsOW+ruWNmicsICdlbic6ICdOZXcgV2VpYm8gQXV0byBMb2FkJyB9LAogICdhdXRvTG9hZE5ld1dlaWJvRGVzYyc6IHsKICAgICd6aC1jbic6ICflkK/nlKjor6XpgInpobnlj6/ku6XlnKjmmL7npLrigJzmnInDl+adoeaWsOW+ruWNmuKAneeahOaPkOekuuaoquW5heWHuueOsOWJjei/h+a7pOW+ruWNmu+8jOmBv+WFjeaPkOekuuS4jeW4jOacm+eci+WIsOeahOaWsOW+ruWNmu+8m+S9huWLvumAieatpOmhueS8muWvvOiHtOWcqOWFtuS7luenu+WKqOiuvuWkh+S4iuaUtuS4jeWIsOacieaWsOW+ruWNmueahOaPkOekuuOAgicsCiAgfSwKICAnbmV3V2VpYm9Ob3RpZnknOiB7ICd6aC1jbic6ICfmnIkge3tjb3VudH19IOadoeaWsOW+ruWNmu+8jOeCueWHu+afpeeciycsICd6aC1oayc6ICfmnIl7e2NvdW50fX3mop3mlrDlvq7ljZrvvIzpu57mk4rmn6XnnIsnLCAnemgtdHcnOiAn5pyJe3tjb3VudH195qKd5paw5b6u5Y2a77yM6bue5pOK5p+l55yLJywgJ2VuJzogJ3t7Y291bnR9fSBuZXcgV2VpYm8nIH0sCiAgLy8g5YiG57uE5rWP6KeICiAgJ290aGVyR3JvdXBUaXRsZSc6IHsgJ3poLWNuJzogJ+WIhue7hOa1j+iniCcsICd6aC1oayc6ICfliIbntYTmtYHopr0nLCAnemgtdHcnOiAn5YiG57WE5rWB6Ka9JywgJ2VuJzogJ0Jyb3dzZSBieSBHcm91cCcgfSwKICAnYWNjb3VudEJ5R3JvdXAnOiB7ICd6aC1jbic6ICfliIbnu4TmtY/op4jml7bnpoHnlKjmjInluJDlj7fpmpDol48nLCAnemgtaGsnOiAn5YiG57WE5rWB6Ka95pmC56aB55So5oyJ5biz6Jmf6Zqx6JePJywgJ3poLXR3JzogJ+WIhue1hOa1geimveaZguemgeeUqOaMieW4s+iZn+maseiXjycsICdlbic6ICdEaXNhYmxlIGhpZGUgYnkgYWNjb3VudCBmaWx0ZXIgd2hlbiBicm93c2luZyBieSBncm91cCcgfSwKICAnc2FtZUFjY291bnRCeUdyb3VwJzogeyAnemgtY24nOiAn5rWP6KeI5YiG57uE5pe256aB55So55u45ZCM5L2c6ICF5pWw6YeP6ZmQ5Yi2JywgJ3poLWhrJzogJ+a1geimveWIhue1hOaZguemgeeUqOebuOWQjOS9nOiAheaVuOmHj+mZkOWIticsICd6aC10dyc6ICfmtYHopr3liIbntYTmmYLnpoHnlKjnm7jlkIzkvZzogIXmlbjph4/pmZDliLYnLCAnZW4nOiAnRGlzYWJsZSBoaWRlIHRvbyBtYW55IFdlaWJvIGZyb20gc2FtZSBhY2NvdW50IGZpbHRlciB3aGVuIGJyb3dzaW5nIGJ5IGdyb3VwJyB9LAogIC8vIOiHquWKqOWxleW8gAogICdhdXRvRXhwYW5kJzogewogICAgJ3poLWNuJzogJ+iHquWKqOi9veWFpeWQjuebtOaOpeWxleW8gOaYvuekunt7PGk+fX18fHt7PGV0eXBlcz59feS7heWvueeZveWQjeWNleeahOW+ruWNmuiHquWKqOWxleW8gOaYvuekunx8e3s8YmFja2dyb3VuZD59femhtemdouWkhOS6jua0u+WKqOeKtuaAgeaXtuaaguWBnCcsCiAgICAnemgtaGsnOiAn6Ieq5YuV6LyJ5YWl5b6M55u05o6l5bGV6ZaL6aGv56S6e3s8aT59fXx8e3s8ZXR5cGVzPn195YOF5bCN55m95ZCN5Zau55qE5b6u5Y2a6Ieq5YuV5bGV6ZaL6aGv56S6fHx7ezxiYWNrZ3JvdW5kPn196aCB6Z2i6JmV5pa85rS75YuV54uA5oWL5pmC5pqr5YGcJywKICAgICd6aC10dyc6ICfoh6rli5XovInlhaXlvoznm7TmjqXlsZXplovpoa/npLp7ezxpPn19fHx7ezxldHlwZXM+fX3lg4XlsI3nmb3lkI3llq7nmoTlvq7ljZroh6rli5XlsZXplovpoa/npLp8fHt7PGJhY2tncm91bmQ+fX3poIHpnaLomZXmlrzmtLvli5Xni4DmhYvmmYLmmqvlgZwnLAogICAgJ2VuJzogJ0V4cGFuZCBXZWlibyBhZnRlciBhdXRvIGxvYWQge3s8aT59fXx8IHt7PGV0eXBlcz59fSBPbmx5IGF1dG8gZXhwYW5kIHdoaXRlbGlzdCBXZWlibyB8fCB7ezxiYWNrZ3JvdW5kPn19IFBhdXNlIHdoZW4gcGFnZSBhY3RpdmVkJywKICB9LAogICdhdXRvRXhwYW5kRGVzYyc6IHsKICAgICd6aC1jbic6ICfpnIDopoHlkK/nlKjigJxbW2Jhc2UuYXV0b2xvYWQuYXV0b19sb2FkX25ld193ZWlib11d4oCd5Yqf6IO95omN5Lya55Sf5pWI44CC5Zyo6L295YWl5ZCO5Y+v5Lul55u05o6l5bCG5b6u5Y2a5pi+56S65Ye65p2l6ICM5LiN5piv5Zyo5b6u5Y2a5YiX6KGo6aG26YOo5pi+56S65pyJ5paw5b6u5Y2a55qE5o+Q56S65qiq5bmF44CCJywKICB9LAogICdhdXRvRXhwYW5kQWxsJzogeyAnemgtY24nOiAn5omA5pyJ5paw5b6u5Y2aJywgJ3poLWhrJzogJ+aJgOacieaWsOW+ruWNmicsICd6aC10dyc6ICfmiYDmnInmlrDlvq7ljZonLCAnZW4nOiAnYWxsIG5ldyBXZWlibycgfSwKICAnYXV0b0V4cGFuZFdoaXRlJzogeyAnemgtY24nOiAn55m95ZCN5Y2V5b6u5Y2aJywgJ3poLWhrJzogJ+eZveWQjeWWruW+ruWNmicsICd6aC10dyc6ICfnmb3lkI3llq7lvq7ljZonLCAnZW4nOiAnd2hpdGVsaXN0IFdlaWJvJyB9LAogIC8vIOahjOmdouaPkOekugogICdkZXNrdG9wTm90aWZpY2F0aW9uJzogewogICAgJ3poLWNuJzogJ+i9veWFpeaWsOW+ruWNmuWQjuaYvuekuuahjOmdouaPkOekunt7PGk+fX18fHt7PHR5cGVzPn195LuF5a+555m95ZCN5Y2V55qE5b6u5Y2a5pi+56S65qGM6Z2i5o+Q56S6fHx7ezxzaG9ydGVuPn195qGM6Z2i5o+Q56S65LuF5pi+56S6fOWJjXt7PHNob3J0bGVuPn195a2X56ym5pGY6KaB5L+h5oGvfHx7ezxhdXRvaGlkZT59feahjOmdouaPkOmGkuW7tuaXtuiHquWKqOWFs+mXrXzmmL7npLp7ezxkdXJhdGlvbj59feavq+enknzvvIvlrZfmlbDDl3t7PGR1cmF0aW9uYz59feavq+enknx8e3s8bnR5cGVzPn195L2/55SoIHdlYmtpdE5vdGlmaWNhdGlvbnMg6ICM6Z2eIE5vdGlmaWNhdGlvbicsCiAgICAnemgtaGsnOiAn6L295YWl5paw5b6u5Y2a5ZCO6aGv56S65qGM6Z2i5o+Q56S6e3s8aT59fXx8e3s8dHlwZXM+fX3lg4XlsI3nmb3lkI3llq7nmoTlvq7ljZrpoa/npLrmoYzpnaLmj5DnpLp8fHt7PHNob3J0ZW4+fX3moYzpnaLmj5DnpLrlg4Xpoa/npLp85YmNe3s8c2hvcnRsZW4+fX3lrZflhYPmkZjopoHos4foqIp8fHt7PGF1dG9oaWRlPn195qGM6Z2i5o+Q6YaS5bu25pmC6Ieq5YuV6Zec6ZaJfOmhr+ekunt7PGR1cmF0aW9uPn195q+r56eSfO+8i+Wtl+aVuMOXe3s8ZHVyYXRpb25jPn195q+r56eSfHx7ezxudHlwZXM+fX3kvb/nlKggd2Via2l0Tm90aWZpY2F0aW9ucyDogIzpnZ4gTm90aWZpY2F0aW9uJywKICAgICd6aC10dyc6ICfovb3lhaXmlrDlvq7ljZrlkI7poa/npLrmoYzpnaLmj5DnpLp7ezxpPn19fHx7ezx0eXBlcz59feWDheWwjeeZveWQjeWWrueahOW+ruWNmumhr+ekuuahjOmdouaPkOekunx8e3s8c2hvcnRlbj59feahjOmdouaPkOekuuWDhemhr+ekunzliY17ezxzaG9ydGxlbj59feWtl+WFg+aRmOimgeizh+ioinx8e3s8YXV0b2hpZGU+fX3moYzpnaLmj5DphpLlu7bmmYLoh6rli5Xpl5zplol86aGv56S6e3s8ZHVyYXRpb24+fX3mr6vnp5J877yL5a2X5pW4w5d7ezxkdXJhdGlvbmM+fX3mr6vnp5J8fHt7PG50eXBlcz59feS9v+eUqCB3ZWJraXROb3RpZmljYXRpb25zIOiAjOmdniBOb3RpZmljYXRpb24nLAogICAgJ2VuJzogJ1Nob3cgZGVza3RvcCBub3RpZmljYXRpb24gYWZ0ZXIgYXV0byBsb2FkIHt7PGk+fX18fCB7ezx0eXBlcz59fSBPbmx5IHNob3cgZGVza3RvcCBub3RpZmljYXRpb24gZm9yIHdoaXRlbGlzdCBXZWlibyB8fCB7ezxzaG9ydGVuPn19IERlc2t0b3Agbm90aWZpY2F0aW9uIG9ubHkgc2hvdyB8IGZpcnN0IHt7PHNob3J0bGVuPn19IGNoYXJhY3RlcnMgV2VpYm8gY29udGVudCB8fCB7ezxhdXRvaGlkZT59fSBhdXRvIGhpZGUgZGVza3RvcCBub3RpZmljYXRpb24gYWZ0ZXIgfCB7ezxkdXJhdGlvbj59fW1zIHwgKyB7ezxkdXJhdGlvbmM+fX1tcy9jaGFyIHx8IHt7PG50eXBlcz59fSBVc2Ugd2Via2l0Tm90aWZpY2F0aW9ucyBpbnN0ZWFkIG9mIE5vdGlmaWNhdGlvbicsCiAgfSwKICAnZGVza3RvcE5vdGlmaWNhdGlvbkRlc2MnOiB7CiAgICAnemgtY24nOiAn6ZyA6KaB5ZCv55So4oCcW1tiYXNlLmF1dG9sb2FkLmF1dG9fbG9hZF9uZXdfd2VpYm9dXeKAneWKn+iDveaJjeS8mueUn+aViOOAguWcqOi9veWFpeWQju+8jOaXoOiuuua1j+iniOWZqOaYr+WQpuiiq+acgOWwj+WMlumDveWPr+S7peWcqOWxj+W5leWPs+S4i+inkuW8ueWHuuWMheWQq+aWsOW+ruWNmuWGheWuueeahOaPkOekuu+8jOaWueS+v+aCqOesrOS4gOaXtumXtOS6huino+aWsOaUtuWIsOeahOW+ruWNmuOAgicsCiAgfSwKICAnZGVza3RvcE5vdGlmaWNhdGlvbkRpc2FsbG93ZWRUaXRsZSc6IHsgJ3poLWNuJzogJ+ahjOmdouaPkOekuuiiq+mYu+atoicsICd6aC1oayc6ICfmoYzpnaLmj5DnpLrooqvpmLvmraInLCAnemgtdHcnOiAn5qGM6Z2i5o+Q56S66KKr6Zi75q2iJywgJ2VuJzogJ0Rlc2t0b3AgTm90aWZpY2F0aW9uIERpc2FsbG93ZWQnIH0sCiAgJ2Rlc2t0b3BOb3RpZmljYXRpb25EaXNhbGxvd2VkJzogewogICAgJ3poLWNuJzogJ+aCqOeahOa1j+iniOWZqOmYu+atouS6huahjOmdouaPkOekuuOAguivt+aMieeFp+WmguS4i+atpemqpOino+mZpOmYu+atou+8mjxiciAvPuWPs+WHu+e9kemhteKAlOafpeeci+mhtemdouS/oeaBr+KAlOadg+mZkOKAlOaYvuekuumAmuefpeKAlOWFgeiuuDxiciAvPuatpOWklu+8jOWmguaenOaCqOWuieijheS6hiBUYWIgbm90aWZpZXIg562J5omp5bGV77yM6K+35Yiw5omp5bGV55qE6K6+572u5Lit5YWB6K645pi+56S65qGM6Z2i5o+Q56S644CCJywKICAgICd6aC1oayc6ICfmgqjnmoTmtYHopr3lmajpmLvmraLkuobmoYzpnaLmj5DnpLrjgILoq4vmjInnhaflpoLkuIvmraXpqZ/op6PpmaTpmLvmraLvvJo8YnIgLz7lj7Pmk4rntrLpoIHigJTmqqLoppbpoIHpnaLos4foqIrigJTmrIrpmZDigJTpoa/npLrpgJrnn6XigJTlhYHoqLE8YnIgLz7mraTlpJbvvIzlpoLmnpzmgqjlronoo53kuoYgVGFiIG5vdGlmaWVyIOetieaTtOWFheWll+S7tu+8jOiri+WIsOaTtOWFheWll+S7tueahOioree9ruS4reWFgeiosemhr+ekuuahjOmdouaPkOekuuOAgicsCiAgICAnemgtdHcnOiAn5oKo55qE5rWB6Ka95Zmo6Zi75q2i5LqG5qGM6Z2i5o+Q56S644CC6KuL5oyJ54Wn5aaC5LiL5q2l6amf6Kej6Zmk6Zi75q2i77yaPGJyIC8+5Y+z5pOK57ay6aCB4oCU5qqi6KaW6aCB6Z2i6LOH6KiK4oCU5qyK6ZmQ4oCU6aGv56S66YCa55+l4oCU5YWB6KixPGJyIC8+5q2k5aSW77yM5aaC5p6c5oKo5a6J6KOd5LqGIFRhYiBub3RpZmllciDnrYnmk7TlhYXlpZfku7bvvIzoq4vliLDmk7TlhYXlpZfku7bnmoToqK3nva7kuK3lhYHoqLHpoa/npLrmoYzpnaLmj5DnpLrjgIInLAogICAgJ2VuJzogJ1lvdXIgYnJvd3NlciBibG9ja2VkIGRlc2t0b3Agbm90aWZpY2F0aW9ucy4gUGxlYXNlIGZvbGxvdyB0aGUgaW5zdHJ1Y3Rpb24gdG8gdW5ibG9jazogPGJyIC8+UmlnaHQgY2xpY2sgd2VicGFnZSAtIFZpZXcgUGFnZSBJbmZvIC0gUGVybWlzc2lvbiAtIE5vdGlmaWNhdGlvbnMgLSBBbGxvdy4gWW91IHNob3VsZCBhbHNvIGNoZWNrIHNldHRpbmdzIG9mIGV4dGVuc2lvbnMsIGlmIHlvdSBpbnN0YWxsZWQgZXh0ZW5zaW9ucyBsaWtlIFRhYiBub3RpZmllci4nLAogIH0sCiAgJ2F1dG9DbG9zZVdhcm5pbmcnOiB7CiAgICAnemgtY24nOiAnNDPniYjku6XliY3nmoTngavni5DmtY/op4jlmajmj5DkvpvnmoQgTm90aWZpY2F0aW9uIOS8muW8uuWItuaYvuekuiA0IOenkuWQjuWFs+mXre+8jOWmguaenOaCqOW4jOacm+aYvuekuui+g+mVv+aXtumXtO+8jOivt+iAg+iZkeS9v+eUqCBUYWIgbm90aWZpZXIg562J5omp5bGV5o+Q5L6b55qEIHdlYmtpdE5vdGlmaWNhdGlvbnPjgIInLAogICAgJ3poLWhrJzogJzQz54mI5Lul5YmN55qE54Gr54uQ5rWB6Ka95Zmo5o+Q5L6b55qEIE5vdGlmaWNhdGlvbiDmnIPlvLfliLbpoa/npLogNCDnp5Llvozpl5zplonvvIzlpoLmnpzmgqjluIzmnJvpoa/npLrovIPplbfmmYLplpPvvIzoq4vogIPmha7kvb/nlKggVGFiIG5vdGlmaWVyIOetieaTtOWFheWll+S7tuaPkOS+m+eahCB3ZWJraXROb3RpZmljYXRpb25z44CCJywKICAgICd6aC10dyc6ICc0M+eJiOS7peWJjeeahOeBq+eLkOa1geimveWZqOaPkOS+m+eahCBOb3RpZmljYXRpb24g5pyD5by35Yi26aGv56S6IDQg56eS5b6M6Zec6ZaJ77yM5aaC5p6c5oKo5biM5pyb6aGv56S66LyD6ZW35pmC6ZaT77yM6KuL6ICD5oWu5L2/55SoIFRhYiBub3RpZmllciDnrYnmk7TlhYXlpZfku7bmj5DkvpvnmoQgd2Via2l0Tm90aWZpY2F0aW9uc+OAgicsCiAgICAnZW4nOiAnTm90aWZpY2F0aW9uIHByb3ZpZGVkIGJ5IEZpcmVmb3ggKHZlcnNpb24gPD0gNDMpIHdpbGwgYmUgbWFuZGF0b3JpbHkgY2xvc2VkIHdpdGggNCBzZWNvbmRzIGRlbGF5IGFmdGVyIHNob3duLiBZb3UgbWF5IG5lZWQgdG8gdXNlIHdlYmtpdE5vdGlmaWNhdGlvbnMgcHJvdmlkZWQgYnkgYWRkLW9ucyBsaWtlIFRhYiBub3RpZmllciBmb3IgbG9uZ2VyIG5vdGlmaWNhdGlvbiBkaXNwbGF5LicsCiAgfSwKICAvLyDmkJzntKIKICAnc2VhcmNoTm90Rm91bmQnOiB7ICd6aC1jbic6ICfmnKrmib7liLDkuI7mgqjovpPlhaXljLnphY3nmoTorr7nva7pobknLCAnemgtaGsnOiAn5pyq5om+5Yiw6IiH5oKo6Ly45YWl5Yy56YWN55qE6Kit572u6aCFJywgJ3poLXR3JzogJ+acquaJvuWIsOiIh+aCqOi8uOWFpeWMuemFjeeahOioree9rumghScsICdlbic6ICdObyBNYXRjaGVkIFNldHRpbmdzJyB9LAogIC8vIOWGheWuuQogICdjb250ZW50RmlsdGVyR3JvdXBUaXRsZSc6IHsgJ3poLWNuJzogJ+WGheWuuScsICd6aC1oayc6ICflhaflrrknLCAnemgtdHcnOiAn5YWn5a65JywgJ2VuJzogJ0NvbnRlbnQnIH0sCiAgLy8g5YWz6ZSu6K+NCiAgJ2tleXdvcmRGaWx0ZXJEZXNjJzogeyAnemgtY24nOiAn5YWz6ZSu6K+NJywgJ3poLWhrJzogJ+mXnOmNteWtlycsICd6aC10dyc6ICfpl5zpjbXlrZcnLCAnZW4nOiAnS2V5d29yZCcgfSwKICAna2V5d29yZEZpbHRlckRldGFpbHMnOiB7ICd6aC1jbic6ICfljIXlkKvku6XkuIvlhbPplK7or43nmoTlvq7ljZonLCAnemgtaGsnOiAn5YyF5ZCr5Lul5LiL6Zec6Y215a2X55qE5b6u5Y2aJywgJ3poLXR3JzogJ+WMheWQq+S7peS4i+mXnOmNteWtl+eahOW+ruWNmicsICdlbic6ICdXZWlibyB3aXRoIHRoZXNlIGtleXdvcmRzJyB9LAogICdrZXl3b3JkRmlsdGVyRGV0YWlsc0Rlc2MnOiB7CiAgICAnemgtY24nOiAn5YWz6ZSu6K+N5LuF5Yy56YWN5b6u5Y2a5q2j5paH77yM5YyF5ous5Y6f5b6u5Y2a5ZKM6L2s5Y+R55qE5o+P6L+w44CC5aaC5p6c5oKo5biM5pyb5p+Q5p2h5b6u5Y2a5ZCM5pe25Ye6546w5p+Q5Yeg5Liq5YWz6ZSu5a2X5pe25omN6L+H5ruk77yM6K+35L2/55So5q2j5YiZ6KGo6L6+5byP55qE6L+H5ruk5pa55byP44CCJywKICB9LAogICdrZXl3b3JkRmlsdGVyRmFzdCc6IHsgJ3poLWNuJzogJ+W+ruWNmuWMheWQq+WFs+mUruivjScsICd6aC1oayc6ICflvq7ljZrljIXlkKvpl5zpjbXlrZcnLCAnemgtdHcnOiAn5b6u5Y2a5YyF5ZCr6Zec6Y215a2XJywgJ2VuJzogJ1dlaWJvIGNvbnRhaW5zIGtleXdvcmQgJyB9LAogICdrZXl3b3JkRmlsdGVyRmFzdElucHV0JzogeyAnemgtY24nOiAn4oCce3t0ZXh0fX3igJ0nLCAnemgtaGsnOiAn44CMe3t0ZXh0fX3jgI0nLCAnemgtdHcnOiAn44CMe3t0ZXh0fX3jgI0nLCAnZW4nOiAnInt7dGV4dH19IicgfSwKICAna2V5d29yZEZpbHRlclJlYXNvbic6IHsgJ3poLWNuJzogJ+WboOWMheWQq+WFs+mUruivjeKAnHt7ZGV0YWlsfX3igJ0nLCAnemgtaGsnOiAn5Zug5YyF5ZCr6Zec6Y216Kme44CMe3tkZXRhaWx9feOAjScsICd6aC10dyc6ICflm6DljIXlkKvpl5zpjbXoqZ7jgIx7e2RldGFpbH1944CNJywgJ2VuJzogJ2JlY2F1c2UgaXQgY29udGFpbnMga2V5d29yZCAie3tkZXRhaWx9fSInIH0sCiAgLy8g5q2j5YiZ6KGo6L6+5byPCiAgJ3JlZ2V4cEZpbHRlckdyb3VwVGl0bGUnOiB7ICd6aC1jbic6ICfmraPliJknLCAnemgtaGsnOiAn5q2j5YmHJywgJ3poLXR3JzogJ+ato+imjycsICdlbic6ICdSZWdleHAnIH0sCiAgJ3JlZ2V4cEZpbHRlckRlc2MnOiB7ICd6aC1jbic6ICfmraPliJnlvI8nLCAnemgtaGsnOiAn5q2j5YmH5byPJywgJ3poLXR3JzogJ+ato+imj+W8jycsICdlbic6ICdSZWdleHAnIH0sCiAgJ3JlZ2V4cEZpbHRlckRldGFpbHMnOiB7ICd6aC1jbic6ICfljLnphY3ku6XkuIvmraPliJnooajovr7lvI/nmoTlvq7ljZonLCAnemgtaGsnOiAn5Yy56YWN5Lul5LiL5q2j5YmH6KGo6YGU5byP55qE5b6u5Y2aJywgJ3poLXR3JzogJ+WMuemFjeS7peS4i+ato+imj+ihqOekuuW8j+eahOW+ruWNmicsICdlbic6ICdXZWlibyBtYXRjaGVzIHRoZXNlIHJlZ3VsYXIgZXhwcmVzc2lvbnMnIH0sCiAgJ3JlZ2V4cEZpbHRlckRldGFpbHNEZXNjJzogewogICAgJ3poLWNuJzogJ+ato+WImeihqOi+vuW8j+S5puWGmeaXtuS4jemcgOimgeWvueKAnC/igJ3lrZfnrKbovazkuYnjgILmraPliJnooajovr7lvI/kuI3lkIzkuo7igJzpgJrphY3nrKbigJ3vvIzmgqjpnIDopoHkvb/nlKjigJw8Y29kZT4uKjwvY29kZT7igJ3ooajnpLrku7vmhI/lrZfnrKbvvIzlpoLigJw8Y29kZT7ovazlj5HlubYuKuWlveWPizwvY29kZT7igJ3jgILlpoLmnpzmgqjluIzmnJvljLnphY3lkIzml7blh7rnjrDmn5DkupvlhbPplK7or43nmoTlvq7ljZrvvIzmgqjlj6/ku6XnlKg8Y29kZT5eKD89W1xzXFNdKuaYn+W6pykoPz1bXHNcU10q56ys5LiAKTwvY29kZT7igJ3ljLnphY3miYDmnInlkIzml7blh7rnjrDigJzmmJ/luqfigJ3lkozigJznrKzkuIDigJ3nmoTlvq7ljZrjgILmgqjlj6/ku6Xlj4LogIM8YSBocmVmPSJodHRwczovL3RpYW5zaC5naXRodWIuaW8veWF3Zi9yZWdleHAuaHRtbCIgdGFyZ2V0PSJfYmxhbmsiPueUqOS6jui/h+a7pOW+ruWNmueahOato+WImeihqOi+vuW8j+W/q+mAn+WFpemXqDwvYT7mn6XnnIvmm7TlpJrnpLrkvovlhpnms5XjgIInLAogIH0sCiAgJ3JlZ2V4cEZpbHRlckZhc3QnOiB7ICd6aC1jbic6ICflvq7ljZrljLnphY3mraPliJnlvI8nLCAnemgtaGsnOiAn5b6u5Y2a5Yy56YWN5q2j5YmH5byPJywgJ3poLXR3JzogJ+W+ruWNmuWMuemFjeato+imj+W8jycsICdlbic6ICdXZWlibyBtYXRjaGVzIHJlZ2V4cCAnIH0sCiAgJ3JlZ2V4cEZpbHRlckZhc3RJbnB1dCc6IHsgJ3poLWNuJzogJy97e3RleHR9fS8nLCAnemgtaGsnOiAnL3t7dGV4dH19LycsICd6aC10dyc6ICcve3t0ZXh0fX0vJywgJ2VuJzogJy97e3RleHR9fS8nIH0sCiAgJ3JlZ2V4cEZpbHRlclJlYXNvbic6IHsgJ3poLWNuJzogJ+WboOWMuemFjeato+WImeW8jyB7e2RldGFpbH19ICcsICd6aC1oayc6ICflm6DljLnphY3mraPliYflvI8ge3tkZXRhaWx9fSAnLCAnemgtdHcnOiAn5Zug5Yy56YWN5q2j6KaP5byPIHt7ZGV0YWlsfX0gJywgJ2VuJzogJ2JlY2F1c2UgaXQgbWF0Y2hlcyByZWdleHAge3tkZXRhaWx9fSAnIH0sCiAgJ3JlZ2V4cEJhZEZvcm1lZFRpdGxlJzogeyAnemgtY24nOiAn6Z2e5rOV55qE5q2j5YiZ6KGo6L6+5byPJywgJ3poLWhrJzogJ+S4jeWQiOazleeahOato+WJh+ihqOmBlOW8jycsICd6aC10dyc6ICfkuI3lkIjms5XnmoTmraPopo/ooajnpLrlvI8nLCAnZW4nOiAnSWxsZWdhbCBSZWdleHAnIH0sCiAgJ3JlZ2V4cEJhZEZvcm1lZCc6IHsKICAgICd6aC1jbic6ICfmgqjovpPlhaXnmoQve3tyZWdleHB9fS/kuI3og73ooqvmraPnoa7lnLDop6PmnpDkuLrmraPliJnooajovr7lvI/vvIzor7fmo4Dmn6XmgqjnmoTovpPlhaXjgILlpoLpnIDlhbPplK7or43lsY/olL3or7fliLDlhoXlrrnmoIfnrb7pobXorr7nva7jgIInLAogICAgJ3poLWhrJzogJ+aCqOi8uOWFpeeahC97e3JlZ2V4cH19L+S4jeiDveiiq+ato+eiuuWcsOino+aekOeCuuato+WJh+ihqOmBlOW8j++8jOiri+aqouafpeaCqOeahOi8uOWFpeOAguWmgumcgOmXnOmNteipnuWxj+iUveiri+WIsOWFp+WuueaomeexpOmggemdouioree9ruOAgicsCiAgICAnemgtdHcnOiAn5oKo6Ly45YWl55qEL3t7cmVnZXhwfX0v5LiN6IO96KKr5q2j56K65Zyw6Kej5p6Q54K65q2j6KaP6KGo56S65byP77yM6KuL5qqi5p+l5oKo55qE6Ly45YWl44CC5aaC6ZyA6Zec6Y216Kme5bGP6JS96KuL5Yiw5YWn5a655qiZ57Gk6aCB6Z2i6Kit572u44CCJywKICAgICdlbic6ICdDYW5ub3QgcGFyc2UgL3t7cmVnZXhwfX0vIGFzIHJlZ2V4cC4gUGxlYXNlIGNoZWNrIHlvdXIgaW5wdXQuIFlvdSBtYXkgaGlkZSBXZWlibyBieSBrZXl3b3JkcyBpbiBDb250ZW50IHRhYiBwYWdlLicKICB9LAogIC8vIOWFtuS7luWFg+e0oAogICdjb250ZW50VHlwZXNUaXRsZSc6IHsgJ3poLWNuJzogJ+WwhuS7peS4i+WFg+e0oOWQjOagt+S9nOS4uuWGheWuueWkhOeQhicsICd6aC1oayc6ICflsIfku6XkuIvlhYPntKDlkIzmqKPkvZzngrrlhaflrrnomZXnkIYnLCAnemgtdHcnOiAn5bCH5Lul5LiL5YWD57Sg5ZCM5qij5L2c54K65YWn5a656JmV55CGJywgJ2VuJzogJ0hhbmRsZSB0aGVzZSBlbGVtZW50cyBhcyBjb250ZW50JyB9LAogICdjb250ZW50VHlwZXNNZW50aW9uJzogeyAnemgtY24nOiAn5o+Q5Yiw5p+Q5Lq6JywgJ3poLWhrJzogJ+aPkOWIsOafkOS6uicsICd6aC10dyc6ICfmj5DliLDmn5DkuronLCAnZW4nOiAnTWVudGlvbicgfSwKICAnY29udGVudFR5cGVzU3RvY2snOiB7ICd6aC1jbic6ICfogqHnpajpk77mjqUnLCAnemgtaGsnOiAn6IKh56Wo6YCj57WQJywgJ3poLXR3JzogJ+iCoeelqOmAo+e1kCcsICdlbic6ICdTdG9jayBsaW5rJyB9LAogICdjb250ZW50VHlwZXNUb3BpYyc6IHsgJ3poLWNuJzogJ+ivnemimOagh+mimCcsICd6aC1oayc6ICfoqbHpoYzmqJnpoYwnLCAnemgtdHcnOiAn6Kmx6aGM5qiZ6aGMJywgJ2VuJzogJ1RvcGljJyB9LAogICdjb250ZW50VHlwZXNMaW5rdCc6IHsgJ3poLWNuJzogJ+mTvuaOpeagh+mimCcsICd6aC1oayc6ICfpgKPntZDmqJnpoYwnLCAnemgtdHcnOiAn6YCj57WQ5qiZ6aGMJywgJ2VuJzogJ0xpbmsgVGl0bGUnIH0sCiAgJ2NvbnRlbnRUeXBlc0xpbmt1JzogeyAnemgtY24nOiAn6ZO+5o6l5Zyw5Z2AJywgJ3poLWhrJzogJ+mAo+e1kOS9jeWdgCcsICd6aC10dyc6ICfpgKPntZDkvY3lnYAnLCAnZW4nOiAnTGluayB0YXJnZXQgVVJMJyB9LAogICdjb250ZW50VHlwZXNFbW90aW9uJzogeyAnemgtY24nOiAn6KGo5oOF5aSH5rOoJywgJ3poLWhrJzogJ+ihqOaDheWCmeiouycsICd6aC10dyc6ICfooajmg4XlgpnoqLsnLCAnZW4nOiAnUmVtYXJrIG9mIGVtb3Rpb24nIH0sCiAgLy8g5biQ5Y+3CiAgJ2FjY291bnRGaWx0ZXJHcm91cFRpdGxlJzogeyAnemgtY24nOiAn5biQ5Y+3JywgJ3poLWhrJzogJ+W4s+iZnycsICd6aC10dyc6ICfluLPomZ8nLCAnZW4nOiAnQWNjb3VudCcgfSwKICAnYWNjb3VudEZpbHRlckRlc2MnOiB7ICd6aC1jbic6ICfluJDlj7cnLCAnemgtaGsnOiAn5biz6JmfJywgJ3poLXR3JzogJ+W4s+iZnycsICdlbic6ICdBY2NvdW50JyB9LAogICdhY2NvdW50RmlsdGVyRGV0YWlscyc6IHsgJ3poLWNuJzogJ+adpeiHquS7peS4i+W4kOWPt+eahOaJgOacieW+ruWNmicsICd6aC1oayc6ICfkvoboh6rku6XkuIvluLPomZ/nmoTmiYDmnInlvq7ljZonLCAnemgtdHcnOiAn5L6G6Ieq5Lul5LiL5biz6Jmf55qE5omA5pyJ5b6u5Y2aJywgJ2VuJzogJ0FsbCBXZWlibyBmcm9tIHRoZXNlIGFjY291bnRzJyB9LAogICdhY2NvdW50RmlsdGVyRGV0YWlsc0Rlc2MnOiB7CiAgICAnemgtY24nOiAn5L2g5YWz5rOo55qE5p+Q5Liq5Lq65pKw5YaZ5oiW6L2s5Y+R55qE5b6u5Y2a44CC5a+55LqO6L2s5Y+R55qE5b6u5Y2a77yM5LuF5Yy56YWN5pyA5ZCO6L2s5Y+R55qE6YKj5Liq5Lq644CCJywKICB9LAogICdhY2NvdW50RmlsdGVyRmFzdCc6IHsgJ3poLWNuJzogJ+S9nOiAheaYr+KAnEB7e25hbWV9feKAneeahOaJgOacieW+ruWNmicsICd6aC1oayc6ICfkvZzogIXmmK/jgIxAe3tuYW1lfX3jgI3nmoTmiYDmnInlvq7ljZonLCAnemgtdHcnOiAn5L2c6ICF5piv44CMQHt7bmFtZX1944CN55qE5omA5pyJ5b6u5Y2aJywgJ2VuJzogJ0FsbCBXZWlibyBieSAiQHt7bmFtZX19IicgfSwKICAnYWNjb3VudEZpbHRlckNvbnRleHRNZW51JzogeyAnemgtY24nOiAn5L2c6ICF5pivIEB7e25hbWV9fScsICd6aC1oayc6ICfkvZzogIXmmK8gQHt7bmFtZX19JywgJ3poLXR3JzogJ+S9nOiAheaYryBAe3tuYW1lfX0nLCAnZW4nOiAnYnkgQHt7bmFtZX19JyB9LAogICdhY2NvdW50RmlsdGVyUmVhc29uJzogeyAnemgtY24nOiAn5Zug5p2l6IeqIEB7e2RldGFpbH19ICcsICd6aC1oayc6ICflm6Dkvoboh6ogQHt7ZGV0YWlsfX0gJywgJ3poLXR3JzogJ+WboOS+huiHqiBAe3tkZXRhaWx9fSAnLCAnZW4nOiAnYmVjYXVzZSBpdCBpcyBwb3N0ZWQgYnkgQHt7ZGV0YWlsfX0gJyB9LAogICdhY2NvdW50Tm90RXhpc3RFcnJvclRpdGxlJzogeyAnemgtY24nOiAn5biQ5Y+35LiN5a2Y5ZyoJywgJ3poLWhrJzogJ+W4s+iZn+S4jeWtmOWcqCcsICd6aC10dyc6ICfluLPomZ/kuI3lrZjlnKgnLCAnZW4nOiAnQWNjb3VudCBkb2VzIG5vdCBleGlzdCcgfSwKICAnYWNjb3VudE5vdEV4aXN0RXJyb3InOiB7ICd6aC1jbic6ICfkuI3lrZjlnKjlkI3kuLrigJx7e25hbWV9feKAneeahOW4kOWPtycsICd6aC1oayc6ICfkuI3lrZjlnKjlkI3ngrrjgIx7e25hbWV9feOAjeeahOW4s+iZnycsICd6aC10dyc6ICfkuI3lrZjlnKjlkI3ngrrjgIx7e25hbWV9feOAjeeahOW4s+iZnycsICdlbic6ICdBY2NvdW50IG5hbWVkICJ7e25hbWV9fSIgZG9lcyBub3QgZXhpc3QnIH0sCiAgLy8g5p+Q5Lq655qE6L2s5Y+RCiAgJ2FjY291bnRmRmlsdGVyRGVzYyc6IHsgJ3poLWNuJzogJ+W4kOWPtycsICd6aC1oayc6ICfluLPomZ8nLCAnemgtdHcnOiAn5biz6JmfJywgJ2VuJzogJ0FjY291bnQnIH0sCiAgJ2FjY291bnRmRmlsdGVyRGV0YWlscyc6IHsgJ3poLWNuJzogJ+adpeiHquS7peS4i+W4kOWPt+eahOi9rOWPkeW+ruWNmicsICd6aC1oayc6ICfkvoboh6rku6XkuIvluLPomZ/nmoTovazlj5Hlvq7ljZonLCAnemgtdHcnOiAn5L6G6Ieq5Lul5LiL5biz6Jmf55qE6L2s5Y+R5b6u5Y2aJywgJ2VuJzogJ0ZvcndhcmRlZCBXZWlibyBmcm9tIHRoZXNlIGFjY291bnRzJyB9LAogICdhY2NvdW50ZkZpbHRlckRldGFpbHNEZXNjJzogewogICAgJ3poLWNuJzogJ+S4juKAnOadpeiHquS7peS4i+W4kOWPt+eahOaJgOacieW+ruWNmuKAneWKn+iDveexu+S8vO+8jOS9huS4jeWvueatpOS6uueahOWOn+WIm+W+ruWNmueUn+aViOOAgicsCiAgICAnemgtaGsnOiAn6IiH4oCc5L6G6Ieq5Lul5LiL5biz6Jmf55qE5omA5pyJ5b6u5Y2a4oCd5Yqf6IO96aGe5Ly877yM5L2G5LiN5bCN5q2k5Lq655qE5Y6f5Ym15b6u5Y2a55Sf5pWI44CCJywKICAgICd6aC10dyc6ICfoiIfigJzkvoboh6rku6XkuIvluLPomZ/nmoTmiYDmnInlvq7ljZrigJ3lip/og73poZ7kvLzvvIzkvYbkuI3lsI3mraTkurrnmoTljp/libXlvq7ljZrnlJ/mlYjjgIInLAogICAgJ2VuJzogJ1NpbWlsYXIgdG8gIkFsbCBXZWlibyBmcm9tIHRoZXNlIGFjY291bnRzIiwgYnV0IG9ubHkgd29ya3Mgb24gZm9yd2FyZGVkIFdlaWJvLicKICB9LAogICdhY2NvdW50ZkZpbHRlckZhc3QnOiB7ICd6aC1jbic6ICfkvZzogIXmmK/igJxAe3tuYW1lfX3igJ3nmoTovazlj5Hlvq7ljZonLCAnemgtaGsnOiAn5L2c6ICF5piv44CMQHt7bmFtZX1944CN55qE6L2s5Y+R5b6u5Y2aJywgJ3poLXR3JzogJ+S9nOiAheaYr+OAjEB7e25hbWV9feOAjeeahOi9rOWPkeW+ruWNmicsICdlbic6ICdXZWlibyBieSAiQHt7bmFtZX19IicgfSwKICAnYWNjb3VudGZGaWx0ZXJDb250ZXh0TWVudSc6IHsgJ3poLWNuJzogJ+eUsSBAe3tuYW1lfX0g6L2s5Y+RJywgJ3poLWhrJzogJ+eUsSBAe3tuYW1lfX0g6L2J55m8JywgJ3poLXR3JzogJ+eUsSBAe3tuYW1lfX0g6L2J55m8JywgJ2VuJzogJ2ZvcndhcmRlZCBieSBAe3tuYW1lfX0nIH0sCiAgJ2FjY291bnRmRmlsdGVyUmVhc29uJzogeyAnemgtY24nOiAn5Zug5p2l6IeqIEB7e2RldGFpbH19ICcsICd6aC1oayc6ICflm6Dkvoboh6ogQHt7ZGV0YWlsfX0gJywgJ3poLXR3JzogJ+WboOS+huiHqiBAe3tkZXRhaWx9fSAnLCAnZW4nOiAnYmVjYXVzZSBpdCBpcyBwb3N0ZWQgYnkgQHt7ZGV0YWlsfX0gJyB9LAogIC8vIOWOn+WImwogICdvcmlnaW5hbEZpbHRlckdyb3VwVGl0bGUnOiB7ICd6aC1jbic6ICfljp/liJsnLCAnemgtaGsnOiAn5Y6f5Ym1JywgJ3poLXR3JzogJ+WOn+WJtScsICdlbic6ICdPcmlnaW5hbCcgfSwKICAnb3JpZ2luYWxGaWx0ZXJEZXNjJzogeyAnemgtY24nOiAn5biQ5Y+3JywgJ3poLWhrJzogJ+W4s+iZnycsICd6aC10dyc6ICfluLPomZ8nLCAnZW4nOiAnQWNjb3VudCcgfSwKICAnb3JpZ2luYWxGaWx0ZXJEZXRhaWxzJzogeyAnemgtY24nOiAn5Y6f5Yib5piv5Lul5LiL5biQ5Y+355qE5b6u5Y2aJywgJ3poLWhrJzogJ+WOn+WJteaYr+S7peS4i+W4s+iZn+eahOW+ruWNmicsICd6aC10dyc6ICfljp/libXmmK/ku6XkuIvluLPomZ/nmoTlvq7ljZonLCAnZW4nOiAnV2VpYm8gT3JpZ2luYWxseSBmcm9tIHRoZXNlIGFjY291bnRzJyB9LAogICdvcmlnaW5hbEZpbHRlckRldGFpbHNEZXNjJzogewogICAgJ3poLWNuJzogJ+WmguaenOS4gOadoeW+ruWNmuaYr+WOn+WIm+eahO+8iOS4jeaYr+i9rOWPkeeahO+8iemCo+S5iOS7lueahOS9nOiAheWwseaYr+WOn+WIm+eahOS9nOiAhe+8jOWQpuWImeWOn+WIm+aMh+i/meadoeW+ruWNmuacgOWOn+Wni+eahOS9nOiAheOAgicKICB9LAogICdvcmlnaW5hbEZpbHRlckZhc3QnOiB7ICd6aC1jbic6ICfljp/liJvmmK/igJxAe3tuYW1lfX3igJ3nmoTlvq7ljZonLCAnemgtaGsnOiAn5Y6f5Ym15piv44CMQHt7bmFtZX1944CN55qE5b6u5Y2aJywgJ3poLXR3JzogJ+WOn+WJteaYr+OAjEB7e25hbWV9feOAjeeahOW+ruWNmicsICdlbic6ICdPcmlnaW5hbCBXZWlibyBmcm9tICJAe3tuYW1lfX0iJyB9LAogICdvcmlnaW5hbEZpbHRlckNvbnRleHRNZW51JzogeyAnemgtY24nOiAn5Y6f5Yib5pivIEB7e25hbWV9fScsICd6aC1oayc6ICfljp/libXmmK8gQHt7bmFtZX19JywgJ3poLXR3JzogJ+WOn+WJteaYryBAe3tuYW1lfX0nLCAnZW4nOiAnZnJvbSBAe3tuYW1lfX0nIH0sCiAgJ29yaWdpbmFsRmlsdGVyUmVhc29uJzogeyAnemgtY24nOiAn5Zug6L2s5Y+R6IeqIEB7e2RldGFpbH19ICcsICd6aC1oayc6ICflm6DovYnnmbzoh6ogQHt7ZGV0YWlsfX0gJywgJ3poLXR3JzogJ+WboOi9ieeZvOiHqiBAe3tkZXRhaWx9fSAnLCAnZW4nOiAnYmVjYXVzZSBpdCBpcyBmb3J3YXJkZWQgZnJvbSBAe3tkZXRhaWx9fSAnIH0sCiAgJ2FjdE9uRGlzY292ZXJ5UGFnZSc6IHsgJ3poLWNuJzogJyDmjInljp/liJvkvZzogIXov4fmu6TnmoTop4TliJnlr7nlj5HnjrDpobXpnaLnmoTkvZzogIXnlJ/mlYgnLCAnemgtaGsnOiAn5oyJ5Y6f5Ym15L2c6ICF6YGO5r++55qE6KaP5YmH5bCN55m854++6aCB6Z2i55qE5L2c6ICF55Sf5pWIJywgJ3poLXR3JzogJ+aMieWOn+WJteS9nOiAhemBjua/vueahOimj+WJh+WwjeeZvOePvumggemdoueahOS9nOiAheeUn+aViCcsICdlbic6ICdSdWxlcyBmaWx0ZXIgYnkgb3JpZ2luYWwgYXBwbHkgdG8gYXV0aG9ycyBpbiBkaXNjb3ZlcnkgcGFnZScgfSwKICAvLyDmj5DliLAKICAnbWVudGlvbkZpbHRlckdyb3VwVGl0bGUnOiB7ICd6aC1jbic6ICfmj5DliLAnLCAnemgtaGsnOiAn5o+Q5YiwJywgJ3poLXR3JzogJ+aPkOWIsCcsICdlbic6ICdNZW50aW9uJyB9LAogICdtZW50aW9uRmlsdGVyRGVzYyc6IHsgJ3poLWNuJzogJ+W4kOWPtycsICd6aC1oayc6ICfluLPomZ8nLCAnemgtdHcnOiAn5biz6JmfJywgJ2VuJzogJ0FjY291bnQnIH0sCiAgJ21lbnRpb25GaWx0ZXJEZXRhaWxzJzogeyAnemgtY24nOiAn5o+Q5Yiw5Lul5LiL5biQ5Y+355qE5b6u5Y2aJywgJ3poLWhrJzogJ+aPkOWIsOS7peS4i+W4s+iZn+eahOW+ruWNmicsICd6aC10dyc6ICfmj5DliLDku6XkuIvluLPomZ/nmoTlvq7ljZonLCAnZW4nOiAnV2VpYm8gbWVudGlvbmVkIHRoZXNlIGFjY291bnRzJyB9LAogICdtZW50aW9uRmlsdGVyRGV0YWlsc0Rlc2MnOiB7CiAgICAnemgtY24nOiAn5o+Q5Yiw5YyF5ous5Zyo5b6u5Y2a5Lit5L2/55So4oCcQOKAneaPkOWIsOeahOW4kOWPt++8jOS5n+WMheaLrOi9rOWPkei3r+W+hOS4reeahOmCo+S6m+W4kOWPt+OAguW+ruWNmuS4reaPkOWIsOeahOS6uueahOmTvuaOpeS4jeS8mumaj+S/ruaUueaYteensOiAjOWPmOWMlu+8jOi/memHjOS5n+aXoOazleWkhOeQhuS/ruaUueaYteensOeahOaDheWGte+8jOaJgOS7peWmguaenOS4gOS4quS6uuS/ruaUueS6huaYteensO+8jOaCqOmcgOimgemHjeaWsOa3u+WKoOOAgicKICB9LAogICdtZW50aW9uRmlsdGVyRmFzdCc6IHsgJ3poLWNuJzogJ+aPkOWIsOS6huKAnEB7e25hbWV9feKAneeahOW+ruWNmicsICd6aC1oayc6ICfmj5DliLDkuobjgIxAe3tuYW1lfX3jgI3nmoTlvq7ljZonLCAnemgtdHcnOiAn5o+Q5Yiw5LqG44CMQHt7bmFtZX1944CN55qE5b6u5Y2aJywgJ2VuJzogJ1dlaWJvIG1lbnRpb25lZCAiQHt7bmFtZX19IicgfSwKICAnbWVudGlvbkZpbHRlckNvbnRleHRNZW51R3JvdXAnOiB7ICd6aC1jbic6ICfmj5DliLDkuoYnLCAnemgtaGsnOiAn5o+Q5Yiw5LqGJywgJ3poLXR3JzogJ+aPkOWIsOS6hicsICdlbic6ICdtZW50aW9uZWQnIH0sCiAgJ21lbnRpb25GaWx0ZXJDb250ZXh0TWVudSc6IHsgJ3poLWNuJzogJ0B7e25hbWV9fScsICd6aC1oayc6ICdAe3tuYW1lfX0nLCAnemgtdHcnOiAnQHt7bmFtZX19JywgJ2VuJzogJ0B7e25hbWV9fScgfSwKICAnbWVudGlvbkZpbHRlclJlYXNvbic6IHsgJ3poLWNuJzogJ+WboOaPkOWIsCBAe3tkZXRhaWx9fSAnLCAnemgtaGsnOiAn5Zug5o+Q5YiwIEB7e2RldGFpbH19ICcsICd6aC10dyc6ICflm6Dmj5DliLAgQHt7ZGV0YWlsfX0gJywgJ2VuJzogJ2JlY2F1c2UgaXQgbWVudGlvbmVkIEB7e2RldGFpbH19ICcgfSwKICAvLyDor53popgKICAndG9waWNGaWx0ZXJHcm91cFRpdGxlJzogeyAnemgtY24nOiAn6K+d6aKYJywgJ3poLWhrJzogJ+ipsemhjCcsICd6aC10dyc6ICfoqbHpoYwnLCAnZW4nOiAnVG9waWMnIH0sCiAgJ3RvcGljRmlsdGVyRGVzYyc6IHsgJ3poLWNuJzogJ+ivnemimCcsICd6aC1oayc6ICfoqbHpoYwnLCAnemgtdHcnOiAn6Kmx6aGMJywgJ2VuJzogJ1RvcGljJyB9LAogICd0b3BpY0ZpbHRlckRldGFpbHMnOiB7ICd6aC1jbic6ICfljIXlkKvku6XkuIvor53popjnmoTlvq7ljZonLCAnemgtaGsnOiAn5YyF5ZCr5Lul5LiL6Kmx6aGM55qE5b6u5Y2aJywgJ3poLXR3JzogJ+WMheWQq+S7peS4i+ipsemhjOeahOW+ruWNmicsICdlbic6ICdXZWlibyB3aXRoIHRoZXNlIHRvcGljcycgfSwKICAndG9waWNGaWx0ZXJEZXRhaWxzRGVzYyc6IHsKICAgICd6aC1jbic6ICfljLnphY3mj5DliLDkuobmn5DkuKror53popjnmoTlvq7ljZrvvIzljIXmi6zljp/mloflkozovazlj5HnmoTor4TorrrjgILor53popjkvb/nlKjlhajlrZfljLnphY3jgIInCiAgfSwKICAndG9waWNGaWx0ZXJGYXN0JzogeyAnemgtY24nOiAn5b6u5Y2a5YyF5ZCr6K+d6aKYJywgJ3poLWhrJzogJ+W+ruWNmuWMheWQq+ipsemhjCcsICd6aC10dyc6ICflvq7ljZrljIXlkKvoqbHpoYwnLCAnZW4nOiAnV2VpYm8gY29udGFpbnMgdG9waWMgJyB9LAogICd0b3BpY0ZpbHRlckNvbnRleHRNZW51R3JvdXAnOiB7ICd6aC1jbic6ICfljIXlkKvor53popgnLCAnemgtaGsnOiAn5YyF5ZCr6Kmx6aGMJywgJ3poLXR3JzogJ+WMheWQq+ipsemhjCcsICdlbic6ICdjb250YWlucyB0b3BpYycgfSwKICAndG9waWNGaWx0ZXJDb250ZXh0TWVudSc6IHsgJ3poLWNuJzogJyN7e3RvcGljfX0jJywgJ3poLWhrJzogJyN7e3RvcGljfX0jJywgJ3poLXR3JzogJyN7e3RvcGljfX0jJywgJ2VuJzogJyN7e3RvcGljfX0jJyB9LAogICd0b3BpY0ZpbHRlckZhc3RJbnB1dCc6IHsgJ3poLWNuJzogJ+KAnCN7e3RvcGljfX0j4oCdJywgJ3poLWhrJzogJ+OAjCN7e3RvcGljfX0j44CNJywgJ3poLXR3JzogJ+OAjCN7e3RvcGljfX0j44CNJywgJ2VuJzogJyIje3t0b3BpY319IyInIH0sCiAgJ3RvcGljRmlsdGVyUmVhc29uJzogeyAnemgtY24nOiAn5Zug5YyF5ZCr6K+d6aKYICN7e2RldGFpbH19IyAnLCAnemgtaGsnOiAn5Zug5YyF5ZCr6Kmx6aGMICN7e2RldGFpbH19IyAnLCAnemgtdHcnOiAn5Zug5YyF5ZCr6Kmx6aGMICN7e2RldGFpbH19IyAnLCAnZW4nOiAnYmVjYXVzZSBpdCBjb250YWluZWQgdG9waWMgI3t7ZGV0YWlsfX0jICcgfSwKICAncnRvcGljRmlsdGVyRGVzYyc6IHsgJ3poLWNuJzogJ+ato+WImeW8jycsICd6aC1oayc6ICfmraPliYflvI8nLCAnemgtdHcnOiAn5q2j6KaP5byPJywgJ2VuJzogJ1JlZ2V4cCcgfSwKICAncnRvcGljRmlsdGVyRGV0YWlscyc6IHsgJ3poLWNuJzogJ+WMheWQq+WMuemFjeS7peS4i+ato+WImeihqOi+vuW8j+eahOivnemimOeahOW+ruWNmicsICd6aC1oayc6ICfljIXlkKvljLnphY3ku6XkuIvmraPliYfooajpgZTlvI/nmoToqbHpoYznmoTlvq7ljZonLCAnemgtdHcnOiAn5YyF5ZCr5Yy56YWN5Lul5LiL5q2j6KaP6KGo56S65byP55qE6K+d6aKY55qE5b6u5Y2aJywgJ2VuJzogJ1dlaWJvIHdpdGggdG9waWMgbWF0Y2hlcyB0aGVzZSByZWd1bGFyIGV4cHJlc3Npb25zJyB9LAogICdydG9waWNGaWx0ZXJEZXRhaWxzRGVzYyc6IHsKICAgICd6aC1jbic6ICfkvb/nlKjmraPliJnlvI/ljLnphY3lvq7ljZrkuK3nmoTor53popjvvIzmraPliJnljLnphY3ml7bkuI3pnIDopoHljLnphY3kuKTkvqfnmoTigJwj4oCd44CCe3tyZWdleHBGaWx0ZXJEZXRhaWxzRGVzY319JwogIH0sCiAgJ3J0b3BpY0ZpbHRlckZhc3QnOiB7ICd6aC1jbic6ICflvq7ljZrljIXlkKvor53popjljLnphY0nLCAnemgtaGsnOiAn5b6u5Y2a5YyF5ZCr6Kmx6aGM5Yy56YWNJywgJ3poLXR3JzogJ+W+ruWNmuWMheWQq+ipsemhjOWMuemFjScsICdlbic6ICdXZWlibyBjb250YWlucyB0b3BpYyBtYXRjaGVzICcgfSwKICAncnRvcGljRmlsdGVyRmFzdElucHV0JzogeyAnemgtY24nOiAn4oCcI3t7dG9waWN9fSPigJ0nLCAnemgtaGsnOiAn44CMI3t7dG9waWN9fSPjgI0nLCAnemgtdHcnOiAn44CMI3t7dG9waWN9fSPjgI0nLCAnZW4nOiAnIiN7e3RvcGljfX0jIicgfSwKICAncnRvcGljRmlsdGVyUmVhc29uJzogeyAnemgtY24nOiAn5Zug5YyF5ZCr6K+d6aKY5Yy56YWNIHt7ZGV0YWlsfX0gJywgJ3poLWhrJzogJ+WboOWMheWQq+ipsemhjOWMuemFjSB7e2RldGFpbH19ICcsICd6aC10dyc6ICflm6DljIXlkKvoqbHpoYzljLnphY0ge3tkZXRhaWx9fSAnLCAnZW4nOiAnYmVjYXVzZSBpdCBjb250YWluZWQgdG9waWMgbWF0Y2gge3tkZXRhaWx9fSAnIH0sCiAgLy8g5p2l5rqQCiAgJ3NvdXJjZUZpbHRlckdyb3VwVGl0bGUnOiB7ICd6aC1jbic6ICfmnaXmupAnLCAnemgtaGsnOiAn5L6G5rqQJywgJ3poLXR3JzogJ+S+hua6kCcsICdlbic6ICdTb3VyY2UnIH0sCiAgJ3NvdXJjZUZpbHRlckRlc2MnOiB7ICd6aC1jbic6ICfmnaXoh6onLCAnemgtaGsnOiAn5L6G6IeqJywgJ3poLXR3JzogJ+S+huiHqicsICdlbic6ICdDb21lIGZyb20nIH0sCiAgJ3NvdXJjZUZpbHRlckRldGFpbHMnOiB7ICd6aC1jbic6ICfku6XkuIvmnaXmupDnmoTlvq7ljZonLCAnemgtaGsnOiAn5Lul5LiL5L6G5rqQ55qE5b6u5Y2aJywgJ3poLXR3JzogJ+S7peS4i+S+hua6kOeahOW+ruWNmicsICdlbic6ICdXZWlibyBjb21lcyBmcm9tIHRoZXNlIHNvdXJjZXMnIH0sCiAgJ3NvdXJjZUZpbHRlckRldGFpbHNEZXNjJzogewogICAgJ3poLWNuJzogJ+WMuemFjeW+ruWNmuS4i+aWueKAnOadpeiHqsOXw5fDl+KAneeahOadpea6kO+8jOS4jeWMheaLrOKAnOiHquWumuS5ieW+ruWNmuadpea6kOKAneS4reeahOaWh+acrOOAguadpea6kOS9v+eUqOWFqOWtl+WMuemFjeOAgicKICB9LAogICdzb3VyY2VGaWx0ZXJGYXN0JzogeyAnemgtY24nOiAn5p2l6Ieq4oCce3tzb3VyY2V9feKAneeahOW+ruWNmicsICd6aC1oayc6ICfkvoboh6rjgIx7e3NvdXJjZX1944CN55qE5b6u5Y2aJywgJ3poLXR3JzogJ+S+huiHquOAjHt7c291cmNlfX3jgI3nmoTlvq7ljZonLCAnZW4nOiAnV2VpYm8gY29tZXMgZnJvbSAie3tzb3VyY2V9fSInIH0sCiAgJ3NvdXJjZUZpbHRlckNvbnRleHRNZW51R3JvdXAnOiB7ICd6aC1jbic6ICfmnaXoh6onLCAnemgtaGsnOiAn5L6G6IeqJywgJ3poLXR3JzogJ+S+huiHqicsICdlbic6ICdDb21lIGZyb20nIH0sCiAgJ3NvdXJjZUZpbHRlckNvbnRleHRNZW51JzogeyAnemgtY24nOiAne3tzb3VyY2V9fScsICd6aC1oayc6ICd7e3NvdXJjZX19JywgJ3poLXR3JzogJ3t7c291cmNlfX0nLCAnZW4nOiAne3tzb3VyY2V9fScgfSwKICAnc291cmNlRmlsdGVyV2FybmluZ1RpdGxlJzogeyAnemgtY24nOiAn6buY6K6k5p2l5rqQJywgJ3poLWhrJzogJ+mgkOioreS+hua6kCcsICd6aC10dyc6ICfpoJDoqK3kvobmupAnLCAnZW4nOiAnRGVmYXVsdCBTb3VyY2UnIH0sCiAgJ3NvdXJjZUZpbHRlcldhcm5pbmcnOiB7ICd6aC1jbic6ICfkuI3og73mt7vliqDpu5jorqTmnaXmupAnLCAnemgtaGsnOiAn5LiN6IO95paw5aKe6aCQ6Kit5L6G5rqQJywgJ3poLXR3JzogJ+S4jeiDveaWsOWinumgkOioreS+hua6kCcsICdlbic6ICdZb3UgY2Fubm90IGFkZCBkZWZhdWx0IHNvdXJjZScgfSwKICAnc291cmNlRmlsdGVyUmVhc29uJzogeyAnemgtY24nOiAn5Zug5p2l6Ieq4oCce3tkZXRhaWx9feKAnScsICd6aC1oayc6ICflm6Dkvoboh6rjgIx7e2RldGFpbH1944CNJywgJ3poLXR3JzogJ+WboOS+huiHquOAjHt7ZGV0YWlsfX3jgI0nLCAnZW4nOiAnYmVjYXVzZSBpdCBjb21lcyBmcm9tICJ7e2RldGFpbH19IiAnIH0sCiAgJ3NvdXJjZVVua293bic6IHsgJ3poLWNuJzogJ+acqumAmui/h+WuoeaguOW6lOeUqCcsICd6aC1oayc6ICfmnKrpgJrov4flrqHmoLjlupTnlKgnLCAnemgtdHcnOiAn5pyq6YCa6L+H5a6h5qC45bqU55SoJywgJ2VuJzogJ+acqumAmui/h+WuoeaguOW6lOeUqCcgfSwKICAnZGVmYXVsdFNvdXJjZSc6IHsgJ3poLWNuJzogJ+W+ruWNmiB3ZWliby5jb20nLCAnemgtaGsnOiAn5b6u5Y2aIHdlaWJvLmNvbScsICd6aC10dyc6ICflvq7ljZogd2VpYm8uY29tJywgJ2VuJzogJ+W+ruWNmiB3ZWliby5jb20nIH0sCiAgLy8g6LaF6ZO+5o6lCiAgJ2h5cGVybGlua0ZpbHRlckdyb3VwVGl0bGUnOiB7ICd6aC1jbic6ICfpk77mjqUnLCAnemgtaGsnOiAn6YCj57WQJywgJ3poLXR3JzogJ+mAo+e1kCcsICdlbic6ICdMaW5rJyB9LAogICdoeXBlcmxpbmtGaWx0ZXJEZXNjJzogeyAnemgtY24nOiAn6LaF6ZO+5o6lJywgJ3poLWhrJzogJ+i2hemAo+e1kCcsICd6aC10dyc6ICfotoXpgKPntZAnLCAnZW4nOiAnSHlwZXJsaW5rJyB9LAogICdoeXBlcmxpbmtGaWx0ZXJEZXRhaWxzJzogeyAnemgtY24nOiAn5YyF5ZCr5Lul5LiL6LaF6ZO+5o6l55qE5b6u5Y2aJywgJ3poLWhrJzogJ+WMheWQq+S7peS4i+i2hemAo+e1kOeahOW+ruWNmicsICd6aC10dyc6ICfljIXlkKvku6XkuIvotoXpgKPntZDnmoTlvq7ljZonLCAnZW4nOiAnV2VpYm8gd2l0aCB0aGVzZSBoeXBlcmxpbmtzJyB9LAogICdoeXBlcmxpbmtGaWx0ZXJEZXRhaWxzRGVzYyc6IHsKICAgICd6aC1jbic6ICfljLnphY3lvq7ljZrnmoTnn63pk77mjqXvvIzlrZDkuLLljLnphY3jgIInCiAgfSwKICAnaHlwZXJsaW5rRmlsdGVyRmFzdCc6IHsgJ3poLWNuJzogJ+WMheWQq+mTvuaOpeWIsOKAnHt7dXJsfX3igJ3lnLDlnYDpk77mjqXnmoTlvq7ljZonLCAnemgtaGsnOiAn5YyF5ZCr6Y+I5o6l5Yiw44CMe3t1cmx9feOAjeS9jeWdgOmAo+e1kOeahOW+ruWNmicsICd6aC10dyc6ICfljIXlkKvpj4jmjqXliLDjgIx7e3VybH1944CN5L2N5Z2A6YCj57WQ55qE5b6u5Y2aJywgJ2VuJzogJ1dlaWJvIGNvbnRhaW5zIGh5cGVybGluayB0byAie3t1cmx9fSInIH0sCiAgJ2h5cGVybGlua0ZpbHRlckNvbnRleHRNZW51R3JvdXAnOiB7ICd6aC1jbic6ICfpk77mjqXliLAnLCAnemgtaGsnOiAn6Y+I5o6l5YiwJywgJ3poLXR3JzogJ+mPiOaOpeWIsCcsICdlbic6ICdoeXBlcmxpbmsgdG8nIH0sCiAgJ2h5cGVybGlua0ZpbHRlckNvbnRleHRNZW51JzogeyAnemgtY24nOiAne3t1cmx9fScsICd6aC1oayc6ICd7e3VybH19JywgJ3poLXR3JzogJ3t7dXJsfX0nLCAnZW4nOiAne3t1cmx9fScgfSwKICAnaHlwZXJsaW5rRmlsdGVyUmVhc29uJzogeyAnemgtY24nOiAn5Zug6ZO+5o6l5Yiw4oCce3tkZXRhaWx9feKAnScsICd6aC1oayc6ICflm6DpgKPntZDliLDjgIx7e2RldGFpbH1944CNJywgJ3poLXR3JzogJ+WboOmAo+e1kOWIsOOAjHt7ZGV0YWlsfX3jgI0nLCAnZW4nOiAnYmVjYXVzZSBpdCBjb250YWlucyBoeXBlcmxpbmsgdG8gInt7ZGV0YWlsfX0iICcgfSwKICAvLyDpk77mjqXmoIfpopgKICAnbGlua3RpdGxlRmlsdGVyRGVzYyc6IHsgJ3poLWNuJzogJ+agh+mimCcsICd6aC1oayc6ICfmqJnpoYwnLCAnemgtdHcnOiAn5qiZ6aGMJywgJ2VuJzogJ1RpdGxlJyB9LAogICdsaW5rdGl0bGVGaWx0ZXJEZXRhaWxzJzogeyAnemgtY24nOiAn6ZO+5o6l5qCH6aKY5Yy56YWN5Lul5LiL5YWz6ZSu6K+N55qE5b6u5Y2aJywgJ3poLWhrJzogJ+mAo+e1kOaomemhjOWMuemFjeS7peS4i+mXnOmNteWtl+eahOW+ruWNmicsICd6aC10dyc6ICfpgKPntZDmqJnpoYzljLnphY3ku6XkuIvpl5zpjbXlrZfnmoTlvq7ljZonLCAnZW4nOiAnV2VpYm8gd2l0aCB0aXRsZSBvZiBoeXBlcmxpbmsgY29udGFpbnMga2V5d29yZCcgfSwKICAnbGlua3RpdGxlRmlsdGVyRGV0YWlsc0Rlc2MnOiB7CiAgICAnemgtY24nOiAn5Yy56YWN5b6u5Y2a5Lit5Ye6546w55qE5ZCE56eN6ZO+5o6l77yM5YyF5ous572R6aG16ZO+5o6l77yM5Lmf5YyF5ous6KeG6aKR44CB5paH56ug562J562J44CC5Yy56YWN6ZO+5o6l55qE5qCH6aKY44CCJwogIH0sCiAgJ2xpbmt0aXRsZUZpbHRlckZhc3QnOiB7ICd6aC1jbic6ICflvq7ljZrpk77mjqXmoIfpopgnLCAnemgtaGsnOiAn5b6u5Y2a6YCj57WQ5qiZ6aGMJywgJ3poLXR3JzogJ+W+ruWNmumAo+e1kOaomemhjCcsICdlbic6ICdXZWlibyBoeXBlcmxpbmsgd2l0aCB0aXRsZScgfSwKICAnbGlua3RpdGxlRmlsdGVyRmFzdElucHV0JzogeyAnemgtY24nOiAn4oCce3t0aXRsZX194oCdJywgJ3poLWhrJzogJ+OAjHt7dGl0bGV9feOAjScsICd6aC10dyc6ICfjgIx7e3RpdGxlfX3jgI0nLCAnZW4nOiAnInt7dGl0bGV9fSInIH0sCiAgJ2xpbmt0aXRsZUZpbHRlckNvbnRleHRNZW51R3JvdXAnOiB7ICd6aC1jbic6ICfpk77mjqXmoIfpopgnLCAnemgtaGsnOiAn6YCj57WQ5qiZ6aGMJywgJ3poLXR3JzogJ+mAo+e1kOaomemhjCcsICdlbic6ICdsaW5rIHRpdGxlJyB9LAogICdsaW5rdGl0bGVGaWx0ZXJDb250ZXh0TWVudSc6IHsgJ3poLWNuJzogJ3t7dGl0bGV9fScsICd6aC1oayc6ICd7e3RpdGxlfX0nLCAnemgtdHcnOiAne3t0aXRsZX19JywgJ2VuJzogJ3t7dGl0bGV9fScgfSwKICAnbGlua3RpdGxlRmlsdGVyUmVhc29uJzogeyAnemgtY24nOiAn5Zug5ZCr5pyJ4oCce3tkZXRhaWx9feKAnemTvuaOpScsICd6aC1oayc6ICflm6DlkKvmnInjgIx7e2RldGFpbH1944CN6YCj57WQJywgJ3poLXR3JzogJ+WboOWQq+acieOAjHt7ZGV0YWlsfX3jgI3pgKPntZAnLCAnZW4nOiAnYmVjYXVzZSBpdHMgaHlwZXJsaW5rIHdpdGggdGl0bGUgInt7ZGV0YWlsfX0iICcgfSwKICAvLyDmm7TlpJoKICAnb3RoZXJGaWx0ZXJHcm91cFRpdGxlJzogeyAnemgtY24nOiAn5pu05aSaJywgJ3poLWhrJzogJ+WFtuS7licsICd6aC10dyc6ICflhbbku5YnLCAnZW4nOiAnTW9yZScgfSwKICAvLyDmmL7npLoKICAnb3RoZXJXaGl0ZWxpc3RUaXRsZSc6IHsgJ3poLWNuJzogJ+aYvuekuuS7peS4i+WGheWuue+8iOS4jeiuoeWFpeeZveWQjeWNle+8iScsICd6aC1oayc6ICfpoa/npLrku6XkuIvlhaflrrnvvIjkuI3oqIjlhaXnmb3lkI3llq7vvIknLCAnemgtdHcnOiAn6aGv56S65Lul5LiL5YWn5a6577yI5LiN6KiI5YWl55m95ZCN5Zau77yJJywgJ2VuJzogJ1Nob3cgZm9sbG93aW5nIGNvbnRlbnQgKG5vdCByZWdhcmQgYXMgd2hpdGVsaXN0KScgfSwKICAnc2hvd015V2VpYm9EZXNjJzogeyAnemgtY24nOiAn6Ieq5bex55qE5b6u5Y2aJywgJ3poLWhrJzogJ+iHquW3seeahOW+ruWNmicsICd6aC10dyc6ICfoh6rlt7HnmoTlvq7ljZonLCAnZW4nOiAnV2VpYm8gYnkgbXlzZWxmJyB9LAogICdzaG93TXlPcmlnaW5hbERlc2MnOiB7ICd6aC1jbic6ICfoh6rlt7Hlvq7ljZrnmoTovazlj5EnLCAnemgtaGsnOiAn6Ieq5bex5b6u5Y2a55qE6L2J55m8JywgJ3poLXR3JzogJ+iHquW3seW+ruWNmueahOi9ieeZvCcsICdlbic6ICdGb3J3YXJkIG9mIG15IFdlaWJvJyB9LAogICdzaG93TWVudGlvbk1lRGVzYyc6IHsgJ3poLWNuJzogJ+aPkOWIsOiHquW3seeahOW+ruWNmicsICd6aC1oayc6ICfmj5DliLDoh6rlt7HnmoTlvq7ljZonLCAnemgtdHcnOiAn5o+Q5Yiw6Ieq5bex55qE5b6u5Y2aJywgJ2VuJzogJ1dlaWJvIG1lbnRpb25lZCBteXNlbGYnIH0sCiAgLy8g6ZqQ6JePCiAgJ290aGVyQmxhY2tsaXN0VGl0bGVBZCc6IHsgJ3poLWNuJzogJ+makOiXj+S7peS4i+W+ruWNmiAtIOW5v+WRii/llYblk4EnLCAnemgtaGsnOiAn6Zqx6JeP5Lul5LiL5YWn5a65IC0g5buj5ZGKL+WVhuWTgScsICd6aC10dyc6ICfpmrHol4/ku6XkuIvlhaflrrkgLSDlu6PlkYov5ZWG5ZOBJywgJ2VuJzogJ0hpZGUgZm9sbG93aW5nIGNvbnRlbnQgLSBBZCAvIFByb21vdGlvbicgfSwKICAnYWRmZWVkRmlsdGVyJzogeyAnemgtY24nOiAn5o6o5bm/5b6u5Y2aL+eyieS4nemAmuW+ruWNmi/lk4HniYzpgJ/pgJIv5aW95Y+L6LWe6L+H55qE5b6u5Y2ae3s8aT59fScsICd6aC1oayc6ICfmjqjlu6Plvq7ljZov57KJ57Wy6YCa5b6u5Y2aL+WTgeeJjOmAn+mBni/lpb3lj4votIrpgY7nmoTlvq7ljZp7ezxpPn19JywgJ3poLXR3JzogJ+aOqOW7o+W+ruWNmi/nsonntbLpgJrlvq7ljZov5ZOB54mM6YCf6YGeL+WlveWPi+i0iumBjueahOW+ruWNmnt7PGk+fX0nLCAnZW4nOiAnQWQgV2VpYm8gLyBJbnN0ZXJlZCBub3QgZm9sbG93ZWQgV2VpYm8ge3s8aT59fScgfSwKICAnYWRmZWVkRmlsdGVyRGVzYyc6IHsKICAgICd6aC1jbic6ICfmjqjlub/lvq7ljZrkuIDoiKzlh7rnjrDlnKjpppbpobXlvq7ljZrliJfooajpnaDliY3nmoTkvY3nva7vvIzlubbmoIforrDigJzmjqjojZDigJ3lrZfmoLfjgILpgJrov4fku5jotLnlkozmlrDmtarnmoTlrqHmoLjvvIzlj6/ku6Xmjqjlub/mn5DmnaHlvq7ljZrjgILlvq7ljZrkvJrmoLnmja7mgqjnmoTllpzlpb3pmo/mnLrlsIbkuIDkupvooqvmjqjlub/nmoTlvq7ljZrmjqjojZDnu5nmgqjjgILlpb3lj4votZ7ov4fnmoTlvq7ljZrmt7flnKjpppbpobXkuK3pl7TvvIzlubbmoIforrDigJzmn5Dmn5DotZ7ov4figJ3jgILomb3nhLbov5nkupvlvq7ljZrlh7rnjrDlnKjmgqjnmoTlvq7ljZrliJfooajkuK3vvIzkvYblroPku6zlvoDlvoDkuI3mmK/mgqjlhbPms6jnmoTkurrlj5HnmoTlvq7ljZrjgIInLAogIH0sCiAgJ2ZhbnNUb3BGaWx0ZXInOiB7ICd6aC1jbic6ICfnsonkuJ3lpLTmnaF7ezxpPn19JywgJ3poLWhrJzogJ+eyieS4neWktOadoXt7PGk+fX0nLCAnemgtdHcnOiAn57KJ5Lid5aS05p2he3s8aT59fScvKiBhcyBpcyAqLywgJ2VuJzogJ0ZhbnMgdG9wIC8gSGVhZGxpbmUgV2VpYm97ezxpPn19JyB9LAogICdmYW5zVG9wRmlsdGVyRGVzYyc6IHsKICAgICd6aC1jbic6ICfnsonkuJ3lpLTmnaHkvJrmmL7npLrlnKjpppbpobXlvq7ljZrliJfooajnmoTpobbnq6/vvIzkuIDoiKzmoIforrDigJzng63pl6jigJ3nrYnlrZfmoLfjgILnsonkuJ3lpLTmnaHmmK/mlrDmtarlvq7ljZrlrpjmlrnnmoTkuIDpobnmjqjlub/kuqflk4HvvIzkvb/nlKjnsonkuJ3lpLTmnaHnmoTlvq7ljZrlj6/lnKggMjQg5bCP5pe25YaF5Ye6546w5Zyo5omA5pyJ5b6u5Y2a57KJ5Lid6aaW6aG155qE56ys5LiA5L2N44CC57KJ5Lid5aS05p2h5b6u5Y2a5oC75piv5p2l6Ieq5LqO5oKo5YWz5rOo55qE5Lq644CCJywKICB9LAogICdwcm9kdWN0Q2FyZFdlaWJvJzogeyAnemgtY24nOiAn5bim5pyJ5ZWG5ZOB5Y2h54mH55qE5b6u5Y2ae3s8aT59fScsICd6aC1oayc6ICfluLbmnInllYblk4HljaHniYfnmoTlvq7ljZp7ezxpPn19JywgJ3poLXR3JzogJ+W4tuacieWVhuWTgeWNoeeJh+eahOW+ruWNmnt7PGk+fX0nLCAnZW4nOiAnV2VpYm8gd2l0aCBwcm9kdWN0IHdlaWJvIGNhcmR7ezxpPn19JyB9LAogICdwcm9kdWN0Q2FyZFdlaWJvRGVzYyc6IHsKICAgICd6aC1jbic6ICfluKbmnInllYblk4HljaHniYfnmoTlvq7ljZrvvIzljaHniYfkuK3kuIDoiKzmnInkuIDkuKrigJzljrvotK3kubDigJ3mjInpkq7pk77mjqXliLDllYblk4HpobXpnaLvvIzlj6/lnKjlvq7ljZrlhoXotK3kubDlr7nlupTllYblk4HjgILmraTnsbvlvq7ljZrkuIDoiKzmmK/lr7nlupTllYblk4HnmoTlrqPkvKDvvIzli77pgInku6XpmpDol4/mraTnsbvlvq7ljZrjgIInLAogIH0sCiAgJ3Rhb2Jhb1RpYW5tYW9XZWlibyc6IHsgJ3poLWNuJzogJ+W4puaciea3mOWuneOAgeWkqeeMq+aIluiBmuWIkueul+WVhuWTgeeahOW+ruWNmnt7PGk+fX0nLCAnemgtaGsnOiAn5bi25pyJ5reY5a+244CB5aSp6LKT5oiW6IGa5YiS566X5ZWG5ZOB55qE5b6u5Y2ae3s8aT59fScsICd6aC10dyc6ICfluLbmnInmt5jlr7bjgIHlpKnospPmiJbogZrliJLnrpfllYblk4HnmoTlvq7ljZp7ezxpPn19JywgJ2VuJzogJ1dlaWJvIHdpdGggVGFvYmFvIC8gVG1hbGwgLyBKdWh1YXN1YW4gY29tbW9kaXR5e3s8aT59fScgfSwKICAndGFvYmFvVGlhbm1hb1dlaWJvRGVzYyc6IHsKICAgICd6aC1jbic6ICfluKbmnIk8c3BhbiBjbGFzcz0iV19idG5fYiBXX2J0bl9jYXJkbGluayBidG5fMjJweCI+PHNwYW4gY2xhc3M9Imljb19zcGUiPjxpIGNsYXNzPSJXX2ljb24gaWNvbl9jZF90YiI+PC9pPjwvc3Bhbj48c3BhbiBjbGFzcz0iV19hdXRvY3V0Ij7mt5jlrp3llYblk4E8L3NwYW4+PC9zcGFuPuOAgTxzcGFuIGNsYXNzPSJXX2J0bl9iIFdfYnRuX2NhcmRsaW5rIGJ0bl8yMnB4Ij48c3BhbiBjbGFzcz0iaWNvX3NwZSI+PGkgY2xhc3M9IldfaWNvbiBpY29uX2NkX3RtYWxsIj48L2k+PC9zcGFuPjxzcGFuIGNsYXNzPSJXX2F1dG9jdXQiPuWkqeeMq+WVhuWTgTwvc3Bhbj48L3NwYW4+5oiWPHNwYW4gY2xhc3M9IldfYnRuX2IgV19idG5fY2FyZGxpbmsgYnRuXzIycHgiPjxzcGFuIGNsYXNzPSJpY29fc3BlIj48aSBjbGFzcz0iV19pY29uIGljb25fY2RfanUiPjwvaT48L3NwYW4+PHNwYW4gY2xhc3M9IldfYXV0b2N1dCI+6IGa5YiS566X5ZWG5ZOBPC9zcGFuPjwvc3Bhbj7nmoTlvq7ljZonLAogIH0sCiAgJ3dlaWJvUGF5R2lmdCc6IHsgJ3poLWNuJzogJ+W4puacieW+ruWNmuaUr+S7mOenr+WIhuekvOWTgeWFkeaNouWNoeeJh+eahOW+ruWNmnt7PGk+fX0nLCAnemgtaGsnOiAn5bi25pyJ5b6u5Y2a5pSv5LuY56mN5YiG56au5ZOB5YWM5o+b5Y2h54mH55qE5b6u5Y2ae3s8aT59fScsICd6aC10dyc6ICfluLbmnInlvq7ljZrmlK/ku5jnqY3liIbnpq7lk4HlhYzmj5vljaHniYfnmoTlvq7ljZp7ezxpPn19JywgJ2VuJzogJ1dlaWJvIHdpdGggV2VpYm8gcGF5IHdpdGggcG9pbnRzIGdpZnQgZXhjaGFuZ2UgY2FyZHt7PGk+fX0nIH0sCiAgJ3dlaWJvUGF5R2lmdERlc2MnOiB7CiAgICAnemgtY24nOiAn5b6u5Y2a5pSv5LuY56ev5YiG5oyH6YCa6L+H5Zyo5b6u5Y2a5Lit5raI6LS577yI5aaC6LSt5Lmw5Lya5ZGY77yJ5Lqn55Sf55qE56ev5YiG77yM5bm26Z2e5b6u5Y2a562J57qn57uP6aqM5YC877yM5Y+v5Lul55So5LqO5YWR5o2i56S85ZOB77yI56S85ZOB5LiA6Iis5piv5LyY5oOg5Yi45oiW5oq95aWW77yJ44CC5Yu+6YCJ5pys6YCJ6aG55Lul6ZqQ6JeP5bim5pyJ5q2k57G75YWR5o2i5L+h5oGv55qE5Y2h54mH55qE5b6u5Y2a44CCJywKICB9LAogICdmYWtlV2VpYm9GaWx0ZXInOiB7ICd6aC1jbic6ICfmt7flhaXlvq7ljZrliJfooajnmoTmjqjojZDlhoXlrrnvvIjlpb3lj4vmjqjojZDjgIHng63pl6jor53popjvvIl7ezxpPn19JywgJ3poLWhrJzogJ+a3t+WFpeW+ruWNmuWIl+ihqOeahOaOqOiWpuWFp+Wuue+8iOWlveWPi+aOqOiWpuOAgeeGsemWgOipsemhjO+8iXt7PGk+fX0nLCAnemgtdHcnOiAn5re35YWl5b6u5Y2a5YiX6KGo55qE5o6o6Jam5YWn5a6577yI5aW95Y+L5o6o6Jam44CB54ax6ZaA6Kmx6aGM77yJe3s8aT59fScsICdlbic6ICdPdGhlciBjb250ZW50cyBpbiBXZWlibyBsaXN0e3s8aT59fScgfSwKICAnZmFrZVdlaWJvRmlsdGVyRGVzYyc6IHsKICAgICd6aC1jbic6ICfmiYDmnInlnKjlvq7ljZrkuI7lvq7ljZrkuYvpl7Tmt7flhaXnmoTlhbbku5blhoXlrrnvvIzov5nkupvlhoXlrrnlvoDlvoDkuI3mmK/lvq7ljZrmtojmga/vvIzmr5TlpoLigJzlpb3lj4vmjqjojZDigJ3igJzng63pl6jor53popjigJ3nrYnjgIInLAogIH0sCiAgJ290aGVyQmxhY2tsaXN0VGl0bGVDb250ZW50JzogeyAnemgtY24nOiAn6ZqQ6JeP5Lul5LiL5b6u5Y2aIC0g54m55a6a5YaF5a65JywgJ3poLWhrJzogJ+maseiXj+S7peS4i+WFp+WuuSAtIOeJueWumuWFp+WuuScsICd6aC10dyc6ICfpmrHol4/ku6XkuIvlhaflrrkgLSDnibnlrprlhaflrrknLCAnZW4nOiAnSGlkZSBmb2xsb3dpbmcgY29udGVudCAtIENvbnRlbnQgJyB9LAogICdkZWxldGVkRm9yd2FyZEZpbHRlcic6IHsgJ3poLWNuJzogJ+W3suWIoOmZpOW+ruWNmueahOi9rOWPkXt7PGk+fX0nLCAnemgtaGsnOiAn5bey5Yiq6Zmk5b6u5Y2a55qE6L2J55m8e3s8aT59fScsICd6aC10dyc6ICflt7LliKrpmaTlvq7ljZrnmoTovYnnmbx7ezxpPn19JywgJ2VuJzogJ0ZvcndhcmQgb2YgZGVsZXRlZCBXZWlib3t7PGk+fX0nIH0sCiAgJ2RlbGV0ZWRGb3J3YXJkRmlsdGVyRGVzYyc6IHsKICAgICd6aC1jbic6ICfljIXmi6zlm6DkuLrliKDpmaTmiJblr7nlvq7ljZrorr7nva7kuobpmpDnp4HmnYPpmZDogIzkvb/mgqjml6Dms5XnnIvliLDljp/mlofnmoTlvq7ljZrjgILov5nkupvlvq7ljZrmgqjlj6rog73nnIvop4Hovazlj5HogIXnmoTor4TorrrvvIzkvYbmmK/ml6Dms5XnnIvliLDljp/lvq7ljZrnmoTlhoXlrrnjgIInLAogIH0sCiAgJ2NvbW1lbnRBbmRGb3J3YXJkRmlsdGVyJzogeyAnemgtY24nOiAn5Zue5aSN5bm26L2s5Y+R55qE5b6u5Y2ae3s8aT59fScsICd6aC1oayc6ICflm57opobkuKbovYnnmbznmoTlvq7ljZp7ezxpPn19JywgJ3poLXR3JzogJ+WbnuimhuS4pui9ieeZvOeahOW+ruWNmnt7PGk+fX0nLCAnZW4nOiAnV2VpYm8gZm9yd2FyZGVkIGFzIHJlcGx5e3s8aT59fScgfSwKICAnY29tbWVudEFuZEZvcndhcmRGaWx0ZXJEZXNjJzogewogICAgJ3poLWNuJzogJ+WcqOWbnuWkjeS7luS6uuW+ruWNmuaXtumAieaLqeKAnOWQjOaXtui9rOWPkeWIsOaIkeeahOW+ruWNmuKAneS8muWwhuWbnuWkjeWSjOiiq+WbnuWkjeeahOWGheWuuei9rOWPkeS4uuS4gOadoeW+ruWNmu+8jOWLvumAieWQjuS8mumakOiXj+WbnuWkjeaXtui9rOWPkeeahOW+ruWNmuOAgicsCiAgfSwKICAndm90ZVdlaWJvRmlsdGVyJzogeyAnemgtY24nOiAn5oqV56Wo5b6u5Y2ae3s8aT59fScsICd6aC1oayc6ICfmipXnpajlvq7ljZp7ezxpPn19JywgJ3poLXR3JzogJ+aKleelqOW+ruWNmnt7PGk+fX0nLCAnZW4nOiAnVm90aW5nIHdlaWJve3s8aT59fScgfSwKICAndm90ZVdlaWJvRmlsdGVyRGVzYyc6IHsKICAgICd6aC1jbic6ICfljIXmi6zlnKjlj5HluIPlvq7ljZrml7bpgInmi6nmipXnpajnmoTlvq7ljZrvvIzkuZ/ljIXmi6zlnKjmipXnpajml7boh6rliqjlj5Hlh7rnmoTlvq7ljZrjgIInLAogIH0sCiAgJ3JlZFBhY2tXZWlibyc6IHsgJ3poLWNuJzogJ+aKoue6ouWMheW+ruWNmnt7PGk+fX0nLCAnemgtaGsnOiAn5pC257SF5YyF5b6u5Y2aJywgJ3poLXR3JzogJ+aQtue0heWMheW+ruWNmicsICdlbic6ICdXZWlibyB3aXRoIFJlZCBFbnZlbG9wZXMgUnVzaCcgfSwKICAncmVkUGFja1dlaWJvRGVzYyc6IHsKICAgICd6aC1jbic6ICfmiqLnuqLljIXmtLvliqjoh6rliqjlj5HluIPnmoTlvq7ljZonCiAgfSwKICAnYXBwSXRlbVdlaWJvJzogeyAnemgtY24nOiAn5LuL57uN5b6u5Y2a5bqU55So55qE5b6u5Y2ae3s8aT59fScsICd6aC1oayc6ICfku4vntLnlvq7ljZrmh4nnlKjnmoTlvq7ljZp7ezxpPn19JywgJ3poLXR3JzogJ+S7i+e0ueW+ruWNmuaHieeUqOeahOW+ruWNmnt7PGk+fX0nLCAnZW4nOiAnV2VpYm8gd2l0aCBhcHAgaXRlbSB7ezxpPn19JyB9LAogICdhcHBJdGVtV2VpYm9EZXNjJzogewogICAgJ3poLWNuJzogJ+S7i+e7jeW+ruWNmuW6lOeUqOeahOW+ruWNmu+8jOWMheaLrOWQq+acieW+ruWNmuW6lOeUqOeahOmTvuaOpeaIluWQq+acieW+ruWNmuW6lOeUqOeahOWNoeeJh+eahOaDheWGteOAguW+ruWNmuW6lOeUqOeahOmTvuaOpeS8muS7peW6lOeUqOWbvuagh+agh+iusOOAguWLvumAieatpOmhueS7pemakOiXj+atpOexu+W+ruWNmuOAgicsCiAgfSwKICAnd2VuZGFXZWlibyc6IHsgJ3poLWNuJzogJ+W+ruWNmumXruetlOebuOWFs+eahOaPkOmXruOAgeWbnuetlOaIluWbtOingnt7PGk+fX0nLCAnemgtaGsnOiAn5b6u5Y2a5ZWP562U55u46Zec55qE5o+Q5ZWP44CB5Zue562U5oiW5ZyN6KeAe3s8aT59fScsICd6aC10dyc6ICflvq7ljZrllY/nrZTnm7jpl5znmoTmj5DllY/jgIHlm57nrZTmiJblnI3op4B7ezxpPn19JywgJ2VuJzogJ1dlaWJvIGFza2luZywgYW5zd2VyaW5nLCBvciB2aWV3aW5nIFdlaWJvIFEgYW5kIEEge3s8aT59fScgfSwKICAnd2VuZGFXZWlib0Rlc2MnOiB7CiAgICAnemgtY24nOiAn5b6u5Y2a6Zeu562U5Yqf6IO955qE5o+Q6Zeu44CB5Zue562U5oiW5Zu06KeC6YO95Lya5Y+R5biD5LiA5p2h5paw5b6u5Y2a77yM5aaC5p6c5oKo5LiN5biM5pyb55yL5Yiw55u45YWz5b6u5Y2a77yM5oKo5Y+v5Lul5Yu+6YCJ5q2k6YCJ6aG55Lul6ZqQ6JeP55u45YWz5b6u5Y2a44CCJwogIH0sCiAgJ3dlbndvRHJXZWlibyc6IHsgJ3poLWNuJzogJ+WQq+acieeIsemXruWMu+eUn+WBpeW6t+enkeaZruaWh+eroOeahOW+ruWNmnt7PGk+fX0nLCAnemgtaGsnOiAn5ZCr5pyJ5oSb5ZWP6Yar55Sf5YGl5bq356eR5pmu5paH56ug55qE5b6u5Y2ae3s8aT59fScsICd6aC10dyc6ICflkKvmnInmhJvllY/phqvnlJ/lgaXlurfnp5Hmma7mlofnq6DnmoTlvq7ljZp7ezxpPn19JywgJ2VuJzogJ1dlaWJvIHdpdGgg54ix6Zeu5Yy755SfIChpYXNrIG1lZGljYWwpIGFydGljYWwge3s8aT59fScgfSwKICAnd2Vud29EcldlaWJvRGVzYyc6IHsKICAgICd6aC1jbic6ICfniLHpl67ljLvnlJ/lgaXlurfnp5Hmma7mlofnq6DmmK/kuIDkupvmnaXoh6ogd2Vud28uY29tIOeahOWBpeW6t+OAgeWMu+eWl+ebuOWFs+aWh+eroOOAguaJk+W8gOeIsemXruWMu+eUn+WBpeW6t+enkeaZruaWh+eroOeahOe9keermeaXtu+8jOaCqOWPr+iDveS8muiHquWKqOWFs+azqOaWh+eroOS9nOiAheaIluebuOW6lOW4kOWPt+OAguW8gOWQr+S7pemakOiXj+WMheWQq+atpOexu+aWh+eroOeahOW+ruWNmuOAgicsCiAgfSwKICAneWl6aGlib1dlaWJvJzogeyAnemgtY24nOiAn5ZCr5pyJ4oCc5LiA55u05pKt4oCd6KeG6aKR55u05pKt55qE5b6u5Y2afHt7PHR5cGU+fX0nLCAnemgtaGsnOiAn5ZCr5pyJ44CM5LiA55u05pKt44CN55u05pKt6KaW6aC755qE5b6u5Y2afHt7PHR5cGU+fX0nLCAnemgtdHcnOiAn5ZCr5pyJ44CM5LiA55u05pKt44CN55u05pKt6KaW6aC755qE5b6u5Y2afHt7PHR5cGU+fX0nLCAnZW4nOiAnV2VpYm8gd2l0aCBsaXZlIHZpZGVvIG9uIHlpemhpYm8gfCB7ezx0eXBlPn19JyB9LAogICd5aXpoaWJvV2VpYm9BbGwnOiB7ICd6aC1jbic6ICfpmpDol4/mraPlnKjnm7Tmkq3miJblt7Lnu5PmnZ/lm57mlL4nLCAnemgtaGsnOiAn6Zqx6JeP5q2j5Zyo55u05pKt5oiW5bey57WQ5p2f5Zue5pS+JywgJ3poLXR3JzogJ+maseiXj+ato+WcqOebtOaSreaIluW3sue1kOadn+WbnuaUvicsICdlbic6ICdoaWRlIGxpdmUgYW5kIHJlcGxheScgfSwKICAneWl6aGlib1dlaWJvUmVwbGF5JzogeyAnemgtY24nOiAn5LuF6ZqQ6JeP5bey57uT5p2f5Zue5pS+JywgJ3poLWhrJzogJ+WDhemaseiXj+W3sue1kOadn+WbnuaUvicsICd6aC10dyc6ICflg4XpmrHol4/lt7LntZDmnZ/lm57mlL4nLCAnZW4nOiAnaGlkZSByZXBsYXkgb25seScgfSwKICAnc3RvY2tXZWlibyc6IHsgJ3poLWNuJzogJ+WQq+acieiCoeelqOmTvuaOpeeahOW+ruWNmnt7PGk+fX0nLCAnemgtaGsnOiAn5ZCr5pyJ6IKh56Wo6YCj57WQ55qE5b6u5Y2ae3s8aT59fScsICd6aC10dyc6ICflkKvmnInogqHnpajpgKPntZDnmoTlvq7ljZp7ezxpPn19JywgJ2VuJzogJ1dlaWJvIHdpdGggc3RvY2sgbGluayB7ezxpPn19JyB9LAogICdzdG9ja1dlaWJvRGVzYyc6IHsKICAgICd6aC1jbic6ICfogqHnpajpk77mjqXlkozor53popjnm7jkvLzvvIzlnKjlj5HluIPmoYbovpPlhaXigJwk4oCd5Y2z5Y+v5re75Yqg6IKh56Wo6ZO+5o6l44CC5Yu+6YCJ5Lul6ZqQ6JeP5omA5pyJ5YyF5ZCr5q2k57G76ZO+5o6l55qE5b6u5Y2a44CCJywKICB9LAogICdvdGhlckJsYWNrbGlzdFRpdGxlU291cmNlJzogeyAnemgtY24nOiAn6ZqQ6JeP5Lul5LiL5b6u5Y2aIC0g54m55a6a5p2l5rqQJywgJ3poLWhrJzogJ+maseiXj+S7peS4i+WFp+WuuSAtIOeJueWumuS+hua6kCcsICd6aC10dyc6ICfpmrHol4/ku6XkuIvlhaflrrkgLSDnibnlrprkvobmupAnLCAnZW4nOiAnSGlkZSBmb2xsb3dpbmcgY29udGVudCAtIFNvdXJjZSAnIH0sCiAgJ2h1YXRpU291cmNlV2VpYm8nOiB7ICd6aC1jbic6ICfmnaXoh6rlvq7or53popjnmoTlvq7ljZp7ezxpPn19JywgJ3poLWhrJzogJ+S+huiHquW+ruipsemhjOeahOW+ruWNmnt7PGk+fX0nLCAnemgtdHcnOiAn5L6G6Ieq5b6u6Kmx6aGM55qE5b6u5Y2ae3s8aT59fScsICdlbic6ICdXZWlibyBjb21lcyBmcm9tIOW+ruivnemimCAobWljcm8gVG9waWMpe3s8aT59fScgfSwKICAnaHVhdGlTb3VyY2VXZWlib0Rlc2MnOiB7CiAgICAnemgtY24nOiAn5LiA5Lqb54Ot6Zeo6K+d6aKY6aG16Z2i5Y+R5biD5b6u5Y2a5pe25Lya5pi+56S65Lul4oCc5b6u6K+d6aKY4oCd5byA5aS055qE5p2l5rqQJywKICB9LAogICd3ZWlxdW5Tb3VyY2VXZWlibyc6IHsgJ3poLWNuJzogJ+adpeiHquaWsOa1quW+rue+pOeahOW+ruWNmnt7PGk+fX0nLCAnemgtaGsnOiAn5L6G6Ieq5paw5rWq5b6u576k55qE5b6u5Y2ae3s8aT59fScsICd6aC10dyc6ICfkvoboh6rmlrDmtarlvq7nvqTnmoTlvq7ljZp7ezxpPn19JywgJ2VuJzogJ1dlaWJvIGNvbWVzIGZyb20g5paw5rWq5b6u576kIChtaWNybyBHcm91cCkge3s8aT59fScgfSwKICAnd2VpcXVuU291cmNlV2VpYm9EZXNjJzogewogICAgJ3poLWNuJzogJ+S7juaWsOa1quW+rue+pOmhtemdouWPkeW4g+eahOW+ruWNmu+8jOadpea6kOS7peKAnOaWsOa1quW+rue+pCAt4oCd5byA5aS0JywKICB9LAogICdmYW5ndGFuU291cmNlV2VpYm8nOiB7ICd6aC1jbic6ICfmnaXoh6rlvq7orr/osIjnmoTlvq7ljZp7ezxpPn19JywgJ3poLWhrJzogJ+S+huiHquW+ruioquirh+eahOW+ruWNmnt7PGk+fX0nLCAnemgtdHcnOiAn5L6G6Ieq5b6u6Kiq6KuH55qE5b6u5Y2ae3s8aT59fScsICdlbic6ICdXZWlibyBjb21lcyBmcm9tIOW+ruiuv+iwiCAobWljcm8gVGFsayl7ezxpPn19JyB9LAogICdmYW5ndGFuU291cmNlV2VpYm9EZXNjJzogewogICAgJ3poLWNuJzogJ+S9v+eUqOW+ruiuv+iwiOWPkeW4g+eahOW+ruWNmu+8jOadpea6kOS7peKAnOW+ruiuv+iwiCAt4oCd5byA5aS0JywKICB9LAogICdnb25neWlTb3VyY2VXZWlibyc6IHsgJ3poLWNuJzogJ+adpeiHquW+ruWFrOebiueahOW+ruWNmnt7PGk+fX0nLCAnemgtaGsnOiAn5L6G6Ieq5b6u5YWs55uK55qE5b6u5Y2ae3s8aT59fScsICd6aC10dyc6ICfkvoboh6rlvq7lhaznm4rnmoTlvq7ljZp7ezxpPn19JywgJ2VuJzogJ1dlaWJvIGNvbWVzIGZyb20g5b6u5YWs55uKIChtaWNybyBXZWxmYXJlKXt7PGk+fX0nIH0sCiAgJ2dvbmd5aVNvdXJjZVdlaWJvRGVzYyc6IHsKICAgICd6aC1jbic6ICfkvb/nlKjlvq7lhaznm4rlj5HluIPnmoTlvq7ljZrvvIzmnaXmupDku6XigJzlvq7lhaznm4rigJ3lvIDlpLQnLAogIH0sCiAgJ3VuYXV0aGFwcFdlaWJvJzogeyAnemgtY24nOiAn5p2l6Ieq5pyq6YCa6L+H5a6h5qC45bqU55So55qE5b6u5Y2ae3s8aT59fScsICd6aC1oayc6ICfkvoboh6rmnKrpgJrov4flrqHmoLjlupTnlKjnmoTlvq7ljZp7ezxpPn19JywgJ3poLXR3JzogJ+S+huiHquacqumAmui/h+WuoeaguOW6lOeUqOeahOW+ruWNmnt7PGk+fX0nLCAnZW4nOiAnV2VpYm8gY29tZXMgZnJvbSDmnKrpgJrov4flrqHmoLjlupTnlKggKHVuYXV0aG9yaXplZCBhcHBsaWNhdGlvbil7ezxpPn19JyB9LAogICd1bmF1dGhhcHBXZWlib0Rlc2MnOiB7CiAgICAnemgtY24nOiAn5pyq6YCa6L+H5a6h5qC455qE5bqU55So5pyJ5Y+R5biD6aKR546H5ZKM5Y+v5pyA5aSa5Y+v5o6I5p2DMTXlkI3nlKjmiLfnmoTpmZDliLbvvIzpmaTpnZ7mgqjnmoTlpb3lj4vkuK3mnInkurrlgZrnm7jlhbPnmoTlvIDlj5Hlt6XkvZzvvIzlkKbliJnmgqjlupTlvZPlvojpmr7nnIvliLDmraTmnaXmupDnmoTlvq7ljZrjgILmnaXoh6rmnKrlrqHmoLjlupTnlKjnmoTlvq7ljZrlvoDlvoDmmK/kvYblvIDlj5Hlvq7ljZrlupTnlKjov4fnqIvkuK3nmoTmtYvor5Xlvq7ljZrjgILmgqjlj6/ku6XpgJrov4flvq7ljZrlvIDmlL7lubPlj7DmlofmoaPkuK3nmoQ8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cDovL29wZW4ud2VpYm8uY29tL3dpa2kvJUU1JUJBJTk0JUU3JTk0JUE4JUU3JTlCJUI4JUU1JTg1JUIzJUU5JTk3JUFFJUU5JUEyJTk4Ij7lupTnlKjnm7jlhbPpl67popg8L2E+6aG16Z2i5LqG6Kej5pu05aSa5YWz5LqO5bqU55So55qE5L+h5oGv44CCJywKICB9LAogICdtdWx0aVRvcGljJzogeyAnemgtY24nOiAn5o+Q5Yiw55qE6K+d6aKYfOS4jeWwkeS6jnt7PG51bT59feS4queahOW+ruWNmnt7PGk+fX0nLCAnemgtaGsnOiAn5o+Q5Yiw55qE6Kmx6aGMfOS4jeWwkeaWvHt7PG51bT59feWAi+eahOW+ruWNmnt7PGk+fX0nLCAnemgtdHcnOiAn5o+Q5Yiw55qE6Kmx6aGMfOS4jeWwkeaWvHt7PG51bT59feWAi+eahOW+ruWNmnt7PGk+fX0nLCAnZW4nOiAnV2VpYm8gbWVudGlvbmVkIHwgbm90IGxlc3MgdGhhbiB7ezxudW0+fX0gdG9waWNze3s8aT59fScgfSwKICAnbXVsdGlUb3BpY0Rlc2MnOiB7CiAgICAnemgtY24nOiAn55Sx5LqO5paw5rWq54Ot6Zeo6K+d6aKY5ZKM6K+d6aKY5Li75oyB5Lq655qE55u45YWz5pS/562W77yM5a2Y5Zyo5LiA5Lqb5biQ5Y+36YCa6L+H572X5YiX6Iul5bmy54Ot6Zeo6K+d6aKY5Lul5L2/6Ieq5bex55qE5bm/5ZGK5Y+v5Lul5pi+56S65Zyo54Ot6Zeo6K+d6aKY6aG16Z2i44CC5oKo5Y+v5Lul6ZqQ6JeP5LiA5qyh5oCn5o+Q5Yiw5LqG5aSq5aSa6K+d6aKY55qE5b6u5Y2a5Lul6YG/5YWN55yL5Yiw5LuW5Lus44CCJywKICB9LAogICd0b29Mb25nTmVlZFVuZm9sZCc6IHsgJ3poLWNuJzogJ+evh+W5hei/h+mVv+mcgOimgeWxleW8gOWFqOaWh+eahOW+ruWNmnt7PGk+fX0nLCAnemgtaGsnOiAn56+H5bmF6YGO6ZW36ZyA6KaB5bGV6ZaL5YWo5paH55qE5b6u5Y2ae3s8aT59fScsICd6aC10dyc6ICfnr4fluYXpgY7plbfpnIDopoHlsZXplovlhajmlofnmoTlvq7ljZp7ezxpPn19JywgJ2VuJzogJ0xlbmd0aHkgV2VpYm8gbmVlZHMgdW5mb2xkIHRvIHZpZXd7ezxpPn19JyB9LAogICd0b29Mb25nTmVlZFVuZm9sZERlc2MnOiB7CiAgICAnemgtY24nOiAn5aaC5p6c5oKo5omT5byA5LqGW1t0b29sLndlaWJvdG9vbC5hdXRvX3VuZm9sZF93ZWlib11d77yM6ISa5pys5Lya5YWI6K+V5Zu+5bGV5byA5LiN5piv5b6I6ZW/55qE5b6u5Y2a44CCJywKICB9LAogIC8vIOWIt+Wxj+S4jueJiOiBigogICdvdGhlclNwYW1taW5nVGl0bGUnOiB7ICd6aC1jbic6ICfliLflsY/kuI7niYjogYonLCAnemgtaGsnOiAn5rSX54mI6IiH54mI6IGKJywgJ3poLXR3JzogJ+a0l+eJiOiIh+eJiOiBiicsICdlbic6ICdTcGFtbWluZyAmYW1wOyBDaGF0dGluZycgfSwKICAnc2FtZUFjY291bnRGaWx0ZXJEZXNjJzogeyAnemgtY24nOiAn55u45ZCM5L2c6ICF55qE5b6u5Y2a77yafOi2hei/h3t7PG51bWJlcj59feadoXzml7Z7ezxhY3Rpb24+fX0nLCAnemgtaGsnOiAn55u45ZCM5L2c6ICF55qE5b6u5Y2a77yafOi2hemBjnt7PG51bWJlcj59feainXzmmYJ7ezxhY3Rpb24+fX0nLCAnemgtdHcnOiAn55u45ZCM5L2c6ICF55qE5b6u5Y2a77yafOi2hemBjnt7PG51bWJlcj59feainXzmmYJ7ezxhY3Rpb24+fX0nLCAnZW4nOiAnV2VpYm8gZnJvbSBzYW1lIGFjY291bnQ6IHx7ezxhY3Rpb24+fX0gdGhlIHBhcnQgfCB3aGljaCBleGNlZWRzIHt7PG51bWJlcj59fSBXZWlibycgfSwKICAnc2FtZUFjY291bnRGaWx0ZXJSZWFzb24nOiB7ICd6aC1jbic6ICflm6DliLflsY8nLCAnemgtaGsnOiAn5Zug5rSX54mIJywgJ3poLXR3JzogJ+WboOa0l+eJiCcsICdlbic6ICdiZWNhdXNlIG9mIHNwYW1taW5nICcgfSwKICAnc2FtZUZvcndhcmRGaWx0ZXJEZXNjJzogeyAnemgtY24nOiAn55u45ZCM5b6u5Y2a55qE6L2s5Y+R77yafOi2hei/h3t7PG51bWJlcj59feadoXzml7Z7ezxhY3Rpb24+fX0nLCAnemgtaGsnOiAn55u45ZCM5b6u5Y2a55qE6L2J55m877yafOi2hemBjnt7PG51bWJlcj59feainXzmmYJ7ezxhY3Rpb24+fX0nLCAnemgtdHcnOiAn55u45ZCM5b6u5Y2a55qE6L2J55m877yafOi2hemBjnt7PG51bWJlcj59feainXzmmYJ7ezxhY3Rpb24+fX0nLCAnZW4nOiAnRm9yd2FyZCBmcm9tIHNhbWUgV2VpYm86IHx7ezxhY3Rpb24+fX0gdGhlIHBhcnQgfCB3aGljaCBleGNlZWRzIHt7PG51bWJlcj59fSBXZWlibycgfSwKICAnc2FtZUZvcndhcmRGaWx0ZXJSZWFzb24nOiB7ICd6aC1jbic6ICflm6DniYjogYonLCAnemgtaGsnOiAn5Zug54mI6IGKJywgJ3poLXR3JzogJ+WboOeJiOiBiicsICdlbic6ICdiZWNhdXNlIG9mIGNoYXR0aW5nICcgfSwKICAvLyDor4Torrrov4fmu6QKICAnY29tbWVudEZpbHRlckdyb3VwVGl0bGUnOiB7ICd6aC1jbic6ICfor4Torrrov4fmu6QnLCAnemgtaGsnOiAn6KmV6KuW56+p6YG4JywgJ3poLXR3JzogJ+ipleirluevqemBuCcsICdlbic6ICdDb21tZW50IEZpbHRlcicgfSwKICAvLyDor4TorrrlhbPplK7or40KICAnY2tleXdvcmRGaWx0ZXJEZXRhaWxzJzogeyAnemgtY24nOiAn5YyF5ZCr5Lul5LiL5YWz6ZSu6K+N55qE6K+E6K66JywgJ3poLWhrJzogJ+WMheWQq+S7peS4i+mXnOmNteWtl+eahOipleirlicsICd6aC10dyc6ICfljIXlkKvku6XkuIvpl5zpjbXlrZfnmoToqZXoq5YnLCAnZW4nOiAnQ29tbWVudCB3aXRoIHRoZXNlIGNvbW1lbnRzJyB9LAogICdja2V5d29yZEZpbHRlckRldGFpbHNEZXNjJzogewogICAgJ3poLWNuJzogJ+WFs+mUruivjeWMuemFjeWMheaLrOivnemimO+8jOS9huS4jeWMheaLrOaPkOWIsOeahOeUqOaIt+OAgicsCiAgfSwKICAnY2tleXdvcmRGaWx0ZXJEZXNjJzogeyAnemgtY24nOiAn5YWz6ZSu6K+NJywgJ3poLWhrJzogJ+mXnOmNteWtlycsICd6aC10dyc6ICfpl5zpjbXlrZcnLCAnZW4nOiAnS2V5d29yZCAnIH0sCiAgJ2NrZXl3b3JkRmlsdGVyRmFzdCc6IHsgJ3poLWNuJzogJ+ivhOiuuuWMheWQq+WFs+mUruivjScsICd6aC1oayc6ICfoqZXoq5bljIXlkKvpl5zpjbXlrZcnLCAnemgtdHcnOiAn6KmV6KuW5YyF5ZCr6Zec6Y215a2XJywgJ2VuJzogJ0NvbW1lbnRzIGNvbnRhaW5zIGtleXdvcmQgJyB9LAogICdja2V5d29yZEZpbHRlckZhc3RJbnB1dCc6IHsgJ3poLWNuJzogJ+KAnHt7dGV4dH194oCdJywgJ3poLWhrJzogJ+OAjHt7dGV4dH1944CNJywgJ3poLXR3JzogJ+OAjHt7dGV4dH1944CNJywgJ2VuJzogJyJ7e3RleHR9fSInIH0sCiAgLy8g6K+E6K665q2j5YiZ6KGo6L6+5byPCiAgJ2NyZWdleHBGaWx0ZXJEZXRhaWxzJzogeyAnemgtY24nOiAn5Yy56YWN5Lul5LiL5q2j5YiZ6KGo6L6+5byP55qE6K+E6K66JywgJ3poLWhrJzogJ+WMuemFjeS7peS4i+ato+WJh+ihqOmBlOW8j+eahOipleirlicsICd6aC10dyc6ICfljLnphY3ku6XkuIvmraPopo/ooajnpLrlvI/nmoToqZXoq5YnLCAnZW4nOiAnQ29tbWVudCBtYXRjaGVzIHRoZXNlIHJlZ3VsYXIgZXhwcmVzc2lvbnMnIH0sCiAgJ2NyZWdleHBGaWx0ZXJEZXRhaWxzRGVzYyc6IHsKICAgICd6aC1jbic6ICfmraPliJnooajovr7lvI/ljLnphY3or4TorrrlhoXlrrnvvIzmlrnkvr/ljLnphY3kuIDkupvmlYXmhI/nu5Xov4flhbPplK7or43or4bliKvnmoTor4TorrrjgIJ7e3JlZ2V4cEZpbHRlckRldGFpbHNEZXNjfX0nLAogIH0sCiAgJ2NyZWdleHBGaWx0ZXJEZXNjJzogeyAnemgtY24nOiAn5q2j5YiZ5byPJywgJ3poLWhrJzogJ+ato+WJh+W8jycsICd6aC10dyc6ICfmraPopo/lvI8nLCAnZW4nOiAnUmVnZXhwJyB9LAogICdjcmVnZXhwRmlsdGVyRmFzdCc6IHsgJ3poLWNuJzogJ+ivhOiuuuWMuemFjeato+WImeW8jycsICd6aC1oayc6ICfoqZXoq5bljLnphY3mraPliYflvI8nLCAnemgtdHcnOiAn6KmV6KuW5Yy56YWN5q2j6KaP5byPJywgJ2VuJzogJ0NvbW1lbnQgbWF0Y2hlcyByZWdleHAgJyB9LAogICdjcmVnZXhwRmlsdGVyRmFzdElucHV0JzogeyAnemgtY24nOiAnL3t7dGV4dH19LycsICd6aC1oayc6ICcve3t0ZXh0fX0vJywgJ3poLXR3JzogJy97e3RleHR9fS8nLCAnZW4nOiAnL3t7dGV4dH19LycgfSwKICAvLyDor4TorrrnlKjmiLcKICAnY3VzZXJGaWx0ZXJEZXRhaWxzJzogeyAnemgtY24nOiAn5Lul5LiL5biQ5Y+355u45YWz55qE6K+E6K66JywgJ3poLWhrJzogJ+S7peS4i+W4s+iZn+ebuOmXnOeahOipleirlicsICd6aC10dyc6ICfku6XkuIvluLPomZ/nm7jpl5znmoToqZXoq5YnLCAnZW4nOiAnQ29tbWVudHMgbWVudGlvbmVkIHRoZXNlIGFjY291bnRzJyB9LAogICdjdXNlckZpbHRlckRldGFpbHNEZXNjJzogewogICAgJ3poLWNuJzogJ+WMuemFjeWMheaLrOivhOiuuueahOS9nOiAhe+8jOivhOiuuuWbnuWkjeeahOW4kOWPt++8jOS7peWPiuivhOiuuuaPkOWIsOeahOW4kOWPt+OAguivhOiuuuS4reaPkOWIsOeahOS6uueahOmTvuaOpeS4jeS8mumaj+S/ruaUueaYteensOiAjOWPmOWMlu+8jOi/memHjOS5n+aXoOazleWkhOeQhuS/ruaUueaYteensOeahOaDheWGte+8jOaJgOS7peWmguaenOS4gOS4quS6uuS/ruaUueS6huaYteensO+8jOaCqOmcgOimgemHjeaWsOa3u+WKoOOAgicKICB9LAogICdjdXNlckZpbHRlckRlc2MnOiB7ICd6aC1jbic6ICfluJDlj7cnLCAnemgtaGsnOiAn5biz6JmfJywgJ3poLXR3JzogJ+W4s+iZnycsICdlbic6ICdBY2NvdW50JyB9LAogICdjdXNlckZpbHRlckZhc3QnOiB7ICd6aC1jbic6ICfmtonlj4rliLDigJxAe3tuYW1lfX3igJ3nmoTor4TorronLCAnemgtaGsnOiAn5raJ5Y+K5Yiw44CMQHt7bmFtZX1944CN55qE6KmV6KuWJywgJ3poLXR3JzogJ+a2ieWPiuWIsOOAjEB7e25hbWV9feOAjeeahOipleirlicsICdlbic6ICdDb21tZW50cyBhYm91dCAiQHt7bmFtZX19IicgfSwKICAvLyAg6K+E6K666K+d6aKYCiAgJ2N0b3BpY0ZpbHRlckRldGFpbHMnOiB7ICd6aC1jbic6ICfljIXlkKvku6XkuIvor53popjnmoTor4TorronLCAnemgtaGsnOiAn5YyF5ZCr5Lul5LiL6Kmx6aGM55qE6KmV6KuWJywgJ3poLXR3JzogJ+WMheWQq+S7peS4i+ipsemhjOeahOipleirlicsICdlbic6ICdDb21tZW50cyB3aXRoIHRoZXNlIHRvcGljcycgfSwKICAnY3RvcGljRmlsdGVyRGV0YWlsc0Rlc2MnOiB7CiAgICAnemgtY24nOiAn5Yy56YWN5o+Q5Yiw5LqG5p+Q5Liq6K+d6aKY55qE6K+E6K6644CC6K+d6aKY5L2/55So5YWo5a2X5Yy56YWN44CCJwogIH0sCiAgJ2N0b3BpY0ZpbHRlckRlc2MnOiB7ICd6aC1jbic6ICfor53popgnLCAnemgtaGsnOiAn6Kmx6aGMJywgJ3poLXR3JzogJ+ipsemhjCcsICdlbic6ICdUb3BpYycgfSwKICAnY3RvcGljRmlsdGVyRmFzdCc6IHsgJ3poLWNuJzogJ+ivhOiuuuWMheWQq+ivnemimCcsICd6aC1oayc6ICfoqZXoq5bljIXlkKvoqbHpoYwnLCAnemgtdHcnOiAn6KmV6KuW5YyF5ZCr6Kmx6aGMJywgJ2VuJzogJ0NvbW1lbnRzIGNvbnRhaW5zIHRvcGljICcgfSwKICAnY3RvcGljRmlsdGVyRmFzdElucHV0JzogeyAnemgtY24nOiAn4oCcI3t7dG9waWN9fSPigJ0nLCAnemgtaGsnOiAn44CMI3t7dG9waWN9fSPjgI0nLCAnemgtdHcnOiAn44CMI3t7dG9waWN9fSPjgI0nLCAnZW4nOiAnIiN7e3RvcGljfX0jIicgfSwKICAvLyDpq5jnuqcKICAnY29tbWVudE90aGVyRmlsdGVycyc6IHsgJ3poLWNuJzogJ+abtOWkmicsICd6aC1oayc6ICflhbbku5YnLCAnemgtdHcnOiAn5YW25LuWJywgJ2VuJzogJ01vcmUnIH0sCiAgJ2NvbW1lbnRNeURpc3BsYXknOiB7ICd6aC1jbic6ICfmgLvmmK/mmL7npLrmiJHoh6rlt7Hlj5HooajnmoTor4TorronLCAnemgtaGsnOiAn57i95piv6aGv56S65oiR6Ieq5bex55m86KGo55qE6KmV6KuWJywgJ3poLXR3JzogJ+e4veaYr+mhr+ekuuaIkeiHquW3seeZvOihqOeahOipleirlicsICdlbic6ICdBbHdheXMgc2hvdyBteSBjb21tZW50cycgfSwKICAnY29tbWVudEVtb2ppQ291bnREZXNjJzogeyAnemgtY24nOiAn6ZqQ6JeP6KGo5oOFfOaVsOmHj+i2hei/h3t7PG51bWJlcj59feS4queahOivhOiuuicsICd6aC1oayc6ICfpmrHol4/ooajmg4V85pW46YeP6LaF6YGOe3s8bnVtYmVyPn195YCL55qE6KmV6KuWJywgJ3poLXR3JzogJ+maseiXj+ihqOaDhXzmlbjph4/otoXpgY57ezxudW1iZXI+fX3lgIvnmoToqZXoq5YnLCAnZW4nOiAnSGlkZSBjb21tZW50cyB8IHdpdGggbW9yZSB0aGFuIHt7PG51bWJlcj59fSBlbW9qaScgfSwKICAnY29tbWVudEVtb2ppVHlwZXNEZXNjJzogeyAnemgtY24nOiAn6ZqQ6JeP6KGo5oOFfOenjeexu+i2hei/h3t7PG51bWJlcj59feenjeeahOivhOiuuicsICd6aC1oayc6ICfpmrHol4/ooajmg4V856iu6aGe6LaF6YGOe3s8bnVtYmVyPn1956iu55qE6KmV6KuWJywgJ3poLXR3JzogJ+maseiXj+ihqOaDhXznqK7poZ7otoXpgY57ezxudW1iZXI+fX3nqK7nmoToqZXoq5YnLCAnZW4nOiAnSGlkZSBjb21tZW50cyB8IHdpdGggbW9yZSB0aGFuIHt7PG51bWJlcj59fSBraW5kcyBvZiBlbW9qaScgfSwKICAnY29tbWVudFdpdGhPdXRDb250ZW50RGVzYyc6IHsgJ3poLWNuJzogJ+makOiXj+ayoeacieWGheWuueeahOivhOiuuu+8iOWPquacieihqOaDheOAgeaPkOWIsOetie+8iScsICd6aC1oayc6ICfpmrHol4/mspLmnInlhaflrrnnmoToqZXoq5bvvIjlj6rmnInooajmg4XjgIHmj5DliLDnrYnvvIknLCAnemgtdHcnOiAn6Zqx6JeP5rKS5pyJ5YWn5a6555qE6KmV6KuW77yI5Y+q5pyJ6KGo5oOF44CB5o+Q5Yiw562J77yJJywgJ2VuJzogJ0NvbW1lbnRzIHdpdGhvdXQgYW55IHRleHQgY29udGVudCAob25seSBtZW50aW9ucyBhbmQgZW1vamkpJyB9LAogICdjb21tZW50V2l0aEZvcndhcmREZXNjJzogeyAnemgtY24nOiAn6ZqQ6JeP5ZCr5pyJ6L2s5Y+R5raI5oGv55qE5b6u5Y2aJywgJ3poLWhrJzogJ+maseiXj+WQq+aciei9ieeZvOa2iOaBr+eahOW+ruWNmicsICd6aC10dyc6ICfpmrHol4/lkKvmnInovYnnmbzmtojmga/nmoTlvq7ljZonLCAnZW4nOiAnQ29tbWVudHMgY29udGFpbnMgZm9yd2FyZGVkIG1lc3NhZ2VzJyB9LAogICdjb21tZW50V2l0aFBpY3R1cmUnOiB7ICd6aC1jbic6ICfluKbmnInlm77niYfnmoTor4Torrp8e3s8YWN0Pn19JywgJ3poLWhrJzogJ+W4tuacieWclueJh+eahOipleirlnx7ezxhY3Q+fX0nLCAnemgtdHcnOiAn5bi25pyJ5ZyW54mH55qE6KmV6KuWfHt7PGFjdD59fScsICdlbic6ICdDb21tZW50cyB3aXRoIHBpY3R1cmUgfCB7ezxhY3Q+fX0nIH0sCiAgJ2NvbW1lbnRXaXRoUGljdHVyZUhpZGUnOiB7ICd6aC1jbic6ICfpmpDol4/or4TorronLCAnemgtaGsnOiAn6Zqx6JeP6KmV6KuWJywgJ3poLXR3JzogJ+maseiXj+ipleirlicsICdlbic6ICdIaWRlIGNvbW1lbnQnIH0sCiAgJ2NvbW1lbnRXaXRoUGljdHVyZUZvbGQnOiB7ICd6aC1jbic6ICfkvb/nlKjmn6XnnIvlm77niYfmjInpkq7mm7/mjaLnvKnnlaXlm74nLCAnemgtaGsnOiAn5L2/55So5p+l55yL5ZyW54mH5oyJ6YiV5pu/5o+b57iu5ZyWJywgJ3poLXR3JzogJ+S9v+eUqOafpeeci+WclueJh+aMiemIleabv+aPm+e4ruWclicsICdlbic6ICdSZXBsYWNlIHRodW1ibmFpbCB3aXRoICJWaWV3IFBpY3RydWUiIGJ1dHRvbicgfSwKICAnZGVsZXRlQ29tbWVudEhpZGRlbic6IHsgJ3poLWNuJzogJ+WmguaenOadg+mZkOWFgeiuuOiHquWKqOWIoOmZpOiiq+makOiXj+eahOivhOiuunt7PGk+fX0nLCAnemgtaGsnOiAn5aaC5p6c5qyK6ZmQ5YWB6Kix6Ieq5YuV5Yiq6Zmk6KKr6Zqx6JeP55qE6KmV6KuWe3s8aT59fScsICd6aC10dyc6ICflpoLmnpzmrIrpmZDlhYHoqLHoh6rli5XliKrpmaTooqvpmrHol4/nmoToqZXoq5Z7ezxpPn19JywgJ2VuJzogJ0F1dG9tYXRpY2FsbHkgZGVsZXRlIGhpZGRlbiBjb21tZW50cyBpZiBwZXJtaXNzaW9uIGFsbG93ZWQge3s8aT59fScgfSwKICAnZGVsZXRlQ29tbWVudEhpZGRlbkRlc2MnOiB7CiAgICAnemgtY24nOiAn6K+35rOo5oSP77yM5omT5byA6K+l6YCJ6aG55ZCO77yM6KKr5oKo6ZqQ6JeP55qE5LiU5oKo5pyJ5p2D6ZmQ5Yig6Zmk55qE6K+E6K666YO95bCG6KKr5Yig6Zmk44CC6L+Z5oSP5ZGz552A5YW25LuW5Lq677yM5YyF5ous5Y+R6KGo6L+Z5p2h6K+E6K6655qE5L2c6ICF5Zyo5YaF6YO95LiN6IO95YaN55yL5Yiw6L+Z5p2h6K+E6K6644CC6ICM5LiU5aaC5p6c5oKo5rKh5pyJ5byA5ZCvW1tjb21tZW50Lm90aGVyYy5teV9jb21tZW50XV3vvIzpgqPkuYjlj6/og73kvJroh6rliqjliKDpmaTmgqjlj5Hlh7rnmoTor4TorrrjgIInCiAgfSwKICAvLyDmqKHlnZcKICAnbGF5b3V0RmlsdGVyR3JvdXBUaXRsZSc6IHsgJ3poLWNuJzogJ+eJiOmdoua4heeQhicsICd6aC1oayc6ICfniYjpnaLmuIXnkIYnLCAnemgtdHcnOiAn54mI6Z2i5riF55CGJywgJ2VuJzogJ0xheW91dCBDbGVhbnVwJyB9LAogIC8vIOagh+ivhuWbvuaghwogICdsYXlvdXRIaWRlSWNvbic6IHsgJ3poLWNuJzogJ+makOiXj+aooeWdlyAtIOagh+ivhi/lm77moIcnLCAnemgtaGsnOiAn6Zqx6JeP5qih57WEIC0g5qiZ6KqML+WcluekuicsICd6aC10dyc6ICfpmrHol4/mqKHntYQgLSDmqJnoqowv5ZyW56S6JywgJ2VuJzogJ0hpZGUgbW9kdWxlcyAtIExvZ28gLyBJY29uJyB9LAogICdsYXlvdXRIaWRlSWNvbkxldmVsJzogeyAnemgtY24nOiAn562J57qnJywgJ3poLWhrJzogJ0xldmVsJywgJ3poLXR3JzogJ+etiee0micsICdlbic6ICdMZXZlbCcgfSwKICAnbGF5b3V0SGlkZUljb25NZW1iZXInOiB7ICd6aC1jbic6ICflvq7ljZrkvJrlkZgnLCAnemgtaGsnOiAn5b6u5Y2a5pyD5ZOhJywgJ3poLXR3JzogJ+W+ruWNmuacg+WToScsICdlbic6ICdXZWlibyBWSVAgLyBNZW1iZXInIH0sCiAgJ2xheW91dEhpZGVJY29uQXBwcm92ZSc6IHsgJ3poLWNuJzogJ+S4quS6uuiupOivgScsICd6aC1oayc6ICflgIvkurroqo3orYknLCAnemgtdHcnOiAn5YCL5Lq66KqN6K2JJywgJ2VuJzogJ1BlcnNvbmFsIEF1dGhlbnRpY2F0aW9uIC8g5YCL5Lq66KqN6K2JJyB9LAogICdsYXlvdXRIaWRlSWNvbkFwcHJvdmVDbyc6IHsgJ3poLWNuJzogJ+acuuaehOiupOivgScsICd6aC1oayc6ICfkvIHmpa3oqo3orYknLCAnemgtdHcnOiAn5LyB5qWt6KqN6K2JJywgJ2VuJzogJ1dlaWJvIFZlcmlmaWNhdGlvbiAvIOS8gealreiqjeitiScgfSwKICAnbGF5b3V0SGlkZUljb25BcHByb3ZlRGVhZCc6IHsgJ3poLWNuJzogJ+WkseaViOiupOivgScsICd6aC1oayc6ICflpLHmlYjoqo3orYknLCAnemgtdHcnOiAn5aSx5pWI6KqN6K2JJywgJ2VuJzogJ0ZhaWxlZCB2ZXJpZmljYXRpb24nIH0sCiAgJ2xheW91dEhpZGVJY29uQ2x1Yic6IHsgJ3poLWNuJzogJ+W+ruWNmui+vuS6uicsICd6aC1oayc6ICflvq7ljZrpgZTkuronLCAnemgtdHcnOiAn5b6u5Y2a6YGU5Lq6JywgJ2VuJzogJ1Bpb25lZXInIH0sCiAgJ2xheW91dEhpZGVJY29uVkdpcmwnOiB7ICd6aC1jbic6ICflvq7ljZrlpbPpg44nLCAnemgtaGsnOiAn5b6u5Y2a5aWz6YOOJywgJ3poLXR3JzogJ+W+ruWNmuWls+mDjicsICdlbic6ICdXZWlibyBnaXJsJyB9LAogICdsYXlvdXRIaWRlSWNvblRhb2Jhbyc6IHsgJ3poLWNuJzogJ+a3mOWunS/lpKnnjKvllYbmiLcnLCAnemgtaGsnOiAn5reY5a+2L+Wkqeiyk+WVhuaIticsICd6aC10dyc6ICfmt5jlr7Yv5aSp6LKT5ZWG5oi2JywgJ2VuJzogJ1Rhb2JhbyAvIFRtYWxsIE1lcmNoYW50JyB9LAogICdsYXlvdXRIaWRlSWNvbkNoZW5nJzogeyAnemgtY24nOiAn6Zi/6YeM6K+a5L+h6YCaJywgJ3poLWhrJzogJ+mYv+mHjOiqoOS/oemAmicsICd6aC10dyc6ICfpmL/ph4zoqqDkv6HpgJonLCAnZW4nOiAnQWxpYmFiYSDor5rkv6HpgJonIH0sCiAgJ2xheW91dEhpZGVJY29uR29uZ3lpJzogeyAnemgtY24nOiAn5YWs55uKJywgJ3poLWhrJzogJ+WFrOebiicsICd6aC10dyc6ICflhaznm4onLCAnZW4nOiAncHVibGljIEludGVyZXN0JyB9LAogICdsYXlvdXRIaWRlSWNvblpvbmd5aWthJzogeyAnemgtY24nOiAn57u86Im6JywgJ3poLWhrJzogJ+e7vOiJuicsICd6aC10dyc6ICfnu7zoibonLCAnZW4nOiAnVmFyaWV0eScgfSwKICAnbGF5b3V0SGlkZUljb25TdWlzaG91cGFpJzogeyAnemgtY24nOiAn6ZqP5omL5ouNJywgJ3poLWhrJzogJ+maj+aJi+aLjScsICd6aC10dyc6ICfpmo/miYvmi40nLCAnZW4nOiAnUGhvdG9ncmFwaCcgfSwKICAnbGF5b3V0SGlkZUljb25Zb3VqaSc6IHsgJ3poLWNuJzogJ+aXheihjCcsICd6aC1oayc6ICfml4XooYwnLCAnemgtdHcnOiAn5peF6KGMJywgJ2VuJzogJ1RyYXZlbCcgfSwKICAnbGF5b3V0SGlkZUljb25Eb3VibGUxMSc6IHsgJ3poLWNuJzogJ+WPjDExJywgJ3poLWhrJzogJ+WPjDExJywgJ3poLXR3JzogJ+WPjDExJywgJ2VuJzogJ05vdi4gMTE8c3VwPnRoPC9zdXA+JyB9LAogICdsYXlvdXRIaWRlSWNvbk5pZ2h0JzogeyAnemgtY24nOiAn5b6u5Y2a5LmL5aScJywgJ3poLWhrJzogJ+W+ruWNmuS5i+WknCcsICd6aC10dyc6ICflvq7ljZrkuYvlpJwnLCAnZW4nOiAnV2VpYm8gTmlnaHQnIH0sCiAgJ2xheW91dEhpZGVJY29uUmVkUGFjayc6IHsgJ3poLWNuJzogJ+e6ouWMhScsICd6aC1oayc6ICfnuqLljIUnLCAnemgtdHcnOiAn57qi5YyFJywgJ2VuJzogJ1JlZCBQYWNrJyB9LAogICdsYXlvdXRIaWRlSWNvblJ1bic6IHsgJ3poLWNuJzogJ+i3keatpScsICd6aC1oayc6ICfot5HmraUnLCAnemgtdHcnOiAn6LeR5q2lJywgJ2VuJzogJ1J1bicgfSwKICAnbGF5b3V0SGlkZUljb25Gb29sc0RheSc6IHsgJ3poLWNuJzogJ+aEmuS6uuiKgicsICd6aC1oayc6ICfmhJrkurroioInLCAnemgtdHcnOiAn5oSa5Lq66IqCJywgJ2VuJzogIkZvb2xzJyBEYXkiIH0sCiAgJ2xheW91dEhpZGVJY29uSG9uZyc6IHsgJ3poLWNuJzogJ+e9kee6oicsICd6aC1oayc6ICfntrLntIUnLCAnemgtdHcnOiAn57ay57SFJywgJ2VuJzogJ0ludGVybmV0IGNlbGVicml0eScgfSwKICAnbGF5b3V0SGlkZUljb25XZWRkaW5nJzogeyAnemgtY24nOiAn5ama56S8JywgJ3poLWhrJzogJ+WpmuemricsICd6aC10dyc6ICflqZrnpq4nLCAnZW4nOiAnV2VkZGluZycgfSwKICAvLyDlr7zoiKrmoI8KICAnbGF5b3V0SGlkZU5hdic6IHsgJ3poLWNuJzogJ+makOiXj+aooeWdlyAtIOWvvOiIquagjycsICd6aC1oayc6ICfpmrHol4/mqKHntYQgLSDlsI7opr3liJcnLCAnemgtdHcnOiAn6Zqx6JeP5qih57WEIC0g5bCO6Ka95YiXJywgJ2VuJzogJ0hpZGUgbW9kdWxlcyAtIE5hdmlnYXRpb24gQmFyJyB9LAogICdsYXlvdXRIaWRlTmF2TG9nb0ltZyc6IHsgJ3poLWNuJzogJ+iKguaXpeW+veaghycsICd6aC1oayc6ICfnr4Dml6Xlvr3mqJknLCAnemgtdHcnOiAn56+A5pel5b695qiZJywgJ2VuJzogJ0hvbGlkYXkgbG9nbycgfSwKICAnbGF5b3V0SGlkZU5hdk1haW4nOiB7ICd6aC1jbic6ICfpppbpobUnLCAnemgtaGsnOiAn6aaW6aCBJywgJ3poLXR3JzogJ+mmlumggScsICdlbic6ICdIb21lJyB9LAogICdsYXlvdXRIaWRlTmF2VFYnOiB7ICd6aC1jbic6ICfop4bpopEnLCAnemgtaGsnOiAn6KeG6aKRJywgJ3poLXR3JzogJ+inhumikScsICdlbic6ICfop4bpopEgKFZpZGVvKScgfSwKICAnbGF5b3V0SGlkZU5hdkhvdCc6IHsgJ3poLWNuJzogJ+WPkeeOsCcsICd6aC1oayc6ICflj5HnjrAnLCAnemgtdHcnOiAn5Y+R546wJywgJ2VuJzogJ0Rpc2NvdmVyJyB9LAogICdsYXlvdXRIaWRlTmF2R2FtZSc6IHsgJ3poLWNuJzogJ+a4uOaIjycsICd6aC1oayc6ICfpgYrmiLInLCAnemgtdHcnOiAn6YGK5oiyJywgJ2VuJzogJ0dhbWUnIH0sCiAgJ2xheW91dEhpZGVOYXZIb3RTZWFyY2gnOiB7ICd6aC1jbic6ICflpKflrrbmraPlnKjmkJwnLCAnemgtaGsnOiAn5aSn5a625q2j5Zyo5pCcJywgJ3poLXR3JzogJ+Wkp+Wutuato+WcqOeGseaQnCcsICdlbic6ICdIb3Qgc2VhcmNoJyB9LAogICdsYXlvdXRIaWRlTmF2SG90U2VhcmNoRGVzYyc6IHsKICAgICd6aC1jbic6ICflu7rorq7kvb/nlKhBQlDnrYnmianlsZXvvIzmt7vliqDop4TliJnigJwgPGNvZGU+aHR0cDovL3Mud2VpYm8uY29tL2FqYXgvanNvbnAvZ2V0dG9wc3VnKjwvY29kZT4g4oCd77yM5Lul6L6+5Yiw5pu05aW955qE5pWI5p6c44CCJywKICB9LAogICdzZWFyY2hCYXJQbGFjZWhvbGRlcic6IHsgJ3poLWNuJzogJ+aQnOe0ouW+ruWNmuOAgeaJvuS6uicsICd6aC1oayc6ICfmkJzntKLlvq7ljZrjgIHmib7kuronLCAnemgtdHcnOiAn5pCc57Si5b6u5Y2a44CB5om+5Lq6JywgJ2VuJzogJ1NlYXJjaCBmb3IgV2VpYm8sIFBlb3BsZScgfSwKICAnbGF5b3V0SGlkZU5hdk5vdGljZU5ldyc6IHsgJ3poLWNuJzogJ+aWsOa2iOaBr+iuoeaVsCcsICd6aC1oayc6ICfmlrDmtojmga/oqIjmlbgnLCAnemgtdHcnOiAn5paw5raI5oGv6KiI5pW4JywgJ2VuJzogJ0NvdW50IGZvciBuZXcgbm90aWNlJyB9LAogICdsYXlvdXRIaWRlTmF2TmV3JzogeyAnemgtY24nOiAn5o+Q56S657qi54K5JywgJ3poLWhrJzogJ+aPkOekuue0hem7nicsICd6aC10dyc6ICfmj5DnpLrntIXpu54nLCAnZW4nOiAnUmVkIGRvdCB0aXBzJyB9LAogICdsYXlvdXRIaWRlTmF2SG90VGlwJzogeyAnemgtY24nOiAn54Ot6Zeo6buE562+5o+Q6YaSJywgJ3poLWhrJzogJ+eGsemWgOm7g+ewveaPkOmGkicsICd6aC10dyc6ICfnhrHploDpu4PnsL3mj5DphpInLCAnZW4nOiAnWWVsbG93IHRpcCBmb3IgbmV3IGhvdHMnIH0sCiAgLy8g5bem5qCPCiAgJ2xheW91dEhpZGVMZWZ0JzogeyAnemgtY24nOiAn6ZqQ6JeP5qih5Z2XIC0g5bem5qCPJywgJ3poLWhrJzogJ+maseiXj+aooee1hCAtIOW3puashCcsICd6aC10dyc6ICfpmrHol4/mqKHntYQgLSDlt6bmrIQnLCAnZW4nOiAnSGlkZSBtb2R1bGVzIC0gTGVmdCBDb2x1bW4nIH0sCiAgJ2xheW91dEhpZGVMZWZ0SG9tZSc6IHsgJ3poLWNuJzogJ+mmlumhtScsICd6aC1oayc6ICfpppbpoIEnLCAnemgtdHcnOiAn6aaW6aCBJywgJ2VuJzogJ0hvbWUnIH0sCiAgJ2xheW91dEhpZGVMZWZ0RmF2JzogeyAnemgtY24nOiAn5oiR55qE5pS26JePJywgJ3poLWhrJzogJ+aIkeeahOaUtuiXjycsICd6aC10dyc6ICfmiJHnmoTmlLbol48nLCAnZW4nOiAnRmF2b3JpdGUnIH0sCiAgJ2xheW91dEhpZGVMZWZ0TGlrZSc6IHsgJ3poLWNuJzogJ+aIkeeahOi1nicsICd6aC1oayc6ICfmiJHnmoTorponLCAnemgtdHcnOiAn5oiR55qE6K6aJywgJ2VuJzogJ0xpa2UnIH0sCiAgJ2xheW91dEhpZGVMZWZ0SG90JzogeyAnemgtY24nOiAn54Ot6Zeo5b6u5Y2aJywgJ3poLWhrJzogJ+eGsemWgOW+ruWNmicsICd6aC10dyc6ICfnhrHploDlvq7ljZonLCAnZW4nOiAnSG90IFdlaWJvJyB9LAogICdsYXlvdXRIaWRlTGVmdFRWJzogeyAnemgtY24nOiAn54Ot6Zeo6KeG6aKRJywgJ3poLWhrJzogJ+eGsemWgOimlumguycsICd6aC10dyc6ICfnhrHploDoppbpoLsnLCAnZW4nOiAnSG90IFZpZGVvJyB9LAogICdsYXlvdXRIaWRlTGVmdEZyaWVuZHMnOiB7ICd6aC1jbic6ICflpb3lj4vlnIgnLCAnemgtaGsnOiAn5aW95Y+L5ZyIJywgJ3poLXR3JzogJ+WlveWPi+WciCcsICdlbic6ICdGcmllbmRzJyB9LAogICdsYXlvdXRIaWRlTGVmdEdyb3VwVG9NZSc6IHsgJ3poLWNuJzogJ+e+pOW+ruWNmicsICd6aC1oayc6ICfnvqTlvq7ljZonLCAnemgtdHcnOiAn576k5b6u5Y2aJywgJ2VuJzogJ+e+pOW+ruWNmiAoR3JvdXApJyB9LAogICdsYXlvdXRIaWRlTGVmdFNwZWNpYWwnOiB7ICd6aC1jbic6ICfnibnliKvlhbPms6gnLCAnemgtaGsnOiAn54m55Yir6Zec5rOoJywgJ3poLXR3JzogJ+eJueWIq+mXnOazqCcsICdlbic6ICdTcGVjaWFsIEZvY3VzJyB9LAogICdsYXlvdXRIaWRlTGVmdFdoaXNwZXInOiB7ICd6aC1jbic6ICfmgoTmgoTlhbPms6gnLCAnemgtaGsnOiAn5oKE5oKE6Zec5rOoJywgJ3poLXR3JzogJ+aChOaChOmXnOazqCcsICdlbic6ICdTZWNyZXQgRm9sbG93aW5nJyB9LAogICdsYXlvdXRIaWRlTGVmdE5ldyc6IHsgJ3poLWNuJzogJ+aWsOW+ruWNmuaPkOekuue6oueCuScsICd6aC1oayc6ICfmlrDlvq7ljZrmj5DnpLrntIXpu54nLCAnemgtdHcnOiAn5paw5b6u5Y2a5o+Q56S657SF6bueJywgJ2VuJzogJ1JlZCBkb3QgZm9yIG5ldyBXZWlibycgfSwKICAnbGF5b3V0SGlkZUxlZnROZXdzJzogeyAnemgtY24nOiAn5paw5raI5oGv6K6h5pWwJywgJ3poLWhrJzogJ+aWsOa2iOaBr+ioiOaVuCcsICd6aC10dyc6ICfmlrDmtojmga/oqIjmlbgnLCAnZW4nOiAnQ291bnRzIGZvciBOZXdzJyB9LAogICdsYXlvdXRIaWRlTGVmdENvdW50JzogeyAnemgtY24nOiAn5paw5YiG57uE5b6u5Y2a6K6h5pWwJywgJ3poLWhrJzogJ+aWsOWIhue1hOW+ruWNmuioiOaVuCcsICd6aC10dyc6ICfmlrDliIbntYTlvq7ljZroqIjmlbgnLCAnZW4nOiAnQ291bnRzIGZvciBXZWlibyBieSBHcm91cCcgfSwKICAvLyDkuK3moI8KICAnbGF5b3V0SGlkZU1pZGRsZSc6IHsgJ3poLWNuJzogJ+makOiXj+aooeWdlyAtIOS4reagjycsICd6aC1oayc6ICfpmrHol4/mqKHntYQgLSDkuK3mrIQnLCAnemgtdHcnOiAn6Zqx6JeP5qih57WEIC0g5Lit5qyEJywgJ2VuJzogJ0hpZGUgbW9kdWxlcyAtIE1pZGRsZSBDb2x1bW4nIH0sCiAgJ2xheW91dEhpZGVNaWRkbGVSZWNvbW1lbmRlZFRvcGljJzogeyAnemgtY24nOiAn54Ot6Zeo5b6u5Y2a77yI5Y+R5biD5qGG5LiK5pa577yJJywgJ3poLWhrJzogJ+eDremXqOW+ruWNmu+8iOeZvOW4g+ahhuS4iuaWue+8iScsICd6aC10dyc6ICfng63pl6jlvq7ljZrvvIjnmbzluIPmoYbkuIrmlrnvvIknLyogYXMgaXMgKi8sICdlbic6ICfng63pl6jlvq7ljZogKEhvdCBXZWlibyksIG9uIHRvcCBvZiBwdWJsaXNoZXInIH0sCiAgJ2xheW91dEhpZGVNaWRkbGVGZWVkUmVjb21tYW5kJzogeyAnemgtY24nOiAn5b6u5Y2a5YW06Laj5o6o6I2Q77yI6aG26YOo77yJJywgJ3poLWhrJzogJ+W+ruWNmuiIiOi2o+aOqOiWpu+8iOmggumDqO+8iScsICd6aC10dyc6ICflvq7ljZroiIjotqPmjqjolqbvvIjpoILpg6jvvIknLCAnZW4nOiAnRmVlZCBSZWNvbW1lbmRhdGlvbiwgdG9wJyB9LAogICdsYXlvdXRIaWRlTWlkZGxlTWVtYmVyVGlwJzogeyAnemgtY24nOiAn5byA6YCa5Lya5ZGY5o+Q56S677yI5bqV6YOo77yJJywgJ3poLWhrJzogJ+mWi+mAmuacg+WToeaPkOekuu+8iOW6lemDqO+8iScsICd6aC10dyc6ICfplovpgJrmnIPlk6Hmj5DnpLrvvIjlupXpg6jvvIknLCAnZW4nOiAnVGlwIG9mIEpvaW5pbmcgV2VpYm8gVklQLCBib3R0b20nIH0sCiAgLy8g5Y+z5qCPCiAgJ2xheW91dEhpZGVSaWdodCc6IHsgJ3poLWNuJzogJ+makOiXj+aooeWdlyAtIOWPs+agjycsICd6aC1oayc6ICfpmrHol4/mqKHntYQgLSDlj7PmrIQnLCAnemgtdHcnOiAn6Zqx6JeP5qih57WEIC0g5Y+z5qyEJywgJ2VuJzogJ0hpZGUgbW9kdWxlcyAtIFJpZ2h0IENvbHVtbicgfSwKICAnbGF5b3V0SGlkZVJpZ2h0SW5mbyc6IHsgJ3poLWNuJzogJ+S4quS6uuS/oeaBrycsICd6aC1oayc6ICfkuKrkurrkv6Hmga8nLCAnemgtdHcnOiAn5Liq5Lq65L+h5oGvJywgJ2VuJzogJ1BlcnNvbmFsIEluZm8nIH0sCiAgJ2xheW91dEhpZGVSaWdodFJlY29tTXVzaWNSYW5rJzogeyAnemgtY24nOiAn5qac5Y2V77yI5paw5q2M5qac562J77yJJywgJ3poLWhrJzogJ+amnOWWru+8iOaWsOatjOamnOetie+8iScsICd6aC10dyc6ICfmppzllq7vvIjmlrDmrYzmppznrYnvvIknLCAnZW4nOiAnUmFuayBMaXN0IChTb25nIGxpc3QsIGV0Yy4pJyB9LAogICdsYXlvdXRIaWRlUmlnaHRSZWNvbU11c2ljUmFua0Rlc2MnOiB7CiAgICAnemgtY24nOiAn5YyF5ous4oCc5Lqa5rSy5paw5q2M5qac5a6e5pe26LaL5Yq/4oCd4oCc5b6u5Y2a55S15b2x54Ot6K6u5qac4oCd4oCc5Lqa5rSy5aW95Lmm5qac5a6e5pe26LaL5Yq/4oCd4oCc5Li75pKt57qi5Lq65qac4oCd4oCc5Lqa5rSy5Yqo5ryr5qac4oCd562J44CCJwogIH0sCiAgJ2xheW91dEhpZGVSaWdodEhvdFRvcGljJzogeyAnemgtY24nOiAn54Ot6Zeo6K+d6aKYJywgJ3poLWhrJzogJ+eGsemWgOipsemhjCcsICd6aC10dyc6ICfnhrHploDoqbHpoYwnLCAnZW4nOiAnSG90IFRvcGljJyB9LAogICdsYXlvdXRIaWRlUmlnaHRIb3RUb3BpY0V4cGFuZCc6IHsgJ3poLWNuJzogJ+eDremXqOivnemimOS4reeahOivnemimOaPj+i/sCcsICd6aC1oayc6ICfnhrHploDoqbHpoYzkuK3nmoToqbHpoYzmj4/ov7AnLCAnemgtdHcnOiAn54ax6ZaA6Kmx6aGM5Lit55qE6Kmx6aGM5o+P6L+wJywgJ2VuJzogJ1RvcGljIGRlc2NyaXB0aW9uIGluIEhvdCBUb3BpYycgfSwKICAnbGF5b3V0SGlkZVJpZ2h0R3JvdXBzJzogeyAnemgtY24nOiAn5YiG57uE5oiQ5ZGY5YiX6KGoJywgJ3poLWhrJzogJ+WIhue1hOaIkOWToeWIl+ihqCcsICd6aC10dyc6ICfliIbntYTmiJDlk6HliJfooagnLCAnZW4nOiAnTWVtYmVycyBvZiBncm91cCcgfSwKICAnbGF5b3V0SGlkZVJpZ2h0UmVjb21Hcm91cFVzZXInOiB7ICd6aC1jbic6ICflu7rorq7liqDlhaXor6XliIbnu4QnLCAnemgtaGsnOiAn5bu66K2w5Yqg5YWl6Kmy5YiG57WEJywgJ3poLXR3JzogJ+W7uuitsOWKoOWFpeipsuWIhue1hCcsICdlbic6ICdTdWdnZXN0IHRvIGFkZCB0byB0aGlzIGdyb3VwJyB9LAogICdsYXlvdXRIaWRlUmlnaHRIb25nYmFvUmFuayc6IHsgJ3poLWNuJzogJ+iuqee6ouWMhemjnicsICd6aC1oayc6ICforpPntIXljIXpo5snLCAnemgtdHcnOiAn6K6T57SF5YyF6aObJywgJ2VuJzogJ+iuqee6ouWMhemjniAoUmVkIEVudmVsb3BlKScgfSwKICAnbGF5b3V0SGlkZVJpZ2h0SW50ZXJlc3QnOiB7ICd6aC1jbic6ICflj6/og73mhJ/lhbTotqPnmoTkuronLCAnemgtaGsnOiAn5Y+v6IO95oSf6IiI6Laj55qE5Lq6JywgJ3poLXR3JzogJ+WPr+iDveaEn+iIiOi2o+eahOS6uicsICdlbic6ICdZb3UgbWF5IGtub3cnIH0sCiAgJ2xheW91dEhpZGVSaWdodE1vdmllJzogeyAnemgtY24nOiAn55S15b2x54Ot6K+E5qacJywgJ3poLWhrJzogJ+eUteW9seeDreivhOamnCcsICd6aC10dyc6ICfnlLXlvbHng63or4TmppwnLCAnZW4nOiAn55S15b2x54Ot6K+E5qacIChIb3QgTW92aWUpJyB9LAogICdsYXlvdXRIaWRlUmlnaHRBdHRGZWVkJzogeyAnemgtY24nOiAn5aW95Y+L5YWz5rOo5Yqo5oCBJywgJ3poLWhrJzogJ+WlveWPi+WFs+azqOWKqOaAgScsICd6aC10dyc6ICflpb3lj4vlhbPms6jliqjmgIEnLCAnZW4nOiAn5aW95Y+L5YWz5rOo5Yqo5oCBIChGcmllbmRzXCcgQXR0ZW50aW9uKScgfSwKICAnbGF5b3V0SGlkZVJpZ2h0QXR0RmVlZERlc2MnOiB7CiAgICAnemgtY24nOiAn5byA5ZCv6K+l6ZqQ6JeP6YCJ6aG55Y+q6IO96K6p5oKo6Ieq5bex5LiN5YaN55yL5Yiw4oCc5aW95Y+L5YWz5rOo5Yqo5oCB4oCd5qih5Z2X77yM5bm25LiN6IO96Zi75q2i5oKo5Ye6546w5Zyo5Yir5Lq655qE4oCc5aW95Y+L5YWz5rOo5Yqo5oCB4oCd5Lit44CCJwogIH0sCiAgJ2xheW91dEhpZGVSaWdodE1lbWJlcic6IHsgJ3poLWNuJzogJ+S8muWRmOS4k+WMuicsICd6aC1oayc6ICfmnIPlk6HlsIjljYAnLCAnemgtdHcnOiAn5pyD5ZOh5bCI5Y2AJywgJ2VuJzogJ1dlaWJvIFZJUCcgfSwKICAnbGF5b3V0SGlkZVJpZ2h0VGFvYmFvTW92aWUnOiB7ICd6aC1jbic6ICfmt5jlrp0mYW1wO+W+ruWNmiDnlLXlvbHpooTllK7mppwnLCAnemgtaGsnOiAn5reY5a6dJmFtcDvlvq7ljZog55S15b2x6aKE5ZSu5qacJywgJ3poLXR3JzogJ+a3mOWunSZhbXA75b6u5Y2aIOeUteW9semihOWUruamnCcvKiBhcyBpcyAqLywgJ2VuJzogJ+a3mOWunSZhbXA75b6u5Y2aIOeUteW9semihOWUruamnCAoVGFvYmFvIE1vdmllKScgfSwKICAnbGF5b3V0SGlkZVJpZ2h0Tm90aWNlJzogeyAnemgtY24nOiAn5YWs5ZGK5qCPJywgJ3poLWhrJzogJ+WFrOWRiuashCcsICd6aC10dyc6ICflhazlkYrmrIQnLCAnZW4nOiAnQnVsbGV0aW4gQm9hcmQnIH0sCiAgLy8g5b6u5Y2a5YaFCiAgJ2xheW91dEhpZGVXZWlibyc6IHsgJ3poLWNuJzogJ+makOiXj+aooeWdlyAtIOW+ruWNmuWGhScsICd6aC1oayc6ICfpmrHol4/mqKHntYQgLSDlvq7ljZrlhacnLCAnemgtdHcnOiAn6Zqx6JeP5qih57WEIC0g5b6u5Y2a5YWnJywgJ2VuJzogJ0hpZGUgbW9kdWxlcyAtIFdlaWJvJyB9LAogICdsYXlvdXRIaWRlV2VpYm9SZWNvbUZlZWQnOiB7ICd6aC1jbic6ICfnsr7lvanlvq7ljZrmjqjojZAnLCAnemgtaGsnOiAn57K+5b2p5b6u5Y2a5o6o6JamJywgJ3poLXR3JzogJ+eyvuW9qeW+ruWNmuaOqOiWpicsICdlbic6ICdXZWlibyB5b3UgbWF5IGludGVyZXN0ZWQgaW4nIH0sCiAgJ2xheW91dEhpZGVXZWlib0ZlZWRUaXAnOiB7ICd6aC1jbic6ICfor4TorrrmoYbmj5DnpLrmqKrluYUnLCAnemgtaGsnOiAn6KmV6KuW5qGG5o+Q56S65qmr5bmFJywgJ3poLXR3JzogJ+ipleirluahhuaPkOekuuapq+W5hScsICdlbic6ICdUaXBzIGZvciBjb21tZW50JyB9LAogICdsYXlvdXRIaWRlV2VpYm9GZWVkVGlwRGVzYyc6IHsKICAgICd6aC1jbic6ICfnu4/luLjlh7rnjrDlnKjor4TorrrmoYbkuIrmlrnnmoTmqKrluYXvvIzpgJrluLjljIXlkKvlpoLigJzlvq7ljZrnpL7ljLrnrqHnkIbkuK3lv4PkuL7miqXlpITnkIblpKfljoXvvIzmrKLov47mn6XpmIXvvIHigJ3nrYnlhoXlrrnjgIInCiAgICAvLyDoi7Hor63nlYzpnaLmqKrluYXlhoXlrrnml6Dnv7vor5EKICB9LAogICdsYXlvdXRIaWRlV2VpYm9Hcm91cFRpcCc6IHsgJ3poLWNuJzogJ+mhtumDqOWIhue7hOaIluWlveWPi+WciOaPkOmGkicsICd6aC1oayc6ICfpoILpg6jliIbntYTmiJblpb3lj4vlnIjmj5DphpInLCAnemgtdHcnOiAn6aCC6YOo5YiG57WE5oiW5aW95Y+L5ZyI5o+Q6YaSJywgJ2VuJzogJ1RpcHMgZm9yIFdlaWJvIGZvciBncm91cHMgb3IgZnJpZW5kcycgfSwKICAnbGF5b3V0SGlkZVdlaWJvVklQQmFja2dyb3VuZCc6IHsgJ3poLWNuJzogJ+iHquWumuS5ieWNoeeJh+iDjOaZrycsICd6aC1oayc6ICfoh6roqILljaHniYfog4zmma8nLCAnemgtdHcnOiAn6Ieq6KiC5Y2h54mH6IOM5pmvJywgJ2VuJzogJ0N1c3RvbWl6ZWQgQ2FyZCBCYWNrZ3JvdW5kJyB9LAogICdsYXlvdXRIaWRlV2VpYm9MYXN0UGljJzogeyAnemgtY24nOiAn5Zu+54mH5YiX6KGo5bCB5bqVJywgJ3poLWhrJzogJ+WclueJh+a4heWWruWwgeW6lScsICd6aC10dyc6ICflnJbniYfmuIXllq7lsIHlupUnLCAnZW4nOiAnQmFjayBjb3ZlciBvZiBwaWN0dXJlIGxpc3QnIH0sCiAgJ2xheW91dEhpZGVXZWlib1BpY1RhZyc6IHsgJ3poLWNuJzogJ+WbvueJh+agh+etvicsICd6aC1oayc6ICflnJbniYfmqJnnsaQnLCAnemgtdHcnOiAn5ZyW54mH5qiZ57GkJywgJ2VuJzogJ1RhZ3MgZm9yIHBpY3R1cmUnIH0sCiAgJ2xheW91dEhpZGVXZWlib1NvblRpdGxlJzogeyAnemgtY24nOiAn5ZCM5rqQ6L2s5Y+R5ZCI5bm25o+Q56S6JywgJ3poLWhrJzogJ+WQjOa6kOi9rOWPkeWQiOW5tuaPkOekuicsICd6aC10dyc6ICflkIzmupDovazlj5HlkIjlubbmj5DnpLonLCAnZW4nOiAn5ZCM5rqQ6L2s5Y+R5ZCI5bm2IChNZXJnZWQgZm9yd2FyZHMpJyB9LAogICdsYXlvdXRIaWRlV2VpYm9DYXJkJzogeyAnemgtY24nOiAn5b6u5Y2a5Y2h54mHJywgJ3poLWhrJzogJ+W+ruWNmuWNoeeJhycsICd6aC10dyc6ICflvq7ljZrljaHniYcnLCAnZW4nOiAnV2VpYm8gQ2FyZHMnIH0sCiAgJ2xheW91dEhpZGVXZWlib0NhcmREZXNjJzogewogICAgJ3poLWNuJzogJ+W+ruWNmuWGheWvueWIhuS6q+WGheWuueeahOaRmOimgeaPj+i/sO+8jOWmguivnemimOWNoeeJh+OAgemVv+W+ruWNmuWNoeeJh+OAgeWIhuS6q+WGheWuueWNoeeJh+etieOAgumakOiXj+WQjuaCqOWPr+S7peW8gOWQr+W3peWFt+mAiemhueWNoeS4reeahOKAnFtbdG9vbC53ZWlib3Rvb2wuY2FyZF9idXR0b25dXeKAneWKn+iDve+8jOeCueWHu+mTvuaOpeWcqOW9k+WJjemhtemdouebtOaOpeaYvuekuumVv+W+ruWNmuaIluiiq+WIhuS6q+eahOinhumikeetieOAgicsCiAgfSwKICAnbGF5b3V0SGlkZVdlaWJvQXJ0aWNhbFBheSc6IHsgJ3poLWNuJzogJ+W+ruWNmuaJk+i1jycsICd6aC1oayc6ICflvq7ljZrmiZPotY8nLCAnemgtdHcnOiAn5b6u5Y2a5omT6LWPJywgJ2VuJzogJ+W+ruWNmuaJk+i1jyAoV2VpYm8gQWN0aWNhbCBQYXkpJyB9LAogICdsYXlvdXRIaWRlV2VpYm9UYWcnOiB7ICd6aC1jbic6ICflvq7ljZrmoIfnrb4nLCAnemgtaGsnOiAn5b6u5Y2a5qiZ57GkJywgJ3poLXR3JzogJ+W+ruWNmuaomeexpCcsICdlbic6ICdUYWdzIGZvciBXZWlibycgfSwKICAnbGF5b3V0SGlkZVdlaWJvTW92aWVUYWcnOiB7ICd6aC1jbic6ICflvq7ljZrnlLXlvbEv6K+d6aKYJywgJ3poLWhrJzogJ+W+ruWNmumbu+W9sS/oqbHpoYwnLCAnemgtdHcnOiAn5b6u5Y2a6Zu75b2xL+ipsemhjCcsICdlbic6ICdXZWlibyBNb3ZpZSAvIFRvcGljJyB9LAogICdsYXlvdXRIaWRlV2VpYm9Nb3ZpZVRhZ0Rlc2MnOiB7ICd6aC1jbic6ICfkvY3kuo7lvq7ljZrlupXpg6jnmoTmoLnmja7lvq7ljZrmraPmloflhoXlrrnnmoTlhbPplK7lrZfoh6rliqjnlJ/miJDnmoTor53popjjgIHnlLXlvbHnrYnnmoTpk77mjqXjgIInIH0sCiAgJ2xheW91dEhpZGVXZWlib1NvdXJjZSc6IHsgJ3poLWNuJzogJ+adpea6kCcsICd6aC1oayc6ICfkvobmupAnLCAnemgtdHcnOiAn5L6G5rqQJywgJ2VuJzogJ1NvdXJjZScgfSwKICAnbGF5b3V0SGlkZVdlaWJvUG9wJzogeyAnemgtY24nOiAn6ZiF6K+75pWw5ZKM5o6o5bm/JywgJ3poLWhrJzogJ+mWseiugOaVuOWSjOaOqOW7oycsICd6aC10dyc6ICfplrHoroDmlbjlkozmjqjlu6MnLCAnZW4nOiAnUmVhZGluZyBDb3VudCAmYW1wOyBQcm9tb3RlJyB9LAogICdsYXlvdXRIaWRlV2VpYm9MaWtlJzogeyAnemgtY24nOiAn6LWeIC0g5b6u5Y2aJywgJ3poLWhrJzogJ+iumiAtIOW+ruWNmicsICd6aC10dyc6ICforpogLSDlvq7ljZonLCAnZW4nOiAnTGlrZSAtIFdlaWJvJyB9LAogICdsYXlvdXRIaWRlV2VpYm9MaWtlQ29tbWVudCc6IHsgJ3poLWNuJzogJ+i1niAtIOivhOiuuicsICd6aC1oayc6ICforpogLSDoqZXoq5YnLCAnemgtdHcnOiAn6K6aIC0g6KmV6KuWJywgJ2VuJzogJ0xpa2UgLSBDb21tZW50JyB9LAogICdsYXlvdXRIaWRlV2VpYm9Gb3J3YXJkJzogeyAnemgtY24nOiAn6L2s5Y+RJywgJ3poLWhrJzogJ+i9ieeZvCcsICd6aC10dyc6ICfovYnnmbwnLCAnZW4nOiAnRm9yd2FyZCcgfSwKICAnbGF5b3V0SGlkZVdlaWJvRmF2b3VyaXRlJzogeyAnemgtY24nOiAn5pS26JePJywgJ3poLWhrJzogJ+aUtuiXjycsICd6aC10dyc6ICfmlLbol48nLCAnZW4nOiAnRmF2b3VyaXRlJyB9LAogICdsYXlvdXRIaWRlV2VpYm9Qcm9tb3RlT3RoZXInOiB7ICd6aC1jbic6ICfluK7kuIrlpLTmnaEnLCAnemgtaGsnOiAn5biu5LiK5aS05p2hJywgJ3poLXR3JzogJ+W4ruS4iuWktOadoScsICdlbic6ICfluK7kuIrlpLTmnaEnIH0sCiAgJ2xheW91dEhpZGVXZWlib1JlcG9ydCc6IHsgJ3poLWNuJzogJ+S4vuaKpScsICd6aC1oayc6ICfoiInloLEnLCAnemgtdHcnOiAn6IiJ5aCxL+aqouiIiScsICdlbic6ICdSZXBvcnQnIH0sCiAgJ2xheW91dEhpZGVXZWlib1NoaWVsZCc6IHsgJ3poLWNuJzogJ+Wxj+iUvScsICd6aC1oayc6ICflsY/olL0nLCAnemgtdHcnOiAn5bGP6JS9JywgJ2VuJzogJ+Wxj+iUvScgfSwKICAnbGF5b3V0SGlkZVdlaWJvVXNlQ2FyZEJhY2tncm91bmQnOiB7ICd6aC1jbic6ICfkvb/nlKjmraTljaHniYfog4zmma8nLCAnemgtaGsnOiAn5L2/55So5q2k5Y2h54mH6IOM5pmvJywgJ3poLXR3JzogJ+S9v+eUqOatpOWNoeeJh+iDjOaZrycsICdlbic6ICfkvb/nlKjmraTljaHniYfog4zmma8nIH0sCiAgLy8g5Liq5Lq65Li76aG1CiAgJ2xheW91dEhpZGVQZXJzb24nOiB7ICd6aC1jbic6ICfpmpDol4/mqKHlnZcgLSDkuKrkurrkuLvpobUnLCAnemgtaGsnOiAn6Zqx6JeP5qih57WEIC0g5YCL5Lq65Li76aCBJywgJ3poLXR3JzogJ+maseiXj+aooee1hCAtIOWAi+S6uuS4u+mggScsICdlbic6ICdIaWRlIG1vZHVsZXMgLSBQZXJzb25hbCBob21lIHBhZ2UnIH0sCiAgJ2xheW91dEhpZGVQZXJzb25Nb3ZlVGhpbmdzJzogeyAnemgtY24nOiAn56e75Yqo6YOo5Lu277yI5Lya5ZGY5qih5p2/77yJJywgJ3poLWhrJzogJ+enu+WLlemDqOS7tu+8iOacg+WToeaooeadv++8iScsICd6aC10dyc6ICfnp7vli5Xpg6jku7bvvIjmnIPlk6HmqKHmnb/vvIknLCAnZW4nOiAnTW92aW5nIFRoaW5ncyAoVklQIFRlbXBsYXRlKScgfSwKICAnbGF5b3V0SGlkZVBlcnNvbkNvdmVyJzogeyAnemgtY24nOiAn5bCB6Z2i5Zu+JywgJ3poLWhrJzogJ+WwgemdouWclicsICd6aC10dyc6ICflsIHpnaLlnJYnLCAnZW4nOiAnQ292ZXIgUGljdHVyZScgfSwKICAnbGF5b3V0SGlkZVBlcnNvbkJHSW1nJzogeyAnemgtY24nOiAn6IOM5pmv5Zu+JywgJ3poLWhrJzogJ+iDjOaZr+WclicsICd6aC10dyc6ICfog4zmma/lnJYnLCAnZW4nOiAnQmFja2dyb3VuZCBQaWN0dXJlJyB9LAogICdsYXlvdXRIaWRlUGVyc29uQmFkZ2VJY29uJzogeyAnemgtY24nOiAn5YuL56ugJywgJ3poLWhrJzogJ+WLs+eroCcsICd6aC10dyc6ICfli7Pnq6AnLCAnZW4nOiAnQmFkZ2VzJyB9LAogICdsYXlvdXRIaWRlUGVyc29uVmVyaWZ5JzogeyAnemgtY24nOiAn5Liq5Lq66LWE5paZ6K6k6K+BJywgJ3poLWhrJzogJ+WAi+S6uuizh+aWmeiqjeitiScsICd6aC10dyc6ICflgIvkurros4fmlpnoqo3orYknLCAnZW4nOiAnUGVyc29uIEluZm8gVmVyaWZpY2F0aW9uJyB9LAogICdsYXlvdXRIaWRlUGVyc29uRWRpdFBlcnNvbkluZm8nOiB7ICd6aC1jbic6ICfnvJbovpHkuKrkurrotYTmlpknLCAnemgtaGsnOiAn57yW6L6R5Liq5Lq66LWE5paZJywgJ3poLXR3JzogJ+e8lui+keS4quS6uui1hOaWmScsICdlbic6ICfnvJbovpHkuKrkurrotYTmlpkgKEVkaXQgcGVyc29uIGluZm8pJyB9LAogICdsYXlvdXRIaWRlUGVyc29uU3RhdHMnOiB7ICd6aC1jbic6ICflhbPms6gv57KJ5LidL+W+ruWNmuaVsCcsICd6aC1oayc6ICfpl5zms6gv57KJ57WyL+W+ruWNmuaVuCcsICd6aC10dyc6ICfpl5zms6gv57KJ57WyL+W+ruWNmuaVuCcsICdlbic6ICdOdW1iZXJzIG9mIEZvbGxvd2luZy9Gb2xsb3dlcnMvV2VpYm8nIH0sCiAgJ2xheW91dEhpZGVQZXJzb25NeURhdGEnOiB7ICd6aC1jbic6ICfmiJHnmoTlvq7ljZrkurrmsJQnLCAnemgtaGsnOiAn5oiR55qE5b6u5Y2a5Lq65rCUJywgJ3poLXR3JzogJ+aIkeeahOW+ruWNmuS6uuawlCcsICdlbic6ICdXZWlibyBQb3B1bGFyaXR5JyB9LAogICdsYXlvdXRIaWRlUGVyc29uU3VnZ2VzdFVzZXInOiB7ICd6aC1jbic6ICflj6/og73mhJ/lhbTotqPnmoTkuronLCAnemgtaGsnOiAn5Y+v6IO95oSf5YW06Laj55qE5Lq6JywgJ3poLXR3JzogJ+WPr+iDveaEn+WFtOi2o+eahOS6uicvKiBhcyBpcyAqLywgJ2VuJzogJ1N1Z2dlc3RlZCcgfSwKICAnbGF5b3V0SGlkZVBlcnNvbkdyb3VwJzogeyAnemgtY24nOiAn5YWs5byA5YiG57uEJywgJ3poLWhrJzogJ+WFrOW8gOWIhue7hCcsICd6aC10dyc6ICflhazlvIDliIbnu4QnLyogYXMgaXMgKi8sICdlbic6ICflhazlvIDliIbnu4QgKFB1YmxpYyBHcm91cCknIH0sCiAgJ2xheW91dEhpZGVQZXJzb25SZWxhdGlvbic6IHsgJ3poLWNuJzogJ+W+ruWFs+ezuycsICd6aC1oayc6ICflvq7lhbPns7snLCAnemgtdHcnOiAn5b6u5YWz57O7Jy8qIGFzIGlzICovLCAnZW4nOiAnV2VpYm8gcmVsYXRpb25zJyB9LAogICdsYXlvdXRIaWRlUGVyc29uQWxidW0nOiB7ICd6aC1jbic6ICflm77niYcnLCAnemgtaGsnOiAn55u45YaKJywgJ3poLXR3JzogJ+ebuOWGiicsICdlbic6ICdBbGJ1bScgfSwKICAnbGF5b3V0SGlkZVBlcnNvbkhvdFRvcGljJzogeyAnemgtY24nOiAn6K+d6aKYJywgJ3poLWhrJzogJ+ipsemhjCcsICd6aC10dyc6ICfoqbHpoYwnLCAnZW4nOiAnVG9waWMnIH0sCiAgJ2xheW91dEhpZGVQZXJzb25Ib3RXZWlibyc6IHsgJ3poLWNuJzogJ+eDremXqOW+ruWNmicsICd6aC1oayc6ICfnhrHploDlvq7ljZonLCAnemgtdHcnOiAn54ax6ZaA5b6u5Y2aJywgJ2VuJzogJ0hvdCBXZWlibycgfSwKICAnbGF5b3V0SGlkZVBlcnNvblVzZXJMaXN0JzogeyAnemgtY24nOiAn5LiO5LuWL+WlueebuOS8vOeahOS6uicsICd6aC1oayc6ICfoiIfku5Yv5aW555u45Ly855qE5Lq6JywgJ3poLXR3JzogJ+iIh+S7li/lpbnnm7jkvLznmoTkuronLCAnZW4nOiAnd2l0aCBIZS9TaGVTaW1pbGFyIFBlcnNvbicgLyogYXMgaXMgKi8gfSwKICAnbGF5b3V0SGlkZVBlcnNvbkhvbmdiYW8nOiB7ICd6aC1jbic6ICflvq7ljZrnuqLljIUnLCAnemgtaGsnOiAn5b6u5Y2a57qi5YyFJywgJ3poLXR3JzogJ+W+ruWNmue6ouWMhScsICdlbic6ICflvq7ljZrnuqLljIUgKFJlZCBwYWNrKScgfSwKICAnbGF5b3V0SGlkZVBlcnNvbldlbndvRHInOiB7ICd6aC1jbic6ICfniLHpl67ljLvnlJ8nLCAnemgtaGsnOiAn54ix6Zeu5Yy755SfJywgJ3poLXR3JzogJ+eIsemXruWMu+eUnycsICdlbic6ICfniLHpl67ljLvnlJ8gKElhc2sgbWVkaWNhbCknIH0sCiAgJ2xheW91dEhpZGVQZXJzb25UaW1lbGluZSc6IHsgJ3poLWNuJzogJ+aXtumXtOi9tCcsICd6aC1oayc6ICfmmYLplpPou7gnLCAnemgtdHcnOiAn5pmC6ZaT6Lu4JywgJ2VuJzogJ1RpbWVsaW5lJyB9LAogIC8vIOS4quS6uuS4u+mhtei+ueagj+aooeWdlwogICdsYXlvdXRIaWRlUExlZnQnOiB7ICd6aC1jbic6ICfpmpDol4/mqKHlnZcgLSDovrnmoI/lhbbku5YnLCAnemgtaGsnOiAn6Zqx6JeP5YW25LuWIC0g6YKK5qyE5YW25LuWJywgJ3poLXR3JzogJ+maseiXj+aooee1hCAtIOmCiuashOWFtuS7licsICdlbic6ICdIaWRlIG1vZHVsZXMgLSBPdGhlcnMgaW4gc2lkZSBjb2x1bW4nIH0sCiAgJ2xheW91dEhpZGVQTGVmdERlc2MnOiB7CiAgICAnemgtY24nOiAn6L655qCP6Zmk5LiK6L+w55qE5LiA5Lqb57uf5LiA55qE5qih5Z2X5aSW77yM5pyJ5LiA5Lqb5Y+v5Lul6Ieq5a6a5LmJ55qE5qih5Z2X77yI5Li76KaB5piv5LyB5Lia6K6k6K+B55So5oi377yJ44CC6L+Z5Lqb5qih5Z2X5peg5rOV5LiA5LiA5YiX5Li+77yM5L2g5Y+v5Lul5bCG6KaB5bGP6JS955qE5qih5Z2X55qE5qCH6aKY5re75Yqg5Yiw6L+Z6YeM5p2l5bGP6JS96L+Z5Lqb5qih5Z2X44CCJwogIH0sCiAgJ2xheW91dEhpZGVQTGVmdERldGFpbHMnOiB7ICd6aC1jbic6ICfpmpDol4/kuKrkurrkuLvpobXovrnmoI/kuK3ku6XkuIvmoIfpopjnmoTmqKHlnZc8YnIgLz7mqKHlnZcnLCAnemgtaGsnOiAn6Zqx6JeP5YCL5Lq65Li76aCB6YKK5qyE5Lit5Lul5LiL5qiZ6aGM55qE5qih57WEPGJyIC8+5qih57WEJywgJ3poLXR3JzogJ+maseiXj+WAi+S6uuS4u+mggemCiuashOS4reS7peS4i+aomemhjOeahOaooee1hDxiciAvPuaooee1hCcsICdlbic6ICdIaWRlIG1vZHVsZXMgb24gcGVyc29uYWwgaG9tZXBhZ2Ugd2l0aCB0aGVzZSB0aXRsZXM8YnIgLz5Nb2R1bGVzJyB9LAogIC8vIOa2iOaBr+mhtemdogogICdsYXlvdXRIaWRlTWVzc2FnZXMnOiB7ICd6aC1jbic6ICfpmpDol4/mqKHlnZcgLSDmtojmga/pobXpnaInLCAnemgtaGsnOiAn6Zqx6JeP5qih57WEIC0g5raI5oGv57ay6aCBJywgJ3poLXR3JzogJ+maseiXj+aooee1hCAtIOa2iOaBr+e2sumggScsICdlbic6ICdIaWRlIG1vZHVsZXMgLSBOZXdzIHBhZ2UnIH0sCiAgJ2xheW91dEhpZGVNZXNzYWdlc0hlbHAnOiB7ICd6aC1jbic6ICfkvb/nlKjlsI/luK7liqknLCAnemgtaGsnOiAn5L2/55So5bCP5bmr5YqpJywgJ3poLXR3JzogJ+S9v+eUqOWwj+W5q+WKqScsICdlbic6ICdUaXBzJyB9LAogICdsYXlvdXRIaWRlTWVzc2FnZXNGZWVkYmFjayc6IHsgJ3poLWNuJzogJ+W+ruWNmuaEj+ingeWPjemmiCcsICd6aC1oayc6ICflvq7ljZrmhI/op4Hlj43ppognLCAnemgtdHcnOiAn5b6u5Y2a5oSP6KeB5Y+N6aaIJy8qIGFzIGlzICovLCAnZW4nOiAnRmVlZCBCYWNrJy8qIGFzIGlzICovIH0sCiAgJ2xheW91dEhpZGVNZXNzYWdlc1lvdWRhbyc6IHsgJ3poLWNuJzogJ+WvvOWHuuaUtuiXj+WkuScsICd6aC1oayc6ICflr7zlh7rmlLbol4/lpLknLCAnemgtdHcnOiAn5a+85Ye65pS26JeP5aS5JywgJ2VuJzogJ0V4cG9ydCBmYXZvcml0ZXMnIH0sCiAgLy8g5p2C6aG5CiAgJ2xheW91dEhpZGVPdGhlcic6IHsgJ3poLWNuJzogJ+makOiXj+aooeWdlyAtIOadgumhuScsICd6aC1oayc6ICfpmrHol4/mqKHntYQgLSDpm5zpoIUnLCAnemgtdHcnOiAn6Zqx6JeP5qih57WEIC0g6Zuc6aCFJywgJ2VuJzogJ0hpZGUgbW9kdWxlcyAtIE90aGVycycgfSwKICAnbGF5b3V0SGlkZU90aGVyQWRzJzogeyAnemgtY24nOiAn5bm/5ZGKJywgJ3poLWhrJzogJ+W7o+WRiicsICd6aC10dyc6ICflu6PlkYonLCAnZW4nOiAnQWR2ZXJ0aXNlbWVudCcgfSwKICAnbGF5b3V0SGlkZU90aGVyTXVzaWMnOiB7ICd6aC1jbic6ICflvq7pn7PkuZAnLCAnemgtaGsnOiAn5b6u6Z+z5LmQJywgJ3poLXR3JzogJ+W+rumfs+S5kCcvKiBhcyBpcyAqLywgJ2VuJzogJ+W+rumfs+S5kCAoV2VpYm8gTXVzaWMpJyB9LAogICdsYXlvdXRIaWRlT3RoZXJUZW1wbGF0ZSc6IHsgJ3poLWNuJzogJ+iuvue9ruaooeadvycsICd6aC1oayc6ICfog4zmma/oqK3lrponLCAnemgtdHcnOiAn6IOM5pmv6Kit5a6aJywgJ2VuJzogJ1RlbXBsYXRlIFNldHRpbmdzJyB9LAogICdsYXlvdXRIaWRlT3RoZXJIb21lVGlwJzogeyAnemgtY24nOiAn6aG26YOo5o+Q56S65qiq5bmFJywgJ3poLWhrJzogJ+mggumDqOaPkOekuuapq+W5hScsICd6aC10dyc6ICfpoILpg6jmj5DnpLrmqavluYUnLCAnZW4nOiAnVG9wIHRpcHMgYmFubmVyJyB9LAogICdsYXlvdXRIaWRlT3RoZXJIb21lVGlwRGVzYyc6IHsKICAgICd6aC1jbic6ICflh7rnjrDlnKjlr7zoiKrmoI/kuIvmlrnlhbbku5bmiYDmnInlhoXlrrnnmoTkuIrmlrnnmoTmqKrluYXjgILkuIDoiKznlKjmnaXmjqjojZDlvq7ljZrph43opoHnmoTmlrDlip/og73jgIInLAogIH0sCiAgJ2xheW91dEhpZGVPdGhlckZvb3Rlcic6IHsgJ3poLWNuJzogJ+mhtemdouW6lemDqCcsICd6aC1oayc6ICfpoIHpnaLlupXpg6gnLCAnemgtdHcnOiAn6aCB6Z2i5bqV6YOoJywgJ2VuJzogJ0Zvb3RlcicgfSwKICAnbGF5b3V0SGlkZU90aGVyRm9vdGVyRGVzYyc6IHsKICAgICd6aC1jbic6ICfpobXpnaLlupXpg6jnmoTlr7zoiKrpk77mjqXjgIInLAogIH0sCiAgJ2xheW91dEhpZGVPdGhlcldiSW0nOiB7ICd6aC1jbic6ICflvq7ljZrmoYzpnaLmjqjojZDvvIjlj7PkuIvvvIknLCAnemgtaGsnOiAn5b6u5Y2a5qGM6Z2i5o6o6Jam77yI5Y+z5LiL77yJJywgJ3poLXR3JzogJ+W+ruWNmuahjOmdouaOqOiWpu+8iOWPs+S4i++8iScsICdlbic6ICflvq7ljZrmoYzpnaIyMDE0IChEZXNrdG9wIFdlaWJvKSwgYm90dG9tIHJpZ2h0JyB9LAogICdsYXlvdXRIaWRlT3RoZXJXYkltRGVzYyc6IHsKICAgICd6aC1jbic6ICflgbblsJTlh7rnjrDlnKjlj7PkuIvop5LnmoTmjqjojZDlronoo4Xlvq7ljZrmoYzpnaLnmoTmj5DnpLrmoYbjgIInLAogIH0sCiAgJ2xheW91dEhpZGVPdGhlcklNJzogeyAnemgtY24nOiAn56eB5L+h6IGK5aSp77yI5Y+z5LiL77yJJywgJ3poLWhrJzogJ+engeS/oeiBiuWkqe+8iOWPs+S4i++8iScsICd6aC10dyc6ICfnp4Hkv6HogYrlpKnvvIjlj7PkuIvvvIknLyogYXMgaXMgKi8sICdlbic6ICdDaGF0IChib3R0b20gcmlnaHQpJyB9LAogICdsYXlvdXRIaWRlT3RoZXJJTURlc2MnOiB7CiAgICAnemgtY24nOiAn6ZqQ6JeP5ZCO5oKo6L+Y5Y+v5Lul5Zyo56eB5L+h6aG16Z2i5pS25Y+R56eB5L+h77ya6byg5qCH5oyH5ZCR5Y+z5LiK6KeS5raI5oGv5Zu+5qCH5Zyo5LiL5ouJ6I+c5Y2V5Lit6YCJ5oup4oCc56eB5L+h4oCd5Y2z5Y+v5omT5byA56eB5L+h6aG16Z2i44CCJywKICB9LAogICdsYXlvdXRIaWRlT3RoZXJUaXAnOiB7ICd6aC1jbic6ICflip/og73mj5DnpLrmoYYnLCAnemgtaGsnOiAn5Yqf6IO95o+Q56S65qGGJywgJ3poLXR3JzogJ+WKn+iDveaPkOekuuahhicsICdlbic6ICdGdW5jdGlvbiBUaXBzJyB9LAogICdsYXlvdXRIaWRlT3RoZXJUaXBEZXNjJzogewogICAgJ3poLWNuJzogJ+WBtuWwlOS8muWHuueOsOeahOaWsOWKn+iDveaOqOiNkOeahOW8ueahhu+8jOWmguaenOmakOiXj+S6huWvueW6lOWKn+iDveeahOeVjOmdouWPr+iDveW8ueahhuS8muaYvuekuuWIsOWlh+aAqueahOWcsOaWueOAgicsCiAgfSwKICAnbGF5b3V0SGlkZU90aGVyUmVsYXRlZFdCJzogeyAnemgtY24nOiAn55u45YWz5b6u5Y2a5o6o6I2QJywgJ3poLWhrJzogJ+ebuOWFs+W+ruWNmuaOqOiNkCcsICd6aC10dyc6ICfnm7jlhbPlvq7ljZrmjqjojZAnLCAnZW4nOiAn55u45YWz5b6u5Y2a5o6o6I2QIChSZWxhdGVkIFdlaWJvKScgfSwKICAnbGF5b3V0SGlkZU90aGVyUmVsYXRlZFdCRGVzYyc6IHsKICAgICd6aC1jbic6ICflnKjljZXmnaHlvq7ljZrpobXpnaLlj6/ku6XnnIvliLDnmoTnm7jlhbPlvq7ljZrmjqjojZAnLAogIH0sCiAgJ2xheW91dEhpZGVPdGhlclJlbGF0ZWRBcnRpY2FsJzogeyAnemgtY24nOiAn5aS05p2h5paH56ug6aG15o6o6I2Q6ZiF6K+7JywgJ3poLWhrJzogJ+mgreaineaWh+eroOmggeaOqOiWpumWseiugCcsICd6aC10dyc6ICfpoK3mop3mlofnq6DpoIHmjqjolqbplrHoroAnLCAnZW4nOiAn5o6o6I2Q6ZiF6K+7IChTdWdnZXN0ZWQgQXJ0aWNhbCknIH0sCiAgJ2xheW91dEhpZGVPdGhlclNlbmRXZWlibyc6IHsgJ3poLWNuJzogJ+mmlumhteWklueahOW+ruWNmuWPkeW4g+ahhicsICd6aC1oayc6ICfpppbpoIHlpJbnmoTlvq7ljZrnmbzkvYjmoYYnLCAnemgtdHcnOiAn6aaW6aCB5aSW55qE5b6u5Y2a55m85L2I5qGGJywgJ2VuJzogJ0FsbCBvdGhlciBXZWlibyBwdWJsaXNoZXJzJyB9LAogICdsYXlvdXRIaWRlT3RoZXJTZW5kV2VpYm9EZXNjJzogewogICAgJ3poLWNuJzogJ+mZpOS6hummlumhteeahOW+ruWNmuWPkeW4g+ahhu+8jOWPs+S4iuinkuaMiemSruW8ueWHuueahOW/q+mAn+WPkeW4g+ahhuWklu+8m+WFtuS7lueahOWQhOenjeWPkeW4g+ahhuOAguWmguW+ruWNmuaWh+eroOS4i+aWuei9rOWPkeeUqOeahOWPkeW4g+ahhuetieOAgicsCiAgfSwKICAvLyDlt6XlhbcKICAndG9vbEZpbHRlckdyb3VwVGl0bGUnOiB7ICd6aC1jbic6ICflip/og73mlLnpgKAnLCAnemgtaGsnOiAn5Yqf6IO95pS56YCgJywgJ3poLXR3JzogJ+WKn+iDveaUuemAoCcsICdlbic6ICdGdW5jdGlvbnMnIH0sCiAgLy8g6L655qCPCiAgJ3NpZGVDb2x1bW5Ub29sc1RpdGxlJzogeyAnemgtY24nOiAn6L655qCPJywgJ3poLWhrJzogJ+mCiuashCcsICd6aC10dyc6ICfpgormrIQnLCAnZW4nOiAnU2lkZSBDb2x1bW4nIH0sCiAgJ3Nob3dBbGxHcm91cERlc2MnOiB7ICd6aC1jbic6ICflsZXlvIDlt6bmoI/liIbnu4QnLCAnemgtaGsnOiAn5bGV6ZaL5bem5qyE5YiG57WEJywgJ3poLXR3JzogJ+WxlemWi+W3puashOWIhue1hCcsICdlbic6ICdVbmZvbGQgZ3JvdXBzIGluIGxlZnQgY29sdW1uJyB9LAogICdzaG93QWxsTXNnTmF2JzogewogICAgJ3poLWNuJzogJ+WcqOmmlumhteW3puagj+aYvuekuua2iOaBr+WIhue7hO+8jOWMheWQq+S7peS4i+W/q+aNt+mTvuaOpXt7PGk+fX18fHt7PGF0bWU+fX17e2xlZnROYXZBdE1lfX18e3s8Y210Pn19e3tsZWZ0TmF2Q210fX18e3s8bGlrZT59fXt7bGVmdE5hdkxpa2V9fXx7ezxkbT59fXt7bGVmdE5hdkRNfX18e3s8bXNnYm94Pn19e3tsZWZ0TmF2TXNnQm94fX18e3s8Z3JvdXA+fX17e2xlZnROYXZHcm91cH19fHt7PGRtc3ViPn19e3tsZWZ0TmF2RE1TdWJ9fScsCiAgICAnemgtaGsnOiAn5Zyo6aaW6aCB5bem5qyE6aGv56S65raI5oGv5YiG57WE77yM5YyF5ZCr5Lul5LiL5b+r5o236YCj57WQe3s8aT59fXx8e3s8YXRtZT59fXt7bGVmdE5hdkF0TWV9fXx7ezxjbXQ+fX17e2xlZnROYXZDbXR9fXx7ezxsaWtlPn19e3tsZWZ0TmF2TGlrZX19fHt7PGRtPn19e3tsZWZ0TmF2RE19fXx7ezxtc2dib3g+fX17e2xlZnROYXZNc2dCb3h9fXx7ezxncm91cD59fXt7bGVmdE5hdkdyb3VwfX18e3s8ZG1zdWI+fX17e2xlZnROYXZETVN1Yn19JywKICAgICd6aC10dyc6ICflnKjpppbpoIHlt6bmrITpoa/npLrmtojmga/liIbntYTvvIzljIXlkKvku6XkuIvlv6vmjbfpgKPntZB7ezxpPn19fHx7ezxhdG1lPn19e3tsZWZ0TmF2QXRNZX19fHt7PGNtdD59fXt7bGVmdE5hdkNtdH19fHt7PGxpa2U+fX17e2xlZnROYXZMaWtlfX18e3s8ZG0+fX17e2xlZnROYXZETX19fHt7PG1zZ2JveD59fXt7bGVmdE5hdk1zZ0JveH19fHt7PGdyb3VwPn19e3tsZWZ0TmF2R3JvdXB9fXx7ezxkbXN1Yj59fXt7bGVmdE5hdkRNU3VifX0nLAogICAgJ2VuJzogJ1Nob3cgbmV3cyBpbiBsZWZ0IGNvbHVtbiBvZiBob21lIHBhZ2Ugd2l0aCBmb2xsb3dpbmcgaXRlbXN7ezxpPn19fHx7ezxhdG1lPn19e3tsZWZ0TmF2QXRNZX19fHt7PGNtdD59fXt7bGVmdE5hdkNtdH19fHt7PGxpa2U+fX17e2xlZnROYXZMaWtlfX18fHt7PGRtPn19e3tsZWZ0TmF2RE19fXx7ezxtc2dib3g+fX17e2xlZnROYXZNc2dCb3h9fXx7ezxncm91cD59fXt7bGVmdE5hdkdyb3VwfX18e3s8ZG1zdWI+fX17e2xlZnROYXZETVN1Yn19JwogIH0sCiAgJ3Nob3dBbGxNc2dOYXZEZXNjJzogewogICAgJ3poLWNuJzogJ+Wxj+W5leWIhui+qOeOh+i/h+Wwj+aXtuivt+WLv+mAieaLqeivpemhue+8jOWQpuWImeWPr+iDveS8muaYvuekuuS4jeWujOWFqOOAgicKICB9LAogICdsZWZ0TmF2TXNnJzogeyAnemgtY24nOiAn5raI5oGvJywgJ3poLWhrJzogJ+a2iOaBrycsICd6aC10dyc6ICfmtojmga8nLCAnZW4nOiAnTmV3cycgfSwKICAnbGVmdE5hdkF0TWUnOiB7ICd6aC1jbic6ICdA5oiR55qEJywgJ3poLWhrJzogJ0DmiJHnmoQnLCAnemgtdHcnOiAnQOaIkeeahCcsICdlbic6ICdATXknLyogYXMgaXMgKi8gfSwKICAnbGVmdE5hdkNtdCc6IHsgJ3poLWNuJzogJ+ivhOiuuicsICd6aC1oayc6ICfoqZXoq5YnLCAnemgtdHcnOiAn6KmV6KuWJywgJ2VuJzogJ0NvbW1lbnQnIH0sCiAgJ2xlZnROYXZMaWtlJzogeyAnemgtY24nOiAn6LWeJywgJ3poLWhrJzogJ+iumicsICd6aC10dyc6ICforponLCAnZW4nOiAnTGlrZScgfSwKICAnbGVmdE5hdkRNJzogeyAnemgtY24nOiAn56eB5L+hJywgJ3poLWhrJzogJ+engeS/oScsICd6aC10dyc6ICfnp4Hkv6EnLCAnZW4nOiAnTWVzc2FnZScgfSwKICAnbGVmdE5hdk1zZ0JveCc6IHsgJ3poLWNuJzogJ+acquWFs+azqOS6uuengeS/oScsICd6aC1oayc6ICfmnKrpl5zms6jkurrnp4Hkv6EnLCAnemgtdHcnOiAn5pyq6Zec5rOo5Lq656eB5L+hJywgJ2VuJzogJ01lc3NhZ2VzIGZyb20gdGhvc2UgeW91IGRvblwndCBmb2xsb3cnIH0sCiAgJ2xlZnROYXZHcm91cCc6IHsgJ3poLWNuJzogJ+e+pOmAmuefpScsICd6aC1oayc6ICfnvqTpgJrnn6UnLCAnemgtdHcnOiAn576k6YCa55+lJywgJ2VuJzogJ+e+pOmAmuefpScvKiBhcyBpcyAqLyB9LAogICdsZWZ0TmF2RE1TdWInOiB7ICd6aC1jbic6ICforqLpmIXmtojmga8nLCAnemgtaGsnOiAn6K6i6ZiF5raI5oGvJywgJ3poLXR3JzogJ+iuoumYhea2iOaBrycsICdlbic6ICforqLpmIXmtojmga8nLyogYXMgaXMgKi8gfSwKICAnbWVyZ2VMZWZ0UmlnaHQnOiB7ICd6aC1jbic6ICflkIjlubblt6blj7PovrnmoI985Yiwe3s8c2lkZT59fXt7PGk+fX0nLCAnemgtaGsnOiAn5ZCI5L215bem5Y+z6YKK5qyEfOWIsHt7PHNpZGU+fX17ezxpPn19JywgJ3poLXR3JzogJ+WQiOS9teW3puWPs+mCiuashHzliLB7ezxzaWRlPn19e3s8aT59fScsICdlbic6ICdNZXJnZSBsZWZ0ICZhbXA7IHJpZ2h0IGNvbHVtbiB8IHRvIHt7PHNpZGU+fX17ezxpPn19JyB9LAogICdtZXJnZUxlZnRSaWdodExlZnQnOiB7ICd6aC1jbic6ICflt6bkvqcnLCAnemgtaGsnOiAn5bem5YG0JywgJ3poLXR3JzogJ+W3puWBtCcsICdlbic6ICdsZWZ0IHNpZGUnIH0sCiAgJ21lcmdlTGVmdFJpZ2h0UmlnaHQnOiB7ICd6aC1jbic6ICflj7PkvqcnLCAnemgtaGsnOiAn5Y+z5YG0JywgJ3poLXR3JzogJ+WPs+WBtCcsICdlbic6ICdyaWdodCBzaWRlJyB9LAogICdtZXJnZUxlZnRSaWdodERlc2MnOiB7CiAgICAnemgtY24nOiAn5byA5ZCv5q2k6YCJ6aG55ZCO77yM5bem5qCP5YiH5o2i6aG16Z2i5Y+v6IO95Lya5a+86Ie05b6u6Z+z5LmQ5pKt5pS+5Lit5pat44CCJwogIH0sCiAgJ2Nob3NlU2lkZSc6IHsgJ3poLWNuJzogJ+e7n+S4gOS4quS6uuS4u+mhteOAgeivnemimOOAgeWNleadoeW+ruWNmuetiemhtemdouS+p+agj3zliLB7ezxzaWRlPn19JywgJ3poLWhrJzogJ+e1seS4gOWAi+S6uuS4u+mggeOAgeipsemhjOOAgeWWruaineW+ruWNmuetiemggemdouWBtOashHzliLB7ezxzaWRlPn19JywgJ3poLXR3JzogJ+e1seS4gOWAi+S6uuS4u+mggeOAgeipsemhjOOAgeWWruaineW+ruWNmuetiemggemdouWBtOashHzliLB7ezxzaWRlPn19JywgJ2VuJzogJ1JlbG9jYXRlIHNpZGUgYmFyIGZvciBwYWdlcyBvZiB1c2VyLCB0b3BpYywgYW5kLCBzaW5nbGUgV2VpYm8gfCB0byB7ezxzaWRlPn19JyB9LAogICdjaG9zZVNpZGVMZWZ0JzogeyAnemgtY24nOiAn5bem5L6nJywgJ3poLWhrJzogJ+W3puWBtCcsICd6aC10dyc6ICflt6blgbQnLCAnZW4nOiAnbGVmdCBzaWRlJyB9LAogICdjaG9zZVNpZGVSaWdodCc6IHsgJ3poLWNuJzogJ+WPs+S+pycsICd6aC1oayc6ICflj7PlgbQnLCAnemgtdHcnOiAn5Y+z5YG0JywgJ2VuJzogJ3JpZ2h0IHNpZGUnIH0sCiAgJ2ZpbHRlUmlnaHRUb3BpYyc6IHsgJ3poLWNuJzogJ+W6lOeUqOW+ruWNmui/h+a7pOm7keWQjeWNleWIsOWPs+agj+eDremXqOivnemimCcsICd6aC1oayc6ICfmh4nnlKjlvq7ljZrnr6npgbjpu5HlkI3llq7liLDlj7PmrITnhrHploDoqbHpoYwnLCAnemgtdHcnOiAn5oeJ55So5b6u5Y2a56+p6YG46buR5ZCN5Zau5Yiw5Y+z5qyE54ax6ZaA6Kmx6aGMJywgJ2VuJzogJ0FwcGx5IGJsYWNrbGlzdCBmaWx0ZXJzIHRvIEhvdCBUb3BpYyBpbiByaWdodCBjb2x1bW4nIH0sCiAgJ2ZpbHRlUmlnaHRUb3BpY0NvdW50JzogeyAnemgtY24nOiAn54Ot6Zeo6K+d6aKY5YiX6KGo6ZqQ6JePfOmYheivu+aVsOWwkeS6jnt7PG51bWJlcj59feS4h+eahOivnemimCcsICd6aC1oayc6ICfnhrHploDoqbHpoYzmuIXllq7pmrHol4986Zax6K6A5pW45bCR5pa8e3s8bnVtYmVyPn196JCs55qE6Kmx6aGMJywgJ3poLXR3JzogJ+eGsemWgOipsemhjOa4heWWrumaseiXj3zplrHoroDmlbjlsJHmlrx7ezxudW1iZXI+fX3okKznmoToqbHpoYwnLCAnZW4nOiAnSGlkZSBob3QgdG9waWNzIHdpdGggfCBsZXNzIHRoYW4ge3s8bnVtYmVyPn195LiHIHJlYWRpbmdzJyB9LAogICdhZGRSaWdodFVzZXJMaXN0JzogeyAnemgtY24nOiAn5Zyo6aaW6aG15Y+z6L655qCP5pi+56S65pS26JeP5biQ5Y+35YiX6KGoe3s8aT59fScsICd6aC1oayc6ICflnKjpppbpoIHlj7PpgormrITpoa/npLrmlLbol4/luLPomZ/muIXllq57ezxpPn19JywgJ3poLXR3JzogJ+WcqOmmlumggeWPs+mCiuashOmhr+ekuuaUtuiXj+W4s+iZn+a4heWWrnt7PGk+fX0nLCAnZW4nOiAnQWRkIGxpbmtzIG9mIGFjY291bnRzIHRvIHJpZ2h0IGNvbHVtbnt7PGk+fX0nIH0sCiAgJ2FkZFJpZ2h0VXNlckxpc3REZXNjJzogewogICAgJ3poLWNuJzogJ+WcqOmmlumhteWPs+i+ueagj+a3u+WKoOS4gOS4quKAnOaUtuiXj+W4kOWPt+KAneeahOWIl+ihqO+8jOmHjOmdouWIl+WHuuaMh+WQkei/meS6m+eUqOaIt+eahOS4quS6uuS4u+mhteeahOmTvuaOpe+8jOaWueS+v+aCqOW/q+mAn+aJk+W8gOWvueW6lOeUqOaIt+eahOS4quS6uuS4u+mhte+8jOafpeeci+S7luacgOi/keeahOW+ruWNmuOAgicKICB9LAogICdhZGRSaWdodFVzZXJMaXN0VG9vTWFueVRpdGxlJzogeyAnemgtY24nOiAn5pS26JeP5biQ5Y+36L+H5aSaJywgJ3poLWhrJzogJ+aUtuiXj+W4s+iZn+mBjuWkmicsICd6aC10dyc6ICfmlLbol4/luLPomZ/pgY7lpJonLCAnZW4nOiAnVG9vIE1hbnkgRmF2ZSBQZW9wbGUnIH0sCiAgJ2FkZFJpZ2h0VXNlckxpc3RUb29NYW55JzogewogICAgJ3poLWNuJzogJ+aCqOa3u+WKoOS6hui/h+WkmueahOaUtuiXj+W4kOWPt++8jOS4uuS6humBv+WFjee7meacjeWKoeWZqOmAoOaIkOi/h+Wkp+eahOWOi+WKm++8jOiHquWKqOajgOafpemmlumhteaYr+WQpuaciemBl+a8j+eahOW+ruWNmueahOWKn+iDveWwhuS7heWvueivpeWIl+ihqOS4reeahOWJjSA1MCDkvY3luJDlj7fnlJ/mlYjjgIInLAogICAgJ3poLWhrJzogJ+aCqOa3u+WKoOS6humBjuWkmueahOaUtuiXj+W4s+iZn++8jOeCuuS6humBv+WFjee1puS8uuacjeWZqOmAoOaIkOmBjuWkp+eahOWjk+WKm++8jOiHquWLleaqouafpemmlumggeaYr+WQpuaciemBuua8j+eahOW+ruWNmueahOWKn+iDveWwh+WDheWwjeipsua4heWWruS4reeahOWJjSA1MCDkvY3luLPomZ/nlJ/mlYjjgIInLAogICAgJ3poLXR3JzogJ+aCqOa3u+WKoOS6humBjuWkmueahOaUtuiXj+W4s+iZn++8jOeCuuS6humBv+WFjee1puS8uuacjeWZqOmAoOaIkOmBjuWkp+eahOWjk+WKm++8jOiHquWLleaqouafpemmlumggeaYr+WQpuaciemBuua8j+eahOW+ruWNmueahOWKn+iDveWwh+WDheWwjeipsua4heWWruS4reeahOWJjSA1MCDkvY3luLPomZ/nlJ/mlYjjgIInLAogICAgJ2VuJzogJ1RvbyBtYW55IGZhdmUgcGVvcGxlOiBUaGUgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIHRoZXJlIGFyZSBhbnkgV2VpYm8gbm90IHNob3duIG9uIGhvbWUgcGFnZSB3aWxsIG9ubHkgYXBwbHkgdG8gZmlyc3QgNTAgYWNjb3VudHMgdG8gYXZvaWQgdG9vIG1hbnkgbmV0d29yayBhY2Nlc3MuJwogIH0sCiAgJ2FkZFJpZ2h0VXNlckxpc3ROb3RpY2UnOiB7ICd6aC1jbic6ICfoh6rliqjmo4Dmn6XmgqjmmK/lkKbpgZfmvI/kuobmlLbol4/nlKjmiLfnmoTlvq7ljZp7ezxpPn19JywgJ3poLWhrJzogJ+iHquWLleaqouafpeaCqOaYr+WQpumBuua8j+S6huaUtuiXj+eUqOaItueahOW+ruWNmnt7PGk+fX0nLCAnemgtdHcnOiAn6Ieq5YuV5qqi5p+l5oKo5piv5ZCm6YG65ryP5LqG5pS26JeP55So5oi255qE5b6u5Y2ae3s8aT59fScsICdlbic6ICdDaGVjayBpZiBhbGwgV2VpYm8gZnJvbSBmYXZlIHBlb3BsZSB5b3UgaGF2ZSByZWFkIHt7PGk+fX0nIH0sCiAgJ2FkZFJpZ2h0VXNlckxpc3ROb3RpY2VEZXNjJzogewogICAgJ3poLWNuJzogJ+WmguaenOaCqOS4jeaDs+mUmei/h+afkOS4quS6uueahOW+ruWNmu+8jOmCo+S5iOWwseWwhuS7luWKoOWIsOaUtuiXj+W4kOWPt+eahOWIl+ihqOS4reOAguiEmuacrOS8muWcqOaCqOaJk+W8gOmmlumhteaXtuiHquWKqOaJk+W8gOi/meS6m+S6uueahOS4quS6uuS4u+mhte+8jOajgOafpeS7luS7rOeahOW+ruWNmuaYr+WQpuaCqOmDveeci+WIsOi/h+OAguS4gOaXpuWPkeeOsOS6hua8j+aOieeahOW+ruWNmu+8jOiEmuacrOS8muWcqOW4kOWPt+aXgei+ueeUqOWwj+e6oueCueagh+iusOOAgicKICB9LAogICdhZGRSaWdodFVzZXJMaXN0Q29uZmlnVGl0bGUnOiB7ICd6aC1jbic6ICfmlLbol4/luJDlj7forr7nva4gLSBZZXQgQW5vdGhlciBXZWlibyBGaWx0ZXInLCAnemgtaGsnOiAn5pS26JeP5biz6Jmf6Kit5a6aIC0gWWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyJywgJ3poLXR3JzogJ+aUtuiXj+W4s+iZn+ioreWumiAtIFlldCBBbm90aGVyIFdlaWJvIEZpbHRlcicsICdlbic6ICdGYXZlIFBlb3BsZSBTZXR0aW5nIC0gWWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyJyB9LAogICdyaWdodFVzZXJMaXN0VGl0bGUnOiB7ICd6aC1jbic6ICfmlLbol4/luJDlj7cnLCAnemgtaGsnOiAn5pS26JeP5biz6JmfJywgJ3poLXR3JzogJ+aUtuiXj+W4s+iZnycsICdlbic6ICdGYXZlIFBlb3BsZScgfSwKICAvLyDmta7liqjlhYPntKAKICAnZml4ZWRJdGVtc1RpdGxlJzogeyAnemgtY24nOiAn5rWu5Yqo5YWD57SgJywgJ3poLWhrJzogJ+a1ruWLleWFg+e0oCcsICd6aC10dyc6ICfmta7li5XlhYPntKAnLCAnZW4nOiAnRmxvYXRpbmcgSXRlbXMnIH0sCiAgJ2Zsb2F0TmF2JzogeyAnemgtY24nOiAn6Ieq5Yqo6ZqQ6JeP5a+86Iiq5qCPJywgJ3poLWhrJzogJ+iHquWLlemaseiXj+WwjuimveWIlycsICd6aC10dyc6ICfoh6rli5XpmrHol4/lsI7opr3liJcnLCAnZW4nOiAnQXV0byBoaWRlIG5hdiBiYXInIH0sCiAgJ2ZpeGVkTGVmdCc6IHsgJ3poLWNuJzogJ+WFgeiuuOmmlumhteW3pui+ueagj+maj+mhtemdoua7muWKqOWni+e7iOaYvuekuicsICd6aC1oayc6ICflhYHoqLHpppbpoIHlt6bpgormrITpmqjpoIHpnaLmu77li5Xlp4vntYLpoa/npLonLCAnemgtdHcnOiAn5YWB6Kix6aaW6aCB5bem6YKK5qyE6Zqo6aCB6Z2i5ru+5YuV5aeL57WC6aGv56S6JywgJ2VuJzogJ0Zsb2F0aW5nIGxlZnQgY29sdW1uJyB9LAogICdmaXhlZFJpZ2h0JzogeyAnemgtY24nOiAn5YWB6K646aaW6aG15Y+z6L655qCP6ZqP6aG16Z2i5rua5Yqo5aeL57uI5pi+56S6e3s8aT59fScsICd6aC1oayc6ICflhYHoqLHpppbpoIHlj7PpgormrITpmqjpoIHpnaLmu77li5Xlp4vntYLpoa/npLp7ezxpPn19JywgJ3poLXR3JzogJ+WFgeiosemmlumggeWPs+mCiuashOmaqOmggemdoua7vuWLleWni+e1gumhr+ekunt7PGk+fX0nLCAnZW4nOiAnRmxvYXRpbmcgcmlnaHQgY29sdW1ue3s8aT59fScgfSwKICAnZml4ZWRSaWdodERlc2MnOiB7CiAgICAnemgtY24nOiAn5aaC5p6c5ZCM5pe25ZCv55So5LqG4oCcW1t0b29sLnNpZGViYXIubWVyZ2VfbGVmdF9yaWdodF1d4oCd5ZKM4oCcW1t0b29sLmZpeGVkLmZpeGVkX2xlZnRdXeKAne+8jOWImeivpemAiemhueWwhuS4jeeUn+aViOOAgicsCiAgfSwKICAnZml4ZWROZXdGZWVkVGlwJzogeyAnemgtY24nOiAn5YWB6K645paw5b6u5Y2a5o+Q56S66ZqP6aG16Z2i5rua5Yqo5aeL57uI5pi+56S6JywgJ3poLWhrJzogJ+WFgeioseaWsOW+ruWNmuaPkOekuumaqOmggemdoua7vuWLleWni+e1gumhr+ekuicsICd6aC10dyc6ICflhYHoqLHmlrDlvq7ljZrmj5DnpLrpmqjpoIHpnaLmu77li5Xlp4vntYLpoa/npLonLCAnZW4nOiAnRmxvYXRpbmcgbmV3IGZlZWRzIHRpcCcgfSwKICAnZml4ZWRPdGhlcnMnOiB7ICd6aC1jbic6ICflhYHorrjlhbbku5blhYPntKDpmo/pobXpnaLmu5rliqjlp4vnu4jmmL7npLonLCAnemgtaGsnOiAn5YWB6Kix5YW25LuW5YWD57Sg6Zqo6aCB6Z2i5ru+5YuV5aeL57WC6aGv56S6JywgJ3poLXR3JzogJ+WFgeioseWFtuS7luWFg+e0oOmaqOmggemdoua7vuWLleWni+e1gumhr+ekuicsICdlbic6ICdPdGhlciBmbG9hdGluZyBpdGVtcycgfSwKICAvLyDlvq7ljZoKICAnd2VpYm9Ub29sc1RpdGxlJzogeyAnemgtY24nOiAn5b6u5Y2aJywgJ3poLWhrJzogJ+W+ruWNmicsICd6aC10dyc6ICflvq7ljZonLCAnZW4nOiAnV2VpYm8nIH0sCiAgJ3VuZm9sZExvbmdXZWlibyc6IHsgJ3poLWNuJzogJ+iHquWKqOWxleW8gHzkuI3otoXov4d7ezxjb3VudD59feWtl+eahOW+ruWNmnzvvIjmr4/kuKrmjaLooYznrKborqF7ezxicj59feWtl++8iScsICd6aC1oayc6ICfoh6rli5XlsZXplot85LiN6LaF6YGOe3s8Y291bnQ+fX3lgIvlrZfnmoTlvq7ljZp877yI5q+P5YCL5o+b6KGM56ym6KiIe3s8YnI+fX3lrZfvvIknLCAnemgtdHcnOiAn6Ieq5YuV5bGV6ZaLfOS4jei2hemBjnt7PGNvdW50Pn195YCL5a2X55qE5b6u5Y2afO+8iOavj+WAi+aPm+ihjOespuioiHt7PGJyPn195a2X77yJJywgJ2VuJzogJ0F1dG9tYXRpY2FsbHkgdW5mb2xkIHdlaWJvIHwgd2l0aGluIHt7PGNvdW50Pn19IGNoYXJhY3RlcnMgfHwgKGNvdW50IGVhY2ggbGluZSBicmVhayBhcyB7ezxicj59fSBjaGFyYWN0ZXJzKScgfSwKICAndW5mb2xkV2VpYm9MZW5ndGgnOiB7ICd6aC1jbic6ICfvvIjnuqZ7e2xlbmd0aH195a2X77yJJywgJ3poLWhrJzogJ++8iOe0hHt7bGVuZ3RofX3lrZfvvIknLCAnemgtdHcnOiAn77yI57SEe3tsZW5ndGh9feWtl++8iScsICdlbic6ICcoYWJvdXQge3tsZW5ndGh9fSBjaGFyYWN0b3JzKScgfSwKICAnY2xlYXJEZWZUb3BpY0Rlc2MnOiB7ICd6aC1jbic6ICfmuIXpmaTlj5HluIPmoYbkuK3nmoTpu5jorqTor53popgnLCAnemgtaGsnOiAn5riF6Zmk55m85biD5qGG5Lit55qE6aCQ6Kit6Kmx6aGMJywgJ3poLXR3JzogJ+a4hemZpOeZvOW4g+ahhuS4reeahOmgkOioreipsemhjCcsICdlbic6ICdSZW1vdmUgZGVmYXVsdCB0b3BpYyBpbiBQdWJsaXNoZXInIH0sCiAgJ2Rpc2FibGVOb3RpZmljYXRpb24nOiB7ICd6aC1jbic6ICfnpoHnlKjlvq7ljZrnmoTmoYzpnaLmj5DnpLoge3s8aT59fScsICd6aC1oayc6ICfpmLvmraLlvq7ljZrnmoTmoYzpnaLmj5DnpLoge3s8aT59fScsICd6aC10dyc6ICfpmLvmraLlvq7ljZrnmoTmoYzpnaLmj5DnpLoge3s8aT59fScsICdlbic6ICdEaXNhYmxlIGRlc2t0b3Agbm90aWZpY2F0aW9uIGZyb20gV2VpYm8ge3s8aT59fScgfSwKICAnZGlzYWJsZU5vdGlmaWNhdGlvbkRlc2MnOiB7CiAgICAnemgtY24nOiAn5Yu+6YCJ5Lul56aB55So5b6u5Y2a55qE5qGM6Z2i5o+Q56S677yM5oKo5Lmf5Y+v5Lul55u05o6l5Zyo5rWP6KeI5Zmo55qE5p2D6ZmQ566h55CG5Lit56aB55So5b6u5Y2a55qE5qGM6Z2i5o+Q56S65Yqf6IO977yM5L2G6L+Z5qC35YGa5oKo5bCG5ZCM5qC35peg5rOV5L2/55So6ISa5pys5o+Q5L6b55qE5qGM6Z2i5o+Q56S65Yqf6IO944CCJwogIH0sCiAgJ2Rpc2FibGVMaXZlUGhvdG8nOiB7ICd6aC1jbic6ICfnpoHnlKjlvq7ljZogTGl2ZSBQaG90byDmkq3mlL4nLCAnemgtaGsnOiAn6Zi75q2i5b6u5Y2a5pKt5pS+IExpdmUgUGhvdG8nLCAnemgtdHcnOiAn6Zi75q2i5b6u5Y2a5pKt5pS+IExpdmUgUGhvdG8nLCAnZW4nOiAnRGlzYWJsZSBwbGF5aW5nIGxpdmUgcGhvdG8nIH0sCiAgJ2Zhc3RFbW9qaUlucHV0VG9wJzogeyAnemgtY24nOiAn572u6aG2JywgJ3poLWhrJzogJ+e9rumggicsICd6aC10dyc6ICfnva7poIInLCAnZW4nOiAnVG9wJyB9LAogICdmYXN0RW1vamlJbnB1dFRvcE5vdGljZSc6IHsgJ3poLWNuJzogJ+WwhuS4i+aWueihqOaDheaLluaUvuiHs+atpOe9rumhticsICd6aC1oayc6ICflsIfkuIvmlrnooajmg4Xmi5bmlL7oh7PmraTnva7poIInLCAnemgtdHcnOiAn5bCH5LiL5pa56KGo5oOF5ouW5pS+6Iez5q2k572u6aCCJywgJ2VuJzogJ0RyYWcgZW1vamkgYW5kIGRyb3AgaGVyZSB0byBzdGlja3knIH0sCiAgJ2Zhc3RFbW9qaUlucHV0UmVjZW50JzogeyAnemgtY24nOiAn5pyA6L+RJywgJ3poLWhrJzogJ+acgOi/kScsICd6aC10dyc6ICfmnIDov5EnLCAnZW4nOiAnUmVjZW50JyB9LAogICdmYXN0RW1vamlDbGVhcic6IHsgJ3poLWNuJzogJ+a4heepuuWIl+ihqCcsICd6aC1oayc6ICfmuIXpmaTmuIXllq4nLCAnemgtdHcnOiAn5riF6Zmk5riF5ZauJywgJ2VuJzogJ0NsZWFyIExpc3QnIH0sCiAgJ3BlcnNvbmFsUmVkaXJlY3RXZWlibyc6IHsgJ3poLWNuJzogJ+eUqOaIt+S4u+mhtem7mOiupOaYvuekuuWFqOmDqOW+ruWNmuiAjOmdnueDremXqOW+ruWNmicsICd6aC1oayc6ICfnlKjmiLbkuLvpoIHpu5joqo3poa/npLrlhajpg6jlvq7ljZrogIzpnZ7ng63pl6jlvq7ljZonLCAnemgtdHcnOiAn55So5oi25Li76aCB6buY6KqN6aGv56S65YWo6YOo5b6u5Y2a6ICM6Z2e54Ot6Zeo5b6u5Y2aJywgJ2VuJzogJ1BlcnNvbmFsIHBhZ2Ugc2hvdyBhbGwgV2VpYm8gaW5zdGVhZCBvZiBob3QgYnkgZGVmYXVsdCcgfSwKICAncHVibGlzaFRvUHVibGljRGVmYXVsdCc6IHsgJ3poLWNuJzogJ+WIhue7hOa1j+iniOaXtum7mOiupOWPkeW4g+WFrOW8gOW+ruWNmicsICd6aC1oayc6ICfliIbntYTmtYHopr3mmYLpu5joqo3nmbzkvYjlhazplovlvq7ljZonLCAnemgtdHcnOiAn5YiG57WE5rWB6Ka95pmC6buY6KqN55m85L2I5YWs6ZaL5b6u5Y2aJywgJ2VuJzogJ1B1Ymxpc2ggdG8gcHVibGljIGJ5IGRlZmF1bHQgd2hlbiBicm93c2luZyBieSBncm91cCcgfSwKICAncHVibGlzaFRvUHVibGljVGV4dCc6IHsgJ3poLWNuJzogJ+WFrOW8gCcsICd6aC1oayc6ICflhazplosnLCAnemgtdHcnOiAn5YWs6ZaLJywgJ2VuJzogJ1B1YmxpYycgfSwKICAnY2FyZEJ1dHRvbic6IHsgJ3poLWNuJzogJ+S9v+eUqOW+ruWNmuWNoeeJh+eahOaMiemSruabv+aNouWvueW6lOmTvuaOpXt7PGk+fX0nLCAnemgtaGsnOiAn5L2/55So5b6u5Y2a5Y2h54mH55qE5oyJ6YiV5pu/5o+b5bCN5oeJ6YCj57WQe3s8aT59fScsICd6aC10dyc6ICfkvb/nlKjlvq7ljZrljaHniYfnmoTmjInpiJXmm7/mj5vlsI3mh4npgKPntZB7ezxpPn19JywgJ2VuJzogJ1JlcGxhY2UgdGhlIGNvcnJlc3BvbmRpbmcgbGlua3MgYnkgYnV0dG9ucyBpbiBXZWlibyBjYXJkcycgfSwKICAnY2FyZEJ1dHRvbkRlc2MnOiB7CiAgICAnemgtY24nOiAn6buY6K6k5oOF5Ya15LiL5Y+q5pyJ54K55Ye75Y2h54mH5Lit55qE5oyJ6ZKu5omN5Lya5Zyo5b2T5YmN6aG15pi+56S66ZW/5b6u5Y2a5oiW5YiG5Lqr55qE6KeG6aKR77yM54K55Ye76ZO+5o6l5YiZ5Lya55u05o6l5Zyo5paw6aG15omT5byA44CC5ZCv55So6K+l5Yqf6IO95Y+v5Lul5L2/54K55Ye76ZO+5o6l5pe255qE5Y+N5bqU5LiO54K55Ye75oyJ6ZKu5pe255u45ZCM44CC5ZCv55So5ZCO5oKo6L+Y5Y+v5Lul5Zyo5qih5Z2X6YCJ6aG55Y2h5Lit6YCJ5oup6ZqQ6JeP5b6u5Y2a5YaF55qE4oCcW1tsYXlvdXQud2VpYm8uY2FyZF1d4oCd6ZqQ6JeP5o6J5pW05Liq5Y2h54mH44CCJywKICB9LAogICd2aWV3T3JpZ2luYWwnOiB7ICd6aC1jbic6ICfmt7vliqDigJzmn6XnnIvljp/lm77igJ3pk77mjqV85omT5byAe3s8b3Blbj59fXx8e3s8ZGlyZWN0Pn1954K55Ye757yp55Wl5Zu+5pe255u05o6l5p+l55yL5Y6f5Zu+JywgJ3poLWhrJzogJ+a3u+WKoOOAjOafpeeci+WOn+WcluOAjemAo+e1kHzmiZPplot7ezxvcGVuPn19fHx7ezxkaXJlY3Q+fX3pu57mk4rnuK7nlaXlnJbmmYLnm7TmjqXmn6XnnIvljp/lnJYnLCAnemgtdHcnOiAn5re75Yqg44CM5p+l55yL5Y6f5ZyW44CN6YCj57WQfOaJk+mWi3t7PG9wZW4+fX18fHt7PGRpcmVjdD59fem7nuaTiue4rueVpeWcluaZguebtOaOpeafpeeci+WOn+WclicsICdlbic6ICdhZGQgIk9yaWdpbmFsIFBpY3R1cmUiIGxpbmsgfCB3aGljaCB0YXJnZXQgdG8ge3s8b3Blbj59fSB8fCB7ezxkaXJlY3Q+fX0gVmlldyBvcmlnbmFsIHBpY3R1cmUgYnkgY2xpY2tpbmcgb24gdGh1bWJuYWlsJyB9LAogICd2aWV3T3JpZ2luYWxQYWdlJzogeyAnemgtY24nOiAn5YyF5ZCr5Y6f5Zu+55qE572R6aG1JywgJ3poLWhrJzogJ+WMheWQq+WOn+WclueahOe2sumggScsICd6aC10dyc6ICfljIXlkKvljp/lnJbnmoTntrLpoIEnLCAnZW4nOiAncGFnZSB3aXRoIG9yaWdpbmFsIHBpY3R1cmUnIH0sCiAgJ3ZpZXdPcmlnaW5hbEltYWdlJzogeyAnemgtY24nOiAn5Y6f5Zu+JywgJ3poLWhrJzogJ+WOn+WclicsICd6aC10dyc6ICfljp/lnJYnLCAnZW4nOiAnb3JpZ2luYWwgcGljdHVyZScgfSwKICAndmlld09yaWdpbmFsVGl0bGUnOiB7ICd6aC1jbic6ICfmn6XnnIvljp/lm74gLSBZQVdGJywgJ3poLWhrJzogJ+afpeeci+WOn+WcliAtIFlBV0YnLCAnemgtdHcnOiAn5p+l55yL5Y6f5ZyWIC0gWUFXRicsICdlbic6ICdWaWV3IE9yaWdpbmFsIFBpY3R1cmUgLSBZQVdGJyB9LAogICdub1RhZ0RpYWxvZyc6IHsgJ3poLWNuJzogJ+Wxj+iUveaUtuiXj+W+ruWNmuaXtueahOa3u+WKoOagh+etvuWvueivneahhicsICd6aC1oayc6ICfpmLvmk4vmlLbol4/lvq7ljZrmmYLnmoTmt7vliqDmqJnnsaTlsI3oqbHmlrnloYonLCAnemgtdHcnOiAn6Zi75pOL5pS26JeP5b6u5Y2a5pmC55qE5re75Yqg5qiZ57Gk5bCN6Kmx5pa55aGKJywgJ2VuJzogJ0Jsb2NrIHRoZSBkaWFsb2cgYWZ0ZXIgbWFya2luZyB3ZWlibyBmYXZvcml0ZScgfSwKICAnaHRtbDVWZGllbyc6IHsgJ3poLWNuJzogJ+aSreaUvuenkuaLjeinhumikeaXtuS9v+eUqCBIVE1MNSDmkq3mlL7lmah7ezxpPn19JywgJ3poLWhrJzogJ+aSreaUvuenkuaLjeimlumgu+aZguS9v+eUqCBIVE1MNSDmkq3mlL7lmah7ezxpPn19JywgJ3poLXR3JzogJ+aSreaUvuenkuaLjeimlumgu+aZguS9v+eUqCBIVE1MNSDmkq3mlL7lmah7ezxpPn19JywgJ2VuJzogJ1BsYXkgd2VpYm8gdmlkZW8gdmlhIEhUTUw1IHBsYXllcnt7PGk+fX0nIH0sCiAgJ2h0bWw1VmRpZW9EZXNjJzogewogICAgJ3poLWNuJzogJ+S7heaUr+aMgemDqOWIhuinhumike+8jOWPr+iDveacieS4gOS6m+inhumikeaXoOazleato+W4uOabv+aNouOAguatpOWklui/mOivt+ehruiupOaCqOeahOa1j+iniOWZqOaUr+aMgeaSreaUviBNUDQg5qC85byP6KeG6aKR77ya6YOo5YiG5pON5L2c57O757uf5LiK55qE5pen54mIIEZpcmVmb3gg44CBQ2hyb21pdW0g5ZKM5LiA5Lqb5Z+65LqOIENocm9taXVtIOeahOa1j+iniOWZqOWPr+iDveW5tuS4jeaUr+aMgSBNUDQg5qC85byP6KeG6aKR44CCJywKICB9LAogICdmb2xkRGV0YWlscyc6IHsgJ3poLWNuJzogJ+aUtui1tycsICd6aC1oayc6ICfmlLbotbcnLCAnemgtdHcnOiAn5pS26LW3JywgJ2VuJzogJ+aUtui1tycvKiBhcyBpcyAqLyB9LAogICd2aWV3T3JpZ2luYWxUZXh0JzogeyAnemgtY24nOiAn5p+l55yL5Y6f5Zu+JywgJ3poLWhrJzogJ+afpeeci+WOn+WclicsICd6aC10dyc6ICfmn6XnnIvljp/lnJYnLCAnZW4nOiAnT3JpZ2luYWwgUGljdHVyZScgfSwKICAndmlld09yaWdpbmFsRkNUZXh0JzogeyAnemgtY24nOiAn5p+l55yL5Zu+54mHJywgJ3poLWhrJzogJ+afpeeci+WclueJhycsICd6aC10dyc6ICfmn6XnnIvlnJbniYcnLCAnZW4nOiAnVmlldyBQaWN0dXJlJyB9LAogICdyZXBsYWNlTGlua0J5VXJsJzogeyAnemgtY24nOiAn5bCG5b6u5Y2a5Lit55qE572R6aG16ZO+5o6l5pu/5o2i5Li655+t572R5Z2AJywgJ3poLWhrJzogJ+Wwh+W+ruWNmuS4reeahOe9kemhtemTvuaOpeabv+aPm+eCuuefree2suWdgCcsICd6aC10dyc6ICflsIflvq7ljZrkuK3nmoTnvZHpobXpk77mjqXmm7/mj5vngrrnn63ntrLlnYAnLCAnZW4nOiAnUmVwbGFjZSDnvZHpobXpk77mjqUgaW4gV2VpYm8gYnkgc2hvcnRlbmVkIFVSTCcgfSwKICAncmVwbGFjZUltYWdlRW1vamknOiB7ICd6aC1jbic6ICflsIblvq7ljZrkuK3lm77niYfooajnpLrnmoQgVW5pY29kZSDooajmg4XnrKblj7fmm7/mjaLkuLrmlofmnKx7ezxpPn19JywgJ3poLWhrJzogJ+Wwh+W+ruWNmuS4reWclueJh+ihqOekuueahCBVbmljb2RlIEVtb2ppIOabv+aPm+eCuuaWh+acrHt7PGk+fX0nLCAnemgtdHcnOiAn5bCH5b6u5Y2a5Lit5ZyW54mH6KGo56S655qEIFVuaWNvZGUgRW1vamkg5pu/5o+b54K65paH5pyse3s8aT59fScsICdlbic6ICdVc2UgdGV4dCBmb3IgdW5pY29kZSBlbW9qaSBpbnN0ZWFkIG9mIGltYWdlIHt7PGk+fX0nIH0sCiAgJ3JlcGxhY2VJbWFnZUVtb2ppRGVzYyc6IHsKICAgICd6aC1jbic6ICfkvb/nlKjmlofmnKzmm7/mjaLlr7nlupTlm77niYfjgILooajmg4XkvJrpmo/mgqjkvb/nlKjnmoTmk43kvZzns7vnu5/jgIHmtY/op4jlmajjgIHlronoo4XnmoTlrZfkvZPnmoTkuI3lkIzogIzmmL7npLrmiJDkuI3nmoTmoLflrZDjgIJGaXJlZm94IOWSjCBTYWZhcmkg5Y+v5Lul5b6X5Yiw6L6D5aW955qE5pWI5p6c44CCPGhyIC8+5pu/5o2i5YmNIDxzcGFuIHN0eWxlPSJmb250LXNpemU6IDIwcHgiPjxpbWcgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCIgc3JjPSJodHRwOi8vaW1nLnQuc2luYWpzLmNuLy90NC9hcHBzdHlsZS9leHByZXNzaW9uL2VtaW1hZ2UvZWU4MTkyLnBuZyI+PGltZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiBzcmM9Imh0dHA6Ly9pbWcudC5zaW5hanMuY24vL3Q0L2FwcHN0eWxlL2V4cHJlc3Npb24vZW1pbWFnZS9lZTgwOTgucG5nIj48aW1nIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHNyYz0iaHR0cDovL2ltZy50LnNpbmFqcy5jbi8vdDQvYXBwc3R5bGUvZXhwcmVzc2lvbi9lbWltYWdlL2VlODRiMi5wbmciPjxpbWcgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCIgc3JjPSJodHRwOi8vaW1nLnQuc2luYWpzLmNuLy90NC9hcHBzdHlsZS9leHByZXNzaW9uL2VtaW1hZ2UvZWU4Y2FjLnBuZyI+PGltZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiBzcmM9Imh0dHA6Ly9pbWcudC5zaW5hanMuY24vL3Q0L2FwcHN0eWxlL2V4cHJlc3Npb24vZW1pbWFnZS9lZTg5OTIucG5nIj48aW1nIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHNyYz0iaHR0cDovL2ltZy50LnNpbmFqcy5jbi8vdDQvYXBwc3R5bGUvZXhwcmVzc2lvbi9lbWltYWdlL2VlODg4Yi5wbmciPjxpbWcgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCIgc3JjPSJodHRwOi8vaW1nLnQuc2luYWpzLmNuLy90NC9hcHBzdHlsZS9leHByZXNzaW9uL2VtaW1hZ2UvZWU4NGFkLnBuZyI+PGltZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiBzcmM9Imh0dHA6Ly9pbWcudC5zaW5hanMuY24vL3Q0L2FwcHN0eWxlL2V4cHJlc3Npb24vZW1pbWFnZS9lZTk0OTMucG5nIj48L3NwYW4+PGJyIC8+5pu/5o2i5ZCOIDxzcGFuIHN0eWxlPSJmb250LXNpemU6IDIwcHgiPvCfkLbimr3vuI/wn4+B8J+Sm+KaoO+4j/Cfk7bwn4CE77iP8J+HqPCfh7M8L3NwYW4+JwogIH0sCiAgJ2N1c3RvbWl6ZVNvdXJjZVdlaWJvJzogeyAnemgtY24nOiAn6Ieq5a6a5LmJ5p2l5rqQ5b6u5Y2a5LuF5pi+56S64oCc5p2l6Ieq5b6u5Y2aIHdlaWJvLmNvbeKAnScsICd6aC1oayc6ICfoh6roqILkvobmupDlvq7ljZrlg4Xpoa/npLrjgIzkvoboh6rlvq7ljZogd2VpYm8uY29t44CNJywgJ3poLXR3JzogJ+iHquioguS+hua6kOW+ruWNmuWDhemhr+ekuuOAjOS+huiHquW+ruWNmiB3ZWliby5jb23jgI0nLCAnZW4nOiAnV2VpYm8gd2l0aCBjdXN0b21pemUgc291cmNlIHNob3cgImNvbWUgZnJvbSDlvq7ljZogd2VpYm8uY29tIiBvbmx5JyB9LAogICd3ZWlib1ZpYVRleHQnOiB7ICd6aC1jbic6ICfmnaXoh6onLCAnemgtaGsnOiAn5p2l6IeqJywgJ3poLXR3JzogJ+adpeiHqicsICdlbic6ICfmnaXoh6onLyogYXMgaXMgKi8gfSwKICAnY3VzdG9taXplU291cmNlV2VpYm9EZXNjJzogewogICAgJ3poLWNuJzogJ+W+ruWNmuS8muWRmOWcqOWPkeW4g+W+ruWNmuaXtuWPr+S7peS9v+eUqOiHquWumuS5ieaWh+acrOadpeaYvuekuuS4quaAp+WMluadpea6kO+8jOaCqOWPr+S7pemakOiXj+i/meS6m+W+ruWNmuaIluWwhui/meS6m+W+ruWNmueahOadpea6kOaYvuekuuS4uum7mOiupOadpea6kCcsCiAgfSwKICAnZm9sZENoaWxkQ29tbWVudCc6IHsgJ3poLWNuJzogJ+m7mOiupOaKmOWPoOS6jOe6p+ivhOiuuicsICd6aC1oayc6ICfpoJDoqK3mipjnlorkuozntJroqZXoq5YnLCAnemgtdHcnOiAn6aCQ6Kit5oqY55aK5LqM57Sa6KmV6KuWJywgJ2VuJzogJ0ZvbGQgY2hpbGQgY29tbWVudHMgYnkgZGVmYXVsdCcgfSwKICAnY29tbWVudFNob3dBbGwnOiB7ICd6aC1jbic6ICfmn6XnnIvor4Torrrml7boh6rliqjliIfmjaLliLDlhajpg6jor4TorronLCAnemgtaGsnOiAn5p+l6Zax6KmV6KuW5pmC6Ieq5YuV5YiH5o+b5Yiw5YWo6YOo6KmV6KuWJywgJ3poLXR3JzogJ+afpemWseipleirluaZguiHquWLleWIh+aPm+WIsOWFqOmDqOipleirlicsICdlbic6ICdBdXRvbWF0aWNhbGx5IHN3aXRjaCB2aWV3IG9mIGNvbW1lbnRzIHRvIGFsbCcgfSwKICAvLyDlhbPms6gKICAnZm9sbG93aW5nVG9vbHNUaXRsZSc6IHsgJ3poLWNuJzogJ+WFs+azqCcsICd6aC1oayc6ICfpl5zms6gnLCAnemgtdHcnOiAn6Zec5rOoJywgJ2VuJzogJ0ZvbGxvd2luZycgfSwKICAnYXV0b0NoZWNrRm9sbG93aW5nJzogeyAnemgtY24nOiAn6Ieq5Yqo5qOA5p+l5YWz5rOo5YiX6KGo5bm25o+Q56S65Y+Y5YyW77yI6K+V6aqM5oCn77yJfHt7PGZyZXF1ZW5jeT59fXt7PGk+fX0nLCAnemgtaGsnOiAn6Ieq5YuV5qqi5p+l6Zec5rOo5riF5Zau5Lim5o+Q56S66K6K5YyW77yI6Kmm6amX5oCn77yJfHt7PGZyZXF1ZW5jeT59fXt7PGk+fX0nLCAnemgtdHcnOiAn6Ieq5YuV5qqi5p+l6Zec5rOo5riF5Zau5Lim5o+Q56S66K6K5YyW77yI6Kmm6amX5oCn77yJfHt7PGZyZXF1ZW5jeT59fXt7PGk+fX0nLCAnZW4nOiAnQXV0b21hdGljYWxseSBjaGVja3MgYW5kIHByb21wdCBhbnkgY2hhbmdlcyBhYm91dCBmb2xsb3dpbmcgbGlzdCAoRXhwZXJpbWVudGFsKSB8IHt7PGZyZXF1ZW5jeT59fXt7PGk+fX0nIH0sCiAgJ2F1dG9DaGVja0ZvbGxvd2luZ0Rlc2MnOiB7CiAgICAnemgtY24nOiAn5byA5ZCv5pys5Yqf6IO95ZCO6ISa5pys5Lya5q+P6ZqU5LiA5q615pe26Ze077yM5qOA5p+l5oKo55qE5YWz5rOo5YiX6KGo77yM5bm25ZKM5LiK5LiA5qyh5b6X5Yiw55qE57uT5p6c5q+U6L6D77yM5bCG5LiN5ZCM5LmL5aSE5bGV56S65Ye65p2l44CC6ISa5pys5qOA5p+l5YWz5rOo5YiX6KGo5Y+q6IO95YOP5oKo5Zyo572R6aG15Lit5qOA5p+l5YWz5rOo5YiX6KGo5LiA5qC377yM5LiA6aG15LiA6aG155qE57+755yL77yM5Zug5q2k5qOA5p+l5Y+v6IO96ZyA6KaB6L6D6ZW/55qE5pe26Ze077yM5aaC5p6c5oKo5YWz5rOo5LqG5aSn6YeP55qE5biQ5Y+377yM6K+36ICD6JmR6ZmN5L2O6Ieq5Yqo5qOA5p+l55qE6aKR546H44CCPGJyIC8+PHN0cm9uZz7or6Xlip/og73nm67liY3kuLror5XpqozmgKflip/og73vvIzlj6/og73lh7rnjrDku7vkvZXpl67popjjgII8L3N0cm9uZz4nCiAgfSwKICAnYXV0b0NoZWNrRm9sbG93aW5nMSc6IHsgJ3poLWNuJzogJ+avj+WkqScsICd6aC1oayc6ICfmr4/lpKknLCAnemgtdHcnOiAn5q+P5aSpJywgJ2VuJzogJ2V2ZXJ5IGRheScgfSwKICAnYXV0b0NoZWNrRm9sbG93aW5nMyc6IHsgJ3poLWNuJzogJ+avj+S4ieWkqScsICd6aC1oayc6ICfmr4/kuInlpKknLCAnemgtdHcnOiAn5q+P5LiJ5aSpJywgJ2VuJzogJ2V2ZXJ5IDMgZGF5cycgfSwKICAnYXV0b0NoZWNrRm9sbG93aW5nNyc6IHsgJ3poLWNuJzogJ+avj+WRqCcsICd6aC1oayc6ICfmr4/pgLEnLCAnemgtdHcnOiAn5q+P6YCxJywgJ2VuJzogJ2V2ZXJ5IHdlZWsnIH0sCiAgJ2F1dG9DaGVja0ZvbGxvd2luZ0xhc3RUaW1lJzogeyAnemgtY24nOiAn5LiK5qyh5qOA5p+l5pe26Ze077yaJywgJ3poLWhrJzogJ+S4iuasoeaqouafpeaZgumWkycsICd6aC10dyc6ICfkuIrmrKHmqqLmn6XmmYLplpMnLCAnZW4nOiAnTGFzdCBjaGVja2luZyB0aW1lOiAnIH0sCiAgJ2F1dG9DaGVja0ZvbGxvd2luZ05ldmVyJzogeyAnemgtY24nOiAn5bCa5pyq5qOA5p+lJywgJ3poLWhrJzogJ+WwmuacquaqouafpScsICd6aC10dyc6ICflsJrmnKrmqqLmn6UnLCAnZW4nOiAnTmV2ZXInIH0sCiAgJ2F1dG9DaGVja0ZvbGxvd2luZ05vdyc6IHsgJ3poLWNuJzogJ+eri+WNs+ajgOafpScsICd6aC1oayc6ICfnq4vljbPmqqLmn6UnLCAnemgtdHcnOiAn56uL5Y2z5qqi5p+lJywgJ2VuJzogJ0NoZWNrIE5vdycgfSwKICAnYXV0b0NoZWNrRm9sbG93aW5nUnVubmluZyc6IHsgJ3poLWNuJzogJ++8iOato+WcqOajgOafpe+8iScsICd6aC1oayc6ICfvvIjmraPlnKjmqqLmn6XvvIknLCAnemgtdHcnOiAn5q2j5Zyo5qqi5p+lJywgJ2VuJzogJyhDaGVja2luZyknIH0sCiAgJ2F1dG9DaGVja0ZvbGxvd2luZ0NsZWFuJzogeyAnemgtY24nOiAn5riF6Zmk5pys5Zyw5pWw5o2uJywgJ3poLWhrJzogJ+a4hemZpOacrOapn+izh+aWmScsICd6aC10dyc6ICfmuIXpmaTmnKzmqZ/os4fmlpknLCAnZW4nOiAnQ2xlYXIgTG9jYWwgZGF0YScgfSwKICAnYXV0b0NoZWNrRm9sbG93aW5nRGlhbG9nVGl0bGUnOiB7ICd6aC1jbic6ICflhbPms6jliJfooajlj5jljJYnLCAnemgtaGsnOiAn6Zec5rOo5riF5Zau6K6K5YyWJywgJ3poLXR3JzogJ+mXnOazqOa4heWWruiuiuWMlicsICdlbic6ICdGb2xsb3dpbmcgTGlzdCBDaGFuZ2VzJyB9LAogICdhdXRvQ2hlY2tGb2xsb3dpbmdUaXRsZSc6IHsgJ3poLWNuJzogJ+WFs+azqOWIl+ihqOWPmOWMlicsICd6aC1oayc6ICfpl5zms6jmuIXllq7ororljJYnLCAnemgtdHcnOiAn6Zec5rOo5riF5Zau6K6K5YyWJywgJ2VuJzogJ0ZvbGxvd2luZyBMaXN0IENoYW5nZXMnIH0sCiAgJ2F1dG9DaGVja0ZvbGxvd2luZ1RpcCc6IHsKICAgICd6aC1jbic6ICfmgqjnmoTlhbPms6jliJfooajoh6rku47kuIrmrKHmo4Dmn6Xlubbnoa7orqToh7Pku4rlj5HnlJ/kuoblpoLkuIvlj5jljJbvvIzor7fmgqjlpI3mn6XvvJonLAogICAgJ3poLWhrJzogJ+aCqOeahOmXnOazqOa4heWWruiHquW+nuS4iuasoeaqouafpeS4pueiuuiqjeiHs+S7iueZvOeUn+S6huWmguS4i+iuiuWMlu+8jOiri+aCqOikh+afpe+8micsCiAgICAnemgtdHcnOiAn5oKo55qE6Zec5rOo5riF5Zau6Ieq5b6e5LiK5qyh5qqi5p+l5Lim56K66KqN6Iez5LuK55m855Sf5LqG5aaC5LiL6K6K5YyW77yM6KuL5oKo6KSH5p+l77yaJywKICAgICdlbic6ICdZb3VyIGZvbGxvd2luZyBsaXN0IGhhZCBiZWVuIGNoYW5nZWQgc2luY2UgbGFzdCBjaGVja2luZywgcGxlYXNlIHJldmlldzogJywKICB9LAogICdhdXRvQ2hlY2tGb2xsb3dpbmdUaXBEZXRhaWwnOiB7CiAgICAnemgtY24nOiAn6L+Z5Lqb5Y+Y5YyW5Y+v6IO95piv5Zug5Li66ISa5pys5Zyo5qOA5p+l5pe255qE5LiN5YeG56Gu77yM5oKo6Ieq5bex5pyJ5oSP5oiW5peg5oSP55qE5pON5L2c77yM5oiW5LiA5Lqb5pON5L2c5oiW5bqU55So55qE5L+u5pS55a+86Ie055qE44CC5aaC5p6c5oKo55qE5YWz5rOo5YiX6KGo57uP5bi45Ye6546w6aKE5pyf5LmL5aSW55qE5Y+Y5Yqo77yM6K+35qOA5p+lPGEgaHJlZj0iaHR0cDovL2FwcC53ZWliby5jb20vbXkiIHRhcmdldD0iX2JsYW5rIj7mgqjnmoTlupTnlKjmjojmnYM8L2E+44CCJywKICAgICd6aC1oayc6ICfpgJnkupvororljJblj6/og73mmK/lm6DngrrohbPmnKzlnKjmqqLmn6XmmYLnmoTkuI3mupbnorrvvIzmgqjoh6rlt7HmnInmhI/miJbnhKHmhI/nmoTmk43kvZzvvIzmiJbkuIDkupvmk43kvZzmiJbmh4nnlKjnmoTkv67mlLnlsI7oh7TnmoTjgILlpoLmnpzmgqjnmoTpl5zms6jmuIXllq7ntpPluLjlh7rnj77poJDmnJ/kuYvlpJbnmoTororli5XvvIzoq4vmqqLmn6U8YSBocmVmPSJodHRwOi8vYXBwLndlaWJvLmNvbS9teSIgdGFyZ2V0PSJfYmxhbmsiPuaCqOeahOaHieeUqOaOiOasijwvYT7jgIInLAogICAgJ3poLXR3JzogJ+mAmeS6m+iuiuWMluWPr+iDveaYr+WboOeCuuiFs+acrOWcqOaqouafpeaZgueahOS4jea6lueiuu+8jOaCqOiHquW3seacieaEj+aIlueEoeaEj+eahOaTjeS9nO+8jOaIluS4gOS6m+aTjeS9nOaIluaHieeUqOeahOS/ruaUueWwjuiHtOeahOOAguWmguaenOaCqOeahOmXnOazqOa4heWWrue2k+W4uOWHuuePvumgkOacn+S5i+WklueahOiuiuWLle+8jOiri+aqouafpTxhIGhyZWY9Imh0dHA6Ly9hcHAud2VpYm8uY29tL215IiB0YXJnZXQ9Il9ibGFuayI+5oKo55qE5oeJ55So5o6I5qyKPC9hPuOAgicsCiAgICAnZW4nOiAnVGhlc2UgY2hhbmdlcyBvY2N1cnJlZCBtaWdodCBiZSBjYXVzZWQgYnk6IGluYWNjdXJhdGUgc2NyaXB0IGNoZWNraW5nIGJlaGF2aW91cjsgeW91ciBvd24gb3BlcmF0aW9ucywgd2hldGhlciB5b3UgZG8gaW50ZXJlc3RlZCBvciBieSBtaXN0YWtlOyBvciBzb21lIG90aGVyIG9wZXJhdGlvbnMgb3IgYXBwbGljYXRpb25zIHRoYXQgaGFzIHRoZSBhdXRob3JpdHkgdG8gbWFrZSB0aGVzZSBjaGFuZ2VzLiBJZiB5b3VyIGZvbGxvd2luZyBsaXN0IGNvbnRpbnVvdXNseSBzaG93cyB1bmV4cGVjdGVkIGNoYW5nZXMsIHBsZWFzZSByZXZpZXcgPGEgaHJlZj0iaHR0cDovL2FwcC53ZWliby5jb20vbXkiIHRhcmdldD0iX2JsYW5rIj55b3VyIGFwcGxpY2F0aW9uIGF1dGhvcmlzYXRpb25zPC9hPi4nLAogIH0sCiAgJ2F1dG9DaGVja0ZvbGxvd2luZ0FkZCc6IHsgJ3poLWNuJzogJ+aWsOWinuWmguS4i+WFs+azqCcsICd6aC1oayc6ICfmlrDlop7lpoLkuIvpl5zms6gnLCAnemgtdHcnOiAn5paw5aKe5aaC5LiL6Zec5rOoJywgJ2VuJzogJ1JlY2VudCBGb2xsb3dpbmcnIH0sCiAgJ2F1dG9DaGVja0ZvbGxvd2luZ0xvc3QnOiB7ICd6aC1jbic6ICflh4/lsJHlpoLkuIvlhbPms6gnLCAnemgtaGsnOiAn5rib5bCR5aaC5LiL6Zec5rOoJywgJ3poLXR3JzogJ+a4m+WwkeWmguS4i+mXnOazqCcsICdlbic6ICdSZWNlbnQgVW5mb2xsb3dlZCcgfSwKICAndW5mb2xkVFRBcnRpY2FsJzogeyAnemgtY24nOiAn5aS05p2h5paH56ug55u05o6l5pi+56S65YWo5paH5Lul5YWN6K+v5pON5L2c5YWz5rOo5L2c6ICFJywgJ3poLWhrJzogJ+mgreaineaWh+eroOebtOaOpemhr+ekuuWFqOaWh+S7peWFjeiqpOaTjeS9nOmXnOazqOS9nOiAhScsICd6aC10dyc6ICfpoK3mop3mlofnq6Dnm7TmjqXpoa/npLrlhajmlofku6XlhY3oqqTmk43kvZzpl5zms6jkvZzogIUnLCAnZW4nOiAnVW5mb2xkIGFydGljYWwgdG8gYXZvaWQgZm9sbG93IGFydGljYWwgYXV0aG9yJyB9LAogICd1bmNoZWNrRm9sbG93UHJlc2VudGVyJzogeyAnemgtY24nOiAn6K+d6aKY6aG16Z2i5Y+R5biD5qGG5Y+W5raI6buY6K6k5Yu+6YCJ5YWz5rOo5Li75oyB5Lq6JywgJ3poLWhrJzogJ+ipsemhjOmggemdoueZvOS9iOahhuWPlua2iOmgkOioreWLvumBuOmXnOazqOS4u+aMgeS6uicsICd6aC10dyc6ICfoqbHpoYzpoIHpnaLnmbzkvYjmoYblj5bmtojpoJDoqK3li77pgbjpl5zms6jkuLvmjIHkuronLCAnZW4nOiAnVW5jaGVjayBmb2xsb3cgcHJlc2VudGVyIGluIHRvcGljIHBhZ2UnIH0sCiAgLy8g5YW25LuWCiAgJ290aGVyVG9vbHNUaXRsZSc6IHsgJ3poLWNuJzogJ+WFtuS7licsICd6aC1oayc6ICflhbbku5YnLCAnemgtdHcnOiAn5YW25LuWJywgJ2VuJzogJ090aGVycycgfSwKICAnZmFzdEVtb2ppSW5wdXQnOiB7ICd6aC1jbic6ICfooajmg4XpgInmi6nmoYbkvJjlhYjliJflh7rluLjnlKjlj4rnva7pobbooajmg4UnLCAnemgtaGsnOiAn6KGo5oOF6YG45pOH5qGG5YSq5YWI5YiX5Ye65bi455So5Y+K572u6aCC6KGo5oOFJywgJ3poLXR3JzogJ+ihqOaDhemBuOaTh+ahhuWEquWFiOWIl+WHuuW4uOeUqOWPiue9rumgguihqOaDhScsICdlbic6ICdMaXN0IHRvcCBhbmQgcmVjZW50IGVtb2ppIG9uIHRoZSB0b3Agb2YgZW1vamkgc2VsZWN0b3InIH0sCiAgJ3Nob3dMb2NhbFRpbWUnOiB7ICd6aC1jbic6ICfmmL7npLrml7bpl7Tml7bkvb/nlKjmnKzmnLrml7bljLonLCAnemgtaGsnOiAn6aGv56S65pmC6ZaT5pmC5L2/55So5pys5qmf5pmC5Y2AJywgJ3poLXR3JzogJ+mhr+ekuuaZgumWk+aZguS9v+eUqOacrOapn+aZguWNgCcsICdlbic6ICdTaG93IHRpbWVzdGFtcCB3aXRoIGxvY2FsIHRpbWUgem9uZScgfSwKICAvLyDmoLflvI8KICAnc3R5bGVGaWx0ZXJHcm91cFRpdGxlJzogeyAnemgtY24nOiAn5aSW6KeC5qC35byPJywgJ3poLWhrJzogJ+WkluingOaoo+W8jycsICd6aC10dyc6ICflpJbop4DmqKPlvI8nLCAnZW4nOiAnQXBwZWFyYW5jZScgfSwKICAvLyDmloflrZcKICAndGV4dFN0eWxlVGl0bGUnOiB7ICd6aC1jbic6ICfmloflrZcnLCAnemgtaGsnOiAn5paH5a2XJywgJ3poLXR3JzogJ+aWh+WtlycsICdlbic6ICdUZXh0JyB9LAogICdjdXN0b21Gb250RmFtaWx5JzogeyAnemgtY24nOiAn5pu/5o2i6buY6K6k5a2X5L2T5Li6fOilv+aWh3t7PHdmPn19fOS4reaWh3t7PGNmPn19JywgJ3poLWhrJzogJ+abv+aPm+mgkOioreWtl+W9oueCunzopb/mlod7ezx3Zj59fXzkuK3mlod7ezxjZj59fScsICd6aC10dyc6ICfmm7/mj5vpoJDoqK3lrZflvaLngrp86KW/5paHe3s8d2Y+fX185Lit5paHe3s8Y2Y+fX0nLCAnZW4nOiAnUmVwbGFjZSB0aGUgZGVmYXVsdCBmb250IGFzIHwgV2VzdGVybiB7ezx3Zj59fSB8IENoaW5lc2Uge3s8Y2Y+fX0nIH0sCiAgJ3dlaWJvTGFyZ2VGb250JzogeyAnemgtY24nOiAn5aKe5aSn5b6u5Y2a5q2j5paH5a2X5Y+35Li6fOWOn+Wkp+Wwj+eahHt7PHJhdGlvPn19JywgJ3poLWhrJzogJ+WinuWkp+W+ruWNmuato+aWh+Wtl+Wei+Wkp+Wwj+eCunzljp/lpKflsI/nmoR7ezxyYXRpbz59fScsICd6aC10dyc6ICflop7lpKflvq7ljZrmraPmloflrZflnovlpKflsI/ngrp85Y6f5aSn5bCP55qEe3s8cmF0aW8+fX0nLCAnZW4nOiAnSW5jcmVhc2UgZm9udCBzaXplIG9mIFdlaWJvIGNvbnRlbnQgdG8gfCB7ezxyYXRpbz59fScgfSwKICAnd2VpYm9MYXJnZUZvbnQxMjAnOiB7ICd6aC1jbic6ICcxMjAlJywgJ3poLWhrJzogJzEyMCUnLCAnemgtdHcnOiAnMTIwJScsICdlbic6ICcxMjAlJyB9LAogICd3ZWlib0xhcmdlRm9udDE1MCc6IHsgJ3poLWNuJzogJzE1MCUnLCAnemgtaGsnOiAnMTUwJScsICd6aC10dyc6ICcxNTAlJywgJ2VuJzogJzE1MCUnIH0sCiAgJ3dlaWJvTGFyZ2VGb250MjAwJzogeyAnemgtY24nOiAnMjAwJScsICd6aC1oayc6ICcyMDAlJywgJ3poLXR3JzogJzIwMCUnLCAnZW4nOiAnMjAwJScgfSwKICAnd2VpYm9MYXJnZUZvbnQzMDAnOiB7ICd6aC1jbic6ICczMDAlJywgJ3poLWhrJzogJzMwMCUnLCAnemgtdHcnOiAnMzAwJScsICdlbic6ICczMDAlJyB9LAogIC8vIOeJiOmdogogICdsYXlvdXRTdHlsZVRpdGxlJzogeyAnemgtY24nOiAn54mI6Z2iJywgJ3poLWhrJzogJ+eJiOmdoicsICd6aC10dyc6ICfniYjpnaInLCAnZW4nOiAnTGF5b3V0JyB9LAogICdhdmF0YXJTaGFwZSc6IHsgJ3poLWNuJzogJ+e7n+S4gOWktOWDj+W9oueKtuS4unx7ezxzaGFwZT59fScsICd6aC1oayc6ICfntbHkuIDpoK3lg4/lvaLni4Dngrp8e3s8c2hhcGU+fX0nLCAnemgtdHcnOiAn57Wx5LiA6aCt5YOP5b2i54uA54K6fHt7PHNoYXBlPn19JywgJ2VuJzogJ1Nob3cgYWxsIGF2YXRhcnMgYXMgfCB7ezxzaGFwZT59fScgfSwKICAnYXZhdGFyU2hhcGVDaXJjbGUnOiB7ICd6aC1jbic6ICflnIblvaInLCAnemgtaGsnOiAn5ZyT5b2iJywgJ3poLXR3JzogJ+Wck+W9oicsICdlbic6ICdDaXJjbGUnIH0sCiAgJ2F2YXRhclNoYXBlU3F1YXJlJzogeyAnemgtY24nOiAn5pa55b2iJywgJ3poLWhrJzogJ+aWueW9oicsICd6aC10dyc6ICfmlrnlvaInLCAnZW4nOiAnU3F1YXJlJyB9LAogICdkYXJrTmF2QmFyJzogeyAnemgtY24nOiAn5L2/55So5rex6Imy55qE5a+86Iiq5qCPJywgJ3poLWhrJzogJ+S9v+eUqOa3seiJsueahOWwjuimveWIlycsICd6aC10dyc6ICfkvb/nlKjmt7HoibLnmoTlsI7opr3liJcnLCAnZW4nOiAnRGFyayBuYXYgYmFyJyB9LAogICdyZW9yZGVyTmF2QmFyJzogeyAnemgtY24nOiAn5oGi5aSN57uP5YW45a+86Iiq5qCP5qC35byPe3s8aT59fScsICd6aC1oayc6ICfmgaLlvqnntpPlhbjlsI7opr3liJfmqKPlvI97ezxpPn19JywgJ3poLXR3JzogJ+aBouW+qee2k+WFuOWwjuimveWIl+aoo+W8j3t7PGk+fX0nLCAnZW4nOiAnUmVzdG9yZSBjbGFzc2ljYWwgc3R5bGUgbmF2aWdhdG9yIHt7PGk+fX0nIH0sCiAgJ3Jlb3JkZXJOYXZCYXJEZXNjJzogewogICAgJ3poLWNuJzogJ+W+ruWNmuWtl+agt+e0p+i0tOWcqOagh+ivhuWPs+S+p+aYvuekuu+8jOKAnOmmlumhteKAneKAnOeDremXqOKAneKAnOa4uOaIj+KAneeahOmTvuaOpeWHuueOsOWcqOaQnOe0ouahhueahOW3puS+p+OAgicKICB9LAogICduYXZIaWRlTmFtZSc6IHsgJ3poLWNuJzogJ+WwhuWvvOiIquagj+S4iueahOeUqOaIt+WQjXx7ezxhY3Q+fX17ezxpPn19JywgJ3poLWhrJzogJ+Wwh+WwjuimveWIl+S4iueahOeUqOaItuWQjXx7ezxhY3Q+fX17ezxpPn19JywgJ3poLXR3JzogJ+Wwh+WwjuimveWIl+S4iueahOeUqOaItuWQjXx7ezxhY3Q+fX17ezxpPn19JywgJ2VuJzogJ1VzZXJuYW1lIG9uIG5hdiBiYXIgd2lsbCBiZSB8IHt7PGFjdD59fXt7PGk+fX0nIH0sCiAgJ25hdkhpZGVOYW1lUmVwbGFjZSc6IHsgJ3poLWNuJzogJ+abv+aNouS4uuKAnHt7bmF2SGlkZU5hbWVSZXBsYWNlVGV4dH194oCdJywgJ3poLWhrJzogJ+abv+aPm+eCuuOAjHt7bmF2SGlkZU5hbWVSZXBsYWNlVGV4dH1944CNJywgJ3poLXR3JzogJ+abv+aPm+eCuuOAjHt7bmF2SGlkZU5hbWVSZXBsYWNlVGV4dH1944CNJywgJ2VuJzogJ3JlcGxhY2VkIHRvIHRleHQgInt7bmF2SGlkZU5hbWVSZXBsYWNlVGV4dH19IicgfSwKICAnbmF2SGlkZU5hbWVIaWRkZW4nOiB7ICd6aC1jbic6ICfpmpDol48nLCAnemgtaGsnOiAn6Zqx6JePJywgJ3poLXR3JzogJ+maseiXjycsICdlbic6ICdoaWRkZW4nIH0sCiAgJ25hdkhpZGVOYW1lRGVzYyc6IHsKICAgICd6aC1jbic6ICfmraTlpJbmgqjov5jlj6/ku6XlnKjniYjpnaLmuIXnkIbpgInpobnljaHmiJblnKjmraTli77pgInvvIzku6XpmpDol4/pmpDol4/lj7PmoI/nmoQgW1tsYXlvdXQucmlnaHQuaW5mb11dIOaooeWdl+OAguatpOWklui/mOWPr+S7peWcqOWKn+iDveaUuemAoOmAiemhueWNoeaIluatpOWkhOmAieaLqSBbW3Rvb2wuZml4ZWQuaGlkZV9uYXZfYmFyXV0g44CCJwogIH0sCiAgJ25hdkhpZGVOYW1lUmVwbGFjZVRleHQnOiB7ICd6aC1jbic6ICfkuKrkurrkuLvpobUnLCAnemgtaGsnOiAn5YCL5Lq65Li76aCBJywgJ3poLXR3JzogJ+WAi+S6uuS4u+mggScsICdlbic6ICdNeSBQcm9maWxlJyB9LAogICd3aWR0aFdlaWJvJzogeyAnemgtY24nOiAn6K6+572u5b6u5Y2a5a695bqm5Li6fHt7PHdpZHRoPn195YOP57SgIHt7PGk+fX0nLCAnemgtaGsnOiAn6Kit572u5b6u5Y2a5a+s5bqm54K6fHt7PHdpZHRoPn195ZyW5YWDIHt7PGk+fX0nLCAnemgtdHcnOiAn6Kit572u5b6u5Y2a5a+s5bqm54K6fHt7PHdpZHRoPn195ZyW5YWDIHt7PGk+fX0nLCAnZW4nOiAnU2V0IHdpZHRoIG9mIFdlaWJvIHRvIHwge3s8d2lkdGg+fX1weCB7ezxpPn19JyB9LAogICd3aWR0aFdlaWJvRGVzYyc6IHsKICAgICd6aC1jbic6ICflpoLmnpzmgqjlvIDlkK/kuoZbW3Rvb2wuc2lkZWJhci5tZXJnZV9sZWZ0X3JpZ2h0XV3vvIzosIPmlbTor6Xlrr3luqbkuLogNzUwcHgg5Y+v5Lul5oGi5aSN5Y6f5pyJ55qE6aG16Z2i5a695bqm44CCJwogIH0sCiAgJ3dlaWJvT25seSc6IHsKICAgICd6aC1jbic6ICfpmIXor7vop4blm7585a695bqme3s8d2lkdGg+fX3lg4/ntKB8fOW/q+aNt+mUrnt7PGtleT59fXx8e3s8c3dpdGNoPn195Zyo5b6u5Y2a5YiX6KGo6aG26YOo5pi+56S65b+r5o235byA5YWz5oyJ6ZKuJywKICAgICd6aC1oayc6ICfplrHoroDoppblnJZ85a+s5bqme3s8d2lkdGg+fX3lnJblhYN8fOW/q+mAn+mNtXt7PGtleT59fXx8e3s8c3dpdGNoPn195Zyo5b6u5Y2a5riF5Zau6aCC6YOo6aGv56S65b+r6YCf6ZaL6Zec5oyJ6YiVJywKICAgICd6aC10dyc6ICfplrHoroDoppblnJZ85a+s5bqme3s8d2lkdGg+fX3lnJblhYN8fOW/q+mAn+mNtXt7PGtleT59fXx8e3s8c3dpdGNoPn195Zyo5b6u5Y2a5riF5Zau6aCC6YOo6aGv56S65b+r6YCf6ZaL6Zec5oyJ6YiVJywKICAgICdlbic6ICdSZWFkaW5nIFZpZXcgfCB3aWR0aCB7ezx3aWR0aD59fXB4IHx8IHNob3J0Y3V0IHt7PGtleT59fSB8fCB7ezxzd2l0Y2g+fX0gc2hvdyBzd2l0Y2ggYnV0dG9uIGF0IHRvcCBvZiBXZWlibyBsaXN0JwogIH0sCiAgJ3dlaWJvT25seUJ1dHRvbkRlc2MnOiB7ICd6aC1jbic6ICfliIfmjaLop4blm74nLCAnemgtaGsnOiAn5YiH5o+b6KaW5ZyWJywgJ3poLXR3JzogJ+WIh+aPm+imluWclicsICdlbic6ICdTd2l0Y2ggVmlldycgfSwKICAna2V5SW5wdXRUaXAnOiB7ICd6aC1jbic6ICfmjInkuIvplK7nm5jkv67mlLnlv6vmjbfplK7orr7nva4nLCAnemgtaGsnOiAn5oyJ5LiL6Y2155uk5L+u5pS55b+r6YCf6Y216Kit572uJywgJ3poLXR3JzogJ+aMieS4i+mNteebpOS/ruaUueW/q+mAn+mNteioree9ricsICdlbic6ICdQcmVzcyBrZXkgdG8gbW9kaWZ5IHNob3J0Y3V0IGtleSBzZXR0aW5nJyB9LAogICdzZXRTa2luJzogewogICAgJ3poLWNuJzogJ+e7n+S4gOaJgOaciemhtemdouS9v+eUqHzmqKHmnb97ezxza2luPn19IHt7PGk+fX0nLAogICAgJ3poLWhrJzogJ+e1seS4gOaJgOaciemggemdouS9v+eUqHzmqKHmnb97ezxza2luPn19IHt7PGk+fX0nLAogICAgJ3poLXR3JzogJ+e1seS4gOaJgOaciemggemdouS9v+eUqHzmqKHmnb97ezxza2luPn19IHt7PGk+fX0nLAogICAgJ2VuJzogJ1Nob3cgYWxsIHBhZ2VzIHdpdGggfCB0ZW1wbGF0ZSB7ezxza2luPn19IHt7PGk+fX0nLAogIH0sCiAgJ3NldFNraW5EZXNjJzogewogICAgJ3poLWNuJzogJ+W8gOWQr+WQjuaJgOaciemhtemdouWwhuaYvuekuuaCqOmAieaLqeeahOaooeadv++8jOWMheaLrOWFtuS7lueUqOaIt+eahOS4quS6uuS4u+mhteOAguaooeadv+S4jeS8muimhuebluaCqOWcqOS4u+mhteiHquWumuS5ieeahOiDjOaZr+WbvuaIlumFjeiJsu+8jOS9huaYr+S8muimhuebluS4quS6uuS4u+mhteeahOiDjOaZr+WbvuaIlumFjeiJsuOAguaooeadv+aViOaenOS7heWcqOaCqOeahOa1j+iniOWZqOS4reeUn+aViO+8jOS7luS6uuiuv+mXruaCqOeahOS4quS6uuS4u+mhteaXtu+8jOS7jeS8mueci+WIsOaCqOWcqOW+ruWNmuS4reiuvue9rueahOaooeadv+OAgjxiciAvPuaooeadv+eahOmAieaLqeivt+WPguiAgzxhIGhyZWY9Imh0dHA6Ly9za2luLnZpcC53ZWliby5jb20vbGlzdD90b3BuYXY9MSZ3dnI9NiIgdGFyZ2V0PSJfYmxhbmsiPuaooeadv+WVhuW6lzwvYT7vvIzlnKjmqKHmnb/llYblupfkuK3ngrnlh7vlm77niYfpooTop4jkuI7lupTnlKjmqKHmnb/jgIInLAogIH0sCiAgJ3NldFNraW5CeVByZXZpZXcnOiB7CiAgICAnemgtY24nOiAnWWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyIOaooeadv+iuvue9ricsCiAgfSwKICAnc2V0U2tpbkJ5UHJldmlld0Rlc2MnOiB7CiAgICAnemgtY24nOiAn5oKo6KaB5ZyoIFlldCBBbm90aGVyIFdlaWJvIEZpbHRlciDohJrmnKzkuK3kvb/nlKjigJx7e25hbWV9feKAneaooeadv+WQl++8nzxiciAvPuWQr+eUqOWQjuaCqOiuv+mXruWQhOenjemhtemdouaXtumDveWwhuS9v+eUqOW9k+WJjeeahOaooeadv+OAgjxiciAvPuWcqOiEmuacrOS4reS9v+eUqOearuiCpOS4jeS8muW9seWTjeWFtuS7lueUqOaIt+afpeeci+aCqOS4quS6uuS4u+mhteaXtueahOaooeadv+agt+W8j+OAgicsCiAgICAnemgtaGsnOiAn5oKo6KaB5ZyoIFlldCBBbm90aGVyIFdlaWJvIEZpbHRlciDohbPmnKzkuK3kvb/nlKjjgIx7e25hbWV9feOAjeaooeadv+WXju+8nzxiciAvPuWVn+eUqOW+jOaCqOioquWVj+WQhOeorumggemdouaZgumDveWwh+S9v+eUqOeVtuWJjeeahOaooeadv+OAgjxiciAvPuWcqOiFs+acrOS4reS9v+eUqOearuiGmuS4jeacg+W9semfv+WFtuS7lueUqOaItuafpeeci+aCqOWAi+S6uuS4u+mggeaZgueahOaooeadv+aoo+W8j+OAgicsCiAgICAnemgtdHcnOiAn5oKo6KaB5ZyoIFlldCBBbm90aGVyIFdlaWJvIEZpbHRlciDohbPmnKzkuK3kvb/nlKjjgIx7e25hbWV9feOAjeaooeadv+WXju+8nzxiciAvPuWVn+eUqOW+jOaCqOioquWVj+WQhOeorumggemdouaZgumDveWwh+S9v+eUqOeVtuWJjeeahOaooeadv+OAgjxiciAvPuWcqOiFs+acrOS4reS9v+eUqOearuiGmuS4jeacg+W9semfv+WFtuS7lueUqOaItuafpeeci+aCqOWAi+S6uuS4u+mggeaZgueahOaooeadv+aoo+W8j+OAgicsCiAgICAnZW4nOiAnRG8geW91IHdhbnQgdG8gZW5hYmxlIHRoZSB0ZW1wbGF0ZSAie3tuYW1lfX0iIGluIFlldCBBbm90aGVyIFdlaWJvIEZpbHRlciBzY3JpcHQ/PGJyIC8+QWxsIHBhZ2VzIHdpbGwgc2hvdyBjdXJyZW50IHRlbXBsYXRlIGlmIHlvdSBjaG9vc2UgZW5hYmxlIGl0LicsCiAgfSwKICAnZmVlZExpc3ROYXZGaXgnOiB7ICd6aC1jbic6ICflpITnkIbmtojmga/mtYHlr7zoiKrmoI/mjpLniYjplJnkvY3nmoTpl67popjvvIjkuLTml7bmgKfvvIl7ezxpPn19JywgJ3poLWhrJzogJ+iZleeQhua2iOaBr+a1geWwjuiIquashOaOkueJiOmMr+S9jeeahOWVj+mhjO+8iOiHqOaZguaAp++8iXt7PGk+fX0nLCAnemgtdHcnOiAn6Ieo5pmC6JmV55CG5raI5oGv5rWB5bCO6Iiq5qyE5o6S54mI6Yyv5L2N55qE5ZWP6aGM77yI6Ieo5pmC5oCn77yJe3s8aT59fScsICdlbic6ICdGaXggdGhlIHdyb25nIGxheW91dCBvZiBmZWVkIGxpc3QgbmF2IGJhciAoVGVtcG9yYXJ5KSB7ezxpPn19JyB9LAogICdmZWVkTGlzdE5hdkZpeERlc2MnOiB7CiAgICAnemgtY24nOiAn5aaC5p6c5oKo5raI5oGv5rWB5a+86Iiq5qCP55qE5o6S54mI5Ye6546w6ZSZ5L2N77yM5a+86Ie056ys5LiA5p2h5b6u5Y2a55qE5L2c6ICF5aS05YOP6KKr5pi+56S65Yiw5Y+z5L6n77yM5oKo5Y+v5Lul5bCd6K+V5Li05pe25omT5byA5pys5Yqf6IO944CC5aaC5p6c5oKo5rKh5pyJ5Y+R546w5Lu75L2V5byC5bi477yM6K+35LiN6KaB5byA5ZCv5pys5Yqf6IO944CC5rOo5oSP77ya5b6u5Y2a5L+u5aSN5a+55bqU5Yqf6IO95ZCO5oKo5Y+v6IO96ZyA6KaB5YWz6Zet5pys5Yqf6IO95Lul5L+d6K+B5q2j5bi455qE5rWP6KeI44CCJywKICB9LAogIC8vIOW+ruWNmgogICd3ZWlib1N0eWxlVGl0bGUnOiB7ICd6aC1jbic6ICflvq7ljZonLCAnemgtaGsnOiAn5b6u5Y2aJywgJ3poLXR3JzogJ+W+ruWNmicsICdlbic6ICdXZWlibycgfSwKICAndW53cmFwVGV4dERlc2MnOiB7ICd6aC1jbic6ICflvq7ljZrkvZzogIXlkozmraPmloflkIzooYwnLCAnemgtaGsnOiAn5b6u5Y2a5L2c6ICF5ZKM5q2j5paH5ZCM6KGMJywgJ3poLXR3JzogJ+W+ruWNmuS9nOiAheWSjOato+aWh+WQjOihjCcsICdlbic6ICdObyBsaW5lIGJyZWFrIGFmdGVyIGF1dGhvcicgfSwKICAndW53cmFwQ29udGVudCc6IHsgJ3poLWNuJzogJ+WwhuW+ruWNmuS4reeahOaNouihjOaYvuekuuS4unx7ezx0ZXh0Pn19e3s8aT59fScsICd6aC1oayc6ICflsIflvq7ljZrkuK3nmoTmj5vooYzpoa/npLrngrp8e3s8dGV4dD59fXt7PGk+fX0nLCAnemgtdHcnOiAn5bCH5b6u5Y2a5Lit55qE5o+b6KGM6aGv56S654K6fHt7PHRleHQ+fX17ezxpPn19JywgJ2VuJzogJ1Nob3cgbGluZSBicmVha3MgYXMgY2hhcmFjdGVyIHx7ezx0ZXh0Pn19e3s8aT59fScgfSwKICAndW53cmFwQ29udGVudERlc2MnOiB7CiAgICAnemgtY24nOiAn5oKo6L+Y5Y+v5Lul5Zyo6Ieq5a6a5LmJ5qC35byP5Lit5L2/55So4oCcIC55YXdmLWxpbmVicmVhazo6YmVmb3JlIHsgY29udGVudDogIuKPjiIgfSDigJ3oh6rlrprkuYnjgILpnIDopoHorr7nva7lhoXlrrnov4fmu6Tlmajml7bmgqjku43pnIDopoHkvb/nlKjmraPliJnooajovr7lvI88Y29kZT5cXG48L2NvZGU+6KGo56S65o2i6KGM56ym44CCJwogIH0sCiAgJ2ltYWdlU2l6ZSc6IHsgJ3poLWNuJzogJ+aBouWkjeWbvueJh+Wkp+Wwj+S4uuato+W4uOWwuuWvuCAoZmVlZCB2MykgKGZlZWQgdjQpe3s8aT59fXx8e3s8cmVwb3N0Pn195ZCM5pe257yp5bCP6KKr6L2s5Y+R55qE5Y6f5b6u5Y2a55qE5a695bqmJywgJ3poLWhrJzogJ+aBouW+qeWclueJh+Wkp+Wwj+eCuuato+W4uOWwuuWvuCAoZmVlZCB2MykgKGZlZWQgdjQpe3s8aT59fXx8e3s8cmVwb3N0Pn195ZCM5pmC57iu5bCP6KKr6L2J55m855qE5Y6f5b6u5Y2a55qE5a+s5bqmJywgJ3poLXR3JzogJ+aBouW+qeWclueJh+Wkp+Wwj+eCuuato+W4uOWwuuWvuCAoZmVlZCB2MykgKGZlZWQgdjQpe3s8aT59fXx8e3s8cmVwb3N0Pn195ZCM5pmC57iu5bCP6KKr6L2J55m855qE5Y6f5b6u5Y2a55qE5a+s5bqmJywgJ2VuJzogJ1Jlc3RvcmUgcGljdHVyZXMgdG8gbm9ybWFsIHNpemUgKGZlZWQgdjMpIChmZWVkIHY0KSB7ezxpPn19fHx7ezxyZXBvc3Q+fX0gYW5kIHJlc3RvcmUgdGhlIHNpemUgb2Ygb3JpZ2luYWwgd2VpYm8nIH0sCiAgJ2ltYWdlU2l6ZURlc2MnOiB7CiAgICAnemgtY24nOiAn57yp5bCP5Zu+54mH5bC65a+45LuF5b2x5ZON5Zu+54mH5Zyo5oKo55qE572R6aG15LiK55qE5pi+56S65pWI5p6c77yM5LiN6IO96ZmN5L2O572R57uc5pWw5o2u5rWB6YeP55So6YeP44CCJwogIH0sCiAgJ25vV2VpYm9TcGFjZSc6IHsgJ3poLWNuJzogJ+enu+mZpOW+ruWNmuS4juW+ruWNmumXtOeahOepuumamScsICd6aC1oayc6ICfnp7vpmaTlvq7ljZroiIflvq7ljZrplpPnmoTnqbrpmpknLCAnemgtdHcnOiAn56e76Zmk5b6u5Y2a6IiH5b6u5Y2a6ZaT55qE56m66ZqZJywgJ2VuJzogJ1JlbW92ZSBzcGFjZSBiZXR3ZWVuIFdlaWJvJyB9LAogICdmcm9tSW5Cb3R0b20nOiB7ICd6aC1jbic6ICflsIblvq7ljZrnmoTlj5HluIPml7bpl7TlkozmnaXmupDnp7vliqjliLDlvq7ljZrmnKvlsL4gKGZlZWQgdjMpe3s8aT59fScsICd6aC1oayc6ICflsIflvq7ljZrnmoTnmbzluIPmmYLplpPlkozkvobmupDnp7vli5XliLDlvq7ljZrmnKvlsL4gKGZlZWQgdjMpe3s8aT59fScsICd6aC10dyc6ICflsIflvq7ljZrnmoTnmbzluIPmmYLplpPlkozkvobmupDnp7vli5XliLDlvq7ljZrmnKvlsL4gKGZlZWQgdjMpe3s8aT59fScsICdlbic6ICdNb3ZlIHRpbWVzdGFtcCBhbmQgc291cmNlIG9mIFdlaWJvIHRvIGJvdHRvbSAoZmVlZCB2Myl7ezxpPn19JyB9LAogICd1c2VyUGFnZU5vQXV0aG9yJzogeyAnemgtY24nOiAn5LiN5Zyo5Liq5Lq65Li76aG15pi+56S65L2c6ICF5aS05YOP5LiO55So5oi35ZCNfHt7PHdobz59fSAoZmVlZCB2MyknLCAnemgtaGsnOiAn5LiN5Zyo5YCL5Lq65Li76aCB6aGv56S65L2c6ICF6aCt5YOP6IiH55So5oi25ZCNfHt7PHdobz59fSAoZmVlZCB2MyknLCAnemgtdHcnOiAn5LiN5Zyo5YCL5Lq65Li76aCB6aGv56S65L2c6ICF6aCt5YOP6IiH55So5oi25ZCNfHt7PHdobz59fSAoZmVlZCB2MyknLCAnZW4nOiAnSGlkZSBhdmF0YXIgYW5kIHVzZXJuYW1lIG9mIGF1dGhvciB8IG9uIHt7PHdobz59fSAoZmVlZCB2MyknIH0sCiAgJ3VzZXJQYWdlTm9BdXRob3JNaW5lJzogeyAnemgtY24nOiAn5LuF6Ieq5bex55qE5Liq5Lq65Li76aG1JywgJ3poLWhrJzogJ+WDheiHquW3seeahOWAi+S6uuS4u+mggScsICd6aC10dyc6ICflg4Xoh6rlt7HnmoTlgIvkurrkuLvpoIEnLCAnZW4nOiAnbXkgdXNlciBwYWdlJyB9LAogICd1c2VyUGFnZU5vQXV0aG9yQWxsJzogeyAnemgtY24nOiAn5omA5pyJ5Lq655qE5Liq5Lq65Li76aG1JywgJ3poLWhrJzogJ+aJgOacieS6uueahOWAi+S6uuS4u+mggScsICd6aC10dyc6ICfmiYDmnInkurrnmoTlgIvkurrkuLvpoIEnLCAnZW4nOiAnYWxsIHVzZXIgcGFnZXMnIH0sCiAgJ2Zyb21JbkJvdHRvbURlc2MnOiB7CiAgICAnemgtY24nOiAn5aaC5p6c5oKo5byA5ZCv5LqGW1tzdHlsZS5zd2VpYm8ubm9fd2VpYm9fc3BhY2VdXe+8jOS9huacquW8gOWQr+acrOWKn+iDve+8jOWImeW+ruWNmueahOWPkeW4g+aXtumXtOWSjOadpea6kOWwhuS8muiiq+makOiXj+OAgicKICB9LAogICdob3ZlclNob3dGb2xkJzogeyAnemgtY24nOiAn6byg5qCH5oyH5ZCR6KKr5oqY5Y+g5b6u5Y2a5pe25pi+56S65YaF5a65JywgJ3poLWhrJzogJ+a7kem8oOaMh+WQkeiiq+aKmOeWiuW+ruWNmuaZgumhr+ekuuWFp+WuuScsICd6aC10dyc6ICfmu5HpvKDmjIflkJHooqvmipjnlorlvq7ljZrmmYLpoa/npLrlhaflrrknLCAnZW4nOiAnU2hvdyBmb2xkZWQgV2VpYm8gd2hlbiBtb3VzZSBvdmVyJyB9LAogICdsYXlvdXRSZW9yZGVyJzogewogICAgJ3poLWNuJzogJ+mHjeaWsOaOkuWIl+W+ruWNmuaOp+WItuaMiemSrnt7PGk+fX18fHt7PDE+fX18e3s8Mj59fXx7ezwzPn19fHt7PDQ+fX18e3s8NT59fScsCiAgICAnemgtaGsnOiAn6YeN5paw5o6S5YiX5b6u5Y2a5o6n5Yi25oyJ6YiVe3s8aT59fXx8e3s8MT59fXx7ezwyPn19fHt7PDM+fX18e3s8ND59fXx7ezw1Pn19JywKICAgICd6aC10dyc6ICfph43mlrDmjpLliJflvq7ljZrmjqfliLbmjInpiJV7ezxpPn19fHx7ezwxPn19fHt7PDI+fX18e3s8Mz59fXx7ezw0Pn19fHt7PDU+fX0nLAogICAgJ2VuJzogJ1Jlb3JkZXIgV2VpYm8gY29udHJvbCBidXR0b25ze3s8aT59fXx8e3s8MT59fXx7ezwyPn19fHt7PDM+fX18e3s8ND59fXx7ezw1Pn19JwogIH0sCiAgJ2ZvbGRlZFdlaWJvVGV4dERlc2MnOiB7ICd6aC1jbic6ICfooqvmipjlj6Dlvq7ljZrnmoTmj5DnpLrkv6Hmga/ljIXlkKt8e3s8dGV4dD59fScsICd6aC1oayc6ICfooqvmipjnlorlvq7ljZrnmoTmj5DnpLroqIrmga/ljIXlkKt8e3s8dGV4dD59fScsICd6aC10dyc6ICfooqvmipjnlorlvq7ljZrnmoTmj5DnpLroqIrmga/ljIXlkKt8e3s8dGV4dD59fScsICdlbic6ICdTaG93IGZvbGRlZCB3ZWlibyB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHwge3s8dGV4dD59fScgfSwKICAnZm9sZGVkV2VpYm9UZXh0QXV0aG9yRGVzYyc6IHsgJ3poLWNuJzogJ+S9nOiAhScsICd6aC1oayc6ICfkvZzogIUnLCAnemgtdHcnOiAn5L2c6ICFJywgJ2VuJzogJ0F1dGhvcicgfSwKICAnZm9sZGVkV2VpYm9UZXh0UmVhc29uRGVzYyc6IHsgJ3poLWNuJzogJ+aKmOWPoOWOn+WboCcsICd6aC1oayc6ICfmipjnlorljp/lm6AnLCAnemgtdHcnOiAn5oqY55aK5Y6f5ZugJywgJ2VuJzogJ1JlYXNvbicgfSwKICAnZm9sZGVkV2VpYm9UZXh0QXV0aG9yUmVhc29uRGVzYyc6IHsgJ3poLWNuJzogJ+S9nOiAheWSjOaKmOWPoOWOn+WboCcsICd6aC1oayc6ICfkvZzogIXlkozmipjnlorljp/lm6AnLCAnemgtdHcnOiAn5L2c6ICF5ZKM5oqY55aK5Y6f5ZugJywgJ2VuJzogJ0F1dGhvciBhbmQgcmVhc29uJyB9LAogICdmb2xkZWRXZWlib1RleHQnOiB7CiAgICAnemgtY24nOiAnIuS4gOadoeW+ruWNmuiiq+aKmOWPoO+8jOivt+eCueWHu+afpeeciyInLAogICAgJ3poLWhrJzogJyLkuIDmop3lvq7ljZrooqvmipjnlorvvIzoq4vpu57mk4rmn6XnnIsiJywKICAgICd6aC10dyc6ICci5LiA5qKd5b6u5Y2a6KKr5oqY55aK77yM6KuL6bue5pOK5p+l55yLIicsCiAgICAnZW4nOiAnIkEgV2VpYm8gd2FzIGZvbGRlZCwgY2xpY2sgdG8gdmlldy4iJwogIH0sCiAgJ2ZvbGRlZFdlaWJvVGV4dEF1dGhvcic6IHsKICAgICd6aC1jbic6ICci5p2l6IeqIEAiIGF0dHIoeWF3Zi1hdXRob3IpICIg55qE5LiA5p2h5b6u5Y2a6KKr5oqY5Y+g77yM6K+354K55Ye75p+l55yLIicsCiAgICAnemgtaGsnOiAnIuS+huiHqiBAIiBhdHRyKHlhd2YtYXV0aG9yKSAiIOeahOS4gOaineW+ruWNmuiiq+aKmOeWiu+8jOiri+m7nuaTiuafpeeciyInLAogICAgJ3poLXR3JzogJyLkvoboh6ogQCIgYXR0cih5YXdmLWF1dGhvcikgIiDnmoTkuIDmop3lvq7ljZrooqvmipjnlorvvIzoq4vpu57mk4rmn6XnnIsiJywKICAgICdlbic6ICciQSBXZWlibyBmcm9tIEAiIGF0dHIoeWF3Zi1hdXRob3IpICIgd2FzIGZvbGRlZCwgY2xpY2sgdG8gdmlldy4iJwogIH0sCiAgJ2ZvbGRlZFdlaWJvVGV4dFJlYXNvbic6IHsKICAgICd6aC1jbic6ICci5LiA5p2h5b6u5Y2aIiBhdHRyKHlhd2YtcmVhc29uKSAi6ICM6KKr5oqY5Y+g77yM6K+354K55Ye75p+l55yLIicsCiAgICAnemgtaGsnOiAnIuS4gOaineW+ruWNmiIgYXR0cih5YXdmLXJlYXNvbikgIuiAjOiiq+aKmOeWiu+8jOiri+m7nuaTiuafpeeciyInLAogICAgJ3poLXR3JzogJyLkuIDmop3lvq7ljZoiIGF0dHIoeWF3Zi1yZWFzb24pICLogIzooqvmipjnlorvvIzoq4vpu57mk4rmn6XnnIsiJywKICAgICdlbic6ICciQSBXZWlibyB3YXMgZm9sZGVkICIgYXR0cih5YXdmLXJlYXNvbikgIiwgY2xpY2sgdG8gdmlldy4iJwogIH0sCiAgJ2ZvbGRlZFdlaWJvVGV4dEF1dGhvclJlYXNvbic6IHsKICAgICd6aC1jbic6ICci5p2l6IeqIEAiIGF0dHIoeWF3Zi1hdXRob3IpICIg55qE5LiA5p2h5b6u5Y2aIiBhdHRyKHlhd2YtcmVhc29uKSAi6ICM6KKr5oqY5Y+g77yM6K+354K55Ye75p+l55yLIicsCiAgICAnemgtaGsnOiAnIuS+huiHqiBAIiBhdHRyKHlhd2YtYXV0aG9yKSAiIOeahOS4gOaineW+ruWNmiIgYXR0cih5YXdmLXJlYXNvbikgIuiAjOiiq+aKmOeWiu+8jOiri+m7nuaTiuafpeeciyInLAogICAgJ3poLXR3JzogJyLkvoboh6ogQCIgYXR0cih5YXdmLWF1dGhvcikgIiDnmoTkuIDmop3lvq7ljZoiIGF0dHIoeWF3Zi1yZWFzb24pICLogIzooqvmipjnlorvvIzoq4vpu57mk4rmn6XnnIsiJywKICAgICdlbic6ICciQSBXZWlibyBmcm9tIEAiIGF0dHIoeWF3Zi1hdXRob3IpICIgd2FzIGZvbGRlZCAiIGF0dHIoeWF3Zi1yZWFzb24pICIsIGNsaWNrIHRvIHZpZXcuIicKICB9LAogICdsYXlvdXRSZW9yZGVyRGVzYyc6IHsKICAgICd6aC1jbic6ICfmgqjov5jlj6/ku6XlnKjniYjpnaLmuIXnkIbpgInpobnljaHkuK3pmpDol4/mgqjkuI3mg7PnnIvliLDnmoTmjInpkq7vvIzmiJblnKjmraTli77pgInku6XpmpDol4/vvJpbW2xheW91dC53ZWliby5wb3BdXSBbW2xheW91dC53ZWliby5mYXZvdXJpdGVdXSBbW2xheW91dC53ZWliby5mb3J3YXJkXV0gW1tsYXlvdXQud2VpYm8ubGlrZV1dJywKICB9LAogICdsYXlvdXRSZW9yZGVyUG9wJzogeyAnemgtY24nOiAn5o6o5bm/JywgJ3poLWhrJzogJ+aOqOW7oycsICd6aC10dyc6ICfmjqjlu6MnLCAnZW4nOiAnIFByb21vdGUnIH0sCiAgJ2xheW91dFJlb3JkZXJGYXZvcml0ZSc6IHsgJ3poLWNuJzogJ+aUtuiXjycsICd6aC1oayc6ICfmlLbol48nLCAnemgtdHcnOiAn5pS26JePJywgJ2VuJzogJ0Zhdm91cml0ZScgfSwKICAnbGF5b3V0UmVvcmRlckZvcndhcmQnOiB7ICd6aC1jbic6ICfovazlj5EnLCAnemgtaGsnOiAn6L2J55m8JywgJ3poLXR3JzogJ+i9ieeZvCcsICdlbic6ICdGb3J3YXJkJyB9LAogICdsYXlvdXRSZW9yZGVyQ29tbWVudCc6IHsgJ3poLWNuJzogJ+ivhOiuuicsICd6aC1oayc6ICfoqZXoq5YnLCAnemgtdHcnOiAn6KmV6KuWJywgJ2VuJzogJ0NvbW1lbnQnIH0sCiAgJ2xheW91dFJlb3JkZXJMaWtlJzogeyAnemgtY24nOiAn6LWeJywgJ3poLWhrJzogJ+iumicsICd6aC10dyc6ICforponLCAnZW4nOiAnTGlrZScgfSwKICAnbGF5b3V0Q29tbWVudFJlb3JkZXInOiB7CiAgICAnemgtY24nOiAn6YeN5paw5o6S5YiX6K+E6K665o6n5Yi25oyJ6ZKue3s8aT59fXx8e3s8MT59fXx7ezwyPn19fHt7PDM+fX18e3s8ND59fXx7ezw1Pn19JywKICAgICd6aC1oayc6ICfph43mlrDmjpLliJfoqZXoq5bmjqfliLbmjInpiJV7ezxpPn19fHx7ezwxPn19fHt7PDI+fX18e3s8Mz59fXx7ezw0Pn19fHt7PDU+fX0nLAogICAgJ3poLXR3JzogJ+mHjeaWsOaOkuWIl+ipleirluaOp+WItuaMiemIlXt7PGk+fX18fHt7PDE+fX18e3s8Mj59fXx7ezwzPn19fHt7PDQ+fX18e3s8NT59fScsCiAgICAnZW4nOiAnUmVvcmRlciBjb21tZW50IGNvbnRyb2wgYnV0dG9uc3t7PGk+fX18fHt7PDE+fX18e3s8Mj59fXx7ezwzPn19fHt7PDQ+fX18e3s8NT59fScKICB9LAogICdsYXlvdXRDb21tZW50UmVvcmRlckRlc2MnOiB7CiAgICAnemgtY24nOiAn5oKo6L+Y5Y+v5Lul5Zyo54mI6Z2i5riF55CG6YCJ6aG55Y2h5Lit6ZqQ6JeP5oKo5LiN5oOz55yL5Yiw55qE5oyJ6ZKu77yM5oiW5Zyo5q2k5Yu+6YCJ5Lul6ZqQ6JeP77yaW1tsYXlvdXQud2VpYm8ucmVwb3J0XV0gW1tsYXlvdXQud2VpYm8ubGlrZWNvbW1lbnRdXScsCiAgfSwKICAnbGF5b3V0Q29tbWVudFJlb3JkZXJSZXBvcnQnOiB7ICd6aC1jbic6ICfkuL7miqUnLCAnemgtaGsnOiAn6IiJ5aCxJywgJ3poLXR3JzogJ+aqouiIiScsICdlbic6ICdSZXBvcnQnIH0sCiAgJ2xheW91dENvbW1lbnRSZW9yZGVyRGVsZXRlJzogeyAnemgtY24nOiAn5Yig6ZmkJywgJ3poLWhrJzogJ+WIqumZpCcsICd6aC10dyc6ICfliKrpmaQnLCAnZW4nOiAnRGVsZXRlJyB9LAogICdsYXlvdXRDb21tZW50UmVvcmRlckNvbnZlcnNpdGlvbic6IHsgJ3poLWNuJzogJ+afpeeci+WvueivnScsICd6aC1oayc6ICfmn6XnnIvlsI3oqbEnLCAnemgtdHcnOiAn5p+l55yL5bCN6KmxJywgJ2VuJzogJ1ZpZXcgQ29udmVyc2F0aW9uJyB9LAogICdsYXlvdXRDb21tZW50UmVvcmRlclJlcGx5JzogeyAnemgtY24nOiAn5Zue5aSNJywgJ3poLWhrJzogJ+WbnuimhicsICd6aC10dyc6ICflm57opoYnLCAnZW4nOiAnUmVwbHknIH0sCiAgJ2xheW91dENvbW1lbnRSZW9yZGVyTGlrZSc6IHsgJ3poLWNuJzogJ+i1nicsICd6aC1oayc6ICforponLCAnemgtdHcnOiAn6K6aJywgJ2VuJzogJ0xpa2UnIH0sCiAgLy8g6aKc6ImyCiAgJ2NvbG9yU3R5bGVUaXRsZSc6IHsgJ3poLWNuJzogJ+minOiJsicsICd6aC1oayc6ICfpoY/oibInLCAnemgtdHcnOiAn6aGP6ImyJywgJ2VuJzogJ0NvbG9yJyB9LAogICd3aGl0ZWxpc3RIaWdobGlnaHREZXNjJzogeyAnemgtY24nOiAn6auY5Lqu5pi+56S655m95ZCN5Y2V55qE5b6u5Y2afOiDjOaZr+iJsnt7PGNvbG9yPn19fOmAj+aYjuW6pnt7PHRyYW5zcGFyZW5jeT59fSUnLCAnemgtaGsnOiAn6auY5Lqu6aGv56S655m95ZCN5Zau55qE5b6u5Y2afOiDjOaZr+iJsnt7PGNvbG9yPn19fOmAj+aYjuW6pnt7PHRyYW5zcGFyZW5jeT59fSUnLCAnemgtdHcnOiAn6auY5Lqu6aGv56S655m95ZCN5Zau55qE5b6u5Y2afOiDjOaZr+iJsnt7PGNvbG9yPn19fOmAj+aYjuW6pnt7PHRyYW5zcGFyZW5jeT59fSUnLCAnZW4nOiAnSGlnaGxpZ2h0IFdlaWJvIGluIHdoaXRlbGlzdCB3aXRoIHwgYmFja2dyb3VuZCBjb2xvciB7ezxjb2xvcj59fSB8IHRyYW5zcGFyZW5jeSB7ezx0cmFuc3BhcmVuY3k+fX0lJyB9LAogICdjb2xvck92ZXJyaWRlJzogewogICAgJ3poLWNuJzogJ+S/ruaUuee9kemhtemFjeiJsu+8iOWNiumAj+aYjuiDjOaZr++8iXt7PGk+fX18fOS4u+iDjOaZr+iJsnt7PGNvbG9yMj59fXzpgI/mmI7luqZ7ezx0cmFuc3BhcmVuY3kyPn19JXx85Ymv6IOM5pmv6Imye3s8Y29sb3IxPn19fOmAj+aYjuW6pnt7PHRyYW5zcGFyZW5jeTE+fX0lfHzovpPlhaXmoYbog4zmma/oibJ7ezxjb2xvcjM+fX186YCP5piO5bqme3s8dHJhbnNwYXJlbmN5Mz59fSUnLAogICAgJ3poLWhrJzogJ+S/ruaUuee2sumggemFjeiJsu+8iOWNiumAj+aYjuiDjOaZr++8iXt7PGk+fX18fOS4u+iDjOaZr+iJsnt7PGNvbG9yMj59fXzpgI/mmI7luqZ7ezx0cmFuc3BhcmVuY3kyPn19JXx85Ymv6IOM5pmv6Imye3s8Y29sb3IxPn19fOmAj+aYjuW6pnt7PHRyYW5zcGFyZW5jeTE+fX0lfHzovLjlhaXmlrnloYrog4zmma/oibJ7ezxjb2xvcjM+fX186YCP5piO5bqme3s8dHJhbnNwYXJlbmN5Mz59fSUnLAogICAgJ3poLXR3JzogJ+S/ruaUuee2sumggemFjeiJsu+8iOWNiumAj+aYjuiDjOaZr++8iXt7PGk+fX18fOS4u+iDjOaZr+iJsnt7PGNvbG9yMj59fXzpgI/mmI7luqZ7ezx0cmFuc3BhcmVuY3kyPn19JXx85Ymv6IOM5pmv6Imye3s8Y29sb3IxPn19fOmAj+aYjuW6pnt7PHRyYW5zcGFyZW5jeTE+fX0lfHzovLjlhaXmlrnloYrog4zmma/oibJ7ezxjb2xvcjM+fX186YCP5piO5bqme3s8dHJhbnNwYXJlbmN5Mz59fSUnLAogICAgJ2VuJzogJ0NoYW5nZSBjb2xvcnMgb24gcGFnZSAoU2VtaS10cmFuc3BhcmVudCBiYWNrZ3JvdW5kKSB7ezxpPn19IHx8IFByaW1hcnkgQ29sb3Ige3s8Y29sb3IyPn19IHwgdHJhbnNwYXJlbmN5IHt7PHRyYW5zcGFyZW5jeTI+fX0lIHx8IFNlY29uZGFyeSBDb2xvciB7ezxjb2xvcjE+fX0gfCB0cmFuc3BhcmVuY3kge3s8dHJhbnNwYXJlbmN5MT59fSUgfHwgSW5wdXQgYm94IHt7PGNvbG9yMz59fSB8IHRyYW5zcGFyZW5jeSB7ezx0cmFuc3BhcmVuY3kzPn19JScKICB9LAogICdjb2xvck92ZXJyaWRlRGVzYyc6IHsKICAgICd6aC1jbic6ICfmjqjojZDphY3lkIhbW3N0eWxlLmxheW91dC5zZXRfc2tpbl1d5L2/55So77yM5Zyo5ZCE56eN6aG16Z2i6L6+5Yiw5LiA6Ie055qE5pWI5p6c44CCJwogIH0sCiAgLy8g5bGC5Y+g5qC35byP6KGoCiAgJ0NTU1RpdGxlJzogeyAnemgtY24nOiAn5qC35byPJywgJ3poLWhrJzogJ+aoo+W8jycsICd6aC10dyc6ICfmqKPlvI8nLCAnZW4nOiAnQ1NTJyB9LAogICd1c2Vyc3R5bGVUaXRsZSc6IHsKICAgICd6aC1jbic6ICc8c3Bhbj7oh6rlrprkuYlDU1M8YSBjbGFzcz0ieWF3Zi11c2Vyc3R5bGVzLXRpcCIgaHJlZj0iaHR0cHM6Ly91c2Vyc3R5bGVzLm9yZy9zdHlsZXMvYnJvd3NlL3dlaWJvIiB0YXJnZXQ9Il9ibGFuayI+5ZyoIHVzZXJzdHlsZXMub3JnIOS4iuaQnOe0ouagt+W8jzwvYT48YSBjbGFzcz0ieWF3Zi11c2Vyc3R5bGVzLXRpcCIgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vdGlhbnNoLmdpdGh1Yi5pby95YXdmL3N0eWxpc2guaHRtbCI+5bi455So6Ieq5a6a5LmJQ1NTPC9hPjwvc3Bhbj57e319JywKICAgICd6aC1oayc6ICc8c3Bhbj7oh6roqIJDU1M8YSBjbGFzcz0ieWF3Zi11c2Vyc3R5bGVzLXRpcCIgaHJlZj0iaHR0cHM6Ly91c2Vyc3R5bGVzLm9yZy9zdHlsZXMvYnJvd3NlL3dlaWJvIiB0YXJnZXQ9Il9ibGFuayI+5ZyoIHVzZXJzdHlsZXMub3JnIOS4iuaQnOWwi+aoo+W8jzwvYT48YSBjbGFzcz0ieWF3Zi11c2Vyc3R5bGVzLXRpcCIgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vdGlhbnNoLmdpdGh1Yi5pby95YXdmL3N0eWxpc2guaHRtbCI+5bi455So6Ieq6KiCQ1NTPC9hPjwvc3Bhbj57e319JywKICAgICd6aC10dyc6ICc8c3Bhbj7oh6roqIJDU1M8YSBjbGFzcz0ieWF3Zi11c2Vyc3R5bGVzLXRpcCIgaHJlZj0iaHR0cHM6Ly91c2Vyc3R5bGVzLm9yZy9zdHlsZXMvYnJvd3NlL3dlaWJvIiB0YXJnZXQ9Il9ibGFuayI+5ZyoIHVzZXJzdHlsZXMub3JnIOS4iuaQnOWwi+aoo+W8jzwvYT48YSBjbGFzcz0ieWF3Zi11c2Vyc3R5bGVzLXRpcCIgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vdGlhbnNoLmdpdGh1Yi5pby95YXdmL3N0eWxpc2guaHRtbCI+5bi455So6Ieq6KiCQ1NTPC9hPjwvc3Bhbj57e319JywKICAgICdlbic6ICc8c3Bhbj5DdXN0b21pemUgQ1NTPGEgY2xhc3M9Inlhd2YtdXNlcnN0eWxlcy10aXAiIGhyZWY9Imh0dHBzOi8vdXNlcnN0eWxlcy5vcmcvc3R5bGVzL2Jyb3dzZS93ZWlibyIgdGFyZ2V0PSJfYmxhbmsiPlNlYXJjaCBzdHlsZXMgb24gdXNlcnN0eWxlcy5vcmc8L2E+PGEgY2xhc3M9Inlhd2YtdXNlcnN0eWxlcy10aXAiIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL3RpYW5zaC5naXRodWIuaW8veWF3Zi9zdHlsaXNoLmh0bWwiPkNvbW1vbiBDdXN0b21pemUgQ1NTPC9hPjwvc3Bhbj57e319JwogIH0sCiAgJ3VzZXJzdHlsZUVkaXREZXNjJzogeyAnemgtY24nOiAn57yW6L6RIFlBV0Yg6Ieq5a6a5LmJIENTUycsICd6aC1oayc6ICfnt6jovK8gWUFXRiDoh6roqIIgQ1NTJywgJ3poLXR3JzogJ+e3qOi8ryBZQVdGIOiHquiogiBDU1MnLCAnZW4nOiAnRWRpdCBZQVdGIEN1c3RvbWl6ZSBDU1MnIH0sCiAgJ3VzZXJzdHlsZUVkaXREZXRhaWxzJzogeyAnemgtY24nOiAnWUFXRiDoh6rlrprkuYkgQ1NT77yaJywgJ3poLWhrJzogJ1lBV0Yg6Ieq6KiCIENTU++8micsICd6aC10dyc6ICdZQVdGIOiHquiogiBDU1PvvJonLCAnZW4nOiAnWUFXRiBDdXN0b21pemUgQ1NT77yaJyB9LAogIC8vIOiEmuacrAogICdzY3JpcHRGaWx0ZXJHcm91cFRpdGxlJzogeyAnemgtY24nOiAn5YWz5LqO6ISa5pysJywgJ3poLWhrJzogJ+mXnOaWvOiFs+acrCcsICd6aC10dyc6ICfpl5zmlrzohbPmnKwnLCAnZW4nOiAnQWJvdXQgU2NyaXB0JyB9LAogIC8vIOWFqOmAieivpeWIhue7hAogICdjb25maWdTZWxlY3RBbGxEZXNjJzogeyAnemgtY24nOiAn5YWo6YCJ5pys57uEJywgJ3poLWhrJzogJ+WFqOmBuOacrOe1hCcsICd6aC10dyc6ICflhajpgbjmnKzntYQnLCAnZW4nOiAnU2VsZWN0IEdyb3VwJyB9LAogIC8vIOWvvOWFpeWvvOWHugogICdjb25maWdJbXBvcnRBbmRFeHBvcnQnOiB7ICd6aC1jbic6ICforr7nva4nLCAnemgtaGsnOiAn6Kit5a6aJywgJ3poLXR3JzogJ+ioreWumicsICdlbic6ICdTZXR0aW5nJyB9LAogICdjb25maWdJbXBvcnRCdXR0b24nOiB7ICd6aC1jbic6ICflr7zlhaUnLCAnemgtaGsnOiAn5Yyv5YWlJywgJ3poLXR3JzogJ+WMr+WFpScsICdlbic6ICdJbXBvcnQnIH0sCiAgJ2NvbmZpZ0ltcG9ydFdhcm5pbmdUaXRsZSc6IHsgJ3poLWNuJzogJ+iuvue9ruWvvOWFpScsICd6aC1oayc6ICfoqK3lrprljK/lhaUnLCAnemgtdHcnOiAn6Kit5a6a5Yyv5YWlJywgJ2VuJzogJ1NldHRpbmcgSW1wb3J0JyB9LAogICdjb25maWdJbXBvcnRXYXJuaW5nJzogewogICAgJ3poLWNuJzogJ+WvvOWFpeeahOiuvue9ruS8muimhuebluaCqOW9k+WJjeW3suacieeahOiuvue9ru+8jOehruWunuimgeWvvOWFpeiuvue9ruWQl++8nycsCiAgICAnemgtaGsnOiAn5Yyv5YWl55qE6Kit5a6a5pyD6KaG6JOL5oKo55W25YmN5bey5pyJ55qE6Kit5a6a77yM5oKo56K65a6a6KaB5Yyv5YWl6Kit5a6a5ZeO77yfJywKICAgICd6aC10dyc6ICfljK/lhaXnmoToqK3lrprmnIPopobok4vmgqjnlbbliY3lt7LmnInnmoToqK3lrprvvIzmgqjnorrlrpropoHljK/lhaXoqK3lrprll47vvJ8nLAogICAgJ2VuJzogJ1RoZSBpbXBvcnRlZCBzZXR0aW5ncyBtYXkgcmVwbGFjZSB5b3VyIGN1cnJlbnQgc2V0dGluZ3MuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBpbXBvcnQgdGhpcyBmaWxlPycKICB9LAogICdjb25maWdJbXBvcnRTdWNjZXNzVGl0bGUnOiB7ICd6aC1jbic6ICforr7nva7lr7zlhaXlrozmiJAnLCAnemgtaGsnOiAn6Kit5a6a5Yyv5YWl5a6M5oiQJywgJ3poLXR3JzogJ+ioreWumuWMr+WFpeWujOaIkCcsICdlbic6ICdJbXBvcnQgc2V0dGluZ3MgY29tcGxldGVkJyB9LAogICdjb25maWdJbXBvcnRTdWNjZXNzJzogeyAnemgtY24nOiAn5bey57uP5oiQ5Yqf5Zyw5a+85YWl5LqG6K6+572uJywgJ3poLWhrJzogJ+W3sue7j+aIkOWKn+WcsOWMr+WFpeS6huioreWumicsICd6aC10dyc6ICflt7Lnu4/miJDlip/lnLDljK/lhaXkuoboqK3lrponLCAnZW4nOiAnU3VjY2Vzc2Z1bGx5IGltcG9ydGVkIHNldHRpbmdzJyB9LAogICdjb25maWdJbXBvcnRGYWlsVGl0bGUnOiB7ICd6aC1jbic6ICforr7nva7lr7zlhaXlpLHotKUnLCAnemgtaGsnOiAn6Kit5a6a5Yyv5YWl5aSx6LSlJywgJ3poLXR3JzogJ+ioreWumuWMr+WFpeWksei0pScsICdlbic6ICdJbXBvcnQgc2V0dGluZ3MgZmFpbGVkJyB9LAogICdjb25maWdJbXBvcnRGYWlsJzogewogICAgJ3poLWNuJzogJ+WvvOWFpeiuvue9ruaWh+S7tuaXtuWHuueOsOmUmeivr++8jOWPr+iDveaYr+S9v+eUqOS6humUmeivr+eahOaWh+S7tu+8jOaWh+S7tuW3suaNn+Wdj+aIluaWh+S7tueahOeJiOacrOS4jeaUr+aMgScsCiAgICAnemgtaGsnOiAn5Yyv5YWl6Kit5a6a5qqU5qGI5pmC5Ye654++6Yyv6Kqk77yM5Y+v6IO95piv5L2/55So5LqG6Yyv6Kqk55qE5qqU5qGI77yM5qqU5qGI5bey5pCN5aOe5oiW54K65LiN5pSv5o+055qE54mI5pysJywKICAgICd6aC10dyc6ICfljK/lhaXoqK3lrprmqpTmoYjmmYLlh7rnj77pjK/oqqTvvIzlj6/og73mmK/kvb/nlKjkuobpjK/oqqTnmoTmqpTmoYjvvIzmqpTmoYjlt7LmkI3lo57miJbngrrkuI3mlK/mj7TnmoTniYjmnKwnLAogICAgJ2VuJzogJ0Vycm9yIG9jY3VycmVkIGR1cmluZyBpbXBvcnRpbmcgcHJvY2Vzcy4gV3JvbmcgZmlsZSBtYXkgYmUgdXNlZCwgdGhlIGZpbGUgbWF5IGJlIGJyb2tlbiwgb3IgdGhlIHZlcnNpb24gb2Ygc2V0dGluZyBmaWxlIGlzIG5vdCBzdXBwb3J0ZWQuJwogIH0sCiAgJ2NvbmZpZ0V4cG9ydEJ1dHRvbic6IHsgJ3poLWNuJzogJ+WvvOWHuicsICd6aC1oayc6ICfljK/lh7onLCAnemgtdHcnOiAn5Yyv5Ye6JywgJ2VuJzogJ0V4cG9ydCcgfSwKICAnY29uZmlnUmVzZXRCdXR0b24nOiB7ICd6aC1jbic6ICfph43nva4nLCAnemgtaGsnOiAn6YeN6KitJywgJ3poLXR3JzogJ+mHjeiorScsICdlbic6ICdSZXNldCcgfSwKICAnY29uZmlnUmVzZXRXYXJuaW5nVGl0bGUnOiB7ICd6aC1jbic6ICforr7nva7ph43nva4nLCAnemgtaGsnOiAn6Kit5a6a6YeN6KitJywgJ3poLXR3JzogJ+ioreWumumHjeiorScsICdlbic6ICdTZXR0aW5nIFJlc2V0JyB9LAogICdjb25maWdSZXNldFdhcm5pbmcnOiB7ICd6aC1jbic6ICfov5nlsIbkvJrmuIXnqbrmgqjlvZPliY3nmoTmiYDmnInphY3nva7vvIznoa7lrp7opoHph43nva7orr7nva7lkJfvvJ8nLCAnemgtaGsnOiAn6YCZ5bCH5pyD5riF56m65oKo55W25YmN55qE5omA5pyJ6Kit5a6a77yM5oKo56K65a6a6KaB6YeN572u6Kit5a6a5ZeO77yfJywgJ3poLXR3JzogJ+mAmeWwh+acg+a4heepuuaCqOeVtuWJjeeahOaJgOacieioreWumu+8jOaCqOeiuuWumuimgemHjee9ruioreWumuWXju+8nycsICdlbic6ICdZb3UgYXJlIGRlbGV0aW5nIGFsbCB5b3VyIHNldHRpbmdzLiBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVzZXQgeW91ciBzZXR0aW5ncz8nIH0sCiAgJ2NvbmZpZ0ltcG9ydFdicEJ1dHRvbic6IHsgJ3poLWNuJzogJ+S7juKAnOecvOS4jeingeW/g+S4jeeDpuKAneWvvOWFpeiuvue9ricsICd6aC1oayc6ICflvp7igJznnLzkuI3opovlv4PkuI3nhanigJ3ljK/lhaXoqK3lrponLCAnemgtdHcnOiAn5b6e4oCc55y85LiN6KaL5b+D5LiN54Wp4oCd5Yyv5YWl6Kit5a6aJywgJ2VuJzogJ0ltcG9ydCBmcm9tIFdlaWJvIENsZWFuZXIgKOecvOS4jeingeW/g+S4jeeDpiknIH0sCiAgJ2NvbmZpZ0ltcG9ydFdicFdhcm5pbmcnOiB7CiAgICAnemgtY24nOiAn5rOo5oSP77ya5LuO5YW25LuW6ISa5pys5a+85YWl6K6+572u5pe277yM5Zug5Li66ISa5pys55qE5YW35L2T5Yqf6IO95LiO5a6e546w5pa55byP562J5LiN5ZCM77yM5a+85YWl5bel5YW355qE6IO95Yqb6ZmQ5Yi2562J5Y6f5Zug77yM6L2s5o2i5YmN5ZCO5bm26Z2e5a6M5YWo55u45ZCM44CCJywKICAgICd6aC1oayc6ICfms6jmhI/vvJrlvp7lhbbku5bohbPmnKzljK/lhaXoqK3lrprmmYLvvIzlm6DngrrohbPmnKznmoTlhbfpq5Tlip/og73oiIflr6bnj77mlrnlvI/nrYnkuI3lkIzvvIzlsI7lhaXlt6XlhbfnmoTog73lipvpmZDliLbnrYnljp/lm6DvvIzovYnmj5vliY3lvozkuKbpnZ7lrozlhajnm7jlkIzjgIInLAogICAgJ3poLXR3JzogJ+azqOaEj++8muW+nuWFtuS7luiFs+acrOWMr+WFpeioreWumuaZgu+8jOWboOeCuuiFs+acrOeahOWFt+mrlOWKn+iDveiIh+WvpuePvuaWueW8j+etieS4jeWQjO+8jOWwjuWFpeW3peWFt+eahOiDveWKm+mZkOWItuetieWOn+WboO+8jOi9ieaPm+WJjeW+jOS4pumdnuWujOWFqOebuOWQjOOAgicsCiAgICAnZW4nOiAnTm90ZTogU2V0dGluZ3MgaW1wb3J0ZWQgZnJvbSBvdGhlciBzY3JpcHRzIG1heSBiZSBtb2RpZmllZCBkdWUgdG8gdGhlIGRpZmZlcmVuY2Ugb2YgZnVuY3Rpb25zIGFuZCBpbXBsZW1lbnRhdGlvbnMsIGFuZCB0aGUgbGltaXRhdGlvbiBvZiB0aGlzIHNldHRpbmdzIGltcG9ydGluZyB0b29sLicsCiAgfSwKICAvLyDmm7TmlrAKICAndXBkYXRlSW5mb1RpdGxlJzogeyAnemgtY24nOiAn5pu05pawJywgJ3poLWhrJzogJ+abtOaWsCcsICd6aC10dyc6ICfmm7TmlrAnLCAnZW4nOiAnVXBkYXRlJyB9LAogICd1cGRhdGVJbmZvRGVzY3JpcHRpb24nOiB7ICd6aC1jbic6ICfmm7TmlrDlkI7mmL7npLrmlrDlip/og73mj5DnpLonLCAnemgtaGsnOiAn5pu05paw5b6M6aGv56S65paw5Yqf6IO95o+Q56S6JywgJ3poLXR3JzogJ+abtOaWsOW+jOmhr+ekuuaWsOWKn+iDveaPkOekuicsICdlbic6ICdTaG93IG5ldyBmZWF0dXJlcyBhZnRlciB1cGRhdGUnIH0sCiAgJ2luc3RhbGxTdWNjZXNzVGl0bGUnOiB7ICd6aC1jbic6ICdZQVdGIOWuieijheaIkOWKnycsICd6aC1oayc6ICflronoo53miJDlip8nLCAnemgtdHcnOiAn5a6J6KOd5oiQ5YqfJywgJ2VuJzogJ0luc3RhbGxhdGlvbiBzdWNjZXNzZWQnIH0sCiAgJ2luc3RhbGxTdWNjZXNzVGV4dCc6IHsKICAgICd6aC1jbic6ICfmhJ/osKLmgqjlronoo4UgWUFXRiDohJrmnKzjgILmgqjlj6/ku6Xngrnlh7vlj7PkuIrop5LnmoTmvI/mlpflm77moIfmiZPlvIDov4fmu6Tlmajorr7nva7jgILmraTlpJbmgqjov5jlj6/ku6XpgInkuK3lubbmi5bmi73lhbPplK7lrZfjgIHluJDlj7fjgIHor53popjjgIHmnaXmupDnrYnlhoXlrrnliLDnvZHpobXlj7PkuIrop5LvvIzlv6vpgJ/liJvlu7rov4fmu6TlmajjgIInLAogICAgJ3poLWhrJzogJ+aEn+isneaCqOWuieijnSBZQVdGIOiFs+acrOOAguaCqOWPr+S7pem7nuaTiuWPs+S4iuinkueahOa8j+aWl+WcluekuuaJk+mWi+mBjua/vuWZqOioree9ruOAguatpOWkluaCqOmChOWPr+S7pemBuOS4reS4puaLluaLvemXnOmNteWtl+OAgeW4s+iZn+OAgeipsemhjOOAgeS+hua6kOetieWFp+WuueWIsOe2sumggeWPs+S4iuinku+8jOW/q+mAn+WJteW7uumBjua/vuWZqOOAgicsCiAgICAnemgtdHcnOiAn5oSf6Kyd5oKo5a6J6KOdIFlBV0Yg6IWz5pys44CC5oKo5Y+v5Lul6bue5pOK5Y+z5LiK6KeS55qE5ryP5paX5ZyW56S65omT6ZaL6YGO5r++5Zmo6Kit572u44CC5q2k5aSW5oKo6YKE5Y+v5Lul6YG45Lit5Lim5ouW5ou96Zec6Y215a2X44CB5biz6Jmf44CB6Kmx6aGM44CB5L6G5rqQ562J5YWn5a655Yiw57ay6aCB5Y+z5LiK6KeS77yM5b+r6YCf5Ym15bu66YGO5r++5Zmo44CCJywKICAgICdlbic6ICdUaGFuayB5b3UgZm9yIGluc3RhbGxpbmcgWUFXRi4gWW91IGNhbiBjbGljayBvbiB0aGUgZnVubmVsIGljb24gYXQgdGhlIHRvcC1yaWdodCBjb3JuZXIgdG8gb3BlbiB1cCBmaWx0ZXIgc2V0dGluZyBtZW51LiBZb3UgbWF5IGFsc28gcXVpY2tseSBjcmVhdGUgZmlsdGVycyBieSBkcmFnZ2luZyBhbmQgZHJvcHBpbmcga2V5d29yZHMsIGFjY291bnRzLCB0b3BpY3MgYW5kIHNvdXJjZXMgdG8gdGhlIHRvcC1yaWdodCBjb3JuZXIuJwogIH0sCiAgJ3VwZGF0ZVN1Y2Nlc3NUaXRsZSc6IHsgJ3poLWNuJzogJ1lldCBBbm90aGVyIFdlaWJvIEZpbHRlciDmlrDlip/og73mj5DnpLonLCAnemgtaGsnOiAnWWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyIOaWsOWKn+iDveaPkOekuicsICd6aC10dyc6ICdZZXQgQW5vdGhlciBXZWlibyBGaWx0ZXIg5paw5Yqf6IO95o+Q56S6JywgJ2VuJzogJ1lldCBBbm90aGVyIFdlaWJvIEZpbHRlciBuZXcgZmVhdHVyZXMgbm90aWZpY2F0aW9uJyB9LAogICd1cGRhdGVTdWNjZXNzSGVhZGVyJzogeyAnemgtY24nOiAn5oKo55qEIFlBV0Yg6ISa5pys5bey5pu05pawJywgJ3poLWhrJzogJ+aCqOeahCBZQVdGIOiFs+acrOW3suabtOaWsCcsICd6aC10dyc6ICfmgqjnmoQgWUFXRiDohbPmnKzlt7Lmm7TmlrAnLCAnZW4nOiAnWW91ciBZQVdGIHNjcmlwdCBoYXMgYmVlbiB1cGRhdGVkJyB9LAogICd1cGRhdGVTdWNjZXNzRGVzYyc6IHsgJ3poLWNuJzogJ+W9k+WJjeeJiOacrOa3u+WKoOaIluabtOaWsOS6huS7peS4i3t7Y291bnR9femhueWKn+iDvScsICd6aC1oayc6ICfnlbbliY3niYjmnKzmt7vliqDmiJbmm7TmlrDkuobku6XkuIt7e2NvdW50fX3poIXlip/og70nLCAnemgtdHcnOiAn55W25YmN54mI5pys5re75Yqg5oiW5pu05paw5LqG5Lul5LiLe3tjb3VudH196aCF5Yqf6IO9JywgJ2VuJzogJ1RoZSBjdXJyZW50IHZlcnNpb24gaGFzIGFkZGVkIG9yIHVwZGF0ZWQgdGhlIGZvbGxvd2luZyB7e2NvdW50fX0gZmVhdHVyZShzKScgfSwKICAvLyDku47nnLzkuI3op4Hlv4PkuI3ng6blr7zlhaXorr7nva4KICAnd2JwSW1wb3J0U3VjY2Vzc1RpdGxlJzogeyAnemgtY24nOiAnWWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyIOiuvue9ruWvvOWFpeWujOaIkCcsICd6aC1oayc6ICdZZXQgQW5vdGhlciBXZWlibyBGaWx0ZXIg6Kit5a6a5Yyv5YWl5a6M5oiQJywgJ3poLXR3JzogJ1lldCBBbm90aGVyIFdlaWJvIEZpbHRlciDoqK3lrprljK/lhaXlrozmiJAnLCAnZW4nOiAnWWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyIHNldHRpbmcgaW1wb3J0ZWQgU3VjY2Vzc2Z1bGx5JyB9LAogICd3YnBJbXBvcnRTdWNjZXNzSGVhZGVyJzogeyAnemgtY24nOiAn5bey57uP5LuOIOecvOS4jeingeW/g+S4jeeDpiDlr7zlhaXkuoborr7nva4nLCAnemgtaGsnOiAn5bey57aT5b6eIOecvOS4jeimi+W/g+S4jeeFqSDljK/lhaXkuoboqK3lrponLCAnemgtdHcnOiAn5bey57aT5b6eIOecvOS4jeimi+W/g+S4jeeFqSDljK/lhaXkuoboqK3lrponLCAnZW4nOiAnSW1wb3J0ZWQgU2V0dGluZ3MgZnJvbSDnnLzkuI3op4Hlv4PkuI3ng6YnIH0sCiAgJ3dicEltcG9ydFN1Y2Nlc3NEZXNjJzogeyAnemgtY24nOiAn5Lul5LiLe3tjb3VudH196aG55Yqf6IO95Zug6ISa5pys55qE5beu5byC5oiW5a+85YWl5bel5YW355qE6ZmQ5Yi26ZyA6KaB5oKo6K6+572uJywgJ3poLWhrJzogJ+S7peS4i3t7Y291bnR9femgheWKn+iDveWboOiFs+acrOeahOW3rueVsOaIluWMr+WFpeW3peWFt+eahOmZkOWItumcgOimgeaCqOioreWumicsICd6aC10dyc6ICfku6XkuIt7e2NvdW50fX3poIXlip/og73lm6DohbPmnKznmoTlt67nlbDmiJbljK/lhaXlt6XlhbfnmoTpmZDliLbpnIDopoHmgqjoqK3lrponLCAnZW4nOiAnQ2hlY2sgb3V0IGZvbGxvd2luZyB7e2NvdW50fX0gZmVhdHVyZXMuIFRoZXNlIGZlYXR1cmVzIGFyZSBkaWZmZXJlbnQgZnJvbSB0aGUgc2NyaXB0IG9yIHNldHRpbmcgY2Fubm90IGJlIGNvbnZlcnRlZC4nIH0sCiAgLy8g5p2C6aG5CiAgJ3NjcmlwdE90aGVyVGl0bGUnOiB7ICd6aC1jbic6ICfmm7TlpJonLCAnemgtaGsnOiAn5YW25LuWJywgJ3poLXR3JzogJ+WFtuS7licsICdlbic6ICdNb3JlJyB9LAogICdhdXRvQ29tcGxldGVDb25maWcnOiB7ICd6aC1jbic6ICforr7nva7nqpflj6PkuK3kvb/nlKjoh6rliqjooaXlhah7ezxpPn19JywgJ3poLWhrJzogJ+ioreWumuaWueWhiuWFp+S9v+eUqOiHquWLleWujOaIkHt7PGk+fX0nLCAnemgtdHcnOiAn6Kit5a6a5pa55aGK5YWn5L2/55So6Ieq5YuV5a6M5oiQe3s8aT59fScsICdlbic6ICdVc2UgYXV0byBjb21wbGV0ZSBpbiBzZXR0aW5nIGRpYWxvZyB7ezxpPn19JyB9LAogICdhdXRvQ29tcGxldGVDb25maWdEZXNjJzogewogICAgJ3poLWNuJzogJ+WQr+eUqOivpeWKn+iDveWQju+8jOiEmuacrOS8muWcqOaCqOi+k+WFpeeUqOaIt+WQjeaIluivnemimOeahOaXtuWAmeaPkOS+m+WAmemAiemhueaWueS+v+aCqOi+k+WFpeOAguaCqOi+k+WFpeeahOWGheWuueWwhuS8muWunuaXtuWPkemAgeWIsOW+ruWNmueahOacjeWKoeWZqOS4iuS7peS+v+iOt+WPluaOqOiNkOWIl+ihqOOAgicsCiAgfSwKICAnc2VhcmNoRW5hYmxlJzogeyAnemgtY24nOiAn5Zyo5pCc57Si6aG16Z2i5ZCv55So6ISa5pys77yI6K+V6aqM5oCn77yJJywgJ3poLWhrJzogJ+WcqOaQnOWwi+e2sumggeWVn+eUqOiFs+acrO+8iOippumpl+aAp++8iScsICd6aC10dyc6ICflnKjmkJzlsIvntrLpoIHllZ/nlKjohbPmnKzvvIjoqabpqZfmgKfvvIknLCAnZW4nOiAnRW5hYmxlIG9uIHNlYXJjaCBwYWdlIChFeHBlcmltZW50YWwpJyB9LAogIC8vIOiwg+ivlQogICdzY3JpcHREZWJ1Z1RpdGxlJzogeyAnemgtY24nOiAn6LCD6K+VJywgJ3poLWhrJzogJ+WBtemMrycsICd6aC10dyc6ICflgbXpjK8nLCAnZW4nOiAnRGVidWcnIH0sCiAgJ3NjcmlwdERlYnVnJzogeyAnemgtY24nOiAn5Zyo5o6n5Yi25Y+w5omT5Y2w6LCD6K+V5L+h5oGve3s8aT59fScsICd6aC1oayc6ICflsIflgbXpjK/oqIrmga/liJfljbDliLDkuLvmjqflj7B7ezxpPn19JywgJ3poLXR3JzogJ+Wwh+WBtemMr+ioiuaBr+WIl+WNsOWIsOS4u+aOp+WPsHt7PGk+fX0nLCAnZW4nOiAnUHJpbnQgZGVidWcgaW5mbyB0byBjb25zb2xlIHt7PGk+fX0nIH0sCiAgJ3NjcmlwdERlYnVnRGVzYyc6IHsKICAgICd6aC1jbic6ICflpoLmnpzmgqjnmoTohJrmnKzlh7rnjrDpl67popjvvIzmgqjlj6/ku6XmiZPlvIDosIPor5Xlip/og73lkI7lkJHkvZzogIXmj5DkvpvmjqfliLblj7DnmoTovpPlh7rku6Xmlrnkvr/op6PlhrPpl67popjjgILkvYbor7fms6jmhI/vvIw8c3Ryb25nPuaJk+W8gOiwg+ivleWKn+iDveWPr+iDveS8muWinuWKoOWGheWtmOWNoOeUqOOAgemZjeS9jue9kemhteeahOWPjeW6lOmAn+W6pueUmuiHs+WvvOiHtOa1j+iniOWNoemhvzwvc3Ryb25nPuOAguiwg+ivleWKn+iDveS+m+iEmuacrOW8gOWPkeWSjOe7tOaKpOS9v+eUqO+8jDxzdHJvbmc+5LiN5bu66K6u5LiA6Iis55So5oi35omT5byA6LCD6K+V5Yqf6IO9PC9zdHJvbmc+44CCJwogIH0sCiAgLy8g5YWz5LqOCiAgJ3NjcmlwdEFib3V0VGl0bGUnOiB7ICd6aC1jbic6ICflhbPkuo4nLCAnemgtaGsnOiAn6Zec5pa8JywgJ3poLXR3JzogJ+mXnOaWvCcsICdlbic6ICdBYm91dCcgfSwKICAnc2NyaXB0QWJvdXQnOiB7CiAgICAnemgtY24nOiAnPHA+WWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyIChZQVdGKSB7e3ZlcnNpb259fTwvcD48cD7mgqjlj6/ku6XlhbPms6ggPGEgaHJlZj0iaHR0cDovL3dlaWJvLmNvbS95YXdmc2NyaXB0IiB1c2VyY2FyZD0iaWQ9NTYwMTAzMzExMSIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9yZWZlcnJlciI+QFlBV0bohJrmnKw8L2E+IOS6huino+iEmuacrOacgOaWsOeahOabtOaWsOOAgjxiciAvPuWmguaenOaCqOinieW+l+iEmuacrOe7meaCqOW+iOWkp+eahOW4ruWKqe+8jOW4ruWKqeWuo+S8oOiEmuacrOaYr+WvueaIkeS7rOacgOWkp+eahOaUr+aMgeOAgjwvcD48cD7lpoLmnpzmgqjlnKjkvb/nlKjov4fnqIvkuK3pgYfliLDku7vkvZXohJrmnKznmoTplJnor6/vvIzmiJblr7nohJrmnKzmnInku7vkvZXlu7rorq7vvIzmgqjlj6/ku6XliLA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly90aWFuc2guZ2l0aHViLmlvL3lhd2YvaXNzdWVzLmh0bWwiIHJlbD0ibm9yZWZlcnJlciI+5Y+N6aaI6aG16Z2iPC9hPuaPkOS+m+aKpeWRiu+8jOaIljxhIGFjdGlvbi1kYXRhPSJ1aWQ9NTYwMTAzMzExMSZuaWNrPVlBV0bohJrmnKwiIGFjdGlvbi10eXBlPSJ3ZWJpbS5jb252ZXJzYXRpb24iIGhyZWY9ImphdmFzY3JpcHQ6OyI+56eB5L+hIEBZQVdG6ISa5pysPC9hPiDvvJvlj43ppojliY3lu7rorq7lhYjpmIXor7s8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly90aWFuc2guZ2l0aHViLmlvL3lhd2YvZnFhLmh0bWwiIHJlbD0ibm9yZWZlcnJlciI+5bi46KeB6Zeu6aKYPC9hPuOAgjwvcD48cD7ohJrmnKzkvb/nlKggTUlUIOWNj+iuruW8gOaUvua6kOS7o+egge+8jOS9nOiAhSA8YSBocmVmPSJodHRwOi8vd2VpYm8uY29tL3RzaDkwIiB1c2VyY2FyZD0iaWQ9MzkyMTU4OTA1NyIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9yZWZlcnJlciI+QHRzaDkwPC9hPiDvvIzmgqjlj6/ku6U8YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vdGlhbnNoL3lhd2YiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vcmVmZXJyZXIiPuWcqCBHaXRIdWIg5LiK5p+l6ZiFPC9hPu+8jOasoui/juS7u+S9leS6uui0oeeMruS7o+eggeOAgjxiciAvPuiEmuacrOS4reWPguiAg+W5tuS9v+eUqOS6hiA8YSBocmVmPSJodHRwczovL2JpdGJ1Y2tldC5vcmcvc2FsdmlhdGkvd2VpYm8tY2xlYW5lciIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9yZWZlcnJlciI+55y85LiN6KeB5b+D5LiN54OmPC9hPiDnmoTpg6jliIbku6PnoIHjgII8L3A+JywKICAgICd6aC1oayc6ICc8cD5ZZXQgQW5vdGhlciBXZWlibyBGaWx0ZXIgKFlBV0YpIHt7dmVyc2lvbn19PC9wPjxwPuaCqOWPr+S7pemXnOazqCA8YSBocmVmPSJodHRwOi8vd2VpYm8uY29tL3lhd2ZzY3JpcHQiIHVzZXJjYXJkPSJpZD01NjAxMDMzMTExIiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIj5AWUFXRuiFs+acrDwvYT4g556t6Kej6IWz5pys5pyA5paw55qE5pu05paw44CCPGJyIC8+5aaC5p6c5oKo6Ka65b6X6IWz5pys57Wm5oKo5b6I5aSn55qE5bmr5Yqp77yM5bmr5Yqp5a6j5YKz6IWz5pys5piv5bCN5oiR5YCR5pyA5aSn55qE5pSv5oyB44CCPC9wPjxwPuWmguaenOaCqOWcqOS9v+eUqOmBjueoi+S4remBh+WIsOS7u+S9leiFs+acrOeahOmMr+iqpO+8jOaIluWwjeiFs+acrOacieS7u+S9leW7uuitsO+8jOaCqOWPr+S7peWIsDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL3RpYW5zaC5naXRodWIuaW8veWF3Zi9pc3N1ZXMuaHRtbCIgcmVsPSJub3JlZmVycmVyIj7lm57ppYvpoIHpnaI8L2E+5o+Q5L6b5aCx5ZGK77yM5oiWPGEgYWN0aW9uLWRhdGE9InVpZD01NjAxMDMzMTExJm5pY2s9WUFXRuiEmuacrCIgYWN0aW9uLXR5cGU9IndlYmltLmNvbnZlcnNhdGlvbiIgaHJlZj0iamF2YXNjcmlwdDo7Ij7np4Hkv6EgQFlBV0bohJrmnKw8L2E+IO+8m+Wbnumli+WJjeW7uuitsOWFiOmWseiugDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL3RpYW5zaC5naXRodWIuaW8veWF3Zi9mcWEuaHRtbCIgcmVsPSJub3JlZmVycmVyIj7luLjopovllY/poYzvvIjnsKHpq5TvvIk8L2E+44CCPC9wPjxwPuiFs+acrOS9v+eUqCBNSVQg5Y2U5a6a6ZaL5pS+5Y6f5aeL56iL5byP56K877yM5L2c6ICFIDxhIGhyZWY9Imh0dHA6Ly93ZWliby5jb20vdHNoOTAiIHVzZXJjYXJkPSJpZD0zOTIxNTg5MDU3IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIj5AdHNoOTA8L2E+IO+8jOaCqOWPr+S7pTxhIGhyZWY9Imh0dHBzOi8vZ2l0aHViLmNvbS90aWFuc2gveWF3ZiIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9yZWZlcnJlciI+5ZyoIEdpdEh1YiDkuIrmn6XplrE8L2E+77yM5q2h6L+O5Lu75L2V5Lq66LKi542756iL5byP56K844CCPGJyIC8+6IWz5pys5Lit5Y+D6ICD5Lim5L2/55So5LqGIDxhIGhyZWY9Imh0dHBzOi8vYml0YnVja2V0Lm9yZy9zYWx2aWF0aS93ZWliby1jbGVhbmVyIiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIj7nnLzkuI3opovlv4PkuI3nhak8L2E+IOeahOmDqOWIhueoi+W8j+eivOOAgjwvcD4nLAogICAgJ3poLXR3JzogJzxwPllldCBBbm90aGVyIFdlaWJvIEZpbHRlciAoWUFXRikge3t2ZXJzaW9ufX08L3A+PHA+5oKo5Y+v5Lul6Zec5rOoIDxhIGhyZWY9Imh0dHA6Ly93ZWliby5jb20veWF3ZnNjcmlwdCIgdXNlcmNhcmQ9ImlkPTU2MDEwMzMxMTEiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vcmVmZXJyZXIiPkBZQVdG6IWz5pysPC9hPiDnnq3op6PohbPmnKzmnIDmlrDnmoTmm7TmlrDjgII8YnIgLz7lpoLmnpzmgqjoprrlvpfohbPmnKzntabmgqjlvojlpKfnmoTluavliqnvvIzluavliqnlrqPlgrPohbPmnKzmmK/lsI3miJHlgJHmnIDlpKfnmoTmlK/mjIHjgII8L3A+PHA+5aaC5p6c5oKo5Zyo5L2/55So6YGO56iL5Lit6YGH5Yiw5Lu75L2V6IWz5pys55qE6Yyv6Kqk77yM5oiW5bCN6IWz5pys5pyJ5Lu75L2V5bu66K2w77yM5oKo5Y+v5Lul5YiwPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vdGlhbnNoLmdpdGh1Yi5pby95YXdmL2lzc3Vlcy5odG1sIiByZWw9Im5vcmVmZXJyZXIiPuWbnumli+mggemdojwvYT7mj5DkvpvloLHlkYrvvIzmiJY8YSBhY3Rpb24tZGF0YT0idWlkPTU2MDEwMzMxMTEmbmljaz1ZQVdG6ISa5pysIiBhY3Rpb24tdHlwZT0id2ViaW0uY29udmVyc2F0aW9uIiBocmVmPSJqYXZhc2NyaXB0OjsiPuengeS/oSBAWUFXRuiEmuacrDwvYT4g77yb5Zue6aWL5YmN5bu66K2w5YWI6Zax6K6APGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vdGlhbnNoLmdpdGh1Yi5pby95YXdmL2ZxYS5odG1sIiByZWw9Im5vcmVmZXJyZXIiPuW4uOimi+WVj+mhjO+8iOewoemrlO+8iTwvYT7jgII8L3A+PHA+6IWz5pys5L2/55SoIE1JVCDljZTlrprplovmlL7ljp/lp4vnqIvlvI/norzvvIzkvZzogIUgPGEgaHJlZj0iaHR0cDovL3dlaWJvLmNvbS90c2g5MCIgdXNlcmNhcmQ9ImlkPTM5MjE1ODkwNTciIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vcmVmZXJyZXIiPkB0c2g5MDwvYT4g77yM5oKo5Y+v5LulPGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL3RpYW5zaC95YXdmIiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIj7lnKggR2l0SHViIOS4iuafpemWsTwvYT7vvIzmraHov47ku7vkvZXkurrosqLnjbvnqIvlvI/norzjgII8YnIgLz7ohbPmnKzkuK3lj4PogIPkuKbkvb/nlKjkuoYgPGEgaHJlZj0iaHR0cHM6Ly9iaXRidWNrZXQub3JnL3NhbHZpYXRpL3dlaWJvLWNsZWFuZXIiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vcmVmZXJyZXIiPuecvOS4jeimi+W/g+S4jeeFqTwvYT4g55qE6YOo5YiG56iL5byP56K844CCPC9wPicsCiAgICAnZW4nOiAnPHA+WWV0IEFub3RoZXIgV2VpYm8gRmlsdGVyIChZQVdGKSB7e3ZlcnNpb259fTwvcD48cD5Gb2xsb3cgPGEgaHJlZj0iaHR0cDovL3dlaWJvLmNvbS95YXdmc2NyaXB0IiBuYW1lY2FyZD0iaWQ9NTYwMTAzMzExMSIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9yZWZlcnJlciI+QFlBV0bohJrmnKw8L2E+IGZvciBsYXN0IHVwZGF0ZSBpbmZvLjxiciAvPlBsZWFzZSBoZWxwIHVzIHNwcmVhZCB0aGUgd29yZCBpZiB0aGUgc2NyaXB0IGhlbHBzIHlvdS48L3A+PHA+SWYgeW91IGZpbmQgYW55IGJ1Z3Mgb3IgaGF2ZSBmZWF0dXJlIHJlcXVlc3RzLCBwbGVhc2UgcmVwb3J0IHRoZW0gaW4gdGhlIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL3RpYW5zaC5naXRodWIuaW8veWF3Zi9pc3N1ZXMuaHRtbCIgcmVsPSJub3JlZmVycmVyIj5pc3N1ZXMgcGFnZTwvYT4sIG9yIDxhIGFjdGlvbi1kYXRhPSJ1aWQ9NTYwMTAzMzExMSZuaWNrPVlBV0bohJrmnKwiIGFjdGlvbi10eXBlPSJ3ZWJpbS5jb252ZXJzYXRpb24iIGhyZWY9ImphdmFzY3JpcHQ6OyI+c2VuZCBtZXNzYWdlIHRvIEBZQVdG6ISa5pysPC9hPiAuIFBsZWFzZSByZWFkIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL3RpYW5zaC5naXRodWIuaW8veWF3Zi9mcWEuaHRtbCIgcmVsPSJub3JlZmVycmVyIj5GUUEgKENoaW5lc2UpPC9hPiBwYWdlIGZvciBjb21tb24gcXVlc3Rpb25zLjwvcD48cD5UaGUgc2NyaXB0IGlzIGxpc2NlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIEF1dGhvciBpcyA8YSBocmVmPSJodHRwOi8vd2VpYm8uY29tL3RzaDkwIiB1c2VyY2FyZD0iaWQ9MzkyMTU4OTA1NyIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9yZWZlcnJlciI+QHRzaDkwPC9hPi4gWW91IG1heSA8YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vdGlhbnNoL3lhd2YiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vcmVmZXJyZXIiPnZpZXcgdGhlIHByb2plY3Qgb24gR2l0SHViPC9hPi4gUHVsbCByZXF1ZXN0IGlzIHdlbGNvbWVkLjxiciAvPlNvbWUgY29kZXMgb2YgdGhpcyBzY3JpcHQgY29tZSBmcm9tIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL2JpdGJ1Y2tldC5vcmcvc2FsdmlhdGkvd2VpYm8tY2xlYW5lciIgcmVsPSJub3JlZmVycmVyIj48c3BhbiBsYW5nPSJ6aC1jbiI+55y85LiN6KeB5b+D5LiN54OmPC9zcGFuPiAoV2VpYm8gQ2xlYW5lcik8L2E+IHNjcmlwdC48L3A+JywKICB9LAogIC8vIOaLluaLvQogICdkcm9wQXJlYVRpdGxlJzogeyAnemgtY24nOiAn5ouW5pS+6Iez5q2kPGJyIC8+5b+r6YCf5Yib5bu66L+H5ruk5ZmoJywgJ3poLWhrJzogJ+aLluaUvuiHs+atpDxiciAvPuW/q+mAn+WJteW7uuevqemBuOWZqCcsICd6aC10dyc6ICfmi5bmlL7oh7PmraQ8YnIgLz7lv6vpgJ/libXlu7rnr6npgbjlmagnLCAnZW4nOiAnRHJvcCBIZXJlIHRvIENyZWF0ZSBGaWx0ZXInIH0sCiAgJ2Ryb3BBcmVhVGV4dCc6IHsKICAgICd6aC1jbic6ICflsIbopoHorr7nva7ov4fmu6TlmajnmoTlhoXlrrnmi5bmi73oh7PmraTvvIzljbPlj6/lv6vpgJ/liJvlu7rov4fmu6TlmajjgILnjrDlt7Llj6/or4bliKvvvJo8YnIgLz48dWw+PGxpPuW+ruWNmuato+aWh+eahOaWh+Wtl+aIlumTvuaOpTwvbGk+PGxpPueUqOaIt+WktOWDj+aIlumTvuaOpTwvbGk+PGxpPuivnemimDwvbGk+PGxpPuadpea6kOmTvuaOpTwvbGk+PC91bD4nLAogICAgJ3poLWhrJzogJ+Wwh+imgeioree9ruevqemBuOWZqOeahOWFp+WuueaLluaLveiHs+atpO+8jOWNs+WPr+W/q+mAn+WJteW7uuevqemBuOWZqOOAguePvuW3suWPr+itmOWIpe+8mjxiciAvPjx1bD48bGk+5b6u5Y2a5q2j5paH55qE5paH5a2X5oiW6YCj57WQPC9saT48bGk+5L2/55So6ICF6aCt5YOP5oiW6YCj57WQPC9saT48bGk+6Kmx6aGMPC9saT48bGk+5L6G5rqQ6YCj57WQPC9saT48L3VsPicsCiAgICAnemgtdHcnOiAn5bCH6KaB6Kit572u56+p6YG45Zmo55qE5YWn5a655ouW5ou96Iez5q2k77yM5Y2z5Y+v5b+r6YCf5Ym15bu656+p6YG45Zmo44CC54++5bey5Y+v6K2Y5Yil77yaPGJyIC8+PHVsPjxsaT7lvq7ljZrmraPmlofnmoTmloflrZfmiJbpgKPntZA8L2xpPjxsaT7kvb/nlKjogIXpoK3lg4/miJbpgKPntZA8L2xpPjxsaT7oqbHpoYw8L2xpPjxsaT7kvobmupDpgKPntZA8L2xpPjwvdWw+JywKICAgICdlbic6ICdEcm9wIGl0ZW1zIGhlcmUgdG8gY3JlYXRlIGZpbHRlci4gVGhlc2UgaXRlbXMgbWF5IGJlIHJlY29nbml6ZWQ6PGJyIC8+PHVsPjxsaT5UZXh0IG9yIGxpbmsgaW4gV2VpYm8gY29udGVudDwvbGk+PGxpPkF2YXRhciBvciB1c2VyIGxpbms8L2xpPjxsaT50b3BpYzwvbGk+PGxpPnNvdXJjZTwvbGk+PC91bD4nCiAgfSwKICAnZmFzdENyZWF0ZUNob3NlVGl0bGUnOiB7ICd6aC1jbic6ICfliJvlu7rov4fmu6TlmagnLCAnemgtaGsnOiAn5Ym15bu656+p6YG45ZmoJywgJ3poLXR3JzogJ+WJteW7uuevqemBuOWZqCcsICdlbic6ICdDcmVhdGUgRmlsdGVyJyB9LAogICdmYXN0RmlsdGVyQ2hvc2VUZXh0JzogeyAnemgtY24nOiAn6K+36YCJ5oup6KaB5Yib5bu655qE6L+H5ruk5Zmo77yaJywgJ3poLWhrJzogJ+iri+mBuOaTh+imgeWJteW7uueahOevqemBuOWZqO+8micsICd6aC10dyc6ICfoq4vpgbjmk4fopoHlibXlu7rnmoTnr6npgbjlmajvvJonLCAnZW4nOiAnQ2hvc2UgdGhlIGZpbHRlcihzKSB5b3Ugd2FudDonIH0sCiAgLy8g5omp5bGVCiAgJ3NjcmlwdEV4dGVuc2lvblRpdGxlJzogeyAnemgtY24nOiAn5omp5bGVJywgJ3poLWhrJzogJ+aTtOWFhScsICd6aC10dyc6ICfmk7TlhYUnLCAnZW4nOiAnRXh0ZW5zaW9uJyB9LAogICdzY3JpcHRFeHRlbnNpb25FbmFibGUnOiB7ICd6aC1jbic6ICflkK/nlKjlr7kgWUFXRiDnmoTmianlsZUnLCAnemgtaGsnOiAn5ZWf55So5bCNIFlBV0Yg55qE5pO05YWFJywgJ3poLXR3JzogJ+WVn+eUqOWwjSBZQVdGIOeahOaTtOWFhScsICdlbic6ICdFbmFibGUgRXh0ZW5zaW9uIGZvciBZQVdGJyB9LAogICdzY3JpcHRFeHRlbnNpb25XYXJuaW5nJzogewogICAgJ3poLWNuJzogJ+azqOaEj++8jOaJqeWxleS7peeUqOaIt+iEmuacrOeahOW9ouW8j+Wuieijhe+8jOaCqOWPquW6lOW9k+S7juaCqOS/oeS7u+eahOadpea6kOWuieijheeUqOaIt+iEmuacrO+8jOaBtuaEj+eahOiEmuacrOWPr+iDveS8muS+teeKr+aCqOeahOmakOengeW5tuWcqOaCqOS4jeefpeaDheeahOaDheWGteS4i+S7peaCqOeahOWQjeS5iei/m+ihjOaTjeS9nOOAguWmguaenOaCqOW4jOacm+e8luWGmSBZQVdGIOeahOaJqeWxle+8jOivt+WPguiAg+W4uOingemXrumimOOAgicsCiAgICAnemgtaGsnOiAn5rOo5oSP77yM5pO05YWF5Lul55So5oi26IWz5pys55qE5b2i5byP5a6J6KOd77yM5oKo5Y+q5oeJ55W25b6e5oKo5L+h5Lu755qE5L6G5rqQ5a6J6KOd55So5oi26IWz5pys77yM5oOh5oSP55qE6IWz5pys5Y+v6IO95pyD5Y2x5a6z5oKo55qE6Zqx56eB77yM5Lim5Zyo5oKo5LiN55+l5oOF55qE5oOF5rOB5LiL5Lul5oKo55qE5ZCN576p5Z+36KGM44CC5aaC5p6c5oKo5biM5pyb5pKw5a+rIFlBV0Yg55qE5pO05bGV77yM6KuL5Y+D6ICD5bi46KaL5ZWP6aGM77yI57Ch6auU77yJ44CCJywKICAgICd6aC10dyc6ICfms6jmhI/vvIzmk7TlhYXku6XnlKjmiLbohbPmnKznmoTlvaLlvI/lronoo53vvIzmgqjlj6rmh4nnlbblvp7mgqjkv6Hku7vnmoTkvobmupDlronoo53nlKjmiLbohbPmnKzvvIzmg6HmhI/nmoTohbPmnKzlj6/og73mnIPljbHlrrPmgqjnmoTpmrHnp4HvvIzkuKblnKjmgqjkuI3nn6Xmg4XnmoTmg4Xms4HkuIvku6XmgqjnmoTlkI3nvqnln7fooYzjgILlpoLmnpzmgqjluIzmnJvmkrDlr6sgWUFXRiDnmoTmk7TlsZXvvIzoq4vlj4PogIPluLjopovllY/poYzvvIjnsKHpq5TvvInjgIInLAogICAgJ2VuJzogJ05vdGljZTogRXh0ZW5zaW9uIHdhcyBpbnN0YWxsZWQgYXMgdXNlcnNjcmlwdC4gWW91IHNob3VsZCBvbmx5IGluc3RhbGwgc2NyaXB0cyB0cnVzdGVkLiBNYWxpY2lvdXMgc2NyaXB0cyBjYW4gdmlvbGF0ZSB5b3VyIHByaXZhY3kgYW5kIGFjdCBvbiB5b3VyIGJlaGFsZiB3aXRob3V0IHlvdXIga25vd2xlZGdlLiBQbGVhc2UgcmVmZXIgdG8gdGhlIEZRQSBQYWdlLCBpZiB5b3Ugd2FudCB0byB3cml0ZSB5b3VyIGV4dGVuc2lvbiBmb3IgWUFXRi4nLAogIH0sCiAgJ3N1YnNjcmliZUZpbHRlckdyb3VwVGl0bGUnOiB7ICd6aC1jbic6ICfop4TliJnorqLpmIUnLCAnemgtaGsnOiAn6KaP5YmH6KiC6ZaxJywgJ3poLXR3JzogJ+imj+WJh+iogumWsScsICdlbic6ICdTdWJzY3JpYmUnIH0sCiAgJ3N1YnNjcmliZUxpc3RUaXRsZSc6IHsgJ3poLWNuJzogJ+iuoumYheeahOinhOWImScsICd6aC1oayc6ICfoqILplrHnmoTopo/liYcnLCAnemgtdHcnOiAn6KiC6Zax55qE6KaP5YmHJywgJ2VuJzogJ1J1bGVzIFN1YnNjcmliZWQnIH0sCiAgJ3N1YnNjcmliZURpc2FibGVCdXR0b24nOiB7ICd6aC1jbic6ICfnpoHnlKgnIH0sCiAgJ3N1YnNjcmliZUVuYWJsZUJ1dHRvbic6IHsgJ3poLWNuJzogJ+WQr+eUqCcgfSwKICAnc3Vic2NyaWJlRGV0YWlsQnV0dG9uJzogeyAnemgtY24nOiAn6K+m57uGJyB9LAogICdleHRlbnNpb25GaWx0ZXJHcm91cFRpdGxlJzogeyAnemgtY24nOiAn5omp5bGV5Yqf6IO9JywgJ3poLWhrJzogJ+aTtOWFheWKn+iDvScsICd6aC10dyc6ICfmk7TlhYXlip/og70nLCAnZW4nOiAnRXh0ZW5zaW9uJyB9LAp9OwoKLy8g6aG16Z2i5bi46YePCnZhciBodG1sID0gewogICd8JzogJzwvbGFiZWw+PGxhYmVsPicsIC8vIOWFiOWFs+mXreWJjemdoueahGxhYmVs77yM5YaN5LuO5ZCO6Z2i5byA5LiA5Liq77yM5omA5Lul6L+Z6YeM5rKh5YaZ5Y+NCiAgJ3x8JzogJzwvbGFiZWw+PGJyIC8+PGxhYmVsPicsCiAgJ3NlbGVjdCc6ICc8c2VsZWN0Pnt7b3B0aW9uc319PC9zZWxlY3Q+JywKICAnb3B0aW9uJzogJzxvcHRpb24gdmFsdWU9Int7dmFsdWV9fSI+e3t7dGV4dH19fTwvb3B0aW9uPicsCiAgLy8g5a+56K+d5qGGCiAgJ2NvdmVyJzogJzxkaXYgbm9kZS10eXBlPSJvdXRlciIgc3R5bGU9InBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwcHg7IGxlZnQ6IDBweDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlIHJnYigwLCAwLCAwKTsgb3BhY2l0eTogMC4zOyB6LWluZGV4OiA5OTk5OyI+PC9kaXY+JywKICAnZGlhbG9nJzogJzxkaXYgaWQ9Int7aWR9fSIgY2xhc3M9IldfbGF5ZXIgeWF3Zi1MYXllciIgc3R5bGU9InRvcDogMTkzcHg7IGxlZnQ6IDM3NnB4OyI+PGRpdiB0YWJpbmRleD0iMCI+PC9kaXY+PGRpdiBjbGFzcz0iY29udGVudCIgbm9kZS10eXBlPSJhdXRvSGVpZ2h0Ij48ZGl2IGNsYXNzPSJXX2xheWVyX3RpdGxlIiBub2RlLXR5cGU9InRpdGxlIiBzdHlsZT0iIj57e3RpdGxlfX08L2Rpdj48ZGl2IGNsYXNzPSJXX2xheWVyX2Nsb3NlIj48YSBjbGFzcz0iV19maWNvbiBmaWNvbl9jbG9zZSBTX2ZpY29uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBub2RlLXR5cGU9ImNsb3NlIj5YPC9hPjwvZGl2PjxkaXYgbm9kZS10eXBlPSJpbm5lciI+PC9kaXY+PC9kaXY+PC9kaXY+JywKICAnYWxlcnQnOiAnPGRpdiBjbGFzcz0iV19sYXllciB5YXdmLUxheWVyIiBpZD0ie3tpZH19Ij48ZGl2IHRhYmluZGV4PSIwIj48L2Rpdj48ZGl2IGNsYXNzPSJjb250ZW50Ij48ZGl2IGNsYXNzPSJXX2xheWVyX3RpdGxlIiBub2RlLXR5cGU9InRpdGxlIj57e3RpdGxlfX08L2Rpdj48ZGl2IGNsYXNzPSJXX2xheWVyX2Nsb3NlIj48YSBjbGFzcz0iV19maWNvbiBmaWNvbl9jbG9zZSBTX2ZpY29uIiBub2RlLXR5cGU9ImNsb3NlIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij5YPC9hPjwvZGl2PjxkaXYgbm9kZS10eXBlPSJpbm5lciI+PGRpdiBjbGFzcz0ibGF5ZXJfcG9pbnQiPjxkbCBjbGFzcz0icG9pbnQgY2xlYXJmaXgiPjxkdCBub2RlLXR5cGU9Imljb24iPjxzcGFuIGNsYXNzPSJXX2ljb24gaWNvbl97e2ljb259fUIiPjwvc3Bhbj48L2R0PjxkZCBub2RlLXR5cGU9InRleHQiPjxwIGNsYXNzPSJTX3R4dDEiPnt7dGV4dH19PC9wPjwvZGQ+PC9kbD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPSJXX2xheWVyX2J0biBTX2JnMSI+PGEgYWN0aW9uLXR5cGU9Im9rIiBub2RlLXR5cGU9Im9rIiBjbGFzcz0iV19idG5fYSBidG5fMzRweCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PHNwYW4+e3tva0J1dHRvblRpdGxlfX08L3NwYW4+PC9hPjwvZGl2PjwvZGl2PjwvZGl2PicsCiAgJ2NvbmZpcm0nOiAnPGRpdiBjbGFzcz0iV19sYXllciB5YXdmLUxheWVyIiBpZD0ie3tpZH19Ij48ZGl2IHRhYmluZGV4PSIwIj48L2Rpdj48ZGl2IGNsYXNzPSJjb250ZW50Ij48ZGl2IGNsYXNzPSJXX2xheWVyX3RpdGxlIiBub2RlLXR5cGU9InRpdGxlIj57e3RpdGxlfX08L2Rpdj48ZGl2IGNsYXNzPSJXX2xheWVyX2Nsb3NlIj48YSBjbGFzcz0iV19maWNvbiBmaWNvbl9jbG9zZSBTX2ZpY29uIiBub2RlLXR5cGU9ImNsb3NlIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij5YPC9hPjwvZGl2PjxkaXYgbm9kZS10eXBlPSJpbm5lciI+PGRpdiBjbGFzcz0ibGF5ZXJfcG9pbnQiPjxkbCBjbGFzcz0icG9pbnQgY2xlYXJmaXgiPjxkdCBub2RlLXR5cGU9Imljb24iPjxzcGFuIGNsYXNzPSJXX2ljb24gaWNvbl97e2ljb259fUIiPjwvc3Bhbj48L2R0PjxkZCBub2RlLXR5cGU9InRleHQiPjxwIGNsYXNzPSJTX3R4dDEiPnt7dGV4dH19PC9wPjwvZGQ+PC9kbD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPSJXX2xheWVyX2J0biBTX2JnMSI+PGEgYWN0aW9uLXR5cGU9Im9rIiBub2RlLXR5cGU9Im9rIiBjbGFzcz0iV19idG5fYSBidG5fMzRweCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PHNwYW4+e3tva0J1dHRvblRpdGxlfX08L3NwYW4+PC9hPjxhIGFjdGlvbi10eXBlPSJjYW5jZWwiIG5vZGUtdHlwZT0iY2FuY2VsIiBjbGFzcz0iV19idG5fYiBidG5fMzRweCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PHNwYW4+e3tjYW5jZWxCdXR0b25UaXRsZX19PC9zcGFuPjwvYT48L2Rpdj48L2Rpdj48L2Rpdj4nLAogICdidWJibGUnOiAnPGRpdiBjbGFzcz0iV19sYXllciB5YXdmLUxheWVyIFdfbGF5ZXJfcG9wIHlhd2YtYnViYmxlIj48ZGl2IGNsYXNzPSJjb250ZW50IGxheWVyX21pbmlfaW5mbyI+PGRpdiBjbGFzcz0ibWFpbl90eHQiPnt7e3RleHR9fX08L2Rpdj48ZGl2IGNsYXNzPSJXX2xheWVyX2Fycm93Ij48c3BhbiBjbGFzcz0iV19hcnJvd19ib3IiIG5vZGUtdHlwZT0iYXJyb3ciPjxpIGNsYXNzPSJTX2xpbmUzIj48L2k+PGVtIGNsYXNzPSJTX2JnMl9iciI+PC9lbT48L3NwYW4+PGRpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nLAogIC8vIOa8j+aWl+WbvuaghwogICdpY29uJzogJzxkaXYgY2xhc3M9ImduX3NldF9saXN0IHlhd2YtZ25fc2V0X2xpc3QiPjxhIG5vZGUtdHlwZT0iZmlsdGVyIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBjbGFzcz0iZ25fZmlsdGVyIj48ZW0gY2xhc3M9IldfZmljb24gZmljb25fbWFpbCBTX2ZpY29uIj5ZPC9lbT48L2E+PC9kaXY+JywKICAnbWVudWl0ZW0nOiAnPHVsPjxsaSBjbGFzcz0ibGluZSBTX2xpbmUxIHlhd2YtY29uZmlnLW1lbnVsaW5lIj48L2xpPjxsaT48YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBjbGFzcz0ieWF3Zi1jb25maWctbWVudWl0ZW0iPnt7ZmlsdGVyTWVudUl0ZW19fTwvYT48L2xpPjwvdWw+JywKICAvLyDorr7nva7nqpflj6MKICAnY29uZmlnSGVhZGVyVG9wJzogJzxkaXYgY2xhc3M9IldCX21pbml0YWIgeWF3Zi1jb25maWctaGVhZGVyIiBub2RlLXR5cGU9Inlhd2YtY29uZmlnLWhlYWRlciI+PHVsIGNsYXNzPSJtaW5pdGJfdWwgU19saW5lMSBTX2JnMSBjbGVhcmZpeCI+JywKICAnY29uZmlnSGVhZGVySXRlbSc6ICc8bGkgY2xhc3M9Im1pbml0Yl9pdGVtIFNfbGluZTEge3tsaWNsYXNzfX0iPjxhIGNsYXNzPSJtaW5pdGJfbGsgU190eHQxIHt7YWNsYXNzfX0iIGFjdGlvbi10eXBlPSJ0YWJfaXRlbSIgb25jbGljaz0icmV0dXJuIGZhbHNlOyIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+e3tuYW1lfX08L2E+PHNwYW4gY2xhc3M9Inlhd2YtY3VyX2Jsb2NrIj48L3NwYW4+PC9saT4nLAogICdjb25maWdIZWFkZXJTZWFyY2gnOiAnPGxpIGNsYXNzPSJtaW5pdGJfaXRlbSBTX2xpbmUxIj48bGFiZWwgY2xhc3M9Im1pbml0Yl9sayBTX3R4dDEiPjxpbnB1dCBpZD0ieWF3Zi1jb25maWctc2VhcmNoIiBjbGFzcz0ieWF3Zi1jb25maWctc2VhcmNoIiB0eXBlPSJzZWFyY2giIC8+PHNwYW4gY2xhc3M9Inlhd2YtY29uZmlnLXNlYXJjaC1sb2dvIFdfZmljb24gU190eHQyIj5mPC9zcGFuPjxzcGFuIGNsYXNzPSJ5YXdmLWN1cl9ibG9jayI+PC9zcGFuPjwvbGFiZWw+PC9saT4nLAogICdjb25maWdIZWFkZXJCb3R0b20nOiAnPC91bD48L2Rpdj4nLAogICdjb25maWdMYXllclRvcCc6ICc8ZGl2IG5vZGUtdHlwZT0ieWF3Zi1jb25maWctYm9keSIgY2xhc3M9Inlhd2YtY29uZmlnLWJvZHkgeWF3Zi13aW5kb3ctYm9keSI+JywKICAnY29uZmlnTGF5ZXJJdGVtJzogJzxkaXYgY2xhc3M9Int7bmFtZX19IHlhd2YtY29uZmlnLWxheWVyIiBub2RlLXR5cGU9Int7bmFtZX19IiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvZGl2PicsCiAgJ2NvbmZpZ0xheWVyQm90dG9tJzogJzwvZGl2PicsCiAgJ2NvbmZpZ0Zvb3Rlcic6ICcnLAogICdzZWFyY2hOb3RGb3VuZCc6ICc8ZGl2IGNsYXNzPSJXQl9lbXB0eSI+PGRpdiBjbGFzcz0iV0JfaW5uZXJ3cmFwIj48ZGl2IGNsYXNzPSJlbXB0eV9jb24gY2xlYXJmaXgiPjxwIGNsYXNzPSJpY29uX2JlZCI+PGkgY2xhc3M9IldfaWNvbiBpY29uX3dhcm5CIj48L2k+PC9wPjxwIGNsYXNzPSJ0ZXh0Ij57e3NlYXJjaE5vdEZvdW5kfX08L3A+PC9kaXY+PC9kaXY+PC9kaXY+JywKICAnc2ljb24nOiAnPGkgY2xhc3M9IldfaWNvbiBpY29uX3t7aWNvbn19UyB5YXdmLWNvbmZpZ1NJY29uIj48L2k+JywKICAvLyDorr7nva7nqpflj6PlhoXmloflrZcKICAnY29uZmlnRGVmYXVsdCc6ICc8ZGl2IGNsYXNzPSJ5YXdmLXRleHQiPnt7e3RleHR9fX08L2Rpdj4nLAogICdjb25maWdTdWJ0aXRsZSc6ICc8ZGl2IGNsYXNzPSJ5YXdmLWdyb3VwU3VidGl0bGUiPnt7e3RleHR9fX08L2Rpdj4nLAogICdjb25maWdUZXh0JzogJzxkaXYgY2xhc3M9Inlhd2YtZ3JvdXBUZXh0Ij57e3t0ZXh0fX19PC9kaXY+JywKICAnY29uZmlnUmVtYXJrJzogJzxkaXYgY2xhc3M9Inlhd2YtZ3JvdXBSZW1hcmsiPnt7e3RleHR9fX08L2Rpdj4nLAogICdjb25maWdMYWJlbCc6ICc8ZGl2IGNsYXNzPSJ5YXdmLWdyb3VwTGFiZWwiPjxsYWJlbD57e3t0ZXh0fX19PC9sYWJlbD48L2Rpdj4nLAogIC8vIOiuvue9rumhuQogICdjb25maWdCb29sZWFuJzogJzxkaXYgY2xhc3M9Inlhd2YtY29uZmlnQm9vbGVhbiB5YXdmLWNvbmZpZ0l0ZW0iPjxsYWJlbD57e3RleHR9fTwvbGFiZWw+PC9kaXY+JywKICAnY29uZmlnQm9vbGVhbklucHV0JzogJzxkaXYgY2xhc3M9Inlhd2YtY29uZmlnSW5wdXQgeWF3Zi1jb25maWdCb29sZWFuSW5wdXQiPjxpbnB1dCB5YXdmLWNpPSJ7e2tleX19IiBjbGFzcz0iV19jaGVja2JveCB5YXdmLWNvbmZpZ0Jvb2xlYW5JbnB1dCIgdHlwZT0iY2hlY2tib3giIG5hbWU9Inlhd2Yte3trZXl9fSI+PC9kaXY+JywKICAnY29uZmlnU2VsZWN0JzogJzxkaXYgY2xhc3M9Inlhd2YtY29uZmlnU2VsZWN0IHlhd2YtY29uZmlnSXRlbSI+PGxhYmVsPnt7dGV4dH19PC9sYWJlbD48L2Rpdj4nLAogICdjb25maWdTZWxlY3RJbnB1dCc6ICc8ZGl2IGNsYXNzPSJ5YXdmLWNvbmZpZ0lucHV0IHlhd2YtY29uZmlnU2VsZWN0SW5wdXQiPjxzZWxlY3QgeWF3Zi1jaT0ie3trZXl9fSIgY2xhc3M9Inlhd2YtY29uZmlnU2VsZWN0U2VsZWN0IiBuYW1lPSJ5YXdmLXt7a2V5fX0iPjwvc2VsZWN0PjwvZGl2PicsCiAgJ2NvbmZpZ1N0cmluZyc6ICc8ZGl2IGNsYXNzPSJ5YXdmLWNvbmZpZ1N0cmluZyB5YXdmLWNvbmZpZ0l0ZW0iPjxsYWJlbD57e3RleHR9fTwvbGFiZWw+PC9kaXY+JywKICAnY29uZmlnU3RyaW5nSW5wdXQnOiAnPGRpdiBjbGFzcz0ieWF3Zi1jb25maWdJbnB1dCB5YXdmLWNvbmZpZ1N0cmluZ0lucHV0Ij48dGV4dGFyZWEgeWF3Zi1jaT0ie3trZXl9fSIgY2xhc3M9IldfaW5wdXQgeWF3Zi1jb25maWdTdHJpbmdJbnB1dCIgbmFtZT0ieWF3Zi17e2tleX19Ij48L3RleHRhcmVhPjwvZGl2PicsCiAgJ2NvbmZpZ0NvbG9yJzogJzxkaXYgY2xhc3M9Inlhd2YtY29uZmlnQ29sb3IgeWF3Zi1jb25maWdJdGVtIj48bGFiZWw+e3t0ZXh0fX08L2xhYmVsPjwvZGl2PicsCiAgJ2NvbmZpZ0NvbG9ySW5wdXQnOiAnPGRpdiBjbGFzcz0ieWF3Zi1jb25maWdJbnB1dCB5YXdmLWNvbmZpZ0NvbG9ySW5wdXQiPjxpbnB1dCB5YXdmLWNpPSJ7e2tleX19IiBjbGFzcz0iV19mMTQgeWF3Zi1jb25maWdDb2xvcklucHV0IiBuYW1lPSJ5YXdmLXt7a2V5fX0iIHR5cGU9ImNvbG9yIiBzdHlsZT0id2lkdGg6IDQwcHg7IiAvPjwvZGl2PicsCiAgJ2NvbmZpZ051bWJlcic6ICc8ZGl2IGNsYXNzPSJ5YXdmLWNvbmZpZ051bWJlciB5YXdmLWNvbmZpZ0l0ZW0iPjxsYWJlbD57e3RleHR9fTwvbGFiZWw+PC9kaXY+JywKICAnY29uZmlnTnVtYmVySW5wdXQnOiAnPGRpdiBjbGFzcz0ieWF3Zi1jb25maWdJbnB1dCB5YXdmLWNvbmZpZ051bWJlcklucHV0Ij48aW5wdXQgeWF3Zi1jaT0ie3trZXl9fSIgdHlwZT0ibnVtYmVyIiBjbGFzcz0iV19mMTQgeWF3Zi1jb25maWdOdW1iZXJJbnB1dCIgbmFtZT0ieWF3Zi17e2tleX19IiBzdHlsZT0id2lkdGg6IDYwcHg7IiAvPjwvZGl2PicsCiAgJ2NvbmZpZ1JhbmdlJzogJzxkaXYgY2xhc3M9Inlhd2YtY29uZmlnUmFuZ2UgeWF3Zi1jb25maWdJdGVtIj48bGFiZWw+e3t0ZXh0fX08L2xhYmVsPjwvZGl2PicsCiAgJ2NvbmZpZ1JhbmdlSW5wdXQnOiAnPGRpdiBjbGFzcz0ieWF3Zi1jb25maWdJbnB1dCB5YXdmLWNvbmZpZ1JhbmdlSW5wdXQiPjxpbnB1dCB0eXBlPSJudW1iZXIiIG1pbj0iMCIgbWF4PSIxMDAiIG1heGxlbmd0aD0iMyIgeWF3Zi1jaT0ie3trZXl9fSIgY2xhc3M9IldfZjE0IHlhd2YtY29uZmlnUmFuZ2VJbnB1dCIgc3R5bGU9InRleHQtYWxpZ246IHJpZ2h0OyIgbmFtZT0ieWF3Zi17e2lkfX0iIC8+PGRpdiBjbGFzcz0ieWF3Zi1yYW5nZS1jb250YWluZXIiPjxpbnB1dCB0eXBlPSJyYW5nZSIgc3R5bGU9ImhlaWdodDogMWVtOyB3aWR0aDogNjZweDsgbWFyZ2luLWxlZnQ6IDdweDsgbWFyZ2luLXJpZ2h0OiA3cHg7ICIgdGFiaW5kZXg9Ii0xIiAvPjwvZGl2PjwvZGl2PicsCiAgJ2NvbmZpZ0tleSc6ICc8ZGl2IGNsYXNzPSJ5YXdmLWNvbmZpZ0tleSB5YXdmLWNvbmZpZ0l0ZW0iPjxsYWJlbD57e3RleHR9fTwvbGFiZWw+PC9kaXY+JywKICAnY29uZmlnS2V5SW5wdXQnOiAnPGRpdiBjbGFzcz0ieWF3Zi1jb25maWdJbnB1dCB5YXdmLWNvbmZpZ0tleUlucHV0Ij48YnV0dG9uIGNsYXNzPSJXX2YxNCB5YXdmLWNvbmZpZ0tleU5hbWUiPjwvYnV0dG9uPjxpbnB1dCB0eXBlPSJoaWRkZW4iIHlhd2YtY2k9Int7a2V5fX0iIG5hbWU9Inlhd2Yte3trZXl9fSIgLz48c3BhbiBjbGFzcz0ieWF3Zi1jb25maWdLZXlUaXAiPnt7a2V5SW5wdXRUaXB9fTwvc3Bhbj48L2Rpdj4nLAogICdjb25maWdTdWJzY3JpYmUnOiAnPGRpdiBjbGFzcz0ieWF3Zi1jb25maWdTdWJzY3JpYmUgeWF3Zi1jb25maWdJdGVtICI+PGRpdiBjbGFzcz0ieWF3Zi1jb25maWdTdWJzY3JpYmVJY29uIj48aW1nIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgc3JjPSJ7e2ljb259fSI+PC9kaXY+PGRpdiBjbGFzcz0ieWF3Zi1jb25maWdTdWJzY3JpYmVUaXRsZSI+PGRpdiBjbGFzcz0ieWF3Zi1jb25maWdTdWJzY3JpYmVOYW1lIj57e25hbWV9fTwvZGl2PjxkaXYgY2xhc3M9Inlhd2YtY29uZmlnU3Vic2NyaWJlRGF0ZSI+e3tkYXRlfX08L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPSJ5YXdmLWNvbmZpZ1N1YnNjcmliZUluZm8iPnt7ZGVzY3JpcHRpb259fTwvZGl2PjxkaXYgY2xhc3M9Inlhd2YtY29uZmlnU3Vic2NyaWJlQnV0dG9uIj48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGNsYXNzPSJXX2J0bl9iIHlhd2Ytc3Vic2NyaWJlRGlzYWJsZSI+PHNwYW4gY2xhc3M9IldfZjE0Ij57e3N1YnNjcmliZURpc2FibGVCdXR0b259fTwvc3Bhbj48L2E+PGEgaHJlZj0iamF2YXNjcmlwdDo7IiBjbGFzcz0iV19idG5fYiB5YXdmLXN1YnNjcmliZUVuYWJsZSI+PHNwYW4gY2xhc3M9IldfZjE0Ij57e3N1YnNjcmliZUVuYWJsZUJ1dHRvbn19PC9zcGFuPjwvYT48YSBocmVmPSIiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vcmVmZXJyZXIiIGNsYXNzPSJXX2J0bl9iIHlhd2Ytc3Vic2NyaWJlRGV0YWlsIj48c3BhbiBjbGFzcz0iV19mMTQiPnt7c3Vic2NyaWJlRGV0YWlsQnV0dG9ufX08L3NwYW4+PC9hPjwvZGl2PjwvZGl2PicsCiAgJ2NvbmZpZ1N0cmluZ3MnOiAnPGRpdiBjbGFzcz0ieWF3Zi1jb25maWdTdHJpbmdzIHlhd2YtY29uZmlnSXRlbSI+PGZvcm0gYWN0aW9uPSIjIj48bGFiZWw+PHNwYW4gY2xhc3M9Inlhd2YtY29uZmlnRGVzYyB5YXdmLWNvbmZpZ1N0cmluZ3NEZXNjIj57e3t0ZXh0fX19PC9zcGFuPjxpbnB1dCBpZD0ieWF3Zi17e2tleX19IiBjbGFzcz0iV19pbnB1dCB5YXdmLWNvbmZpZ1N0cmluZ3NJbnB1dCIgdHlwZT0idGV4dCIgbmFtZT0ieWF3Zi17e2tleX19Ij48L2xhYmVsPjxidXR0b24gaWQ9Inlhd2YtYWRkLXt7a2V5fX0iIGNsYXNzPSJXX2J0bl9hIHlhd2YtY29uZmlnQWRkIiB0eXBlPSJzdWJtaXQiPjxzcGFuPnt7Y29uZmlnU3RyaW5nc0FkZH19PC9zcGFuPjwvYnV0dG9uPjwvZm9ybT48dWwgY2xhc3M9Inlhd2YtY29uZmlnU3RyaW5nc0l0ZW1zIHlhd2YtY29uZmlnSXRlbXMiPjwvdWw+PC9kaXY+JywKICAnY29uZmlnU3RyaW5nc0l0ZW0nOiAnPGxpIGNsYXNzPSJXX2J0bl9iIFdfYnRuX3RhZyB5YXdmLWNvbmZpZ1N0cmluZ3NJdGVtIiBub2RlLXR5cGU9InRhZ19pdGVtIiB0aXRsZT0ie3tbaXRlbV19fSI+PGEgY2xhc3M9IldfZmljb24gZmljb25fY2xvc2UgU19maWNvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+WDwvYT57e1tpdGVtXX19PC9saT4nLAogICdjb25maWdVc2Vycyc6ICc8ZGl2IGNsYXNzPSJ5YXdmLWNvbmZpZ1VzZXJzIHlhd2YtY29uZmlnSXRlbSI+PGZvcm0gYWN0aW9uPSIjIj48bGFiZWw+PHNwYW4gY2xhc3M9Inlhd2YtY29uZmlnRGVzYyB5YXdmLWNvbmZpZ1VzZXJzRGVzYyI+e3t7dGV4dH19fTwvc3Bhbj48aW5wdXQgaWQ9Inlhd2Yte3trZXl9fSIgY2xhc3M9IldfaW5wdXQgeWF3Zi1jb25maWdVc2Vyc0lucHV0IiB0eXBlPSJ0ZXh0IiBuYW1lPSJ5YXdmLXt7a2V5fX0iPjwvbGFiZWw+PGJ1dHRvbiBpZD0ieWF3Zi1hZGQte3trZXl9fSIgY2xhc3M9IldfYnRuX2EgeWF3Zi1jb25maWdBZGQiIHR5cGU9InN1Ym1pdCI+PHNwYW4+e3tjb25maWdVc2Vyc0FkZH19PC9zcGFuPjwvYnV0dG9uPjwvZm9ybT48dWwgY2xhc3M9Inlhd2YtY29uZmlnVXNlcnNJdGVtcyB5YXdmLWNvbmZpZ0l0ZW1zIj48L3VsPjwvZGl2PicsCiAgJ2NvbmZpZ1VzZXJzSXRlbSc6ICc8bGkgY2xhc3M9Inlhd2YtY29uZmlnVXNlcnNJdGVtIj48ZGl2IGNsYXNzPSJzaGllbGRfb2JqZWN0X2NhcmQiPjxkaXYgY2xhc3M9ImNhcmRfYmcgY2xlYXJmaXgiPjxkaXYgY2xhc3M9ImNhcmRfcGljIj48c3BhbiBjbGFzcz0icGljIj48aW1nIGNsYXNzPSJXX2ZhY2VfcmFkaXVzIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGFsdD0iIiBzcmM9Int7YXZhdGFyfX0iPjwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPSJjYXJkX2NvbnRlbnQiPjxkaXYgY2xhc3M9Im9iamVjdF9pbmZvIGNsZWFyZml4Ij48cCBjbGFzcz0iV19mbCI+PHNwYW4gY2xhc3M9Im9iamVjdF9uYW1lIiB1aWQ9Int7aWR9fSIgdGl0bGU9Int7bmFtZX19Ij57e25hbWV9fTwvc3Bhbj48L3A+PHAgY2xhc3M9IldfZnIiPjxhIGNsYXNzPSJXX2ZpY29uIGZpY29uX2Nsb3NlIFNfZmljb24iIGFjdGlvbi1kYXRhPSJ1aWQ9e3tpZH19IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij5YPC9hPjwvcD48L2Rpdj48ZGl2IGNsYXNzPSJvdGhlcl9pbmZvIj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2xpPicsCiAgJ2NvbmZpZ1ByZWZpbGwnOiAnPHNwYW4gY2xhc3M9Inlhd2YtY29uZmlnUHJlZmlsbCIgaWQ9Int7aWR9fSI+PC9zcGFuPicsCiAgJ3NjcmlwdEljb24nOiAnPGRpdiBpZD0ieWF3Zi1zY3JpcHQtaWNvbiIgc3R5bGU9ImJhY2tncm91bmQ6IHVybCh7e2ljb259fSk7IHdpZHRoOiA3MnB4OyBoZWlnaHQ6IDcycHg7IGZsb2F0OiByaWdodDsgbWFyZ2luOiAwIDJlbSI+PC9kaXY+JywKICAncmVmQ29uZmlnSXRlbSc6ICc8c3BhbiB5YXdmLXJlZj0ie3tyZWZ9fSI+PC9zcGFuPicsCiAgLy8g6Ieq5Yqo6KGl5YWo5Yqf6IO9CiAgJ3N1Z2dlc3Rpb25Db250YWluZXInOiAnPGRpdiBjbGFzcz0ibGF5ZXJfbWVudV9saXN0IHlhd2YtYXV0b0NvbXBsZXRlTGlzdCIgeWF3Zi1jb21wbGV0ZS1pdGVtcz0iMCI+PHVsPjwvdWw+PC9kaXY+JywKICAnc3VnZ2VzdGlvbkl0ZW0nOiAnPGxpIHlhd2Ytc3VnZ2VzdGlvbj0ie3t0ZXh0fX0iPjxhPnt7dGV4dH19PC9hPjwvbGk+JywKICAvLyDpgInkuK3lvZPliY3liIbnu4TmiYDmnIkKICAnY29uZmlnU2VsZWN0QWxsJzogJzxkaXYgY2xhc3M9Inlhd2YtY29uZmlnU2VsZWN0QWxsIHlhd2YtY29uZmlnSXRlbSI+PGEgY2xhc3M9IldfYnRuX2IiIGhyZWY9ImphdmFzY3JpcHQ6OyI+PHNwYW4gY2xhc3M9IldfZjEyIj57e2NvbmZpZ1NlbGVjdEFsbERlc2N9fTwvc3Bhbj48L2E+PC9kaXY+JywKICAvLyDlr7zlhaXlr7zlh7oKICAnY29uZmlnSW1wb3J0RXhwb3J0JzogJzxkaXYgY2xhc3M9Inlhd2YtY29uZmlnSW1wb3J0RXhwb3J0IHlhd2YtY29uZmlnSXRlbSI+PGxhYmVsPjxpbnB1dCB0eXBlPSJmaWxlIiBzdHlsZT0iIHdpZHRoOiAxcHg7IGhlaWdodDogMXB4OyBtYXJnaW46IDAgLTFweCAwIDA7IG9wYWNpdHk6IDA7IiAvPjxzcGFuIGNsYXNzPSJXX2J0bl9iIHlhd2YtaW1wb3J0Ij48c3BhbiBjbGFzcz0iV19mMTQiPnt7Y29uZmlnSW1wb3J0QnV0dG9ufX08L3NwYW4+PC9zcGFuPjwvbGFiZWw+PGEgY2xhc3M9IldfYnRuX2IgeWF3Zi1leHBvcnQiIGhyZWY9ImphdmFzY3JpcHQ6OyI+PHNwYW4gY2xhc3M9IldfZjE0Ij57e2NvbmZpZ0V4cG9ydEJ1dHRvbn19PC9zcGFuPjwvYT48YSBjbGFzcz0iV19idG5fYiB5YXdmLXJlc2V0IiBocmVmPSJqYXZhc2NyaXB0OjsiPjxzcGFuIGNsYXNzPSJXX2YxNCI+e3tjb25maWdSZXNldEJ1dHRvbn19PC9zcGFuPjwvYT48L2Rpdj4nLAogICdjb25maWdJbXBvcnRXYnAnOiAnPGRpdiBjbGFzcz0ieWF3Zi1jb25maWdJbXBvcnRXYnAgeWF3Zi1jb25maWdJdGVtIj48YSBjbGFzcz0iV19idG5fYiIgaHJlZj0iamF2YXNjcmlwdDo7Ij48c3BhbiBjbGFzcz0iV19mMTQiPnt7Y29uZmlnSW1wb3J0V2JwQnV0dG9ufX08L3NwYW4+PC9hPjxiciAvPjxkaXYgY2xhc3M9Inlhd2YtZ3JvdXBSZW1hcmsiPnt7Y29uZmlnSW1wb3J0V2JwV2FybmluZ319PC9kaXY+PC9kaXY+JywKICAvLyDmlrDlip/og73mj5DnpLrlr7nor53moYYKICAnd2hhdHNOZXdIZWFkZXInOiAnPGRpdiBjbGFzcz0ieWF3Zi13aGF0cy1uZXctaGVhZGVyIHlhd2Ytd2luZG93LWhlYWRlciI+e3t1cGRhdGVTdWNjZXNzSGVhZGVyfX08L2Rpdj4nLAogICd3aGF0c05ld0JvZHknOiAnPGRpdiBjbGFzcz0ieWF3Zi13aGF0cy1uZXctYm9keSB5YXdmLXdpbmRvdy1ib2R5Ij48ZGl2IGNsYXNzPSJ5YXdmLXdoYXRzLW5ldy1kZXNjIHlhd2Ytd2luZG93LWRlc2MiPnt7dXBkYXRlU3VjY2Vzc0Rlc2N9fTwvZGl2PjwvZGl2PicsCiAgJ3doYXRzTmV3Rm9vdGVyJzogJzxkaXYgY2xhc3M9Inlhd2Ytd2hhdHMtbmV3LWZvb3RlciB5YXdmLXdpbmRvdy1mb290ZXIiPjxociAvPjwvZGl2PicsCiAgJ3doYXRzTmV3Qm90dG9tJzogJzxkaXYgY2xhc3M9Inlhd2Ytd2hhdHMtbmV3LWJvdHRvbSB5YXdmLXdpbmRvdy1ib3R0b20iPjwvZGl2PicsCiAgLy8g5LuOIFdCUCDlr7zlhaXmiJDlip/lr7nor53moYYKICAnd2JwSW1wb3J0U3VjY2Vzc0hlYWRlcic6ICc8ZGl2IGNsYXNzPSJ3YnAtaW1wb3J0LXN1Y2Nlc3MtaGVhZGVyIj57e3dicEltcG9ydFN1Y2Nlc3NIZWFkZXJ9fTwvZGl2PicsCiAgJ3dicEltcG9ydFN1Y2Nlc3NCb2R5JzogJzxkaXYgY2xhc3M9IndicC1pbXBvcnQtc3VjY2Vzcy1ib2R5IHlhd2Ytd2luZG93LWJvZHkiPjxkaXYgY2xhc3M9IndicC1pbXBvcnQtc3VjY2Vzcy1kZXNjIj57e3dicEltcG9ydFN1Y2Nlc3NEZXNjfX08L2Rpdj48L2Rpdj4nLAogIC8vIOWQiOW5tuW3pui+ueagj+WNoOS9jeespgogICdsZWZ0RmFrZSc6ICc8ZGl2IHN0eWxlPSJkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IiBpZD0ieWF3Zi1sZWZ0LWZha2UiPjwvZGl2PicsCiAgLy8g5bem5qCP5pi+56S65raI5oGvCiAgJ2xlZnRNc2dIZWFkZXInOiAnPGRpdiBjbGFzcz0ibGV2X0JveCBsZXZfQm94X25vYm9yZGVyIHlhd2YtbGVmdE1zZyI+PGgzIGNsYXNzPSJsZXYiPjxhIGhyZWY9Ii9hdC93ZWlibz9sZWZ0bmF2PTEiIGNsYXNzPSJTX3R4dDEiIG5vZGUtdHlwZT0iaXRlbSIgc3VkYS11YXRyYWNrPSJrZXk9VjZ1cGRhdGVfbGVmdG5hdmlnYXRlJmFtcDt2YWx1ZT1tZXNzYWdlIiBicGZpbHRlcj0ibWVzc2FnZSI+PHNwYW4gY2xhc3M9ImxldnR4dCI+e3tsZWZ0TmF2TXNnfX08L3NwYW4+PC9hPjwvaDM+JywKICAnbGVmdE1zZ0F0TWUnOiAnPGRpdiBjbGFzcz0ibGV2IiB5YXdmLWlkPSJsZWZ0bmF2X21zZ19hdCI+PGEgY2xhc3M9IlNfdHh0MSIgbm09Im1lbnRpb25fYWxsIiBicGZpbHRlcj0ibWVzc2FnZSIgaHJlZmV4dHJhPSIvYXQvd2VpYm98L2F0L2NvbW1lbnQiIG50PSJtZW50aW9uIiBub2RlLXR5cGU9Iml0ZW0iIGhyZWY9Ii9hdC93ZWlibz9sZWZ0bmF2PTEmYW1wO3d2cj02JmFtcDtub2ZpbHRlcj0xIj48c3BhbiBjbGFzcz0iaWNvX2Jsb2NrIj48ZW0gbm9kZS10eXBlPSJsZWZ0X2l0ZW0iIGNsYXNzPSJXX2ZpY29uIGZpY29uX2RvdCBTX2ZpY29uIj5EPC9lbT48L3NwYW4+PHNwYW4gY2xhc3M9ImxldnR4dCI+e3tsZWZ0TmF2QXRNZX19PC9zcGFuPjwvYT48L2Rpdj4nLAogICdsZWZ0TXNnQ210JzogJzxkaXYgY2xhc3M9ImxldiIgeWF3Zi1pZD0ibGVmdG5hdl9tc2dfY210Ij48YSBjbGFzcz0iU190eHQxIiBubT0iY210X2FsbCIgYnBmaWx0ZXI9Im1lc3NhZ2UiIGhyZWZleHRyYT0iL2NvbW1lbnQvaW5ib3h8L2NvbW1lbnQvb3V0Ym94IiBub2RlLXR5cGU9Iml0ZW0iIGhyZWY9Ii9jb21tZW50L2luYm94P2xlZnRuYXY9MSZhbXA7d3ZyPTYiPjxzcGFuIGNsYXNzPSJpY29fYmxvY2siPjxlbSBub2RlLXR5cGU9ImxlZnRfaXRlbSIgY2xhc3M9IldfZmljb24gZmljb25fZG90IFNfZmljb24iPkQ8L2VtPjwvc3Bhbj48c3BhbiBjbGFzcz0ibGV2dHh0Ij57e2xlZnROYXZDbXR9fTwvc3Bhbj48L2E+PC9kaXY+JywKICAnbGVmdE1zZ0xpa2UnOiAnPGRpdiBjbGFzcz0ibGV2IiB5YXdmLWlkPSJsZWZ0bmF2X21zZ19saWtlIj48YSBjbGFzcz0iU190eHQxIiBubT0iYXR0aXR1ZGUiIGJwZmlsdGVyPSJtZXNzYWdlIiBub2RlLXR5cGU9Iml0ZW0iIGhyZWY9Ii9saWtlL2luYm94P2xlZnRuYXY9MSZhbXA7d3ZyPTYiPjxzcGFuIGNsYXNzPSJpY29fYmxvY2siPjxlbSBub2RlLXR5cGU9ImxlZnRfaXRlbSIgY2xhc3M9IldfZmljb24gZmljb25fZG90IFNfZmljb24iPkQ8L2VtPjwvc3Bhbj48c3BhbiBjbGFzcz0ibGV2dHh0Ij57e2xlZnROYXZMaWtlfX08L3NwYW4+PC9hPjwvZGl2PicsCiAgJ2xlZnRNc2dETSc6ICc8ZGl2IGNsYXNzPSJsZXYiIHlhd2YtaWQ9ImxlZnRuYXZfbXNnX2RtIj48YSBjbGFzcz0iU190eHQxIiBubT0iZG0iIGJwZmlsdGVyPSJtZXNzYWdlIiBocmVmZXh0cmE9Ii9tZXNzYWdlc3wvbWVzc2FnZS9oaXN0b3J5IiBub2RlLXR5cGU9Iml0ZW0iIGhyZWY9Ii9tZXNzYWdlcz9sZWZ0bmF2PTEmYW1wO3d2cj02Ij48c3BhbiBjbGFzcz0iaWNvX2Jsb2NrIj48ZW0gbm9kZS10eXBlPSJsZWZ0X2l0ZW0iIGNsYXNzPSJXX2ZpY29uIGZpY29uX2RvdCBTX2ZpY29uIj5EPC9lbT48L3NwYW4+PHNwYW4gY2xhc3M9ImxldnR4dCI+e3tsZWZ0TmF2RE19fTwvc3Bhbj48L2E+PC9kaXY+JywKICAnbGVmdE1zZ0JveCc6ICc8ZGl2IGNsYXNzPSJsZXYiIHlhd2YtaWQ9ImxlZnRuYXZfbXNnX21zZ2JveCI+PGEgY2xhc3M9IlNfdHh0MSIgbm09Im1zZ2JveF9jIiBicGZpbHRlcj0ibWVzc2FnZSIgbm9kZS10eXBlPSJpdGVtIiBocmVmPSIvbm90ZXNib2FyZD9sZWZ0bmF2PTEmYW1wO3d2cj02Ij48c3BhbiBjbGFzcz0iaWNvX2Jsb2NrIj48ZW0gbm9kZS10eXBlPSJsZWZ0X2l0ZW0iIGNsYXNzPSJXX2ZpY29uIGZpY29uX2RvdCBTX2ZpY29uIj5EPC9lbT48L3NwYW4+PHNwYW4gY2xhc3M9ImxldnR4dCI+e3tsZWZ0TmF2TXNnQm94fX08L3NwYW4+PC9hPjwvZGl2PicsCiAgJ2xlZnRNc2dHcm91cCc6ICc8ZGl2IGNsYXNzPSJsZXYiIHlhd2YtaWQ9ImxlZnRuYXZfbXNnX2dyb3VwIj48YSBjbGFzcz0iU190eHQxIiBubT0iY2hhdF9ncm91cF9ub3RpY2UiIGJwZmlsdGVyPSJtZXNzYWdlIiBub2RlLXR5cGU9Iml0ZW0iIGhyZWY9Ii9tZXNzYWdlcz9sZWZ0bmF2PTEmYW1wO3d2cj02JmFtcDtpc19ub3RpY2U9MSI+PHNwYW4gY2xhc3M9Imljb19ibG9jayI+PGVtIG5vZGUtdHlwZT0ibGVmdF9pdGVtIiBjbGFzcz0iV19maWNvbiBmaWNvbl9kb3QgU19maWNvbiI+RDwvZW0+PC9zcGFuPjxzcGFuIGNsYXNzPSJsZXZ0eHQiPnt7bGVmdE5hdkdyb3VwfX08L3NwYW4+PC9hPjwvZGl2PicsCiAgJ2xlZnRNc2dETVN1Yic6ICc8ZGl2IGNsYXNzPSJsZXYiIHlhd2YtaWQ9ImxlZnRuYXZfbXNnX2Rtc3ViIj48YSBjbGFzcz0iU190eHQxIiBubT0iZG1fZ3JvdXAiIGJwZmlsdGVyPSJtZXNzYWdlIiBub2RlLXR5cGU9Iml0ZW0iIGhyZWY9Ii9tZXNzYWdlL3N1Yj9sZWZ0bmF2PTEmd3ZyPTYiPjxzcGFuIGNsYXNzPSJpY29fYmxvY2siPjxlbSBjbGFzcz0iV19maWNvbiBmaWNvbl9kb3QgU19maWNvbiIgbm9kZS10eXBlPSJsZWZ0X2l0ZW0iPkQ8L2VtPjwvc3Bhbj48c3BhbiBjbGFzcz0ibGV2dHh0Ij57e2xlZnROYXZETVN1Yn19PC9zcGFuPjwvYT48L2Rpdj4nLAogICdsZWZ0TXNnRm9vdGVyJzogJzwvZGl2PicsCiAgLy8g5Y+z5L6n5qCP5pS26JeP55So5oi35YiX6KGoCiAgJ3JpZ2h0VXNlckxpc3QnOiAnPGRpdiBpZD0ieWF3Zi1yaWdodG1vZF91c2VybGlzdCI+PGRpdiBjbGFzcz0iV0JfY2FyZHdyYXAgU19iZzIiPjxkaXYgdWNhcmRjb25mPSJ0eXBlPTEiIGNsYXNzPSJXQl9yaWdodF9tb2R1bGUiPjxkaXYgY2xhc3M9IldCX2NhcmR0aXRsZV9iIFNfbGluZTIiPjxoNCBjbGFzcz0ib2JqX25hbWUiPjxzcGFuIHRpdGxlPSJ7e3JpZ2h0VXNlckxpc3RUaXRsZX19IiBjbGFzcz0ibWFpbl90aXRsZSBXX2ZiIFdfZjE0IFNfdHh0MSI+PC9hPnt7cmlnaHRVc2VyTGlzdFRpdGxlfX08L2g0PjxkaXYgY2xhc3M9Im9wdF9ib3giPjxhIGNsYXNzPSJXX2ZpY29uIGZpY29uX3NldHVwIFNfZmljb24iPko8L2E+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iV0JfaW5uZXJ3cmFwIj48ZGl2IGNsYXNzPSJtX3dyYXAgY2xlYXJmaXgiPjx1bCBjbGFzcz0iZ3JvdXBfbGlzdCI+PC91bD48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nLAogICdyaWdodFVzZXJMaXN0SXRlbSc6ICc8bGkgbm9kZS10eXBlPSJyb3ciIGNsYXNzPSJTX2xpbmUyIj48ZGl2IGNsYXNzPSJwaWMiPjxhIGhyZWY9Ii91L3t7aWR9fSIgdGl0bGU9Int7bmFtZX19IiB0YXJnZXQ9Il9ibGFuayI+PGltZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHNyYz0ie3thdmF0YXJ9fSIgYWx0PSJ7e25hbWV9fSIgdXNlcmNhcmQ9ImlkPXt7aWR9fSI+PC9hPjwvZGl2PjxkaXYgY2xhc3M9ImNvbiI+PHAgY2xhc3M9Im5hbWUiPjxhIHVzZXJjYXJkPSJpZD17e2lkfX0iIGhyZWY9Ii91L3t7aWR9fSIgY2xhc3M9IlNfdHh0MSBXX2ZiIj57e25hbWV9fTwvYT48c3BhbiBjbGFzcz0iV19uZXciIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvc3Bhbj48L3A+PC9kaXY+PC9saT4nLAogICdyaWdodFVzZXJMaXN0Q29uZmlnJzogJzxkaXYgY2xhc3M9Inlhd2YtZmF2ZS1wZW9wbGUtY29uZmlnLWJvZHkgeWF3Zi13aW5kb3ctYm9keSI+PC9kaXY+JywKICAvLyDlsY/olL3lvq7ljZoKICAnaGlkZUJveFNpbXBsZSc6ICc8ZGl2IGNsYXNzPSJ5YXdmLWhpZGVfYm94Ij48YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiB0aXRsZT0ie3toaWRlVGhpc1dlaWJvfX0iPjxpIGNsYXNzPSJXX2ZpY29uIGZpY29uX2Nsb3NlIFNfZmljb24iPlg8L2k+PC9hPjwvZGl2PicsCiAgLy8g5p+l55yL5Y6f5Zu+CiAgJ3ZpZXdPcmlnaW5hbExpbmsnOiAnPGxpPjxzcGFuIGNsYXNzPSJsaW5lIFNfbGluZTEiPjxhIGNsYXNzPSJTX3R4dDEiIGhyZWY9ImphdmFzY3JpcHQ6OyIgdGFyZ2V0PSJfYmxhbmsiPjxpIGNsYXNzPSJXX2ZpY29uIGZpY29uX3NlYXJjaCBTX2ZpY29uIj5sPC9pPnt7dmlld09yaWdpbmFsVGV4dH19PC9hPjwvc3Bhbj48L2xpPicsCiAgJ3ZpZXdPcmlnaW5hbEZDTGluayc6ICc8YSBpbWFnZWNhcmQ9InBpZD17e3BpZH19IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij48aSBjbGFzcz0iV19maWNvbiBmaWNvbl9jZF9pbWcgV0JmaWNvbiI+wqE8L2k+e3t2aWV3T3JpZ2luYWxGQ1RleHR9fTwvYT4nLAogIC8vIOinhumikeaSreaUvgogICd2aWRlb01lZGlhRGlzcGxheSc6ICc8ZGl2IGNsYXNzPSJXQl9leHBhbmRfbWVkaWEgU19iZzEiPjxkaXYgY2xhc3M9InRhYl9mZWVkX2EgY2xlYXJmaXgiPjxkaXYgY2xhc3M9InRhYiI+PHVsIGNsYXNzPSJjbGVhcmZpeCI+PGxpPjxzcGFuIGNsYXNzPSJsaW5lIFNfbGluZTEiPjxhIGNsYXNzPSJTX3R4dDEiIGhyZWY9ImphdmFzY3JpcHQ6OyIgYWN0aW9uLXR5cGU9ImZlZWRfbGlzdF9tZWRpYV90b1NtYWxsIj48aSBjbGFzcz0iV19maWNvbiBmaWNvbl9hcnJvd19mb2xkIFNfZmljb24iPms8L2k+e3tmb2xkRGV0YWlsc319PC9hPjwvc3Bhbj48L2xpPjwvdWw+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iV0JfYXBwX3ZpZXciIG5vZGUtdHlwZT0iZmVlZF9saXN0X21lZGlhX3dpZGdldERpdiI+PGltZyBjbGFzcz0ibG9hZGluZ19naWYiIHNyYz0iaHR0cDovL2ltZy50LnNpbmFqcy5jbi90Ni8vc3R5bGUvaW1hZ2VzL2NvbW1vbi9sb2FkaW5nLmdpZiI+PC9kaXY+PC9kaXY+JywKICAndmlkZW9NZWRpYVBsYXllcic6ICc8dmlkZW8gc3JjPSJ7e3VybH19IiBhdXRvcGxheT0iYXV0b3BsYXkiIGNvbnRyb2xzPSJjb250cm9scyIgc3R5bGU9Im1heC13aWR0aDogNDgycHg7IG1heC1oZWlnaHQ6IDQ4MnB4OyI+PC92aWRlbz4nLAogIC8vIOaLluaLvQogICdkcm9wQXJlYSc6ICc8ZGl2IGlkPSJ5YXdmLWRyb3AtYXJlYSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48ZGl2IGNsYXNzPSJ5YXdmLWRyb3AtYXJlYS1kZXNjIj48ZGl2IGNsYXNzPSJ5YXdmLWRyb3AtYXJlYS10aXRsZSI+e3tkcm9wQXJlYVRpdGxlfX08L2Rpdj48ZGl2IGNsYXNzPSJ5YXdmLWRyb3AtYXJlYS10ZXh0Ij57e2Ryb3BBcmVhVGV4dH19PC9kaXY+PC9kaXY+PGRpdiBjb250ZW50ZWRpdGFibGU9InRydWUiIGlkPSJ5YXdmLWRyb3AtYXJlYS1jb250ZW50Ij48L2Rpdj48L2Rpdj4nLAogICdmYXN0RmlsdGVySGVhZGVyJzogJzxkaXYgaWQ9Inlhd2YtZmFzdC1maWx0ZXItY2hvc2UiPjxkaXYgY2xhc3M9Inlhd2YtZmFzdC1maWx0ZXItb3B0aW9uIj48c3BhbiBjbGFzcz0ieWF3Zi1mYXN0LWZpbHRlci10ZXh0Ij57e2Zhc3RGaWx0ZXJDaG9zZVRleHR9fTwvc3Bhbj48dWwgaWQ9Inlhd2YtZmFzdC1maWx0ZXItbGlzdCI+JywKICAnZmFzdEZpbHRlckl0ZW0nOiAnPGxpIGNsYXNzPSJ5YXdmLWZhc3QtZmlsdGVyLWl0ZW0iPjxsYWJlbD48aW5wdXQgY2xhc3M9IldfY2hlY2tib3ggeWF3Zi1jb25maWdCb29sZWFuSW5wdXQiIHR5cGU9ImNoZWNrYm94Ij48c3BhbiBjbGFzcz0ieWF3Zi1mYXN0RmlsdGVySXRlbUlubmVyIj48L3NwYW4+PC9sYWJlbD48c2VsZWN0IHZhbHVlPSJibGFja2xpc3QiPjxvcHRpb24gdmFsdWU9IndoaXRlbGlzdCI+e3t3aGl0ZWxpc3RBY3Rpb25EZXNjfX08L29wdGlvbj48b3B0aW9uIHZhbHVlPSJibGFja2xpc3QiPnt7YmxhY2tsaXN0QWN0aW9uRGVzY319PC9vcHRpb24+PG9wdGlvbiB2YWx1ZT0iZm9sZGxpc3QiPnt7Zm9sZGxpc3RBY3Rpb25EZXNjfX08L29wdGlvbj48L3NlbGVjdD48L2xpPicsCiAgJ2Zhc3RGaWx0ZXJGb290ZXInOiAnPC91bD48L2Rpdj48ZGl2IGNsYXNzPSJXX2xheWVyX2J0biBTX2JnMiI+PGEgYWN0aW9uLXR5cGU9Im9rIiBub2RlLXR5cGU9Im9rIiBjbGFzcz0iV19idG5fYSBidG5fMzRweCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PHNwYW4+e3tva0J1dHRvblRpdGxlfX08L3NwYW4+PC9hPjxhIGFjdGlvbi10eXBlPSJjYW5jZWwiIG5vZGUtdHlwZT0iY2FuY2VsIiBjbGFzcz0iV19idG5fYiBidG5fMzRweCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PHNwYW4+e3tjYW5jZWxCdXR0b25UaXRsZX19PC9zcGFuPjwvYT48L2Rpdj48L2Rpdj4nLAogICdmYXN0RmlsdGVyU3RyaW5nJzogJzxsYWJlbD48c3Bhbj48L3NwYW4+PC9sYWJlbD4nLAogICdmYXN0RmlsdGVyU3RyaW5nSW5wdXQnOiAnPGlucHV0IHdpZHRoPSIxMiIgY2xhc3M9ImlucHV0X2RlZmF1bHQiIHR5cGU9InRleHQiIC8+JywKICAvLyDoh6rliqjmo4Dmn6XlhbPms6jliJfooajlj5HnlJ/nmoTlj5jljJYKICAnYXV0b0NoZWNrRm9sbG93aW5nQm9keSc6ICc8ZGl2PjxkaXYgY2xhc3M9Inlhd2YtZm9sbG93aW5nLW5vdGljZS1oZWFkZXIgeWF3Zi13aW5kb3ctaGVhZGVyIj57e2F1dG9DaGVja0ZvbGxvd2luZ1RpdGxlfX08L2Rpdj48ZGl2IGNsYXNzPSJ5YXdmLWZvbGxvd2luZy1ub3RpY2UtYm9keSB5YXdmLXdpbmRvdy1ib2R5Ij48ZGl2IGNsYXNzPSJ5YXdmLWZvbGxvd2luZy1ub3RpY2UtZGVzYyB5YXdmLXdpbmRvdy1kZXNjIj57e2F1dG9DaGVja0ZvbGxvd2luZ1RpcH19PC9kaXY+PGRpdiBjbGFzcz0ieWF3Zi1mb2xsb3dpbmctbm90aWNlLXRleHQiIHN0eWxlPSJtYXJnaW4tdG9wOjVweDsiPnt7YXV0b0NoZWNrRm9sbG93aW5nVGlwRGV0YWlsfX08L2Rpdj48ZGl2IGNsYXNzPSJ5YXdmLWZvbGxvd2luZy1hZGQiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PGRpdiBjbGFzcz0ieWF3Zi1mb2xsb3dpbmctaXRlbXMtdGl0bGUiPnt7YXV0b0NoZWNrRm9sbG93aW5nQWRkfX08L2Rpdj48ZGl2IGNsYXNzPSJ5YXdmLWZvbGxvd2luZy1pdGVtcy1jb250YWluZXIiPjx1bCBjbGFzcz0ieWF3Zi1jb25maWdVc2Vyc0l0ZW1zIHlhd2YtY29uZmlnSXRlbXMiPjwvdWw+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0ieWF3Zi1mb2xsb3dpbmctbG9zdCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48ZGl2IGNsYXNzPSJ5YXdmLWZvbGxvd2luZy1pdGVtcy10aXRsZSI+e3thdXRvQ2hlY2tGb2xsb3dpbmdMb3N0fX08L2Rpdj48ZGl2IGNsYXNzPSJ5YXdmLWZvbGxvd2luZy1pdGVtcy1jb250YWluZXIiPjx1bCBjbGFzcz0ieWF3Zi1jb25maWdVc2Vyc0l0ZW1zIHlhd2YtY29uZmlnSXRlbXMiPjwvdWw+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBub2RlLXR5cGU9ImNvbmZpcm1Cb3giIGNsYXNzPSJ5YXdmLWZvbGxvd2luZy1ub3RpY2UtYnV0dG9ucyB5YXdmLXdpbmRvdy1idXR0b25zIFdfbGF5ZXJfYnRuIFNfYmcxIj48YSBjbGFzcz0ieWF3Zi1mb2xsb3dpbmctbm90aWNlLWNvbmZpcm0gV19idG5fYSBidG5fMzRweCIgbm9kZS10eXBlPSJjb25maXJtIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiPnt7b2tCdXR0b25UaXRsZX19PC9hPjwvZGl2PjwvZGl2PicsCiAgJ2F1dG9DaGVja0ZvbGxvd2luZ0l0ZW0nOiAnPGxpIGNsYXNzPSJ5YXdmLWNvbmZpZ1VzZXJzSXRlbSI+PGRpdiBjbGFzcz0ic2hpZWxkX29iamVjdF9jYXJkIj48ZGl2IGNsYXNzPSJjYXJkX2JnIGNsZWFyZml4Ij48ZGl2IGNsYXNzPSJjYXJkX3BpYyI+PHNwYW4gY2xhc3M9InBpYyI+PGEgaHJlZj0ie3tkb21haW5VUkx9fS91L3t7aWR9fSIgdGFyZ2V0PSJfYmxhbmsiPjxpbWcgY2xhc3M9IldfZmFjZV9yYWRpdXMiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgYWx0PSIiIHNyYz0ie3thdmF0YXJ9fSIgdXNlcmNhcmQ9ImlkPXt7aWR9fSIgLz48L2E+PC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9ImNhcmRfY29udGVudCI+PGRpdiBjbGFzcz0ib2JqZWN0X2luZm8gY2xlYXJmaXgiPjxwIGNsYXNzPSJXX2ZsIj48YSBocmVmPSJ7e2RvbWFpblVSTH19L3Uve3tpZH19IiB0YXJnZXQ9Il9ibGFuayIgdXNlcmNhcmQ9ImlkPXt7aWR9fSIgY2xhc3M9Im9iamVjdF9uYW1lIFNfdHh0MSIgdWlkPSJ7e2lkfX0iIHRpdGxlPSJ7e25hbWV9fSI+e3tuYW1lfX08L2E+PC9wPjxwIGNsYXNzPSJXX2ZyIj48L3A+PC9kaXY+PGRpdiBjbGFzcz0ib3RoZXJfaW5mbyI+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9saT4nLAogICdhdXRvQ2hlY2tGb2xsb3dpbmdPdGhlckl0ZW0nOiAnPGxpIGNsYXNzPSJ5YXdmLWNvbmZpZ1VzZXJzSXRlbSI+PGRpdiBjbGFzcz0ic2hpZWxkX29iamVjdF9jYXJkIj48ZGl2IGNsYXNzPSJjYXJkX2JnIGNsZWFyZml4Ij48ZGl2IGNsYXNzPSJjYXJkX3BpYyI+PHNwYW4gY2xhc3M9InBpYyI+PGEgaHJlZj0ie3tocmVmfX0iIHRhcmdldD0iX2JsYW5rIj48aW1nIGNsYXNzPSJXX2ZhY2VfcmFkaXVzIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGFsdD0iIiBzcmM9Int7YXZhdGFyfX0iIC8+PC9hPjwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPSJjYXJkX2NvbnRlbnQiPjxkaXYgY2xhc3M9Im9iamVjdF9pbmZvIGNsZWFyZml4Ij48cCBjbGFzcz0iV19mbCI+PGEgaHJlZj0ie3tocmVmfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0ib2JqZWN0X25hbWUgU190eHQxIiB0aXRsZT0ie3tuYW1lfX0iPnt7bmFtZX19PC9hPjwvcD48cCBjbGFzcz0iV19mciI+PC9wPjwvZGl2PjxkaXYgY2xhc3M9Im90aGVyX2luZm8iPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvbGk+JywKICAnYXV0b0NoZWNrRm9sbG93aW5nQ29uZmlnJzogJzxkaXYgc3R5bGU9Im1hcmdpbjogMCAwIDAgNGVtOyI+e3thdXRvQ2hlY2tGb2xsb3dpbmdMYXN0VGltZX19PHNwYW4gY2xhc3M9Inlhd2YtZm9sbG93aW5nLWxhc3QiPjwvc3Bhbj48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGNsYXNzPSJXX2J0bl9iIHlhd2YtZm9sbG93aW5nLWNoZWNrLW5vdyIgc3R5bGU9ImRpc3BsYXk6bm9uZTsgbWFyZ2luLWxlZnQ6MWVtOyI+PHNwYW4gY2xhc3M9IldfZjE0Ij57e2F1dG9DaGVja0ZvbGxvd2luZ05vd319PC9zcGFuPjwvYT48c3BhbiBjbGFzcz0ieWF3Zi1mb2xsb3dpbmctY2hlY2tpbmciIHN0eWxlPSJkaXNwbGF5Om5vbmU7IG1hcmdpbi1sZWZ0OjFlbTsiPnt7YXV0b0NoZWNrRm9sbG93aW5nUnVubmluZ319PC9zcGFuPjxhIGhyZWY9ImphdmFzY3JpcHQ6OyIgY2xhc3M9IldfYnRuX2IgeWF3Zi1mb2xsb3dpbmctY2xlYXIiIHN0eWxlPSJkaXNwbGF5Om5vbmU7IG1hcmdpbi1sZWZ0OjFlbTsiPjxzcGFuIGNsYXNzPSJXX2YxNCI+e3thdXRvQ2hlY2tGb2xsb3dpbmdDbGVhbn19PC9zcGFuPjwvYT48L2Rpdj4nLAogIC8vIOihqOaDhei+k+WFpQogICdmYXN0RW1vamlJbnB1dCc6ICc8ZGl2IGNsYXNzPSJmYWNlc19saXN0IHlhd2YtZmFjZXNfbGlzdCIgbm9kZS10eXBlPSJzY3JvbGxWaWV3Ij48ZGl2IHlhd2YtZmFjZT0idG9wIiBub2RlLXR5cGU9Imxpc3QiPjxzcGFuPnt7ZmFzdEVtb2ppSW5wdXRUb3B9fTwvc3Bhbj48dWw+PGxpPjwvbGk+PGxpPjwvbGk+PGxpPjwvbGk+PGxpPjwvbGk+PGxpPjwvbGk+PGxpPjwvbGk+PGxpPjwvbGk+PGxpPjwvbGk+PGxpPjwvbGk+PGxpPjwvbGk+PC91bD48c3BhbiBpZD0ieWF3Zi1mYWNlLWRyb3AtYXJlYSI+e3tmYXN0RW1vamlJbnB1dFRvcE5vdGljZX19PC9zcGFuPjwvZGl2PjxkaXYgeWF3Zi1mYWNlPSJyZWNlbnQiIG5vZGUtdHlwZT0ibGlzdCI+PHNwYW4+e3tmYXN0RW1vamlJbnB1dFJlY2VudH19PC9zcGFuPjx1bD48bGk+PC9saT48bGk+PC9saT48bGk+PC9saT48bGk+PC9saT48bGk+PC9saT48bGk+PC9saT48bGk+PC9saT48bGk+PC9saT48bGk+PC9saT48bGk+PC9saT48L3VsPjwvZGl2PjwvZGl2PicsCiAgJ2Zhc3RFbW9qaUxpc3RJdGVtJzogJzxsaSB0aXRsZT0ie3t0aXRsZX19IiBhY3Rpb24tZGF0YT0iaW5zZXJ0PXt7dGV4dH19IiBhY3Rpb24tdHlwZT0ic2VsZWN0Ij48aW1nIHNyYz0ie3tpbWd9fSI+PC9saT4nLAogICdmYXN0RW1vamlMaXN0SXRlbUlNJzogJzxsaSB0aXRsZT0ie3t0ZXh0fX0iIGFjdGlvbi1kYXRhPSJ0ZXh0PXt7dGV4dH19IiBhY3Rpb24tdHlwZT0id2ViaW1fcGhpel9mYWNlIj48aW1nIHNyYz0ie3tpbWd9fSI+PC9saT4nLAogICdmYXN0RW1vamlDbGVhckJ1dHRvbic6ICc8YSBjbGFzcz0iV19idG5fYiB5YXdmLWNsZWFyLWVtb2ppIiBocmVmPSJqYXZhc2NyaXB0OjsiPjxzcGFuIGNsYXNzPSJXX2YxNCI+e3tmYXN0RW1vamlDbGVhcn19PC9zcGFuPjwvYT4nLAogIC8vIOWPqueci+W+ruWNmuWIl+ihqAogICd3ZWlib09ubHlCdXR0b24nOiAnPGRpdiBpZD0ieWF3Zi13ZWliby1vbmx5Ij48c3Bhbj48YSBjbGFzcz0iU190eHQxIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij57e3dlaWJvT25seUJ1dHRvbkRlc2N9fTwvYT48L3NwYW4+PC9kaXY+JywKICAvLyDliIbnu4TmiJbnibnliKvlhbPms6jnmoTmnKror7vmj5DnpLoKICAnbm90aWNlQ29udGFpbmVyJzogJzxkaXYgY2xhc3M9IldCX2ZlZWRfdHlwZSBTV19mdW4gU19saW5lMiIgYWN0aW9uLXR5cGU9ImZlZWRfbGlzdF9pdGVtIiB5YXdmLWRpc3BsYXk9Im5vdGljZSI+PC9kaXY+JywKICAvLyDmnInmlrDlvq7ljZrnmoTmm7/ku6Pmj5DnpLoKICAnZmVlZExpc3ROZXdCYXInOiAnPGRpdiBjbGFzcz0iV0JfY2FyZHdyYXAgV0Jfbm90ZXMiIHlhd2YtaWQ9ImhvbWVfbmV3X2ZlZWRfdGlwIj48YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij48L2E+PC9kaXY+JywKICAnZmVlZFRpbWVUaXAnOiAnPGRpdiBjbGFzcz0iV0JfY2FyZHdyYXAgU19iZzIgeWF3Zi10aW1lVGlwIj48ZGl2IGNsYXNzPSJXQl9jYXJkdGl0bGVfYSBXX3RjIj48YSBub2RlLXR5cGU9ImZlZWRfbGlzdF9pdGVtX2RhdGUiIGRhdGU9Int7ZGF0ZX19IiBzdHlsZT0iY29sb3I6aW5oZXJpdCI+PC9hPiB7e3t0aW1lfX19PC9kaXY+PC9kaXY+JywKICAvLyDpobbmoI/lvr3moIcKICAnbmF2TG9nbyc6ICc8c3BhbiBjbGFzcz0ibG9nbyI+PC9zcGFuPicsCiAgLy8g6aG25qCP5o+Q56S6CiAgJ3RvcE1lbnVMaXN0VGlwcyc6ICc8ZGl2IGNsYXNzPSJnbl90b3BtZW51bGlzdF90aXBzIHlhd2YtZ25fdG9wbWVudWxpc3RfdGlwcyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBjbGFzcz0iV19maWNvbiBmaWNvbl9jbG9zZSBTX2ZpY29uIj5YPC9hPjx1bD48L3VsPjwvZGl2PicsCiAgLy8g5p2l6IeqIOW+ruWNmiB3ZWliby5jb20KICAnd2VpYm9WaWFXZWlib0NvbSc6ICc8YSByZWw9Im5vZm9sbG93IiBocmVmPSJodHRwOi8vd2VpYm8uY29tLyIgdGFyZ2V0PSJfYmxhbmsiIGFjdGlvbi10eXBlPSJhcHBfc291cmNlIiBjbGFzcz0iU190eHQyIj57e2RlZmF1bHRTb3VyY2V9fTwvYT4nLAogIC8vIOS6jOe6p+ivhOiuuuWxleW8gAogICd1bmZvbGRDaGlsZENvbW1lbnQnOiAnPGEgY2xhc3M9IlNfdHh0MSIgYWN0aW9uLXR5cGU9ImNsaWNrX21vcmVfY2hpbGRfY29tbWVudF9iaWciIGFjdGlvbi1kYXRhPSJtb3JlX2NvbW1lbnQ9YmlnJmFtcDtyb290X2NvbW1lbnRfaWQ9e3tjb21tZW50X2lkfX0mYW1wO2lzX2NoaWxkX2NvbW1lbnQ9dHVyZSZhbXA7aWQ9e3ttaWR9fSI+KHt7Y2hpbGRfY291bnR9fSk8L2E+JywKfTsKCi8vIOWFtuS7luWcqOWhq+WGmeagvOW8j+WMluWtl+espuS4suaXtuiHquWKqOWhq+WGmeeahOWGheWuuQp2YXIgZmlsbCA9IHsKICAnZG9tYWluVVJMJzogewogICAgJ3RvU3RyaW5nJzogZnVuY3Rpb24gKCkgewogICAgICBpZiAoZG9jdW1lbnQuZG9tYWluID09PSAnd3d3LndlaWJvLmNvbScpIHJldHVybiAnaHR0cDovL3d3dy53ZWliby5jb20nOwogICAgICByZXR1cm4gJ2h0dHA6Ly93ZWliby5jb20nOwogICAgfQogIH0sCn07CgovLyDotoXpk77mjqUKdmFyIHVybCA9IHsKICAnbmV3Y2FyZCc6ICd7e2RvbWFpblVSTH19L2FqL3VzZXIvbmV3Y2FyZD90eXBlPTEme3txdWVyeX19Jl90PTEmY2FsbGJhY2s9e3tjYWxsYmFja319JywKICAndmlld19jbXRfb3JpJzogJ2h0dHA6Ly93dzEuc2luYWltZy5jbi9sYXJnZS97e3BpZH19LmpwZycsCiAgJ2Jsb2NrX3diJzogJ3t7ZG9tYWluVVJMfX0vYWovdXNlci9ibG9jaz9hand2cj02JywKICAnZGVsX2NtdCc6ICd7e2RvbWFpblVSTH19L2FqL2NvbW1lbnQvZGVsP2Fqd3ZyPTYnLAogICd2aWRlb19zaG93JzogJ2h0dHA6Ly92aWRlby53ZWliby5jb20vc2hvdz9maWQ9e3tpZH19JywKICAndXNlcic6ICd7e2RvbWFpblVSTH19L3Uve3t1aWR9fScsCiAgJ3RvcHN1Z2dlc3QnOiAnaHR0cDovL3Mud2VpYm8uY29tL2FqYXgvdG9wc3VnZ2VzdC5waHA/a2V5PXt7cXVlcnl9fSZfdj17e2NhbGxiYWNrfX0nLAogICd0b3BpY3N1Z2dlc3QnOiAne3tkb21haW5VUkx9fS9hai9tYmxvZy90b3BpYz9hand2cj02JnE9e3txdWVyeX19JywKICAnYXR0ZW50aW9uJzogJ3t7ZG9tYWluVVJMfX0vYWovbWJsb2cvYXR0ZW50aW9uP2Fqd3ZyPTYmcT17e3F1ZXJ5fX0nLAogICdnZXRsb25ndGV4dCc6ICd7e2RvbWFpblVSTH19L3AvYWovbWJsb2cvZ2V0bG9uZ3RleHQ/YWp3dnI9NiZtaWQ9e3ttaWR9fScsCiAgJ215Zm9sbG93JzogJ3t7ZG9tYWluVVJMfX0ve3t1aWR9fS9teWZvbGxvdycsCiAgJ3N0b2NrJzogJ3t7ZG9tYWluVVJMfX0vcC8yMzA2Nzd7e3N0b2NraWR9fScsCiAgJ3RvcGljJzogJ3t7ZG9tYWluVVJMfX0vay97e3RvcGljfX0nLAp9OwoKdmFyIGZvbnQgPSB7CiAgJ3dlc3QnOiBbCiAgICBbJ1RpbWVzJywgJ1RpbWVzJ10sCiAgICBbJyJUaW1lcyBOZXcgUm9tYW4iJywgJ1RpbWVzIE5ldyBSb21hbiddLAogICAgWydHZW9yZ2lhJywgJ0dlb3JnaWEnXSwKICAgIFsnQXJpYWwnLCAnQXJpYWwnXSwKICAgIFsnSGVsdmV0aWNhJywgJ0hlbHZldGljYSddLAogICAgWydWZXJkYW5hJywgJ1ZlcmRhbmEnXSwKICAgIFsnIi5TRk5TRGlzcGxheS1SZWd1bGFyIicsICdTYW4gRnJhbmNpc2NvJ10sCiAgXSwKICAnY2hpbmVzZSc6IFsKICAgIFsnIlNpbVN1biIsICLlrovkvZMiJywgJ+S4reaYk+Wui+S9kyddLAogICAgWyciSGVpdGkgU0MiLCAi6buR5L2TLeeugCInLCAn6buR5L2TLeeugCddLAogICAgWyciUGluZ0ZhbmcgU0MiLCAi6Iu55pa5LeeugCInLCAn6Iu55pa5LeeugCddLAogICAgWyciU1RIZWl0aSIsICLljY7mlofpu5HkvZMiJywgJ+WNjuaWh+m7keS9kyddLAogICAgWyciSGlyYWdpbm8gU2FucyBHQiIsICLlhqzpnZLpu5HkvZPnroDkvZPkuK3mlociJywgJ+WGrOmdkum7keS9kyddLAogICAgWyciTWljcm9zb2Z0IFlhSGVpIiwgIuW+rui9r+mbhem7kSInLCAn5b6u6L2v6ZuF6buRJ10sCiAgICBbJyJEZW5nWGlhbiIsICLnrYnnur8iJywgJ+etiee6vyddLAogICAgWyciV2VuUXVhbllpIFplbiBIZWkiLCAi5paH5rOJ6am/5q2j6buRIicsICfmlofms4npqb/mraPpu5EnXSwKICAgIFsnIldlblF1YW5ZaSBNaWNybyBIZWkiLCAi5paH5rOJ6am/5b6u57Gz6buRIicsICfmlofms4npqb/lvq7nsbPpu5EnXSwKICAgIFsnIk5vdG8gU2FucyBDSksgU0MiLCAi5oCd5rqQ6buR5L2TIFNDIicsICfmgJ3mupDpu5HkvZMnXSwKICAgIFsnIlNpbUthaSIsICLmpbfkvZMiJywgJ+S4reaYk+alt+S9kyddLAogICAgWyciUE1pbmdMaVUiLCAi5paw57Sw5piO6auUIicsICfmlrDntLDmmI7pq5QnXSwKICAgIFsnIk1pbmdMaVUiLCAi57Sw5piO6auUIicsICfntLDmmI7pq5QnXSwKICAgIFsnIkhlaXRpIFRDIiwgIum7kemrlC3nuYEiJywgJ+m7kemrlC3nuYEnXSwKICAgIFsnIlBpbmdGYW5nIFRDIiwgIuiYi+aWuS3nuYEiJywgJ+iYi+aWuS3nuYEnXSwKICAgIFsnIlBpbmdGYW5nIEhLIiwgIuiYi+aWuS3muK8iJywgJ+iYi+aWuS3muK8nXSwKICAgIFsnIkxpSGVpIFBybyBNZWRpdW0iLCAi5YS36buRIFBybyInLCAn5YS36buRIFBybyddLAogICAgWyciTWljcm9zb2Z0IEpoZW5nSGVpIiwgIuW+rui7n+ato+m7kemrlCInLCAn5b6u6Luf5q2j6buR6auUJ10sCiAgICBbJyJOb3RvIFNhbnMgQ0pLIFRDIiwgIuaAnea6kOm7kemrlCBUQyInLCAn5oCd5rqQ6buR6auUJ10sCiAgICBbJyJERkthaS1TQiIsICJCaWF1S2FpIiwgIuaomealt+mrlCInLCAn5qiZ5qW36auUJ10sCiAgXQp9OwoKLy8g5b6u5Y2a5L2/55SoIHNvZnRiYW5rIOeahCBlbW9qaSDnvJbnoIHvvIzmiJHku6zlsIblroPku6zovazmjaLliLDmoIflh4bnmoQgdW5pY29kZQovLyDplK7mmK8gc29mdGJhbmsg5omp5bGVIHVuaWNvZGUg6KGo5oOF55qE56CB5L2N54K55YeP5Y67IDB4ZTAwMCDvvJvlgLzmmK8gdW5pY29kZSDnoIHkvY3ngrkKdmFyIGVtb2ppID0geyAxOiAxMjgxMDIsIDI6IDEyODEwMywgMzogMTI4MTM5LCA0OiAxMjgxMDQsIDU6IDEyODEwNSwgNjogMTI4MDg1LCA3OiAxMjgwOTQsIDg6IDEyODI0NywgOTogOTc0MiwgMTA6IDEyODI0MSwgMTE6IDEyODIyNCwgMTI6IDEyODE4NywgMTM6IDEyODA3NCwgMTQ6IDEyODA3NywgMTU6IDk3NTcsIDE2OiA5OTk0LCAxNzogOTk5NiwgMTg6IDEyODU4NywgMTk6IDEyNzkzNSwgMjA6IDk5NzEsIDIxOiAxMjc5MzQsIDIyOiA5OTE4LCAyMzogMTI3OTQwLCAyNDogOTkxNywgMjU6IDEyODAzMywgMjY6IDEyODA1MiwgMjc6IDEyODY2MywgMjg6IDk5NzMsIDI5OiA5OTkyLCAzMDogMTI4NjQzLCAzMTogMTI4NjQ1LCAzMjogMTAwNjcsIDMzOiAxMDA3MSwgMzQ6IDEwMDg0LCAzNTogMTI4MTQ4LCAzNjogMTI4MzM2LCAzNzogMTI4MzM3LCAzODogMTI4MzM4LCAzOTogMTI4MzM5LCA0MDogMTI4MzQwLCA0MTogMTI4MzQxLCA0MjogMTI4MzQyLCA0MzogMTI4MzQzLCA0NDogMTI4MzQ0LCA0NTogMTI4MzQ1LCA0NjogMTI4MzQ2LCA0NzogMTI4MzQ3LCA0ODogMTI3ODAwLCA0OTogMTI4MzA1LCA1MDogMTI3ODAxLCA1MTogMTI3ODc2LCA1MjogMTI4MTQxLCA1MzogMTI4MTQyLCA1NDogMTI3OTY4LCA1NTogOTk2MiwgNTY6IDEyNzk3MCwgNTc6IDEyODY0OSwgNTg6IDk5ODEsIDU5OiAxMjg1MDcsIDYwOiAxMjc5MDgsIDYxOiAxMjc5MDksIDYyOiAxMjc5MjUsIDYzOiAxMjgyNzMsIDY0OiAxMjc5MjcsIDY1OiAxMjc5MjgsIDY2OiAxMjc5MzAsIDY3OiAxMjc4NjAsIDY4OiAxMjc4NjQsIDY5OiA5NzQ5LCA3MDogMTI3ODU2LCA3MTogMTI3ODY2LCA3MjogOTkyNCwgNzM6IDk3MjksIDc0OiA5NzI4LCA3NTogOTc0OCwgNzY6IDEyNzc2NCwgNzc6IDEyNzc0OCwgNzg6IDEyODEyNCwgNzk6IDEyODA0OSwgODA6IDEyODA0NywgODE6IDEyODA1OSwgODI6IDEyODA0MSwgODM6IDEyODA0NSwgODQ6IDEyODA1MSwgODU6IDEyODAzOSwgODY6IDEyODUyMywgODc6IDEyODUxNSwgODg6IDEyODU0MiwgODk6IDEyODU0NCwgOTA6IDEyODE2OSwgMjU3OiAxMjgyMzQsIDI1ODogMTI4MjM4LCAyNTk6IDk5OTMsIDI2MDogMTI4MjQyLCAyNjE6IDEyODU0MCwgMjYyOiAxMjg1MjUsIDI2MzogMTI4NTYxLCAyNjQ6IDEyODUzMSwgMjY1OiAxMjgwNTMsIDI2NjogMTI4MDI1LCAyNjc6IDEyODA1NSwgMjY4OiAxMjgxMjUsIDI2OTogMTI4NjQwLCAyNzA6IDEyODA4MSwgMjcxOiAxMjgxNjEsIDI3MjogMTI3ODA4LCAyNzM6IDEyODE0MywgMjc0OiAxMjc4NzMsIDI3NTogMTI4Mjk5LCAyNzY6IDEyODI2OSwgMjc3OiAxMjc5MzksIDI3ODogMTI4Mjk2LCAyNzk6IDEyNzg3OCwgMjgwOiAxMjc4MDksIDI4MTogMTI3ODEwLCAyODI6IDEyODEyNywgMjgzOiAxMjgxMjMsIDI4NDogMTI4MTI4LCAyODU6IDEyODI5MywgMjg2OiAxMjgxODgsIDI4NzogMTI4MTg2LCAyODg6IDEyNzgyOCwgMjg5OiA5OTcwLCAyOTA6IDk5NzgsIDI5MTogOTgzMiwgMjkyOiAxMjc5MDUsIDI5MzogMTI3OTE1LCAyOTQ6IDEyODE5MSwgMjk1OiAxMjgxOTIsIDI5NjogMTI4MjUxLCAyOTc6IDEyODI1MiwgMjk4OiAxMjgyNTAsIDI5OTogMTI4MTI2LCAzMDA6IDEyMzQ5LCAzMDE6IDEyNjk4MCwgMzAyOiAxMjczODYsIDMwMzogMTI4MTc2LCAzMDQ6IDEyNzkxOSwgMzA1OiAxMjc5NDIsIDMwNjogMTI3OTM3LCAzMDc6IDEyNzkyMCwgMzA4OiAxMjgwMTQsIDMwOTogMTI4Njc2LCAzMTA6IDEyODY5MCwgMzExOiAxMjg2NzksIDMxMjogMTI4Njk3LCAzMTM6IDEyODY5OCwgMzE0OiAxMjg3MDAsIDMxNTogMTI4MTM3LCAzMTY6IDEyODE2NCwgMzE3OiA5ODg5LCAzMTg6IDEyODA5NiwgMzE5OiAxMjg3MDQsIDMyMDogMTI4NzAxLCAzMjE6IDEyODI2NiwgMzIyOiAxMjgyMjYsIDMyMzogMTI3ODg0LCAzMjQ6IDEyODI3NCwgMzI1OiAxMjgyNzUsIDMyNjogMTI3NzUwLCAzMjc6IDEyNzg1OSwgMzI4OiAxMjgyMTEsIDMyOTogMTI4MTc3LCAzMzA6IDEyODE4NSwgMzMxOiAxMjgyMjUsIDMzMjogMTI4MTcwLCAzMzM6IDEyNzk3NCwgMzM0OiAxMjg2NzcsIDMzNTogMTI3MzU5LCAzMzY6IDEyODY1NSwgMzM3OiAxMjg2OTksIDMzODogMTI4MTEwLCAzMzk6IDEyNzk3MSwgMzQwOiAxMjc5NzUsIDM0MTogMTI3OTczLCAzNDI6IDEyNzk3OCwgMzQzOiAxMjc5NzksIDM0NDogMTI3OTc2LCAzNDU6IDEyODY1MiwgMzQ2OiAxMjg2NjEsIDEwOTE6IDEyNzc0NCwgMTA4NDogMTI3NzQ2LCAxMDk5OiAxMjc3NDcsIDEwOTc6IDEyNzc0OSwgMTA5ODogMTI3NzUxLCAxMTAwOiAxMjc3NTIsIDEwODY6IDEyNzc1NCwgODIxOiAxMjc3NzUsIDU3NTogOTgwMCwgNTc2OiA5ODAxLCA1Nzc6IDk4MDIsIDU3ODogOTgwMywgNTc5OiA5ODA0LCA1ODA6IDk4MDUsIDU4MTogOTgwNiwgNTgyOiA5ODA3LCA1ODM6IDk4MDgsIDU4NDogOTgwOSwgNTg1OiA5ODEwLCA1ODY6IDk4MTEsIDU4NzogOTkzNCwgNzcyOiAxMjc3OTksIDEwOTU6IDEyNzgxMSwgNzcxOiAxMjc4MDIsIDc3MzogMTI3ODAzLCA3NzU6IDEyNzc5NiwgNzc2OiAxMjc3OTcsIDEwOTI6IDEyNzgwNiwgODM3OiAxMjc4MjIsIDgzODogMTI3ODE4LCA4Mzk6IDEyNzgyNywgODQwOiAxMjc4MTcsIDg0MTogMTI3ODEzLCA4NDI6IDEyNzgxNCwgMTA0OTogMTI4MDY0LCAxMDUxOiAxMjgwNjYsIDEwNTA6IDEyODA2NywgMTA1MjogMTI4MDY4LCAxMDMzOiAxMjgwNjksIDc5NjogMTI4MTMyLCA3OTc6IDEyODEzMywgNzk4OiAxMjgxMzQsIDc5OTogMTI4MTM1LCA4MDA6IDEyODEzNiwgMTA2NDogMTI4MTA3LCAxMDY1OiAxMjgxMTEsIDEzMDE6IDEyODExMywgMTMwMjogMTI4MTE0LCAxMzAzOiAxMjgxMTUsIDEzMDQ6IDEyODExNiwgMTMwNTogMTI4MTE3LCAxMzA2OiAxMjgxMTgsIDEzMDc6IDEyODExOSwgMTMwODogMTI4MTIwLCA1OTU6IDEyODEyOSwgMTMxMDogMTI4MTMwLCAxMzExOiAxMjgxMzEsIDEzMjU6IDEyODAxMywgMTMyNjogMTI4MDIwLCAxMzI3OiAxMjgwMjMsIDEzMjg6IDEyODA0MywgMTMxODogMTI4MDI0LCAxMzE5OiAxMjgwNDAsIDEzMjA6IDEyODAxOCwgMTMyMTogMTI4MDE3LCAxMDg5OiAxMjgwMjYsIDEzMTc6IDEyODAyNywgMTMxNDogMTI4MDMyLCAxMzE1OiAxMjgwMzYsIDEzMTM6IDEyODAzOCwgMTMxMjogMTI4MDQ0LCAxMzE2OiAxMjgwNTcsIDEzMjI6IDEyODA1OCwgMTMyMzogMTI4MDQ2LCAxMzI0OiAxMjgwNDgsIDEzMjk6IDEyODA1NiwgMTMzNDogMTI4MDYyLCAxMDI3OiAxMjg1NTMsIDEwNDA6IDEyODU2MiwgMTAzMDogMTI4NTY1LCAxMDM5OiAxMjg1NjAsIDEwMzg6IDEyODUzMCwgMTAyODogMTI4NTQ4LCAxMDQ4OiAxMjg1MzYsIDEwNDc6IDEyODUzOCwgMTAzNjogMTI4NTY3LCAxMDM3OiAxMjg1NjMsIDEwNDU6IDEyODUxNywgMTAzNDogMTI4NTE4LCAxMDQyOiAxMjg1MTQsIDEwNDQ6IDk3ODYsIDEwNDM6IDEyODU0NiwgMTA0MTogMTI4NTU3LCAxMDM1OiAxMjg1NTIsIDEwNDY6IDEyODU0NSwgMTAzMTogMTI4NTM0LCAxMDMyOiAxMjg1NTQsIDEwMjY6IDEyODUyNywgMTAyNTogMTI4NTQ5LCAxMDI5OiAxMjg1MjEsIDEwNTk6IDEyODU4MSwgMTA2MDogMTI4NTgyLCAxMDYyOiAxMjg1ODMsIDEwNjM6IDEyODU4OCwgMTA1MzogMTI4NTkxLCAxMjgxOiAxMjc5NzcsIDEyODQ6IDEyNzk4MCwgMTI4NTogMTI3OTgzLCAxMjg2OiAxMjc5ODQsIDEyODg6IDEyNzk4MSwgNTE0OiA5ODc1LCA3Nzk6IDEyNzk4MiwgMTI4OTogMTI4NTA4LCAxMzA5OiAxMjg1MDksIDc5NDogMTI4MDk3LCA3OTU6IDEyODA5OCwgNzcwOiAxMjgwODQsIDc5MjogMTI4MDgyLCA3OTM6IDEyODA4NywgODAxOiAxMjgwODgsIDgwMjogMTI4MDg5LCA4MDM6IDEyODA5MiwgMTI5OTogWzEyNzQ2NCwgMTI3NDc1XSwgMTI5NDogWzEyNzQ2NSwgMTI3NDY2XSwgMTI5NzogWzEyNzQ2NiwgMTI3NDgwXSwgMTI5MzogWzEyNzQ2NywgMTI3NDc5XSwgMTI5NjogWzEyNzQ2OCwgMTI3NDYzXSwgMTI5NTogWzEyNzQ3MCwgMTI3NDgxXSwgMTI5MTogWzEyNzQ3MSwgMTI3NDc3XSwgMTMwMDogWzEyNzQ3MiwgMTI3NDc5XSwgMTI5ODogWzEyNzQ3OSwgMTI3NDgyXSwgMTI5MjogWzEyNzQ4MiwgMTI3NDgwXSwgNTc0OiAxMjgzMDIsIDUyMTogMTI4MzA0LCA3ODM6IDEyODEzOCwgMTMzMDogMTI3MzQ0LCAxMzMxOiAxMjczNDUsIDEzMzI6IDEyNzM3NCwgMTMzMzogMTI3MzU4LCA3ODg6IDEyNzg3MiwgODQzOiAxMjc4NzQsIDEwOTY6IDEyNzg3NywgNzg0OiAxMjc4ODAsIDc4NjogMTI3ODgxLCAxMDc4OiAxMjc4ODUsIDEwODA6IDEyNzg4NiwgMTA4MTogMTI3ODkxLCAxMDgyOiAxMjc4OTAsIDEwODM6IDEyNzg4NywgMTA4ODogMTI3ODc5LCAxMDkwOiAxMjc4ODgsIDEwOTM6IDEyNzg3NSwgMTA5NDogMTI3ODg5LCA3Njk6IDEyODIyMSwgNzkxOiAxMjgyMjcsIDc5MDogMTI4MTg5LCA3ODc6IDk5ODYsIDEwNjY6IDEyNzkzNiwgMTA2NzogMTI3OTQ0LCAxMDY5OiAxMjc5NDYsIDEwNzY6IDEyODY0NywgMTA3NzogMTI4NjQ0LCAxMDcwOiAxMjg2NjUsIDEwNzE6IDEyODY2NiwgMTA3MjogMTI4NjU4LCAxMDczOiAxMjg2NTcsIDEwNzQ6IDEyODY1OSwgMTA3NTogMTI3OTA2LCAxMjg3OiAxMjc5MTAsIDc3ODogMTI3OTExLCAxMjgyOiAxMjc5MTIsIDEyODM6IDEyNzkxMywgODA0OiAxMjc5MTYsIDEwNjg6IDEyNzkyMSwgODA2OiAxMjc5MjYsIDc3NDogMTI4MTQ0LCAxMDYxOiAxMjgxNDUsIDEwODU6IDEyODE0NiwgNTE5OiAxMjgyODYsIDU5MDogMTY5LCA1OTE6IDE3NCwgMTMzNTogODQ4MiwgNTI4OiBbMzUsIDg0MTldLCA1NDA6IFs0OSwgODQxOV0sIDU0MTogWzUwLCA4NDE5XSwgNTQyOiBbNTEsIDg0MTldLCA1NDM6IFs1MiwgODQxOV0sIDU0NDogWzUzLCA4NDE5XSwgNTQ1OiBbNTQsIDg0MTldLCA1NDY6IFs1NSwgODQxOV0sIDU0NzogWzU2LCA4NDE5XSwgNTQ4OiBbNTcsIDg0MTldLCA1NDk6IFs0OCwgODQxOV0sIDUyMzogMTI4MjQ2LCA1OTI6IDEyODI0MywgNTkzOiAxMjgyNDQsIDgzNDogMTI3ODMzLCA4MzI6IDEyNzgzNiwgODI1OiAxMjc4MzgsIDgyNjogMTI3ODQ2LCA4Mjc6IDEyNzgzOSwgODI4OiAxMjc4NDEsIDgyOTogMTI3ODMyLCA4MzA6IDEyNzgzNCwgODMxOiAxMjc4MzcsIDgzMzogMTI3ODM1LCA4MzU6IDEyNzg0MiwgODM2OiAxMjc4NDMsIDg0NDogMTI3ODU3LCA4NDU6IDEyNzg1OCwgMTA4NzogMTI3ODQ3LCA4MjQ6IDEyNzg2MSwgNzgwOiAxMjc4NjcsIDU2NjogODU5OSwgNTY4OiA4NjAwLCA1Njc6IDg1OTgsIDU2OTogODYwMSwgNTYyOiAxMTAxNCwgNTYzOiAxMTAxNSwgNTY0OiAxMDE0NSwgNTY1OiAxMTAxMywgNTcwOiA5NjU0LCA1NzE6IDk2NjQsIDU3MjogOTE5MywgNTczOiA5MTk0LCA4MTg6IDExMDkzLCA4MTk6IDEwMDYwLCA4MjI6IDEwMDY4LCA4MjM6IDEwMDY5LCA1Mjk6IDEwMTc1LCA4MDc6IDEyODE0NywgODA4OiAxMjgxNTEsIDgwOTogMTI4MTUyLCA4MTA6IDEyODE1MywgODExOiAxMjgxNTQsIDgxMjogMTI4MTU1LCA4MTM6IDEyODE1NiwgMTA3OTogMTI4MTU3LCA1MTY6IDEyODE1OSwgNTI0OiA5ODI5LCA1MjY6IDk4MjQsIDUyNTogOTgzMCwgNTI3OiA5ODI3LCA3ODI6IDEyODY4NCwgNTIwOiAxMjg2ODUsIDUyMjogOTg1NSwgNTk0OiA5ODg4LCA1MTM6IDEyODY5NCwgNzc3OiAxMjg3MDIsIDUzMjogMTI3Mzc4LCA1NTM6IDEyNzM4MCwgNTMwOiAxMjczODEsIDU4OTogMTI3MzgzLCA1MzE6IDEyNzM4NSwgNTE1OiAxMjc0ODksIDU1MjogMTI3NDkwLCA1NTU6IDEyNzUzOSwgNTU0OiAxMjc1NDEsIDUzMzogMTI3NTQyLCA1MzQ6IDEyNzUxNCwgNTM1OiAxMjc1NDMsIDUzNjogMTI3NTQ0LCA1NTE6IDEyNzU0NSwgNTU2OiAxMjc1MzUsIDU1NzogMTI3NTQ2LCA3ODk6IDEyOTUzLCA3ODE6IDEyOTUxLCA1NTA6IDEyNzU2OCwgODIwOiAxMjgxNjIsIDc4NTogMTI4MTYzLCA4MTc6IDEyODE2NiwgODE2OiAxMjgxNjgsIDgxNDogMTAwMjQsIDUxNzogMTAwMzYsIDUxODogMTAwMzUsIDUzNzogOTg5OCwgNTM4OiAxMjgzMDksIDUzOTogMTI4MzA3LCA4MTU6IDExMDg4LCA4MDU6IDEyODI3NiwgNTg4OiAxMjgyODUsIDU1ODogMTI4MDcwLCA1NTk6IDEyODA3MSwgNTYwOiAxMjgwNzIsIDU2MTogMTI4MDczLCAxMDU0OiAxMjgwNzUsIDEwNTU6IDEyODA3OSwgMTA1NjogMTI4MDc2LCAxMDU3OiAxMjgwNzgsIDEwNTg6IDEyODA4MCB9OwoKLy8g55qu6IKkCnZhciBza2luID0geyBza2luOiB7IF8wMDE6ICLok53oibLlv4Pmg4UiLCBfMDAyOiAi57Sr6I2G6Iqx55OjIiwgXzAwMzogIuaymea7qea8q+atpSIsIF8wMDQ6ICLlh4zmmajkuKTngrnljYoiLCBfMDA1OiAi5qKm5bm75pif56m6IiwgXzAwNjogIuaal+WknOeVmemmmSIsIF8wMDc6ICLmiJHlv4Ppo57nv5QiLCBfMDA4OiAiaGFwcHkgZm9yZXZlciIsIF8wMDk6ICLlvanombkiLCBfMDEwOiAi5qKm5bm75ri45LmQ5Zy6IiwgXzAxMTogIuW9qeiJsuWkqeepuiIsIF8wMTI6ICLlkI3kurrkvJoiLCBfMDEzOiAi5ZOH5Ze3IiwgXzAxNDogIuaIkeaEv+aEjyIsIF8wMTU6ICLnjKvotqMiLCBfMDE2OiAi5L+d5oqk5YyX5Yaw5rSLIiwgXzAxNzogIumtheW9sSIsIF8wMTg6ICLnq6XotqPlvanombkiLCBfMDE5OiAia2lzcyIsIF8wMjA6ICLmvJPlvakiLCBfMDIxOiAi55WZ5rKZIiwgXzAyMjogIuW/g+aZtCIsIF8wMjM6ICJncmVlbndheSIsIF8wMjQ6ICJIZWxsbyBQaWciLCBfMDI1OiAiSWFtIDgw5ZCOIiwgXzAyNjogIuWuiemdmeWknCIsIF8wMjc6ICLnmb7ngbXpuJ8iLCBfMDI4OiAi56Kn6I2J6JOd5aSpIiwgXzAyOTogIueql+WPsCIsIF8wMzA6ICLmoqblubsiLCBfMDMxOiAi6aOe6bif6bG8IiwgXzAzMjogIueyieiJsumjjuS/oeWtkCIsIF8wMzQ6ICLlpI3lj6QiLCBfMDM1OiAi6buR5p2/IiwgXzAzNjogIuWSluWVoSIsIF8wMzc6ICLmg4Xov7flrp3kuL3mnaUiLCBfMDM4OiAi5aSq56m6IiwgXzAzOTogIua2gum4puadvyIsIF8wNDA6ICLmmJ/nqboiLCBfMDQxOiAi6Zuo5aScIiwgXzA0MjogIue6uOmjnuacuiIsIF8wNDM6ICLpo5giLCBfMDQ1OiAicG9wIiwgXzA0NjogIue0q+iJsumjjuaDhSIsIF8wNDc6ICJjb2ZmZWUgYmFyIiwgXzA0ODogIumjjui9u+S6kea3oSIsIF8wNDk6ICLpo47ovbvkupHmt6EiLCBfMDUwOiAi5qKm5bm75pif56m6IiwgXzA1MTogIuS/neaKpOWMl+WGsOa0iyIsIF8wNTI6ICLmvJPlvakiLCBfMDUzOiAi5oOF6L+35a6d5Li95p2lIiwgXzA1NDogIuWkquepuiIsIF8wNTU6ICLpm6jlpJwiLCBfMDU4OiAi6buY6K6kIiwgXzIxMTogIuaIkeS7rOe7k+WpmuWQpyIsIF8yMTI6ICLlubjnpo/lnKjouqvovrkiLCBfMjE0OiAi5paw5bm06Ze55pilIiwgXzI1MjogIueOr+S/neebiui1t+adpSIsIF8yNTM6ICLlnLDnkIPkuIDlsI/ml7YiLCBfMjU0OiAi6ZqP5omL5ouNIiwgXzI1NTogIuS4uueIseebiui1t+i3kSIgfSwgc2tpbnZpcDogeyBfMDAxOiAi6bif5Lq655qE5byC5oOz5LiW55WMIiwgXzAwMjogIue6uOmdouS6uueUnyIsIF8wMDY6ICLnroDnuqbnlJ/mtLsiLCBfMDA5OiAi5ri45oiP5pe25YWJIiwgXzAxMDogIuengOWHuuecn+aIkSIsIF8wMTE6ICLns5bmnpznvKTnurciLCBfMDEzOiAi5oiR55qE57+F6IaAIiwgXzAxNDogIuiOsuiKsSIsIF8wMTY6ICLotoXnuqfnjpvkuL0iLCBfMDE3OiAi5rWq5bCP6IqxIiwgXzAxODogIjgw5ZCOIiwgXzAxOTogIuWPr+eIsea7tOWFlOWtkCIsIF8wMjE6ICLmtbflupXkuJbnlYwiLCBfMDIyOiAi57uZ6Ieq5bex5pS+5Liq5YGHIiwgXzAyMzogIjgw5ZCO55qE5Zue5b+GIiwgXzAyNDogIumprOaIj+WboiIsIF8wMjU6ICLlraTni6znmoTlpJwiLCBfMDI2OiAi5pqW5pqWIiwgXzAyNzogIuWQg+ixhuS6uiIsIF8wMjg6ICJyYWluYm93IiwgXzAzMTogIua1t+S5i+aipuWigyIsIF8wMzI6ICLml4vovazml7blhYkiLCBfMDMzOiAi5Y2I5ZCO5be05aOr5oOF57yYIiwgXzAzNDogIuWwj+m7hOm4rSIsIF8wMzU6ICLlpI/lvq7lh4kiLCBfMDM2OiAi56Kn5rC05pma6IifIiwgXzAzNzogIk1hcnJ5IE1lIiwgXzAzODogIuawtOWiqOmxvCIsIF8wMzk6ICLlpJXlvbEiLCBfMDQwOiAi5b+D5LmL5oGLIiwgXzA0MTogIuW/g+W/g+ebuOWNsCIsIF8wNDI6ICLml4XooYzml7blhYkiLCBfMDQzOiAi5oul5oqx576O5aW9IiwgXzA0NDogIuWvkCIsIF8wNDU6ICLni5fni5fmvKvmraUiLCBfMDQ2OiAi6Zi/54u455qE5rW35rSLIiwgXzA0NzogIuiSsuWFrOiLseeahOaipiIsIF8wNDg6ICLmkq3np43pmLPlhYkiLCBfMDQ5OiAi5bCP5oOF5Lq6IiwgXzA1MDogIua1t+a7qSIsIF8wNTE6ICLlpKnkvb/niLHkuroiLCBfMDU0OiAi5oKg6Zey5Y2I5ZCOIiwgXzA1NjogIuilv+eTnOWls+WtqSIsIF8wNTc6ICLpg4rmuLgiLCBfMDU4OiAi5Y2X5p6B5LyB6bmFIiwgXzA1OTogIuiAgeS4iua1t+WygeaciCIsIF8wNjA6ICLpm77pg70iLCBfMDYxOiAi5rW36L655bqm5YGHIiwgXzA2MjogIuS4gOS4quS6uueahOaXheihjCIsIF8wNjM6ICLnjq/muLjlnLDnkIMiLCBfMDY0OiAi572X5bCP6buR55qE5byC5oOz5LiW55WMIiwgXzA2NTogIuadjumbt+S4jumfqeaihSIsIF8wNjg6ICLoib7njqnlhZQt5a6I5YCZIiwgXzA2OTogIuS/j+earuWWteaYn+S6uiIsIF8wNzA6ICLmoqbmuLjku5nlooMiLCBfMDcxOiAi54ix5oOF55WF5oOzIiwgXzA3MjogIuiQjOeLl+eLlyIsIF8wNzM6ICLpqazog4zkuIrnmoTlpKnnqboiLCBfMDc0OiAi5pqW6ZizIiwgXzA3NTogIua4lOiIn+WUseaZmiIsIF8wNzY6ICLlsI/kvJnkvLQiLCBfMDc4OiAi566A5Y2V55Sf5rS7IiwgXzA3OTogIuWuiOacmyIsIF8wODA6ICLlpb3ln7rlj4siLCBfMDgxOiAi6YO95biC5rWB5rWqIiwgXzA4MjogIui6sueMq+eMqyIsIF8wODM6ICLplK7nm5jku5QiLCBfMDg0OiAi5Y2X55Oc5aS05b+r6LeRIiwgXzA4NTogIumjnuWQkeaciOeQgyIsIF8wODY6ICLmnqvmnpciLCBfMDg3OiAi5p+/5a2Q57qi5LqGIiwgXzA4ODogIlRyaWNrIG9yIFRyZWF0IiwgXzA4OTogIumprOmHjOWlpSIsIF8wOTA6ICLlpKnnqboiLCBfMDkxOiAi56S854mp6L2w54K45py6IiwgXzA5MjogIumYv+eLuOeahOeni+WkqSIsIF8wOTM6ICLli4flo6vni7giLCBfMDk0OiAi6JCM5a6g5YWs5a+TIiwgXzA5NTogIuWugemdmeeahOa1tyIsIF8wOTY6ICLmnIjlhYkiLCBfMDk3OiAiZ29vZCBuaWdodCIsIF8wOTg6ICLllrXmmJ/kurrlkJHliY3lhrIiLCBfMDk5OiAi5qOS5qOS57OWIiwgXzEwMTogIuerpeivnSIsIF8xMDI6ICLnjKvlkqrkuZDpmJ8iLCBfMTA1OiAi6KGo55m9IiwgXzEwNjogIuiHqueUseeMquelniIsIF8xMDc6ICLmoqbkuK3nmoTlsI/lsYsiLCBfMTA4OiAiWE9YTyIsIF8xMDk6ICLnq6XlubTnmoTlsI/nhooiLCBfMTEwOiAi5oiR55qE5Lqk5ZON5LmQIiwgXzExMTogIuS7meS5kOmjmOmjmCIsIF8xMTI6ICLkuIvpm6rllaYiLCBfMTEzOiAi5a+S5YasIiwgXzExNDogIuWQjuWkqSIsIF8xMTU6ICLom4flubTnpZ3npo8iLCBfMTE2OiAi5Zyj6K+e6ICB5Lq6IiwgXzExNzogIuaxn+WNl3N0eWxlIiwgXzExODogIum+hOWumCIsIF8xMjA6ICLov6rlo6vlsLwt5Y+y6L+q5aWHIiwgXzEyMTogIui/quWjq+WwvC3nu7TlsLznhooiLCBfMTIyOiAi6L+q5aOr5bC8LeWwj+mhveeariIsIF8xMjM6ICLov6rlo6vlsLwt546b5Li954yrIiwgXzEyNDogIui/quWjq+WwvC3nvo7kurrpsbwiLCBfMTI1OiAi6L+q5aOr5bC8Leexs+Wlh+exs+WmriIsIF8xMjY6ICLov6rlo6vlsLwt5qyi5LmQ5Zyj6K+eIiwgXzEyNzogIui/quWjq+WwvC3lsI/ku5nlpbMiLCBfMTI4OiAi5a6I5pybIiwgXzEyOTogIuW5veeBteWPpOWgoSIsIF8xMzA6ICLov7fpm74iLCBfMTMxOiAi6YeR6Imy6Ziz5YWJIiwgXzEzMjogIkkgTWlzcyBVIiwgXzEzMzogIuacquadpeOBruagkSIsIF8xMzQ6ICLph5HoibLmtbfmtIsiLCBfMTM1OiAi6Zuo5ZCOIiwgXzEzNjogIuiNieWdoeS4iueahOWls+WtqSIsIF8xMzc6ICJTZXh5IG11c2ljIiwgXzEzODogIuenu+WKqOWfjuWgoSIsIF8xMzk6ICLmi6XmirHniLEiLCBfMTQwOiAi5pil6I2JIiwgXzE0MTogIuiKseS4juidtiIsIF8xNDI6ICLmqLHjga7oirEiLCBfMTQ1OiAi6buR5pqX6Zi25qKvIiwgXzE0NjogIumxvCIsIF8xNDc6ICLlhazkuLsiLCBfMTQ5OiAi5LuZ5aWz55qE6KOZ5pGGIiwgXzE1MDogIuWwj+S7meWlsyIsIF8xNTI6ICLmqLHoirHoiJ4iLCBfMTUzOiAi6Ieq5aix6Ieq5LmQIiwgXzE1NDogIuWTpeWTpSIsIF8xNTY6ICLlrrbmnInph5Hmr5siLCBfMTU4OiAi5reY5rCU5bCP5ZOIIiwgXzE1OTogIua1t+WGm+eLl+eLlyIsIF8xNjA6ICLlt7Tlk6UiLCBfMTYzOiAi6L+q5aOr5bC8LemtlOWig+S7mei4qiIsIF8xNjQ6ICLov6rlo6vlsLwt5YWs5Li7IiwgXzE2NTogIumdkuaYpSIsIF8xNjY6ICLoirHmpIUiLCBfMTY5OiAi5ouJ5ouJIiwgXzE3MzogIuaXp+WfjuW+gOS6iyIsIF8xNzQ6ICLlip/lpKvkuYvnjosiLCBfMTc1OiAi5LiN5piO6aOe6KGM54mpIiwgXzE3NjogIuaYn+mZheaOoumZqSIsIF8xNzg6ICLlsI/ms7Dov6oiLCBfMTc5OiAi6aW85bmy5Za15pif5Lq6IiwgXzE4MTogIuWWteaYn+S6uuS4ieWFhOW8nyIsIF8xODI6ICLpuovpub/llrXmmJ/kuroiLCBfMTg1OiAi5Y+v54ix5Za15pif5Lq6IiwgXzE4NzogIuavjeeIsSIsIF8xODg6ICLlpKfmiYvlsI/miYsiLCBfMTg5OiAi5LiA5a625Lq6IiwgXzE5MjogIumSoumTgeS+oCIsIF8xOTM6ICLpkqLpk4HkvqDlh7rlh7siLCBfMTk0OiAi6L+q5aOr5bC8Leexs+WlhyIsIF8xOTU6ICLov6rlo6vlsLwt57Gz6ICB6bygIiwgXzE5NjogIuiQneiOiSIsIF8xOTc6ICLlvqHlp5AiLCBfMTk4OiAi5Yed5pyb5Zyw55CDIiwgXzE5OTogIuS+nemdoCIsIF8yMDE6ICJDU+aImOWjqyIsIF8yMDI6ICJUYWtlIE1lIEhvbWUiLCBfMjAzOiAi55m76Ii5c3R5bGUiLCBfMjA0OiAi56i76I2J5Lq6IiwgXzIwNTogImhhcHB5IGV2ZXJ5ZGF5IiwgXzIwNjogIueUnOeCuSIsIF8yMDc6ICLlpKfpo47lkLkiLCBfMjA4OiAi54Ok57qi6JavIiwgXzIwOTogIkJhbGwiLCBfMjExOiAi6LSq5ZCD6JuHIiwgXzIxMjogIuWKm+S6ieS4iua4uCIsIF8yMTM6ICLmo4vpgKLlr7nmiYsiLCBfMjE0OiAi5Zui5Zui5ZyG5ZyGIiwgXzIxNjogIuW5tOWknOmlrSIsIF8yMjE6ICLmmKXpm6giLCBfMjIyOiAi5bCY6aOe5omsIiwgXzIyNDogIumbvumcvuWOi+WfjiIsIF8yMjU6ICLku5nlpbPnmoToiJ7ouYgiLCBfMjI2OiAi5peF6KGM6LWP5pilIiwgXzIyNzogIui1j+aYpeWOuyIsIF8yMjg6ICLmnoHpgJ/po5novaYiLCBfMjM0OiAi5Za15pif5Lq655qE5oCd5b+1IiwgXzIzNTogIuS6jOi0p+WWteaYn+S6uiIsIF8yMzY6ICLmgIDlv7UiLCBfMjM3OiAi5Y2W6JCM5Za15pif5Lq6IiwgXzIzODogIumHkeWtl+WhlOeahOenmOWvhiIsIF8yMzk6ICLmr43kurLoioIiLCBfMjQwOiAi56uv5Y2I6IqCIiwgXzI0MjogIuebkuWtkOaYn+eQgyIsIF8yNDM6ICLlv4Plv4Pnm7jljbAiLCBfMjQ0OiAi57KJ6Imy5b+D5oOFIiwgXzI0NTogIuS+j+e9l+e6quWFrOWbrSIsIF8yNDY6ICLkuJbnlYzmna8iLCBfMjQ3OiAi54K555CD5aSn5oiYIiwgXzI1MDogIuadqOa0iyIsIF8yNTE6ICLmnajmtIvnlJ/ml6XkuJPlsZ4iLCBfMzAzOiAi57qq5b+15pelIiwgXzMwNDogIueql+WklueahOaYpeWkqSIsIF8zMDU6ICLpgJ/luqbkuI7mv4Dmg4UiLCBfMzA2OiAi57u/5oSP55uO54S2IiwgXzMwNzogIuWKqOeUu+WfjiIsIF8zMTA6ICLniafkuroiLCBfMzExOiAi576O5aW96aOO5YWJIiwgXzMxMjogIuaYpeWkqeeahOW5u+aDsyIsIF8zMTg6ICLph43ov5TlnLDnkIMiLCBfMzE5OiAi5Yay5LiK5LqR6ZyEIiwgXzMyMDogIumZqOefsyIsIF8zMjU6ICLniLHmg4Xkvb/ogIUiLCBfMzI2OiAi5oCq5YW95aSn5a2mIiwgXzMyODogIuavm+aAquWSjOWwj+S8meS8tCIsIF8zMzA6ICLov6rlo6vlsLwt5aSN5Y+k57Gz6ICB6bygIiwgXzMzMjogIumxvOi3gyIsIF8zMzM6ICLlpJzoibIiLCBfMzM0OiAi5rW35rSLIiwgXzMzNTogIueliOebvCIsIF8zMzc6ICLnjqvnkbDku6PooajmiJHnmoTniLEiLCBfMzM5OiAi56We5YG35aW254i4MiIsIF8zNDI6ICLlnKPor57pqa/pub8iLCBfMzQzOiAi5rip5oOF5Zyj6K+eIiwgXzM0NDogIuWGsOmbquWlh+e8mCIsIF8zNDU6ICLpqa/pvpnpqpHlo6siLCBfMzQ3OiAi6J206J225pil5aSpIiwgXzM0ODogIue7v+iJsueUn+a0uyIsIF8zNDk6ICLlvanoibLmsJTnkIMiLCBfMzUwOiAi6Zuo5ru0IiwgXzM1MTogIuaZtOepuuaalumYsyIsIF8zNTQ6ICLoirHnk6MiLCBfMzU1OiAi5pil6ImyIiwgXzM1ODogImtlZW5555qE5ZKW5ZWhIiwgXzM1OTogImtlZW5555qE6bK46bG8IiwgXzQwMDogIuaYpeWkqeeahOawlOaBryIsIF80MDE6ICLprLzlqIPlqIMiLCBfNDAyOiAi5a+G5a6kIiwgXzQwNDogIuerueael+WQrOmbqCIsIF80MDU6ICLkupHpm74iLCBfNDA3OiAi5rK56I+c6IqxIiwgXzQwODogIuaXhemAlOS4reeahOetieW+hSIsIF80MDk6ICLml4XnqIsiLCBfNDEwOiAi5rG96L2m5LmL5peFIiwgXzQxMTogIuiNt+WFsOmjjui9piIsIF80MTI6ICLov7flvankuYvmiJgiLCBfNDE0OiAi5oiY5Zyw6aOe6L2mIiwgXzQxNTogIuaDheS+o+WWteaYn+S6uiIsIF80MTY6ICLllrXmmJ/kurrlkozpsbwiLCBfNDE3OiAi5LiA6LW35Y2I6KeJIiwgXzQxOTogIueIseW/g+ejgeW4piIsIF80MjA6ICLmnaXoh6rmmJ/mmJ/nmoTmiJEiLCBfNDIyOiAi5qyi5LmQ5Za15pif5Lq6IiwgXzQyMzogIuengeWutumjnueinyIsIF80MjU6ICLkuZDpmJ8iLCBfNjAwOiAi5a62IiwgXzcwMjogIue6quW/teazsOaIiOWwlCIsIF83MDQ6ICJURkJPWVPlsJHlubTlvLoiLCBfNzA5OiAiVEZCT1lT6Z2S5pil5L+u54K85omL5YaMIiwgXzcxMTogIuaWsOeJiOW+ruWNmiIsIF83MTM6ICLmjqLlr7vlubjnpo8iLCBfNzE0OiAi5aSP5aSp5L2g5aW9IiwgXzcxNTogIuaIkeeIseeBq+mUhSIsIF83MTY6ICLnuqLoibLlt7Tlo6siLCBfNzE3OiAi5Luw5pyb5pif56m6IiwgXzcxODogImhhcHB5IGJpcnRoZGF5IiwgXzcxOTogIumTtuadj+efpeeniyIsIF83MjI6ICLnjqnpm6rlkq8iLCBfNzIzOiAi5Za15pif5Lq655qE5pif6ZmF56m/6LaKIiwgXzcyNDogIkppbmdsZSBiZWxscyIsIF83MjU6ICLpl7nmlrDmmKUiLCBfNzI2OiAi5LiJ576K5byA5rOwIiwgXzczMTogIjfmnIjml6XljoYiLCBfNzMyOiAiOOaciOaXpeWOhiIsIF83MzM6ICI55pyI5pel5Y6GIiwgXzczNDogIjEw5pyI5pel5Y6GIiwgXzczNTogIjEx5pyI5pel5Y6GIiwgXzczNjogIjEy5pyI5pel5Y6GIiwgXzczNzogIjHmnIjml6XljoYiLCBfNzM4OiAiMuaciOaXpeWOhiIsIF83Mzk6ICIz5pyI5pel5Y6GIiwgXzc0MDogIueip+azoiIsIF83NDE6ICLkuIDnjKvkuIDkuJbnlYwiLCBfNzQyOiAi5ZGQ5ZaK55qE5rGq5rGqIiwgXzc0MzogIuWutuaciemmi+eMqyIsIF83NDQ6ICLni5fni5fniLHnvo7kuL0iLCBfNzQ1OiAi5rip5p+U5aaC5Za1IiwgXzc0NjogIuiXj+eMq+eMqyIsIF83NDc6ICLkvLTlkJvml4XooYwiLCBfNzQ4OiAi5oiR5oOz6Z2Z6Z2ZIiwgXzc0OTogIuWAvuaDhSIsIF83NTA6ICLnsrznsrzmtbflhYkiLCBfNzUxOiAi5Y2O5pmo5a6HIiwgXzc1MjogIlNOSDQ4IiwgXzc1MzogIuivuuiogCIsIF83NTQ6ICLkuZTmjK/lrociLCBfNzU1OiAi5aae5aae5ZKM56uv5Y2IIiwgXzc1NjogIuaaluaaluWxiyIsIF83NTc6ICLkvp3lgY5pdnZpIiwgXzgwMDogIlRGQk9ZU+aYk+eDiuWNg+eOuiIsIF84MDE6ICLliJ3pm6oiLCBfODAyOiAi5pqW5b+D5ou/6ZOBIiwgXzgwMzogIumZquS8tCIsIF84MDQ6ICJNZXJyeSBYbWFzIiwgXzgwNTogIumAhuWFieajruaelyIsIF84MDY6ICLmiJHniLHmiqvokKgiLCBfODA3OiAi5peF6KGM5oiQ55i+IiwgXzgwODogIuaIkeeIseeUnOeCuSIsIF84MDk6ICLnvorlubTliLAiLCBfODExOiAi5biM5pyb5LmL5qCRIiwgXzgxMjogIua1t+a0iyIsIF84MTM6ICLlsI/lspvlkozoiLkiLCBfODE0OiAi6Zuq5pmvIiwgXzgxNTogIuW9qeiZueS5i+i3ryIgfSwgc2tpbnZpcGY6IHsgXzAwMTogIuWkp+a1tyIsIF8wMDI6ICLkuIvpm6oiLCBfMDAzOiAi5aSp5L2/IiwgXzAwNDogIuWPjOWtkOW6pyIsIF8wMDU6ICLov5zooYwiIH0sIHNraW52aXBnOiB7IF8wMDE6ICLmr5XkuJrlraMiLCBfMDAyOiAi5LiK54+t5peP55qE5ZGo5LiAIiwgXzAwMzogIuS4iuePreaXj+eahOWRqOS6jCIsIF8wMDQ6ICLkuIrnj63ml4/nmoTlkajkuIkiLCBfMDA1OiAi5LiK54+t5peP55qE5ZGo5ZubIiwgXzAwNjogIuS4iuePreaXj+eahOWRqOS6lCIsIF8wMDc6ICLkuIrnj63ml4/nmoTlkajlha0iLCBfMDA4OiAi5LiK54+t5peP55qE5ZGo5aSpIiB9LCBza2ludmlwajogeyBfMDAxOiAi6LaF57qn546b5Li95Yqo5oCB54mIIiB9LCB3ZWVrc2tpbjogeyBfMDAyOiAi5b6u5Y2a57uP5YW4IiB9LCB3ZWVrc2tpbnZpcDogeyBfMDAxOiAi5peF6KGM5pe25YWJIiwgXzAwMjogIue7v+aEjyIsIF8wMDM6ICLkuIrnj63ml4/kuIDlkajlv4Pmg4UiLCBfMDA0OiAi6L+q5aOr5bC8IiB9IH07Cgp2YXIgdXRpbCA9IHt9OwoKLy8g5rWP6KeI5Zmo6K+G5YirCnV0aWwuYnJvd3NlciA9IHt9OwovLyDkuIDkupvlhbzlrrnmgKfku6PnoIEKLy8gQXJyYXkuZnJvbQppZiAoIUFycmF5LmZyb20pIEFycmF5LmZyb20gPSBmdW5jdGlvbiAoKSB7IHZhciByID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZywgbiA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiAiZnVuY3Rpb24iID09IHR5cGVvZiBuIHx8ICJbb2JqZWN0IEZ1bmN0aW9uXSIgPT09IHIuY2FsbChuKSB9LCB0ID0gZnVuY3Rpb24gKHIpIHsgdmFyIG4gPSArcjsgcmV0dXJuIGlzTmFOKG4pID8gMCA6IDAgIT09IG4gJiYgaXNGaW5pdGUobikgPyAobiA+IDAgPyAxIDogLTEpICogTWF0aC5mbG9vcihNYXRoLmFicyhuKSkgOiBuIH0sIGUgPSBNYXRoLnBvdygyLCA1MykgLSAxLCBvID0gZnVuY3Rpb24gKHIpIHsgdmFyIG4gPSB0KHIpOyByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobiwgMCksIGUpIH07IHJldHVybiBmdW5jdGlvbiAocikgeyB2YXIgdCA9IHRoaXMsIGUgPSBPYmplY3Qocik7IGlmIChudWxsID09IHIpIHRocm93IG5ldyBUeXBlRXJyb3IoIkFycmF5LmZyb20gcmVxdWlyZXMgYW4gYXJyYXktbGlrZSBvYmplY3QgLSBub3QgbnVsbCBvciB1bmRlZmluZWQiKTsgdmFyIGEsIGkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMDsgaWYgKHZvaWQgMCAhPT0gaSkgeyBpZiAoIW4oaSkpIHRocm93IG5ldyBUeXBlRXJyb3IoIkFycmF5LmZyb206IHdoZW4gcHJvdmlkZWQsIHRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uIik7IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIChhID0gYXJndW1lbnRzWzJdKSB9IGZvciAodmFyIHUsIGYgPSBvKGUubGVuZ3RoKSwgYyA9IG4odCkgPyBPYmplY3QobmV3IHQoZikpIDogQXJyYXkoZiksIGggPSAwOyBmID4gaDspIHUgPSBlW2hdLCBjW2hdID0gaSA/IHZvaWQgMCA9PT0gYSA/IGkodSwgaCkgOiBpLmNhbGwoYSwgdSwgaCkgOiB1LCBoICs9IDE7IHJldHVybiBjLmxlbmd0aCA9IGYsIGMgfSB9KCk7Ci8vIE9iamVjdC5hc3NpZ24KaWYgKCFPYmplY3QuYXNzaWduKSBPYmplY3QuYXNzaWduID0gZnVuY3Rpb24gKG4pIHsgInVzZSBzdHJpY3QiOyBpZiAodm9pZCAwID09PSBuIHx8IG51bGwgPT09IG4pIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCIpOyBmb3IgKHZhciByID0gT2JqZWN0KG4pLCB0ID0gMTsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKykgeyB2YXIgZSA9IGFyZ3VtZW50c1t0XTsgaWYgKHZvaWQgMCAhPT0gZSAmJiBudWxsICE9PSBlKSBmb3IgKHZhciBvIGluIGUpIGUuaGFzT3duUHJvcGVydHkobykgJiYgKHJbb10gPSBlW29dKSB9IHJldHVybiByIH07CgovLyDmo4Dmn6XmmK/lkKbmmK8gRmlyZWZveCDmtY/op4jlmagKdXRpbC5icm93c2VyLmZ4ID0ge307CnV0aWwuYnJvd3Nlci5meC52ZXJzaW9uID0gKGZ1bmN0aW9uICgpIHsKICB2YXIgbSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL15Nb3ppbGxhXC81XC4wIFwoW14pXSs7IHJ2OihbXGQuXSspXCkgR2Vja29cL1tcZF17OH0gRmlyZWZveFwvW1xkLl0rJC8pOwogIHJldHVybiBtICYmIG1bMV0gfHwgbnVsbDsKfSgpKTsKdXRpbC5icm93c2VyLmZ4LmF2YWxpYWJsZSA9ICEhdXRpbC5icm93c2VyLmZ4LnZlcnNpb247CmlmICh1dGlsLmJyb3dzZXIuZnguYXZhbGlhYmxlKSB1dGlsLmJyb3dzZXIuZngubWFpbnZlcnNpb24gPSArdXRpbC5icm93c2VyLmZ4LnZlcnNpb24ubWF0Y2goL15cZCsvKTsKCi8vIOiEmuacrOivhuWIqwp1dGlsLnNjcmlwdCA9IHt9OwovLyDojrflvpfohJrmnKzlm77moIcKdXRpbC5zY3JpcHQuaWNvbiA9IChmdW5jdGlvbiAoKSB7CiAgdHJ5IHsKICAgIHJldHVybiBHTV9pbmZvLnNjcmlwdE1ldGFTdHIubWF0Y2gobmV3IFJlZ0V4cCgnLy8gQChpY29uKSg/OlxccysoLiopKScpKVsyXTsKICB9IGNhdGNoIChlKSB7IHJldHVybiAnaHR0cHM6Ly90aWFuc2guZ2l0aHViLmlvL3lhd2YvaW1nL3lhd2YucG5nJzsgfQp9KCkpOwovLyDmo4Dmn6XmmK/lkKbmmK/ljovnvKnniYjmnKwKdXRpbC5zY3JpcHQuaXNtaW4gPSAoZnVuY3Rpb24gKCkgewogIHRyeSB7CiAgICAvLyDmo4Dmn6XlpJrkvZnnmoTnqbrmoLzmiJbliIblj7fjgIHluIPlsJTlrZfpnaLluLjph4/jgIHmnKrmtojpmaTnmoTmrbvku6PnoIHjgIFpZuivreWPpe+8jOWIpOaWreaYr+WQpuaYr+WOi+e8qeWQjueahOS7o+eggQogICAgdmFyIGZ1bmMgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybgogICAgICBpZiAoZmFsc2UpIHsKICAgICAgICB0cnVlOzsKICAgICAgfQogICAgfSArICcnOwogICAgcmV0dXJuICFmdW5jLm1hdGNoKC9yZXR1cm5bXHNcU10qaWZbXHNcU10qXHNcc3RydWU7O1tcclxuXHNdLyk7CiAgfSBjYXRjaCAoZSkgewogICAgcmV0dXJuIHRydWU7IC8vIOS4jeefpemBk+WTqumHjOWHuueahOmXrumimO+8jOW9k+S9nOaYr+WOi+e8qeeahOavlOi+g+WuieWFqAogIH0KfSgpKTsKLy8g5qOA5p+l5piv5ZCm5byA5ZCv5LqG6LCD6K+VCnV0aWwuc2NyaXB0LmlzZGVidWcgPSAoZnVuY3Rpb24gKCkgewogIGlmICh1dGlsLnNjcmlwdC5pc21pbikgcmV0dXJuIGZhbHNlOwogIHJldHVybiAhIUdNX2dldFZhbHVlKCdkZWJ1ZycsIGZhbHNlKTsKfSgpKTsKCi8vIOS8mOWFiOe6p+iuvue9rgp1dGlsLnByaW9yaXR5ID0gewogICdGSVJTVCc6IDFlNiwKICAnSElHSCc6IDFlNSwKICAnQkVGT1JFJzogMWUzLAogICdERUZBVUxUJzogMCwKICAnQUZURVInOiAtMWUzLAogICdMT1cnOiAtMWU1LAogICdMQVNUJzogLTFlNiwKfTsKCi8vIOWHveaVsOebuOWFs+aTjeS9nAp1dGlsLmZ1bmMgPSB7fTsKCi8vIOWfuuacrOWHveaVsAp2YXIgbm9vcCA9IHV0aWwuZnVuYy5ub29wID0gZnVuY3Rpb24gKCkgeyB9Owp1dGlsLmZ1bmMuaWRlbnRpdHkgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4geDsgfTsKdXRpbC5mdW5jLmNvbnN0YW50ID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHg7IH07IH07Cgp1dGlsLnVuZXZhbCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIGhlbHBlciA9IGZ1bmN0aW9uIChvYmosIHNlZW4pIHsKICAgIHRyeSB7CiAgICAgIGlmIChvYmogPT09IG51bGwpIHJldHVybiAnbnVsbCc7IC8vIG51bGwKICAgICAgaWYgKG9iaiA9PT0gdm9pZCAwKSByZXR1cm4gJyh2b2lkIDApJzsgLy8gdW5kZWZpbmVkCiAgICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuICcoe30pJzsgLy8gbWF5YmUgdW5kZXRlY3RhYmxlCiAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnbnVtYmVyJykgewogICAgICAgIGlmICgxIC8gb2JqID09PSAtSW5maW5pdHkpIHJldHVybiAnLTAnOwogICAgICAgIC8vIHRvU3RyaW5nIHNob3VsZCB3b3JrIGFsbCB2YWx1ZXMgYnV0IG5vdCAtMAogICAgICAgIHJldHVybiBOdW1iZXIucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKTsKICAgICAgfQogICAgICAvLyBzdHJpbmcgb3IgYm9vbGVhbgogICAgICBpZiAoIShvYmogaW5zdGFuY2VvZiBPYmplY3QpKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqKTsKICAgICAgLy8gU3RyaW5nLCBOdW1iZXIsIEJvb2xlYW4KICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIFN0cmluZykgcmV0dXJuICcobmV3IFN0cmluZygnICsgaGVscGVyKFN0cmluZy5wcm90b3R5cGUudmFsdWVPZi5jYWxsKG9iaikpICsgJykpJzsKICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIE51bWJlcikgcmV0dXJuICcobmV3IE51bWJlcignICsgaGVscGVyKE51bWJlci5wcm90b3R5cGUudmFsdWVPZi5jYWxsKG9iaikpICsgJykpJzsKICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEJvb2xlYW4pIHJldHVybiAnKG5ldyBCb29sZWFuKCcgKyBoZWxwZXIoQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKG9iaikpICsgJykpJzsKICAgICAgLy8gUmVnRXhwOyB0b1N0cmluZyBzaG91bGQgd29yawogICAgICBpZiAob2JqIGluc3RhbmNlb2YgUmVnRXhwKSByZXR1cm4gUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaik7CiAgICAgIC8vIERhdGU7IGNvbnZlcnQgb2JqIHRvIE51bWJlciBzaG91bGQgd29yawogICAgICBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuICcobmV3IERhdGUoJyArIGhlbHBlcihOdW1iZXIob2JqKSkgKyAnKSknOwogICAgICAvLyBGdW5jdGlvbgogICAgICBpZiAob2JqIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICB2YXIgZnVuYyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaik7CiAgICAgICAgaWYgKC9ce1xzKlxbbmF0aXZlIGNvZGVcXVxzKlx9XHMqJC8udGVzdChmdW5jKSkgcmV0dXJuIG51bGw7CiAgICAgICAgcmV0dXJuICcoJyArIGZ1bmMgKyAnKSc7CiAgICAgIH0KICAgICAgaWYgKHNlZW4uaW5kZXhPZihvYmopICE9PSAtMSkgcmV0dXJuICcoe30pJzsKICAgICAgdmFyIG5ld1NlZW4gPSBzZWVuLmNvbmNhdChbb2JqXSk7CiAgICAgIC8vIEFycmF5CiAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgIHZhciBhcnJheSA9IG9iai5tYXAoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIGhlbHBlcihvLCBuZXdTZWVuKTsgfSk7CiAgICAgICAgLy8gQWRkIGEgY29tbWEgYXQgZW5kIGlmIGxhc3QgZWxlbWVudCBpcyBhIGhvbGUKICAgICAgICB2YXIgbGFzdEhvbGUgPSBhcnJheS5sZW5ndGggJiYgISgoYXJyYXkubGVuZ3RoIC0gMSkgaW4gYXJyYXkpOwogICAgICAgIHJldHVybiAnWycgKyBhcnJheS5qb2luKCcsICcpICsgKGxhc3RIb2xlID8gJywnIDogJycpICsgJ10nOwogICAgICB9CiAgICAgIC8vIE9iamVjdAogICAgICBpZiAob2JqIGluc3RhbmNlb2YgT2JqZWN0KSB7CiAgICAgICAgdmFyIHBhaXJzID0gW107CiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgICAgcGFpcnMucHVzaChKU09OLnN0cmluZ2lmeShrZXkpICsgJzonICsgaGVscGVyKG9ialtrZXldLCBuZXdTZWVuKSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAnKHsnICsgcGFpcnMuam9pbignLCAnKSArICd9KSc7CiAgICAgIH0KICAgICAgcmV0dXJuICcoe30pJzsKICAgIH0gY2F0Y2ggKF9pZ25vcmUxKSB7IH0KICAgIC8vIHRoZXJlIHNob3VsZCBiZSBzb21ldGhpbmcgd3Jvbmc7IG1heWJlIG9iaiBpcyBhIFByb3h5CiAgICB0cnkgewogICAgICBpZiAob2JqIGluc3RhbmNlb2YgT2JqZWN0KSByZXR1cm4gJyh7fSknOwogICAgICBlbHNlIHJldHVybiAnbnVsbCc7CiAgICB9IGNhdGNoIChfaWdub3JlMikgeyB9CiAgICAvLyB0aGVyZSByZWFsbHkgc2hvdWxkIGJlIHNvbWV0aGluZyB3cm9uZyB3aGljaCBjYW5ub3QgYmUgaGFuZGxlZAogICAgcmV0dXJuICdudWxsJzsKICB9OwogIHJldHVybiBmdW5jdGlvbiB1bl9ldmFsKG9iaikgewogICAgcmV0dXJuIGhlbHBlcihvYmosIFtdKTsKICB9Owp9KCkpOwoKLy8g5Zyo6aG16Z2i5omn6KGM5LiA5Liq5Ye95pWwCi8vIOWvueS6juWPguaVsO+8jOS8mummluWFiOi9rOaNouS4ukpTT07vvIzlpoLmnpzml6Dms5XovazmjaLkuLpKU09O5YiZ55u05o6ldG9TdHJpbmcKdXRpbC5mdW5jLnBhZ2UgPSBmdW5jdGlvbiAoZikgewogIHZhciBhcmdzID0gQXJyYXkuZnJvbShhcmd1bWVudHMpLnNsaWNlKDEpLm1hcCh1dGlsLnVuZXZhbCkuam9pbignLCAnKTsKICB2YXIganMgPSAndm9pZCgnICsgZiArICcoJyArIGFyZ3MgKyAnKSk7JzsKICB3aW5kb3cuZXZhbChqcyk7IC8vIFlFUyEgZXZhbCEgd2luZG93LmV2YWwhCn07CgovLyDlu7bov5/osIPnlKjlh73mlbAKdXRpbC5mdW5jLmNhbGwgPSBmdW5jdGlvbiAoZikgewogIHNldFRpbWVvdXQuYXBwbHkobnVsbCwgW2YsIDBdLmNvbmNhdChbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpKTsKfTsKCi8vIOWll+S4inRyeS1jYXRjaAp1dGlsLmZ1bmMuY2F0Y2hlZCA9IGZ1bmN0aW9uIChmLCBmYykgewogIHZhciByZXQgPSBmdW5jdGlvbiAoKSB7CiAgICB0cnkgeyByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9CiAgICBjYXRjaCAoZSkgewogICAgICB1dGlsLmVycm9yKCdFeGNlcHRpb24gd2hpbGUgcnVuICVvOiAlb1xuJW8nLCBmLCBlLCBlLnN0YWNrKTsKICAgICAgaWYgKGZjKSBmYyhlKTsKICAgIH0KICB9OwogIHJldC5uYW1lID0gZi5uYW1lOwogIHJldHVybiByZXQ7Cn07CgovLyDluqbph4/lh73mlbDmgKfog70KdXRpbC5mdW5jLnBlcmZvcm1hbmNlID0gKHV0aWwuc2NyaXB0LmlzZGVidWcgJiYgKCdwZXJmb3JtYW5jZScgaW4gd2luZG93KSkgPyAoZnVuY3Rpb24gKGlnbm9yZSkgewogIHZhciBzdGF0dXMgPSB7fSwgcCA9IGZhbHNlOwogIHZhciBzaG93ID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHApIHJldHVybjsgcCA9IHRydWU7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgcCA9IGZhbHNlOwogICAgICBjb25zb2xlLmxvZygncGVyZm9ybWFuY2UgbWVhbnN1cmU6ICVvJywgc3RhdHVzKTsKICAgIH0sIDYwZTMpOwogIH07CiAgdmFyIG1mdW5jID0gZnVuY3Rpb24gKGYpIHsKICAgIHN0YXR1c1tmLm5hbWVdID0geyAndG90YWwnOiAwLCAnZGF0YSc6IFtdIH07CiAgICBjb25zb2xlLmxvZygnJW8gdGltZSBtZWFuc3VyZScsIGYpOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB2YXIgZCA9IHBlcmZvcm1hbmNlLm5vdygpIC0gdDsKICAgICAgc3RhdHVzW2YubmFtZV0udG90YWwgKz0gZDsKICAgICAgaWYgKGQgPiBpZ25vcmUpCiAgICAgICAgc3RhdHVzW2YubmFtZV0uZGF0YS5wdXNoKHsgJ2R1cmF0aW9uJzogZCwgJ3RpbWUnOiB0IH0pOwogICAgICBzaG93KCk7CiAgICB9OwogIH0sIG1mdW5jcyA9IHt9LCByZWNvcmRlZCA9IHt9OwogIHJldHVybiBmdW5jdGlvbiAoZikgewogICAgaWYgKCFmLm5hbWUpIHsgY29uc29sZS5sb2coJ2Z1bmN0aW9uIG5hbWUgbmVlZGVkOiAlbycsIGYpOyByZXR1cm4gZjsgfQogICAgaWYgKHJlY29yZGVkW2YubmFtZV0gJiYgcmVjb3JkZWRbZi5uYW1lXSAhPT0gZikgeyBjb25zb2xlLmxvZygnZHVwbGljYXRlIGZ1bmN0aW9uIG5hbWU6ICVvLCAlbycsIHJlY29yZGVkW2YubmFtZV0sIGYpOyByZXR1cm4gZjsgfSBlbHNlIHJlY29yZGVkW2YubmFtZV0gPSBmOwogICAgaWYgKCFtZnVuY3NbZi5uYW1lXSkgbWZ1bmNzW2YubmFtZV0gPSBtZnVuYyhmKTsKICAgIHJldHVybiBtZnVuY3NbZi5uYW1lXTsKICB9Owp9KDEwKSkgOiB1dGlsLmZ1bmMuaWRlbnRpdHk7CgovLyDlkJEgdW5zYWZlV2luZG93IOaatOmcsuaOpeWPowp1dGlsLmZ1bmMub3V0cHV0ID0gZnVuY3Rpb24gKG5hbWUsIGhhbmRsZXIpIHsKICB2YXIgcHVzaCA9IHV0aWwuZnVuYy5jYXRjaGVkKGZ1bmN0aW9uIChhcmdzKSB7CiAgICBhcmdzID0gYXJncy53cmFwcGVkSlNPYmplY3QgfHwgYXJnczsKICAgIHV0aWwuZGVidWcoJyVzLiglbyknLCBuYW1lLCBhcmdzKTsKICAgIGhhbmRsZXIoYXJncyk7CiAgfS5iaW5kKHdpbmRvdykpOwogIGlmICh1bnNhZmVXaW5kb3dbbmFtZV0pIHsKICAgIHV0aWwuZGVidWcoJ2JlZm9yZSBsb2FkZWQgJXM6ICVvJywgbmFtZSwgdW5zYWZlV2luZG93W25hbWVdKTsKICAgIEFycmF5LmZyb20odW5zYWZlV2luZG93W25hbWVdKS5mb3JFYWNoKHB1c2gpOwogIH0KICB0cnkgewogICAgdW5zYWZlV2luZG93W25hbWVdID0gbmV3IFByb3h5KHsgJ3B1c2gnOiBwdXNoIH0sIHsKICAgICAgJ2dldCc6IGZ1bmN0aW9uIChvYmosIG5hbWUpIHsgaWYgKG5hbWUgPT09ICdwdXNoJykgcmV0dXJuIG9iai5wdXNoOyB9LAogICAgICAnc2V0JzogZnVuY3Rpb24gKCkgeyB9CiAgICB9KTsKICB9IGNhdGNoIChlKSB7IHVuc2FmZVdpbmRvd1tuYW1lXSA9IHsgJ3B1c2gnOiBwdXNoIH07IH0KfTsKCi8vIOWvueixoeebuOWFs+W3peWFtwp1dGlsLm9iaiA9IHt9OwoKLy8g5L2/55So54K55YiG6ZqU55qE5a2X5Liy57Si5byV5a+56LGhCnV0aWwub2JqLmRvdHRlZCA9IGZ1bmN0aW9uIChvLCBwKSB7CiAgcCA9IHAuc3BsaXQoJy4nKTsKICB3aGlsZSAodHlwZW9mIG8gIT09ICd1bmRlZmluZWQnICYmIHAubGVuZ3RoKSBvID0gb1twLnNoaWZ0KCldOwogIHJldHVybiBvOwp9OwoKLy8g5a2X56ym5Liy5bel5YW3CnV0aWwuc3RyID0ge307CgovLyDlpJrooYzlrZfnrKbkuLIKLy8g5Lyg5YWl55qE5Ye95pWw5YaF5YyF5ZCr5LiA5aSn5q615rOo6YeK77yM5o+Q5Y+W5rOo6YeK5YaF5a655L2c5Li65a2X56ym5LiyCi8vIOS8oOWFpeeahOWHveaVsOacq+WwvueahOmZhOWKoOWGheWuueaYr+S4uuS6humBv+WFjSBVZ2xpZnlKUzIg5Y6L57yp5pe26YCg5oiQ6ZSZ6K+v6ICM5re75Yqg55qECnV0aWwuc3RyLmNtdCA9IGZ1bmN0aW9uIChmKSB7CiAgdmFyIHMgPSBmLnRvU3RyaW5nKCkucmVwbGFjZSgvXltcc1xTXSpcL1wqLiovLCAnJykucmVwbGFjZSgvLipcKlwvW1xzXFNdKiQvLCAnJykucmVwbGFjZSgvXHJcbnxccnxcbi9nLCAnXG4nKTsKICByZXR1cm4gczsKfTsKCi8vIOS7juS4gOS4qumTvuaOpeS4reaIquWPluS7lueahOWfn+WQjQp1dGlsLnN0ci5ob3N0ID0gZnVuY3Rpb24gKGxpbmspIHsKICB2YXIgeCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICB4LmhyZWYgPSBsaW5rOwogIHJldHVybiB4Lmhvc3Q7Cn07Cgp1dGlsLnN0ci5lc2NhcGUgPSB7fTsKLy8g5bCG5a2X56ym5Liy55SoJiNkZOeahOW9ouW8j+i9rOS5ie+8jOS7peS+v+WwhuWGheWuueiHs+S6jiBYTUwg5LitCnV0aWwuc3RyLmVzY2FwZS54bWwgPSBmdW5jdGlvbiAocykgewogIHJldHVybiBzLnJlcGxhY2UoL1tcdTAwMDAtXHUwMGZmXS9nLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gJyYjJyArIGMuY2hhckNvZGVBdCgwKTsgfSk7Cn07Ci8vIOWwhuato+WImeW8j+ebuOWFs+Wtl+espuS7peaWnOadoOi9rOS5ie+8jOS7peS+v+WIm+W7uuato+WImeWMuemFjQp1dGlsLnN0ci5lc2NhcGUucmVnZXhwID0gZnVuY3Rpb24gKHMpIHsKICByZXR1cm4gcy5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8XFtcXVwvXFxdKS9nLCAiXFwkMSIpOwp9OwoKLy8g5bCGIHV0Zjgg57yW56CB55qEIHNvZnRiYW5rIOihqOaDhei9rOaNouS4uiB1bmljb2RlIO+8jCDkvovlpoIgImVlODE5MiIgLT4gIvCfkLYiCnV0aWwuc3RyLmNvZGVQb2ludCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHsKICBpZiAoU3RyaW5nLmZyb21Db2RlUG9pbnQpIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludChjb2RlUG9pbnQpOwogIGlmIChjb2RlUG9pbnQgPCAweEZGRkYpIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGVQb2ludCk7CiAgcmV0dXJuIChTdHJpbmcuZnJvbUNoYXJDb2RlKChjb2RlUG9pbnQgPj4gMTApICsgMHhEN0MwKSArCiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKChjb2RlUG9pbnQgJSAweDQwMCkgKyAweERDMDApKTsKfTsKdXRpbC5zdHIuZW1vamkgPSBmdW5jdGlvbiAoY29kZSkgewogIC8vIOaIkeS7rOWwhiB1dGY4IOe8lueggei9rOaNouaIkOeggeS9jeeCue+8jOW5tuWHj+WOuyAweGUwMDAg5ZCO5p+l6KGoCiAgdmFyIHNvZnRiYW5rID0gZW1vamlbZGVjb2RlVVJJQ29tcG9uZW50KGNvZGUucmVwbGFjZSgvKC4uKS9nLCAnJSQxJykpLmNoYXJDb2RlQXQoMCkgLSAweGUwMDBdOwogIGlmICghc29mdGJhbmsubGVuZ3RoKSBzb2Z0YmFuayA9IFtzb2Z0YmFua107CiAgLy8g5pyA5ZCO5bCG57uT5p6c6L2s5o2i5Zue5a2X56ymCiAgdmFyIHVuaWNvZGUgPSBzb2Z0YmFuay5tYXAodXRpbC5zdHIuY29kZVBvaW50KS5qb2luKCcnKTsKICB1dGlsLmRlYnVnKCdlbW9qaSBjb252ZXJ0ICVvIC0+ICVvJywgY29kZSwgdW5pY29kZSk7CiAgcmV0dXJuIHVuaWNvZGU7Cn07CgovLyDku6Xlj4LmlbDloavlhYXlrZfnrKbkuLIKdXRpbC5zdHIuZmlsbCA9IGZ1bmN0aW9uIChiYXNlLCBmdW5jKSB7CiAgdmFyIGFyZ2RhdGFzID0gQXJyYXkuZnJvbShhcmd1bWVudHMpLnNsaWNlKDEpOwogIHZhciBkYXRhcyA9IGFyZ2RhdGFzLmNvbmNhdChbdGV4dCwgZmlsbF0pOwogIC8vIOaJvuWQiOmAgueahOWGheWuueWhq+S4igogIHZhciBwYXJzZXIgPSBmdW5jdGlvbiAoZGF0YXMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgIHZhciByZXQgPSBudWxsOwogICAgICBkYXRhcy5zb21lKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJiBrZXkgaW4gZGF0YSkgcmV0ID0gJycgKyBkYXRhW2tleV07CiAgICAgICAgcmV0dXJuIHJldCAhPT0gbnVsbDsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXQ7CiAgICB9OwogIH07CiAgdmFyIHBhcnNlRnVuY3Rpb247CiAgaWYgKHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nKSBwYXJzZUZ1bmN0aW9uID0gZnVuYzsKICBlbHNlIHBhcnNlRnVuY3Rpb24gPSBwYXJzZXIoZGF0YXMpOwogIHJldHVybiBiYXNlLnJlcGxhY2UoL1x7XHsoW1xbe10pPyhbYS16QS1aMC05X1wtXSopKFtcXVx9XSk/XH1cfS9nLCBmdW5jdGlvbiAobywgaSwgcCwgYykgewogICAgdmFyIHBzID0gcC5zcGxpdCgnfCcpLCBtID0geyAneyc6ICd9JywgJ1snOiAnXScsICcnOiAnJyB9W2kgfHwgJyddID09PSAoYyB8fCAnJyk7CiAgICB2YXIgcmV0ID0gcGFyc2VGdW5jdGlvbihwc1swXSk7CiAgICBpZiAocmV0ID09IG51bGwpIHJldHVybiBvOwogICAgaWYgKG0gJiYgaSA9PT0gJ3snKSByZXQgPSB1dGlsLnN0ci5maWxsKHJldCwgcGFyc2VGdW5jdGlvbik7CiAgICBlbHNlIGlmIChtICYmIGkgPT09ICdbJykgcmV0ID0gdXRpbC5zdHIuZXNjYXBlLnhtbChyZXQpOwogICAgZWxzZSBpZiAoIW0pIHJldCA9IChpIHx8ICcnKSArIHJldCArIChjIHx8ICcnKTsKICAgIHJldHVybiByZXQ7CiAgfSk7Cn07CgovLyDkuqfnlJ/kuIDkuKrlgYfnmoTlm57osIPlh73mlbAKdXRpbC5zdHIuZmNiID0gKGZ1bmN0aW9uICgpIHsKICB2YXIgbGFzdCA9IDA7CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAnU1RLXycgKyAobGFzdCA9IE1hdGgubWF4KGxhc3QgKyAxLCBEYXRlLm5vdygpKSk7CiAgfTsKfSgpKTsKCi8vIOS7jiBKU09OUCDnmoTov5Tlm57nu5PmnpzkuK3miKrlj5bmnInnlKjnmoTkuJzopb8KdXRpbC5zdHIucGFyc2Vqc29ucCA9IGZ1bmN0aW9uIChyZXNwKSB7CiAgcmV0dXJuIEpTT04ucGFyc2UocmVzcC5yZXBsYWNlKC9edHJ5XHtbXntdKlwoXHsvLCAneycpLnJlcGxhY2UoL31cKVxzKjs/XHMqfWNhdGNoXChlXClce1x9Oz8kLywgJ30nKSk7Cn07CgovLyDmo4Dmn6XkuIDkuKrlrZfkuLLmmK/lkKbmmK/mraPliJnlvI/vvIzlpoLmnpzlh7rplJnmiqXlkYrnlKjmiLcKLy8g6L+U5Zue5Li65q2j5YiZ5byP5oiWIG51bGwKdXRpbC5zdHIuYWRkcmVnZXggPSBmdW5jdGlvbiAocykgewogIHMgPSBzLnRyaW0oKTsKICBpZiAocy5sZW5ndGggPj0gMiAmJiBzWzBdID09PSAnLycgJiYgc1tzLmxlbmd0aCAtIDFdID09PSAnLycpIHMgPSBzLnNsaWNlKDEsIC0xKTsKICB0cnkgeyBSZWdFeHAocykuZXhlYygnJyk7IH0gY2F0Y2ggKGUpIHsKICAgIHV0aWwudWkuYWxlcnQoJ3lhd2YtcmVnZXhwLWJhZC1mb3JtZWQnLCB7CiAgICAgICd0aXRsZSc6IHV0aWwuc3RyLmZpbGwoJ3t7cmVnZXhwQmFkRm9ybWVkVGl0bGV9fScpLAogICAgICAndGV4dCc6IHV0aWwuc3RyLmZpbGwoJ3t7e3JlZ2V4cEJhZEZvcm1lZH19fScsIHsgJ3JlZ2V4cCc6IHV0aWwuc3RyLmVzY2FwZS54bWwocykgfSksCiAgICAgICdpY29uJzogJ2Vycm9yJwogICAgfSk7CiAgICBzID0gbnVsbDsKICB9CiAgaWYgKFJlZ0V4cChzKSArICcnID09PSAnLyg/OikvJykgcmV0dXJuIG51bGw7CiAgcmV0dXJuIHM7Cn07CgovLyDlsIblrZfnrKbkuLLnvJbor5HmiJDmraPliJnlvI8KdXRpbC5zdHIuY29tcHJlZ2V4ID0gZnVuY3Rpb24gKHJlZ2V4KSB7CiAgdHJ5IHsgcmV0dXJuIFJlZ0V4cChyZWdleCk7IH0KICBjYXRjaCAoZSkgewogICAgdXRpbC5kZWJ1ZygnY29tcGlsZSByZWdleHAgZXhjZXB0aW9uICVzIDogJW8nLCByZWdleCwgZSk7CiAgICByZXR1cm4gbnVsbDsKICB9Cn07CgovLyDlsIYm6L+e5o6l55qE6ZSu5YC85a+55Y+Y5Li65a+56LGhCnV0aWwuc3RyLnBhcnNlcXVlcnkgPSBmdW5jdGlvbiAoc3RyKSB7CiAgdmFyIG8gPSB7fTsKICBpZiAoc3RyID09PSAnJykgcmV0dXJuIG87CiAgc3RyLnNwbGl0KCcmJykubWFwKGZ1bmN0aW9uIChrdikgewogICAgaWYgKGt2ID09PSAnJykgcmV0dXJuOwogICAgaWYgKGt2LmluZGV4T2YoJz0nKSA9PT0gLTEpIG9ba3ZdID0gbnVsbDsKICAgIGVsc2UgewogICAgICBrdiA9IGt2LnNwbGl0KCc9JywgMik7CiAgICAgIG9bZGVjb2RlVVJJQ29tcG9uZW50KGt2WzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQoa3ZbMV0pOwogICAgfQogIH0pOwogIHJldHVybiBvOwp9OwovLyDlsIblr7nosaHmjaLmiJAgJiDov57mjqXnmoTplK7lgLwKdXRpbC5zdHIudG9xdWVyeSA9IGZ1bmN0aW9uIChvKSB7CiAgcmV0dXJuIE9iamVjdC5rZXlzKG8pLm1hcChmdW5jdGlvbiAoaykgewogICAgaWYgKG9ba10gPT0gbnVsbCB8fCBvW2tdID09PSB0cnVlKSByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGspOwogICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChrKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvW2tdKTsKICB9KS5qb2luKCcmJyk7Cn07CgovLyDlsIbpopzoibLlkozpgI/mmI7luqbovazmjaLkuLrkuIDkuKrooajnpLrpopzoibLnmoTlrZfnrKbkuLIKdXRpbC5zdHIucmdiYSA9IGZ1bmN0aW9uIChjb2xvciwgdHJhbnNwYXJlbmN5KSB7CiAgcmV0dXJuICdyZ2JhKCcgKyBjb2xvci5zbGljZSgxKQogICAgLnNwbGl0KC8oLi4pLykuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4OyB9KQogICAgLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gcGFyc2VJbnQoeCwgMTYpOyB9KS5qb2luKCcsJykgKwogICAgJywnICsgKDEwMCAtIHRyYW5zcGFyZW5jeSkgLyAxMDAgKyAnKSc7Cn07CgovLyDlrZfnrKbkuLIgYmFzZTY0IOe8lueggQp1dGlsLnN0ci5iYXNlNjQgPSBmdW5jdGlvbiAoc3RyKSB7CiAgcmV0dXJuIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpKTsKfTsKCi8vIOaWh+aho+ebuOWFs+W3peWFtwp1dGlsLmRvbSA9IHt9OwoKLy8g5b+r6YCf5Yib5bu65LiA5q615paH5qGj5YWD57SgCnV0aWwuZG9tLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSh0YWcsIGlubmVyKSB7CiAgaWYgKHRhZyAmJiB0eXBlb2YgaW5uZXIgPT09ICd1bmRlZmluZWQnKQogICAgcmV0dXJuIGNyZWF0ZSgnZGl2JywgdGFnKS5maXJzdENoaWxkOwogIHZhciBkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpOwogIGQuaW5uZXJIVE1MID0gaW5uZXI7CiAgcmV0dXJuIGQ7Cn07CgovLyDmn5DkuKrlhYPntKDmmK/lkKbljLnphY3nibnlrprpgInmi6nlmagKdXRpbC5kb20ubWF0Y2hlcyA9IChmdW5jdGlvbiAoKSB7CiAgLy8g5LiN6IO955u05o6l5omp5bGVIEVsZW1lbnQucHJvdG90eXBlCiAgLy8gaHR0cHM6Ly9idWd6aWwubGEvNzg3MDcwIChtb3ppbGxhMzUpCiAgdmFyIGVwID0gRWxlbWVudC5wcm90b3R5cGUsIG1hdGNoZXMgPSBlcC5tYXRjaGVzIHx8CiAgICBlcC5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgZXAub01hdGNoZXNTZWxlY3RvciB8fAogICAgZXAud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGVwLm1zTWF0Y2hlc1NlbGVjdG9yOwogIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgc2VsZWN0b3IpIHsKICAgIHRyeSB7IHJldHVybiBtYXRjaGVzLmNhbGwoZWxlbWVudCwgW3NlbGVjdG9yXSk7IH0KICAgIGNhdGNoIChlKSB7IHJldHVybiBudWxsOyB9CiAgfTsKfSgpKTsKCi8vIOaJvuWIsOespuWQiOadoeS7tueahOeItuiKgueCuQp1dGlsLmRvbS5wYXJlbnQgPSBmdW5jdGlvbiAobm9kZSwgc2VsZWN0b3IpIHsKICB3aGlsZSAobm9kZSAmJiAhdXRpbC5kb20ubWF0Y2hlcyhub2RlLCBzZWxlY3RvcikpIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CiAgcmV0dXJuIG5vZGUgfHwgbnVsbDsKfTsKCi8vIOWQjOS4gOS4quWFg+e0oOWkmuS4qui+k+WFpeahhuWQjOatpQovLyDlsIbovpPlhaXmoYblkozmn5DkuKrorr7nva7pobnnu5HlrpoKdXRpbC5kb20uYmluZCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIGJpbmQgPSBmdW5jdGlvbiAocGFyYW0sIGlucHV0LCBvYmosIHN0YW5kbGl6ZSkgewogICAgdmFyIGZpbmUgPSBzdGFuZGxpemUgfHwgdXRpbC5mdW5jLmlkZW50aXR5OwogICAgdmFyIG9uY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdmFsID0gaW5wdXRbcGFyYW1dLCB2YWxpZDsKICAgICAgdmFsaWQgPSBmaW5lKHZhbCk7CiAgICAgIGlmIChTdHJpbmcodmFsaWQpICE9PSB2YWwpIGlucHV0W3BhcmFtXSA9IHZhbGlkOwogICAgICBvYmoucHV0Y29uZih2YWxpZCk7CiAgICB9OwogICAgaWYgKG9iai5rZXkpIHV0aWwuY29uZmlnLm9ucHV0KG9iai5rZXksIGZ1bmN0aW9uICh2YWx1ZSkgeyBpbnB1dFtwYXJhbV0gPSB2YWx1ZTsgfSk7CiAgICBpbnB1dFtwYXJhbV0gPSBmaW5lKG9iai5nZXRjb25mKCkpOwogICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb25jaGFuZ2UpOwogICAgcmV0dXJuIG9uY2hhbmdlOwogIH07CiAgcmV0dXJuIHsKICAgICd0ZXh0JzogYmluZC5iaW5kKG51bGwsICd2YWx1ZScpLAogICAgJ2NoZWNrYm94JzogYmluZC5iaW5kKG51bGwsICdjaGVja2VkJyksCiAgICAnc2VsZWN0JzogYmluZC5iaW5kKG51bGwsICd2YWx1ZScpLAogIH07Cn0oKSk7CgoKdXRpbC5mb250ID0ge307CgovLyDorqHnrpfmloflrZflrr3luqYKdXRpbC5mb250LndpZHRoID0gKGZ1bmN0aW9uICgpIHsKICAvLyDkvb/nlKjlvq7ljZrnmoTpu5jorqTlrZflj7fkvZzkuLrluqbph4/lgLwKICB2YXIgZm9udHNpemUgPSAxNDsKICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKCiAgLy8g5L2/55SoQ2FudmFz6K6h566XCiAgLy8gaHR0cHM6Ly9idWd6aWwubGEvNTYxMzYxCiAgcmV0dXJuIGZ1bmN0aW9uIChmb250bmFtZSwgdGV4dCkgewogICAgY29udGV4dC5mb250ID0gJ2JvbGQgJyArIGZvbnRzaXplICsgJ3B4ICcgKyBmb250bmFtZTsKICAgIHJldHVybiBjb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoOwogIH07Cn0oKSk7CgovLyDpgInmi6nlkIjpgILnmoTlrZfkvZMKdXRpbC5mb250LnZhbGlkID0gKGZ1bmN0aW9uICgpIHsKICAvLyDmo4Dmn6Xov5nkuKrlrZfkuLLnmoTlrr3luqbmnaXmo4Dmn6XlrZfkvZPmmK/lkKblrZjlnKgKICB2YXIgc2FtcGxlVGV4dCA9CiAgICAnVGhlIHF1aWNrIGJyb3duIGZveCBqdW1wcyBvdmVyIHRoZSBsYXp5IGRvZzc1MzE5MDI0NjgsLiEt5aSp5Zyw546E6buE5YmH6L+R6YGT55+j77yM44CC77ya77yBJzsKICAvLyDlkozov5nkupvlrZfkvZPov5vooYzmr5TovoMKICB2YXIgc2FtcGxlRm9udCA9IFsKICAgICdtb25vc3BhY2UnLCAnc2Fucy1zZXJpZicsICdzYW5zJywgJ1N5bWJvbCcsICdBcmlhbCcsICdGaXhlZCcsCiAgICAnVGltZXMnLCAnVGltZXMgTmV3IFJvbWFuJywgJ+Wui+S9kycsICfpu5HkvZMnLCAnTWljcm9zb2Z0IFlhSGVpJwogIF07CiAgLy8g5aaC5p6c6KKr5qOA5p+l55qE5a2X5L2T5ZKM5Z+65YeG5a2X5L2T5Y+v5Lul5riy5p+T5Ye65LiN5ZCM55qE5a695bqmCiAgLy8g6YKj5LmI6K+05piO6KKr5qOA5p+l55qE5a2X5L2T5oC75piv5a2Y5Zyo55qECiAgdmFyIGRpZmZGb250ID0gZnVuY3Rpb24gKGJhc2UsIHRlc3QpIHsKICAgIHZhciBiYXNlU2l6ZSA9IHV0aWwuZm9udC53aWR0aChiYXNlLCBzYW1wbGVUZXh0LCA3Mik7CiAgICB2YXIgdGVzdFNpemUgPSB1dGlsLmZvbnQud2lkdGgodGVzdCArICcsJyArIGJhc2UsIHNhbXBsZVRleHQsIDcyKTsKICAgIHJldHVybiBiYXNlU2l6ZSAhPT0gdGVzdFNpemU7CiAgfTsKICByZXR1cm4gZnVuY3Rpb24gKHRlc3QpIHsKICAgIHZhciB2YWxpZCA9IHNhbXBsZUZvbnQuc29tZShmdW5jdGlvbiAoYmFzZSkgewogICAgICByZXR1cm4gZGlmZkZvbnQoYmFzZSwgdGVzdCk7CiAgICB9KTsKICAgIHJldHVybiB2YWxpZDsKICB9Owp9KCkpOwoKLy8g5a+5572R6aG155qE5Yik5patCnV0aWwucGFnZSA9IHt9OwoKLy8g5qOA5p+l5piv5ZCm6KaB5Zyo5pys6aG15LiK6L+Q6KGMCnV0aWwucGFnZS52YWxpZCA9IGZ1bmN0aW9uICgpIHsKICAvLyDlv4XpobvnmoTlj4LmlbAKICBpZiAoIXVuc2FmZVdpbmRvdy4kQ09ORklHKSByZXR1cm4gZmFsc2U7CiAgaWYgKCF1bnNhZmVXaW5kb3cuJENPTkZJRy51aWQpIHJldHVybiBmYWxzZTsKICBpZiAoIXVuc2FmZVdpbmRvdy4kQ09ORklHLm5pY2spIHJldHVybiBmYWxzZTsKICAvLyDlpoLmnpzmmK/mkJzntKLpobXvvIzogIzkuJTmnKrkuo7mkJzntKLpobXpnaLlkK/nlKjvvIzliJnkuI3lt6XkvZwKICBpZiAodXRpbC5wYWdlLnNlYXJjaCAmJiAhdXRpbC5wYWdlLnNlYXJjaGVuYWJsZSkgcmV0dXJuIGZhbHNlOwogIC8vIOWmguaenOacieeZu+W9leaMiemSru+8jOWImeivtOaYjuayoeacieeZu+W9le+8jOatpOaXtuS4jeW3peS9nAogIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ25fbG9naW4nKSkgcmV0dXJuIGZhbHNlOwogIHV0aWwuZGVidWcoJ3lhd2Ygc3RhcnRlZCBpbiBwYWdlOiAlbyAoJXMgdG9wKScsIGxvY2F0aW9uLCBzZWxmID09PSB0b3AgPyAnaXMnIDogJ2lzIG5vdCcpOwogIHJldHVybiB0cnVlOwp9OwoKLy8g5b2T5YmN5piv5ZCm5piv6aaW6aG1CnV0aWwucGFnZS5ob21lID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBsb2NhdGlvbi5wYXRobmFtZS5zbGljZSgtNSkgPT09ICcvaG9tZSc7Cn07CgovLyDlvZPliY3mmK/mn6XnnIvliIbnu4TnmoTpobXpnaLlkJcKdXRpbC5wYWdlLmdyb3VwID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBsb2NhdGlvbi5wYXRobmFtZS5zbGljZSgtOSkgPT09ICcvbXlncm91cHMnOwp9OwoKLy8g5b2T5YmN5piv5pCc57Si6aG16Z2i5ZCXCnV0aWwucGFnZS5zZWFyY2ggPSAoZnVuY3Rpb24gKCkgewogIHJldHVybiBsb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ3Mud2VpYm8uY29tJzsKfSgpKTsKLy8g5Lul5Y+K5Zyo5pCc57Si5Lmf5ZCv55So5ZCXCnV0aWwucGFnZS5zZWFyY2hlbmFibGUgPSAoZnVuY3Rpb24gKCkgewogIHJldHVybiAhIUdNX2dldFZhbHVlKCdzZWFyY2hfZW5hYmxlJywgZmFsc2UpOwp9KCkpOwoKLy8g5b2T5YmN5piv5Y+R546w6aG16Z2i5ZCXCnV0aWwucGFnZS5kaXNjb3ZlcnkgPSAoZnVuY3Rpb24gKCkgewogIHJldHVybiBsb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2Qud2VpYm8uY29tJzsKfSgpKTsKCi8vIOajgOafpeW9k+WJjeaYr+WQpuaYr+eUqOaIt+S4quS6uuS4u+mhtQp1dGlsLnBhZ2UudXNlciA9IGZ1bmN0aW9uICgpIHsKICBpZiAoIWRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdGUkFNRV9wYWdlJykpIHJldHVybiBmYWxzZTsKICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5QQ0RfaGVhZGVyIC51c2VybmFtZScpKSByZXR1cm4gZmFsc2U7CiAgcmV0dXJuIHRydWU7Cn07CgovLyDmo4Dmn6XmmK/kuI3mmK/miJHnmoTkuKrkurrkuLvpobUKdXRpbC5wYWdlLm15aG9tZSA9IGZ1bmN0aW9uICgpIHsKICBpZiAoIXV0aWwucGFnZS51c2VyKCkpIHJldHVybiBmYWxzZTsKICByZXR1cm4gISF1dGlsLmluZm8udWlkICYmIHV0aWwuaW5mby5vaWQoKSA9PT0gdXRpbC5pbmZvLnVpZDsKfTsKCi8vIOWIneWni+WMlgp1dGlsLmluaXQgPSAoZnVuY3Rpb24gKCkgewogIHZhciBjYWxsYmFja3MgPSBbXSwgaW5kZXggPSAwOwogIC8vIOWujOaIkOWKoOi9veaXtuiwg+eUqAogIHZhciBkY2wgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdmFsaWQgPSB1dGlsLnBhZ2UudmFsaWQoKTsKICAgIGNhbGxiYWNrcy5zb3J0KGZ1bmN0aW9uICh4LCB5KSB7CiAgICAgIHJldHVybiB5WzBdIC0geFswXSB8fCB5WzFdIC0geFsxXTsKICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgaWYgKHZhbGlkIHx8IGlbM10pIHV0aWwuZnVuYy5jYXRjaGVkKGlbMl0pKHZhbGlkKTsKICAgIH0pOwogIH07CiAgaWYgKGRvY3VtZW50LmJvZHkpIHNldFRpbWVvdXQoZGNsLCAwKTsKICBlbHNlIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBkY2wpOwogIC8vIOa3u+WKoOWbnuiwgwogIHZhciBhZGQgPSBmdW5jdGlvbiAoZnVuYywgcHJpb3JpdHksIGFsd2F5cykgewogICAgY2FsbGJhY2tzLnB1c2goW3ByaW9yaXR5LCArK2luZGV4LCBmdW5jLCBhbHdheXNdKTsKICAgIHJldHVybiBmdW5jOwogIH07CiAgcmV0dXJuIGFkZDsKfSgpKTsKCi8vIOimhuebliBTVEsg55u45YWz5Ye95pWwCi8vIOeUseS6jiBTVEsg55qE5a6e546w5py65Yi25ZKM6ISa5pys5rKZ566x562J5Zug57Sg6ZmQ5Yi2Ci8vICAgMS4g6L+Z5Liq5Ye95pWw6ZyA6KaB5ZyoIFNUSyDms6jlhoznm7jlhbPlh73mlbDliY3osIPnlKgKLy8gICAyLiDlsIHoo4Xlh73mlbDkvJrpgJrov4fovazmjaLkuLrlrZfnrKbkuLLlho1ldmFs55qE5b2i5byP6KKr5pq06Zyy5Yiw6aG16Z2i6ISa5pys5LiK5LiL5paH5LitCi8vIOWboOatpO+8jOi/meS4quWHveaVsOW/hemhu+WcqOWIneWni+WMluWJjeiwg+eUqO+8jOiAjOS4lOWHveaVsOWGheS4jeiDveW8leeUqOWklumDqOeahOWPmOmHjwp1dGlsLmZ1bmMud3JhcHN0ayA9IChmdW5jdGlvbiAoKSB7CiAgdXRpbC5mdW5jLnBhZ2UoZnVuY3Rpb24gKGlzRGVidWcpIHsKICAgIGlmICgnU1RLJyBpbiB3aW5kb3cpIHsKICAgICAgaWYgKGlzRGVidWcpIGNvbnNvbGUuZXJyb3IoJ1lBV0YgZmFpbGVkIHRvIHdyYXAgU1RLLiBTVEsgYWxyZWFkeSBkZWZpbmVkLiBTb21lIGZ1bmN0aW9ucyBtYXkgbm90IHdvcmsuJyk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgd3JhcFJlZ2lzdGVyID0gZnVuY3Rpb24gKHJlZ2lzdGVyKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAobmFtZSwgcmVnaXN0ZXJGdW5jdGlvbiwgc2NvcGUpIHsKICAgICAgICB2YXIgb3JpZ2luYWwgPSByZWdpc3RlckZ1bmN0aW9uOwogICAgICAgIGlmIChuYW1lID09PSAnbmFtZXNwYWNlJykgewogICAgICAgICAgcmVnaXN0ZXJGdW5jdGlvbiA9IHdyYXBOYW1lc3BhY2UocmVnaXN0ZXJGdW5jdGlvbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdyYXBwZXJzLmZvckVhY2goZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgaWYgKG5hbWUgPT09IG8ubmFtZSkgcmVnaXN0ZXJGdW5jdGlvbiA9IG8ud3JhcHBlcihyZWdpc3RlckZ1bmN0aW9uKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBpZiAoaXNEZWJ1ZyAmJiByZWdpc3RlckZ1bmN0aW9uICE9PSBvcmlnaW5hbCkgewogICAgICAgICAgY29uc29sZS5sb2coJ3JlZ2lzdGVyOiAlbyA9ICVvICh0aGlzOiAlbyknLCBuYW1lLCByZWdpc3RlckZ1bmN0aW9uLCB0aGlzKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlZ2lzdGVyLmNhbGwodGhpcywgbmFtZSwgcmVnaXN0ZXJGdW5jdGlvbiwgc2NvcGUpOwogICAgICB9OwogICAgfTsKCiAgICB2YXIgd3JhcE5hbWVzcGFjZSA9IGZ1bmN0aW9uIChuYW1lc3BhY2VGdW5jdGlvbkdldHRlcikgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBuYW1lc3BhY2VGdW5jdGlvbiA9IG5hbWVzcGFjZUZ1bmN0aW9uR2V0dGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgdmFyIGZha2VOYW1lc3BhY2VLZXkgPSAneWF3Zl9wcm90b19nZXR0ZXInOwogICAgICAgIHZhciBuYW1lc3BhY2VJbnN0YW5jZSA9IG5hbWVzcGFjZUZ1bmN0aW9uKGZha2VOYW1lc3BhY2VLZXkpOwogICAgICAgIHZhciBuYW1lc3BhY2VQcm90b3R5cGUgPSBuYW1lc3BhY2VJbnN0YW5jZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7CiAgICAgICAgbmFtZXNwYWNlUHJvdG90eXBlLnJlZ2lzdGVyID0gd3JhcFJlZ2lzdGVyKG5hbWVzcGFjZVByb3RvdHlwZS5yZWdpc3Rlcik7CiAgICAgICAgZGVsZXRlIG5hbWVzcGFjZVByb3RvdHlwZS5uYW1lc3BhY2VbZmFrZU5hbWVzcGFjZUtleV07CiAgICAgICAgcmV0dXJuIG5hbWVzcGFjZUZ1bmN0aW9uOwogICAgICB9OwogICAgfTsKCiAgICB2YXIgc3RrID0gbnVsbCwgd3JhcHBlcnMgPSBbXTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdTVEsnLCB7CiAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RrOyB9LAogICAgICBzZXQ6IGZ1bmN0aW9uICh0cnVlU3RrKSB7CiAgICAgICAgdHJ1ZVN0ay5yZWdpc3RlciA9IHdyYXBSZWdpc3Rlcih0cnVlU3RrLnJlZ2lzdGVyKTsKICAgICAgICBzdGsgPSB0cnVlU3RrOwogICAgICB9LAogICAgICBlbnVtZXJhYmxlOiB0cnVlCiAgICB9KTsKCiAgICB3aW5kb3cuJFlBV0YkID0gd2luZG93LiRZQVdGJCB8fCB7fTsKICAgIHdpbmRvdy4kWUFXRiQuc3RrV3JhcHBlciA9IGZ1bmN0aW9uIChuYW1lLCByZWdGdW5jV3JhcHBlcikgewogICAgICB3cmFwcGVycy5wdXNoKHsgbmFtZTogbmFtZSwgd3JhcHBlcjogcmVnRnVuY1dyYXBwZXIgfSk7CiAgICB9OwoKICB9LCB1dGlsLnNjcmlwdC5pc2RlYnVnKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChuYW1lLCB3cmFwcGVyKSB7CiAgICB1dGlsLmZ1bmMucGFnZShmdW5jdGlvbiAobmFtZSwgd3JhcHBlcikgewogICAgICBpZiAoJFlBV0YkLnN0a1dyYXBwZXIpIHsKICAgICAgICAkWUFXRiQuc3RrV3JhcHBlcihuYW1lLCB3cmFwcGVyKTsKICAgICAgfQogICAgfSwgbmFtZSwgd3JhcHBlcik7CiAgfTsKCn0oKSk7CgoKLy8g5a+56aG16Z2i5Lit5re75Yqg5YWD57Sg5pe255qE55uR5ZCsCnZhciBvYnNlcnZlciA9IHt9OwoKLy8g5pyJ5paw57uT54K55pe25YiG5Y+R5LqL5Lu255uR5ZCsCm9ic2VydmVyLmRvbSA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIGNhbGxiYWNrcyA9IFtdOwogIHZhciBhZGQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgIGNhbGxiYWNrcy5wdXNoKHsKICAgICAgJ29yaSc6IGNhbGxiYWNrLAogICAgICAnd3JhcCc6IHV0aWwuZnVuYy5jYXRjaGVkKHV0aWwuZnVuYy5wZXJmb3JtYW5jZShjYWxsYmFjaykpCiAgICB9KTsKICAgIHJldHVybiBjYWxsYmFjazsKICB9OwogIHZhciByZW1vdmUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgIHZhciBmb3VuZCA9IGZhbHNlOwogICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICB2YXIgc2FtZSA9IHgub3JpID09PSBjYWxsYmFjazsKICAgICAgaWYgKHNhbWUpIGZvdW5kID0gdHJ1ZTsKICAgICAgcmV0dXJuICFzYW1lOwogICAgfSk7CiAgICByZXR1cm4gZm91bmQ7CiAgfTsKICB2YXIgYWN0aXZlZCA9IG51bGw7CiAgdmFyIGFjdCA9IGZ1bmN0aW9uICgpIHsKICAgIGNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7IGMud3JhcCgpOyB9KTsKICB9OwogIHZhciBhY3RpdmUgPSB1dGlsLmZ1bmMuY2F0Y2hlZChmdW5jdGlvbiAobXV0YXRpb24pIHsKICAgIGlmIChtdXRhdGlvbiAmJiBBcnJheS5mcm9tKG11dGF0aW9uKS5ldmVyeShmdW5jdGlvbiBpc0RhdGUoeCkgewogICAgICB2YXIgdGFyZ2V0ID0geC50YXJnZXQ7CiAgICAgIHJldHVybiB0YXJnZXQuaGFzQXR0cmlidXRlKCdkYXRlJykgfHwgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgneWF3Zi1kYXRlJyk7CiAgICB9KSkgcmV0dXJuOwoKICAgIGlmIChhY3RpdmVkID09PSBmYWxzZSkgYWN0aXZlZCA9IHRydWU7CiAgICBpZiAoYWN0aXZlZCAhPT0gbnVsbCkgcmV0dXJuOwogICAgYWN0KCk7IGFjdGl2ZWQgPSBmYWxzZTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBpZiAoYWN0aXZlZCA9PT0gdHJ1ZSkgYWN0KCk7IGFjdGl2ZWQgPSBudWxsOwogICAgfSwgMTAwKTsKICB9KTsKICB2YXIgb2JzZXJ2ZSA9IGZ1bmN0aW9uICgpIHsKICAgIGFjdGl2ZSgpOyAvLyDliJ3lp4vljJYKICAgIChuZXcgTXV0YXRpb25PYnNlcnZlcihhY3RpdmUpKQogICAgICAub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7ICdjaGlsZExpc3QnOiB0cnVlLCAnc3VidHJlZSc6IHRydWUgfSk7CiAgfTsKICBpZiAoISgnTXV0YXRpb25PYnNlcnZlcicgaW4gd2luZG93KSkgb2JzZXJ2ZSA9IGZ1bmN0aW9uICgpIHsKICAgIC8vIGZvciBsYWdlbmN5IGJyb3dzZXJzCiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVJbnNlcnRlZCIsIGZ1bmN0aW9uIChlKSB7IGFjdGl2ZSgpOyB9LCBmYWxzZSk7CiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVSZW1vdmVkIiwgZnVuY3Rpb24gKGUpIHsgYWN0aXZlKCk7IH0sIGZhbHNlKTsKICB9OwogIHV0aWwuaW5pdChmdW5jdGlvbiAoKSB7CiAgICBvYnNlcnZlKCk7CiAgfSwgdXRpbC5wcmlvcml0eS5MQVNUICsgdXRpbC5wcmlvcml0eS5BRlRFUiAqIDIpOwogIHJldHVybiB7CiAgICAnYWRkJzogYWRkLAogICAgJ3JlbW92ZSc6IHJlbW92ZSwKICB9Owp9KCkpOwoKLy8g5a+55q+P5p2h5b6u5Y2a5bqU55So6L+H5ruk5ZKM5YW25LuW55u45YWz5Zue6LCDCm9ic2VydmVyLndlaWJvID0gKGZ1bmN0aW9uICgpIHsKICB2YXIgYmVmb3JlcyA9IFtdLCBhZnRlcnMgPSBbXSwgb25sb2FkcyA9IFtdLCBkb25lcyA9IFtdOwogIHZhciB3ZWlib09ic2VydmVyLCBidXN5ID0gZmFsc2UsIHJlcnVuID0gZmFsc2U7CiAgdmFyIGNoZWNrRmVlZERvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICBidXN5ID0gZmFsc2U7CiAgICB3ZWlib09ic2VydmVyKCk7CiAgICBkb25lcy5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7IHgoKTsgfSk7CiAgICByZXR1cm47CiAgfTsKICB2YXIgY2hlY2tGZWVkcyA9IGZ1bmN0aW9uIChmZWVkcykgewogICAgYnVzeSA9IHRydWU7CiAgICAoZnVuY3Rpb24gY2hlY2tGZWVkKCkgewogICAgICB1dGlsLmRlYnVnKCdjaGVja2luZyAlZCBmZWVkKHMpJywgZmVlZHMubGVuZ3RoKTsKICAgICAgaWYgKGZlZWRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGNoZWNrRmVlZERvbmUoKTsKICAgICAgdmFyIGZlZWQgPSBmZWVkcy5zaGlmdCgpOwogICAgICB1dGlsLmZ1bmMuY2F0Y2hlZChmdW5jdGlvbiAoKSB7CiAgICAgICAgYmVmb3Jlcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7IGYoZmVlZCk7IH0pOwogICAgICAgIGlmIChmaWx0ZXIuYWN0aXZlKGZlZWQpKQogICAgICAgICAgYWZ0ZXJzLmZvckVhY2goZnVuY3Rpb24gKGYpIHsgZihmZWVkKTsgfSk7CiAgICAgIH0pKCk7CiAgICAgIHV0aWwuZnVuYy5jYWxsKGNoZWNrRmVlZCk7CiAgICB9KCkpOwogIH07CiAgd2VpYm9PYnNlcnZlciA9IGZ1bmN0aW9uIHdlaWJvT2JzZXJ2ZXIoKSB7CiAgICBpZiAoYnVzeSkgcmV0dXJuOwogICAgdmFyIGZlZWRzLCBzZWxlY3RvciA9ICdbYWN0aW9uLXR5cGU9ImZlZWRfbGlzdF9pdGVtIl06bm90KFt5YXdmLXdlaWJvXSksIFtub2RlLXR5cGU9ImZlZWRfbGlzdCJdIC5XQl9mZWVkX3R5cGU6bm90KFt5YXdmLXdlaWJvXSknOwogICAgaWYgKHJlcnVuKSBzZWxlY3RvciA9ICdbYWN0aW9uLXR5cGU9ImZlZWRfbGlzdF9pdGVtIl0sIFtub2RlLXR5cGU9ImZlZWRfbGlzdCJdIC5XQl9mZWVkX3R5cGUnOwogICAgZmVlZHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTsKICAgIGZlZWRzLmZvckVhY2goZnVuY3Rpb24gKGZlZWQpIHsKICAgICAgZmVlZC5zZXRBdHRyaWJ1dGUoJ3lhd2Ytd2VpYm8nLCAnJyk7CiAgICAgIG9ubG9hZHMuZm9yRWFjaChmdW5jdGlvbiAoZikgeyBmKGZlZWQpOyB9KTsKICAgIH0pOwogICAgaWYgKGZlZWRzLmxlbmd0aCkgY2hlY2tGZWVkcyhmZWVkcyk7CiAgICByZXJ1biA9IGZhbHNlOwogIH07CiAgb2JzZXJ2ZXIuZG9tLmFkZCh3ZWlib09ic2VydmVyKTsKICB2YXIgYWRkID0gZnVuY3Rpb24gKGNhbGxiYWNrcykgewogICAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICBjYWxsYmFja3MucHVzaCh1dGlsLmZ1bmMuY2F0Y2hlZChjYWxsYmFjaykpOwogICAgICByZXR1cm4gY2FsbGJhY2s7CiAgICB9OwogIH07CiAgLy8g5by65Yi26YeN5paw6L+H5ruk5omA5pyJ5b6u5Y2aCiAgdmFyIHJlZmlsdGVyID0gZnVuY3Rpb24gKCkgewogICAgcmVydW4gPSB0cnVlOwogICAgdXRpbC5mdW5jLmNhbGwod2VpYm9PYnNlcnZlcik7CiAgfTsKICByZXR1cm4gewogICAgJ29ubG9hZCc6IGFkZChvbmxvYWRzKSwKICAgICdiZWZvcmUnOiBhZGQoYmVmb3JlcyksCiAgICAnYWZ0ZXInOiBhZGQoYWZ0ZXJzKSwKICAgICdkb25lJzogYWRkKGRvbmVzKSwKICAgICdyZWZpbHRlcic6IHJlZmlsdGVyLAogIH07Cn0oKSk7CgpvYnNlcnZlci5jb21tZW50ID0gKGZ1bmN0aW9uICgpIHsKICB2YXIgYmVmb3JlID0gW10sIGFmdGVyID0gW107CiAgb2JzZXJ2ZXIuZG9tLmFkZChmdW5jdGlvbiBjb21tZW50T2JzZXJ2ZXIoKSB7CiAgICB2YXIgY29tbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoCiAgICAgICcubGlzdF91bFtub2RlLXR5cGU9ImZlZWRfbGlzdF9jb21tZW50TGlzdCJdIC5saXN0X2xpOm5vdChbeWF3Zi1jb21tZW50XSksICcgKwogICAgICAnLmxpc3RfdWxbbm9kZS10eXBlPSJjb21tZW50X2xpc3QiXSAubGlzdF9saTpub3QoW3lhd2YtY29tbWVudF0pICcKICAgICkpOwogICAgY29tbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoY29tbWVudCkgewogICAgICBjb21tZW50LnNldEF0dHJpYnV0ZSgneWF3Zi1jb21tZW50JywgJycpOwogICAgICBiZWZvcmUuZm9yRWFjaChmdW5jdGlvbiAoZikgeyBmKGNvbW1lbnQpOyB9KTsKICAgICAgZmlsdGVyLmNtdF9hY3RpdmUoY29tbWVudCk7CiAgICAgIGFmdGVyLmZvckVhY2goZnVuY3Rpb24gKGYpIHsgZihjb21tZW50KTsgfSk7CiAgICB9KTsKICB9KTsKICByZXR1cm4gewogICAgJ2JlZm9yZSc6IGZ1bmN0aW9uIChmKSB7IGJlZm9yZS5wdXNoKHV0aWwuZnVuYy5jYXRjaGVkKGYpKTsgfSwKICAgICdhZnRlcic6IGZ1bmN0aW9uIChmKSB7IGFmdGVyLnB1c2godXRpbC5mdW5jLmNhdGNoZWQoZikpOyB9LAogIH07Cn0oKSk7CgovLyDpmLvmraLpobXpnaLpgJrov4cganNvbnAg6I635Y+W5pWw5o2uCm9ic2VydmVyLnN0b3Bqc29ucCA9IChmdW5jdGlvbiAoKSB7CiAgLy8g5paw55qE5Z+65LqOIFNUSyDnmoTop6PlhrPmlrnms5UKICB2YXIganNvbnBEaXNhbGxvd1BhdHRlcm5zID0gW107CiAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHV0aWwuZnVuYy5wYWdlKGZ1bmN0aW9uIChwYXR0ZXJucykgewogICAgICB3aW5kb3cuJFlBV0YkID0gd2luZG93LiRZQVdGJCB8fCB7fTsKICAgICAgd2luZG93LiRZQVdGJC5qc29ucERpc2FsbG93UGF0dGVybnMgPSBwYXR0ZXJuczsKICAgIH0sIGpzb25wRGlzYWxsb3dQYXR0ZXJucyk7CiAgfTsKICB1cGRhdGUoKTsKICB1dGlsLmZ1bmMud3JhcHN0aygnY29yZS5pby5qc29ucCcsIGZ1bmN0aW9uIChyZWdGdW5jKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHN0aykgewogICAgICByZXR1cm4gKGZ1bmN0aW9uIChqc29ucCkgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoZGV0YWlscykgewogICAgICAgICAgdmFyIHBhdHRlcm5zID0gd2luZG93LiRZQVdGJC5qc29ucERpc2FsbG93UGF0dGVybnMsIHZhbGlkID0gdHJ1ZTsKICAgICAgICAgIHRyeSB7IHBhdHRlcm5zLmZvckVhY2goZnVuY3Rpb24gKHApIHsgaWYgKHAudGVzdChkZXRhaWxzLnVybCkpIHZhbGlkID0gZmFsc2U7IH0pOyB9CiAgICAgICAgICBjYXRjaCAoZSkgeyAgfQogICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIHJldHVybiBqc29ucC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0ocmVnRnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSk7CiAgICB9OwogIH0pOwogIHJldHVybiBmdW5jdGlvbiAocGF0dGVybikgewogICAganNvbnBEaXNhbGxvd1BhdHRlcm5zLnB1c2gocGF0dGVybik7CiAgICB1cGRhdGUoKTsKICB9Owp9KCkpOwoKLy8g6ZSu55uY55u45YWz5bel5YW3CnV0aWwua2V5Ym9hcmQgPSAoZnVuY3Rpb24gKCkgewogIHZhciBjdHJsID0gMSA8PCA4LCBzaGlmdCA9IDEgPDwgOSwgYWx0ID0gMSA8PCAxMCwgbWV0YSA9IDEgPDwgMTEsIGtleSA9IGN0cmwgLSAxOwogIHZhciBuYW1lbGlzdCA9ICcjMDsjMTsjMjtDYW5jZWw7IzQ7IzU7SGVscDsjNztCYWNrU3BhY2U7VEFCOyMxMDsjMTE7Q2xlYXI7RW50ZXI7RW50ZXJTcGVjaWFsOyMxNTs7OztQYXVzZTtDYXBzTG9jaztLYW5hO0Vpc3U7SnVuamE7RmluYWw7SGFuamE7IzI2O0VzYztDb252ZXJ0O05vbmNvbnZlcnQ7QWNjZXB0O01vZGVDaGFuZ2U7U3BhY2U7UGFnZVVwO1BhZ2VEb3duO0VuZDtIb21lO0xlZnQ7VXA7UmlnaHQ7RG93bjtTZWxlY3Q7UHJpbnQ7RXhlY3V0ZTtQcmludFNjcmVlbjtJbnNlcnQ7RGVsZXRlOyM0NzswOzE7MjszOzQ7NTs2Ozc7ODs5O0NvbG9uO1NlbWljb2xvbjtMZXNzVGhhbjtFcXVhbHM7R3JlYXRlclRoYW47UXVlc3Rpb25NYXJrO0F0O0E7QjtDO0Q7RTtGO0c7SDtJO0o7SztMO007TjtPO1A7UTtSO1M7VDtVO1Y7VztYO1k7WjtXaW47IzkyO0NvbnRleHRNZW51OyM5NDtTbGVlcDtOdW1QYWQwO051bVBhZDE7TnVtUGFkMjtOdW1QYWQzO051bVBhZDQ7TnVtUGFkNTtOdW1QYWQ2O051bVBhZDc7TnVtUGFkODtOdW1QYWQ5O011bHRpcGx5O0FkZDtTZXBhcmF0b3I7U3VidHJhY3Q7RGVjaW1hbDtEaXZpZGU7RjE7RjI7RjM7RjQ7RjU7RjY7Rjc7Rjg7Rjk7RjEwO0YxMTtGMTI7RjEzO0YxNDtGMTU7RjE2O0YxNztGMTg7RjE5O0YyMDtGMjE7RjIyO0YyMztGMjQ7IzEzNjsjMTM3OyMxMzg7IzEzOTsjMTQwOyMxNDE7IzE0MjsjMTQzO051bUxvY2s7U2Nyb2xsTG9jSztXSU5fT0VNX0ZKX0pJU0hPO1dJTl9PRU1fRkpfTUFTU0hPVTtXSU5fT0VNX0ZKX1RPVVJPS1U7V0lOX09FTV9GSl9MT1lBO1dJTl9PRU1fRkpfUk9ZQTsjMTUxOyMxNTI7IzE1MzsjMTU0OyMxNTU7IzE1NjsjMTU3OyMxNTg7IzE1OTtDaXJjdW1mbGV4O0V4Y2xhbWF0aW9uO0RvdWJsZVF1b3RlO0hhc2g7RG9sbGFyO1BlcmNlbnQ7QW1wZXJzYW5kO1VuZGVyc2NvcmU7T3BlblBhcmVuO0Nsb3NlUGFyZW47QXN0ZXJpc2s7UGx1cztQaXBlO0h5cGhlbk1pbnVzO09wZW5DdXJseUJyYWNrZXQ7Q2xvc2VDdXJseUJyYWNrZXQ7VGlsZGU7IzE3NzsjMTc4OyMxNzk7IzE4MDtWb2x1bWVNdXRlO1ZvbHVtZURvd247Vm9sdW1lVXA7IzE4NDsjMTg1OyMxODY7IzE4NztDb21tYTsjMTg5O1BlcmlvZDtTbGFzaDtCYWNrUXVvdGU7IzE5MzsjMTk0OyMxOTU7IzE5NjsjMTk3OyMxOTg7IzE5OTsjMjAwOyMyMDE7IzIwMjsjMjAzOyMyMDQ7IzIwNTsjMjA2OyMyMDc7IzIwODsjMjA5OyMyMTA7IzIxMTsjMjEyOyMyMTM7IzIxNDsjMjE1OyMyMTY7IzIxNzsjMjE4O09wZW5CcmFja2V0O0JhY2tTbGFzaDtDbG9zZUJyYWNrZXQ7UXVvdGU7IzIyMzs7QWx0R3I7IzIyNjtXSU5fSUNPX0hFTFA7V0lOX0lDT18wMDsjMjI5O1dJTl9JQ09fQ0xFQVI7IzIzMTsjMjMyO1dJTl9PRU1fUkVTRVQ7V0lOX09FTV9KVU1QO1dJTl9PRU1fUEExO1dJTl9PRU1fUEEyO1dJTl9PRU1fUEEzO1dJTl9PRU1fV1NDVFJMO1dJTl9PRU1fQ1VTRUw7V0lOX09FTV9BVFROO1dJTl9PRU1fRklOSVNIO1dJTl9PRU1fQ09QWTtXSU5fT0VNX0FVVE87V0lOX09FTV9FTkxXO1dJTl9PRU1fQkFDS1RBQjtBdHRuO0Nyc2VsO0V4c2VsO0VyZW9mO1BsYXk7Wm9vbTsjMjUyO1BBMTtXSU5fT0VNX0NMRUFSOyMyNTUnLnNwbGl0KCc7Jyk7CiAgdmFyIGNvZGUgPSB7fTsgbmFtZWxpc3QuZm9yRWFjaChmdW5jdGlvbiAobmFtZSwgaW5kZXgpIHsgY29kZVtuYW1lLnRvVXBwZXJDYXNlKCldID0gaW5kZXg7IH0pOwogIHZhciBhbHRlciA9IHsgQ1RSTDogY3RybCwgU0hJRlQ6IHNoaWZ0LCBBTFQ6IGFsdCwgTUVUQTogbWV0YSwgS0VZOiBrZXkgfTsKICAvLyDlr7nkuIDkuKrmjInplK7kuovku7blgZrnvJblj7cKICB2YXIgZ2V0ID0gZnVuY3Rpb24gKGUpIHsKICAgIGlmICghZSB8fCAhZS5rZXlDb2RlKSByZXR1cm4gbnVsbDsKICAgIHZhciBjb2RlID0gZS5rZXlDb2RlICYga2V5OwogICAgaWYgKGUuY3RybEtleSkgY29kZSB8PSBjdHJsOwogICAgaWYgKGUuc2hpZnRLZXkpIGNvZGUgfD0gc2hpZnQ7CiAgICBpZiAoZS5hbHRLZXkpIGNvZGUgfD0gYWx0OwogICAgaWYgKGUubWV0YUtleSkgY29kZSB8PSBtZXRhOwogICAgcmV0dXJuIGNvZGU7CiAgfTsKICAvLyDnu5nkuIDkuKrnvJblj7fvvIzovazmjaLkuLrplK7lkI0KICB2YXIgbmFtZSA9IGZ1bmN0aW9uIChuKSB7CiAgICBpZiAobiA9PT0gMCkgcmV0dXJuIHRleHQuZGlzYWJsZWRLZXk7CiAgICB2YXIgcmV0ID0gJyc7CiAgICBpZiAobiAmIGN0cmwpIHJldCArPSAnQ3RybC0nOwogICAgaWYgKG4gJiBzaGlmdCkgcmV0ICs9ICdTaGlmdC0nOwogICAgaWYgKG4gJiBhbHQpIHJldCArPSAnQWx0LSc7CiAgICBpZiAobiAmIG1ldGEpIHJldCArPSAnTWV0YS0nOwogICAgcmV0ICs9IG5hbWVsaXN0W24gJiBrZXldOwogICAgaWYgKHJldC5zbGljZSgtMSkgPT09ICctJykgcmV0ID0gcmV0LnNsaWNlKDAsIC0xKTsKICAgIHJldHVybiByZXQ7CiAgfTsKICAvLyDms6jlhozlhajlsYDnm5HlkKzmjInplK4KICB2YXIgdHJpZ2dlcnMgPSBbXTsKICB2YXIgcmVnID0gZnVuY3Rpb24gKHR5cGUsIGtleSwgY2FsbGJhY2ssIGlnbm9yZUluSW5wdXQpIHsKICAgIHRyaWdnZXJzLnB1c2goewogICAgICAndHlwZSc6IHR5cGUsCiAgICAgICdrZXknOiBrZXksCiAgICAgICdjYWxsYmFjayc6IHV0aWwuZnVuYy5jYXRjaGVkKGNhbGxiYWNrKSwKICAgICAgJ2lnbm9yZUluSW5wdXQnOiAhIWlnbm9yZUluSW5wdXQKICAgIH0pOwogIH07CiAgLy8g55uR5ZCs5oyJ6ZSuCiAgdmFyIGJhc2VFdmVudCA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgY29kZSA9IGdldChlKTsKICAgIHZhciBpbklucHV0ID0gL15zZWxlY3R8dGV4dGFyZWF8aW5wdXQkLy50ZXN0KGUudGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpOwogICAgdmFyIGFjdGl2ZWQgPSB0cmlnZ2Vycy5maWx0ZXIoZnVuY3Rpb24gKHRyaWdnZXIpIHsKICAgICAgaWYgKGluSW5wdXQgJiYgdHJpZ2dlci5pZ25vcmVJbklucHV0KSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0cmlnZ2VyLnR5cGUgPT09IGUudHlwZSAmJiB0cmlnZ2VyLmtleSA9PT0gY29kZTsKICAgIH0pOwogICAgaWYgKCFhY3RpdmVkKSByZXR1cm47CiAgICBhY3RpdmVkLmZvckVhY2goZnVuY3Rpb24gKHRyaWdnZXIpIHsgdHJpZ2dlci5jYWxsYmFjayhlKTsgfSk7CiAgfTsKICBbJ2tleWRvd24nLCAna2V5cHJlc3MnLCAna2V5dXAnXS5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7CiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBiYXNlRXZlbnQpOwogIH0pOwogIHJldHVybiB7CiAgICAnZ2V0JzogZ2V0LAogICAgJ25hbWUnOiBuYW1lLAogICAgJ3JlZyc6IHJlZywKICAgICdjb2RlJzogY29kZSwKICAgICdhbHRlcic6IGFsdGVyLAogIH07Cn0oKSk7CgovLyDor63oqIDnm7jlhbPlt6XlhbcKdXRpbC5pMThuID0ge307Ci8vIOivreiogOebuOWFs+agt+W8jwp1dGlsLmkxOG4uc3R5bGlzaCA9IGZ1bmN0aW9uIChsYW5nKSB7CiAgdmFyIGlzRW4gPSBsYW5nID09PSAnZW4nOwogIHV0aWwuY3NzLmFkZCh1dGlsLnN0ci5maWxsKHV0aWwuc3RyLmNtdChmdW5jdGlvbiAoKSB7IC8qIUNTUwogICAgLmxheW91dEZpbHRlckdyb3VwTGF5ZXIgLnlhd2YtY29uZmlnQm9vbGVhbiB7IHdpZHRoOiB7e2xheW91dE9wdGlvbldpZHRofX07IH0KICAgIC5sYXlvdXRGaWx0ZXJHcm91cExheWVyIC55YXdmLWNvbmZpZ0Jvb2xlYW4ueWF3Zi1sYXlvdXRDb25maWctbGluZSB7IHdpZHRoOiAxMDAlOyB9CiAgKi8gbm9vcCgpOyB9KSwgeyAnbGF5b3V0T3B0aW9uV2lkdGgnOiBpc0VuID8gJzI0MHB4JyA6ICcxNjBweCcgfSkpOwp9OwoKLy8g5qC55o2u55So5oi355WM6Z2i5LiK55qE6K+t6KiA5YGa5LiN5ZCM6LCD5pW0CnV0aWwuX2xhbmd1YWdlcyA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIGRlZmF1bHRMYW5nID0gJ3poLWNuJzsKICB2YXIgYWxsTGFuZyA9IFsnemgtY24nLCAnemgtaGsnLCAnemgtdHcnLCAnZW4nXTsKICB2YXIgbGFuZyA9IG51bGw7CiAgdmFyIHBlbmRpbmcgPSBbXTsKICB2YXIgY2hvc2UgPSBmdW5jdGlvbiAobGFuZ09iaikgewogICAgbGFuZ09iai5sb2NhbCA9IGxhbmdPYmpbbGFuZ10gfHwgbGFuZ09ialtkZWZhdWx0TGFuZ107CiAgfTsKICByZXR1cm4gZnVuY3Rpb24gKGwpIHsKICAgIGlmICghbCB8fCBhbGxMYW5nLmluZGV4T2YobCkgPT09IC0xKSBsID0gZGVmYXVsdExhbmc7CiAgICBsYW5nID0gbDsKICAgIHBlbmRpbmcubWFwKGNob3NlKTsKICAgIHBlbmRpbmcgPSBbXTsKICAgIGNob3NlLmxhbmcgPSBsOwogICAgdXRpbC5pMThuLnN0eWxpc2gobGFuZyk7CiAgICByZXR1cm4gY2hvc2U7CiAgfTsKfSgpKTsKCi8vIOiuvue9ruebuOWFs+W3peWFtwp1dGlsLmNvbmZpZyA9IG51bGw7CnV0aWwuX3N0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIGNvbmZpZyA9IHt9OwogIHZhciBrZXlzID0gW10sIG9ucHV0cyA9IHt9OwogIHZhciBzdG9yYWdlS2V5ID0gJ3VzZXInICsgdXRpbC5pbmZvLnVpZCArICdjb25maWcnOwogIHZhciB0b25wdXRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIG9sZFZhbHVlKSB7CiAgICAob25wdXRzW2tleV0gfHwgW10pLm1hcChmdW5jdGlvbiAoZikgeyBmKHZhbHVlLCBvbGRWYWx1ZSk7IH0pOwogIH07CiAgLy8g6K+75Y+W5Yiw5YaF5a2YCiAgdmFyIHJlYWRwID0gZmFsc2U7CiAgdmFyIHJlYWQgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAocmVhZHApIHJldHVybjsKICAgIHV0aWwuZnVuYy5jYWxsKGZ1bmN0aW9uICgpIHsgcmVhZHAgPSBmYWxzZTsgfSk7CiAgICByZWFkcCA9IHRydWU7CiAgICB1dGlsLmRlYnVnKCdyZWFkIEdNIHZhbHVlJyk7CiAgICB0cnkgeyBjb25maWcgPSBKU09OLnBhcnNlKEdNX2dldFZhbHVlKHN0b3JhZ2VLZXksICd7fScpKTsgfQogICAgY2F0Y2ggKGUpIHsgY29uZmlnID0ge307IH0KICB9OwogIC8vIOS7juWGheWtmOWGmeWHugogIHZhciB3cml0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHV0aWwuZGVidWcoJ3dyaXRlIEdNIHZhbHVlJyk7CiAgICBHTV9zZXRWYWx1ZShzdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeShjb25maWcpKTsKICB9OwogIC8vIOWGmeWFpeWIsOWGheWtmAogIHZhciBwdXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgewogICAgaWYgKHZhbHVlICE9IG51bGwgJiYga2V5cy5pbmRleE9mKGtleSkgPT09IC0xKSB1dGlsLmRlYnVnKCdwdXQga2V5ICVzIG5vdCBpbiBrZXlzLicsIGtleSk7CiAgICByZWFkKCk7CiAgICB2YXIgb3JpID0gY29uZmlnW2tleV07CiAgICB2YXIgb2xkID0gSlNPTi5zdHJpbmdpZnkoY29uZmlnKTsKICAgIGlmICh2YWx1ZSA9PSBudWxsKSBkZWxldGUgY29uZmlnW2tleV07CiAgICBlbHNlIGNvbmZpZ1trZXldID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWx1ZSkpOwogICAgdmFyIGN1ciA9IEpTT04uc3RyaW5naWZ5KGNvbmZpZyk7CiAgICBpZiAoY3VyID09PSBvbGQpIHJldHVybiB2YWx1ZTsKICAgIHRvbnB1dHMoa2V5LCB2YWx1ZSwgb3JpKTsKICAgIHdyaXRlKCk7CiAgICByZXR1cm4gdmFsdWU7CiAgfTsKICAvLyDku47lhoXlrZjor7vlj5YKICB2YXIgZ2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIHR5cGUpIHsKICAgIGlmIChrZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHV0aWwuZGVidWcoJ2dldCBrZXkgJXMgbm90IGluIGtleXMuJywga2V5KTsKICAgIHJlYWQoKTsKICAgIGlmICghKGtleSBpbiBjb25maWcpKSByZXR1cm4gdmFsdWU7CiAgICB2YXIgdmFsID0gY29uZmlnW2tleV07CiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB2YWx1ZTsKICAgIGlmICh0eXBlICYmICh2YWwgPT09IG51bGwgfHwgdmFsLmNvbnN0cnVjdG9yICE9PSB0eXBlKSkgcmV0dXJuIHZhbHVlOwogICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsKSk7CiAgfTsKICAvLyDlvZPlhoXlrZjphY3nva7ooqvkv67mlLnml7bosIPnlKgKICB2YXIgb25wdXQgPSBmdW5jdGlvbiAoa2V5LCBmKSB7CiAgICBpZiAoIW9ucHV0c1trZXldKSBvbnB1dHNba2V5XSA9IFtdOwogICAgaWYgKG9ucHV0c1trZXldLmluZGV4T2YoZikgPT09IC0xKSBvbnB1dHNba2V5XS5wdXNoKGYpOwogIH07CiAgLy8g5LuO5a2X5Liy5a+85YWlCiAgdmFyIGltcG9ydF8gPSBmdW5jdGlvbiAocywgY21wKSB7CiAgICBpZiAoY21wID09IG51bGwpIGNtcCA9IGZ1bmN0aW9uIChuLCBvKSB7IHJldHVybiBuOyB9OwogICAgdmFyIHZlcnNpb24gPSB2b2lkIDAsIGJhY2t1cDsKICAgIC8vIOWkh+S7veW9k+WJjeiuvue9rgogICAgdHJ5IHsKICAgICAgYmFja3VwID0gSlNPTi5zdHJpbmdpZnkoY29uZmlnKTsKICAgICAgdHJ5IHsKICAgICAgICBzID0gSlNPTi5wYXJzZShzKTsKICAgICAgICB2YXIgYyA9IHMuY29uZjsKICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNvbmZpZykuY29uY2F0KE9iamVjdC5rZXlzKGMpKTsKICAgICAgICBrZXlzID0ga2V5cy5maWx0ZXIoZnVuY3Rpb24gKHgsIGkpIHsgcmV0dXJuIGtleXMuaW5kZXhPZih4KSA9PT0gaTsgfSk7CiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignLl8nKSAhPT0gLTEpIHJldHVybjsKICAgICAgICAgIHB1dChrZXksIGNtcChjW2tleV0sIGdldChrZXkpKSk7CiAgICAgICAgfSk7CiAgICAgICAgd3JpdGUoKTsKICAgICAgICB2ZXJzaW9uID0gTnVtYmVyKHMudmVyLm1hdGNoKC9cZCskLylbMF0pIHx8IDA7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25maWcgPSBKU09OLnBhcnNlKGJhY2t1cCk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHsgfQogICAgcmV0dXJuIHZlcnNpb247CiAgfTsKICAvLyDlr7zlh7rmiJDkuLrlrZfkuLIKICB2YXIgZXhwb3J0XyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpbmZvID0gR01faW5mbyB8fCB7fSwgc2NyaXB0ID0gaW5mby5zY3JpcHQgfHwge307CiAgICB2YXIgY29uZiA9IHt9OwogICAgLy8g5LiN5a+85Ye66ZSu5YC85YyF5ZCrIC5fIOeahOmhue+8jOWboOS4uuS7luS7rOaYr+WGhemDqOmhuQogICAgT2JqZWN0LmtleXMoY29uZmlnKQogICAgICAuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmluZGV4T2YoJy5fJykgPT09IC0xOyB9KQogICAgICAuZm9yRWFjaChmdW5jdGlvbiAoeCkgeyBjb25mW3hdID0gY29uZmlnW3hdOyB9KTsKICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICd1YSc6IG5hdmlnYXRvci51c2VyQWdlbnQsCiAgICAgICd5YXdmJzogc2NyaXB0Lm5hbWUsCiAgICAgICd2ZXInOiBzY3JpcHQudmVyc2lvbiwKICAgICAgJ2dtJzogKGluZm8uc2NyaXB0SGFuZGxlciB8fCAnJykgKyBpbmZvLnZlcnNpb24sCiAgICAgICdjb25mJzogY29uZiwKICAgIH0sIG51bGwsIDIpOwogIH07CiAgLy8g5riF56m66K6+572uCiAgdmFyIGNsZWFyID0gZnVuY3Rpb24gKCkgewogICAgY29uZmlnID0ge307CiAgICB0b25wdXRzKCk7CiAgICB3cml0ZSgpOwogIH07CiAgLy8g5rOo5YaM6ZSuCiAgdmFyIHJlZyA9IGZ1bmN0aW9uIChrZXkpIHsga2V5cy5wdXNoKGtleSk7IH07CiAgLy8g5Yid5aeL5YyWCiAgcmV0dXJuIHsKICAgICdwdXQnOiBwdXQsICdnZXQnOiBnZXQsCiAgICAnb25wdXQnOiBvbnB1dCwKICAgICdyZWFkJzogcmVhZCwgJ3dyaXRlJzogd3JpdGUsCiAgICAnaW1wb3J0JzogaW1wb3J0XywgJ2V4cG9ydCc6IGV4cG9ydF8sCiAgICAnY2xlYXInOiBjbGVhciwKICAgICdyZWcnOiByZWcsCiAgfTsKfTsKCnV0aWwuaW5pdChmdW5jdGlvbiAoKSB7CiAgLy8g5L+d5a2Y55So5oi35L+h5oGvCiAgdXRpbC5pbmZvLnVpZCA9IHVuc2FmZVdpbmRvdy4kQ09ORklHLnVpZDsKICB1dGlsLmluZm8ubmljayA9IHVuc2FmZVdpbmRvdy4kQ09ORklHLm5pY2s7CiAgdXRpbC5pbmZvLmxhbmcgPSB1bnNhZmVXaW5kb3cuJENPTkZJRy5sYW5nOwogIHV0aWwuaW5mby5za2luID0gdW5zYWZlV2luZG93LiRDT05GSUcuc2tpbjsKICAvLyDliJ3lp4vljJbor63oqIDpgInpobkKICB1dGlsLmkxOG4uY2hvc2UgPSB1dGlsLl9sYW5ndWFnZXModXRpbC5pbmZvLmxhbmcpOwogIE9iamVjdC5rZXlzKHRleHQpLm1hcChmdW5jdGlvbiAoa2V5KSB7IHV0aWwuaTE4bi5jaG9zZSh0ZXh0W2tleV0pOyB0ZXh0W2tleV0gPSB0ZXh0W2tleV0ubG9jYWw7IH0pOwogIE9iamVjdC5rZXlzKGh0bWwpLm1hcChmdW5jdGlvbiAoa2V5KSB7IGh0bWxba2V5XSA9IHV0aWwuc3RyLmZpbGwoaHRtbFtrZXldKTsgfSk7CiAgLy8g5Yid5aeL5YyW6K6+572u6ZuGCiAgdXRpbC5jb25maWcgPSB1dGlsLl9zdG9yYWdlKCk7Cn0sIHV0aWwucHJpb3JpdHkuRklSU1QpOwoKLy8g55So5oi35L+h5oGvCnV0aWwuaW5mbyA9IHt9Owp1dGlsLmluZm8udWlkID0gbnVsbDsKdXRpbC5pbmZvLm5pY2sgPSBudWxsOwp1dGlsLmluZm8ub2lkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB1bnNhZmVXaW5kb3cuJENPTkZJRy5vaWQgfHwgbnVsbDsKfTsKdXRpbC5pbmZvLm9uaWNrID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB1bnNhZmVXaW5kb3cuJENPTkZJRy5vbmljayB8fCBudWxsOwp9OwoKLy8g5omT5Y2w6LCD6K+V5L+h5oGvCnV0aWwuZGVidWcgPSB1dGlsLnNjcmlwdC5pc2RlYnVnICYmCiAgY29uc29sZSAmJiBjb25zb2xlLmxvZyAmJiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpIHx8CiAgdXRpbC5mdW5jLm5vb3A7CnV0aWwuZXJyb3IgPSB1dGlsLnNjcmlwdC5pc2RlYnVnICYmCiAgY29uc29sZSAmJiBjb25zb2xlLmVycm9yICYmIGNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKSB8fAogIHV0aWwuZnVuYy5ub29wOwoKLy8g5qGM6Z2i5o+Q56S65bel5YW3CnV0aWwubm90aWZ5ID0gKGZ1bmN0aW9uICgpIHsKICB2YXIgYXZhbGlhYmxlID0ge307CiAgdmFyIHNob3duID0gW107CiAgdmFyIHVzZSA9IHsKICAgICdoYXNQZXJtaXNzaW9uJzogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSwKICAgICdyZXF1ZXN0UGVybWlzc2lvbic6IGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gbnVsbDsgfSwKICAgICdoaWRlTm90aWZpY2F0aW9uJzogZnVuY3Rpb24gKG5vdGlmeSkgeyByZXR1cm4gbnVsbDsgfSwKICAgICdzaG93Tm90aWZpY2F0aW9uJzogZnVuY3Rpb24gKGlkLCB0aXRsZSwgYm9keSwgaWNvbiwgZGVsYXksIG9uY2xpY2spIHsgcmV0dXJuIG51bGw7IH0KICB9OwoKICAvLyDmo4Dmn6XkuIDkuKrlvq7ljZrmmK/kuI3mmK/lt7Lnu4/ooqvmmL7npLrov4fkuobvvIzlpoLmnpzmmL7npLrov4fkuobkuI3ph43lpI3mmL7npLoKICB2YXIgc2hvd25GZWVkID0gZnVuY3Rpb24gKGlkKSB7CiAgICB2YXIgc2hvd24gPSBbXTsKICAgIHRyeSB7CiAgICAgIHNob3duID0gSlNPTi5wYXJzZShHTV9nZXRWYWx1ZSgnbm90aWZpY2F0aW9uJywgJ1tdJykpOwogICAgICBzaG93biA9IEFycmF5LmZyb20oc2hvd24pOwogICAgICBpZCA9IFN0cmluZyhpZCk7CiAgICB9IGNhdGNoIChlKSB7IH0KICAgIHV0aWwuZGVidWcoJyVvICVzIHNob3duIGZlZWQgbGlzdDogJW8nLCBpZCwgc2hvd24uaW5kZXhPZihpZCkgPT09IC0xID8gJ25vdCBpbicgOiAnaW4nLCBzaG93bik7CiAgICBpZiAoc2hvd24uaW5kZXhPZihpZCkgIT09IC0xKSByZXR1cm4gdHJ1ZTsKICAgIHNob3duLnB1c2goaWQpOyBzaG93biA9IHNob3duLnNsaWNlKC0yMCk7CiAgICBHTV9zZXRWYWx1ZSgnbm90aWZpY2F0aW9uJywgSlNPTi5zdHJpbmdpZnkoc2hvd24pKTsKICAgIHJldHVybiBmYWxzZTsKICB9OwoKICAvLyB3ZWJraXROb3RpZmljYXRpb25zCiAgLy8gVGFiIE5vdGlmaWVyIOaJqeWxleWunueOsOatpOaOpeWPo++8jOS9huaYvuekuueahOahjOmdouaPkOekuuacgOWkmuWPquiDveaYvuekuuWJjeS4pOihjAogIGlmICh0eXBlb2Ygd2Via2l0Tm90aWZpY2F0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIGF2YWxpYWJsZS53ZWJraXQgPSB7CiAgICAnaGFzUGVybWlzc2lvbic6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFt0cnVlLCBudWxsLCBmYWxzZV1bd2Via2l0Tm90aWZpY2F0aW9ucy5jaGVja1Blcm1pc3Npb24oKV07CiAgICB9LAogICAgJ3JlcXVlc3RQZXJtaXNzaW9uJzogZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgIHJldHVybiB3ZWJraXROb3RpZmljYXRpb25zLnJlcXVlc3RQZXJtaXNzaW9uKGNhbGxiYWNrKTsKICAgIH0sCiAgICAnaGlkZU5vdGlmaWNhdGlvbic6IGZ1bmN0aW9uIChub3RpZnkpIHsKICAgICAgbm90aWZ5LmNhbmNlbCgpOwogICAgICBhZnRlckhpZGVOb3RpZmljYXRpb24obm90aWZ5KTsKICAgIH0sCiAgICAnc2hvd05vdGlmaWNhdGlvbic6IGZ1bmN0aW9uIChpZCwgdGl0bGUsIGJvZHksIGljb24sIGRlbGF5LCBvbmNsaWNrKSB7CiAgICAgIGlmIChzaG93bkZlZWQoaWQpKSByZXR1cm4gbnVsbDsKICAgICAgdXRpbC5kZWJ1Zygnc2hvdyAod2Via2l0KSBub3RpZmljYXRpb246ICVzIC0gJXMnLCB0aXRsZSwgYm9keSk7CiAgICAgIHZhciBub3RpZnkgPSB3ZWJraXROb3RpZmljYXRpb25zLmNyZWF0ZU5vdGlmaWNhdGlvbihpY29uLCB0aXRsZSwgYm9keSk7CiAgICAgIGlmIChkZWxheSAmJiBkZWxheSA+IDApIG5vdGlmeS5hZGRFdmVudExpc3RlbmVyKCdkaXNwbGF5JywgZnVuY3Rpb24gKCkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBoaWRlTm90aWZpY2F0aW9uKG5vdGlmeSk7IH0sIGRlbGF5KTsKICAgICAgfSk7CiAgICAgIGlmIChvbmNsaWNrKSBub3RpZnkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbmNsaWNrKTsKICAgICAgbm90aWZ5LnNob3coKTsKICAgICAgcmV0dXJuIG5vdGlmeTsKICAgIH0sCiAgfTsKCiAgLy8gTm90aWZpY2F0aW9uCiAgLy8gRmlyZWZveCAyMisKICAvLyDmmL7npLo056eS5Lya6Ieq5Yqo5YWz6ZetIGh0dHBzOi8vYnVnemlsLmxhLzg3NTExNAogIGlmICh0eXBlb2YgTm90aWZpY2F0aW9uICE9PSAndW5kZWZpbmVkJykgYXZhbGlhYmxlLnN0YW5kYXJkID0gewogICAgJ2hhc1Blcm1pc3Npb24nOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ2dyYW50ZWQnOiB0cnVlLAogICAgICAgICdkZW5pZWQnOiBmYWxzZSwKICAgICAgICAnZGVmYXVsdCc6IG51bGwsCiAgICAgIH1bTm90aWZpY2F0aW9uLnBlcm1pc3Npb25dOwogICAgfSwKICAgICdyZXF1ZXN0UGVybWlzc2lvbic6IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICByZXR1cm4gTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKGNhbGxiYWNrKTsKICAgIH0sCiAgICAnaGlkZU5vdGlmaWNhdGlvbic6IGZ1bmN0aW9uIChub3RpZnkpIHsKICAgICAgbm90aWZ5LmNsb3NlKCk7CiAgICAgIGFmdGVySGlkZU5vdGlmaWNhdGlvbihub3RpZnkpOwogICAgfSwKICAgICdzaG93Tm90aWZpY2F0aW9uJzogZnVuY3Rpb24gKGlkLCB0aXRsZSwgYm9keSwgaWNvbiwgZGVsYXksIG9uY2xpY2spIHsKICAgICAgaWYgKHNob3duRmVlZChpZCkpIHJldHVybiBudWxsOwogICAgICB1dGlsLmRlYnVnKCdzaG93IG5vdGlmaWNhdGlvbjogJXMgLSAlcycsIHRpdGxlLCBib2R5KTsKICAgICAgdmFyIG5vdGlmeSA9IG5ldyBOb3RpZmljYXRpb24odGl0bGUsIHsgJ2JvZHknOiBib2R5LCAnaWNvbic6IGljb24sICdyZXF1aXJlSW50ZXJhY3Rpb24nOiAhZGVsYXkgfSk7CiAgICAgIGlmIChkZWxheSAmJiBkZWxheSA+IDApIG5vdGlmeS5hZGRFdmVudExpc3RlbmVyKCdzaG93JywgZnVuY3Rpb24gKCkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBoaWRlTm90aWZpY2F0aW9uKCk7IH0sIGRlbGF5KTsKICAgICAgfSk7CiAgICAgIGlmIChvbmNsaWNrKSBub3RpZnkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbmNsaWNrKTsKICAgICAgcmV0dXJuIG5vdGlmeTsKICAgIH0sCiAgfTsKCiAgLy8g5pyJ5ZOq5Lqb5o6l5Y+j5Y+v55SoCiAgdmFyIGF2YWxpYWJsZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBPYmplY3Qua2V5cyhhdmFsaWFibGUpOwogIH07CiAgLy8g6YCJ5oup55So5ZOq5Liq5o6l5Y+jCiAgdmFyIGNob3NlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKHByZWZlcikgewogICAgcmV0dXJuICh1c2UgPSBwcmVmZXIgJiYgYXZhbGlhYmxlW3ByZWZlcl0gfHwgYXZhbGlhYmxlLnN0YW5kYXJkKTsKICB9OwogIGNob3NlTm90aWZpY2F0aW9uKCk7CiAgLy8g5qOA5p+l5p2D6ZmQCiAgdmFyIGhhc1Blcm1pc3Npb24gPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdXNlLmhhc1Blcm1pc3Npb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9OwogIC8vIOivt+axguadg+mZkAogIHZhciByZXF1ZXN0UGVybWlzc2lvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB1c2UucmVxdWVzdFBlcm1pc3Npb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9OwogIC8vIOaYvuekuua2iOaBrwogIHZhciBzaG93Tm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKHRpdGxlLCBib2R5LCBpY29uLCBkZWxheSwgb25jbGljaykgewogICAgdmFyIG5vdGlmeSA9IHVzZS5zaG93Tm90aWZpY2F0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBzaG93bi5wdXNoKG5vdGlmeSk7CiAgICByZXR1cm4gbm90aWZ5OwogIH07CiAgLy8g6ZqQ6JeP5bey57uP5pi+56S655qE5raI5oGvCiAgdmFyIGhpZGVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZ5KSB7CiAgICB1c2UuaGlkZU5vdGlmaWNhdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgcmV0dXJuIG5vdGlmeTsKICB9OwogIHZhciBhZnRlckhpZGVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZ5KSB7CiAgICBzaG93biA9IHNob3duLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAhPT0gbm90aWZ5OyB9KTsKICB9OwoKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWQnLCBmdW5jdGlvbiAoKSB7CiAgICBzaG93bi5mb3JFYWNoKGhpZGVOb3RpZmljYXRpb24pOwogICAgc2hvd24gPSBbXTsKICB9KTsKCiAgcmV0dXJuIHsKICAgICdhdmFsaWFibGVOb3RpZmljYXRpb24nOiBhdmFsaWFibGVOb3RpZmljYXRpb24sCiAgICAnY2hvc2VOb3RpZmljYXRpb24nOiBjaG9zZU5vdGlmaWNhdGlvbiwKICAgICdoYXNQZXJtaXNzaW9uJzogaGFzUGVybWlzc2lvbiwKICAgICdyZXF1ZXN0UGVybWlzc2lvbic6IHJlcXVlc3RQZXJtaXNzaW9uLAogICAgJ3Nob3dOb3RpZmljYXRpb24nOiBzaG93Tm90aWZpY2F0aW9uLAogICAgJ2hpZGVOb3RpZmljYXRpb24nOiBoaWRlTm90aWZpY2F0aW9uCiAgfTsKCn0oKSk7CgovLyDnrqHnkIbmoLflvI8KdXRpbC5jc3MgPSAoZnVuY3Rpb24gKCkgewogIHZhciBzdHlsZVRleHQgPSAnJywgYWRkZWQgPSBmYWxzZTsKICB2YXIgZnVuID0gZnVuY3Rpb24gKGNzcykgeyByZXR1cm4gZnVuLmFkZC5iaW5kKGZ1biwgY3NzKTsgfTsKICBmdW4uYWRkID0gZnVuY3Rpb24gKGNzcykgeyBpZiAoIWFkZGVkKSBzdHlsZVRleHQgKz0gY3NzICsgJ1xuJzsgZWxzZSBHTV9hZGRTdHlsZShjc3MpOyB9OwogIHV0aWwuaW5pdChmdW5jdGlvbiAoKSB7IEdNX2FkZFN0eWxlKHN0eWxlVGV4dCk7IGFkZGVkID0gdHJ1ZTsgfSwgdXRpbC5wcmlvcml0eS5MQVNUKTsKICByZXR1cm4gZnVuOwp9KCkpOwoKLy8g55WM6Z2i55u45YWzCnV0aWwudWkgPSB7fTsKCi8vIOaYvuekuuiuvue9ruaMiemSrgovLyDljIXmi6zlj7PkuIrop5Lov4fmu6Tlmajlm77moIflkozorr7nva7oj5zljZXkuK3nmoToj5zljZXpobkKdXRpbC51aS5pY29uID0gdXRpbC5pbml0KGZ1bmN0aW9uICgpIHsKICBpZiAodXRpbC5wYWdlLnNlYXJjaCkgcmV0dXJuOyAvLyDmkJzntKLpobXpnaLkuI3mj5Dkvpvorr7nva7nqpflj6MKICB2YXIgb25DbGljayA9IHV0aWwuZnVuYy5jYXRjaGVkKGZ1bmN0aW9uIChlKSB7IGZpbHRlci5kaWFsb2coKTsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9KTsKICB2YXIgaWNvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLldCX2dsb2JhbF9uYXYgLmduX3NldF9saXN0Jyk7CiAgICBpZiAoIXApIHJldHVybiBzZXRUaW1lb3V0KGljb24sIDEwMCk7CiAgICB2YXIgZCA9IHV0aWwuZG9tLmNyZWF0ZShodG1sLmljb24pOyBwLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGQsIHApOwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmduX2ZpbHRlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7CiAgfTsKICB2YXIgbWVudWl0ZW0gPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nbl90b3BtZW51bGlzdCB1bCBsaS5saW5lJyk7CiAgICBpZiAoIWEgfHwgIWEubGVuZ3RoKSByZXR1cm4gc2V0VGltZW91dChtZW51aXRlbSwgMTAwKTsKICAgIHZhciBsID0gYVthLmxlbmd0aCAtIDFdOwogICAgdmFyIG0gPSB1dGlsLmRvbS5jcmVhdGUoaHRtbC5tZW51aXRlbSk7CiAgICB3aGlsZSAobS5maXJzdENoaWxkKSBsLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG0uZmlyc3RDaGlsZCwgbCk7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueWF3Zi1jb25maWctbWVudWl0ZW0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spOwogIH07CiAgaWNvbigpOyBtZW51aXRlbSgpOwp9LCB1dGlsLnByaW9yaXR5LkxBU1QpOwoKLy8g5a+56K+d5qGGCnV0aWwudWkuZm9ybSA9IGZ1bmN0aW9uIChkb20sIGRpc3BsYXksIGRldGFpbHMpIHsKICB2YXIgb2sgPSBkb20ucXVlcnlTZWxlY3RvcignW25vZGUtdHlwZT0ib2siXScpOwogIHZhciBjYW5jZWwgPSBkb20ucXVlcnlTZWxlY3RvcignW25vZGUtdHlwZT0iY2FuY2VsIl0nKTsKICB2YXIgY2xvc2UgPSBkb20ucXVlcnlTZWxlY3RvcignW25vZGUtdHlwZT0iY2xvc2UiXScpOwogIHZhciB0aXRsZSA9IGRvbS5xdWVyeVNlbGVjdG9yKCcudGl0bGUsIC5XX2xheWVyX3RpdGxlJyk7CiAgdmFyIG1vdXNlID0gbnVsbCwgcG9zOwogIC8vIOWumuS9jeWvueivneahhueahOS9jee9rgogIHZhciBzZXRQb3MgPSBmdW5jdGlvbiAocG9zKSB7CiAgICB2YXIgbGVmdCA9IHBvc1swXSwgdG9wID0gcG9zWzFdOwogICAgbGVmdCA9IE1hdGgubWluKE1hdGgubWF4KDAsIGxlZnQpLCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIC0gZG9tLmNsaWVudFdpZHRoIC0gMik7CiAgICB0b3AgPSBNYXRoLm1pbihNYXRoLm1heCh3aW5kb3cucGFnZVlPZmZzZXQsIHRvcCksIHdpbmRvdy5wYWdlWU9mZnNldCArIHdpbmRvdy5pbm5lckhlaWdodCAtIGRvbS5jbGllbnRIZWlnaHQgLSAyKTsKICAgIGlmIChsZWZ0ICsgJ3B4JyAhPT0gZG9tLnN0eWxlLmxlZnQpIGRvbS5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCc7CiAgICBpZiAodG9wICsgJ3B4JyAhPT0gZG9tLnN0eWxlLnRvcCkgZG9tLnN0eWxlLnRvcCA9IHRvcCArICdweCc7CiAgICByZXR1cm4gW2xlZnQsIHRvcF07CiAgfTsKICAvLyDnvZHpobXmu5rliqjml7bnu7TmjIHlnKjpobXpnaLlhoUKICB2YXIgaG9sZCA9IGZ1bmN0aW9uICgpIHsKICAgIHBvcyA9IHNldFBvcyhwb3MpOwogIH07CiAgLy8g5byA5aeL5ouW5ou9CiAgdmFyIGRyYWdNb3ZlU3RhcnQgPSBmdW5jdGlvbiAoZSkgewogICAgbW91c2UgPSBbZS5jbGllbnRYLCBlLmNsaWVudFldOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZHJhZ01vdmUpOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGRyYWdNb3ZlRG9uZSk7CiAgICBkb20uY2xhc3NMaXN0LmFkZCgneWF3Zi1kcmFnJyk7CiAgICBpZiAoZG9tLnNldENhcHR1cmUpIHsgZG9tLnNldENhcHR1cmUoKTsgfQogIH07CiAgLy8g5ouW5ou956e75YqoCiAgdmFyIGRyYWdNb3ZlID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciBtb3VzZV9uZXcgPSBbZS5jbGllbnRYLCBlLmNsaWVudFldOwogICAgcG9zWzBdICs9IG1vdXNlX25ld1swXSAtIG1vdXNlWzBdOwogICAgcG9zWzFdICs9IG1vdXNlX25ld1sxXSAtIG1vdXNlWzFdOwogICAgc2V0UG9zKHBvcyk7CiAgICBtb3VzZSA9IG1vdXNlX25ldzsKICB9OwogIC8vIOaLluaLvee7k+adnwogIHZhciBkcmFnTW92ZURvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBkcmFnTW92ZSk7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZHJhZ01vdmVEb25lKTsKICAgIGRvbS5jbGFzc0xpc3QucmVtb3ZlKCd5YXdmLWRyYWcnKTsKICAgIGlmIChkb20ucmVsZWFzZUNhcHR1cmUpIHsgZG9tLnJlbGVhc2VDYXB0dXJlKCk7IH0KICAgIHBvcyA9IHNldFBvcyhwb3MpOwogICAgbW91c2UgPSBudWxsOwogIH07CiAgLy8g5qCH6aKY5qCP5Y+v5Lul5ouW5ou9CiAgaWYgKHRpdGxlKSB7CiAgICB0aXRsZS5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7CiAgICB0aXRsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBkcmFnTW92ZVN0YXJ0KTsKICB9CiAgLy8g56Gu5a6a5Y+W5raI562J5oyJ6ZKuCiAgaWYgKGRldGFpbHMub25PaykgaWYgKG9rKSBvay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRldGFpbHMub25Payk7CiAgaWYgKGRldGFpbHMub25DYW5jZWwpIHsKICAgIGlmIChjYW5jZWwpIGNhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRldGFpbHMub25DYW5jZWwpOwogICAgaWYgKGNsb3NlKSBjbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRldGFpbHMub25DYW5jZWwpOwogIH0KICAvLyDog4zmma/pga7nvakKICB2YXIgY292ZXIgPSB1dGlsLmRvbS5jcmVhdGUoaHRtbC5jb3Zlcik7CiAgLy8g5ZON5bqU5oyJ6ZSuCiAgdmFyIGtleXMgPSBmdW5jdGlvbiAoZSkgewogICAgaWYgKGUua2V5Q29kZSA9PT0gdXRpbC5rZXlib2FyZC5jb2RlLkVOVEVSICYmIG9rKSBvay5jbGljaygpOyAvLyBFbnRlcgogICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSB1dGlsLmtleWJvYXJkLmNvZGUuRVNDICYmIGNsb3NlKSBjbG9zZS5jbGljaygpOyAvLyBFc2MKICAgIGVsc2UgcmV0dXJuOwogICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpOwogIH07CiAgLy8g5YWz6Zet5a+56K+d5qGGCiAgdmFyIGhpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodHlwZW9mIGZvcm0ub25iZWZvcmVoaWRlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIGlmICh1dGlsLmZ1bmMuY2F0Y2hlZChmb3JtLm9uYmVmb3JlaGlkZSkoKSA9PT0gZmFsc2UpIHJldHVybjsKICAgIH0KICAgIGRvbS5jbGFzc05hbWUgKz0gJyBVSV9hbmltYXRlZCBVSV9zcGVlZF9mYXN0IFVJX2FuaV9ib3VuY2VPdXQnOwogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleXMpOwogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaG9sZCk7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaG9sZCk7CiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGNvdmVyKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRvbSk7IH0sIDIwMCk7CiAgfTsKICAvLyDmmL7npLrlr7nor53moYYKICB2YXIgc2hvdyA9IGZ1bmN0aW9uICh0b3AsIGxlZnQpIHsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY292ZXIpOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb20pOwogICAgaWYgKHRvcCA9PSBudWxsKSB0b3AgPSAod2luZG93LmlubmVySGVpZ2h0IC0gZG9tLmNsaWVudEhlaWdodCkgLyAyOwogICAgaWYgKGxlZnQgPT0gbnVsbCkgbGVmdCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIGRvbS5jbGllbnRXaWR0aCkgLyAyOwogICAgcG9zID0gc2V0UG9zKFtsZWZ0LCB0b3AgKyB3aW5kb3cucGFnZVlPZmZzZXRdKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlzKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhvbGQpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhvbGQpOwogICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7CiAgICBkb20uY2xhc3NOYW1lICs9ICcgVUlfYW5pbWF0ZWQgVUlfc3BlZWRfZmFzdCBVSV9hbmlfYm91bmNlSW4nOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGRvbS5jbGFzc05hbWUgPSBkb20uY2xhc3NOYW1lLnJlcGxhY2UoLyg/OlxzfF4pKFVJX2FuaW1hdGVkfFVJX3NwZWVkX2Zhc3R8VUlfYW5pX2JvdW5jZUluKSg/PVxzfCQpL2csICcnKS50cmltKCk7CiAgICB9LCAyMDApOwogIH07CiAgaWYgKGRpc3BsYXkpIHNob3coKTsKICBpZiAob2spIG9rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZSk7CiAgaWYgKGNhbmNlbCkgY2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZSk7CiAgaWYgKGNsb3NlKSBjbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGUpOwogIHZhciBmb3JtID0geyAnaGlkZSc6IGhpZGUsICdzaG93Jzogc2hvdywgJ2RvbSc6IGRvbSwgJ29uYmVmb3JlaGlkZSc6IG51bGwgfTsKICByZXR1cm4gZm9ybTsKfTsKCi8vIOaYvuekuuS4gOS4quWvueivneahhgp1dGlsLnVpLmRpYWxvZyA9IGZ1bmN0aW9uIChpZCwgdGl0bGUsIGZpbGxGdW4pIHsKICB2YXIgZG9tID0gdXRpbC5kb20uY3JlYXRlKHV0aWwuc3RyLmZpbGwoaHRtbC5kaWFsb2csIHsgJ2lkJzogaWQsICd0aXRsZSc6IHV0aWwuc3RyLmZpbGwodGl0bGUpIH0pKTsKICBmaWxsRnVuKGRvbS5xdWVyeVNlbGVjdG9yKCdbbm9kZS10eXBlPSJpbm5lciJdJykpOwogIHZhciBmb3JtID0gdXRpbC51aS5mb3JtKGRvbSwgZmFsc2UsIHt9KTsKICByZXR1cm4gZm9ybTsKfTsKCi8vIOaYvuekuuS4gOS4quaPkOekuuahhgp1dGlsLnVpLmFsZXJ0ID0gZnVuY3Rpb24gKGlkLCBkZXRhaWxzKSB7CiAgdmFyIGRvbSA9IHV0aWwuZG9tLmNyZWF0ZSh1dGlsLnN0ci5maWxsKGh0bWwuYWxlcnQsIHsgJ2lkJzogaWQsICd0aXRsZSc6IGRldGFpbHMudGl0bGUsICd0ZXh0JzogZGV0YWlscy50ZXh0LCAnaWNvbic6IGRldGFpbHMuaWNvbiB8fCAnYXNrJyB9KSk7CiAgdmFyIGZvcm0gPSB1dGlsLnVpLmZvcm0oZG9tLCB0cnVlLCBkZXRhaWxzKTsKICByZXR1cm4gZm9ybTsKfTsKCi8vIOaYvuekuuS4gOS4quehruWumuahhgp1dGlsLnVpLmNvbmZpcm0gPSBmdW5jdGlvbiAoaWQsIGRldGFpbHMpIHsKICB2YXIgZG9tID0gdXRpbC5kb20uY3JlYXRlKHV0aWwuc3RyLmZpbGwoaHRtbC5jb25maXJtLCB7ICdpZCc6IGlkLCAndGl0bGUnOiBkZXRhaWxzLnRpdGxlLCAndGV4dCc6IGRldGFpbHMudGV4dCwgJ2ljb24nOiBkZXRhaWxzLmljb24gfHwgJ3F1ZXN0aW9uJyB9KSk7CiAgdmFyIGZvcm0gPSB1dGlsLnVpLmZvcm0oZG9tLCB0cnVlLCBkZXRhaWxzKTsKICByZXR1cm4gZm9ybTsKfTsKCnV0aWwudWkuYnViYmxlID0gZnVuY3Rpb24gKGRlc2NyaXB0aW9uLCByZWYpIHsKICB2YXIgYnViYmxlOwogIHZhciByZWN0ID0gcmVmLmdldENsaWVudFJlY3RzKClbMF07CiAgaWYgKGRlc2NyaXB0aW9uIGluc3RhbmNlb2YgRWxlbWVudCkgYnViYmxlID0gZGVzY3JpcHRpb247CiAgZWxzZSBidWJibGUgPSB1dGlsLmRvbS5jcmVhdGUodXRpbC5zdHIuZmlsbChodG1sLmJ1YmJsZSwgeyAndGV4dCc6IGRlc2NyaXB0aW9uIH0pKTsKICB2YXIgYm9yID0gYnViYmxlLnF1ZXJ5U2VsZWN0b3IoJy5XX2Fycm93X2JvcicpOwogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYnViYmxlKTsKICB1dGlsLmZ1bmMuY2FsbChmdW5jdGlvbiAoKSB7CiAgICB2YXIgdG9wMCA9IHJlY3QudG9wIC0gYnViYmxlLmNsaWVudEhlaWdodCAtIDg7CiAgICB2YXIgdG9wMSA9IHRvcDAgKyB3aW5kb3cucGFnZVlPZmZzZXQ7CiAgICB2YXIgdG9wMiA9IHJlY3QuYm90dG9tICsgOCArIHdpbmRvdy5wYWdlWU9mZnNldDsKICAgIGJ1YmJsZS5zdHlsZS5sZWZ0ID0gcmVjdC5sZWZ0IC0gMzIgKyByZWN0LndpZHRoICsgd2luZG93LnBhZ2VYT2Zmc2V0ICsgJ3B4JzsKICAgIGlmICh0b3AwID4gMCkgewogICAgICBidWJibGUuc3R5bGUudG9wID0gdG9wMSArICdweCc7CiAgICAgIGJvci5jbGFzc05hbWUgPSAnV19hcnJvd19ib3IgV19hcnJvd19ib3JfYic7CiAgICB9IGVsc2UgewogICAgICBidWJibGUuc3R5bGUudG9wID0gdG9wMiArICdweCc7CiAgICAgIGJvci5jbGFzc05hbWUgPSAnV19hcnJvd19ib3IgV19hcnJvd19ib3JfdCc7CiAgICB9CiAgfSk7CiAgcmV0dXJuIGJ1YmJsZTsKfTsKCi8vIOe9kee7nOiuv+mXruebuOWFswp2YXIgbmV0d29yayA9IHt9OwoKdXRpbC54aHIgPSBmdW5jdGlvbiAoZGV0YWlscykgewogIHV0aWwuZGVidWcoJ1hIUlVSTDogJW8nLCBkZXRhaWxzLnVybCk7CiAgcmV0dXJuIEdNX3htbGh0dHBSZXF1ZXN0KGRldGFpbHMpOwp9OwoKLy8g57u05oqk5biQ5Y+35L+h5oGv77yM55So5LqO5pi+56S6Cm5ldHdvcmsuYWNjb3VudCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIGlkQ2FjaGUgPSB7fSwgbmFtZUNhY2hlID0ge30sIHdvcmtpbmcgPSB7fTsKICB2YXIgcmVxdWVzdCA9IGZ1bmN0aW9uIChxdWVyeVN0ciwgb25zdWNjLCBvbmVycm9yKSB7CiAgICAvLyDlpoLmnpzlkIzml7blt7Lnu4/mnInkuoblkIznsbvor7fmsYLliJnnrYnlvoXpgqPkuKror7fmsYLnmoTov5Tlm54KICAgIGlmICh3b3JraW5nW3F1ZXJ5U3RyXSkgcmV0dXJuIHdvcmtpbmdbcXVlcnlTdHJdLnB1c2goW29uc3VjYywgb25lcnJvcl0pOwogICAgd29ya2luZ1txdWVyeVN0cl0gPSBbW29uc3VjYywgb25lcnJvcl1dOwogICAgdmFyIGRvbmUgPSBmdW5jdGlvbiAoc3VjY2VzcywgZGF0YSkgewogICAgICB3b3JraW5nW3F1ZXJ5U3RyXS5mb3JFYWNoKGZ1bmN0aW9uICh3KSB7IHdbc3VjY2VzcyA/IDAgOiAxXShkYXRhKTsgfSk7CiAgICAgIGRlbGV0ZSB3b3JraW5nW3F1ZXJ5U3RyXTsKICAgIH07CiAgICAvLyDor7fmsYLojrflj5YKICAgIHV0aWwueGhyKHsKICAgICAgJ21ldGhvZCc6ICdHRVQnLAogICAgICAndXJsJzogdXRpbC5zdHIuZmlsbCh1cmwubmV3Y2FyZCwgeyAncXVlcnknOiBxdWVyeVN0ciwgJ2NhbGxiYWNrJzogdXRpbC5zdHIuZmNiKCkgfSksCiAgICAgICdvbmxvYWQnOiB1dGlsLmZ1bmMuY2F0Y2hlZChmdW5jdGlvbiAocmVzcCkgewogICAgICAgIC8vIOawuOi/nOS4jeimgeivleWbvueQhuino+S4gOS4queUqCBKU09OIOWMheijuSBIVE1MIOeahCBBUEkKICAgICAgICB2YXIgcmVzcEpzb24gPSB1dGlsLnN0ci5wYXJzZWpzb25wKHJlc3AucmVzcG9uc2VUZXh0KTsKICAgICAgICB2YXIgbmFtZWNhcmQgPSB1dGlsLmRvbS5jcmVhdGUoJ2RpdicsIHJlc3BKc29uLmRhdGEpOwogICAgICAgIHZhciBhdmF0YXIgPSBuYW1lY2FyZC5xdWVyeVNlbGVjdG9yKCcubmFtZSBkdCBpbWcnKS5nZXRBdHRyaWJ1dGUoJ3NyYycpOwogICAgICAgIHZhciBuYW1lID0gbmFtZWNhcmQucXVlcnlTZWxlY3RvcignLm5hbWUgZGQgYVt1aWRdJykuZ2V0QXR0cmlidXRlKCd0aXRsZScpOwogICAgICAgIHZhciB1aWQgPSBuYW1lY2FyZC5xdWVyeVNlbGVjdG9yKCcubmFtZSBkZCBhW3VpZF0nKS5nZXRBdHRyaWJ1dGUoJ3VpZCcpOwogICAgICAgIHZhciBkYXRhID0geyAnYXZhdGFyJzogYXZhdGFyLCAnaWQnOiB1aWQsICduYW1lJzogbmFtZSB9OwogICAgICAgIG5hbWVDYWNoZVtuYW1lXSA9IGlkQ2FjaGVbdWlkXSA9IGRhdGE7CiAgICAgICAgZG9uZSh0cnVlLCBkYXRhKTsKICAgICAgfSwgZnVuY3Rpb24gKCkgeyBkb25lKGZhbHNlKTsgfSksCiAgICAgICdvbmVycm9yJzogZnVuY3Rpb24gKCkgeyBkb25lKGZhbHNlKTsgfSwKICAgIH0pOwogICAgcmV0dXJuIHF1ZXJ5U3RyOwogIH07CiAgdmFyIGJ5SWQgPSBmdW5jdGlvbiAoaWQsIG9uc3VjYywgb25lcnJvcikgewogICAgaWYgKGlkQ2FjaGVbaWRdKSBvbnN1Y2MoaWRDYWNoZVtpZF0pOwogICAgZWxzZSByZXF1ZXN0KCdpZD0nICsgaWQsIG9uc3VjYywgb25lcnJvcik7CiAgfTsKICB2YXIgYnlOYW1lID0gZnVuY3Rpb24gKG5hbWUsIG9uc3VjYywgb25lcnJvcikgewogICAgaWYgKG5hbWVDYWNoZVtuYW1lXSkgb25zdWNjKG5hbWVDYWNoZVtuYW1lXSk7CiAgICBlbHNlIHJlcXVlc3QoJ25hbWU9JyArIGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSwgb25zdWNjLCBvbmVycm9yKTsKICB9OwogIHZhciBwdXQgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgbmFtZUNhY2hlW2RhdGEubmFtZV0gPSBpZENhY2hlW2RhdGEuaWRdID0gZGF0YTsKICB9OwogIHJldHVybiB7ICdpZCc6IGJ5SWQsICduYW1lJzogYnlOYW1lLCAncHV0JzogcHV0IH07Cn0oKSk7CgpuZXR3b3JrLmJ1ZmZlcmVkID0gKGZ1bmN0aW9uICgpIHsKICB2YXIgYnVmZmVyID0gW10sIGJ1c3kgPSBmYWxzZTsKICB2YXIgZGVsYXkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAzMDAwICsgTWF0aC5yb3VuZCgyMCAqIE1hdGgucmFuZG9tKCkpICogMTAwOyB9OwogIHZhciBhY3RpdmUgPSBmdW5jdGlvbiBhY3RpdmUoKSB7CiAgICBpZiAoIShidXN5ID0gISFidWZmZXIubGVuZ3RoKSkgcmV0dXJuOwogICAgdmFyIGNhbGxiYWNrID0gYnVmZmVyLnNoaWZ0KCk7CiAgICBjYWxsYmFjayhmdW5jdGlvbiAoKSB7IHNldFRpbWVvdXQoYWN0aXZlLCBkZWxheSgpKTsgfSk7CiAgfTsKICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICBidWZmZXIucHVzaChjYWxsYmFjayk7CiAgICBpZiAoIWJ1c3kpIGFjdGl2ZSgpOwogICAgcmV0dXJuIGNhbGxiYWNrOwogIH07Cn0oKSk7CgpuZXR3b3JrLmhlYWRlcnMgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgICdBY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksKi8qO3E9MC44JywKICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJywKICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04JywKICAgICdDb29raWUnOiBkb2N1bWVudC5jb29raWUsCiAgICAnUmVmZXJlcic6IGxvY2F0aW9uLmhyZWYsCiAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsCiAgfTsKfTsKCm5ldHdvcmsuY29tbWVudCA9IHt9OwovLyDliKDor4TorroKbmV0d29yay5jb21tZW50LmRlbCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIGRlbCA9IGZ1bmN0aW9uIChpbmZvLCBjYWxsYmFjaykgewogICAgdXRpbC5kZWJ1ZygnZGVsZXRpbmcgY29tbWVudCAlcycsIGluZm8pOwogICAgdXRpbC54aHIoewogICAgICAnbWV0aG9kJzogJ1BPU1QnLAogICAgICAndXJsJzogdXRpbC5zdHIuZmlsbCh1cmwuZGVsX2NtdCksCiAgICAgICdoZWFkZXJzJzogbmV0d29yay5oZWFkZXJzKCksCiAgICAgICdkYXRhJzogaW5mbyArICcmYmxvY2s9MScsCiAgICAgICdvbmxvYWQnOiBmdW5jdGlvbiAocmVzcCkgewogICAgICAgIHRyeSB7IHV0aWwuZGVidWcoJ2RlbGV0ZSAlcyByZXNwb25zZTogJW8nLCBpbmZvLCBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2VUZXh0KSk7IH0KICAgICAgICBjYXRjaCAoZSkgeyB1dGlsLmRlYnVnKCdkZWxldGUgJXMgcmVzcG9uc2U6ICVzJywgaW5mbywgcmVzcC5yZXNwb25zZVRleHQpOyB9CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfSwKICAgICAgJ29uZXJyb3InOiBmdW5jdGlvbiAoKSB7IHV0aWwuZGVidWcoJ2Jsb2NrICVzIG5ldHdvcmsgZXJyb3InLCBpbmZvKTsgY2FsbGJhY2soKTsgfSwKICAgIH0pOwogIH07CiAgcmV0dXJuIGZ1bmN0aW9uIChpbmZvKSB7CiAgICBuZXR3b3JrLmJ1ZmZlcmVkKGZ1bmN0aW9uIChjYWxsYmFjaykgeyBkZWwoaW5mbywgY2FsbGJhY2spOyB9KTsKICB9Owp9KCkpOwoKbmV0d29yay51YSA9IHt9OwpuZXR3b3JrLnVhLmFuZHJvaWQgPSAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuNC4yOyB6aC1jbjsgWUFXRikgQXBwbGVXZWJLaXQvNTM3LjE2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgTW9iaWxlIFNhZmFyaS81MzcuMTYnOwoKbmV0d29yay52aWRlbyA9IHt9OwovLyDpgJrov4fnp5Lmi43op4bpopHnmoQgb2JqZWN0aWQg6I635Y+WIG1wNCDmlofku7blnLDlnYAKLy8g6I635Y+W5pa55rOV5piv5qih5ouf5a6J5Y2T55So5oi36K6/6Zeu56eS5ouN6KeG6aKR55qE572R6aG1Cm5ldHdvcmsudmlkZW8uZ2V0ID0ge307Cm5ldHdvcmsudmlkZW8uZ2V0WycxMDM0J10gPSBmdW5jdGlvbiAoaWQsIGNhbGxiYWNrKSB7CiAgdXRpbC54aHIoewogICAgJ21ldGhvZCc6ICdHRVQnLAogICAgJ3VybCc6IHV0aWwuc3RyLmZpbGwodXJsLnZpZGVvX3Nob3csIHsgJ2lkJzogaWQgfSksCiAgICAnaGVhZGVycyc6IHsKICAgICAgJ1VzZXItQWdlbnQnOiBuZXR3b3JrLnVhLmFuZHJvaWQKICAgIH0sCiAgICAnb25sb2FkJzogZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgdmFyIGQgPSB1dGlsLmRvbS5jcmVhdGUoJ2RpdicsIHJlc3AucmVzcG9uc2VUZXh0KTsKICAgICAgdmFyIHZpZGVvID0gZC5xdWVyeVNlbGVjdG9yKCd2aWRlbycpOwogICAgICBjYWxsYmFjayh2aWRlby5nZXRBdHRyaWJ1dGUoJ3NyYycpKTsKICAgIH0sCiAgfSk7Cn07Cm5ldHdvcmsudmlkZW8uZ2V0WycyMDE3NjA3J10gPSBmdW5jdGlvbiAodXJsLCBjYWxsYmFjaykgewogIHV0aWwueGhyKHsKICAgICdtZXRob2QnOiAnR0VUJywKICAgICd1cmwnOiB1cmwsCiAgICAnaGVhZGVycyc6IHsKICAgICAgJ1VzZXItQWdlbnQnOiBuZXR3b3JrLnVhLmFuZHJvaWQKICAgIH0sCiAgICAnb25sb2FkJzogZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgdmFyIGQgPSB1dGlsLmRvbS5jcmVhdGUoJ2RpdicsIHJlc3AucmVzcG9uc2VUZXh0KTsKICAgICAgdmFyIHZpZGVvID0gZC5xdWVyeVNlbGVjdG9yKCcudmlkX2ltZycpOwogICAgICBjYWxsYmFjayh2aWRlby5nZXRBdHRyaWJ1dGUoJ2RhdGEtdXJsJykpOwogICAgfSwKICB9KTsKfTsKCi8vIOeci+eci+afkOS4quS6uuacgOi/kemDveacieWTquS6m+W+ruWNmgovLyDovpPlhaXmmK8gdWlk77yMIOi/lOWbnueahOaYryBtaWQg5pWw57uE77yM5oiW56m65pWw57uE77yI5aSx6LSl77yJCm5ldHdvcmsucmVjZW50ID0gKGZ1bmN0aW9uICgpIHsKICAvLyDlh4/lsJHorr/pl67kuKrkurrkuLvpobXnmoTmrKHmlbAKICAvLyDpmZDliLbkuIDliLvpkp/lhoXmnIDlpJrorr/pl67kuIDmrKHmn5DkurrnmoTkuLvpobUKICAvLyDph43lpI3nmoTorr/pl67nlKjnvJPlrZjop6PlhrMKICB2YXIgY2FjaGUgPSAoZnVuY3Rpb24gKCkgewogICAgdmFyIGRhdGE7CiAgICB2YXIgcm0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0aW1lID0gRGF0ZS5ub3coKTsKICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAodXNlcikgeyBpZiAoZGF0YVt1c2VyXS5leHAgPCB0aW1lKSBkZWxldGUgZGF0YVt1c2VyXTsgfSk7CiAgICB9OwogICAgdmFyIHJlYWQgPSBmdW5jdGlvbiAoKSB7IGRhdGEgPSBKU09OLnBhcnNlKEdNX2dldFZhbHVlKCdyZWNlbnRtaWQnLCAne30nKSkgfHwge307IHJtKCk7IH07CiAgICB2YXIgd3JpdGUgPSBmdW5jdGlvbiAoKSB7IEdNX3NldFZhbHVlKCdyZWNlbnRtaWQnLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7IH07CiAgICByZXR1cm4gZnVuY3Rpb24gKHVpZCwgbWlkcykgewogICAgICByZWFkKCk7IGlmIChtaWRzKSBkYXRhW3VpZF0gPSB7ICdleHAnOiBEYXRlLm5vdygpICsgMWU2LCAnbWlkJzogbWlkcyB9OyB3cml0ZSgpOwogICAgICByZXR1cm4gKGRhdGFbdWlkXSB8fCB7fSkubWlkOwogICAgfTsKICB9KCkpOwogIC8vIOiuv+mXruS4quS6uuS4u+mhtQogIHZhciBnZXQgPSBmdW5jdGlvbiAodWlkLCBjYWxsYmFjaykgewogICAgdXRpbC5kZWJ1ZygncmVxdWVzdCB1c2VyIHBhZ2U6ICVvJywgdWlkKTsKICAgIHV0aWwueGhyKHsKICAgICAgJ21ldGhvZCc6ICdHRVQnLAogICAgICAndXJsJzogdXRpbC5zdHIuZmlsbCh1cmwudXNlciwgeyAndWlkJzogdWlkIH0pLAogICAgICAnb25sb2FkJzogZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIGQgPSBTdHJpbmcocmVzcC5yZXNwb25zZVRleHQpOwogICAgICAgICAgdmFyIHJlID0gLzxzY3JpcHQ+Rk1cLnZpZXdcKHsibnMiOiJwbFwuY29udGVudFwuaG9tZUZlZWRcLmluZGV4Ii4qImh0bWwiOig/PS4qV0JfZmVlZF90eXBlKSgiLioiKX1cKTxcL3NjcmlwdD5cbi87CiAgICAgICAgICB2YXIgaHRtbCA9IEpTT04ucGFyc2UoZC5tYXRjaChyZSlbMV0pOwogICAgICAgICAgdmFyIGRvbSA9IHV0aWwuZG9tLmNyZWF0ZSgnZGl2JywgaHRtbCk7CiAgICAgICAgICB2YXIgZmVlZHMgPSBBcnJheS5mcm9tKGRvbS5xdWVyeVNlbGVjdG9yQWxsKCcuV0JfZmVlZF90eXBlW21pZF06bm90KFtmZWVkdHlwZT0iYWQiXSknKSk7CiAgICAgICAgICB2YXIgbWlkcyA9IGZlZWRzLm1hcChmdW5jdGlvbiAoZikgeyByZXR1cm4gZi5nZXRBdHRyaWJ1dGUoJ21pZCcpOyB9KTsKICAgICAgICAgIHV0aWwuZGVidWcoJ3VzZXIgcGFnZSAlbyBmb3VuZCAlbyBtZXNzYWdlczogJW8nLCB1aWQsIG1pZHMubGVuZ3RoLCBtaWRzKTsKICAgICAgICAgIGlmIChtaWRzLmxlbmd0aCkgY2FjaGUodWlkLCBtaWRzKTsKICAgICAgICAgIGNhbGxiYWNrKG1pZHMpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHV0aWwuZGVidWcoJ3VzZXIgcGFnZSByZWFkIGVycm9yOiAlbycsIGUpOwogICAgICAgICAgY2FsbGJhY2soW10pOwogICAgICAgIH0KICAgICAgfSwKICAgIH0pOwogIH07CiAgLy8g5o6n5Yi26K6/6Zeu6aKR546HCiAgLy8g5q+P5qyh6K6/6Zeu5ZCO6Ze06ZqUIDLvvZ40IOenkuWGjei/m+ihjOS4i+asoeiuv+mXrgogIHZhciBidXN5ID0gZmFsc2UsIHF1ZXVlID0gW107CiAgdmFyIGFjdGl2ZSA9IGZ1bmN0aW9uIGFjdGl2ZSgpIHsKICAgIGlmICghcXVldWUubGVuZ3RoKSByZXR1cm47CiAgICBpZiAoYnVzeSkgcmV0dXJuOwogICAgdmFyIHJlcSA9IHF1ZXVlLnNoaWZ0KCk7CiAgICBnZXQocmVxWzBdLCBmdW5jdGlvbiAobWlkcykgewogICAgICB1dGlsLmZ1bmMuY2FsbChyZXFbMV0sIG1pZHMpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBidXN5ID0gZmFsc2U7CiAgICAgICAgYWN0aXZlKCk7CiAgICAgIH0sIE1hdGgucm91bmQoMjAwMCAqICgxICsgTWF0aC5yYW5kb20oKSkpKTsKICAgIH0pOwogICAgYnVzeSA9IHRydWU7CiAgfTsKICByZXR1cm4gZnVuY3Rpb24gKHVpZCwgY2FsbGJhY2spIHsKICAgIHZhciBtaWRzID0gY2FjaGUodWlkKTsKICAgIGlmIChtaWRzKSB7CiAgICAgIHV0aWwuZnVuYy5jYWxsKGNhbGxiYWNrLCBtaWRzKTsKICAgICAgdXRpbC5kZWJ1ZygncmVhZCB1c2VyIHBhZ2UgJW8gZnJvbSBjYWNoZTogJW8nLCB1aWQsIG1pZHMpOwogICAgICByZXR1cm47CiAgICB9CiAgICBxdWV1ZS5wdXNoKFt1aWQsIGNhbGxiYWNrXSk7CiAgICBhY3RpdmUoKTsKICB9Owp9KCkpOwoKbmV0d29yay5zdWdnZXN0ID0ge307CgovLyDmjqjojZDnlKjmiLfmiJbor53popjnrYkKbmV0d29yay5zdWdnZXN0LmJhc2UgPSBmdW5jdGlvbiAoZnVuYywgbm9ybWFsaXplLCBlbXB0eSkgewogIHZhciBzdWdnZXN0Q2FjaGUgPSB7fTsKICB2YXIgY3VycmVudCA9IG51bGwsIHhociA9IG51bGw7CiAgaWYgKGVtcHR5ICE9IG51bGwpIHN1Z2dlc3RDYWNoZVsnJ10gPSBlbXB0eTsKICByZXR1cm4gZnVuY3Rpb24gKHF1ZXJ5LCBjYWxsYmFjaykgewogICAgcXVlcnkgPSBub3JtYWxpemUocXVlcnkpOwogICAgaWYgKGN1cnJlbnQgPT09IHF1ZXJ5KSByZXR1cm47CiAgICBpZiAoY3VycmVudCAmJiB4aHIpIHhoci5hYm9ydCgpOwogICAgaWYgKHN1Z2dlc3RDYWNoZVtxdWVyeV0pIHsKICAgICAgY3VycmVudCA9IHhociA9IG51bGw7CiAgICAgIGNhbGxiYWNrKHN1Z2dlc3RDYWNoZVtxdWVyeV0pOwogICAgfSBlbHNlIHsKICAgICAgY3VycmVudCA9IHF1ZXJ5OwogICAgICB4aHIgPSBmdW5jKHF1ZXJ5LCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHN1Z2dlc3RDYWNoZVtxdWVyeV0gPSBkYXRhOwogICAgICAgIGN1cnJlbnQgPSB4aHIgPSBudWxsOwogICAgICAgIGNhbGxiYWNrKGRhdGEpOwogICAgICB9KTsKICAgIH0KICB9Owp9OwoKbmV0d29yay5zdWdnZXN0LnRvcHN1Z2dlc3QgPSBmdW5jdGlvbiAocXVlcnksIGNhbGxiYWNrKSB7CiAgcmV0dXJuIHV0aWwueGhyKHsKICAgICdtZXRob2QnOiAnR0VUJywKICAgICd1cmwnOiB1dGlsLnN0ci5maWxsKHVybC50b3BzdWdnZXN0LCB7ICdxdWVyeSc6IGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSksICdjYWxsYmFjayc6IHV0aWwuc3RyLmZjYigpIH0pLAogICAgJ29ubG9hZCc6IGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgIHZhciBkYXRhID0gdXRpbC5zdHIucGFyc2Vqc29ucChyZXNwLnJlc3BvbnNlVGV4dCkuZGF0YTsKICAgICAgZGF0YS51c2VyLmZvckVhY2goZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICB2YXIgZGF0YSA9IHsgJ2lkJzogU3RyaW5nKHVzZXIudV9pZCksICdhdmF0YXInOiB1c2VyLnVfcGljLCAnbmFtZSc6IHVzZXIudV9uYW1lIH07CiAgICAgICAgbmV0d29yay5hY2NvdW50LnB1dChkYXRhKTsKICAgICAgfSk7CiAgICAgIGNhbGxiYWNrKGRhdGEpOwogICAgfSwKICB9KTsKfTsKCi8vIOaOqOiNkOeUqOaItwpuZXR3b3JrLnN1Z2dlc3QudXNlciA9IG5ldHdvcmsuc3VnZ2VzdC5iYXNlKGZ1bmN0aW9uIChxdWVyeSwgY2FsbGJhY2spIHsKICB2YXIgcmVzdWx0MSA9IG51bGwsIHJlc3VsdDIgPSBudWxsOwogIC8vIOaKiuS4pOS4que7k+aenOWQiOW5tu+8jOiHquW3seWFs+azqOeahOW4kOWPt+S8mOWFiAogIHZhciBkb25lID0gZnVuY3Rpb24gKCkgewogICAgaWYgKCFyZXN1bHQxIHx8ICFyZXN1bHQyKSByZXR1cm47CiAgICB2YXIgcmVzdWx0cyA9IHJlc3VsdDIuY29uY2F0KHJlc3VsdDEpOwogICAgcmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uICh4LCBpKSB7IHJldHVybiByZXN1bHRzLmluZGV4T2YoeCkgPT09IGk7IH0pOwogICAgY2FsbGJhY2socmVzdWx0cyk7CiAgfTsKICAvLyDmjqjojZDmkJzntKLmoYbmj5DkvpvnmoTlgJnpgInnlKjmiLcKICAvLyDov5nkupvkuIDoiKzmmK/lvq7ljZrkuK3lhbPms6jph4/ovoPlpJrnmoTluJDlj7cKICB2YXIgbmV0d29yazEgPSBuZXR3b3JrLnN1Z2dlc3QudG9wc3VnZ2VzdChxdWVyeSwgZnVuY3Rpb24gKGRhdGEpIHsKICAgIHJlc3VsdDEgPSBkYXRhLnVzZXIubWFwKGZ1bmN0aW9uICh1c2VyKSB7IHJldHVybiB1c2VyLnVfbmFtZTsgfSk7CiAgICBkb25lKCk7CiAgfSk7CiAgLy8g5o6o6I2Q5o+Q5Yiw5bel5YW35o+Q5L6b55qE5YCZ6YCJ55So5oi3CiAgLy8g6L+Z5Lqb5piv6Ieq5bex5YWz5rOo55qE5biQ5Y+3CiAgdmFyIG5ldHdvcmsyID0gdXRpbC54aHIoewogICAgJ21ldGhvZCc6ICdHRVQnLAogICAgJ3VybCc6IHV0aWwuc3RyLmZpbGwodXJsLmF0dGVudGlvbiwgeyAncXVlcnknOiBlbmNvZGVVUklDb21wb25lbnQocXVlcnkpIH0pLAogICAgJ29ubG9hZCc6IGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXNwLnJlc3BvbnNlVGV4dCkuZGF0YTsKICAgICAgcmVzdWx0MiA9IGRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLnNjcmVlbl9uYW1lOyB9KTsKICAgICAgZG9uZSgpOwogICAgfSwKICB9KTsKICByZXR1cm4gewogICAgJ2Fib3J0JzogZnVuY3Rpb24gKCkgewogICAgICBuZXR3b3JrMS5hYm9ydCgpOwogICAgICBuZXR3b3JrMi5hYm9ydCgpOwogICAgfQogIH07Cn0sIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnJlcGxhY2UoL15ALywgJycpOyB9LCBbXSk7CgovLyDmjqjojZDor53popgKbmV0d29yay5zdWdnZXN0LnRvcGljID0gbmV0d29yay5zdWdnZXN0LmJhc2UoZnVuY3Rpb24gKHF1ZXJ5LCBjYWxsYmFjaykgewogIHJldHVybiB1dGlsLnhocih7CiAgICAnbWV0aG9kJzogJ0dFVCcsCiAgICAndXJsJzogdXRpbC5zdHIuZmlsbCh1cmwudG9waWNzdWdnZXN0LCB7ICdxdWVyeSc6IGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSkgfSksCiAgICAnb25sb2FkJzogZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2VUZXh0KS5kYXRhOwogICAgICB2YXIgZm9ybWF0dGVkID0gZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0udG9waWM7IH0pOwogICAgICAvLyDmnInkuIDkupvlnLDngrnkvJrmt7flnKjph4zpnaLvvIzmnIDlkI7nlKgg4oCcW+WcsOeCuV3igJ0g5qCH6K+GCiAgICAgIC8vIOi/memHjOWwhuaJgOacieacieaWueaLrOWPt+eahOmDveWIoOaOiQogICAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQuZmlsdGVyKGZ1bmN0aW9uICh0b3BpYykgeyByZXR1cm4gdG9waWMuaW5kZXhPZignXScpID09PSAtMTsgfSk7CiAgICAgIGNhbGxiYWNrKGZvcm1hdHRlZCk7CiAgICB9LAogIH0pOwp9LCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5yZXBsYWNlKC8jL2csICcnKTsgfSwgW10pOwoKbmV0d29yay53ZWlibyA9IHt9OwoKbmV0d29yay53ZWliby5sb25ndGV4dCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIG1heGxlbmd0aCA9IDIwMDAsIGJyID0gMTsKICB2YXIgd29yZENvdW50ID0gZnVuY3Rpb24gKGh0bWwpIHsKICAgIHZhciBwID0gdXRpbC5kb20uY3JlYXRlKCdkaXYnLCBodG1sKSwgdGV4dCA9IHAudGV4dENvbnRlbnQsIGJyID0gcC5xdWVyeVNlbGVjdG9yQWxsKCdicicpLmxlbmd0aDsKICAgIHZhciBjb3VudCA9IE1hdGguY2VpbCh0ZXh0Lmxlbmd0aCAtICh0ZXh0Lm1hdGNoKC9bXHUwMDAwLVx1MDBmZl0vZykgfHwgW10pLmxlbmd0aCAvIDIpOyAvLyDopb/mloflrZfmr43mjInljYrlrZforqEKICAgIHJldHVybiB7ICdjb3VudCc6IGNvdW50LCAnYnInOiBiciB9OwogIH07CiAgdmFyIGNoZWNrTGVuZ3RoID0gZnVuY3Rpb24gKGNvdW50LCBsaW5lcykgewogICAgaWYgKG1heGxlbmd0aCA9PT0gMjAwMCkgcmV0dXJuIHRydWU7CiAgICBpZiAoY291bnQgKyBsaW5lcyAqIGJyIDw9IG1heGxlbmd0aCkgcmV0dXJuIHRydWU7CiAgICByZXR1cm4gZmFsc2U7CiAgfTsKICAvLyDor7vlhpnnvJPlrZgKICB2YXIgZ2V0Q2FjaGUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY2FjaGU7CiAgICB0cnkgeyBjYWNoZSA9IEpTT04ucGFyc2UoR01fZ2V0VmFsdWUoJ2xvbmdfd2VpYm9fY2FjaGUnLCAne30nKSk7IH0gY2F0Y2ggKGUpIHsgfQogICAgcmV0dXJuIGNhY2hlIHx8IHt9OwogIH07CiAgdmFyIHB1dENhY2hlID0gZnVuY3Rpb24gKGNhY2hlKSB7CiAgICBHTV9zZXRWYWx1ZSgnbG9uZ193ZWlib19jYWNoZScsIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7CiAgfTsKICAvLyDmm7TmlrDnvJPlrZgKICB2YXIgd3JpdGVDYWNoZSA9IGZ1bmN0aW9uIChtaWQsIGh0bWwsIGNvdW50LCBicikgewogICAgdmFyIGNhY2hlID0gZ2V0Q2FjaGUoKTsKICAgIHdoaWxlIChPYmplY3Qua2V5cyhjYWNoZSkubGVuZ3RoID4gMmU0IC8gbWF4bGVuZ3RoKSB7CiAgICAgIGRlbGV0ZSBjYWNoZVtNYXRoLm1pbi5hcHBseShNYXRoLCBPYmplY3Qua2V5cyhjYWNoZSkpXTsKICAgIH0KICAgIGNhY2hlW21pZF0gPSB7ICdodG1sJzogaHRtbCwgJ2NvdW50JzogY291bnQsICdicic6IGJyIH07CiAgICB1dGlsLmRlYnVnKCdnZXRsb25ndGV4dCBjYWNoZSB3cml0ZTogJW8gLT4gJW8nLCBtaWQsIGNhY2hlW21pZF0pOwogICAgdXRpbC5kZWJ1ZygnZ2V0bG9uZ3RleHQgY2FjaGUga2V5czogJW8nLCBPYmplY3Qua2V5cyhjYWNoZSkpOwogICAgcHV0Q2FjaGUoY2FjaGUpOwogIH07CiAgLy8g5qOA5p+l57yT5a2YCiAgdmFyIHJlYWRDYWNoZSA9IGZ1bmN0aW9uIChtaWQpIHsKICAgIHZhciBjYWNoZSA9IGdldENhY2hlKCk7CiAgICB1dGlsLmRlYnVnKCdnZXRsb25ndGV4dCBjYWNoZSBjaGVjayAobWlkOiAlbyk6ICVvJywgbWlkLCBjYWNoZVttaWRdKTsKICAgIGlmIChtaWQgaW4gY2FjaGUgJiYgY2FjaGVbbWlkXS5odG1sICYmCiAgICAgIGNoZWNrTGVuZ3RoKGNhY2hlW21pZF0uY291bnQsIGNhY2hlW21pZF0uYnIpKSByZXR1cm4gY2FjaGVbbWlkXS5odG1sOwogICAgaWYgKG1pZCBpbiBjYWNoZSAmJiBjYWNoZVttaWRdLmNvdW50ICYmCiAgICAgICFjaGVja0xlbmd0aChjYWNoZVttaWRdLmNvdW50LCBjYWNoZVttaWRdLmJyKSkgcmV0dXJuIGNhY2hlW21pZF0uY291bnQ7CiAgICByZXR1cm4gbnVsbDsKICB9OwogIC8vIOajgOafpeafkOadoeW+ruWNmueahOWujOaVtOWGheWuuQogIHZhciBnZXR0ZXIgPSBmdW5jdGlvbiAobWlkLCBjYWxsYmFjaykgewogICAgLy8g6aaW5YWI5p+l5om+57yT5a2Y77yM5oiW6ICF5b6X5YiwaHRtbO+8jOaIluiAheW+l+WIsOaWh+acrOmVv+W6pgogICAgdmFyIGh0bWwgPSByZWFkQ2FjaGUobWlkKSB8fCBudWxsOwogICAgaWYgKGh0bWwpIHsgY2FsbGJhY2soaHRtbCk7IHJldHVybjsgfQogICAgLy8g57yT5a2Y5rKh5pyJ6IGU572R5p+l5om+CiAgICB1dGlsLnhocih7CiAgICAgICdtZXRob2QnOiAnR0VUJywKICAgICAgJ3VybCc6IHV0aWwuc3RyLmZpbGwodXJsLmdldGxvbmd0ZXh0LCB7ICdtaWQnOiBtaWQgfSksCiAgICAgICdvbmxvYWQnOiBmdW5jdGlvbiAocmVzcCkgewogICAgICAgIHRyeSB7IGh0bWwgPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2VUZXh0KS5kYXRhLmh0bWwgfHwgbnVsbDsgfSBjYXRjaCAoZSkgeyB9CiAgICAgICAgaWYgKCFodG1sKSB7IGNhbGxiYWNrKG51bGwpOyByZXR1cm47IH0KICAgICAgICB2YXIgd2MgPSB3b3JkQ291bnQoaHRtbCk7CiAgICAgICAgaWYgKCFjaGVja0xlbmd0aCh3Yy5jb3VudCwgd2MuYnIpKSBodG1sID0gbnVsbDsKICAgICAgICB3cml0ZUNhY2hlKG1pZCwgaHRtbCwgd2MuY291bnQsIHdjLmJyKTsKICAgICAgICBjYWxsYmFjayhodG1sIHx8IHdjLmNvdW50KTsKICAgICAgfSwKICAgIH0pOwogIH07CiAgLy8g6K6+572u5LiA5LiL5pyA5aSn5o6l5Y+X55qE6ZW/5bqmCiAgZ2V0dGVyLnNldE1heExlbmd0aCA9IGZ1bmN0aW9uIChtLCBiKSB7IG1heGxlbmd0aCA9IG07IGJyID0gYjsgfTsKICByZXR1cm4gZ2V0dGVyOwp9KCkpOwoKLy8g5qOA5p+l5YWz5rOo55qE5Lq655qE5YiX6KGoCm5ldHdvcmsuZm9sbG93aW5nID0gKGZ1bmN0aW9uICgpIHsKICAvLyDmo4Dmn6Xmn5DkuIDpobXlhbPms6jkurrliJfooajvvIzojrflj5blhbPms6jkurrnm7jlhbPmlofmoaPmoJHoioLngrkKICB2YXIgZ2V0Rm9sbG93aW5nQ29udGVudCA9IGZ1bmN0aW9uIChwYWdlLCBjYWxsYmFjaykgewogICAgLy8g6YG/5YWN5Lik5Liq5qCH562+6aG15ZCM5pe26I635Y+W5YWz5rOo5YiX6KGo6YCg5oiQ5Yay56qBCiAgICB2YXIgbGFzdF90cnkgPSBOdW1iZXIoR01fZ2V0VmFsdWUoJ2ZvbGxvd2luZ19saXN0X2ZldGNoaW5nX3RpbWVzdGFtcCcsIDApKTsKICAgIGlmIChsYXN0X3RyeSA8IERhdGUubm93KCkgJiYgbGFzdF90cnkgPiBEYXRlLm5vdygpIC0gMzBlMykgcmV0dXJuOwogICAgR01fc2V0VmFsdWUoJ2ZvbGxvd2luZ19saXN0X2ZldGNoaW5nX3RpbWVzdGFtcCcsIERhdGUubm93KCkpOwogICAgcmV0dXJuIHV0aWwueGhyKHsKICAgICAgJ21ldGhvZCc6ICdHRVQnLAogICAgICAndXJsJzogcGFnZSwKICAgICAgJ29ubG9hZCc6IGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgR01fZGVsZXRlVmFsdWUoJ2ZvbGxvd2luZ19saXN0X2ZldGNoaW5nX3RpbWVzdGFtcCcpOwogICAgICAgIHZhciBkb20gPSBudWxsOwogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgZCA9IFN0cmluZyhyZXNwLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICB2YXIgcmUgPSAvPHNjcmlwdD5GTVwudmlld1woeyJucyI6InBsXC5yZWxhdGlvblwubXlGb2xsb3dcLmluZGV4Ii4qImh0bWwiOig/PS4qbWVtYmVyX2JveCkoIi4qIil9XCk8XC9zY3JpcHQ+XG4vOwogICAgICAgICAgdmFyIGh0bWwgPSBKU09OLnBhcnNlKGQubWF0Y2gocmUpWzFdKTsKICAgICAgICAgIGRvbSA9IHV0aWwuZG9tLmNyZWF0ZSgnZGl2JywgaHRtbCk7CiAgICAgICAgfSBjYXRjaCAoZSkgeyB9CiAgICAgICAgY2FsbGJhY2soZG9tKTsKICAgICAgfSwKICAgICAgJ29uZXJyb3InOiBmdW5jdGlvbiAoKSB7IGNhbGxiYWNrKG51bGwpOyB9LAogICAgfSk7CiAgfTsKICAvLyDku47lhbPms6jkurrnmoTlpLTlg4/mlofmoaPmoJHoioLngrnkuK3ojrflj5bnm7jlhbPkv6Hmga8KICB2YXIgZ2V0VXNlckluZm8gPSBmdW5jdGlvbiAoaW1nKSB7CiAgICB2YXIgZGVzY3JpcHRpb24sIGF2YXRhcjsKICAgIGRlc2NyaXB0aW9uID0gaW1nLmdldEF0dHJpYnV0ZSgndGl0bGUnKTsKICAgIGF2YXRhciA9IGltZy5nZXRBdHRyaWJ1dGUoJ3NyYycpOwogICAgcmV0dXJuICh1dGlsLmZ1bmMuY2F0Y2hlZChmdW5jdGlvbiAoKSB7CiAgICAgIC8vIOWFs+azqOS6huS4gOS4queUqOaItwogICAgICB2YXIgaWQgPSB1dGlsLnN0ci5wYXJzZXF1ZXJ5KGltZy5nZXRBdHRyaWJ1dGUoJ3VzZXJjYXJkJykgfHwgJycpLmlkOyBpZiAoIWlkKSByZXR1cm47CiAgICAgIHZhciBocmVmID0gdXRpbC5zdHIuZmlsbCh1cmwudXNlciwgeyAndWlkJzogaWQgfSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ2lkJzogaWQsIC8vIOWQkeWJjeWFvOWuueeahGlk77yM5ZCO6Z2i55qE54mI5pys6KaB5L2/55SoaHJlZuS7o+abv2lk5L2c5Li65ZSv5LiA5qCH6K+GCiAgICAgICAgJ3R5cGUnOiAndXNlcicsCiAgICAgICAgJ3VzZXInOiBpZCwKICAgICAgICAnaHJlZic6IGhyZWYsCiAgICAgICAgJ2F2YXRhcic6IGF2YXRhciwKICAgICAgICAnbmFtZSc6ICdAJyArIGRlc2NyaXB0aW9uLAogICAgICAgICdkZXNjcmlwdGlvbic6ICdAJyArIGRlc2NyaXB0aW9uLAogICAgICB9OwogICAgfSkoKSkgfHwgKHV0aWwuZnVuYy5jYXRjaGVkKGZ1bmN0aW9uICgpIHsKICAgICAgLy8g5YWz5rOo5LqG5LiA5pSv6IKh56WoCiAgICAgIHZhciBpZCA9IChpbWcucGFyZW50Tm9kZS5ocmVmLm1hdGNoKC93ZWliby5jb21cL3BcLzIzMDY3NyhbYS16QS1aXGRdKykvKSB8fCBbXSlbMV07IGlmICghaWQpIHJldHVybjsKICAgICAgdmFyIGhyZWYgPSB1dGlsLnN0ci5maWxsKHVybC5zdG9jaywgeyAnc3RvY2tpZCc6IGlkIH0pOwogICAgICByZXR1cm4gewogICAgICAgICdpZCc6ICcjJyArIGltZy5wYXJlbnROb2RlLmhyZWYsIC8vIOWQkeWJjeWFvOWuuQogICAgICAgICd0eXBlJzogJ3N0b2NrJywKICAgICAgICAnc3RvY2snOiBpZCwKICAgICAgICAnaHJlZic6IGhyZWYsCiAgICAgICAgJ2F2YXRhcic6IGF2YXRhciwKICAgICAgICAnbmFtZSc6ICckJyArIGRlc2NyaXB0aW9uICsgJyQnLAogICAgICAgICdkZXNjcmlwdGlvbic6ICckJyArIGRlc2NyaXB0aW9uICsgJyQnLAogICAgICB9OwogICAgfSkoKSkgfHwgKHV0aWwuZnVuYy5jYXRjaGVkKGZ1bmN0aW9uICgpIHsKICAgICAgLy8g5YWz5rOo5LqG5LiA5Liq6K+d6aKYCiAgICAgIHZhciByZWYgPSBpbWcucGFyZW50Tm9kZS5ocmVmLm1hdGNoKC9odWF0aS53ZWliby5jb20vKTsgaWYgKCFyZWYpIHJldHVybjsKICAgICAgdmFyIHRleHQgPSBpbWcudGl0bGU7CiAgICAgIC8vIOWOn+acrOeahOmTvuaOpeWMheWQq+eahOaYr+e8luWPt++8jOi/memHjOaNouaIkOivnemimOaWh+acrO+8jOWboOS4uuivnemimOaWh+acrOavlOe8luWPt+abtOWbuuWumu+8mue8luWPt+WPr+S7peiiq+WIoOmZpO+8jOaWh+acrOaXoOazleS/ruaUuQogICAgICB2YXIgaHJlZiA9IHV0aWwuc3RyLmZpbGwodXJsLnRvcGljLCB7ICd0b3BpYyc6IHRleHQgfSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ2lkJzogJyMnICsgaW1nLnBhcmVudE5vZGUuaHJlZiwgLy8g5ZCR5YmN5YW85a65CiAgICAgICAgJ3R5cGUnOiAndG9waWMnLAogICAgICAgICd0b3BpYyc6IHRleHQsCiAgICAgICAgJ2hyZWYnOiBocmVmLAogICAgICAgICdhdmF0YXInOiBhdmF0YXIsCiAgICAgICAgJ25hbWUnOiAnIycgKyBkZXNjcmlwdGlvbiArICcjJywKICAgICAgICAnZGVzY3JpcHRpb24nOiAnIycgKyBkZXNjcmlwdGlvbiArICcjJywKICAgICAgfTsKICAgIH0pKCkpIHx8ICh1dGlsLmZ1bmMuY2F0Y2hlZChmdW5jdGlvbiAoKSB7CiAgICAgIC8vIOacquefpeWFs+azqOWGheWuuQogICAgICByZXR1cm4gewogICAgICAgICdpZCc6ICcjJyArIGltZy5wYXJlbnROb2RlLmhyZWYsIC8vIOWQkeWJjeWFvOWuuQogICAgICAgICd0eXBlJzogJ3Vua25vd24nLAogICAgICAgICdocmVmJzogaHJlZiwKICAgICAgICAnYXZhdGFyJzogYXZhdGFyLAogICAgICAgICdkZXNjcmlwdGlvbic6ICc/JyArIGRlc2NyaXB0aW9uLAogICAgICAgICduYW1lJzogJz8nICsgZGVzY3JpcHRpb24sCiAgICAgIH07CiAgICB9KSgpKTsKICB9OwogIC8vIOS7juaWh+aho+agkeS4reiOt+WPluWFs+azqOS6uueahOWktOWDj+W5tuS7peatpOiOt+WPluWFs+azqOS6uuS/oeaBrwogIHZhciBnZXRVc2Vyc0luZm8gPSBmdW5jdGlvbiAoZG9tKSB7CiAgICByZXR1cm4gQXJyYXkuZnJvbShkb20ucXVlcnlTZWxlY3RvckFsbCgnLm1lbWJlcl9ib3ggLm1lbWJlcl93cmFwIC5tb2RfcGljIC5waWNfYm94IGEgPiBpbWcnKSkKICAgICAgLm1hcChnZXRVc2VySW5mbyk7CiAgfTsKICAvLyDku47mlofmoaPmoJHkuK3mo4Dmn6XkuIDlhbHmnInlpJrlsJHpobXlhbPms6jkuroKICB2YXIgZ2V0UGFnZUNvdW50ID0gZnVuY3Rpb24gKGRvbSkgewogICAgdHJ5IHsKICAgICAgdmFyIHBhZ2VsaW5rID0gZG9tLnF1ZXJ5U2VsZWN0b3JBbGwoJy5XX3BhZ2VzIC5wYWdlJyk7CiAgICAgIHZhciBsYXN0ID0gcGFnZWxpbmtbcGFnZWxpbmsubGVuZ3RoIC0gMl07CiAgICAgIHJldHVybiBOdW1iZXIobGFzdC50ZXh0Q29udGVudCk7CiAgICB9IGNhdGNoIChlKSB7IHJldHVybiAxOyB9CiAgfTsKICAvLyDmoLzlvI/ljJblhbPms6jkv6Hmga8KICB2YXIgZm9ybWF0Rm9sbG93aW5nID0gZnVuY3Rpb24gKGZvbGxvd2luZykgewogICAgdmFyIHVzZXJzID0ge307CiAgICByZXR1cm4gZm9sbG93aW5nLmZpbHRlcihmdW5jdGlvbiAodXNlcikgewogICAgICBpZiAodXNlci5pZCBpbiB1c2VycykgcmV0dXJuIGZhbHNlOwogICAgICB1c2Vyc1t1c2VyLmlkXSA9IHVzZXI7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CiAgfTsKICAvLyDkvb/nlKggR01fdmFsdWVzIOe7tOaKpOeKtuaAgQogIHZhciBnZXRTdGF0dXMgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc3RhdHVzID0ge30sIHZhbGlkID0gdHJ1ZTsKICAgIHRyeSB7IHN0YXR1cyA9IEpTT04ucGFyc2UoR01fZ2V0VmFsdWUoJ2ZvbGxvd2luZ19saXN0X2ZldGNoaW5nJywgJ3t9JykpOyB9IGNhdGNoIChlKSB7fQogICAgaWYgKCFzdGF0dXMpIHZhbGlkID0gZmFsc2U7CiAgICBlbHNlIGlmIChzdGF0dXMudWlkICE9PSB1dGlsLmluZm8udWlkKSB2YWxpZCA9IGZhbHNlOwogICAgZWxzZSBpZiAoIU51bWJlcihzdGF0dXMudGltZXN0YW1wKSB8fCBzdGF0dXMudGltZXN0YW1wID4gRGF0ZS5ub3coKSB8fCBzdGF0dXMudGltZXN0YW1wIDwgRGF0ZS5ub3coKSAtIDYwMGUzKSB2YWxpZCA9IGZhbHNlOwogICAgaWYgKCF2YWxpZCkgc3RhdHVzID0geyAndWlkJzogdXRpbC5pbmZvLnVpZCwgJ24nOiAwLCB9OwogICAgcmV0dXJuIHN0YXR1czsKICB9OwogIHZhciBwdXRTdGF0dXMgPSBmdW5jdGlvbiAoc3RhdHVzLCB1cGRhdGVUaW1lc3RhbXApIHsKICAgIGlmICh1cGRhdGVUaW1lc3RhbXAgIT09IGZhbHNlKSBzdGF0dXMudGltZXN0YW1wID0gRGF0ZS5ub3coKTsKICAgIEdNX3NldFZhbHVlKCdmb2xsb3dpbmdfbGlzdF9mZXRjaGluZycsIEpTT04uc3RyaW5naWZ5KHN0YXR1cykpOwogIH07CiAgdmFyIGdvdFJlc3VsdCA9IGZ1bmN0aW9uIChzdGF0dXMsIGNhbGxiYWNrKSB7CiAgICBwdXRTdGF0dXMoc3RhdHVzLCBmYWxzZSk7CiAgICB1dGlsLmZ1bmMuY2FsbChjYWxsYmFjaywgc3RhdHVzLmZvbGxvd2luZyk7CiAgfTsKICAvLyDojrflj5bmiJHoh6rlt7HnmoTlhbPms6jkv6Hmga8KICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICB2YXIgdWlkID0gdXRpbC5pbmZvLnVpZDsKICAgIC8vIOiOt+WPluS4i+S4gOmhteaVsOaNrgogICAgLy8g6L+Z5Liq5Ye95pWw6KKr6K6+6K6h5oiQ6YCa6L+HIEdNX3ZhbHVlcyDnu7TmiqTnirbmgIHvvIzlm6DkuLrov5nmoLflj6/ku6XmnInmlYjpgb/lhY3lm6DkuLrojrflj5bov4fnqIvkuK3lhbPpl63nvZHpobXpgKDmiJDnmoTpl67popgKICAgIChmdW5jdGlvbiBnZXROZXh0UGFnZSgpIHsKICAgICAgdmFyIHN0YXR1cyA9IGdldFN0YXR1cygpLCBwYWdlOwogICAgICBpZiAoc3RhdHVzLnBhZ2VDb3VudCAmJiBzdGF0dXMubiA9PT0gc3RhdHVzLnBhZ2VDb3VudCkgcmV0dXJuIGdvdFJlc3VsdChzdGF0dXMsIGNhbGxiYWNrKTsKICAgICAgaWYgKCsrc3RhdHVzLm4gPT09IDEpIHBhZ2UgPSB1dGlsLnN0ci5maWxsKHVybC5teWZvbGxvdywgeyAndWlkJzogdWlkIH0pOyAvLyDnrKzkuIDpobXkvb/nlKjpu5jorqTnmoTlnLDlnYDojrflj5YKICAgICAgZWxzZSBwYWdlID0gc3RhdHVzLnRlbXBsYXRlLnJlcGxhY2UoL19wYWdlPVxkKy8sICdfcGFnZT0nICsgc3RhdHVzLm4pOyAvLyDlhbbku5bpobXkvb/nlKjku47nrKzkuIDpobXlvpfliLDnmoTlnLDlnYAKICAgICAgdmFyIHhociA9IGdldEZvbGxvd2luZ0NvbnRlbnQocGFnZSwgZnVuY3Rpb24gKGRvbSkgewogICAgICAgIC8vIOWmguaenOW3sue7j+iOt+WPluWIsOS6huacgOWQjuS4gOmhte+8jOmCo+S5iOe7k+adn+W5tuW+l+WIsOe7k+aenAogICAgICAgIC8vIOWmguaenOaYr+esrOS4gOmhte+8jOimgeiOt+WPluS4gOS6m+mineWklueahOS/oeaBr++8jOWMheaLrOS4gOWFseWkmuWwkemhteS7peWPiuaOpeS4i+adpeavj+mhteeahOWcsOWdgAogICAgICAgIGlmIChzdGF0dXMubiA9PT0gMSkgewogICAgICAgICAgc3RhdHVzLnBhZ2VDb3VudCA9IGdldFBhZ2VDb3VudChkb20pOwogICAgICAgICAgaWYgKHN0YXR1cy5wYWdlQ291bnQgPiAxKSBzdGF0dXMudGVtcGxhdGUgPSBkb20ucXVlcnlTZWxlY3RvcignLldfcGFnZXMgYS5wYWdlW2hyZWZdJykuaHJlZjsKICAgICAgICB9CiAgICAgICAgdXRpbC5kZWJ1ZygnZmV0Y2hpbmcgZm9sbG93aW5nIGxpc3QuLi4gJW8gLyAlbyBkb25lJywgc3RhdHVzLm4sIHN0YXR1cy5wYWdlQ291bnQpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBzdGF0dXMuZm9sbG93aW5nID0gKHN0YXR1cy5mb2xsb3dpbmcgfHwgW10pLmNvbmNhdChnZXRVc2Vyc0luZm8oZG9tKSk7CiAgICAgICAgICBwdXRTdGF0dXMoc3RhdHVzKTsKICAgICAgICAgIHNldFRpbWVvdXQoZ2V0TmV4dFBhZ2UsIDNlMyk7CiAgICAgICAgfSBjYXRjaCAoZSkgeyBzZXRUaW1lb3V0KGdldE5leHRQYWdlLCAzMDBlMyk7IH0KICAgICAgfSk7CiAgICAgIHZhciBidXN5ID0gIXhocjsKICAgICAgaWYgKGJ1c3kpIHNldFRpbWVvdXQoZ2V0TmV4dFBhZ2UsIDEwZTMpOwogICAgfSgpKTsKICB9Owp9KCkpOwoKLy8g6L+H5ruk5ZmoCnZhciBmaWx0ZXIgPSB7fTsKCi8vIOi/h+a7pOWZqOeahOi/h+a7pOinhOWImQpmaWx0ZXIuZmlsdGVycyA9IGZ1bmN0aW9uICgpIHsKICB2YXIgbGlzdCA9IFtdOwogIHZhciBhZGQgPSBmdW5jdGlvbiAocHJpb3JpdHksIHJ1bGUpIHsKICAgIGxpc3QucHVzaCh7ICdwcmlvcml0eSc6IHByaW9yaXR5LCAncnVsZSc6IHJ1bGUgfSk7CiAgICBsaXN0LnNvcnQoZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIHkucHJpb3JpdHkgLSB4LnByaW9yaXR5OyB9KTsKICB9OwogIHZhciBwYXJzZSA9IGZ1bmN0aW9uIChvYmosIGNvbmZzKSB7CiAgICB2YXIgcmVzdWx0ID0gbnVsbDsKICAgIGxpc3Quc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICB0cnkgeyByZXN1bHQgPSBpdGVtLnJ1bGUob2JqLCBjb25mcykgfHwgcmVzdWx0OyB9CiAgICAgIGNhdGNoIChlKSB7IHV0aWwuZXJyb3IoJ0V4Y2VwdGlvbiB3aGlsZSBwYXJzaW5nIHJ1bGUgJW86ICVvXG4lbycsIGl0ZW0ucnVsZSwgZSwgZS5zdGFjayk7IH0KICAgICAgaWYgKHJlc3VsdCkgdXRpbC5kZWJ1ZygnJW9bJW9dKCVvKSAtPiAlcycsIGl0ZW0ucnVsZSwgaXRlbS5ydWxlICYmIGl0ZW0ucnVsZS5uYW1lLCBvYmosIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQgIT09IG51bGw7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfTsKICByZXR1cm4gewogICAgJ2FkZCc6IGFkZCwKICAgICdwYXJzZSc6IHBhcnNlLAogIH07Cn07CgpmaWx0ZXIucnVsZXMgPSBmaWx0ZXIuZmlsdGVycygpOwpmaWx0ZXIuY29tbWVudCA9IGZpbHRlci5maWx0ZXJzKCk7CgovLyDljZXmnaHlvq7ljZrpobXpnaLmsLjov5zkuI3lupTlvZPpmpDol4/lvq7ljZoKZmlsdGVyLnJ1bGVzLmFkZCgxZTYsIGZ1bmN0aW9uIHNpbmdsZVdlaWJvUGFnZVVuc2V0UnVsZShmZWVkKSB7CiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tpZF49IlBsX09mZmljaWFsX1dlaWJvRGV0YWlsX18iXScpID8gJ3Vuc2V0JyA6IG51bGw7Cn0pOwoKLy8g5aS05p2h5paH56ug5piv5LiA5p2h5b6u5Y2a77yM57G75Ly85LqO5Y2V5p2h5b6u5Y2a77yM5LiN5bqU5b2T6ZqQ6JePCmZpbHRlci5ydWxlcy5hZGQoMWU2LCBmdW5jdGlvbiBzaW5nbGVXZWlib1BhZ2VVbnNldFJ1bGUoZmVlZCkgewogIHJldHVybiB1dGlsLmRvbS5tYXRjaGVzKGZlZWQsICcuV0JfYXJ0aWNhbCAqJykgPyAndW5zZXQnIDogbnVsbDsKfSk7CgovLyDov4fmu6TlmajnmoTlr7nor53moYYKZmlsdGVyLmRpYWxvZyA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIGRpYWxvZyA9IG51bGw7CiAgdmFyIGxhc3RUYWIgPSAwLCBkZWZhdWx0VGFiID0gMTsKICAvLyDliJ3lp4vljJbpgInpobnljaHlpITnkIYKICB2YXIgZGlhbG9nVGFicyA9IGZ1bmN0aW9uIChsaXN0LCBpbm5lciwgcGFnZSkgewogICAgdmFyIGxpdGVtcyA9IEFycmF5LmZyb20oaW5uZXIucXVlcnlTZWxlY3RvckFsbCgnLnlhd2YtY29uZmlnLWhlYWRlciAubWluaXRiX2l0ZW0nKSk7CiAgICB2YXIgbGxpbmtzID0gbGl0ZW1zLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5xdWVyeVNlbGVjdG9yKCcubWluaXRiX2xrJyk7IH0pOwogICAgdmFyIGxheWVycyA9IEFycmF5LmZyb20oaW5uZXIucXVlcnlTZWxlY3RvckFsbCgnLnlhd2YtY29uZmlnLWJvZHkgLnlhd2YtY29uZmlnLWxheWVyJykpOwogICAgdmFyIGJvZHkgPSBpbm5lci5xdWVyeVNlbGVjdG9yKCcueWF3Zi1jb25maWctYm9keScpOwogICAgdmFyIGN1cnJlbnRJbmRleCA9IG51bGw7CiAgICAvLyDmmL7npLrnrKzlh6DkuKrpgInpobnljaEKICAgIHZhciBjaG9zZUxMaXN0ID0gZnVuY3Rpb24gKGkpIHsKICAgICAgaWYgKGN1cnJlbnRJbmRleCAhPT0gbnVsbCkgKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgaWYgKGxpc3RbaV0uaGlkZSkgbGlzdFtpXS5oaWRlKCk7CiAgICAgICAgbGF5ZXJzW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgbGF5ZXJzW2ldLmlubmVySFRNTCA9ICcnOwogICAgICAgIGxpdGVtc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7CiAgICAgICAgaWYgKGxsaW5rc1tpXSkgbGxpbmtzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ1NfYmcyJyk7CiAgICAgIH0oY3VycmVudEluZGV4KSk7CiAgICAgIChmdW5jdGlvbiAoKSB7CiAgICAgICAgbGF5ZXJzW2ldLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIGxpc3RbaV0uc2hvdyhsYXllcnNbaV0pOwogICAgICAgIGxpdGVtc1tpXS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50Jyk7CiAgICAgICAgaWYgKGxsaW5rc1tpXSkgbGxpbmtzW2ldLmNsYXNzTGlzdC5hZGQoJ1NfYmcyJyk7CiAgICAgIH0oKSk7CiAgICAgIGN1cnJlbnRJbmRleCA9IGxhc3RUYWIgPSBpOwogICAgICB1dGlsLmZ1bmMuY2FsbChmdW5jdGlvbiAoKSB7IGJvZHkuc2Nyb2xsVG9wID0gMDsgfSk7CiAgICB9OwogICAgLy8g5Li65q+P5Liq6YCJ6aG55Y2h5YWz6IGU5pi+56S655qE5Zue6LCD5Ye95pWwCiAgICBsaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSwgaSkgewogICAgICBpdGVtLmFjdGl2ZSA9IGZ1bmN0aW9uICgpIHsgY2hvc2VMTGlzdChpKTsgfTsKICAgICAgdmFyIGEgPSBsbGlua3NbaV07IGlmICghYSkgcmV0dXJuOwogICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGl0ZW0uYWN0aXZlKTsKICAgICAgYS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaXRlbS5hY3RpdmUpOwogICAgfSk7CiAgICAvLyDliJ3lp4vpgInmi6nkuIDkuKrpgInpobnljaEKICAgIGNob3NlTExpc3QocGFnZSk7CiAgfTsKICByZXR1cm4gZnVuY3Rpb24gc2hvd0RpYWxvZyhwYWdlLCBjb3VudCkgewogICAgdmFyIHNob3dEaWFsb2dJbm5lciA9IGZ1bmN0aW9uIChpbm5lcikgewogICAgICB2YXIgbGlzdCA9IGZpbHRlci5jb2xsZWN0aW9uLmdyb3VwLmxpc3Q7CiAgICAgIGlubmVyLmlubmVySFRNTCA9IFtodG1sLmNvbmZpZ0hlYWRlclRvcCwKICAgICAgICBodG1sLmNvbmZpZ0hlYWRlckJvdHRvbSwKICAgICAgICBodG1sLmNvbmZpZ0xheWVyVG9wLAogICAgICAgIGxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gdXRpbC5zdHIuZmlsbChodG1sLmNvbmZpZ0xheWVySXRlbSwgewogICAgICAgICAgICAnbmFtZSc6IGl0ZW0ubmFtZSArICdGaWx0ZXJHcm91cExheWVyJywKICAgICAgICAgIH0pOwogICAgICAgIH0pLmpvaW4oJycpLAogICAgICAgIGh0bWwuY29uZmlnTGF5ZXJCb3R0b20sCiAgICAgICAgaHRtbC5jb25maWdGb290ZXIsCiAgICAgIF0uam9pbignJyk7CiAgICAgIHZhciB1bCA9IGlubmVyLnF1ZXJ5U2VsZWN0b3IoJy55YXdmLWNvbmZpZy1oZWFkZXIgdWwnKTsKICAgICAgbGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgaWYgKGl0ZW0ubGlzdCkgcmV0dXJuIGl0ZW0ubGlzdChpdGVtLCBpbmRleCk7CiAgICAgICAgcmV0dXJuIHV0aWwuZG9tLmNyZWF0ZSgndWwnLCB1dGlsLnN0ci5maWxsKGh0bWwuY29uZmlnSGVhZGVySXRlbSwgewogICAgICAgICAgJ25hbWUnOiAoaXRlbS5wZ3JvdXAgPyB0ZXh0LmluZGVudCA6ICcnKSArIHRleHRbaXRlbS5uYW1lICsgJ0ZpbHRlckdyb3VwVGl0bGUnXSwKICAgICAgICAgICdhY2xhc3MnOiBpbmRleCA9PT0gMCA/ICdTX2JnNScgOiAnU19iZzEnLAogICAgICAgICAgJ2xpY2xhc3MnOiBpbmRleCA9PT0gMCA/ICdjdXJyZW50JyA6ICcgJywKICAgICAgICB9KSkuZmlyc3RDaGlsZDsKICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAobGkpIHsgdWwuYXBwZW5kQ2hpbGQobGkpOyB9KTsKICAgICAgdXRpbC5mdW5jLmNhbGwoZnVuY3Rpb24gKCkgeyBkaWFsb2cuc2hvdygwKTsgfSk7CiAgICAgIHZhciBwZ251bSA9IGxpc3QuaW5kZXhPZihwYWdlKTsKICAgICAgaWYgKHBnbnVtID09PSAtMSkgcGdudW0gPSBsYXN0VGFiIHx8IGRlZmF1bHRUYWI7CiAgICAgIGRpYWxvZ1RhYnMobGlzdCwgaW5uZXIsIHBnbnVtKTsKICAgIH07CiAgICBpZiAoIShkaWFsb2cgPSB1dGlsLnVpLmRpYWxvZygneWF3Zi1jb25maWcnLCAne3tjb25maWdEaWFsb2dUaXRsZX19Jywgc2hvd0RpYWxvZ0lubmVyKSkpIHsKICAgICAgaWYgKCFjb3VudCB8fCBjb3VudCA8IDEwMCkgc2V0VGltZW91dChzaG93RGlhbG9nLCAxMDAsIHBhZ2UsIChjb3VudCB8fCAwKSArIDEpOwogICAgfQogIH07Cn0oKSk7CgovLyDlv6vpgJ/liJvlu7rov4fmu6TlmagKZmlsdGVyLmZhc3QgPSB7fTsKCi8vIOW/q+mAn+WIm+W7uui/h+a7pOWZqOeahOWvueivneahhgpmaWx0ZXIuZmFzdC5kaWFsb2cgPSBmdW5jdGlvbiAoY2FuZGlkYXRlLCBzZWxlY3RlZCkgewogIHZhciBkaWFsb2dJbm5lciA9IGZ1bmN0aW9uIChpbm5lcikgewogICAgaW5uZXIuaW5uZXJIVE1MID0gaHRtbC5mYXN0RmlsdGVySGVhZGVyICsgaHRtbC5mYXN0RmlsdGVyRm9vdGVyOwogICAgdmFyIGl0ZW1zID0gaW5uZXIucXVlcnlTZWxlY3RvcignI3lhd2YtZmFzdC1maWx0ZXItbGlzdCcpOwogICAgdmFyIHNlbGVjdHMgPSBbXSwgZ3JvdXBfc2hvd24gPSBbXTsKICAgIHZhciBjaGVja2JveHMgPSBjYW5kaWRhdGUubWFwKGZ1bmN0aW9uIChjKSB7CiAgICAgIHZhciBpdGVtID0gdXRpbC5kb20uY3JlYXRlKCd1bCcsIGh0bWwuZmFzdEZpbHRlckl0ZW0pLmZpcnN0Q2hpbGQ7CiAgICAgIHZhciBpbm5lciA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLnlhd2YtZmFzdEZpbHRlckl0ZW1Jbm5lcicpOwogICAgICB2YXIgY2hlY2tlZCA9IGMuZmlsdGVyLmRlc2NyaXB0aW9uKGlubmVyLCBjLnZhbHVlKSAhPT0gZmFsc2U7CiAgICAgIHZhciBjaGVja2JveCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT0iY2hlY2tib3giXSwgaW5wdXRbdHlwZT0icmFkaW8iXScpOwogICAgICB2YXIgZ3JvdXAgPSBjaGVja2JveC5nZXRBdHRyaWJ1dGUoJ3lhd2YtY2hlY2tib3gtZ3JvdXAnKTsKICAgICAgaWYgKGdyb3VwX3Nob3duLmluZGV4T2YoZ3JvdXApID09PSAtMSkgewogICAgICAgIGdyb3VwX3Nob3duLnB1c2goZ3JvdXApOwogICAgICAgIGlmIChzZWxlY3RlZCA9PT0gdHJ1ZSkgY2hlY2tlZCA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKHNlbGVjdGVkID09PSBmYWxzZSkgY2hlY2tlZCA9IGZhbHNlOwogICAgICBpZiAoIWMuc2VsZWN0ZWQpIGNoZWNrZWQgPSBmYWxzZTsKICAgICAgdmFyIHNlbGVjdCA9IGl0ZW0ucXVlcnlTZWxlY3Rvcignc2VsZWN0Jyk7CiAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBjaGVja2VkOyBzZWxlY3QudmFsdWUgPSAnYmxhY2tsaXN0JzsKICAgICAgc2VsZWN0cy5wdXNoKHNlbGVjdCk7CiAgICAgIHZhciB1cGRhdGVTZWxlY3QgPSB1dGlsLmZ1bmMuY2F0Y2hlZChmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICBpZiAocyA9PT0gc2VsZWN0KSByZXR1cm47CiAgICAgICAgICB2YXIgdmFsdWVzID0gQXJyYXkuZnJvbShzLnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpKQogICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnZhbHVlOyB9KTsKICAgICAgICAgIHZhciBmYWxsYmFjayA9IFsnd2hpdGVsaXN0JywgJ2ZvbGRsaXN0JywgJ2JsYWNrbGlzdCddOwogICAgICAgICAgdmFyIGkgPSBmYWxsYmFjay5pbmRleE9mKHNlbGVjdC52YWx1ZSk7CiAgICAgICAgICB3aGlsZSAodmFsdWVzLmluZGV4T2YoZmFsbGJhY2tbaV0pID09PSAtMSkgaSsrOwogICAgICAgICAgcy52YWx1ZSA9IGZhbGxiYWNrW2ldOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZVNlbGVjdCk7CiAgICAgIHNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHVwZGF0ZVNlbGVjdCk7CiAgICAgIC8vIOWkhOeQhuacieWPr+iDveayoeacieaKmOWPoOWIl+ihqOeahOaDheWGtQogICAgICBpZiAoYy5maWx0ZXIubGlzdHR5cGUpIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IEFycmF5LmZyb20oaXRlbS5xdWVyeVNlbGVjdG9yQWxsKCdvcHRpb24nKSk7CiAgICAgICAgb3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb24pIHsKICAgICAgICAgIGlmIChjLmZpbHRlci5saXN0dHlwZS5pbmRleE9mKG9wdGlvbi52YWx1ZSkgPT09IC0xKQogICAgICAgICAgICBvcHRpb24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvcHRpb24pOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGl0ZW1zLmFwcGVuZENoaWxkKGl0ZW0pOwogICAgICByZXR1cm4gY2hlY2tib3g7CiAgICB9KTsKICAgIC8vIOaJvuWIsOaJgOaciemAieaLqeS6hueahOi/h+a7pOWZqAogICAgdmFyIGNob3NlbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGFjdGl2ZSA9IFtdOwogICAgICBjaGVja2JveHMuZm9yRWFjaChmdW5jdGlvbiAoY2hlY2tib3gsIGkpIHsKICAgICAgICBpZiAoIWNoZWNrYm94LmNoZWNrZWQpIHJldHVybjsKICAgICAgICBhY3RpdmUucHVzaCh7CiAgICAgICAgICAnZmlsdGVyJzogY2FuZGlkYXRlW2ldLmZpbHRlciwKICAgICAgICAgICd2YWx1ZSc6IGNhbmRpZGF0ZVtpXS52YWx1ZSwKICAgICAgICAgICdhY3Rpb24nOiBzZWxlY3RzW2ldLnZhbHVlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gYWN0aXZlOwogICAgfTsKICAgIC8vIOehruWumuaMiemSrgogICAgdmFyIG9rID0gaW5uZXIucXVlcnlTZWxlY3RvcignW2FjdGlvbi10eXBlPSJvayJdJyk7CiAgICB2YXIgdXBkYXRlT2tCdXR0b24gPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChjaG9zZW4oKS5sZW5ndGgpIG9rLmNsYXNzTGlzdC5yZW1vdmUoJ1dfYnRuX2FfZGlzYWJsZScpOwogICAgICBlbHNlIG9rLmNsYXNzTGlzdC5hZGQoJ1dfYnRuX2FfZGlzYWJsZScpOwogICAgfTsKICAgIG9rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICB2YXIgYWN0aXZlID0gY2hvc2VuKCk7CiAgICAgIGlmICghYWN0aXZlLmxlbmd0aCkgcmV0dXJuIG51bGw7CiAgICAgIGFjdGl2ZS5mb3JFYWNoKGZ1bmN0aW9uIChhY3QpIHsKICAgICAgICBhY3QuZmlsdGVyLmFkZGNvbmYoYWN0LmZpbHRlci5yYXd2YWx1ZShhY3QudmFsdWUpLCBhY3QuYWN0aW9uKTsKICAgICAgfSk7CiAgICAgIGRpYWxvZy5oaWRlKCk7CiAgICB9KTsKICAgIGNoZWNrYm94cy5mb3JFYWNoKGZ1bmN0aW9uIChjaGVja2JveCkgewogICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVPa0J1dHRvbik7CiAgICB9KTsKICAgIHVwZGF0ZU9rQnV0dG9uKCk7CiAgICAvLyDlj5bmtojmjInpkq4KICAgIHZhciBjYW5jZWwgPSBpbm5lci5xdWVyeVNlbGVjdG9yKCdbYWN0aW9uLXR5cGU9ImNhbmNlbCJdJyk7CiAgICBjYW5jZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7IGRpYWxvZy5oaWRlKCk7IH0pOwogIH07CiAgdmFyIGRpYWxvZyA9IHV0aWwudWkuZGlhbG9nKCd5YXdmLWRyb3Atc2VsZWN0JywgJ3t7ZmFzdENyZWF0ZUNob3NlVGl0bGV9fScsIGRpYWxvZ0lubmVyKTsKICB1dGlsLmZ1bmMuY2FsbChmdW5jdGlvbiAoKSB7IGRpYWxvZy5zaG93KCk7IH0pOwogIHJldHVybiBkaWFsb2c7Cn07CgovLyDmo4Dmn6Xmi5bmi73kuIDkuKrlhYPntKDmmK/kuI3mmK/or6Xop6blj5Hlv6vpgJ/liJvlu7rov4fmu6TlmajnmoTmmL7npLoKZmlsdGVyLmZhc3QudmFsaWQgPSAoZnVuY3Rpb24gKCkgewogIHZhciB2YWxpZGF0b3JzID0gW107CiAgLy8g5qOA5p+l5p+Q5Liq5YWD57Sg5piv5ZCm6KKr6Iez5bCR5LiA5Liq5Ye95pWw6K+G5YirCiAgdmFyIHRlc3QgPSBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWxpZGF0b3JzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICB2YXIgcmVzdWx0ID0gdXRpbC5mdW5jLmNhdGNoZWQodmFsaWRhdG9yc1tpXSkoZWxlbWVudCk7CiAgICAgIGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICByZXR1cm4gZmFsc2U7CiAgfTsKICAvLyDmt7vliqDkuIDkuKror4bliKvlnKjmn5Dnp43nibnlrprlhYPntKDnmoTlh73mlbAKICB2YXIgYWRkID0gZnVuY3Rpb24gYWRkKHZhbGlkYXRvcikgewogICAgaWYgKCF2YWxpZGF0b3IgfHwgdmFsaWRhdG9ycy5pbmRleE9mKHZhbGlkYXRvcikgIT09IC0xKSByZXR1cm47CiAgICB2YWxpZGF0b3JzLnB1c2godmFsaWRhdG9yKTsKICB9OwogIHJldHVybiB7CiAgICAnYWRkJzogYWRkLAogICAgJ3Rlc3QnOiB0ZXN0LAogIH07Cn0oKSk7CgovLyDku47mi5bmi73lvpfliLDnmoTkuJzopb/ph4zpnaLmib7lh7rmnaXmiJHku6zlhbPlv4PnmoTkuJzopb8KZmlsdGVyLmZhc3QucmVjb2duaXplID0gKGZ1bmN0aW9uICgpIHsKICB2YXIgbGlzdGVuZXJzID0gW107CiAgdmFyIGdvdCA9IGZ1bmN0aW9uIChlbGVtZW50LCBlbGVtZW50MikgewogICAgdXRpbC5kZWJ1ZygnZ290ICVvJywgZWxlbWVudCk7CiAgICBpZiAoIWVsZW1lbnQpIGlmIChlbGVtZW50MikgcmV0dXJuIGdvdChlbGVtZW50Mik7IGVsc2UgcmV0dXJuOwogICAgLy8g6Zeu5omA5pyJ6L+H5ruk5Zmo5piv5LiN5piv6ZyA6KaBCiAgICB2YXIgY2FuZGlkYXRlID0gW107CiAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoZGV0YWlscywgaSkgeyBjYW5kaWRhdGVbaV0gPSBudWxsOyB9KTsKICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChkZXRhaWxzLCBpKSB7CiAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKHZhbCkgewogICAgICAgIGlmICghdmFsKSByZXR1cm4gY2FsbGJhY2soW10pOwogICAgICAgIGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHZhbCkpIHJldHVybiBjYWxsYmFjayhbdmFsXSk7CiAgICAgICAgZWxzZSBjYW5kaWRhdGVbaV0gPSB2YWwubWFwKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgIHZhciBzZWxlY3RlZCA9IGRldGFpbHMuc2VsZWN0ZWQgJiYgZGV0YWlscy5zZWxlY3RlZChlbGVtZW50MiB8fCBlbGVtZW50KSB8fCBmYWxzZTsKICAgICAgICAgIHJldHVybiB7ICdmaWx0ZXInOiBkZXRhaWxzLCAndmFsdWUnOiB2YWwsICdzZWxlY3RlZCc6IHNlbGVjdGVkIH07CiAgICAgICAgfSk7CiAgICAgICAgLy8g5aaC5p6c6L+Y5pyJ5rKh5aGr5YaZ55qE77yM6YKj5LmI562J5b6F5omA5pyJ55qE5Ye95pWw5aGr5YaZ5aW9CiAgICAgICAgaWYgKGNhbmRpZGF0ZS5sZW5ndGggIT09IGNhbmRpZGF0ZS5maWx0ZXIoQm9vbGVhbikubGVuZ3RoKSByZXR1cm47CiAgICAgICAgLy8g5om+5Yiw5omA5pyJ5aSH6YCJ55qE5oOF5Ya157uZ55So5oi35YGa6YCJ5oupCiAgICAgICAgdmFyIGNob3NlbiA9IGNhbmRpZGF0ZS5yZWR1Y2UoZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIHguY29uY2F0KHkpOyB9KTsKICAgICAgICBpZiAoY2hvc2VuLmxlbmd0aCkgZmlsdGVyLmZhc3QuZGlhbG9nKGNob3Nlbik7CiAgICAgICAgZWxzZSBpZiAoZWxlbWVudDIpIGdvdChlbGVtZW50Mik7CiAgICAgIH07CiAgICAgIHV0aWwuZnVuYy5jYXRjaGVkKGRldGFpbHMucmVjb2duaXplcikoZWxlbWVudCwgY2FsbGJhY2spOwogICAgfSk7CiAgfTsKICB2YXIgYWRkID0gZnVuY3Rpb24gKGRldGFpbHMpIHsKICAgIGxpc3RlbmVycy5wdXNoKGRldGFpbHMpOwogIH07CiAgcmV0dXJuIHsKICAgICdnb3QnOiBnb3QsCiAgICAnYWRkJzogYWRkLAogIH07Cn0oKSk7CgovLyDkvb/nlKjlj7PplK7oj5zljZXlsY/olL0KZmlsdGVyLmZhc3QucmlnaHQgPSAoZnVuY3Rpb24gKCkgewogIHZhciBjb3VudGVyID0gMCwgZmlsdGVycyA9IFtdOwogIHZhciBhZGRtZW51ID0gZnVuY3Rpb24gKGZlZWQsIGlzQ2hpbGQpIHsKICAgIGlmIChmZWVkLnF1ZXJ5U2VsZWN0b3IoJ21lbnUnKSkgcmV0dXJuOwogICAgdmFyIG1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZW51Jyk7CiAgICBtZW51LnNldEF0dHJpYnV0ZSgndHlwZScsICdjb250ZXh0Jyk7CiAgICB2YXIgc3VibWVudSA9IG1lbnUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWVudScpKTsKICAgIHN1Ym1lbnUuc2V0QXR0cmlidXRlKCdsYWJlbCcsIHRleHQuY29udGV4dE1lbnVDcmVhdGVMYWJlbCk7CiAgICBmaWx0ZXJzLmZvckVhY2goZnVuY3Rpb24gKGRldGFpbHMpIHsKICAgICAgdmFyIGl0ZW1zID0gZGV0YWlscy5jb250ZXh0bWVudShmZWVkKTsKICAgICAgaWYgKCFpdGVtcykgcmV0dXJuOwogICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbXMpKSBpdGVtcyA9IFtpdGVtc107CiAgICAgIGlmICghaXRlbXMubGVuZ3RoKSByZXR1cm47CiAgICAgIHZhciBjb250YWluZXIgPSBzdWJtZW51OwogICAgICBpZiAoZGV0YWlscy5tZW51Z3JvdXBlZCkgewogICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21lbnUnKTsKICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdsYWJlbCcsIHV0aWwuc3RyLmZpbGwoZGV0YWlscy5tZW51Z3JvdXBlZCkpOwogICAgICB9CiAgICAgIHZhciBpdGVtdGV4dCA9IHt9OwogICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgdmFyIHRleHQgPSBkZXRhaWxzLm1lbnVkZXNjKGl0ZW0pOwogICAgICAgIGlmICghdGV4dCB8fCBpdGVtdGV4dFt0ZXh0XSkgcmV0dXJuOyBpdGVtdGV4dFt0ZXh0XSA9IHRydWU7CiAgICAgICAgdmFyIG1lbnVpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWVudWl0ZW0nKTsKICAgICAgICBtZW51aXRlbS5zZXRBdHRyaWJ1dGUoJ2xhYmVsJywgdGV4dCk7CiAgICAgICAgbWVudWl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZXRhaWxzLnJlY29nbml6ZXIoaXRlbSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIGZpbHRlci5mYXN0LmRpYWxvZyhbeyAnZmlsdGVyJzogZGV0YWlscywgJ3ZhbHVlJzogdmFsdWUsICdzZWxlY3RlZCc6IHRydWUgfV0sIHRydWUpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1lbnVpdGVtKTsKICAgICAgfSk7CiAgICAgIGlmIChkZXRhaWxzLm1lbnVncm91cGVkICYmIGNvbnRhaW5lci5maXJzdENoaWxkKSBzdWJtZW51LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7CiAgICB9KTsKICAgIGlmIChtZW51LmZpcnN0Q2hpbGQgJiYgc3VibWVudS5maXJzdENoaWxkKSB7CiAgICAgIGZlZWQuYXBwZW5kQ2hpbGQobWVudSk7CiAgICAgIGZlZWQuc2V0QXR0cmlidXRlKCdjb250ZXh0bWVudScsIChtZW51LmlkID0gJ3lhd2Ytd2VpYm8tbWVudS0nICsgKCsrY291bnRlcikpKTsKICAgIH0KICB9OwogIHZhciBhY3RpdmUgPSBmdW5jdGlvbiAoKSB7CiAgICBvYnNlcnZlci53ZWliby5hZnRlcihmdW5jdGlvbiAoZmVlZCkgewogICAgICB2YXIgc29uID0gQXJyYXkuZnJvbShmZWVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5XQl9zb25GZWVkIC5XQl9mZWVkX2RldGFpbCcpKTsKICAgICAgW2ZlZWRdLmNvbmNhdChzb24pLmZvckVhY2goZnVuY3Rpb24gKGZlZWQsIGluZGV4KSB7IGFkZG1lbnUoZmVlZCwgISFpbmRleCk7IH0pOwogICAgfSk7CiAgfTsKICB2YXIgYWRkID0gZnVuY3Rpb24gKGRldGFpbHMpIHsgaWYgKGRldGFpbHMuY29udGV4dG1lbnUpIGZpbHRlcnMucHVzaChkZXRhaWxzKTsgfTsKICByZXR1cm4gewogICAgJ2FkZCc6IGFkZCwKICAgICdhY3RpdmUnOiBhY3RpdmUsCiAgfTsKfSgpKTsKCmZpbHRlci5mYXN0Lml0ZW0gPSBmdW5jdGlvbiAoZGV0YWlscykgewogIGZpbHRlci5mYXN0LnZhbGlkLmFkZChkZXRhaWxzLnZhbGlkYXRvcik7CiAgZmlsdGVyLmZhc3QucmVjb2duaXplLmFkZChkZXRhaWxzKTsKICBmaWx0ZXIuZmFzdC5yaWdodC5hZGQoZGV0YWlscyk7Cn07CgovLyDlsIbmlofmnKzjgIHpk77mjqXnrYnmi5bmi73liLDmoYblhoXvvIzlv6vpgJ/liJvlu7rov4fmu6TlmagKZmlsdGVyLmZhc3QuYWN0aXZlID0gKGZ1bmN0aW9uICgpIHsKICB2YXIgZHJvcEFyZWEgPSBudWxsOwogIC8vIOiOt+W+l+aLluaLvemHiuaUvueahOWFg+e0oOS5i+WQju+8jOagueaNruS4jeWQjOi/h+a7pOWZqOeahOiuvue9ruWkhOeQhuWFg+e0oAogIHZhciBnb3QgPSBmdW5jdGlvbiAoZWxlbWVudCwgdGFyZ2V0KSB7CiAgICBmaWx0ZXIuZmFzdC5yZWNvZ25pemUuZ290KGVsZW1lbnQsIHRhcmdldCk7CiAgfTsKICAvLyDpmpDol4/lvq7ljZrmi5bmi73liLDlj5HluIPmoYbkuIrkvKDlm77niYflip/og73nmoTljaDkvY3nrKYKICB2YXIgaGlkZUltZ1VwbG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpbWdfdXBsb2FkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbmRfd2VpYm8gLmltZ191cGxvYWQnKTsKICAgIGlmIChpbWdfdXBsb2FkKSBpbWdfdXBsb2FkLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgfTsKICB2YXIgYXJlYSA9IChmdW5jdGlvbiAoKSB7CiAgICB2YXIgY29udCwgdGFyZ2V0ID0gbnVsbCwgYWN0aXZlID0gZmFsc2U7CiAgICB2YXIgc3RhcnQgPSBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICBpZiAoIWZpbHRlci5mYXN0LnZhbGlkLnRlc3QoZWxlbWVudCkpIHJldHVybiBmYWxzZTsKICAgICAgdGFyZ2V0ID0gZWxlbWVudDsKICAgICAgcmV0dXJuIChhY3RpdmUgPSB0cnVlKTsKICAgIH07CiAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFhY3RpdmUpIHJldHVybiB0cnVlOwogICAgICByZXR1cm4gKGFjdGl2ZSA9IGZhbHNlKTsKICAgIH07CiAgICB2YXIgc2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgZHJvcEFyZWEuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICB9OwogICAgdmFyIGhpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmhvdmVyKSB0YXJnZXQuaG92ZXIoKTsKICAgICAgdGFyZ2V0ID0gbnVsbDsKICAgICAgZHJvcEFyZWEuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgaGlkZUltZ1VwbG9hZCgpOwogICAgfTsKICAgIHZhciBpbml0ID0gZnVuY3Rpb24gKCkgewogICAgICBkcm9wQXJlYSA9IHV0aWwuZG9tLmNyZWF0ZShodG1sLmRyb3BBcmVhKTsKICAgICAgY29udCA9IGRyb3BBcmVhLnF1ZXJ5U2VsZWN0b3IoJyN5YXdmLWRyb3AtYXJlYS1jb250ZW50Jyk7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZHJvcEFyZWEpOwogICAgfTsKICAgIHZhciBjb250ZW50ID0gZnVuY3Rpb24gKCkgewogICAgICB1dGlsLmRlYnVnKCdjb250ZW50OiAlbycsIGNvbnQuaW5uZXJIVE1MKTsKICAgICAgY29udC5ub3JtYWxpemUoKTsKICAgICAgaWYgKGNvbnQuZmlyc3RDaGlsZCA9PT0gY29udC5sYXN0Q2hpbGQpIHJldHVybiBjb250LmZpcnN0Q2hpbGQ7CiAgICAgIGVsc2UgcmV0dXJuIGNvbnQ7CiAgICB9OwogICAgdmFyIGNsZWFyID0gZnVuY3Rpb24gKCkgeyBjb250LmlubmVySFRNTCA9ICcnOyB9OwogICAgdmFyIGVudGVyID0gZnVuY3Rpb24gKCkgeyBkcm9wQXJlYS5jbGFzc0xpc3QuYWRkKCd2YWxpZCcpOyB9OwogICAgdmFyIGxlYXZlID0gZnVuY3Rpb24gKCkgeyBkcm9wQXJlYS5jbGFzc0xpc3QucmVtb3ZlKCd2YWxpZCcpOyB9OwogICAgcmV0dXJuIHsKICAgICAgJ3Nob3cnOiBzaG93LCAnaGlkZSc6IGhpZGUsCiAgICAgICdzdGFydCc6IHN0YXJ0LCAnZG9uZSc6IGRvbmUsCiAgICAgICdjb250ZW50JzogY29udGVudCwgJ2NsZWFyJzogY2xlYXIsCiAgICAgICdpbml0JzogaW5pdCwKICAgICAgJ2VudGVyJzogZW50ZXIsICdsZWF2ZSc6IGxlYXZlLAogICAgfTsKICB9KCkpOwogIC8vIOWIneWni+WMluaLluaLveebuOWFs+S6i+S7tuebkeWQrAogIHZhciBldmVudHMgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdmFsaWQgPSBmYWxzZTsKICAgIC8vIOW8gOWni+aLvQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFsaWQgPSBmYWxzZTsgYXJlYS5sZWF2ZSgpOwogICAgICBpZiAoYXJlYS5zdGFydChlLnRhcmdldCkpIGFyZWEuc2hvdygpOwogICAgfSwgZmFsc2UpOwogICAgLy8g5ou95a6M5LqGCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKCFhcmVhLmRvbmUoKSAmJiB2YWxpZCkgZ290KGFyZWEuY29udGVudCgpLCBlLnRhcmdldCk7CiAgICAgIGFyZWEuY2xlYXIoKTsgYXJlYS5oaWRlKCk7CiAgICB9LCBmYWxzZSk7CiAgICBkcm9wQXJlYS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBmdW5jdGlvbiAoZSkgeyB2YWxpZCA9IHRydWU7IGFyZWEuZW50ZXIoKTsgfSk7CiAgICBkcm9wQXJlYS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBmdW5jdGlvbiAoZSkgeyB2YWxpZCA9IGZhbHNlOyBhcmVhLmxlYXZlKCk7IH0pOwogIH07CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIGFyZWEuaW5pdCgpOwogICAgZXZlbnRzKCk7CiAgfTsKfSgpKTsKCi8vIOazqOWGjOWSjOaJqeWxleaVsOe7hOexu+Wei+eahOWGheWuuQpmaWx0ZXIuZXh0ZW50ID0gKGZ1bmN0aW9uICgpIHsKICB2YXIgZXh0cCA9IHt9OwogIHZhciByZWcgPSBmdW5jdGlvbiAoa2V5LCBmdW5jKSB7CiAgICBpZiAodHlwZW9mIGV4dHBba2V5XSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuOwogICAgZWxzZSB7CiAgICAgIHZhciB3b3JkcyA9IGV4dHBba2V5XSB8fCBbXTsKICAgICAgZXh0cFtrZXldID0gZnVuYzsKICAgICAgZnVuYyh3b3Jkcyk7CiAgICB9CiAgfTsKICB2YXIgYWN0ID0gZnVuY3Rpb24gKGtleSwgd29yZHMpIHsKICAgIGlmICh0eXBlb2YgZXh0cFtrZXldID09PSAnZnVuY3Rpb24nKSByZXR1cm4gZXh0cFtrZXldKHdvcmRzKTsKICAgIGVsc2UgZXh0cFtrZXldID0gKGV4dHBba2V5XSB8fCBbXSkuY29uY2F0KHdvcmRzKTsKICB9OwogIHJldHVybiB7CiAgICAncmVnJzogcmVnLAogICAgJ2FjdCc6IGFjdCwKICB9Owp9KCkpOwoKLy8g6L+H5ruk5ZCO5a+55paH5qGj5qCR55qE5LiA5Lqb5L+u5pS5CmZpbHRlci5maXggPSB7fTsKCi8vIOa3u+WKoOeCueWHu+WQjuWxleW8gOaKmOWPoOa2iOaBr+eahOS6i+S7tgpmaWx0ZXIuZml4LmZvbGQgPSAoZnVuY3Rpb24gKCkgewogIHZhciBmaXhPbmUgPSB1dGlsLmZ1bmMuY2F0Y2hlZChmdW5jdGlvbiAoZmVlZCkgewogICAgZmVlZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIHNob3dGZWVkKCkgewogICAgICBmZWVkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd0ZlZWQpOwogICAgICBpZiAoKGZlZWQuZ2V0QXR0cmlidXRlKCd5YXdmLWRpc3BsYXknKSB8fCAnJykubGFzdEluZGV4T2YoJy1mb2xkJykgPT09IC0xKSByZXR1cm47CiAgICAgIHZhciBkaXNwbGF5ID0gKGZlZWQuZ2V0QXR0cmlidXRlKCd5YXdmLWRpc3BsYXknKSB8fCAnJykucmVwbGFjZSgvLWZvbGQkL2csICctdW5mb2xkJyk7CiAgICAgIGZlZWQuc2V0QXR0cmlidXRlKCd5YXdmLWRpc3BsYXknLCBkaXNwbGF5KTsKICAgIH0pOwogICAgLy8g5re75Yqg5L2c6ICF5L+h5oGvCiAgICB0cnkgewogICAgICB2YXIgYXV0aG9yID0gd2VpYm8uZmVlZC5hdXRob3IubmFtZShmZWVkKTsKICAgICAgaWYgKGF1dGhvcikgZmVlZC5zZXRBdHRyaWJ1dGUoJ3lhd2YtYXV0aG9yJywgYXV0aG9yKTsKICAgIH0gY2F0Y2ggKGUpIHsgfQogIH0pOwogIHZhciBmaXggPSBmdW5jdGlvbiAoZmVlZCkgewogICAgdmFyIGZlZWRzID0gW2ZlZWRdLmNvbmNhdChBcnJheS5mcm9tKGZlZWQucXVlcnlTZWxlY3RvckFsbCgnLldCX2ZlZWRfdHlwZScpKSk7CiAgICBmZWVkcy5mb3JFYWNoKGZ1bmN0aW9uIChmZWVkKSB7CiAgICAgIGlmICgoZmVlZC5nZXRBdHRyaWJ1dGUoJ3lhd2YtZGlzcGxheScpIHx8ICcnKS5sYXN0SW5kZXhPZignLWZvbGQnKSA9PT0gLTEpIHJldHVybjsKICAgICAgZml4T25lKGZlZWQpOwogICAgfSk7CiAgfTsKICByZXR1cm4gZml4Owp9KCkpOwoKLy8g6ZqQ6JeP55qE5b6u5Y2a55u05o6l5LuO5YiX6KGo5Lit5Y675o6J77yM5YeP5bCR5byA6ZSA5piv5qyh6KaB55qE77yM5Li76KaB5piv5YW85a65IEpLIOetieW/q+aNt+mUrgpmaWx0ZXIuZml4LmhpZGRlbiA9IGZ1bmN0aW9uIChmZWVkKSB7CiAgaWYgKChmZWVkLmdldEF0dHJpYnV0ZSgneWF3Zi1kaXNwbGF5JykgfHwgJycpLmxhc3RJbmRleE9mKCctaGlkZGVuJykgPT09IC0xKSByZXR1cm47CiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGZpbHRlci5maXguaGlkZGVuLmRvbmUoZmVlZCk7IH0sIDEwMCk7Cn07CmZpbHRlci5maXguaGlkZGVuLmRvbmUgPSBmdW5jdGlvbiAoZmVlZCkgewogIGZlZWQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmZWVkKTsKfTsKCi8vIOmakOiXj+eahOivhOiuuuS5n+ebtOaOpeWIoOaOieWlveS6hgpmaWx0ZXIuZml4LmNtdGhpZGRlbiA9IGZ1bmN0aW9uIChjb21tZW50KSB7CiAgaWYgKChjb21tZW50LmdldEF0dHJpYnV0ZSgneWF3Zi1jbXQtZGlzcGxheScpIHx8ICcnKS5sYXN0SW5kZXhPZignLWhpZGRlbicpID09PSAtMSkgcmV0dXJuOwogIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgZmlsdGVyLmZpeC5jbXRoaWRkZW4uZG9uZShjb21tZW50KTsgfSwgMTAwKTsKfTsKZmlsdGVyLmZpeC5jbXRoaWRkZW4uZG9uZSA9IGZ1bmN0aW9uIChjb21tZW50KSB7CiAgY29tbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbW1lbnQpOwp9OwoKLy8g55yf5q2j5b6u5Y2a6L+H5ruk55qE5qC45b+D5qih5Z2XCmZpbHRlci5hY3RpdmUgPSBmdW5jdGlvbiAoZmVlZCkgewogIHZhciBzb24gPSBBcnJheS5mcm9tKGZlZWQucXVlcnlTZWxlY3RvckFsbCgnLldCX3NvbkZlZWQgLldCX2ZlZWRfZGV0YWlsJykpOwogIHZhciBzc29uID0gW107CiAgdmFyIGZpeEZlZWQgPSBmdW5jdGlvbiAoKSB7CiAgICBmaWx0ZXIuZml4LmZvbGQoZmVlZCk7CiAgICBmaWx0ZXIuZml4LmhpZGRlbihmZWVkKTsKICB9OwogIHZhciBub3RIaWRkZW4gPSAoZnVuY3Rpb24gKCkgewogICAgdmFyIGFjdGlvbiA9IGZpbHRlci5ydWxlcy5wYXJzZShmZWVkLCBmYWxzZSkgfHwgJ3Vuc2V0JzsKICAgIGZlZWQuc2V0QXR0cmlidXRlKCd5YXdmLWRpc3BsYXknLCAnZGlzcGxheS0nICsgYWN0aW9uKTsKICAgIGZpeEZlZWQoZmVlZCk7CiAgICByZXR1cm4gIWFjdGlvbi5tYXRjaCgvXiguKi0pP2hpZGRlbiQvKTsKICB9KCkpOwogIGlmICghbm90SGlkZGVuKSByZXR1cm4gZmFsc2U7CiAgc29uLmZvckVhY2goZnVuY3Rpb24gKGZlZWQsIGluZGV4KSB7CiAgICB2YXIgaXNTb24gPSAhIWluZGV4OwogICAgdmFyIGFjdGlvbiA9IGZpbHRlci5ydWxlcy5wYXJzZShmZWVkLCBpc1NvbikgfHwgJ3Vuc2V0JzsKICAgIGZlZWQuc2V0QXR0cmlidXRlKCd5YXdmLWRpc3BsYXknLCAnZGlzcGxheS0nICsgYWN0aW9uKTsKICAgIGlmIChpc1NvbiAmJiAhYWN0aW9uLm1hdGNoKC9eKC4qLSk/aGlkZGVuJC8pKSBzc29uLnB1c2goZmVlZCk7CiAgICBmaXhGZWVkKGZlZWQpOwogIH0pOwogIHZhciBoZCA9IGZlZWQucXVlcnlTZWxlY3RvcignLldCX2ZlZWRfdG9nZXRoZXIgLndmdF9oZCcpOwogIGlmIChoZCkgewogICAgdXRpbC5kZWJ1Zygnc29uIGNvdW50OiAlbywgbm90IGhpZGRlbjogJW8gLSAlbycsIHNvbi5sZW5ndGgsIHNzb24ubGVuZ3RoLCBzc29uKTsKICAgIGlmIChzc29uLmxlbmd0aCA9PT0gMCkgewogICAgICBoZC5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaGQucGFyZW50Tm9kZSk7CiAgICB9IGVsc2UgaGQucXVlcnlTZWxlY3RvcignW25vZGUtdHlwZT0iZm9sbG93TnVtIl0nKS50ZXh0Q29udGVudCA9IHNzb24ubGVuZ3RoOwogIH0KICByZXR1cm4gdHJ1ZTsKfTsKCi8vIOi/h+a7pOivhOiuuueahOaguOW/g+aooeWdlwpmaWx0ZXIuY210X2FjdGl2ZSA9IGZ1bmN0aW9uIChjb21tZW50KSB7CiAgdmFyIGFjdGlvbiA9IGZpbHRlci5jb21tZW50LnBhcnNlKGNvbW1lbnQpIHx8ICd1bnNldCc7CiAgY29tbWVudC5zZXRBdHRyaWJ1dGUoJ3lhd2YtY210LWRpc3BsYXknLCAnZGlzcGxheS0nICsgYWN0aW9uKTsKICBpZiAoYWN0aW9uID09PSAnaGlkZGVuJykgZmlsdGVyLmZpeC5jbXRoaWRkZW4oY29tbWVudCk7Cn07CgovLyDmjInnsbvlnovov4fmu6Tlmajlh73mlbAKZmlsdGVyLnR5cGVkID0ge307CgovLyDmoLnmja7pgInmi6nnsbvlnovkuI3lkIznlJ/miJDkuIDkupvlrZjlj5borr7nva7nmoTlh73mlbAKZmlsdGVyLnR5cGVkLmNvbmZpZyA9IChmdW5jdGlvbiAoKSB7CiAgLy8g5a2X56ym5LiyCiAgdmFyIGJhc2VDb25maWcgPSBmdW5jdGlvbiAodHlwZSwgc3RhbmRsaXplKSB7CiAgICBpZiAoIXN0YW5kbGl6ZSkgc3RhbmRsaXplID0gdXRpbC5mdW5jLmlkZW50aXR5OwogICAgcmV0dXJuIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHZhciBza2V5ID0gaXRlbS5rZXk7CiAgICAgIGlmIChza2V5KSB7CiAgICAgICAgaWYgKGl0ZW0uaW50ZXJuYWwpIHNrZXkgPSBza2V5LnJlcGxhY2UoL1wuKFteXC5dKikkLywgJy5fJDEnKTsKICAgICAgICBpZiAoIWl0ZW0uZ2V0Y29uZikgaXRlbS5nZXRjb25mID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGRlZiA9ICdkZWZhdWx0JyBpbiBpdGVtID8gaXRlbVsnZGVmYXVsdCddIDogKHR5cGUgPyB0eXBlKCkgOiB1bmRlZmluZWQpOwogICAgICAgICAgcmV0dXJuIHN0YW5kbGl6ZShpdGVtLmNvbmYgPSB1dGlsLmNvbmZpZy5nZXQoc2tleSwgZGVmLCB0eXBlKSk7CiAgICAgICAgfTsKICAgICAgICBpZiAoIWl0ZW0ucHV0Y29uZikgaXRlbS5wdXRjb25mID0gZnVuY3Rpb24gKGNvbmYpIHsKICAgICAgICAgIHJldHVybiB1dGlsLmNvbmZpZy5wdXQoc2tleSwgc3RhbmRsaXplKGl0ZW0uY29uZiA9IGNvbmYpKTsKICAgICAgICB9OwogICAgICAgIHV0aWwuY29uZmlnLnJlZyhza2V5KTsKICAgICAgfQogICAgICBpZiAoaXRlbS5nZXRjb25mICYmIGl0ZW0ucHV0Y29uZikgcmV0dXJuIGl0ZW0ucHV0Y29uZihpdGVtLmdldGNvbmYoKSk7CiAgICB9OwogIH07CiAgLy8g6ZuG5ZCI57G75Z6L55qEYWRkL2RlbOaTjeS9nAogIHZhciBpdGVtc0NvbmZpZyA9IGZ1bmN0aW9uIChpdGVtKSB7CiAgICB2YXIgdmFsdWUgPSBiYXNlQ29uZmlnKEFycmF5LCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5tYXAoU3RyaW5nKTsgfSkoaXRlbSk7CiAgICAvLyDpmaTkuobln7rmnKznmoRnZXQvcHV05aSW77yM5o+Q5L6b6auY57qn55qEYWRkL2RlbAogICAgaWYgKCFpdGVtLmRlbGNvbmYpIGl0ZW0uZGVsY29uZiA9IGZ1bmN0aW9uIChzdHIpIHsKICAgICAgdmFyIHZhbCA9IGl0ZW0uZ2V0Y29uZigpOwogICAgICB2YWwgPSB2YWwuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICE9PSBzdHI7IH0pOwogICAgICByZXR1cm4gaXRlbS5wdXRjb25mKHZhbCk7CiAgICB9OwogICAgaWYgKCFpdGVtLmFkZGNvbmYpIGl0ZW0uYWRkY29uZiA9IGZ1bmN0aW9uIChzdHIpIHsKICAgICAgaXRlbS5kZWxjb25mKHN0cik7CiAgICAgIHZhciB2YWwgPSBpdGVtLmdldGNvbmYoKTsgdmFsLnB1c2goc3RyKTsKICAgICAgcmV0dXJuIGl0ZW0ucHV0Y29uZih2YWwpOwogICAgfTsKICAgIC8vIOatpOWklui/mOacieS+m+aJqeWxleeUqOeahGV4dGVudAogICAgaWYgKGl0ZW0uZXh0ZW50ICYmIEFycmF5LmlzQXJyYXkoaXRlbS5leHRlbnQpKSB7CiAgICAgIGlmICghaXRlbS5leHRlbnRjb25mKSB7CiAgICAgICAgaXRlbS5leHRlbnRjb25mID0gZnVuY3Rpb24gKHdvcmRzKSB7CiAgICAgICAgICBpZiAoaXRlbS5hZGQpIHdvcmRzID0gd29yZHMubWFwKGl0ZW0uYWRkLmJpbmQoaXRlbSkpOwogICAgICAgICAgaXRlbS5leHRlbnQgPSBpdGVtLmV4dGVudC5jb25jYXQod29yZHMpOwogICAgICAgIH07CiAgICAgIH0KICAgICAgZmlsdGVyLmV4dGVudC5yZWcoaXRlbS5rZXksIGl0ZW0uZXh0ZW50Y29uZik7CiAgICB9CiAgICByZXR1cm4gdmFsdWU7CiAgfTsKCiAgcmV0dXJuIHsKICAgICdzdHJpbmcnOiBiYXNlQ29uZmlnKFN0cmluZyksCiAgICAnc3RyaW5ncyc6IGl0ZW1zQ29uZmlnLAogICAgJ2Jvb2xlYW4nOiBiYXNlQ29uZmlnKEJvb2xlYW4pLAogICAgJ3VzZXJzJzogaXRlbXNDb25maWcsCiAgICAnbnVtYmVyJzogYmFzZUNvbmZpZyhOdW1iZXIpLAogICAgJ3JhbmdlJzogYmFzZUNvbmZpZyhOdW1iZXIpLAogICAgJ3NlbGVjdCc6IGJhc2VDb25maWcoU3RyaW5nKSwKICAgICdjb2xvcic6IGJhc2VDb25maWcoU3RyaW5nKSwKICAgICdrZXknOiBiYXNlQ29uZmlnKE51bWJlciksCiAgICAnbm91aSc6IGJhc2VDb25maWcoKSwKICAgICdzdWJzY3JpYmUnOiBiYXNlQ29uZmlnKEJvb2xlYW4pLAogIH07Cn0oKSk7CgovLyDnu5novpPlhaXmoYbmt7vliqDoh6rliqjooaXlhajlip/og70KdXRpbC5jb21wbGV0ZSA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIGVuYWJsZWQgPSBmYWxzZTsKICB2YXIgZW5hYmxlID0gZnVuY3Rpb24gKCkgeyBlbmFibGVkID0gdHJ1ZTsgfTsKICB2YXIgdHlwZXMgPSB7CiAgICAndXNlcic6IG5ldHdvcmsuc3VnZ2VzdC51c2VyLAogICAgJ3RvcGljJzogbmV0d29yay5zdWdnZXN0LnRvcGljLAogIH07CiAgdmFyIHRpbWVvdXQgPSBudWxsLCBzaG93biA9ICcnOwogIC8vIOabtOaWsOaOqOiNkOivjQogIHZhciB1cGRhdGVTdWdnZXN0ID0gZnVuY3Rpb24gKHR5cGUsIGNvbnRhaW5lciwgaW5wdXQpIHsKICAgIHZhciB1bCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd1bCcpOwogICAgcmV0dXJuIGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgIHNob3duID0gdGV4dDsKICAgICAgdWwuaW5uZXJIVE1MID0gJyc7CiAgICAgIHR5cGVzW3R5cGVdKHRleHQsIGZ1bmN0aW9uIChpdGVtcykgewogICAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHZhciBoID0gdXRpbC5zdHIuZmlsbChodG1sLnN1Z2dlc3Rpb25JdGVtLCB7ICd0ZXh0JzogdXRpbC5zdHIuZXNjYXBlLnhtbChpdGVtKSB9KTsKICAgICAgICAgIHZhciBsaSA9IHV0aWwuZG9tLmNyZWF0ZSgndWwnLCBoKS5maXJzdENoaWxkOwogICAgICAgICAgdWwuYXBwZW5kQ2hpbGQobGkpOwogICAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHsgZm9jdXMoY29udGFpbmVyLCBsaSk7IH0pOwogICAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24gKGUpIHsgZG9uZShpbnB1dCwgbGkpOyBlLnByZXZlbnREZWZhdWx0KCk7IH0pOwogICAgICAgIH0pOwogICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ3lhd2YtY29tcGxldGUtaXRlbXMnLCBpdGVtcy5sZW5ndGgpOwogICAgICB9KTsKICAgIH07CiAgfTsKICAvLyDmo4Dmn6XmlofmnKzlvZXlhaXvvIznrYnnlKjmiLfovpPlhaXpl7TpmpnnmoTml7blgJnlho3ogZTnvZHmjqjojZDlgJnpgInor40KICB2YXIgY2hlY2tUZXh0ID0gZnVuY3Rpb24gKGlucHV0LCBzdWdnZXN0KSB7CiAgICB2YXIgY3VycmVudENoZWNrID0gJyc7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBpZiAoaW5wdXQudmFsdWUgPT09IGN1cnJlbnRDaGVjaykgcmV0dXJuOyBjdXJyZW50Q2hlY2sgPSBpbnB1dC52YWx1ZTsKICAgICAgaWYgKHRpbWVvdXQgIT09IG51bGwpIGNsZWFyVGltZW91dCh0aW1lb3V0KTsKICAgICAgaWYgKHNob3duICE9PSBpbnB1dC52YWx1ZSkgc3VnZ2VzdCgnJyk7CiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lb3V0ID0gbnVsbDsKICAgICAgICBzdWdnZXN0KGlucHV0LnZhbHVlKTsKICAgICAgfSwgNTApOwogICAgfTsKICB9OwogIC8vIOe7meavj+S4qui+k+WFpeahhua3u+WKoOWvueW6lOeahOWAmemAieahhgogIHZhciBhZGRTZWxlY3RMaXN0ID0gZnVuY3Rpb24gKGlucHV0KSB7CiAgICB2YXIgY29udGFpbmVyID0gdXRpbC5kb20uY3JlYXRlKCdkaXYnLCB1dGlsLnN0ci5maWxsKGh0bWwuc3VnZ2VzdGlvbkNvbnRhaW5lcikpLmZpcnN0Q2hpbGQ7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7CiAgICB1dGlsLmZ1bmMuY2FsbChmdW5jdGlvbiAoKSB7IHVwZGF0ZVBvc2l0aW9uKGlucHV0LCBjb250YWluZXIpOyB9KTsKICAgIHJldHVybiBjb250YWluZXI7CiAgfTsKICAvLyDoh6rliqjmm7TmlrDlgJnpgInmoYbnmoTkvY3nva4KICB2YXIgdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoaW5wdXQsIGNvbnRhaW5lcikgewogICAgdmFyIGJhayA9IFtdOwogICAgKGZ1bmN0aW9uIHBvc2l0aW9uKCkgewogICAgICBpZiAoIXV0aWwuZG9tLm1hdGNoZXMoaW5wdXQsICdib2R5IConKSkgewogICAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciByZWN0ID0gaW5wdXQuZ2V0Q2xpZW50UmVjdHMoKVswXTsgaWYgKCFyZWN0KSByZXR1cm47CiAgICAgIHZhciB0b3AgPSAocmVjdC5ib3R0b20gKyB3aW5kb3cucGFnZVlPZmZzZXQpLnRvRml4ZWQoMCk7CiAgICAgIHZhciBsZWZ0ID0gKHJlY3QubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCkudG9GaXhlZCgwKTsKICAgICAgaWYgKCFiYWsgfHwgbGVmdCAhPT0gYmFrWzBdIHx8IHRvcCAhPT0gYmFrWzFdKSB7CiAgICAgICAgYmFrID0gW2xlZnQsIHRvcF07CiAgICAgICAgY29udGFpbmVyLnN0eWxlLnRvcCA9IHRvcCArICdweCc7CiAgICAgICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JzsKICAgICAgfQogICAgICBzZXRUaW1lb3V0KHBvc2l0aW9uLCA1MDApOwogICAgfSgpKTsKICB9OwogIC8vIOabtOaWsOW9k+WJjemAieS4reeahOWAmemAiemhueaYr+WTquS4qgogIHZhciBjdXJyZW50ID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgb2Zmc2V0KSB7CiAgICB2YXIgbGkgPSBBcnJheS5mcm9tKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdsaScpKSwgY291bnQgPSBsaS5sZW5ndGg7CiAgICBpZiAoY291bnQgPT09IDApIHJldHVybiBudWxsOwogICAgdmFyIGN1ciA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY3VyJyk7CiAgICB2YXIgaW5kZXggPSBsaS5pbmRleE9mKGN1cik7CiAgICBpZiAoaW5kZXggPT09IC0xICYmIG9mZnNldCA9PT0gMCkgcmV0dXJuIG51bGw7CiAgICBlbHNlIGlmIChpbmRleCA9PT0gLTEgJiYgb2Zmc2V0ID09PSAtMSkgaW5kZXggPSBjb3VudCAtIDE7CiAgICBlbHNlIGlmIChpbmRleCA9PT0gLTEgJiYgb2Zmc2V0ID09PSAxKSBpbmRleCA9IDA7CiAgICBlbHNlIGluZGV4ID0gKGluZGV4ICsgb2Zmc2V0ICsgY291bnQpICUgY291bnQ7CiAgICBpZiAoY3VyKSBjdXIuY2xhc3NMaXN0LnJlbW92ZSgnY3VyJyk7CiAgICBsaVtpbmRleF0uY2xhc3NMaXN0LmFkZCgnY3VyJyk7CiAgICByZXR1cm4gbGlbaW5kZXhdOwogIH07CiAgdmFyIGZvY3VzID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgbGkpIHsKICAgIGlmIChsaS5jbGFzc0xpc3QuY29udGFpbnMoJ2N1cicpKSByZXR1cm47CiAgICB2YXIgY3VyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jdXInKTsKICAgIGlmIChjdXIpIGN1ci5jbGFzc0xpc3QucmVtb3ZlKCdjdXInKTsKICAgIGxpLmNsYXNzTGlzdC5hZGQoJ2N1cicpOwogIH07CiAgLy8g6YCJ5Lit5YCZ6YCJ6aG55pe25o+Q5Lqk6K+l6YCJ6aG5CiAgdmFyIGRvbmUgPSBmdW5jdGlvbiAoaW5wdXQsIGxpKSB7CiAgICBpZiAobGkgPT09IG51bGwpIHJldHVybjsKICAgIGlucHV0LnZhbHVlID0gbGkuZ2V0QXR0cmlidXRlKCd5YXdmLXN1Z2dlc3Rpb24nKTsKICAgIGlucHV0LmZvcm0ucXVlcnlTZWxlY3RvcignLnlhd2YtY29uZmlnQWRkJykuY2xpY2soKTsKICB9OwogIC8vIOe7meafkOS4qui+k+WFpeahhuazqOWGjOWAmemAieiPnOWNlQogIHZhciByZWcgPSBmdW5jdGlvbiAoaW5wdXQsIHR5cGUpIHsKICAgIGlmICghZW5hYmxlZCkgcmV0dXJuOwogICAgdmFyIGNvbnRhaW5lciA9IGFkZFNlbGVjdExpc3QoaW5wdXQpOwogICAgdmFyIHN1Z2dlc3QgPSB1cGRhdGVTdWdnZXN0KHR5cGUsIGNvbnRhaW5lciwgaW5wdXQpOwogICAgdmFyIGNoZWNrZXIgPSBjaGVja1RleHQoaW5wdXQsIHN1Z2dlc3QpOwogICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICBpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJykgewogICAgICAgIHZhciBrZXkgPSB1dGlsLmtleWJvYXJkLmdldChldmVudCk7CiAgICAgICAgc3dpdGNoIChrZXkpIHsKICAgICAgICAgIGNhc2UgdXRpbC5rZXlib2FyZC5jb2RlLkVOVEVSOgogICAgICAgICAgICBkb25lKGlucHV0LCBjdXJyZW50KGNvbnRhaW5lciwgMCkpOwogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgdXRpbC5rZXlib2FyZC5jb2RlLlVQOiBjdXJyZW50KGNvbnRhaW5lciwgLTEpOyBicmVhazsKICAgICAgICAgIGNhc2UgdXRpbC5rZXlib2FyZC5jb2RlLkRPV046IGN1cnJlbnQoY29udGFpbmVyLCAxKTsgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICAgIGNoZWNrZXIoaW5wdXQsIHN1Z2dlc3QpOwogICAgfTsKICAgIHZhciBibHVyID0gZnVuY3Rpb24gKCkgewogICAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIH07CiAgICB2YXIgZm9jdXMgPSBmdW5jdGlvbiAoZSkgewogICAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICcnOyB1cGRhdGUoZSk7CiAgICB9OwogICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdXBkYXRlKTsKICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBkYXRlKTsKICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdXBkYXRlKTsKICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdXBkYXRlKTsKICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZm9jdXMpOwogICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGJsdXIpOwoKICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywgJ29mZicpOwogICAgcmV0dXJuIHVwZGF0ZTsKICB9OwogIHJldHVybiB7CiAgICAnZW5hYmxlJzogZW5hYmxlLAogICAgJ3JlZyc6IHJlZywKICB9Owp9KCkpOwoKLy8g5qC55o2u5LiN5ZCM57G75Z6L55Sf5oiQ5bim5pyJ5LqL5Lu255qE5paH5qGj57uT54K5CmZpbHRlci50eXBlZC5kb20gPSAoZnVuY3Rpb24gKCkgewogIC8vIOWQhOenjeS4jeWQjOexu+Wei+eahOaYvuekuumDveWfuuS6juatpOautemAu+i+kQogIHZhciBiYXNlID0gZnVuY3Rpb24gKGNvbmZpZ3MpIHsKICAgIC8vIOWwhuaWh+acrOWGheWuueihpeWFqAogICAgdmFyIHRleHRCaW5kZXIgPSBmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHRleHQsIHZhbHVlcykgewogICAgICAgIHJldHVybiB1dGlsLnN0ci5maWxsKHRleHQsCiAgICAgICAgICB2YWx1ZXMgfHwge30sCiAgICAgICAgICBpdGVtLAogICAgICAgICAgaXRlbS5pMThuICYmIGl0ZW0uaTE4bi5sb2NhbCB8fCB7fSwKICAgICAgICAgIGl0ZW0udGV4dHMgfHwge30sCiAgICAgICAgICB7ICdrZXknOiAnJyB9KTsKICAgICAgfTsKICAgIH07CiAgICAvLyDnlJ/miJAgRE9NCiAgICB2YXIgZ2VuRG9tID0gZnVuY3Rpb24gKGxpbmUsIHJlZikgewogICAgICAvLyDlnKjpnIDopoHlvJXnlKjlhbbku5bmjqfku7bnmoTlnLDmlrnnlZnnqboKICAgICAgbGluZSA9IGxpbmUucmVwbGFjZSgve3s8KFthLXpBLVowLTlfLV0qKT59fS9nLCBmdW5jdGlvbiAobSwgcCkgewogICAgICAgIHJldHVybiByZWYocCkgPyB1dGlsLnN0ci5maWxsKGh0bWwuY29uZmlnUHJlZmlsbCwgeyAnaWQnOiBwIH0pIDogbTsKICAgICAgfSk7CiAgICAgIC8vIOW8leeUqOWFtuS7luiuvue9rumhuQogICAgICBsaW5lID0gbGluZS5yZXBsYWNlKC9cW1xbKFteXF1dKilcXVxdL2csIGZ1bmN0aW9uIChfLCBpKSB7CiAgICAgICAgcmV0dXJuIHV0aWwuc3RyLmZpbGwoaHRtbC5yZWZDb25maWdJdGVtLCB7ICdyZWYnOiBpIH0pOwogICAgICB9KTsKICAgICAgLy8g5p6E6YCg5Z+65pys55qE5paH5qGjCiAgICAgIHZhciBkb20gPSB1dGlsLmRvbS5jcmVhdGUoJ2RpdicsIGxpbmUpLmZpcnN0Q2hpbGQ7CiAgICAgIC8vIOWwhuW8leeUqOeahOiuvue9ruaOp+S7tuWhq+WbngogICAgICB2YXIgcGYgPSBBcnJheS5mcm9tKGRvbS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnlhd2YtY29uZmlnUHJlZmlsbCcpKTsKICAgICAgcGYuZm9yRWFjaChmdW5jdGlvbiAocGZpKSB7CiAgICAgICAgcGZpLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHJlZihwZmkuaWQpLnNob3codHJ1ZSksIHBmaSk7CiAgICAgIH0pOwogICAgICAvLyDlsIblvJXnlKjnmoTlhbbku5borr7nva7pobnloavlm54KICAgICAgdmFyIHJmID0gQXJyYXkuZnJvbShkb20ucXVlcnlTZWxlY3RvckFsbCgnW3lhd2YtcmVmXScpKTsKICAgICAgcmYuZm9yRWFjaChmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgdmFyIGRvbSA9IHV0aWwub2JqLmRvdHRlZChmaWx0ZXIuaXRlbXMsIHJlZi5nZXRBdHRyaWJ1dGUoJ3lhd2YtcmVmJykpLnNob3coKTsKICAgICAgICBkb20uY2xhc3NMaXN0LnJlbW92ZSgneWF3Zi1jb25maWdJdGVtJyk7IGRvbS5jbGFzc0xpc3QuYWRkKCd5YXdmLXJlZkNvbmZpZ0l0ZW0nKTsKICAgICAgICByZWYucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZG9tLCByZWYpOwogICAgICB9KTsKICAgICAgcmV0dXJuIGRvbTsKICAgIH07CiAgICAvLyDlpoLmnpwgaW5uZXJPbmx5IOWImeWPqueUn+aIkOi+k+WFpeahhgogICAgcmV0dXJuIGZ1bmN0aW9uIChpbm5lck9ubHkpIHsKICAgICAgdmFyIGl0ZW0gPSB0aGlzOwogICAgICB2YXIgdGV4dGJpbmQgPSB0ZXh0QmluZGVyKGl0ZW0pOwogICAgICB2YXIgb3V0ZXIsIGlubmVyLCBwbGFjZWhvbGRlciA9ICd7e319JzsKICAgICAgaWYgKGlubmVyT25seSkgb3V0ZXIgPSBwbGFjZWhvbGRlcjsKICAgICAgZWxzZSB7CiAgICAgICAgdmFyIHRleHQgPSB0ZXh0YmluZChpdGVtLnRleHQgfHwgJycpLnJlcGxhY2UoL1x8XHwvZywgaHRtbFsnfHwnXSkucmVwbGFjZSgvXHwvZywgaHRtbFsnfCddKTsKICAgICAgICBpZiAodGV4dC5pbmRleE9mKHBsYWNlaG9sZGVyKSA9PT0gLTEpIHRleHQgPSBwbGFjZWhvbGRlciArIHRleHQ7CiAgICAgICAgb3V0ZXIgPSB0ZXh0YmluZChjb25maWdzLm91dGVyIHx8IGh0bWwuY29uZmlnRGVmYXVsdCwgeyAndGV4dCc6IHRleHQgfSk7CiAgICAgIH0KICAgICAgaW5uZXIgPSB0ZXh0YmluZChjb25maWdzLmlubmVyIHx8ICcnKTsKICAgICAgLy8g5b6X5Yiw5YyF5ous6L6T5YWl5qGG55qE55qEIEhUTUwKICAgICAgdmFyIGxpbmUgPSBvdXRlci5yZXBsYWNlKHBsYWNlaG9sZGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBpbm5lcjsgfSk7CiAgICAgIHZhciBkb20gPSBnZW5Eb20obGluZSwgZnVuY3Rpb24gKGlkKSB7IHJldHVybiBpdGVtLnJlZltpZF07IH0pOwogICAgICBpZiAoY29uZmlncy5iaW5kZXIpIGNvbmZpZ3MuYmluZGVyKGRvbSwgaXRlbSk7CiAgICAgIHJldHVybiBkb207CiAgICB9OwogIH07CgogIC8vIOWvueWkp+mDqOWIhuaDheWGtemAgueUqOeahOeugOWNleWMheijhQogIHZhciBzaW1wbGUgPSBmdW5jdGlvbiAobmFtZSwgYmluZGVyKSB7CiAgICByZXR1cm4gYmFzZSh7CiAgICAgICdvdXRlcic6IGh0bWxbJ2NvbmZpZycgKyBuYW1lXSwKICAgICAgJ2lubmVyJzogaHRtbFsnY29uZmlnJyArIG5hbWUgKyAnSW5wdXQnXSwKICAgICAgJ2JpbmRlcic6IGJpbmRlciwKICAgIH0pOwogIH07CgogIC8vIOWJr+agh+mimAogIHZhciBzdWJ0aXRsZSA9IHNpbXBsZSgnU3VidGl0bGUnKTsKICAvLyDmlofmnKwKICB2YXIgdGV4dCA9IHNpbXBsZSgnVGV4dCcpOwogIC8vIOS4jee8qei/m+eahOaWh+acrAogIHZhciByZW1hcmsgPSBzaW1wbGUoJ1JlbWFyaycpOwogIC8vIOS4gOS4quepuueahCBsYWJlbAogIHZhciBsYWJlbCA9IHNpbXBsZSgnTGFiZWwnKTsKCiAgLy8g5LiA5Liq5o+Q56S65Zu+5qCHCiAgdmFyIHNpY29uID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGl0ZW0gPSB0aGlzOwogICAgdmFyIGRvbSA9IHV0aWwuZG9tLmNyZWF0ZSh1dGlsLnN0ci5maWxsKGh0bWwuc2ljb24sIGl0ZW0pKTsKICAgIHZhciBidWJibGUgPSBudWxsLCByZW1vdmVyID0gbnVsbDsKICAgIHZhciBlbnRlciA9IGZ1bmN0aW9uICgpIHsgaWYgKHJlbW92ZXIpIGNsZWFyVGltZW91dChyZW1vdmVyKTsgfTsKICAgIHZhciBsZWF2ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFidWJibGUpIHJldHVybjsKICAgICAgcmVtb3ZlciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGJ1YmJsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJ1YmJsZSk7CiAgICAgICAgYnViYmxlID0gbnVsbDsKICAgICAgfSwgMjAwKTsKICAgIH07CiAgICAvLyDnlJ/miJDmsJTms6EKICAgIHZhciBjcmVhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBidWJibGUgPSBudWxsOwogICAgICB2YXIgc2ltID0gZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgYnViYmxlID0gYmFzZSh7ICdvdXRlcic6IGh0bWwuYnViYmxlIH0pLmNhbGwoaXRlbSk7CiAgICAgICAgcmV0dXJuIHV0aWwudWkuYnViYmxlKGJ1YmJsZSwgZG9tKTsKICAgICAgfTsKICAgICAgYnViYmxlID0gc2ltKGl0ZW0pOwogICAgICBpZiAoaXRlbS5idWJibGVkKSBpdGVtLmJ1YmJsZWQoYnViYmxlKTsKICAgICAgcmV0dXJuIGJ1YmJsZTsKICAgIH07CiAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHsKICAgICAgZW50ZXIoKTsgaWYgKGJ1YmJsZSkgcmV0dXJuOyBidWJibGUgPSBjcmVhdGUoKTsKICAgICAgYnViYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBlbnRlcik7CiAgICAgIGJ1YmJsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgbGVhdmUpOwogICAgfSk7CiAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGxlYXZlKTsKICAgIHJldHVybiBkb207CiAgfTsKCiAgLy8g55yf5YGH5YC855qE6K6+572u6aG5CiAgdmFyIGJvb2wgPSBzaW1wbGUoJ0Jvb2xlYW4nLCBmdW5jdGlvbiAoZG9tLCBpdGVtKSB7CiAgICB1dGlsLmRvbS5iaW5kLmNoZWNrYm94KGRvbS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLCBpdGVtKTsKICB9KTsKCiAgLy8g6YCJ5oup5qGG6K6+572u6aG5CiAgdmFyIHNlbGVjdCA9IHNpbXBsZSgnU2VsZWN0JywgZnVuY3Rpb24gKGRvbSwgaXRlbSkgewogICAgdmFyIHNlbGVjdCA9IGRvbS5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKTsKICAgIHZhciBkZWZhdWx0VmFsdWUgPSBpdGVtWydkZWZhdWx0J10gfHwgaXRlbS5zZWxlY3Qua2V5OwogICAgdmFyIGtleXMgPSBpdGVtLnNlbGVjdC5tYXAoZnVuY3Rpb24gKG9wdGlvbikgewogICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQodXRpbC5kb20uY3JlYXRlKCdzZWxlY3QnLCB1dGlsLnN0ci5maWxsKGh0bWwub3B0aW9uLCBvcHRpb24pKS5maXJzdENoaWxkKTsKICAgICAgcmV0dXJuIG9wdGlvbi52YWx1ZTsKICAgIH0pOwogICAgdXRpbC5kb20uYmluZC5zZWxlY3Qoc2VsZWN0LCBpdGVtLCBmdW5jdGlvbiAodmFsKSB7CiAgICAgIHJldHVybiBrZXlzLmluZGV4T2YodmFsKSA9PT0gLTEgPyBkZWZhdWx0VmFsdWUgOiB2YWw7CiAgICB9KTsKICB9KTsKCiAgLy8g5a2X56ym5Liy55qE6K6+572u6aG5CiAgdmFyIHN0cmluZyA9IHNpbXBsZSgnU3RyaW5nJywgZnVuY3Rpb24gKGRvbSwgaXRlbSkgewogICAgdmFyIHRleHRhcmVhID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJyk7CiAgICB2YXIgb25jaGFuZ2UgPSB1dGlsLmRvbS5iaW5kLnRleHQodGV4dGFyZWEsIGl0ZW0pOwogICAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHV0aWwuZnVuYy5jYWxsKG9uY2hhbmdlKTsKICAgIH0pOwogIH0pOwoKICAvLyDpopzoibLnmoTorr7nva7pobkKICB2YXIgY29sb3IgPSBzaW1wbGUoJ0NvbG9yJywgZnVuY3Rpb24gKGRvbSwgaXRlbSkgewogICAgdXRpbC5kb20uYmluZC50ZXh0KGRvbS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLCBpdGVtKTsKICB9KTsKCiAgLy8g5pWw5a2X55qE6K6+572u6aG5CiAgdmFyIG51bWJlciA9IHNpbXBsZSgnTnVtYmVyJywgZnVuY3Rpb24gKGRvbSwgaXRlbSkgewogICAgdmFyIG51bWJlciA9IGRvbS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpOwogICAgdmFyIG1heCA9IEluZmluaXR5LCBtaW4gPSAtSW5maW5pdHk7CiAgICBpZiAoJ21heCcgaW4gaXRlbSkgbWF4ID0gaXRlbS5tYXg7CiAgICBpZiAoJ21pbicgaW4gaXRlbSkgbWluID0gaXRlbS5taW47CiAgICBpZiAobWluID4gbWF4KSBtaW4gPSBtYXg7CiAgICBudW1iZXIubWluID0gbWluOyBudW1iZXIubWF4ID0gbWF4OwogICAgdXRpbC5kb20uYmluZC50ZXh0KG51bWJlciwgaXRlbSwgZnVuY3Rpb24gKHZhbCkgewogICAgICBpZiAoaXNOYU4oTnVtYmVyKHZhbCkpKSByZXR1cm4gKHZhbCA9IDApOwogICAgICByZXR1cm4gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIE51bWJlcih2YWwpKSk7CiAgICB9KTsKICB9KTsKCiAgLy8g5a2X56ym5Liy5pWw57uE6K6+572u6aG55qih5p2/CiAgdmFyIGl0ZW1zID0gZnVuY3Rpb24gKG91dGVyLCBnZW5saSkgewogICAgcmV0dXJuIGJhc2UoewogICAgICAnb3V0ZXInOiBvdXRlciwKICAgICAgJ2JpbmRlcic6IGZ1bmN0aW9uIChkb20sIGl0ZW0pIHsKICAgICAgICB2YXIgZm9ybSA9IGRvbS5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7CiAgICAgICAgdmFyIGlucHV0ID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7CiAgICAgICAgdmFyIHVsID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJ3VsLnlhd2YtY29uZmlnSXRlbXMnKTsKICAgICAgICB2YXIgc2hvd24gPSB7fTsKICAgICAgICAvLyDlsIbmn5DkuKrlt7Lnu4/mnInnmoTlrZfnrKbkuLLmmL7npLrliLDmnKvlsL4KICAgICAgICB2YXIgbW92ZVRvRW5kID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHZhciBwID0geC5wYXJlbnROb2RlOyBwLmFwcGVuZENoaWxkKHAucmVtb3ZlQ2hpbGQoeCkpOwogICAgICAgIH07CiAgICAgICAgLy8g5pi+56S65LiA5Liq5paw55qE5a2X56ym5LiyCiAgICAgICAgdmFyIHNob3dTdHJpbmdzID0gZnVuY3Rpb24gKHVzZXJpbnB1dCwgc3RyLCBvbnN1Y2MsIG9uZG9uZSkgewogICAgICAgICAgZ2VubGkoaXRlbSwgdXNlcmlucHV0LCBzdHIsIGZ1bmN0aW9uIChzdHIsIGxpKSB7CiAgICAgICAgICAgIGlmIChvbmRvbmUpIG9uZG9uZSgpOwogICAgICAgICAgICBpZiAoc3RyID09IG51bGwgfHwgIWxpKSByZXR1cm47CiAgICAgICAgICAgIGlmIChzaG93bltzdHJdKSByZXR1cm4gbW92ZVRvRW5kKHNob3duW3N0cl0pOwogICAgICAgICAgICB2YXIgZGVsID0gbGkucXVlcnlTZWxlY3RvcignYS5pY29uX2Nsb3NlLCBhLmZpY29uX2Nsb3NlJyk7CiAgICAgICAgICAgIGRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBkZWxldGUgc2hvd25bc3RyXTsKICAgICAgICAgICAgICBpZiAoaXRlbS5kZWwpIGl0ZW0uZGVsKHN0cik7CiAgICAgICAgICAgICAgbGkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsaSk7CiAgICAgICAgICAgICAgaXRlbS5kZWxjb25mKHN0cik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB1bC5hcHBlbmRDaGlsZChzaG93bltzdHJdID0gbGkpOwogICAgICAgICAgICBpZiAob25zdWNjKSBvbnN1Y2Moc3RyKTsKICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgaXRlbS5nZXRjb25mKCkuZm9yRWFjaChmdW5jdGlvbiAoc3RyKSB7IHNob3dTdHJpbmdzKGZhbHNlLCBzdHIpOyB9KTsKICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICB2YXIgc3RyID0gaW5wdXQudmFsdWU7CiAgICAgICAgICBpbnB1dC5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICBzaG93U3RyaW5ncyh0cnVlLCBzdHIsIGZ1bmN0aW9uIChzdHIpIHsKICAgICAgICAgICAgaWYgKGl0ZW0uYWRkKSBpdGVtLmFkZChzdHIpOwogICAgICAgICAgICBpdGVtLmFkZGNvbmYoc3RyKTsKICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgaW5wdXQuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKHJlbG9hZENvbXBsZXRlKSByZWxvYWRDb21wbGV0ZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGl0ZW0uY29tcGxldGUpIHsKICAgICAgICAgIHZhciByZWxvYWRDb21wbGV0ZSA9IHV0aWwuY29tcGxldGUucmVnKGlucHV0LCBpdGVtLmNvbXBsZXRlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH07CgogIC8vIOWtl+espuS4suiuvue9rumhuQogIHZhciBzdHJpbmdzID0gaXRlbXMoaHRtbC5jb25maWdTdHJpbmdzLCBmdW5jdGlvbiAoaXRlbSwgdXNlcmlucHV0LCBzdHIsIGNhbGxiYWNrKSB7CiAgICBpZiAodXNlcmlucHV0ICYmIGl0ZW0uYWRkICYmICEoc3RyID0gaXRlbS5hZGQoc3RyKSkpIGNhbGxiYWNrKCk7CiAgICBlbHNlIGNhbGxiYWNrKHN0ciwgdXRpbC5kb20uY3JlYXRlKCd1bCcsIHV0aWwuc3RyLmZpbGwoaHRtbC5jb25maWdTdHJpbmdzSXRlbSwgeyAnaXRlbSc6IGl0ZW0uZGlzcGxheSA/IGl0ZW0uZGlzcGxheShzdHIpIDogc3RyIH0pKS5maXJzdENoaWxkKTsKICB9KTsKCiAgLy8g55So5oi35YiX6KGo55qE6K6+572u6aG5CiAgdmFyIHVzZXJzID0gaXRlbXMoaHRtbC5jb25maWdVc2VycywgZnVuY3Rpb24gKGl0ZW0sIHVzZXJpbnB1dCwgc3RyLCBjYWxsYmFjaykgewogICAgdmFyIHNob3dVc2VyTm90RXhpc3RFcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgdXRpbC51aS5hbGVydCgneWF3Zi11c2VyLW5vdC1leGlzdCcsIHsKICAgICAgICAndGl0bGUnOiB1dGlsLnN0ci5maWxsKCd7e2FjY291bnROb3RFeGlzdEVycm9yVGl0bGV9fScpLAogICAgICAgICd0ZXh0JzogdXRpbC5zdHIuZmlsbCgne3t7YWNjb3VudE5vdEV4aXN0RXJyb3J9fX0nLCB7ICduYW1lJzogdXRpbC5zdHIuZXNjYXBlLnhtbChzdHIpIH0pLAogICAgICAgICdpY29uJzogJ2Vycm9yJwogICAgICB9KTsKICAgICAgY2FsbGJhY2soKTsKICAgIH07CiAgICBpZiAodXNlcmlucHV0KSB7CiAgICAgIGlmICghKHN0ciA9IHN0ci50cmltKCkucmVwbGFjZSgvXkAvLCAnJykpKSByZXR1cm4gY2FsbGJhY2soKTsKICAgICAgbmV0d29yay5hY2NvdW50Lm5hbWUoc3RyLCBmdW5jdGlvbiAoaW5mbykgewogICAgICAgIGlmICghaW5mbykgc2hvd1VzZXJOb3RFeGlzdEVycm9yKCk7CiAgICAgICAgZWxzZSBpZiAoaXRlbS5hZGQgJiYgIWl0ZW0uYWRkKGluZm8pKSBjYWxsYmFjaygpOwogICAgICAgIGVsc2UgY2FsbGJhY2soaW5mby5pZCwgdXRpbC5kb20uY3JlYXRlKCd1bCcsIHV0aWwuc3RyLmZpbGwoaHRtbC5jb25maWdVc2Vyc0l0ZW0sIGluZm8pKS5maXJzdENoaWxkKTsKICAgICAgfSwgc2hvd1VzZXJOb3RFeGlzdEVycm9yKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBlbXB0eUluZm8gPSB7ICdpZCc6IHN0ciwgJ25hbWUnOiAnICcsICdhdmF0YXInOiAnICcgfTsKICAgICAgdmFyIGxpID0gdXRpbC5kb20uY3JlYXRlKCd1bCcsIHV0aWwuc3RyLmZpbGwoaHRtbC5jb25maWdVc2Vyc0l0ZW0sIGVtcHR5SW5mbykpLmZpcnN0Q2hpbGQ7CiAgICAgIGNhbGxiYWNrKHN0ciwgbGkpOwogICAgICBuZXR3b3JrLmFjY291bnQuaWQoc3RyLCBmdW5jdGlvbiAoaW5mbykgewogICAgICAgIHZhciB1ID0gbGkucXVlcnlTZWxlY3RvcignW3VpZF0nKTsKICAgICAgICB1LnNldEF0dHJpYnV0ZSgndWlkJywgaW5mby5pZCk7IHUuc2V0QXR0cmlidXRlKCd0aXRsZScsIGluZm8ubmFtZSk7IHUudGV4dENvbnRlbnQgPSBpbmZvLm5hbWU7CiAgICAgICAgdmFyIHAgPSBsaS5xdWVyeVNlbGVjdG9yKCcucGljIGltZycpOwogICAgICAgIHAuc3JjID0gaW5mby5hdmF0YXI7CiAgICAgIH0pOwogICAgfQogIH0pOwoKICAvLyDkuIDkuKrmnInmlbDlrZflkozlnoLnm7TojIPlm7TmnaHnmoTovpPlhaXmoYYKICB2YXIgcmFuZ2UgPSBzaW1wbGUoJ1JhbmdlJywgZnVuY3Rpb24gKGRvbSwgaXRlbSkgewogICAgdmFyIG4gPSBkb20ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT0ibnVtYmVyIl0nKTsKICAgIHZhciByID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9InJhbmdlIl0nKTsKICAgIHZhciBzdGVwID0gaXRlbS5zdGVwIHx8IDE7CiAgICBuLm1heCA9IGl0ZW0ubWF4OyByLm1heCA9IGl0ZW0ubWF4OwogICAgbi5taW4gPSBpdGVtLm1pbjsgci5taW4gPSBpdGVtLm1pbjsKICAgIG4uc3RlcCA9IHN0ZXA7IHIuc3RlcCA9IHN0ZXA7CiAgICBuLnN0eWxlLndpZHRoID0gMTAgKiBTdHJpbmcoaXRlbS5tYXgpLmxlbmd0aCArIDE1ICsgJ3B4JzsKICAgIHZhciBvbmNoYW5nZSA9IHV0aWwuZG9tLmJpbmQudGV4dChuLCBpdGVtLCBmdW5jdGlvbiAodmFsKSB7CiAgICAgIGlmIChpc05hTihwYXJzZUludCh2YWwsIDEwKSkpIHJldHVybiBpdGVtWydkZWZhdWx0J10gfHwgaXRlbS5taW47CiAgICAgIHZhciByZXQgPSBNYXRoLm1pbihNYXRoLm1heChwYXJzZUludCh2YWwsIDEwKSwgaXRlbS5taW4pLCBpdGVtLm1heCk7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKChyZXQgLSBpdGVtLm1pbikgLyBzdGVwKSAqIHN0ZXAgKyBpdGVtLm1pbjsKICAgIH0pOwogICAgci52YWx1ZSA9IG4udmFsdWU7CiAgICB2YXIgdXBkYXRlTiA9IGZ1bmN0aW9uICgpIHsgaWYgKHIudmFsdWUgIT09IG4udmFsdWUpIG4udmFsdWUgPSByLnZhbHVlOyBvbmNoYW5nZSgpOyB9OwogICAgdmFyIHVwZGF0ZVIgPSBmdW5jdGlvbiAoKSB7IGlmIChyLnZhbHVlICE9PSBuLnZhbHVlKSByLnZhbHVlID0gbi52YWx1ZTsgb25jaGFuZ2UoKTsgfTsKICAgIHIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdXBkYXRlTik7IHIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdXBkYXRlTik7CiAgICBuLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZVIpOyBuLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdXBkYXRlUik7CiAgfSk7CgogIC8vIOS4gOS4qui+k+WFpeaMiemUrueahOi+k+WFpeahhgogIHZhciBrZXkgPSBzaW1wbGUoJ0tleScsIGZ1bmN0aW9uIChkb20sIGl0ZW0pIHsKICAgIHZhciBrYiA9IHV0aWwua2V5Ym9hcmQ7CiAgICB2YXIgaSA9IGRvbS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLCBzID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpOwogICAgdmFyIGNvcHlOYW1lID0gZnVuY3Rpb24gKCkgeyBzLnRleHRDb250ZW50ID0ga2IubmFtZShOdW1iZXIoaS52YWx1ZSkpOyB9OwogICAgdmFyIGlnbm9yZXMgPSBba2IuY29kZS5UQUIsIGtiLmNvZGUuVEFCIHwga2IuYWx0ZXIuU0hJRlRdOwogICAgdmFyIGV2ZW50Q2xlYXIgPSBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdmFsID0ga2IuZ2V0KGUpOwogICAgICBpZiAoaWdub3Jlcy5pbmRleE9mKHZhbCkgIT09IC0xKSByZXR1cm47CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIH07CiAgICB2YXIgb25jaGFuZ2UgPSB1dGlsLmRvbS5iaW5kLnRleHQoaSwgaXRlbSwgZnVuY3Rpb24gKHZhbCkgewogICAgICB1dGlsLmZ1bmMuY2FsbChjb3B5TmFtZSk7IHJldHVybiBOdW1iZXIodmFsKTsKICAgIH0pOwogICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdmFsID0ga2IuZ2V0KGUpOwogICAgICBpZiAoaWdub3Jlcy5pbmRleE9mKHZhbCkgIT09IC0xKSByZXR1cm47CiAgICAgIGlmICh2YWwgPT09IGtiLmNvZGUuRVNDKSB2YWwgPSAwOwogICAgICBpLnZhbHVlID0gdmFsOwogICAgICBjb3B5TmFtZSgpOwogICAgICBvbmNoYW5nZSgpOwogICAgICBldmVudENsZWFyKGUpOwogICAgfSwgZmFsc2UpOwogICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZXZlbnRDbGVhciwgZmFsc2UpOwogICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZXZlbnRDbGVhciwgZmFsc2UpOwogICAgaS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjb3B5TmFtZSk7CiAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgeyBzLmZvY3VzKCk7IH0pOyAvLyDlhbzlrrkgU2FmYXJpCiAgICB1dGlsLmZ1bmMuY2FsbChjb3B5TmFtZSk7CiAgfSk7CgogIHZhciBub3VpID0gZnVuY3Rpb24gKCkgeyB9OwoKICAvLyDorqLpmIUKICB2YXIgc3Vic2NyaWJlID0gc2ltcGxlKCdTdWJzY3JpYmUnLCBmdW5jdGlvbiAoZG9tLCBpdGVtKSB7CiAgICB2YXIgYXR0ciA9IFsneWF3Zi1jb25maWdTdWJzY3JpYmVEaXNhYmxlZCcsICd5YXdmLWNvbmZpZ1N1YnNjcmliZUVuYWJsZWQnXTsKICAgIHZhciB1cGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGRvbS5jbGFzc0xpc3QucmVtb3ZlKGF0dHJbMF0pOyBkb20uY2xhc3NMaXN0LnJlbW92ZShhdHRyWzFdKTsKICAgICAgaWYgKGl0ZW0uY29uZikgZG9tLmNsYXNzTGlzdC5hZGQoYXR0clsxXSk7IGVsc2UgZG9tLmNsYXNzTGlzdC5hZGQoYXR0clswXSk7CiAgICB9OwogICAgdXBkYXRlKCk7CiAgICB2YXIgYnV0dG9uID0gZnVuY3Rpb24gKHMpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgaXRlbS5wdXRjb25mKHMpOyB1cGRhdGUoKTsgfTsgfTsKICAgIGRvbS5xdWVyeVNlbGVjdG9yKCcueWF3Zi1zdWJzY3JpYmVEaXNhYmxlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBidXR0b24oZmFsc2UpKTsKICAgIGRvbS5xdWVyeVNlbGVjdG9yKCcueWF3Zi1zdWJzY3JpYmVFbmFibGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGJ1dHRvbih0cnVlKSk7CiAgfSk7CgogIHJldHVybiB7CiAgICAnc3VidGl0bGUnOiBzdWJ0aXRsZSwKICAgICd0ZXh0JzogdGV4dCwKICAgICdyZW1hcmsnOiByZW1hcmssCiAgICAnbGFiZWwnOiBsYWJlbCwKICAgICdzaWNvbic6IHNpY29uLAogICAgJ3N0cmluZyc6IHN0cmluZywKICAgICdjb2xvcic6IGNvbG9yLAogICAgJ251bWJlcic6IG51bWJlciwKICAgICdzZWxlY3QnOiBzZWxlY3QsCiAgICAnc3RyaW5ncyc6IHN0cmluZ3MsCiAgICAnYm9vbGVhbic6IGJvb2wsCiAgICAndXNlcnMnOiB1c2VycywKICAgICdyYW5nZSc6IHJhbmdlLAogICAgJ2tleSc6IGtleSwKICAgICdub3VpJzogbm91aSwKICAgICdzdWJzY3JpYmUnOiBzdWJzY3JpYmUsCiAgfTsKfSgpKTsKCmZpbHRlci5jb2xsZWN0aW9uID0ge307Ci8vIOi/h+a7pOWZqOeuoeeQhuWZqApmaWx0ZXIuY29sbGVjdGlvbi5ncm91cCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIGxpc3QgPSBbXSwgcHJlaW5pdCA9IHRydWU7CiAgLy8g5re75Yqg5Yiw6KGo5qC85LitCiAgdmFyIGFkZCA9IGZ1bmN0aW9uIChkZXRhaWxzKSB7CiAgICBsaXN0LnB1c2goZGV0YWlscyk7CiAgICBpZiAoIXByZWluaXQpIGRldGFpbHMuaW5pdCgpOwogICAgcmV0dXJuIGRldGFpbHM7CiAgfTsKICAvLyDnvZHpobXliqDovb3lrozmr5Xml7bliJ3lp4vljJYKICB1dGlsLmluaXQoZnVuY3Rpb24gKCkgewogICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7IHguaW5pdCgpOyB9KTsKICAgIHByZWluaXQgPSBmYWxzZTsKICB9LCB1dGlsLnByaW9yaXR5LkRFRkFVTFQgKyB1dGlsLnByaW9yaXR5LkJFRk9SRSk7CiAgcmV0dXJuIHsKICAgICdhZGQnOiBhZGQsCiAgICAnbGlzdCc6IGxpc3QsCiAgfTsKfSgpKTsKCi8vIOi/h+a7pOWZqOmbhuWQiApmaWx0ZXIuY29sbGVjdGlvbi5pdGVtID0gKGZ1bmN0aW9uICgpIHsKICB2YXIgaXRlbXMgPSBbXSwgZ3JvdXBlZCA9IHt9LCBsb2FkZWQgPSBmYWxzZTsKICAvLyDms6jlhozkuIDkuKrov4fmu6TlmajvvIzpgJrov4cgZmlsdGVyLml0ZW0g6LCD55SoCiAgdmFyIGFkZCA9IGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpdGVtcy5wdXNoKGl0ZW0pOwogICAgdmFyIGdyb3VwID0gZ3JvdXBlZFtpdGVtLmdyb3VwXSA9IGdyb3VwZWRbaXRlbS5ncm91cF0gfHwKICAgICAgeyAndGl0bGUnOiBudWxsLCAnaXRlbXMnOiBbXSB9OwogICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3N1YnRpdGxlJykgZ3JvdXAudGl0bGUgPSBncm91cC50aXRsZSB8fCBpdGVtOwogICAgZWxzZSBncm91cC5pdGVtcy5wdXNoKGl0ZW0pOwogICAgaWYgKGxvYWRlZCAmJiBpdGVtLl9pbml0KSB1dGlsLmZ1bmMuY2F0Y2hlZChpdGVtLl9pbml0KSgpOwogICAgcmV0dXJuIGl0ZW07CiAgfTsKICAvLyDliJ3lp4vljJbmiYDmnInov4fmu6TlmagKICB1dGlsLmluaXQoZnVuY3Rpb24gKCkgewogICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoaXRlbS5faW5pdCkgdXRpbC5mdW5jLmNhdGNoZWQoaXRlbS5faW5pdCkoKTsKICAgIH0pOwogICAgbG9hZGVkID0gdHJ1ZTsKICB9LCB1dGlsLnByaW9yaXR5LkRFRkFVTFQpOwogIC8vIOagueaNruWIhue7hOmHjeaWsOaOkuWIl+iuvue9rueVjOmdoueahOiLpeW5suiuvue9rumhuQogIHZhciBvcmRlciA9IGZ1bmN0aW9uIChpdGVtcykgewogICAgdmFyIHNvcnRlZCA9IFtdLCBpdGVtLCBpLCBqOwogICAgaXRlbXMgPSBpdGVtcy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIFtmYWxzZSwgeF07IH0pOwogICAgaXRlbXMgPSBpdGVtcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHhbMV0udHlwZSA9PT0gJ3N1YnRpdGxlJzsgfSkKICAgICAgLmNvbmNhdChpdGVtcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHhbMV0udHlwZSAhPT0gJ3N1YnRpdGxlJzsgfSkpOwogICAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChpdGVtc1tpXVswXSkgY29udGludWU7CiAgICAgIHNvcnRlZC5wdXNoKGl0ZW0gPSBpdGVtc1tpXVsxXSk7CiAgICAgIGlmICghaXRlbS5ncm91cCB8fCBpdGVtLnR5cGUgIT09ICdzdWJ0aXRsZScpIGNvbnRpbnVlOwogICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGl0ZW1zLmxlbmd0aDsgaisrKSBpZiAoaXRlbS5ncm91cCA9PT0gaXRlbXNbal1bMV0uZ3JvdXApIHsKICAgICAgICBpdGVtc1tqXVswXSA9IHRydWU7CiAgICAgICAgaWYgKGl0ZW1zW2pdWzFdLnR5cGUgIT09ICdzdWJ0aXRsZScpIHNvcnRlZC5wdXNoKGl0ZW1zW2pdWzFdKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHNvcnRlZDsKICB9OwogIC8vIOagueaNruadoeS7tumAieWHuuS4gOS6m+i/h+a7pOWZqAogIHZhciBsaXN0ID0gZnVuY3Rpb24gKG1hdGNoZXIpIHsKICAgIGlmICghbWF0Y2hlcikgcmV0dXJuIGl0ZW1zLnNsaWNlKDAsIGl0ZW1zLmxlbmd0aCk7CiAgICB2YXIgZm91bmQgPSBbXTsKICAgIGl0ZW1zLmZpbHRlcihtYXRjaGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGZvdW5kLnB1c2goaXRlbSk7CiAgICAgIGlmIChpdGVtLmdyb3VwKSB7CiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3N1YnRpdGxlJykgZm91bmQucHVzaChncm91cGVkW2l0ZW0uZ3JvdXBdLml0ZW1zKTsKICAgICAgICBlbHNlIGZvdW5kLnB1c2goZ3JvdXBlZFtpdGVtLmdyb3VwXS50aXRsZSk7CiAgICAgIH0KICAgIH0pOwogICAgZm91bmQgPSBmb3VuZC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgIHJldHVybiBmb3VuZC5pbmRleE9mKGl0ZW0pID09PSBpbmRleDsKICAgIH0pOwogICAgZm91bmQgPSBvcmRlcihmb3VuZCk7CiAgICAvLyDnu5/orqHmnInlpJrlsJHkuKrov4fmu6TlmagKICAgIHZhciBjb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGZvdW5kLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4LnR5cGUgIT09ICdzdWJ0aXRsZScgJiYgeC50eXBlICE9PSAndGV4dCcgJiYgeC50eXBlICE9PSAncmVtYXJrJzsKICAgICAgfSkubGVuZ3RoOwogICAgfTsKICAgIC8vIOWwhui/meS6m+i/h+a7pOWZqOaYvuekuuWIsOaMh+WumueahOS9jee9rgogICAgdmFyIHNob3cgPSBmdW5jdGlvbiAoYm9keSkgewogICAgICAvLyDkvp3mrKHliJflh7rmiYDmnInmlrDnmoTorr7nva7pobkKICAgICAgZm91bmQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciBkb20gPSBpdGVtLl9zaG93KGJvZHkpOwogICAgICAgIC8vIOWcqOWIl+WHuuaXtuagh+aYjuaJgOWxnuWIhuexuwogICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdzdWJ0aXRsZScgJiYgaXRlbS5ncm91cGVkICYmIGl0ZW0uZ3JvdXBlZC5sZW5ndGgpIHsKICAgICAgICAgIHZhciB0ZXh0ID0gdXRpbC5zdHIuZmlsbCgne3snICsgaXRlbS5ncm91cGVkWzBdLm5hbWUgKyAnRmlsdGVyR3JvdXBUaXRsZX19IC0gJyk7CiAgICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHV0aWwuc3RyLmZpbGwodGV4dCkpOwogICAgICAgICAgZG9tLmluc2VydEJlZm9yZShub2RlLCBkb20uZmlyc3RDaGlsZCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgICByZXR1cm4gewogICAgICAnaXRlbXMnOiBmb3VuZCwKICAgICAgJ2NvdW50JzogY291bnQsCiAgICAgICdzaG93Jzogc2hvdywKICAgIH07CiAgfTsKICByZXR1cm4gewogICAgJ2xpc3QnOiBsaXN0LAogICAgJ29yZGVyJzogb3JkZXIsCiAgICAnYWRkJzogYWRkLAogIH07Cn0oKSk7CgovLyDov4fmu6Tlmajnu4QKZmlsdGVyLmdyb3VwID0gZnVuY3Rpb24gKGdyb3VwTmFtZSkgewogIHZhciBpdGVtcyA9IFtdLCBkZWZhdWx0R3JvdXAgPSAnZGVmYXVsdCc7CiAgLy8g5ZCR6L+H5ruk5Zmo57uE6YeM6Z2i5re75Yqg5LiA5Liq6L+H5ruk5ZmoCiAgdmFyIGFkZCA9IGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoIWl0ZW0uZ3JvdXApIHsKICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3N1YnRpdGxlJykgZGVmYXVsdEdyb3VwID0gaXRlbS50ZXh0OwogICAgICBpdGVtLmdyb3VwID0gZGVmYXVsdEdyb3VwOwogICAgfSBlbHNlIGRlZmF1bHRHcm91cCA9IGl0ZW0uZ3JvdXA7CiAgICBpdGVtcy5wdXNoKGl0ZW0pOyByZXR1cm4gaXRlbTsKICB9OwogIC8vIOe9kemhteiiq+WIneWni+WMluaXtuWIneWni+WMluaJgOaciei/h+a7pOWZqAogIHZhciBpbml0ID0gZnVuY3Rpb24gKCkgeyB9OwogIC8vIOmcgOimgeaYvuekuumAiemhueaXtueUn+aIkOeVjOmdogogIHZhciBzaG93ID0gZnVuY3Rpb24gKGlubmVyKSB7CiAgICBpdGVtcyA9IGZpbHRlci5jb2xsZWN0aW9uLml0ZW0ub3JkZXIoaXRlbXMpOwogICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgeyBpdGVtLl9zaG93KGlubmVyKTsgfSk7CiAgfTsKICAvLyDorr7lrprmmK/lkKbmmK/kuoznuqfliIbnu4QKICB2YXIgYWRkdG8gPSBmdW5jdGlvbiAocGdyb3VwKSB7CiAgICBncm91cC5wZ3JvdXAgPSBwZ3JvdXA7CiAgICByZXR1cm4gZ3JvdXA7CiAgfTsKICAvLyDms6jlhozliLDov4fmu6TlmajliIbnu4QKICB2YXIgZ3JvdXAgPSB7CiAgICAnbmFtZSc6IGdyb3VwTmFtZSwKICAgICdzaG93Jzogc2hvdywKICAgICdpbml0JzogaW5pdCwKICAgICdhZGQnOiBhZGQsCiAgICAnYWRkdG8nOiBhZGR0bywKICAgICdwZ3JvdXAnOiBudWxsLAogIH07CiAgcmV0dXJuIGZpbHRlci5jb2xsZWN0aW9uLmdyb3VwLmFkZChncm91cCk7Cn07CmZpbHRlci5ncm91cHMgPSB7fTsKCi8vIOi/h+a7pOWZqOe7hApmaWx0ZXIuaXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7CiAgLy8g5YWI5Yqg5YWl5omA5pyJ6KKr5byV55So55qE5a+56LGhCiAgaWYgKGl0ZW0ucmVmKSBPYmplY3Qua2V5cyhpdGVtLnJlZikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICB2YXIgcmVmaXRlbSA9IGl0ZW0ucmVmW2tleV07CiAgICByZWZpdGVtLmtleSA9IGl0ZW0ua2V5ICsgJy4nICsga2V5OwogICAgcmVmaXRlbS5pc3JlZiA9IGl0ZW07CiAgICBmaWx0ZXIuaXRlbShyZWZpdGVtKTsKICB9KTsKICAvLyDliJ3lp4vljJblh73mlbAKICBpdGVtLl9pbml0ID0gZnVuY3Rpb24gKCkgewogICAgLy8g5Yid5aeL5YyW6L+H5ruk5Zmo55qE6K6+572uCiAgICBpZiAoaXRlbS50eXBlICYmIGZpbHRlci50eXBlZC5jb25maWdbaXRlbS50eXBlXSkKICAgICAgaXRlbS5jb25mID0gZmlsdGVyLnR5cGVkLmNvbmZpZ1tpdGVtLnR5cGVdKGl0ZW0pOwogICAgLy8g5Yid5aeL5YyW6L+H5ruk5Zmo5YaF55qE5paH5pysCiAgICBpZiAoaXRlbS5pMThuKSB1dGlsLmkxOG4uY2hvc2UoaXRlbS5pMThuKTsKICAgIC8vIOWIneWni+WMlui/h+a7pOWZqOeahOaYvuekugogICAgaWYgKCFpdGVtLnNob3cgJiYgaXRlbS50eXBlICYmIGZpbHRlci50eXBlZC5kb21baXRlbS50eXBlXSkKICAgICAgaXRlbS5zaG93ID0gZmlsdGVyLnR5cGVkLmRvbVtpdGVtLnR5cGVdLmJpbmQoaXRlbSk7CiAgICAvLyDov4fmu6Tlmajoh6rlt7HnmoTliJ3lp4vljJYKICAgIGlmIChpdGVtLmluaXQpIGl0ZW0uaW5pdCgpOwogICAgLy8g55yf5YGH6K6+572u6aG56Iul6K6+572u5r+A5rS75pe26LCD55SoCiAgICBpZiAoaXRlbS50eXBlID09PSAnYm9vbGVhbicgJiYgaXRlbS5jb25mICYmIGl0ZW0uYWluaXQpIGl0ZW0uYWluaXQoKTsKICAgIC8vIOWwhuinhOWImeWKoOWFpeWIsOWIl+ihqOS4rQogICAgaWYgKGl0ZW0ucnVsZSkgZmlsdGVyLnJ1bGVzLmFkZChpdGVtLnByaW9yaXR5IHx8IDAsIGl0ZW0ucnVsZS5iaW5kKGl0ZW0pKTsKICAgIGlmIChpdGVtLmNvbW1lbnQpIGZpbHRlci5jb21tZW50LmFkZChpdGVtLnByaW9yaXR5IHx8IDAsIGl0ZW0uY29tbWVudC5iaW5kKGl0ZW0pKTsKICB9OwogIGl0ZW0uX3Nob3cgPSB1dGlsLmZ1bmMuY2F0Y2hlZChmdW5jdGlvbiAoaW5uZXIpIHsKICAgIHZhciBkb20gPSBpdGVtLnNob3cgJiYgaXRlbS5zaG93KGRvbSkgfHwgbnVsbDsKICAgIGlmIChkb20gJiYgaXRlbS5zaG93bikgaXRlbS5zaG93bihkb20pOwogICAgaWYgKGRvbSkgaW5uZXIuYXBwZW5kQ2hpbGQoZG9tKTsKICAgIHJldHVybiBkb207CiAgfSk7CiAgaXRlbS5hZGR0byA9IGZ1bmN0aW9uIChncm91cCkgewogICAgaXRlbS5ncm91cGVkID0gKGl0ZW0uZ3JvdXBlZCB8fCBbXSkuY29uY2F0KFtncm91cF0pOwogICAgZ3JvdXAuYWRkKGl0ZW0pOyByZXR1cm4gaXRlbTsKICB9OwogIHJldHVybiBmaWx0ZXIuY29sbGVjdGlvbi5pdGVtLmFkZChpdGVtKTsKfTsKZmlsdGVyLml0ZW1zID0ge307CgovLyDpooTnva7ov4fmu6TlmajnsbvlnosKZmlsdGVyLnByZWRlZiA9IHt9OwoKLy8g55m95ZCN5Y2V44CB6buR5ZCN5Y2V5ZKM5oqY5Y+g5ZCN5Y2V5LiA5byP5LiJ5Lu9CmZpbHRlci5wcmVkZWYud2JmYyA9IGZ1bmN0aW9uIChkZXRhaWxzLCB0eXBlZEZpbHRlckdyb3VwKSB7CiAgdmFyIGl0ZW1zID0gWwogICAgeyAndHlwZSc6ICd3aGl0ZWxpc3QnLCAncHJpb3JpdHknOiAxZTUsICdhY3Rpb24nOiAnc2hvdycgfSwKICAgIHsgJ3R5cGUnOiAnYmxhY2tsaXN0JywgJ3ByaW9yaXR5JzogMCwgJ2FjdGlvbic6ICdoaWRkZW4nIH0sCiAgICB7ICd0eXBlJzogJ2ZvbGRsaXN0JywgJ3ByaW9yaXR5JzogLTFlNSwgJ2FjdGlvbic6ICdmb2xkJyB9LAogIF0sIHJ1bGVzOwogIGlmICh0eXBlZEZpbHRlckdyb3VwKSB7CiAgICBydWxlcyA9IGZpbHRlci5pdGVtc1t0eXBlZEZpbHRlckdyb3VwLm5hbWVdW2RldGFpbHMubmFtZV0gPSB7fTsKICB9IGVsc2UgewogICAgdHlwZWRGaWx0ZXJHcm91cCA9IGZpbHRlci5wcmVkZWYuZ3JvdXAoZGV0YWlscy5uYW1lKS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmJhc2UpOwogICAgcnVsZXMgPSBmaWx0ZXIuaXRlbXNbZGV0YWlscy5uYW1lXSA9IHt9OwogIH0KICBydWxlcy50aXRsZSA9IGZpbHRlci5pdGVtKHsKICAgICdncm91cCc6IGRldGFpbHMubmFtZSwKICAgICd0eXBlJzogJ3N1YnRpdGxlJywKICAgICd0ZXh0JzogJ3t7JyArIGRldGFpbHMubmFtZSArICdGaWx0ZXJEZXRhaWxzfX17ezxpPn19JywKICAgICdyZWYnOiB7ICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7JyArIGRldGFpbHMubmFtZSArICdGaWx0ZXJEZXRhaWxzRGVzY319JyB9IH0KICB9KS5hZGR0byh0eXBlZEZpbHRlckdyb3VwKTsKICBpZiAoZGV0YWlscy5saXN0dHlwZSkgewogICAgaXRlbXMgPSBpdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGRldGFpbHMubGlzdHR5cGUuaW5kZXhPZihpdGVtLnR5cGUpICE9PSAtMTsKICAgIH0pOwogIH0KICBpZiAoZGV0YWlscy50aXRsZSAmJiBkZXRhaWxzLnRpdGxlLmFmdGVyKSBkZXRhaWxzLnRpdGxlLmFmdGVyKCk7CiAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgaWYgKGRldGFpbHNbaXRlbS50eXBlXSAmJiBkZXRhaWxzW2l0ZW0udHlwZV0uYmVmb3JlKSBkZXRhaWxzW2l0ZW0udHlwZV0uYmVmb3JlKCk7CiAgICAvLyDov4fmu6TlmagKICAgIHZhciBydWxlID0gewogICAgICAnZ3JvdXAnOiBkZXRhaWxzLm5hbWUsCiAgICAgICd2ZXJzaW9uJzogZGV0YWlscy52ZXJzaW9uLAogICAgICAndHlwZSc6IGRldGFpbHMudHlwZSB8fCAnc3RyaW5ncycsCiAgICAgICdrZXknOiAnd2VpYm8uZmlsdGVycy4nICsgZGV0YWlscy5uYW1lICsgJy4nICsgaXRlbS50eXBlLAogICAgICAncHJpb3JpdHknOiBpdGVtLnByaW9yaXR5LAogICAgICAndGV4dCc6ICd7e3snICsgaXRlbS50eXBlICsgJ0ZpbHRlckRlc2N9fX08YnIgLz57eycgKyBkZXRhaWxzLm5hbWUgKyAnRmlsdGVyRGVzY319JywKICAgICAgJ3R5cGVkJzogJ3t7JyArIGRldGFpbHMubmFtZSArICdGaWx0ZXJEZXRhaWxzfX0nLAogICAgICAnZXh0ZW50JzogW10sCiAgICAgICdzaG93bic6IGZ1bmN0aW9uIChkb20pIHsKICAgICAgICBkb20ucXVlcnlTZWxlY3RvcignLnlhd2YtY29uZmlnRGVzYycpLmNsYXNzTGlzdC5hZGQoJ3lhd2YtJyArIGl0ZW0udHlwZSArICdGaWx0ZXJUaXRsZScpOwogICAgICB9LAogICAgfTsKICAgIGlmIChkZXRhaWxzLmFkZCkgcnVsZS5hZGQgPSBkZXRhaWxzLmFkZC5iaW5kKHJ1bGUpOwogICAgaWYgKGRldGFpbHMuZGlzcGxheSkgcnVsZS5kaXNwbGF5ID0gZGV0YWlscy5kaXNwbGF5LmJpbmQocnVsZSk7CiAgICBpZiAoZGV0YWlscy5ydWxlKSBydWxlLnJ1bGUgPSBkZXRhaWxzLnJ1bGUuYmluZChydWxlLCBpdGVtLmFjdGlvbik7CiAgICBpZiAoZGV0YWlscy5jb21tZW50KSBydWxlLmNvbW1lbnQgPSBkZXRhaWxzLmNvbW1lbnQuYmluZChydWxlLCBpdGVtLmFjdGlvbik7CiAgICBpZiAoZGV0YWlscy5jb21wbGV0ZSkgcnVsZS5jb21wbGV0ZSA9IGRldGFpbHMuY29tcGxldGU7CiAgICBpZiAoZGV0YWlsc1tpdGVtLnR5cGVdICYmIGRldGFpbHNbaXRlbS50eXBlXS5vdmVycmlkZSkgewogICAgICBPYmplY3Qua2V5cyhkZXRhaWxzW2l0ZW0udHlwZV0ub3ZlcnJpZGUpLmZvckVhY2goZnVuY3Rpb24gKGF0dHIpIHsKICAgICAgICBydWxlW2F0dHJdID0gZGV0YWlsc1tpdGVtLnR5cGVdLm92ZXJyaWRlW2F0dHJdKHJ1bGVbYXR0cl0pOwogICAgICB9KTsKICAgIH0KICAgIHJ1bGVzW2l0ZW0udHlwZV0gPSBmaWx0ZXIuaXRlbShydWxlKS5hZGR0byh0eXBlZEZpbHRlckdyb3VwKTsKICAgIGlmIChkZXRhaWxzW2l0ZW0udHlwZV0gJiYgZGV0YWlsc1tpdGVtLnR5cGVdLmFmdGVyKSBkZXRhaWxzW2l0ZW0udHlwZV0uYWZ0ZXIoKTsKICB9KTsKICAvLyDlv6vpgJ/liJvlu7rov4fmu6TlmajnmoTmi5bliqgKICBpZiAoZGV0YWlscy5mYXN0KSB7CiAgICB2YXIgZmFzdCA9IHsKICAgICAgJ3ZhbGlkYXRvcic6IGRldGFpbHMuZmFzdC52YWxpZGF0b3IsCiAgICAgICdyZWNvZ25pemVyJzogZGV0YWlscy5mYXN0LnJlY29nbml6ZXIsCiAgICAgICdzZWxlY3RlZCc6IGRldGFpbHMuZmFzdC5zZWxlY3RlZCwKICAgICAgJ2Rlc2NyaXB0aW9uJzogZGV0YWlscy5mYXN0LmRlc2NyaXB0aW9uLAogICAgICAncmF3dmFsdWUnOiBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgdmFyIHZhbHVlID0gZGV0YWlscy5mYXN0LmFkZCh2YWwpOwogICAgICAgIGlmIChkZXRhaWxzLmFkZCkgdmFsdWUgPSBkZXRhaWxzLmFkZCh2YWx1ZSk7CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9LAogICAgICAnYWRkY29uZic6IGZ1bmN0aW9uICh2YWx1ZSwgYWN0aW9uKSB7IHJ1bGVzW2FjdGlvbl0uYWRkY29uZih2YWx1ZSk7IH0sCiAgICAgICdjb250ZXh0bWVudSc6IGRldGFpbHMuZmFzdC5jb250ZXh0bWVudSwKICAgICAgJ21lbnVkZXNjJzogZGV0YWlscy5mYXN0Lm1lbnVkZXNjLAogICAgICAnbWVudWdyb3VwZWQnOiBkZXRhaWxzLmZhc3QubWVudWdyb3VwZWQsCiAgICB9OwogICAgaWYgKGRldGFpbHMubGlzdHR5cGUpIGZhc3QubGlzdHR5cGUgPSBkZXRhaWxzLmxpc3R0eXBlOwogICAgZmlsdGVyLmZhc3QuaXRlbShmYXN0KTsKICB9CiAgcmV0dXJuIHR5cGVkRmlsdGVyR3JvdXA7Cn07CgovLyDmlrDlu7rkuIDkuKrorr7nva7moIfnrb7pobUKZmlsdGVyLnByZWRlZi5ncm91cCA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgZmlsdGVyLmdyb3Vwc1tuYW1lXSA9IGZpbHRlci5ncm91cChuYW1lKTsKICBmaWx0ZXIuZ3JvdXBzW25hbWVdLml0ZW1zID0gZmlsdGVyLml0ZW1zW25hbWVdID0ge307CiAgcmV0dXJuIGZpbHRlci5ncm91cHNbbmFtZV07Cn07CgovLyDmlrDlu7rkuIDkuKrlsI/moIfpopgKZmlsdGVyLnByZWRlZi5zdWJ0aXRsZSA9IGZ1bmN0aW9uIChncm91cCwgc3ViZ3JvdXAsIHRleHQpIHsKICBmaWx0ZXIuaXRlbXNbZ3JvdXBdW3N1Ymdyb3VwXSA9IHt9OwogIGZpbHRlci5pdGVtc1tncm91cF1bc3ViZ3JvdXBdLnRpdGxlID0gZmlsdGVyLml0ZW0oewogICAgJ2dyb3VwJzogc3ViZ3JvdXAsCiAgICAndHlwZSc6ICdzdWJ0aXRsZScsCiAgICAndGV4dCc6IHRleHQsCiAgfSkuYWRkdG8oZmlsdGVyLmdyb3Vwc1tncm91cF0pOwp9OwoKLy8g5b+r6YCf5Yib5bu66L+H5ruk5Zmo55qE5o+P6L+wCmZpbHRlci5mYXN0LmRlc2NyaXB0aW9uID0ge307Ci8vIOeUn+aIkOS4gOS4quaciei+k+WFpeahhueahOaPj+i/sApmaWx0ZXIuZmFzdC5kZXNjcmlwdGlvbi5pbnB1dCA9IGZ1bmN0aW9uIChpbm5lciwgdmFsLCBuYW1lLCBhdHRyKSB7CiAgLy8g5Yib5bu65LiA5Liq5bim57yW6L6R5qGG55qE6YCJ6aG5CiAgaW5uZXIuaW5uZXJIVE1MID0gdXRpbC5zdHIuZmlsbCgne3t7JyArIG5hbWUgKyAnRmlsdGVyRmFzdH19fScpOwogIHZhciBsYWJlbGMgPSB1dGlsLmRvbS5jcmVhdGUoaHRtbC5mYXN0RmlsdGVyU3RyaW5nKTsKICB2YXIgZmlsbEFyZyA9IHt9OyBmaWxsQXJnW2F0dHJdID0gaHRtbC5mYXN0RmlsdGVyU3RyaW5nSW5wdXQ7CiAgbGFiZWxjLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lckhUTUwgPSB1dGlsLnN0ci5maWxsKCd7e3snICsgbmFtZSArICdGaWx0ZXJGYXN0SW5wdXR9fX0nLCBmaWxsQXJnKTsKICAvLyDlpITnkIbnvJbovpHmoYbnmoTnm7jlhbPkuovku7YKICB2YXIgaW5wdXQgPSBsYWJlbGMucXVlcnlTZWxlY3RvcignaW5wdXQnKTsgaW5wdXQudmFsdWUgPSB2YWxbYXR0cl07CiAgdmFyIHJlZiA9IGlubmVyLnBhcmVudE5vZGU7IHJlZi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsYWJlbGMsIHJlZi5uZXh0U2libGluZyk7CiAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkgewogICAgdmFsW2F0dHJdID0gaW5wdXQudmFsdWU7IGlmICghdmFsW2F0dHJdKSByZXR1cm47CiAgfSk7Cn07Ci8vIOeUn+aIkOS4gOS4quayoeaciei+k+WFpeahhueahOaPj+i/sApmaWx0ZXIuZmFzdC5kZXNjcmlwdGlvbi5ub2lucHV0ID0gZnVuY3Rpb24gKGlubmVyLCB2YWwsIG5hbWUsIGF0dHIpIHsKICB2YXIgZmlsbG9iaiA9IHt9OwogIGZpbGxvYmpbYXR0cl0gPSB1dGlsLnN0ci5lc2NhcGUueG1sKHZhbFthdHRyXSk7CiAgaW5uZXIuaW5uZXJIVE1MID0gdXRpbC5zdHIuZmlsbCgne3t7JyArIG5hbWUgKyAnRmlsdGVyRmFzdH19fScsIGZpbGxvYmopOwp9OwovLyDnlJ/miJDkuIDkuKrliIbnu4TnmoTmj4/ov7AKZmlsdGVyLmZhc3QuZGVzY3JpcHRpb24uZ3JvdXAgPSBmdW5jdGlvbiAoaW5uZXIsIGdyb3VwLCBuYW1lKSB7CiAgLy8g6K6+572u6YCJ5oup5qGG55qE57yW5Y+35ZKM5YiG57uE5L+h5oGvCiAgdmFyIGNvbnRhaW5lciA9IGlubmVyLnBhcmVudE5vZGUucGFyZW50Tm9kZTsKICB2YXIgY2hlY2tib3ggPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1jaGVja2JveF0nKTsKICBjaGVja2JveC5uYW1lID0gJ3lhd2YtZmFzdC0nICsgZ3JvdXAgKyAnLScgKyBuYW1lOwogIGNoZWNrYm94LnNldEF0dHJpYnV0ZSgneWF3Zi1jaGVja2JveC1ncm91cCcsIGdyb3VwKTsKICAvLyDlkIznu4TnmoTpgInpobnlj6rlupTor6XmiZPlvIDoh7PlpJrkuIDkuKoKICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1dGlsLmZ1bmMuY2F0Y2hlZChmdW5jdGlvbiAoKSB7CiAgICBpZiAoIWNoZWNrYm94LmNoZWNrZWQpIHJldHVybjsKICAgIHZhciBhbGwgPSBBcnJheS5mcm9tKGNvbnRhaW5lci5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3lhd2YtY2hlY2tib3gtZ3JvdXA9IicgKyBncm91cCArICciXScpKTsKICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpOyBldnQuaW5pdEV2ZW50KCJjaGFuZ2UiLCBmYWxzZSwgdHJ1ZSk7CiAgICBhbGwuZm9yRWFjaChmdW5jdGlvbiAoaSkgeyBpZiAoaSA9PT0gY2hlY2tib3ggfHwgIWkuY2hlY2tlZCkgcmV0dXJuOyBpLmNoZWNrZWQgPSBmYWxzZTsgaS5kaXNwYXRjaEV2ZW50KGV2dCk7IH0pOwogIH0pKTsKfTsKLy8g5b+r6YCf5Yib5bu65LiA5Liq5YWz6ZSu6K+N5oiW5q2j5YiZ5byP55qE6L+H5ruk5Zmo5pe25YyF5ZCr57yW6L6R5qGGCmZpbHRlci5mYXN0LmRlc2NyaXB0aW9uLmdlbiA9IGZ1bmN0aW9uIChkZXRhaWxzKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIChpbm5lciwgdmFsKSB7CiAgICB2YXIgZGVzYyA9IGZpbHRlci5mYXN0LmRlc2NyaXB0aW9uOwogICAgaWYgKGRldGFpbHMuaW5wdXQpIGRlc2MuaW5wdXQoaW5uZXIsIHZhbCwgZGV0YWlscy5uYW1lLCBkZXRhaWxzLmF0dHIpOwogICAgZWxzZSBkZXNjLm5vaW5wdXQoaW5uZXIsIHZhbCwgZGV0YWlscy5uYW1lLCBkZXRhaWxzLmF0dHIpOwogICAgZGVzYy5ncm91cChpbm5lciwgZGV0YWlscy5ncm91cCwgZGV0YWlscy5uYW1lKTsKICAgIHJldHVybiBkZXRhaWxzLmNob3NlbiB8fCBmYWxzZTsKICB9Owp9OwoKLy8g5b+r6YCf5Yib5bu65YWz6ZSu6K+N6L+H5ruk5Zmo55u45YWz5Ye95pWwCmZpbHRlci5mYXN0LmNvbnRlbnQgPSB7fTsKZmlsdGVyLmZhc3QuY29udGVudC52YWxpZGF0b3IgPSBmdW5jdGlvbiBjb250ZW50VmFsaWRhdG9yKGVsZW1lbnQpIHsKICBpZiAoZWxlbWVudC5ub2RlVHlwZSAhPT0gTm9kZS5URVhUX05PREUpIHsKICAgIGlmIChlbGVtZW50LmZpcnN0Q2hpbGQgJiYgZWxlbWVudC5maXJzdENoaWxkID09PSBlbGVtZW50Lmxhc3RDaGlsZCkKICAgICAgcmV0dXJuIGNvbnRlbnRWYWxpZGF0b3IoZWxlbWVudC5maXJzdENoaWxkKTsKICAgIGVsc2UgcmV0dXJuIGZhbHNlOwogIH0KICByZXR1cm4gdXRpbC5kb20ubWF0Y2hlcyhlbGVtZW50LnBhcmVudE5vZGUsICcuV0JfdGV4dCwgLldCX3RleHQgKicpOwp9OwpmaWx0ZXIuZmFzdC5jb250ZW50LnJlY29nbml6ZXIgPSB7fTsKZmlsdGVyLmZhc3QuY29udGVudC5yZWNvZ25pemVyLmtleXdvcmQgPSBmdW5jdGlvbiBrZXl3b3JkKGVsZW1lbnQsIGNhbGxiYWNrKSB7CiAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKQogICAgY2FsbGJhY2soeyAndGV4dCc6IGVsZW1lbnQudGV4dENvbnRlbnQudHJpbSgpIH0pOwogIGVsc2UgaWYgKGVsZW1lbnQudGFnTmFtZSAmJiBbJ2EnLCAnaW1nJ10uaW5kZXhPZihlbGVtZW50LnRhZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSkgIT09IC0xKQogICAgY2FsbGJhY2soKTsKICBlbHNlIGlmIChlbGVtZW50LmZpcnN0Q2hpbGQgPT09IGVsZW1lbnQubGFzdENoaWxkKQogICAga2V5d29yZChlbGVtZW50LmZpcnN0Q2hpbGQsIGNhbGxiYWNrKTsKICBlbHNlIGNhbGxiYWNrKCk7Cn07CmZpbHRlci5mYXN0LmNvbnRlbnQucmVjb2duaXplci5yZWdleHAgPSBmdW5jdGlvbiAoZWxlbWVudCwgY2FsbGJhY2spIHsKICBmaWx0ZXIuZmFzdC5jb250ZW50LnJlY29nbml6ZXIua2V5d29yZChlbGVtZW50LCBmdW5jdGlvbiAodmFsKSB7CiAgICBpZiAodmFsICYmIHZhbC50ZXh0KSBjYWxsYmFjayh7ICd0ZXh0JzogdXRpbC5zdHIuZXNjYXBlLnJlZ2V4cCh2YWwudGV4dCkgfSk7CiAgICBlbHNlIGNhbGxiYWNrKCk7CiAgfSk7Cn07CmZpbHRlci5mYXN0LmNvbnRlbnQuYWRkID0gZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gdmFsLnRleHQ7IH07CgovLyDlv6vpgJ/liJvlu7rluJDlj7fov4fmu6Tlmajnm7jlhbPlh73mlbAKZmlsdGVyLmZhc3QuYWNjb3VudCA9IHt9OwpmaWx0ZXIuZmFzdC5hY2NvdW50LnZhbGlkYXRvciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgdmFyIGMgPSB1dGlsLmRvbS5jcmVhdGUoJ2JvZHknLCBlbGVtZW50Lm91dGVySFRNTCk7CiAgLy8g5Y+v5Lul5aSE55CG5a+555So5oi355qE6ZO+5o6lCiAgaWYgKGMucXVlcnlTZWxlY3RvcignW3VzZXJjYXJkKj0ibmFtZT0iXSwgW3VzZXJjYXJkKj0iaWQ9Il0nKSkgcmV0dXJuIHRydWU7CiAgLy8g55So5oi35Y2h54mH6YeM6Z2i55qE5aS05YOP5ZKM6ZO+5o6lCiAgaWYgKGMucXVlcnlTZWxlY3RvcignW3VpZF1bdGl0bGVdJykpIHJldHVybiB0cnVlOwogIC8vIOWPr+S7peWkhOeQhueUqOaIt+mhtemdoueahOWktOWDj+WSjOmTvuaOpQogIGlmIChjLnF1ZXJ5U2VsZWN0b3IoJy5waG90b1thbHRdJykpIHJldHVybiB0cnVlOwogIHJldHVybiBmYWxzZTsKfTsKZmlsdGVyLmZhc3QuYWNjb3VudC5yZWNvZ25pemVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNhbGxiYWNrKSB7CiAgLy8g5om+5LiN5Yiw5a+55bqU5Lq65pe25pi+56S655u45YWz6ZSZ6K+v5L+h5oGvCiAgdmFyIG9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXR3b3JrLWFjY291bnQtZmFpbCcpKSB1dGlsLnVpLmFsZXJ0KCduZXR3b3JrLWFjY291bnQtZmFpbCcsIHsKICAgICAgJ3RpdGxlJzogdXRpbC5zdHIuZmlsbCgne3thY2NvdW50Tm90RXhpc3RFcnJvclRpdGxlfX0nKSwKICAgICAgJ3RleHQnOiB1dGlsLnN0ci5maWxsKCd7e3thY2NvdW50Tm90RXhpc3RFcnJvcn19fScsIHsgJ25hbWUnOiB1dGlsLnN0ci5lc2NhcGUueG1sKGluZm8ubmFtZSkgfSksCiAgICAgICdpY29uJzogJ2Vycm9yJwogICAgfSk7CiAgICBjYWxsYmFjaygpOwogIH07CiAgLy8g5qOA5p+l57uT54K5CiAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7IGNhbGxiYWNrKCk7IHJldHVybjsgfQogIHZhciBjID0gdXRpbC5kb20uY3JlYXRlKCdib2R5JywgZWxlbWVudC5vdXRlckhUTUwpOwogIHZhciBpbmZvID0geyAnbmFtZSc6IG51bGwsICdpZCc6IG51bGwgfTsKICAvLyDlpoLmnpzmmK/nlKjmiLfpk77mjqXnmoTor50KICB2YXIgdXNlcmNhcmQgPSBjLnF1ZXJ5U2VsZWN0b3IoJ1t1c2VyY2FyZCo9Im5hbWU9Il0sIFt1c2VyY2FyZCo9ImlkPSJdJyk7CiAgaWYgKHVzZXJjYXJkKSAoZnVuY3Rpb24gKCkgewogICAgdmFyIHVjaW5mbyA9IHV0aWwuc3RyLnBhcnNlcXVlcnkodXNlcmNhcmQuZ2V0QXR0cmlidXRlKCd1c2VyY2FyZCcpKTsKICAgIGlmICh1Y2luZm8ubmFtZSkgaW5mby5uYW1lID0gdWNpbmZvLm5hbWU7CiAgICBpZiAodWNpbmZvLmlkKSBpbmZvLmlkID0gdWNpbmZvLmlkOwogIH0oKSk7CiAgLy8g5aaC5p6c5piv5Liq5Lq65Li76aG155qE5aS05YOP55qE6K+dCiAgdmFyIHBob3RvID0gYy5xdWVyeVNlbGVjdG9yKCcucGhvdG9bYWx0XScpOwogIGlmIChwaG90bykgKGZ1bmN0aW9uICgpIHsKICAgIGluZm8ubmFtZSA9IHBob3RvLmdldEF0dHJpYnV0ZSgnYWx0Jyk7CiAgfSgpKTsKICAvLyDnlKjmiLfljaHniYcKICB2YXIgdWlkID0gYy5xdWVyeVNlbGVjdG9yKCdbdWlkXVt0aXRsZV0nKTsKICBpZiAodWlkKSB7CiAgICBpbmZvLmlkID0gdWlkLmdldEF0dHJpYnV0ZSgndWlkJyk7CiAgICBpbmZvLm5hbWUgPSB1aWQuZ2V0QXR0cmlidXRlKCd0aXRsZScpOwogIH0KICAvLyDnnIvmiJHku6zmmK/lkKbmnIkgaWQg5oiW6ICFIG5hbWXvvIzlpoLmnpzmnInnmoTor53vvIzpgqPkuYjlsLHor7TmmI7mmK/kuKrnlKjmiLcKICBpZiAoaW5mby5pZCAmJiBpbmZvLm5hbWUpIGNhbGxiYWNrKGluZm8pOwogIGVsc2UgaWYgKGluZm8uaWQpIG5ldHdvcmsuYWNjb3VudC5pZChpbmZvLmlkLCBjYWxsYmFjaywgY2FsbGJhY2spOwogIGVsc2UgaWYgKGluZm8ubmFtZSkgbmV0d29yay5hY2NvdW50Lm5hbWUoaW5mby5uYW1lLCBjYWxsYmFjaywgb25lcnJvcik7CiAgZWxzZSBjYWxsYmFjaygpOwp9OwpmaWx0ZXIuZmFzdC5hY2NvdW50LmFkZG5hbWUgPSBmdW5jdGlvbiAodmFsKSB7IHJldHVybiB2YWwubmFtZTsgfTsKZmlsdGVyLmZhc3QuYWNjb3VudC5hZGRpZCA9IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIHZhbC5pZDsgfTsKCi8vIOW/q+mAn+WIm+W7uuivnemimOi/h+a7pOWZqOebuOWFs+WHveaVsApmaWx0ZXIuZmFzdC50b3BpYyA9IHt9OwpmaWx0ZXIuZmFzdC50b3BpYy52YWxpZGF0b3IgPSBmdW5jdGlvbiAoZWxlbWVudCkgewogIHJldHVybiBmaWx0ZXIuZmFzdC50b3BpYy5yZWNvZ25pemVyLnRvcGljKGVsZW1lbnQsIEJvb2xlYW4pOwp9OwpmaWx0ZXIuZmFzdC50b3BpYy5yZWNvZ25pemVyID0ge307CmZpbHRlci5mYXN0LnRvcGljLnJlY29nbml6ZXIudG9waWMgPSBmdW5jdGlvbiAoZWxlbWVudCwgY2FsbGJhY2spIHsKICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHJldHVybiBjYWxsYmFjaygpOwogIHZhciBjID0gdXRpbC5kb20uY3JlYXRlKCdib2R5JywgZWxlbWVudC5vdXRlckhUTUwpOwogIHZhciB0b3BpYyA9IGMucXVlcnlTZWxlY3RvcignYS5hX3RvcGljLCBhW3N1ZGEtdWF0cmFjayo9IjEwMjItdG9waWMiXScpOwogIGlmICh0b3BpYykgcmV0dXJuIGNhbGxiYWNrKHsgJ3RvcGljJzogdG9waWMudGV4dENvbnRlbnQudHJpbSgpLnJlcGxhY2UoLyMvZywgJycpIH0pOwogIHZhciB0b3BpY19ycyA9IGMucXVlcnlTZWxlY3RvcignYVtzdWRhLXVhdHJhY2sqPSJob3R0b3BpY19yIl0nKTsKICBpZiAodG9waWNfcnMpIHJldHVybiBjYWxsYmFjayh7ICd0b3BpYyc6ICh0b3BpY19ycy50aXRsZSB8fCB0b3BpY19ycy50ZXh0Q29udGVudCkudHJpbSgpLnJlcGxhY2UoLyMvZywgJycpIH0pOwogIHJldHVybiBjYWxsYmFjaygpOwp9OwpmaWx0ZXIuZmFzdC50b3BpYy5yZWNvZ25pemVyLnJ0b3BpYyA9IGZ1bmN0aW9uIChlbGVtZW50LCBjYWxsYmFjaykgewogIHJldHVybiBmaWx0ZXIuZmFzdC50b3BpYy5yZWNvZ25pemVyLnRvcGljKGVsZW1lbnQsIGZ1bmN0aW9uICh2YWwpIHsKICAgIGlmICh2YWwgJiYgdmFsLnRvcGljKSBjYWxsYmFjayh7ICd0b3BpYyc6IHV0aWwuc3RyLmVzY2FwZS5yZWdleHAodmFsLnRvcGljKSB9KTsKICAgIGVsc2UgY2FsbGJhY2soKTsKICB9KTsKfTsKZmlsdGVyLmZhc3QudG9waWMuYWRkID0gZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gdmFsLnRvcGljOyB9OwoKLy8g5b+r6YCf5Yib5bu66K+d6aKY6L+H5ruk5Zmo55u45YWz5Ye95pWwCmZpbHRlci5mYXN0LnNvdXJjZSA9IHt9OwpmaWx0ZXIuZmFzdC5zb3VyY2UudmFsaWRhdG9yID0gZnVuY3Rpb24gKGVsZW1lbnQpIHsKICByZXR1cm4gZmlsdGVyLmZhc3Quc291cmNlLnJlY29nbml6ZXIoZWxlbWVudCwgQm9vbGVhbik7Cn07CmZpbHRlci5mYXN0LnNvdXJjZS5yZWNvZ25pemVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNhbGxiYWNrKSB7CiAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSByZXR1cm4gY2FsbGJhY2soKTsKICB2YXIgYyA9IHV0aWwuZG9tLmNyZWF0ZSgnYm9keScsIGVsZW1lbnQub3V0ZXJIVE1MKTsKICB2YXIgc291cmNlID0gYy5xdWVyeVNlbGVjdG9yKFsKICAgICdbYWN0aW9uLXR5cGU9ImFwcF9zb3VyY2UiXScsCiAgICAnW3N1ZGEtZGF0YT0ia2V5PXRibG9nX2hvbWVfbmV3JnZhbHVlPWZlZWRfY29tZV9mcm9tIl0nLAogICAgJ1tzdWRhLXVhdHJhY2sqPSJrZXk9cHJvZmlsZV9mZWVkIl1bc3VkYS11YXRyYWNrKj0idmFsdWU9cHViZnJvbV9ob3N0Il0nLAogICAgJ2FbaHJlZiQ9ImZyb209ZmVlZF9jYXJkIl0nLAogICAgJ2FbaHJlZiQ9InNvdXJjZT13ZWlib3NvdXJjZSJdJywKICAgICdhW2hyZWYqPSJ3ZWliby5jb20vcC8xMDAxMjdwIl0nLAogIF0uam9pbignLCcpKTsKICBzb3VyY2UgPSBzb3VyY2UgJiYgKHNvdXJjZS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgfHwgc291cmNlLnRleHRDb250ZW50IHx8IHRleHQuc291cmNlVW5rb3duKTsKICBpZiAoc291cmNlICYmIHNvdXJjZSAhPT0gdGV4dC5kZWZhdWx0U291cmNlKSByZXR1cm4gY2FsbGJhY2soeyAnc291cmNlJzogc291cmNlIH0pOwogIGVsc2UgcmV0dXJuIGNhbGxiYWNrKCk7Cn07CmZpbHRlci5mYXN0LnNvdXJjZS5hZGQgPSBmdW5jdGlvbiAodmFsKSB7IHJldHVybiB2YWwuc291cmNlOyB9OwoKLy8g5b+r6YCf5Yib5bu66LaF6ZO+5o6l5Zyw5Z2A6L+H5ruk5Zmo55qE55u45YWz5Ye95pWwCmZpbHRlci5mYXN0Lmh5cGVybGluayA9IHt9OwpmaWx0ZXIuZmFzdC5oeXBlcmxpbmsudmFsaWRhdG9yID0gZnVuY3Rpb24gKGVsZW1lbnQpIHsKICByZXR1cm4gZmlsdGVyLmZhc3QuaHlwZXJsaW5rLnJlY29nbml6ZXIoZWxlbWVudCwgQm9vbGVhbik7Cn07CmZpbHRlci5mYXN0Lmh5cGVybGluay5yZWNvZ25pemVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNhbGxiYWNrKSB7CiAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSByZXR1cm4gY2FsbGJhY2soKTsKICB2YXIgYyA9IHV0aWwuZG9tLmNyZWF0ZSgnYm9keScsIGVsZW1lbnQub3V0ZXJIVE1MKTsKICBkbyB7CiAgICB2YXIgbGluayA9IGMucXVlcnlTZWxlY3RvcignYVtocmVmXj0iaHR0cDovL3QuY24vIl1beWF3Zi1saW5rLXR5cGU9Ik8iXScpOwogICAgaWYgKCFsaW5rKSBicmVhazsKICAgIHJldHVybiBjYWxsYmFjayh7ICd1cmwnOiBsaW5rLmhyZWYgfSk7CiAgfSB3aGlsZSAoZmFsc2UpOwogIGRvIHsKICAgIHZhciBsaW5rYyA9IGMucXVlcnlTZWxlY3RvcignYVtocmVmXj0iaHR0cDovL2ZlZWQubWl4LnNpbmEuY29tLmNuL2xpbmtfY2FyZC9yZWRpcmVjdD8iXVt5YXdmLWxpbmstdHlwZT0iTyJdJyk7IGlmICghbGlua2MpIGJyZWFrOwogICAgdmFyIHVybCA9IHV0aWwuc3RyLnBhcnNlcXVlcnkobGlua2Muc2VhcmNoLnNsaWNlKDEpKS51cmw7IGlmICghdXJsKSBicmVhazsKICAgIHJldHVybiBjYWxsYmFjayh7ICd1cmwnOiB1cmwgfSk7CiAgfSB3aGlsZSAoZmFsc2UpOwogIHJldHVybiBjYWxsYmFjaygpOwp9OwpmaWx0ZXIuZmFzdC5oeXBlcmxpbmsuYWRkID0gZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gdmFsLnVybDsgfTsKCi8vIOW/q+mAn+WIm+W7uui2hemTvuaOpeagh+mimOeahOi/h+a7pOWZqApmaWx0ZXIuZmFzdC5saW5rdGl0bGUgPSB7fTsKZmlsdGVyLmZhc3QubGlua3RpdGxlLnZhbGlkYXRvciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgcmV0dXJuIGZpbHRlci5mYXN0Lmxpbmt0aXRsZS5yZWNvZ25pemVyKGVsZW1lbnQsIEJvb2xlYW4pOwp9OwpmaWx0ZXIuZmFzdC5saW5rdGl0bGUucmVjb2duaXplciA9IGZ1bmN0aW9uIChlbGVtZW50LCBjYWxsYmFjaykgewogIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkgcmV0dXJuIGNhbGxiYWNrKCk7CiAgdmFyIGMgPSB1dGlsLmRvbS5jcmVhdGUoJ2JvZHknLCBlbGVtZW50Lm91dGVySFRNTCk7CiAgdmFyIGxpbmsgPSBjLnF1ZXJ5U2VsZWN0b3IoJ2FbYWN0aW9uLXR5cGU9ImZlZWRfbGlzdF91cmwiXVt0aXRsZV0sIGFbYWN0aW9uLXR5cGU9ImZsX3VybF9hZGRwYXJhbXMiXVt0aXRsZV0nKTsKICBpZiAoIWxpbmspIHJldHVybiBjYWxsYmFjaygpOwogIHZhciB0aXRsZSA9IGxpbmsudGl0bGU7CiAgaWYgKHRpdGxlLm1hdGNoKC9eaHR0cHM/Oi8pIHx8IHRpdGxlID09PSAn572R6aG16ZO+5o6lJykgcmV0dXJuIGNhbGxiYWNrKCk7CiAgcmV0dXJuIGNhbGxiYWNrKHsgJ3RpdGxlJzogdGl0bGUgfSk7Cn07CmZpbHRlci5mYXN0Lmxpbmt0aXRsZS5hZGQgPSBmdW5jdGlvbiAodmFsKSB7IHJldHVybiB2YWwudGl0bGU7IH07CgovLyDliKTmlq3kuIDkuKrlhYPntKDmmK/lkKblupTlvZPooqvpgInkuK0KZmlsdGVyLmZhc3Quc2VsZWN0ZWQgPSB7fTsKKGZ1bmN0aW9uICgpIHsKICB2YXIgc2VsZWN0b3JzID0gewogICAgJ2ZlZWQnOiAnW21pZF0gLldCX2RldGFpbCwgW21pZF0gLldCX2RldGFpbCAqJywKICAgICdjb21tZW50JzogJ1tjb21tZW50X2lkXSAqJywKICAgICdhdXRob3InOiAnW21pZF0gLldCX2ZhY2UgLmZhY2UgKiwgW21pZF0gPiAuV0JfZmFjZSAqLCBbbWlkXSAuV0JfZGV0YWlsID4gLldCX2luZm8gLldfZmIsIFttaWRdID4gLmxpc3RfY29uID4gLldCX3RleHQgPiBhW3VzZXJjYXJkXj0iaWQ9Il0nLAogICAgJ21lbnRpb24nOiAnW21pZF0gLldCX3RleHQgYVt1c2VyY2FyZF49Im5hbWU9Il0nLAogICAgJ29yaWdpbmFsJzogJ1ttaWRdIC5XQl9mZWVkX2V4cGFuZCAuV0JfaW5mbyAuV19mYicsCiAgfTsKICB2YXIgZGVmaW5lID0gZnVuY3Rpb24gKHR5cGUsIG5vdGluKSB7CiAgICBmaWx0ZXIuZmFzdC5zZWxlY3RlZFt0eXBlXSA9IGZ1bmN0aW9uICh0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwogICAgICByZXR1cm4gIW5vdGluLnNvbWUoZnVuY3Rpb24gKG90aGVyKSB7CiAgICAgICAgcmV0dXJuIHV0aWwuZG9tLm1hdGNoZXModGFyZ2V0LCBzZWxlY3RvcnNbb3RoZXJdKTsKICAgICAgfSk7CiAgICB9OwogIH07CiAgZGVmaW5lKCdmZWVkJywgWydjb21tZW50J10pOwogIGRlZmluZSgnY29tbWVudCcsIFsnZmVlZCcsICdhdXRob3InXSk7CiAgZGVmaW5lKCdhdXRob3InLCBbJ2NvbW1lbnQnLCAnbWVudGlvbicsICdvcmlnaW5hbCddKTsKICBkZWZpbmUoJ21lbnRpb24nLCBbJ2NvbW1lbnQnLCAnYXV0aG9yJywgJ29yaWdpbmFsJ10pOwogIGRlZmluZSgnb3JpZ2luYWwnLCBbJ2NvbW1lbnQnLCAnYXV0aG9yJywgJ21lbnRpb24nXSk7CiAgZmlsdGVyLmZhc3Quc2VsZWN0ZWQubmV2ZXIgPSB1dGlsLmZ1bmMuY29uc3RhbnQoZmFsc2UpOwogIGZpbHRlci5mYXN0LnNlbGVjdGVkLmFsd2F5cyA9IHV0aWwuZnVuYy5jb25zdGFudCh0cnVlKTsKfSgpKTsKCi8vIOiOt+W+l+S4gOadoeW+ruWNmueahOWQhOaWuemdouS/oeaBrwp2YXIgd2VpYm8gPSB7ICdmZWVkJzoge30sICdjb21tZW50Jzoge30sICdjb21tb24nOiB7fSB9OwoKLy8g6YCJ5Y+W5b6u5Y2a5YaF5a6544CB5b6u5Y2a6L2s5Y+R55qE5YaF5a65CndlaWJvLmZlZWQuY29udGVudCA9IGZ1bmN0aW9uIChmZWVkLCBmKSB7CiAgdmFyIGNvbnRlbnQgPSBmZWVkLnF1ZXJ5U2VsZWN0b3IoJ1tub2RlLXR5cGU9ImZlZWRfbGlzdF9jb250ZW50Il0nKTsKICB2YXIgcmVhc29uID0gZmVlZC5xdWVyeVNlbGVjdG9yKCdbbm9kZS10eXBlPSJmZWVkX2xpc3RfcmVhc29uIl0nKTsKICB2YXIgaXRlbXMgPSBbXTsKICBpZiAoY29udGVudCkgaXRlbXMgPSBpdGVtcy5jb25jYXQoQXJyYXkuZnJvbShmKGNvbnRlbnQpKSk7CiAgaWYgKHJlYXNvbikgaXRlbXMgPSBpdGVtcy5jb25jYXQoQXJyYXkuZnJvbShmKHJlYXNvbikpKTsKICByZXR1cm4gaXRlbXM7Cn07CgovLyDpgInlj5bor4TorrrlhoXlrrkKd2VpYm8uY29tbWVudC5jb250ZW50ID0gZnVuY3Rpb24gKGNvbW1lbnQsIGYpIHsKICByZXR1cm4gQXJyYXkuZnJvbShmKGNvbW1lbnQucXVlcnlTZWxlY3RvcignLldCX3RleHQnKSkpOwp9OwoKLy8g5LuO5LiA5p2h5b6u5Y2a5Lit6I635Y+W5LuW55qE5paH5pysCndlaWJvLmNvbW1vbi50ZXh0ID0gZnVuY3Rpb24gKGNvbnRlbnQsIHByZWNsdCkgewogIHZhciBhY3RpdmUgPSBbZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkgcmV0dXJuIG5vZGUudGV4dENvbnRlbnQudHJpbSgpOwogIH0sIGZ1bmN0aW9uIChub2RlKSB7CiAgICBpZiAodXRpbC5kb20ubWF0Y2hlcyhub2RlLCAnYnIsIC55YXdmLWxpbmVicmVhaycpKSByZXR1cm4gJ1xuJzsKICB9XTsKICAvLyDojrflj5bnibnlrprlhYPntKDnmoTmlofmnKwKICB2YXIgdHlwZXMgPSB7fTsKICB0eXBlcy5tZW50aW9uID0gZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICh1dGlsLmRvbS5tYXRjaGVzKG5vZGUsICdhW3VzZXJjYXJkXScpKSByZXR1cm4gbm9kZS50ZXh0Q29udGVudC50cmltKCk7CiAgfTsKICB0eXBlcy50b3BpYyA9IGZ1bmN0aW9uIChub2RlKSB7CiAgICBpZiAodXRpbC5kb20ubWF0Y2hlcyhub2RlLCAnYS5hX3RvcGljJykpIHJldHVybiBub2RlLnRleHRDb250ZW50LnRyaW0oKTsKICB9OwogIHR5cGVzLnN0b2NrID0gZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICh1dGlsLmRvbS5tYXRjaGVzKG5vZGUsICdhW3N1ZGEtdWF0cmFjayo9IjEwMjItc3RvY2siXScpKSByZXR1cm4gbm9kZS50ZXh0Q29udGVudC50cmltKCk7CiAgfTsKICB0eXBlcy5saW5rdCA9IGZ1bmN0aW9uIChub2RlKSB7CiAgICBpZiAodXRpbC5kb20ubWF0Y2hlcyhub2RlLCAnYVthY3Rpb24tdHlwZT0iZmVlZF9saXN0X3VybCJdW3RpdGxlXScpKSByZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykudHJpbSgpOwogIH07CiAgdHlwZXMubGlua3UgPSBmdW5jdGlvbiAobm9kZSkgewogICAgaWYgKHV0aWwuZG9tLm1hdGNoZXMobm9kZSwgJ2FbYWN0aW9uLXR5cGU9ImZlZWRfbGlzdF91cmwiXVt0YXJnZXQ9Il9ibGFuayJdJykpIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZSgnaHJlZicpLnRyaW0oKTsKICB9OwogIHR5cGVzLmVtb3Rpb24gPSBmdW5jdGlvbiAobm9kZSkgewogICAgaWYgKHV0aWwuZG9tLm1hdGNoZXMobm9kZSwgJ2ltZ1t0eXBlPSJmYWNlIl1bYWx0XScpKSByZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGUoJ2FsdCcpLnRyaW0oKTsKICB9OwogIHR5cGVzLmVtb2ppID0gZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICghdXRpbC5kb20ubWF0Y2hlcyhub2RlLCAnW3NyY149Imh0dHA6Ly9pbWcudC5zaW5hanMuY24vdDQvYXBwc3R5bGUvZXhwcmVzc2lvbi9lbWltYWdlL2UiXScpKSByZXR1cm4gdm9pZCAwOwogICAgLy8g6L+Z5Lqb6KGo5oOF6YO95ZyoIDB4ZTAwMCsg55qE5Yy66Ze077yM5a+55bqU55qEIHV0Zjgg57yW56CB6YO95piv5LiJ5L2N77yM5omA5Lul5LiA5a6a5pivIGUg5byA5aS0CiAgICB2YXIgY29kZSA9IG5vZGUuZ2V0QXR0cmlidXRlKCdzcmMnKS5tYXRjaCgvKGUuLi4uLilcLnBuZy8pWzFdOwogICAgdmFyIHVuaWNvZGUgPSB1dGlsLnN0ci5lbW9qaShjb2RlKTsKICAgIHJldHVybiB1bmljb2RlOwogIH07CiAgdmFyIG1hdGNoID0gZnVuY3Rpb24gKGZlZWQpIHsKICAgIHJldHVybiBjb250ZW50KGZlZWQsIGZ1bmN0aW9uIChtKSB7CiAgICAgIHJldHVybiBBcnJheS5mcm9tKG0uY2hpbGROb2RlcykubWFwKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgIGFjdGl2ZS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgICB2YXIgdmFsID0gZihub2RlKTsKICAgICAgICAgIGlmICh2YWwpIHJlc3VsdC5wdXNoKHZhbCk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCcgJyk7CiAgICAgIH0pOwogICAgfSkuam9pbignJyk7CiAgfTsKICBtYXRjaC5hY3RpdmUgPSBmdW5jdGlvbiAodHlwZSkgewogICAgYWN0aXZlLnB1c2godXRpbC5mdW5jLmNhdGNoZWQodHlwZXNbdHlwZV0pKTsKICAgIHJldHVybiB0eXBlOwogIH07CiAgKHByZWNsdCB8fCBbXSkuZm9yRWFjaChtYXRjaC5hY3RpdmUpOwogIHJldHVybiBtYXRjaDsKfTsKCndlaWJvLmZlZWQudGV4dCA9IHdlaWJvLmNvbW1vbi50ZXh0KHdlaWJvLmZlZWQuY29udGVudCwgWydlbW9qaSddKTsKd2VpYm8uY29tbWVudC50ZXh0ID0gd2VpYm8uY29tbW9uLnRleHQod2VpYm8uY29tbWVudC5jb250ZW50LCBbJ3RvcGljJywgJ2xpbmt0JywgJ3N0b2NrJywgJ2Vtb2ppJ10pOwoKLy8g5om+5Yiw5LiA5p2h5b6u5Y2a55qE6KGo5oOF56ym5Y+3CndlaWJvLmNvbW1vbi5lbW9qaSA9IGZ1bmN0aW9uIChmZWVkKSB7CiAgdmFyIGUgPSBBcnJheS5mcm9tKGZlZWQucXVlcnlTZWxlY3RvckFsbCgnaW1nW3R5cGU9ImZhY2UiXVthbHRdJykpOwogIHJldHVybiBlLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5nZXRBdHRyaWJ1dGUoJ2FsdCcpOyB9KTsKfTsKCndlaWJvLmZlZWQuZW1vamkgPSBmdW5jdGlvbiAoZmVlZCkgewogIHJldHVybiB3ZWliby5mZWVkLmNvbnRlbnQoZmVlZCwgd2VpYm8uY29tbW9uLmVtb2ppKTsKfTsKCndlaWJvLmNvbW1lbnQuZW1vamkgPSBmdW5jdGlvbiAoY29tbWVudCkgewogIHJldHVybiB3ZWliby5jb21tZW50LmNvbnRlbnQoY29tbWVudCwgd2VpYm8uY29tbW9uLmVtb2ppKTsKfTsKCi8vIOS7juS4gOadoeW+ruWNmuS4reaJvuWIsOWktOWDjwp3ZWliby5mZWVkLmF2YXRhciA9IGZ1bmN0aW9uIChmZWVkKSB7CiAgcmV0dXJuIGZlZWQucXVlcnlTZWxlY3RvcignLldCX2ZhY2UgaW1nJykuc3JjOwp9OwoKLy8g5LuO5LiA5p2h5b6u5Y2a5Lit5om+5Yiw5LuW55qE5L2c6ICFCndlaWJvLmZlZWQuYXV0aG9yID0ge307CndlaWJvLmZlZWQuYXV0aG9yLmRvbSA9IGZ1bmN0aW9uIChmZWVkKSB7CiAgcmV0dXJuIGZlZWQucXVlcnlTZWxlY3RvcignLldCX2RldGFpbD4uV0JfaW5mbz4uV0JfbmFtZVt1c2VyY2FyZF0sIC5XQl9kZXRhaWw+LldCX2luZm8+LldfZmJbdXNlcmNhcmRdJykgfHwKICAgIGZlZWQucXVlcnlTZWxlY3RvcignLldCX3RleHQ+YS5XX2ZiW3VzZXJjYXJkXTpmaXJzdC1jaGlsZCcpOwp9Owp3ZWliby5mZWVkLmF1dGhvci5pZCA9IGZ1bmN0aW9uIChmZWVkKSB7CiAgdmFyIGF1dGhvciA9IHdlaWJvLmZlZWQuYXV0aG9yLmRvbShmZWVkKTsKICBpZiAoIWF1dGhvcikgcmV0dXJuIG51bGw7CiAgcmV0dXJuIHV0aWwuc3RyLnBhcnNlcXVlcnkoYXV0aG9yLmdldEF0dHJpYnV0ZSgndXNlcmNhcmQnKSkuaWQ7Cn07CndlaWJvLmZlZWQuYXV0aG9yLm5hbWUgPSBmdW5jdGlvbiAoZmVlZCkgewogIHZhciBhdXRob3IgPSB3ZWliby5mZWVkLmF1dGhvci5kb20oZmVlZCk7CiAgaWYgKCFhdXRob3IpIHJldHVybiBudWxsOwogIHJldHVybiBhdXRob3IudGV4dENvbnRlbnQudHJpbSgpOwp9OwoKLy8g5LuO5LiA5p2h5b6u5Y2a5Lit5om+5Yiw5LuW55qE5Y6f5L2c6ICFCndlaWJvLmZlZWQub3JpZ2luYWwgPSB7fTsKd2VpYm8uZmVlZC5vcmlnaW5hbC5kb20gPSBmdW5jdGlvbiAoZmVlZCkgewogIHJldHVybiBmZWVkLnF1ZXJ5U2VsZWN0b3IoJy5XQl9tZWRpYV9leHBhbmQgLldCX2luZm8gLldCX25hbWUsIC5XQl9leHBhbmQgLldCX2luZm8gLldfZmInKTsKfTsKd2VpYm8uZmVlZC5vcmlnaW5hbC5pZCA9IGZ1bmN0aW9uIChmZWVkKSB7CiAgdmFyIG9yaWdpbmFsQXV0aG9yID0gd2VpYm8uZmVlZC5vcmlnaW5hbC5kb20oZmVlZCk7CiAgaWYgKCFvcmlnaW5hbEF1dGhvcikgcmV0dXJuIG51bGw7CiAgcmV0dXJuIHV0aWwuc3RyLnBhcnNlcXVlcnkob3JpZ2luYWxBdXRob3IuZ2V0QXR0cmlidXRlKCd1c2VyY2FyZCcpKS5pZDsKfTsKd2VpYm8uZmVlZC5vcmlnaW5hbC5uYW1lID0gZnVuY3Rpb24gKGZlZWQpIHsKICB2YXIgb3JpZ2luYWxBdXRob3IgPSB3ZWliby5mZWVkLm9yaWdpbmFsLmRvbShmZWVkKTsKICBpZiAoIW9yaWdpbmFsQXV0aG9yKSByZXR1cm4gbnVsbDsKICByZXR1cm4gb3JpZ2luYWxBdXRob3IudGV4dENvbnRlbnQudHJpbSgpLnJlcGxhY2UoL15ALywgJycpOwp9Owp3ZWliby5mZWVkLm9yaWdpbmFsLnRleHQgPSBmdW5jdGlvbiAoZmVlZCkgewogIHJldHVybiBmZWVkLnF1ZXJ5U2VsZWN0b3IoJy5XQl9leHBhbmQgLldCX3RleHQnKS50ZXh0Q29udGVudDsKfTsKCi8vIOaJvuWIsOWcqOS4gOadoeW+ruWNmumHjOmdouiiq+aPkOWIsOeahOS6uueahOaYteensAp3ZWliby5mZWVkLm1lbnRpb25zID0ge307CndlaWJvLmZlZWQubWVudGlvbnMuZG9tID0gZnVuY3Rpb24gKGZlZWQpIHsKICByZXR1cm4gd2VpYm8uZmVlZC5jb250ZW50KGZlZWQsIGZ1bmN0aW9uIChtKSB7CiAgICByZXR1cm4gQXJyYXkuZnJvbShtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbdXNlcmNhcmRePSJuYW1lPSJdW2hyZWYqPSJsb2M9YXQiXScpKTsKICB9KTsKfTsKd2VpYm8uZmVlZC5tZW50aW9ucy5uYW1lID0gZnVuY3Rpb24gKGZlZWQpIHsKICByZXR1cm4gd2VpYm8uZmVlZC5tZW50aW9ucy5kb20oZmVlZCkubWFwKGZ1bmN0aW9uIChsaW5rKSB7CiAgICByZXR1cm4gdXRpbC5zdHIucGFyc2VxdWVyeShsaW5rLmdldEF0dHJpYnV0ZSgndXNlcmNhcmQnKSkubmFtZTsKICB9KTsKfTsKCi8vIOivhOiuuuS4remDvea2ieWPiuS6huWTquS6m+eUqOaIt++8jOWMheaLrOivhOiuuuS9nOiAheOAgeWbnuWkjeeahOS6uuWSjOaPkOWIsOeahOS6ugp3ZWliby5jb21tZW50LmF1dGhvciA9IHt9Owp3ZWliby5jb21tZW50LmF1dGhvci5kb20gPSBmdW5jdGlvbiAoY29tbWVudCkgewogIHJldHVybiBjb21tZW50LnF1ZXJ5U2VsZWN0b3IoJy5XQl9mYWNlIGltZ1thbHRdJykgfHwgY29tbWVudC5xdWVyeVNlbGVjdG9yKCcuV0JfdGV4dCBhW3VzZXJjYXJkXScpOwp9Owp3ZWliby5jb21tZW50LmF1dGhvci5pZCA9IGZ1bmN0aW9uIChjb21tZW50KSB7CiAgdmFyIGF1dGhvciA9IHdlaWJvLmNvbW1lbnQuYXV0aG9yLmRvbShjb21tZW50KTsKICBpZiAoIWF1dGhvcikgcmV0dXJuIG51bGw7CiAgcmV0dXJuIHV0aWwuc3RyLnBhcnNlcXVlcnkoYXV0aG9yLmdldEF0dHJpYnV0ZSgndXNlcmNhcmQnKSkuaWQ7Cn07CndlaWJvLmNvbW1lbnQuYXV0aG9yLm5hbWUgPSBmdW5jdGlvbiAoY29tbWVudCkgewogIHZhciBhdXRob3IgPSB3ZWliby5jb21tZW50LmF1dGhvci5kb20oY29tbWVudCk7CiAgaWYgKCFhdXRob3IpIHJldHVybiBudWxsOwogIHJldHVybiBhdXRob3IuZ2V0QXR0cmlidXRlKCdhbHQnKTsKfTsKd2VpYm8uY29tbWVudC5tZW50aW9ucyA9IHt9Owp3ZWliby5jb21tZW50Lm1lbnRpb25zLmRvbSA9IGZ1bmN0aW9uIChjb21tZW50KSB7CiAgcmV0dXJuIEFycmF5LmZyb20oY29tbWVudC5xdWVyeVNlbGVjdG9yKCcuV0JfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbdXNlcmNhcmRePSJuYW1lPSJdJykpOwp9Owp3ZWliby5jb21tZW50Lm1lbnRpb25zLm5hbWUgPSBmdW5jdGlvbiAoY29tbWVudCkgewogIHZhciBtZW50aW9ucyA9IHdlaWJvLmNvbW1lbnQubWVudGlvbnMuZG9tKGNvbW1lbnQpOwogIHJldHVybiBtZW50aW9ucy5tYXAoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHV0aWwuc3RyLnBhcnNlcXVlcnkoYS5nZXRBdHRyaWJ1dGUoJ3VzZXJjYXJkJykpLm5hbWU7IH0pOwp9Owp3ZWliby5jb21tZW50LnVzZXJzID0ge307CndlaWJvLmNvbW1lbnQudXNlcnMubmFtZSA9IGZ1bmN0aW9uIChjb21tZW50KSB7CiAgcmV0dXJuIFt3ZWliby5jb21tZW50LmF1dGhvci5uYW1lKGNvbW1lbnQpXS5jb25jYXQod2VpYm8uY29tbWVudC5tZW50aW9ucy5uYW1lKGNvbW1lbnQpKS5maWx0ZXIoQm9vbGVhbik7Cn07CgovLyDmib7liLDlnKjkuIDmnaHlvq7ljZrph4zpnaLmj5DliLDnmoTmiYDmnInor53popgKd2VpYm8uZmVlZC50b3BpY3MgPSB7fTsKd2VpYm8uY29tbW9uLnRvcGljcyA9IGZ1bmN0aW9uIChmZWVkKSB7CiAgcmV0dXJuIEFycmF5LmZyb20oZmVlZC5xdWVyeVNlbGVjdG9yQWxsKCcuYV90b3BpYycpKTsKfTsKd2VpYm8uZmVlZC50b3BpY3MuZG9tID0gZnVuY3Rpb24gKGZlZWQpIHsKICByZXR1cm4gd2VpYm8uZmVlZC5jb250ZW50KGZlZWQsIHdlaWJvLmNvbW1vbi50b3BpY3MpOwp9Owp3ZWliby5mZWVkLnRvcGljcy50ZXh0ID0gZnVuY3Rpb24gKGZlZWQpIHsKICByZXR1cm4gd2VpYm8uZmVlZC50b3BpY3MuZG9tKGZlZWQpCiAgICAubWFwKGZ1bmN0aW9uICh0b3BpYykgeyByZXR1cm4gdG9waWMudGV4dENvbnRlbnQ7IH0pOwp9OwoKd2VpYm8uY29tbWVudC50b3BpY3MgPSB7fTsKd2VpYm8uY29tbWVudC50b3BpY3MuZG9tID0gZnVuY3Rpb24gKGZlZWQpIHsKICByZXR1cm4gd2VpYm8uY29tbWVudC5jb250ZW50KGZlZWQsIHdlaWJvLmNvbW1vbi50b3BpY3MpOwp9Owp3ZWliby5jb21tZW50LnRvcGljcy50ZXh0ID0gZnVuY3Rpb24gKGZlZWQpIHsKICByZXR1cm4gd2VpYm8uY29tbWVudC50b3BpY3MuZG9tKGZlZWQpCiAgICAubWFwKGZ1bmN0aW9uICh0b3BpYykgeyByZXR1cm4gdG9waWMudGV4dENvbnRlbnQ7IH0pOwp9OwoKLy8g6I635Y+W5LiA5p2h5b6u5Y2a55qE5omA5pyJ5p2l5rqQ77yI5YyF5ous6L2s5Y+R77yJCndlaWJvLmZlZWQuc291cmNlcyA9IHt9Owp3ZWliby5mZWVkLnNvdXJjZXMuZG9tID0gZnVuY3Rpb24gKGZlZWQpIHsKICByZXR1cm4gQXJyYXkuZnJvbShmZWVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5XQl9mcm9tIConKSkKICAgIC5maWx0ZXIoZmlsdGVyLmZhc3Quc291cmNlLnZhbGlkYXRvcik7Cn07CndlaWJvLmZlZWQuc291cmNlcy50ZXh0ID0gZnVuY3Rpb24gKGZlZWQpIHsKICByZXR1cm4gd2VpYm8uZmVlZC5zb3VyY2VzLmRvbShmZWVkKS5tYXAoZnVuY3Rpb24gKHN0KSB7CiAgICByZXR1cm4gc3QuZ2V0QXR0cmlidXRlKCd0aXRsZScpIHx8IHN0LnRleHRDb250ZW50IHx8IHRleHQuc291cmNlVW5rb3duOwogIH0pLmZpbHRlcihCb29sZWFuKTsKfTsKCi8vIOS7juS4gOadoeW+ruWNmuS4reaJvuWIsOaJgOaciei2hemTvuaOpeWcsOWdgAp3ZWliby5mZWVkLmh5cGVybGlua3MgPSB7fTsKd2VpYm8uZmVlZC5oeXBlcmxpbmtzLmRvbSA9IGZ1bmN0aW9uIChmZWVkKSB7CiAgcmV0dXJuIHdlaWJvLmZlZWQuY29udGVudChmZWVkLCBmdW5jdGlvbiAobSkgewogICAgcmV0dXJuIEFycmF5LmZyb20obS5xdWVyeVNlbGVjdG9yQWxsKFsKICAgICAgJ2FbeWF3Zi1saW5rLXR5cGU9Ik8iXVtocmVmXj0iaHR0cDovL3QuY24vIl0nLAogICAgICAnYVtocmVmXj0iaHR0cDovL2ZlZWQubWl4LnNpbmEuY29tLmNuL2xpbmtfY2FyZC9yZWRpcmVjdD8iXScKICAgIF0uam9pbignLCcpKSk7CiAgfSkuZmlsdGVyKGZpbHRlci5mYXN0Lmh5cGVybGluay52YWxpZGF0b3IpOwp9Owp3ZWliby5mZWVkLmh5cGVybGlua3MudGV4dCA9IGZ1bmN0aW9uIChmZWVkKSB7CiAgcmV0dXJuIHdlaWJvLmZlZWQuaHlwZXJsaW5rcy5kb20oZmVlZCkubWFwKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmhyZWY7IH0pOwp9OwoKLy8g5LuO5LiA5p2h5b6u5Y2a5Lit5om+5Ye65omA5pyJ6LaF6ZO+5o6l5qCH6aKYCndlaWJvLmZlZWQubGlua3RpdGxlID0ge307CndlaWJvLmZlZWQubGlua3RpdGxlLmRvbSA9IGZ1bmN0aW9uIChmZWVkKSB7CiAgcmV0dXJuIHdlaWJvLmZlZWQuY29udGVudChmZWVkLCBmdW5jdGlvbiAobSkgewogICAgcmV0dXJuIEFycmF5LmZyb20obS5xdWVyeVNlbGVjdG9yQWxsKCdhW3lhd2YtbGluay10eXBlPSJPIl0nKSk7CiAgfSkuZmlsdGVyKGZpbHRlci5mYXN0Lmxpbmt0aXRsZS52YWxpZGF0b3IpOwp9Owp3ZWliby5mZWVkLmxpbmt0aXRsZS50ZXh0ID0gZnVuY3Rpb24gKGZlZWQpIHsKICByZXR1cm4gd2VpYm8uZmVlZC5saW5rdGl0bGUuZG9tKGZlZWQpCiAgICAubWFwKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmdldEF0dHJpYnV0ZSgndGl0bGUnKTsgfSk7Cn07CgovLyDmkJzntKLpgInpobnljaEKZmlsdGVyLmNvbGxlY3Rpb24uZ3JvdXAuYWRkKGZ1bmN0aW9uICgpIHsKICB2YXIgaW5wdXQsIHRleHQsIGFjdGl2ZWQsIGxheWVyOwogIC8vIOWIneWni+WMlgogIHZhciBpbml0ID0gZnVuY3Rpb24gKCkgewogIH07CiAgLy8g5pu05paw5LqG6L6T5YWl5YaF5a65CiAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICghYWN0aXZlZCkgaXRlbS5hY3RpdmUoKTsKICAgIGVsc2Ugc2hvdygpOwogIH07CiAgLy8g5pi+56S66K6+572u5a+56K+d5qGGCiAgdmFyIGxpc3QgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZG9tID0gdXRpbC5kb20uY3JlYXRlKGh0bWwuY29uZmlnSGVhZGVyU2VhcmNoKTsKICAgIGlucHV0ID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7CiAgICB2YXIgY2hhbmdlZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIHZhciBjdXJyZW50ID0gaW5wdXQudmFsdWU7CiAgICAgIGlmIChjdXJyZW50ID09PSB0ZXh0KSByZXR1cm47CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChpbnB1dC52YWx1ZSAhPT0gY3VycmVudCkgcmV0dXJuOwogICAgICAgIHRleHQgPSBjdXJyZW50OwogICAgICAgIHVwZGF0ZSgpOwogICAgICB9LCA1MCk7CiAgICB9OwogICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2hhbmdlZCk7CiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGNoYW5nZWQpOwogICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNoYW5nZWQpOwogICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgY2hhbmdlZCk7CiAgICBhY3RpdmVkID0gZmFsc2U7IHRleHQgPSAnJzsgbGF5ZXIgPSBudWxsOwogICAgcmV0dXJuIGRvbTsKICB9OwogIC8vIOS4jeetieWPt+S7rAogIHZhciBvcGVyYXRvciA9IGZ1bmN0aW9uIChvcCwgeCwgeSkgewogICAgaWYgKG9wID09PSAnPScpIHJldHVybiB4ID09PSB5OwogICAgaWYgKG9wID09PSAnPicpIHJldHVybiB4ID4geTsKICAgIGlmIChvcCA9PT0gJzwnKSByZXR1cm4geCA8IHk7CiAgICBpZiAob3AgPT09ICc+PScpIHJldHVybiB4ID49IHk7CiAgICBpZiAob3AgPT09ICc8PScpIHJldHVybiB4IDw9IHk7CiAgICByZXR1cm4gZmFsc2U7CiAgfTsKICAvLyDlsIbmkJzntKLor43liIbmnpDmiJDmkJzntKLmnaHku7YKICB2YXIgcGFyc2UgPSBmdW5jdGlvbiAodGV4dCkgewogICAgdmFyIHRva2VuID0gdGV4dC50b0xvd2VyQ2FzZSgpLnRyaW0oKS5yZXBsYWNlKC86XHMrL2csICc6Jykuc3BsaXQoL1xzKy8pOwogICAgdmFyIHRleHRzID0gW10sIHZlcnNpb24gPSB1dGlsLmZ1bmMuY29uc3RhbnQodHJ1ZSk7CiAgICB2YXIgZ2V0VmVyc2lvbiA9IGZ1bmN0aW9uICh2ZXIpIHsKICAgICAgaWYgKCF1dGlsLmluZm8udmVyc2lvbikgcmV0dXJuOwogICAgICB2YXIgbWF0Y2ggPSB2ZXIubWF0Y2goLy4qOihbPjxdPz0/KSgtP1xkKykvKSwgb3AgPSBtYXRjaFsxXSB8fCAnPSc7CiAgICAgIHZhciBudW0gPSBwYXJzZUludChtYXRjaFsyXSwgMTApOwogICAgICBpZiAobnVtIDwgMCkgbnVtID0gdXRpbC5pbmZvLnZlcnNpb24gKyBudW0gKyAxOwogICAgICB2ZXJzaW9uID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG9wZXJhdG9yKG9wLCB2LCBudW0pOyB9OwogICAgfTsKICAgIHRva2VuLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgaWYgKHQubWF0Y2goL3ZlcihzaW9uKT86Wz48XT89Py0/XGQrLykpIGdldFZlcnNpb24odCk7CiAgICAgIGVsc2UgdGV4dHMucHVzaCh0KTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgJ3ZlcnNpb24nOiB2ZXJzaW9uLAogICAgICAndGV4dHMnOiB0ZXh0cywKICAgIH07CiAgfTsKICAvLyDmmL7npLror6XpgInpobnljaEKICB2YXIgc2hvdyA9IHV0aWwuZnVuYy5jYXRjaGVkKGZ1bmN0aW9uIChjbGF5ZXIpIHsKICAgIGFjdGl2ZWQgPSB0cnVlOwogICAgbGF5ZXIgPSBjbGF5ZXIgfHwgbGF5ZXI7IGxheWVyLmlubmVySFRNTCA9ICcnOwogICAgdmFyIGFsbFRleHQgPSBmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gW2l0ZW0udHlwZSAhPT0gJ3NpY29uJyAmJiBpdGVtLnRleHQgfHwgJyddCiAgICAgICAgLmNvbmNhdChpdGVtLnJlZiA/IE9iamVjdC5rZXlzKGl0ZW0ucmVmKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgcmV0dXJuIGFsbFRleHQoaXRlbS5yZWZba2V5XSk7CiAgICAgICAgfSkgOiBbXSkuam9pbignICcpOwogICAgfTsKICAgIHZhciBzZWFyY2ggPSBwYXJzZSh0ZXh0KTsKICAgIHZhciBub3RDb250YWluID0gZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIHguaW5kZXhPZih5KSA9PT0gLTE7IH07CiAgICB2YXIgY29uZnMgPSBmaWx0ZXIuY29sbGVjdGlvbi5pdGVtLmxpc3QoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKHR5cGVvZiBpdGVtLnZlcnNpb24gIT09ICdudW1iZXInIHx8ICF0ZXh0KSByZXR1cm4gZmFsc2U7CiAgICAgIGlmICghc2VhcmNoLnZlcnNpb24oaXRlbS52ZXJzaW9uKSkgcmV0dXJuIGZhbHNlOwogICAgICB2YXIgZGl2ID0gdXRpbC5kb20uY3JlYXRlKCc8ZGl2PjwvZGl2PicpOwogICAgICBkaXYuaW5uZXJIVE1MID0gdXRpbC5zdHIuZmlsbChhbGxUZXh0KGl0ZW0pLCBpdGVtKTsKICAgICAgdmFyIGluZm8gPSBkaXYudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKTsKICAgICAgaWYgKHNlYXJjaC50ZXh0cy5zb21lKG5vdENvbnRhaW4uYmluZChudWxsLCBpbmZvKSkpIHJldHVybiBmYWxzZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9KTsKICAgIGlmIChjb25mcy5jb3VudCgpKSBjb25mcy5zaG93KGxheWVyKTsKICAgIGVsc2UgbGF5ZXIuaW5uZXJIVE1MID0gdXRpbC5zdHIuZmlsbChodG1sLnNlYXJjaE5vdEZvdW5kKTsKICB9KTsKICAvLyDpmpDol4/or6XpgInpobnljaEKICB2YXIgaGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgIGFjdGl2ZWQgPSBmYWxzZTsKICAgIGlucHV0LnZhbHVlID0gdGV4dCA9ICcnOwogIH07CiAgdmFyIGl0ZW0gPSB7CiAgICAnbmFtZSc6ICdzZWFyY2gnLAogICAgJ2luaXQnOiBpbml0LAogICAgJ3Nob3cnOiBzaG93LAogICAgJ2hpZGUnOiBoaWRlLAogICAgJ2xpc3QnOiBsaXN0LAogIH07CiAgcmV0dXJuIGl0ZW07Cn0oKSk7CgovLyDln7rnoYDorr7nva4KLy8g55Sx5LqO5Y6G5Y+y5Y6f5Zug77yM5Z+656GA6K6+572u5LiL6ZSu5YC85b2S5bGeIG90aGVyCmZpbHRlci5wcmVkZWYuZ3JvdXAoJ2Jhc2UnKTsKCi8vIOWmguS9leWKoOi9veW+ruWNmgpmaWx0ZXIucHJlZGVmLnN1YnRpdGxlKCdiYXNlJywgJ2xvYWR3ZWlibycsICd7e2xvYWRXZWlib1RpdGxlfX0nKTsKCi8vIOW/q+mAn+WIm+W7uui/h+a7pOWZqApmaWx0ZXIuaXRlbXMuYmFzZS5sb2Fkd2VpYm8ubG9hZF93ZWlib19ieV9zZWFyY2ggPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2xvYWR3ZWlibycsCiAgJ3ZlcnNpb24nOiA0MDcsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLmxvYWRfd2VpYm9fYnlfc2VhcmNoJywKICAndGV4dCc6ICd7e2xvYWRXZWlib0J5U2VhcmNofX0nLAogICdyZWYnOiB7ICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7bG9hZFdlaWJvQnlTZWFyY2hEZXNjfX0nIH0gfSwKICAnc2hvd24nOiBmdW5jdGlvbiAoZG9tKSB7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB2YXIgY2hlY2tib3ggPSBkb20ucXVlcnlTZWxlY3RvcignW25hbWU9Inlhd2Ytd2VpYm8udG9vbC5sb2FkX3dlaWJvX2J5X3NlYXJjaCJdJyk7CiAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghY2hlY2tib3guY2hlY2tlZCkgcmV0dXJuOwogICAgICB0aGF0LnB1dGNvbmYoZmFsc2UpOwogICAgICB1dGlsLnVpLmNvbmZpcm0oJ3lhd2YtZW5hYmxlLWxvYWQtYnktc2VhcmNoJywgewogICAgICAgICd0aXRsZSc6IHV0aWwuc3RyLmZpbGwoJ3t7bG9hZFdlaWJvQnlTZWFyY2hXYXJuVGl0bGV9fScpLAogICAgICAgICd0ZXh0JzogdXRpbC5zdHIuZmlsbCgne3tsb2FkV2VpYm9CeVNlYXJjaFdhcm59fScpLAogICAgICAgICdvbk9rJzogZnVuY3Rpb24gKCkgeyB0aGF0LnB1dGNvbmYodHJ1ZSk7IH0sCiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICAvLyDlj5HnjrDlvZPliY3kuI3mmK/mkJzntKLvvIzlsLHot7PovazliLDmkJzntKLljrsKICAgIHZhciB1cGRhdGVMb2NhdGlvbiA9IGZ1bmN0aW9uIHJlZGlyZWN0SG9tZVdlaWJvVXNlU2VhcmNoKCkgewogICAgICAvLyDlj6rlnKjpppbpobXlt6XkvZwKICAgICAgdmFyIGhvbWVmZWVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Y2X3BsX2NvbnRlbnRfaG9tZWZlZWQnKTsKICAgICAgdmFyIG5vdGhvbWVmZWVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Y2X3BsX2NvbnRlbnRfY29tbWVudGxpc3QnKTsKICAgICAgaWYgKCFob21lZmVlZCAmJiAhbm90aG9tZWZlZWQpIHJldHVybjsKICAgICAgdmFyIGEgPSB1dGlsLmRvbS5jcmVhdGUoJ2EnLCAnJyk7IGEuaHJlZiA9IGxvY2F0aW9uLmhyZWY7CiAgICAgIC8vIOajgOafpeaYr+WQpua3u+WKoOS6hiBpc19zZWFyY2gg5YWz6ZSu6K+NCiAgICAgIHZhciBxdWVyeSA9IHV0aWwuc3RyLnBhcnNlcXVlcnkobG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpKTsKICAgICAgdmFyIGhhc19pc19zZWFyY2ggPSAnaXNfc2VhcmNoJyBpbiBxdWVyeTsKICAgICAgdmFyIGFsbF9zZWFyY2hfdHlwZXMgPSBbJ2lzX29yaScsICdpc19waWMnLCAnaXNfdmlkZW8nLCAnaXNfbXVzaWMnLCAnaXNfYXJ0aWNsZSddOwogICAgICB2YXIgaXNfb3RoZXJfc2VhcmNoID0gYWxsX3NlYXJjaF90eXBlcy5zb21lKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0IGluIHF1ZXJ5OyB9KTsKICAgICAgdmFyIGlzX3NlYXJjaF9uZWVkZWQgPSBob21lZmVlZCAmJiAhaXNfb3RoZXJfc2VhcmNoOwogICAgICBkbyB7CiAgICAgICAgaWYgKGhhc19pc19zZWFyY2ggJiYgaXNfc2VhcmNoX25lZWRlZCkgewogICAgICAgICAgLy8g5aaC5p6c5re75Yqg5LqGIGlzX3NlYXJjaO+8jOS9huaYr+W5tuayoeacieaQnOe0ouWFs+mUruivje+8jOmCo+S5iOmakOiXj+aOieaQnOe0ouWIsOWkmuWwkeadoeW+ruWNmueahOaPkOekuuS/oeaBrwogICAgICAgICAgaWYgKCdrZXlfd29yZCcgaW4gcXVlcnkpIGJyZWFrOwogICAgICAgICAgdmFyIHNlYXJjaFRpcCA9IGhvbWVmZWVkLnF1ZXJ5U2VsZWN0b3IoJy5XQl9yZXN1bHQnKTsKICAgICAgICAgIGlmIChzZWFyY2hUaXApIHNlYXJjaFRpcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNlYXJjaFRpcCk7CiAgICAgICAgfSBlbHNlIGlmIChoYXNfaXNfc2VhcmNoICYmICFpc19zZWFyY2hfbmVlZGVkKSB7CiAgICAgICAgICAvLyDor4TorrrpobXpnaLkuI3lupTor6Xkvb/nlKggaXNfc2VhcmNoIO+8jOS9huaYr+eCueWHu+Wwj+m7hOetvuaXtuS8muaciemXrumimO+8jOaJgOS7peWcqOi/memHjOWkhOeQhuS4gOS4iwogICAgICAgICAgZGVsZXRlIHF1ZXJ5LmlzX3NlYXJjaDsKICAgICAgICAgIGEuc2VhcmNoID0gJz8nICsgdXRpbC5zdHIudG9xdWVyeShxdWVyeSk7CiAgICAgICAgICBsb2NhdGlvbi5yZXBsYWNlKGEuaHJlZik7CiAgICAgICAgfSBlbHNlIGlmICghaGFzX2lzX3NlYXJjaCAmJiBpc19zZWFyY2hfbmVlZGVkKSB7CiAgICAgICAgICAvLyDlpoLmnpzmsqHmnInmt7vliqAgaXNfc2VhcmNoIO+8jOiAjOS4lOS4jeaYr+WIhue7hOOAgeS4jeaYr+aChOaChOWFs+azqO+8jOWImeiHquWKqOi3s+i9rOWIsCBpc19zZWFyY2gKICAgICAgICAgIGlmICgoJ2dpZCcgaW4gcXVlcnkpIHx8ICgnd2hpc3BlcicgaW4gcXVlcnkpKSBicmVhazsKICAgICAgICAgIHF1ZXJ5LmlzX3NlYXJjaCA9ICcxJzsKICAgICAgICAgIGEuc2VhcmNoID0gJz8nICsgdXRpbC5zdHIudG9xdWVyeShxdWVyeSk7CiAgICAgICAgICBsb2NhdGlvbi5yZXBsYWNlKGEuaHJlZik7CiAgICAgICAgfQogICAgICB9IHdoaWxlIChmYWxzZSk7CiAgICB9OwogICAgb2JzZXJ2ZXIuZG9tLmFkZCh1cGRhdGVMb2NhdGlvbik7CiAgICAvLyDnu5nmjIflkJHpppbpobXnmoTpk77mjqXliqDkuIogaXNfc2VhcmNoIOWPguaVsO+8jOWFjeWOu+abtOWkmueahOi3s+i9rAogICAgdmFyIHVwZGF0ZUhvbWVMaW5rc1dpdGhJc1NlYXJjaCA9IGZ1bmN0aW9uIHVwZGF0ZUhvbWVMaW5rc1dpdGhJc1NlYXJjaCgpIHsKICAgICAgdmFyIGxpbmtzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFsKICAgICAgICAnLmduX2xvZ28gYScsIC8vIOWvvOiIquagj2xvZ28KICAgICAgICAnYVtzdWRhLXVhdHJhY2sqPSJob21lcGFnZSJdJywgLy8g6aaW6aG16ZO+5o6l77yM5qC55o2u6Lef6Liq5qCH6K+G6K+G5Yir77yb6YCC55So5LqO6aG25qCP5ZKM5bem5qCPCiAgICAgICAgJyN2Nl9wbF9jb250ZW50X2hvbWVmZWVkIGFbYWN0aW9uLXR5cGU9InNlYXJjaF90eXBlIl1bYWN0aW9uLWRhdGE9InR5cGU9MCJdJywgLy8g6aaW6aG15raI5oGv5rWB6aG26YOo55qE4oCc5YWo6YOo4oCd6ZO+5o6lCiAgICAgIF0ubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICsgJzpub3QoW2hyZWYqPSJpc19zZWFyY2giXSknOyB9KS5qb2luKCcsJykpKTsKICAgICAgbGlua3MuZm9yRWFjaChmdW5jdGlvbiAobCkgewogICAgICAgIHZhciBzID0gdXRpbC5zdHIucGFyc2VxdWVyeShsLnNlYXJjaC5zbGljZSgxKSk7CiAgICAgICAgcy5pc19zZWFyY2ggPSAnMSc7CiAgICAgICAgbC5zZWFyY2ggPSB1dGlsLnN0ci50b3F1ZXJ5KHMpOwogICAgICB9KTsKICAgIH07CiAgICBvYnNlcnZlci5kb20uYWRkKHVwZGF0ZUhvbWVMaW5rc1dpdGhJc1NlYXJjaCk7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5iYXNlKTsKCi8vIOiEmuacrOW3peWFtwpmaWx0ZXIucHJlZGVmLnN1YnRpdGxlKCdiYXNlJywgJ3NjcmlwdHRvb2wnLCAne3tzY3JpcHRUb29sc1RpdGxlfX0nKTsKCi8vIOW/q+mAn+WIm+W7uui/h+a7pOWZqApmaWx0ZXIuaXRlbXMuYmFzZS5zY3JpcHR0b29sLnVzZV9mYXN0X2NyZWF0b3IgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3NjcmlwdHRvb2wnLAogICd2ZXJzaW9uJzogMzYsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLnVzZV9mYXN0X2NyZWF0b3InLAogICdkZWZhdWx0JzogdHJ1ZSwKICAndGV4dCc6ICd7e3VzZUZhc3RDcmVhdG9yfX0nLAogICdyZWYnOiB7ICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7dXNlRmFzdENyZWF0b3JEZXNjfX0nIH0gfSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICBmaWx0ZXIuZmFzdC5hY3RpdmUoKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmJhc2UpOwoKaWYgKCdjb250ZXh0TWVudScgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpIGZpbHRlci5pdGVtcy5iYXNlLnNjcmlwdHRvb2wudXNlX2NvbnRleHRfbWVudV9jcmVhdG9yID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdzY3JpcHR0b29sJywKICAndmVyc2lvbic6IDk5LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8udG9vbC51c2VfY29udGV4dF9tZW51X2NyZWF0b3InLAogICdkZWZhdWx0JzogdHJ1ZSwKICAndGV4dCc6ICd7e3VzZUNvbnRleHRNZW51Q3JlYXRvcn19JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e3VzZUNvbnRleHRNZW51Q3JlYXRvckRlc2N9fScgfSB9LAogICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIGZpbHRlci5mYXN0LnJpZ2h0LmFjdGl2ZSgpOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMuYmFzZSk7CgovLyDkv67mlLnop4TliJnlkI7ph43mlrDov4fmu6Top4TliJkKZmlsdGVyLml0ZW1zLmJhc2Uuc2NyaXB0dG9vbC5yZWZpbHRlciA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnc2NyaXB0dG9vbCcsCiAgJ3ZlcnNpb24nOiAyMTYsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2RlZmF1bHQnOiB0cnVlLAogICdrZXknOiAnd2VpYm8udG9vbC5yZWZpbHRlcicsCiAgJ3RleHQnOiAne3tyZWZpbHRlckFmdGVyUnVsZUVkaXRlZH19JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e3JlZmlsdGVyQWZ0ZXJSdWxlRWRpdGVkRGVzY319JyB9IH0sCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgdXRpbC5mdW5jLmNhbGwoZnVuY3Rpb24gKCkgewogICAgICB2YXIgcnVsZXMgPSBmaWx0ZXIuY29sbGVjdGlvbi5pdGVtLmxpc3QoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gISEoaXRlbS5rZXkgJiYgaXRlbS5ydWxlKTsKICAgICAgfSkuaXRlbXM7CiAgICAgIHJ1bGVzLmZvckVhY2goZnVuY3Rpb24gKHJ1bGUpIHsKICAgICAgICB1dGlsLmNvbmZpZy5vbnB1dChydWxlLmtleSwgb2JzZXJ2ZXIud2VpYm8ucmVmaWx0ZXIpOwogICAgICB9KTsKICAgIH0pOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMuYmFzZSk7CgovLyDlv6vpgJ/pmpDol4/mjInpkq4KZmlsdGVyLml0ZW1zLmJhc2Uuc2NyaXB0dG9vbC5mYXN0X2hpZGVfYnV0dG9uID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdzY3JpcHR0b29sJywKICAndmVyc2lvbic6IDI3OSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wuZmFzdF9oaWRlX2J1dHRvbicsCiAgJ3RleHQnOiAne3tmYXN0SGlkZUJ1dHRvbn19JywKICAncHJpb3JpdHknOiAxZTYsCiAgJ3JlZic6IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3tmYXN0SGlkZUJ1dHRvbkRlc2N9fScgfSB9LAogICdnZXRtaWRzJzogZnVuY3Rpb24gKCkgeyByZXR1cm4gSlNPTi5wYXJzZShHTV9nZXRWYWx1ZSh0aGlzLm1pZGtleSwgJ1tdJykpOyB9LAogICdwdXRtaWRzJzogZnVuY3Rpb24gKHZhbHVlKSB7IEdNX3NldFZhbHVlKHRoaXMubWlka2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpOyB9LAogICdydWxlJzogZnVuY3Rpb24gaGlkZGVuQnlNaWQoZmVlZCkgewogICAgaWYgKCF3ZWliby5mZWVkLmF1dGhvci5pZChmZWVkKSkgcmV0dXJuIG51bGw7CiAgICB2YXIgbWlkcyA9IHRoaXMuZ2V0bWlkcygpLCBtaWQgPSBmZWVkLmdldEF0dHJpYnV0ZSgnbWlkJyk7CiAgICBpZiAobWlkcy5pbmRleE9mKG1pZCkgIT09IC0xKSByZXR1cm4gJ2hpZGRlbic7CiAgICByZXR1cm4gbnVsbDsKICB9LAogICdpbml0JzogZnVuY3Rpb24gKCkgeyB0aGlzLm1pZGtleSA9ICd1c2VyJyArIHV0aWwuaW5mby51aWQgKyAnaGlkZGVuJzsgfSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICBvYnNlcnZlci53ZWliby5hZnRlcihmdW5jdGlvbiAoZmVlZCkgewogICAgICB2YXIgYXV0aG9ySWQgPSB3ZWliby5mZWVkLmF1dGhvci5pZChmZWVkKTsKICAgICAgaWYgKCFhdXRob3JJZCB8fCBhdXRob3JJZCA9PT0gdXRpbC5pbmZvLnVpZCkgcmV0dXJuOyAvLyDoh6rlt7HnmoTlvq7ljZrvvIzkuI3mmL7npLrmjInpkq4KICAgICAgaWYgKHV0aWwuZG9tLm1hdGNoZXMoZmVlZCwgJyN2Nl9wbF9jb250ZW50X2F0bWV3ZWlibyAqJykpIHJldHVybjsgLy8g5LiN5Zyo5o+Q5Yiw6aG16Z2i5pi+56S677yM6YG/5YWN5LiO4oCc5bGP6JS9YXTigJ3lj5HnlJ/mrafkuYkKICAgICAgaWYgKGZlZWQuaGFzQXR0cmlidXRlKCd5YXdmLWhpZGVfYm94JykpIHJldHVybjsgLy8g5bey57uP5pyJ5LqG5oyJ6ZKu77yM5LiN5pi+56S65oyJ6ZKuCiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbaWRePSJQbF9PZmZpY2lhbF9XZWlib0RldGFpbF9fIl0nKSkgcmV0dXJuOyAvLyDljZXmnaHlvq7ljZrpobXpnaLvvIzkuI3mmL7npLrmjInpkq4KICAgICAgaWYgKCFmZWVkLmhhc0F0dHJpYnV0ZSgnbWlkJykpIHJldHVybjsgLy8g5LiN5piv5b6u5Y2a77yM5LiN5pi+56S65oyJ6ZKuCiAgICAgIGZlZWQuc2V0QXR0cmlidXRlKCd5YXdmLWhpZGVfYm94JywgJ3lhd2YtaGlkZV9ib3gnKTsKICAgICAgdmFyIG1pZCA9IGZlZWQuZ2V0QXR0cmlidXRlKCdtaWQnKTsKICAgICAgdmFyIHNjcmVlbl9ib3ggPSBmZWVkLnF1ZXJ5U2VsZWN0b3IoJy5XQl9zY3JlZW4gLnNjcmVlbl9ib3gnKTsgaWYgKCFzY3JlZW5fYm94KSByZXR1cm47CiAgICAgIHZhciBoaWRlX2JveCA9IHV0aWwuZG9tLmNyZWF0ZSh1dGlsLnN0ci5maWxsKGh0bWwuaGlkZUJveFNpbXBsZSwgeyAnbWlkJzogbWlkIH0pKTsKICAgICAgc2NyZWVuX2JveC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShoaWRlX2JveCwgc2NyZWVuX2JveCk7CiAgICAgIGhpZGVfYm94LnF1ZXJ5U2VsZWN0b3IoJ2EnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICBmZWVkLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAndHJhbnNpdGlvbjogbWF4LWhlaWdodCBvcGFjaXR5IDAuMnM7IG1heC1oZWlnaHQ6ICcgKyBmZWVkLmNsaWVudEhlaWdodCArICdweDsgb3ZlcmZsb3c6IGhpZGRlbjsgcG9zaXRpb246IHJlbGF0aXZlOycpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBmZWVkLnN0eWxlLm1heEhlaWdodCA9ICcyMHB4JzsgfSwgMCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGZlZWQuc2V0QXR0cmlidXRlKCd5YXdmLWRpc3BsYXknLCAnZGlzcGxheS1oaWRkZW4nKTsgZmlsdGVyLmZpeC5oaWRkZW4oZmVlZCk7IH0sIDEwMCk7CiAgICAgICAgdmFyIG1pZHMgPSB0aGF0LmdldG1pZHMoKSwgaSA9IG1pZHMuaW5kZXhPZihtaWQpOwogICAgICAgIGlmIChpID09PSAtMSkgbWlkcy51bnNoaWZ0KG1pZCk7IGVsc2UgbWlkcyA9IG1pZHMuc3BsaWNlKDAsIDAsIG1pZHMuc3BsaWNlKGksIDEpWzBdKTsKICAgICAgICBpZiAobWlkcy5sZW5ndGggPiAxMDAwKSBtaWRzLmxlbmd0aCA9IDEwMDA7CiAgICAgICAgdGhhdC5wdXRtaWRzKG1pZHMpOwogICAgICB9KTsKICAgIH0pOwogICAgdXRpbC5jc3MuYWRkKHV0aWwuc3RyLmNtdChmdW5jdGlvbiAoKSB7IC8qIUNTUwogICAgICAuV0Jfc2NyZWVuIC55YXdmLWhpZGVfYm94IHsgbWFyZ2luOiAtMTBweCAwIDAgLTE3cHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgfQogICAgICAuV0Jfc2NyZWVuIC55YXdmLWhpZGVfYm94IC5XX2ZpY29uIHsgZm9udC1zaXplOiAxOHB4OyBoZWlnaHQ6IDE2cHg7IHBhZGRpbmc6IDRweCAwIDZweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9CiAgICAgIC5XQl9zY3JlZW4gLnlhd2YtaGlkZV9ib3ggfiAuc2NyZWVuX2JveCB7IG1hcmdpbjogLTEwcHggMCAwIC0zN3B4OyBwb3NpdGlvbjogYWJzb2x1dGU7IH0KICAgICAgLldCX3NjcmVlbiAueWF3Zi1oaWRlX2JveCB+IC5zY3JlZW5fYm94IC5XX2ZpY29uLCAuV0Jfc2NyZWVuIC55YXdmLWhpZGVfYm94IC5XX2ZpY29uIHsgd2lkdGg6IDIwcHg7IH0KICAgICAgLldCX3NjcmVlbiAueWF3Zi1oaWRlX2JveCB+IC5zY3JlZW5fYm94IC5sYXllcl9tZW51X2xpc3QgeyByaWdodDogLTRweDsgfQogICAgKi8gbm9vcCgpOyB9KSk7CiAgfQp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmJhc2UpOwoKLy8g56aB55So5b6u5Y2a5bu26L+f5Yqg6L29CmZpbHRlci5pdGVtcy5iYXNlLnNjcmlwdHRvb2wuZGlzYWJsZV9sYXp5bG9hZCA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnc2NyaXB0dG9vbCcsCiAgJ3ZlcnNpb24nOiAyNzksCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLmRpc2FibGVfbGF6eWxvYWQnLAogICd0ZXh0JzogJ3t7ZGlzYWJsZUxhenlMb2FkfX0nLAogICdyZWYnOiB7ICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7ZGlzYWJsZUxhenlMb2FkRGVzY319JyB9IH0sCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgdXRpbC5mdW5jLnBhZ2UoZnVuY3Rpb24gKCkgewogICAgICB2YXIgd2VpYm9Db3VudExpbWl0ID0gNTA7CiAgICAgIChmdW5jdGlvbiBkaXNhYmxlTGF6eUxvYWQoKSB7CiAgICAgICAgaWYgKHNlbGYgIT09IHRvcCkgcmV0dXJuOwogICAgICAgIGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Y2X3BsX2NvbnRlbnRfaG9tZWZlZWQgW25vZGUtdHlwZT0ibGF6eWxvYWQiXScpKSB7IHNldFRpbWVvdXQoZGlzYWJsZUxhenlMb2FkLCAxMDApOyByZXR1cm47IH0KICAgICAgICBpZiAodHlwZW9mIFNUSyA9PT0gdHlwZW9mIHZvaWQgMCB8fCAhU1RLLm5hbWVzcGFjZSkgc2V0VGltZW91dChkaXNhYmxlTGF6eUxvYWQsIDEwMCk7CiAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLldCX2ZlZWQnKS5sZW5ndGggPiB3ZWlib0NvdW50TGltaXQpIHJldHVybjsKICAgICAgICBlbHNlIFNUSy5uYW1lc3BhY2UoJ3Y2aG9tZScsIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICB2YXIgZmlyZSA9IG51bGw7CiAgICAgICAgICB0cnkgeyBmaXJlID0gYS5jb25mLmNoYW5uZWwud2luZG93LmZpcmU7IH0gY2F0Y2ggKGUpIHsgfQogICAgICAgICAgaWYgKCFmaXJlKSBzZXRUaW1lb3V0KGRpc2FibGVMYXp5TG9hZCwgMCk7CiAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdmFyIGQgPSB7IHNjcm9sbFRvcDogMCwgd2luSGVpZ2h0OiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCAqIDIgfTsKICAgICAgICAgICAgYS5jb25mLmNoYW5uZWwud2luZG93LmZpcmUoInNjcm9sbCIsIGQpOwogICAgICAgICAgICBzZXRUaW1lb3V0KGRpc2FibGVMYXp5TG9hZCwgMzAwKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSgpKTsKICAgIH0pOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMuYmFzZSk7CgovLyDliIbnu4TmtY/op4gKZmlsdGVyLnByZWRlZi5zdWJ0aXRsZSgnYmFzZScsICdncm91cGluZycsICd7e290aGVyR3JvdXBUaXRsZX19Jyk7CgovLyDliIbnu4TmtY/op4jkuI3lgZrmjInluJDlj7fpmpDol48KZmlsdGVyLml0ZW1zLmJhc2UuZ3JvdXBpbmcuZ3JvdXBfYWNjb3VudCA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnZ3JvdXBpbmcnLAogICd2ZXJzaW9uJzogMjUsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci5ncm91cF9hY2NvdW50JywKICAndGV4dCc6ICd7e2FjY291bnRCeUdyb3VwfX0nLAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmJhc2UpOwoKLy8g5YiG57uE5rWP6KeI5LiN5YGa5Yi35bGP5qOA5p+lCmZpbHRlci5pdGVtcy5iYXNlLmdyb3VwaW5nLmdyb3VwX3NhbWVfYWNjb3VudCA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnZ3JvdXBpbmcnLAogICd2ZXJzaW9uJzogMjUsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci5ncm91cF9zYW1lX2FjY291bnQnLAogICd0ZXh0JzogJ3t7c2FtZUFjY291bnRCeUdyb3VwfX0nLAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmJhc2UpOwoKLy8g6Ieq5Yqo6L295YWlCmZpbHRlci5wcmVkZWYuc3VidGl0bGUoJ2Jhc2UnLCAnYXV0b2xvYWQnLCAne3thdXRvTG9hZE5ld1dlaWJvVGl0bGV9fScpOwoKLy8g6Ieq5Yqo5Yqg6L295paw5b6u5Y2a5Lul6YG/5YWN6KKr6ZqQ6JeP5b6u5Y2a5pi+56S65paw5b6u5Y2a5o+Q56S6CmZpbHRlci5pdGVtcy5iYXNlLmF1dG9sb2FkLmF1dG9fbG9hZF9uZXdfd2VpYm8gPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2F1dG9sb2FkJywKICAndmVyc2lvbic6IDQ0LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8ub3RoZXIuYXV0b19sb2FkX25ld193ZWlibycsCiAgJ3RleHQnOiAne3thdXRvTG9hZE5ld1dlaWJvfX17ezxpPn19JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e2F1dG9Mb2FkTmV3V2VpYm9EZXNjfX0nIH0gfSwKICAvLyDlsZXlvIDmlrDlvq7ljZrlkI7mt7vliqDlkozml6flvq7ljZrnmoTliIblibLnur8KICAndGltZXRpcCc6IChmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZTAgPSBuZXcgRGF0ZSgpLCB0aXAgPSBudWxsOwogICAgcmV0dXJuIGZ1bmN0aW9uIChmZWVkKSB7CiAgICAgIHZhciB0aW1lID0gdGltZTA7IHRpbWUwID0gbmV3IERhdGUoKTsKICAgICAgdmFyIHRleHQgPSAne3t0aW1lUmVhZEhlcmV9fSc7CiAgICAgIGlmICh0aXAgJiYgdGlwLnBhcmVudE5vZGUpIHRpcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRpcCk7CiAgICAgIHRpcCA9IHV0aWwuZG9tLmNyZWF0ZSh1dGlsLnN0ci5maWxsKGh0bWwuZmVlZFRpbWVUaXAsIHsgJ3RpbWUnOiB0ZXh0LCAnZGF0ZSc6IFN0cmluZyhOdW1iZXIodGltZSkpIH0pKTsKICAgICAgZmVlZC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aXAsIGZlZWQubmV4dFNpYmxpbmcpOwogICAgfTsKICB9KCkpLAogIC8vIOaYvuekuuaWsOeahOW+ruWNmgogICdzaG93TmV3JzogZnVuY3Rpb24gKCkgewogICAgdmFyIG5ld0ZlZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhLm5vdGVzW3lhd2YtaWQ9ImZlZWRfbGlzdF9uZXdCYXIiXSwgZGl2LldCX25vdGVzW3lhd2YtaWQ9ImhvbWVfbmV3X2ZlZWRfdGlwIl0nKTsgaWYgKCFuZXdGZWVkKSByZXR1cm47CiAgICB2YXIgZmVlZHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5XQl9mZWVkPi5XQl9mZWVkX3R5cGVbeWF3Zi11bnJlYWQ9ImhpZGRlbiJdJykpOwogICAgZmVlZHMuZm9yRWFjaChmdW5jdGlvbiAoZmVlZCkgewogICAgICBmZWVkLnNldEF0dHJpYnV0ZSgneWF3Zi11bnJlYWQnLCAnc2hvdycpOwogICAgICBmZWVkLmNsYXNzTGlzdC5yZW1vdmUoJ1dCX2ZlZWRfbmV3Jyk7CiAgICB9KTsKICAgIHRoaXMuY291bnRlcigpOwogICAgdGhpcy50aW1ldGlwKGZlZWRzW2ZlZWRzLmxlbmd0aCAtIDFdKTsKICB9LAogIC8vIOaYvuekuuacquivu+aPkOekugogICdjb3VudGVyJzogZnVuY3Rpb24gKCkgewogICAgdmFyIGNvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgKICAgICAgJy5XQl9mZWVkPi5XQl9mZWVkX3R5cGVbeWF3Zi11bnJlYWQ9ImhpZGRlbiJdOm5vdChbeWF3Zi1kaXNwbGF5JD0iLWhpZGRlbiJdKTpub3QoW3lhd2YtZGlzcGxheSQ9Ii1zb24iXSknICsgJywnICsKICAgICAgJy5XQl9mZWVkPi5XQl9mZWVkX3R5cGVfYm94X3Q+LldCX2ZlZWRfdHlwZVt5YXdmLXVucmVhZD0iaGlkZGVuIl06bm90KFt5YXdmLWRpc3BsYXkkPSItaGlkZGVuIl0pOm5vdChbeWF3Zi1kaXNwbGF5JD0iLXNvbiJdKScKICAgICkubGVuZ3RoOwogICAgdmFyIGZlZWRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLldCX2ZlZWQnKTsKICAgIHZhciBuZXdGZWVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYS5ub3Rlc1t5YXdmLWlkPSJmZWVkX2xpc3RfbmV3QmFyIl0sIGRpdi5XQl9ub3Rlc1t5YXdmLWlkPSJob21lX25ld19mZWVkX3RpcCJdJyk7CiAgICB1dGlsLmRlYnVnKCdjb3VudGVyOiAlZCBmZWVkcyBjbGljayB0byBzaG93JywgY291bnQpOwogICAgLy8g5YWI56e76Zmk5pen55qE77yM5YaN5pS+5LiK5paw55qECiAgICBpZiAobmV3RmVlZCkgbmV3RmVlZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5ld0ZlZWQpOwogICAgaWYgKGNvdW50KSB7CiAgICAgIG5ld0ZlZWQgPSB1dGlsLmRvbS5jcmVhdGUoaHRtbC5mZWVkTGlzdE5ld0Jhcik7CiAgICAgIGZlZWRMaXN0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld0ZlZWQsIGZlZWRMaXN0KTsKICAgICAgbmV3RmVlZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2hvd05ldy5iaW5kKHRoaXMpKTsKICAgICAgbmV3RmVlZC5maXJzdENoaWxkLnRleHRDb250ZW50ID0gdXRpbC5zdHIuZmlsbCh0ZXh0Lm5ld1dlaWJvTm90aWZ5LCB7ICdjb3VudCc6IGNvdW50IH0pOwogICAgfQogICAgcmV0dXJuIGNvdW50OwogIH0sCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgLy8g5pu05paw5pyq6K+75o+Q56S65Lit55qE5pWw5a2XCiAgICAvLyDpmpDol4/mjonlvq7ljZrljp/mnaXnmoTmlrDmtojmga/mj5DnpLrmoYYKICAgIHV0aWwuY3NzLmFkZCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgW3lhd2YtdW5yZWFkPSJoaWRkZW4iXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfQogICAgICAuV0JfZmVlZCBbbm9kZS10eXBlPSJmZWVkX2xpc3RfdGltZVRpcCJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAgIC5XQl9mZWVkIGEubm90ZXNbYWN0aW9uLXR5cGU9ImZlZWRfbGlzdF9uZXdCYXIiXVtub2RlLXR5cGU9ImZlZWRfbGlzdF9uZXdCYXIiXSB7IGRpc3BsYXk6IG5vbmU7IH0KICAgICAgLldCX2ZlZWQgZGl2LldfbG9hZGluZ1tyZXF1ZXN0dHlwZT0ibmV3RmVlZCJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAgIC5XQl9mZWVkIC5XQl9ub3Rlc1tyZXF1ZXN0dHlwZT0ibmV3RmVlZCJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAgIC5XQl9mZWVkIFtub2RlLXR5cGU9Imxhenlsb2FkIl06bm90KDpsYXN0LWNoaWxkKSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfQogICAgKi8gbm9vcCgpOyB9KSk7CgogICAgdmFyIGxvYWRLZXkgPSB1dGlsLmtleWJvYXJkLmNvZGUuUEVSSU9EOwoKICAgIC8vIOiHquWKqOeCueW8gOacieaWsOW+ruWNmueahOaPkOekugogICAgLy8g5oiR55+l6YGT5oiR5Zyo5bmy5LuA5LmICiAgICAvLyBUT0RPIHVzZSB1dGlsLmZ1bmMud3JhcHN0ayBpbnN0ZWFkCiAgICB1dGlsLmZ1bmMucGFnZShmdW5jdGlvbiAkWUFXRiRfYXV0b0xvYWROZXdGZWVkKCkgewogICAgICBpZiAoIXdpbmRvdy5TVEsgfHwgIVNUSy5uYW1lc3BhY2UpIHNldFRpbWVvdXQoJFlBV0YkX2F1dG9Mb2FkTmV3RmVlZCwgMTAwKTsKICAgICAgZWxzZSBTVEsubmFtZXNwYWNlKCJ2NmhvbWUiLCBmdW5jdGlvbiAoYSkgewogICAgICAgIC8qIFNUSy5saWIuZmVlZC5pbnRlciAqLwogICAgICAgIHZhciBhY3Rpb24gPSBmdW5jdGlvbiAoYiwgZSkgewogICAgICAgICAgdmFyIGMgPSBhLmNvcmUuanNvbi5tZXJnZSwKICAgICAgICAgICAgaiA9IGVbMl0gfHwge30sCiAgICAgICAgICAgIGsgPSBhLnF1ZXJ5VG9Kc29uKHdpbmRvdy5GTS5nZXRVUkwoKS5xdWVyeSksCiAgICAgICAgICAgIGcgPSBhLmNvbmYudHJhbnMuZmVlZC5mZWVkLAogICAgICAgICAgICBoID0gYS5jb3JlLm9iai5wYXJzZVBhcmFtKHsKICAgICAgICAgICAgICBsb2FkRmVlZFRyYW5zS2V5OiAiZ2V0ZmVlZCIsCiAgICAgICAgICAgICAgcGxOb2RlOiBudWxsCiAgICAgICAgICAgIH0sIGUpOwogICAgICAgICAgdmFyIGQgPSBmdW5jdGlvbiAoYikgewogICAgICAgICAgICB2YXIgYyA9IGEuQygiZGl2Iik7CiAgICAgICAgICAgIGMuaW5uZXJIVE1MID0gYjsKICAgICAgICAgICAgd2luZG93LldCRVhQICYmIHdpbmRvdy5XQkVYUC5zdGFydChjKTsKICAgICAgICAgICAgYyA9IG51bGw7CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIGwgPSBjKGssIHsgc2luY2VfaWQ6IGIuZ2V0RW5kSWQoKSB9KTsKICAgICAgICAgIGcucmVxdWVzdChoLmxvYWRGZWVkVHJhbnNLZXksIHsKICAgICAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiAoYSkgeyBiLnVwZGF0ZUZlZWQoYS5kYXRhLCAidG9wIiwgIm5ld0ZlZWQiKTsgZChhLmRhdGEpOyB9LAogICAgICAgICAgICBvbkZhaWw6IGZ1bmN0aW9uICgpIHsgYi5zaG93RXJyb3IoInRvcCIsICJuZXdGZWVkIik7IH0sCiAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uICgpIHsgYi5zaG93RXJyb3IoInRvcCIsICJuZXdGZWVkIik7IH0KICAgICAgICAgIH0sIGMobCwgaikpOwogICAgICAgIH07CiAgICAgICAgLyogU1RLLmxpYi5mZWVkLmJhc2UgKi8KICAgICAgICB2YXIgYmFzZSA9IGZ1bmN0aW9uIChiLCBjKSB7CiAgICAgICAgICB2YXIgZCA9IHt9LCBlID0gYS5saWIuZmVlZC5BUEkoYiwgYyk7CiAgICAgICAgICBmb3IgKHZhciBmIGluIGUpICFkW2ZdICYmIChkW2ZdID0gZVtmXSk7IC8qIGFzIGlzICovCiAgICAgICAgICBhY3Rpb24oZCwgYyk7CiAgICAgICAgfTsKICAgICAgICAvKiBTVEsucGwuY29udGVudC5ob21lZmVlZC5zb3VyY2UuaG9tZWZlZWQuZmVlZExpc3QgKi8KICAgICAgICB2YXIgZmVlZExpc3QgPSBmdW5jdGlvbiAoYikgewogICAgICAgICAgYmFzZShiLCB7IHBsTm9kZTogYiB9KTsKICAgICAgICB9OwogICAgICAgIC8qIGNoZWNrIGZvciBob21lX25ld19mZWVkX3RpcCBhbmQgYXV0byBsb2FkIG5ldyBmZWVkcy4uLiAqLwogICAgICAgIHZhciBwZW5kaW5nID0gZmFsc2U7CiAgICAgICAgKG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICAgIHZhciB0aXAgPSBhLnNpenpsZSgnI2hvbWVfbmV3X2ZlZWRfdGlwJyk7CiAgICAgICAgICBpZiAoIXRpcC5sZW5ndGgpIHJldHVybjsKICAgICAgICAgIGEucmVtb3ZlTm9kZSh0aXBbMF0pOwogICAgICAgICAgaWYgKHBlbmRpbmcpIHJldHVybjsgcGVuZGluZyA9IHRydWU7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlOwogICAgICAgICAgICBmZWVkTGlzdChhLnNpenpsZSgnI3Y2X3BsX2NvbnRlbnRfaG9tZWZlZWQnKVswXSk7CiAgICAgICAgICB9LCAxMDApOwogICAgICAgIH0pKS5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHsgJ2NoaWxkTGlzdCc6IHRydWUsICdzdWJ0cmVlJzogdHJ1ZSB9KTsKICAgICAgfSk7CiAgICB9KTsKCiAgICAvLyDnnIvop4HmnInmlrDlvq7ljZrkuobvvIznnIvnnIvmmK/kuI3mmK/mlrDliqDovb3lh7rmnaXnmoQKICAgIG9ic2VydmVyLndlaWJvLm9ubG9hZChmdW5jdGlvbiAoZmVlZCkgewogICAgICB2YXIgZmVlZHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5XQl9mZWVkIC5XQl9mZWVkX3R5cGUnKSk7CiAgICAgIHZhciBzaG93biA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLldCX2ZlZWRfdHlwZVt5YXdmLXVucmVhZD0ic2hvdyJdLCAuV0JfZmVlZF90eXBlW3lhd2YtdW5yZWFkPSJzaG93Il1+LldCX2ZlZWRfdHlwZSwgLldCX2ZlZWRfdHlwZVt5YXdmLXVucmVhZD0ic2hvdyJdfiogLldCX2ZlZWRfdHlwZScpKTsKICAgICAgaWYgKGZlZWRzLmluZGV4T2YoZmVlZCkgPT09IC0xKSBmZWVkLnNldEF0dHJpYnV0ZSgneWF3Zi11bnJlYWQnLCAnc2hvdycpOwogICAgICBlbHNlIGlmIChzaG93bi5sZW5ndGggPCA4IHx8IHNob3duLmluZGV4T2YoZmVlZCkgIT09IC0xKSBmZWVkLnNldEF0dHJpYnV0ZSgneWF3Zi11bnJlYWQnLCAnc2hvdycpOwogICAgICBlbHNlIGZlZWQuc2V0QXR0cmlidXRlKCd5YXdmLXVucmVhZCcsICdoaWRkZW4nKTsKICAgIH0pOwoKICAgIC8vIOi1sOWujOi/h+a7pOWZqOS5i+WQju+8jOWmguaenOafkOadoeW+ruWNmui/mOayoeiiq+makOiXj+aOie+8jOmCo+S5iOWwseaPkOekuueUqOaIt+acieaWsOW+ruWNmuimgeeci+S6hgogICAgb2JzZXJ2ZXIud2VpYm8uYWZ0ZXIoZnVuY3Rpb24gKGZlZWQpIHsKICAgICAgaWYgKGZlZWQuZ2V0QXR0cmlidXRlKCd5YXdmLXVucmVhZCcpICE9PSAnaGlkZGVuJykgcmV0dXJuOwogICAgICB2YXIgZGlzcGxheSA9IGZlZWQuZ2V0QXR0cmlidXRlKCd5YXdmLWRpc3BsYXknKS5yZXBsYWNlKC9eLiotKFteLV0qKSQvLCAnJDEnKTsKICAgICAgaWYgKGRpc3BsYXkgPT09ICdoaWRkZW4nKSByZXR1cm47CiAgICAgIHV0aWwuZnVuYy5jYWxsKGZ1bmN0aW9uICgpIHsgZmlsdGVyLml0ZW1zLmJhc2UuYXV0b2xvYWQuYXV0b19leHBhbmQuZXhwYW5kKGZlZWQpOyB9KTsKICAgICAgaWYgKGZpbHRlci5pdGVtcy5iYXNlLmF1dG9sb2FkLmRlc2t0b3Bfbm90aWZpY2F0aW9uKQogICAgICAgIGZpbHRlci5pdGVtcy5iYXNlLmF1dG9sb2FkLmRlc2t0b3Bfbm90aWZpY2F0aW9uLm5vdGlmeShmZWVkKTsKICAgIH0pOwoKICAgIC8vIOWFqOmDvei/h+a7pOWujOaIkOWQjuimgeabtOaWsOiuoeaVsAogICAgb2JzZXJ2ZXIud2VpYm8uZG9uZShmdW5jdGlvbiAoKSB7IHRoYXQuY291bnRlcigpOyB9KTsKCiAgICAvLyDlhYHorrjmjInlr7nlupTmjInplK7mmL7npLrmlrDlvq7ljZoKICAgIHV0aWwua2V5Ym9hcmQucmVnKCdrZXl1cCcsIGxvYWRLZXksIGZ1bmN0aW9uICgpIHsgdGhhdC5zaG93TmV3KCk7IH0sIHRydWUpOwoKICB9LAogIC8vIOmakOiXj+mHjeWkjeW+ruWNmgogICdwcmlvcml0eSc6IDFlNiwgLy8g5pyA6auY55qE5LyY5YWI57qnCiAgJ3J1bGUnOiBmdW5jdGlvbiBoaWRlRHVwbGljYXRlKGZlZWQpIHsKICAgIGlmIChmZWVkLmdldEF0dHJpYnV0ZSgneWF3Zi1kaXNwbGF5JykpIHJldHVybiBudWxsOwogICAgdmFyIG1pZCA9IGZlZWQuZ2V0QXR0cmlidXRlKCdtaWQnKTsgaWYgKCFtaWQpIHJldHVybiBudWxsOwogICAgdmFyIGFub3RoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbm9kZS10eXBlPSJmZWVkX2xpc3QiXSAuV0JfZmVlZF90eXBlW21pZD0iJyArIG1pZCArICciXVt5YXdmLWRpc3BsYXldJyk7CiAgICBpZiAoYW5vdGhlcikgcmV0dXJuICdkdXBsaWNhdGUtaGlkZGVuJzsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmJhc2UpOwoKZmlsdGVyLml0ZW1zLmJhc2UuYXV0b2xvYWQuYXV0b19leHBhbmQgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2F1dG9sb2FkJywKICAndmVyc2lvbic6IDQ2LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8ub3RoZXIuYXV0b19leHBhbmQnLAogICd0ZXh0JzogJ3t7YXV0b0V4cGFuZH19JywKICAncmVmJzogewogICAgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3thdXRvRXhwYW5kRGVzY319JyB9LAogICAgJ2V0eXBlcyc6IHsKICAgICAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgICB9LAogICAgJ2JhY2tncm91bmQnOiB7CiAgICAgICd0eXBlJzogJ2Jvb2xlYW4nLAogICAgICAnZGVmYXVsdCc6IHRydWUsCiAgICB9LAogIH0sCiAgJ2V4cGFuZCc6IGZ1bmN0aW9uIChmZWVkLCBmb3JjZSkgewogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgdmFyIGRpc3BsYXkgPSBmZWVkLmdldEF0dHJpYnV0ZSgneWF3Zi1kaXNwbGF5JykucmVwbGFjZSgvXi4qLShbXi1dKikkLywgJyQxJyk7CiAgICB2YXIgYWN0ID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdW5yZWFkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5XQl9mZWVkX3R5cGVbeWF3Zi11bnJlYWQ9ImhpZGRlbiJdJyk7CiAgICAgIHZhciByZWYgPSB1bnJlYWRzW3VucmVhZHMubGVuZ3RoIC0gMV07CiAgICAgIHJlZi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmZWVkLCByZWYubmV4dFNpYmxpbmcpOwogICAgICBmZWVkLnNldEF0dHJpYnV0ZSgneWF3Zi11bnJlYWQnLCAnc2hvdycpOwogICAgICBmaWx0ZXIuaXRlbXMuYmFzZS5hdXRvbG9hZC5hdXRvX2xvYWRfbmV3X3dlaWJvLmNvdW50ZXIoKTsKICAgIH07CiAgICBpZiAoZmVlZC5nZXRBdHRyaWJ1dGUoJ3lhd2YtdW5yZWFkJykgIT09ICdoaWRkZW4nKSByZXR1cm47CiAgICBpZiAoZm9yY2UpIHJldHVybiBhY3QoKTsKICAgIGlmICh3ZWliby5mZWVkLmF1dGhvci5pZChmZWVkKSA9PT0gdXRpbC5pbmZvLnVpZCkgcmV0dXJuIGFjdCgpOyAvLyDmgLvmmK/kuI3mipjlj6Doh6rlt7HnmoTlvq7ljZoKICAgIGlmICghdGhhdC5jb25mKSByZXR1cm47CiAgICBpZiAodGhhdC5yZWYuZXR5cGVzLmNvbmYgJiYgZGlzcGxheSAhPT0gJ3Nob3cnKSByZXR1cm47CiAgICBpZiAodGhhdC5yZWYuYmFja2dyb3VuZC5jb25mICYmIGRvY3VtZW50Lmhhc0ZvY3VzKCkpIHsKICAgICAgdmFyIG9uYmx1ciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBmaWx0ZXIuaXRlbXMuYmFzZS5hdXRvbG9hZC5hdXRvX2V4cGFuZC5leHBhbmQoZmVlZCk7CiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIG9uYmx1cik7CiAgICAgIH07CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBvbmJsdXIpOwogICAgfSBlbHNlIGFjdCgpOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMuYmFzZSk7CgpmaWx0ZXIuaXRlbXMuYmFzZS5hdXRvbG9hZC5kZXNrdG9wX25vdGlmaWNhdGlvbiA9IG51bGw7CgppZiAodXRpbC5ub3RpZnkuYXZhbGlhYmxlTm90aWZpY2F0aW9uKCkubGVuZ3RoKSBmaWx0ZXIuaXRlbXMuYmFzZS5hdXRvbG9hZC5kZXNrdG9wX25vdGlmaWNhdGlvbiA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnYXV0b2xvYWQnLAogICd2ZXJzaW9uJzogNDYsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci5kZXNrdG9wX25vdGlmaWNhdGlvbicsCiAgJ3RleHQnOiAne3tkZXNrdG9wTm90aWZpY2F0aW9ufX0nLAogICdyZWYnOiB7CiAgICAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e2Rlc2t0b3BOb3RpZmljYXRpb25EZXNjfX0nIH0sCiAgICAndHlwZXMnOiB7CiAgICAgICd0eXBlJzogJ2Jvb2xlYW4nLAogICAgICAnZGVmYXVsdCc6IHRydWUsCiAgICB9LAogICAgJ2F1dG9oaWRlJzogewogICAgICAndHlwZSc6ICdib29sZWFuJywKICAgICAgJ2RlZmF1bHQnOiB0cnVlLAogICAgfSwKICAgICdzaG9ydGVuJzogewogICAgICAndHlwZSc6ICdib29sZWFuJywKICAgIH0sCiAgICAnc2hvcnRsZW4nOiB7CiAgICAgICd0eXBlJzogJ3JhbmdlJywKICAgICAgJ21pbic6IDAsCiAgICAgICdtYXgnOiA2MDAsCiAgICAgICdkZWZhdWx0JzogNTAsCiAgICB9LAogICAgJ2R1cmF0aW9uJzogewogICAgICAndHlwZSc6ICdyYW5nZScsCiAgICAgICdzdGVwJzogNTAsCiAgICAgICdtaW4nOiAxZTMsCiAgICAgICdkZWZhdWx0JzogM2UzLAogICAgICAnbWF4JzogMWU0LAogICAgfSwKICAgICdkdXJhdGlvbmMnOiB7CiAgICAgICd0eXBlJzogJ3JhbmdlJywKICAgICAgJ3N0ZXAnOiAxMCwKICAgICAgJ21pbic6IDAsCiAgICAgICdkZWZhdWx0JzogMTUwLAogICAgICAnbWF4JzogNTAwLAogICAgfSwKICAgICdudHlwZXMnOiB7CiAgICAgICd0eXBlJzogJ2Jvb2xlYW4nLAogICAgfSwKICB9LAogICdzaG93bic6IGZ1bmN0aW9uIChkb20pIHsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHRoYXQub25vcHQgPSBkb20ucXVlcnlTZWxlY3RvcignW25hbWU9Inlhd2Ytd2VpYm8ub3RoZXIuZGVza3RvcF9ub3RpZmljYXRpb24iXScpOwogICAgdGhhdC5vbm9wdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGF0LnVwZGF0ZS5iaW5kKHRoYXQpKTsKICAgIHZhciBudHlwZXMgPSBkb20ucXVlcnlTZWxlY3RvcignW25hbWU9Inlhd2Ytd2VpYm8ub3RoZXIuZGVza3RvcF9ub3RpZmljYXRpb24ubnR5cGVzIl0nKTsKICAgIGlmICh1dGlsLm5vdGlmeS5hdmFsaWFibGVOb3RpZmljYXRpb24oKS5sZW5ndGggPD0gMSkgewogICAgICB3aGlsZSAobnR5cGVzLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2xhYmVsJykgbnR5cGVzID0gbnR5cGVzLnBhcmVudE5vZGU7CiAgICAgIG50eXBlcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgfSBlbHNlIG50eXBlcy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHRoYXQucmVmLm50eXBlcy5wdXRjb25mKG50eXBlcy5jaGVja2VkKTsKICAgICAgdGhhdC51cGRhdGUoKTsKICAgIH0pOwogICAgLy8g5aaC5p6c5rKh5pyJ5p2D6ZmQ55qE6K+d77yM5oC75piv6KaB5pi+56S65YWz6Zet55qE54q25oCBCiAgICBpZiAoIXV0aWwubm90aWZ5Lmhhc1Blcm1pc3Npb24oKSkgdGhhdC5vbm9wdC5jaGVja2VkID0gZmFsc2U7CiAgfSwKICAnaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIHV0aWwubm90aWZ5LmNob3NlTm90aWZpY2F0aW9uKHRoaXMucmVmLm50eXBlcy5jb25mID8gJ3dlYmtpdCcgOiAnc3RhbmRhcmQnKTsKICB9LAogICd1cGRhdGUnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGhhdCA9IHRoaXMsIGRlc2t0b3BOb3RpZnkgPSB0aGF0Lm9ub3B0OwogICAgdGhhdC5pbml0KCk7CiAgICBpZiAoIWRlc2t0b3BOb3RpZnkuY2hlY2tlZCkgcmV0dXJuOwogICAgdmFyIHBlcm1pc3Npb24gPSB1dGlsLm5vdGlmeS5oYXNQZXJtaXNzaW9uKCk7CiAgICBpZiAocGVybWlzc2lvbiA9PT0gdHJ1ZSkgcmV0dXJuOwogICAgZGVza3RvcE5vdGlmeS5jaGVja2VkID0gZmFsc2U7CiAgICBpZiAocGVybWlzc2lvbiA9PT0gbnVsbCkgdXRpbC5ub3RpZnkucmVxdWVzdFBlcm1pc3Npb24oZnVuY3Rpb24gKCkgewogICAgICBkZXNrdG9wTm90aWZ5LmNoZWNrZWQgPSB0cnVlOwogICAgICB0aGF0LnVwZGF0ZSgpOwogICAgfSk7CiAgICBpZiAocGVybWlzc2lvbiA9PT0gZmFsc2UpIHV0aWwudWkuYWxlcnQoJ25vdGlmeS1kaXNhYmxlZCcsIHsKICAgICAgJ3RpdGxlJzogdXRpbC5zdHIuZmlsbCgne3tkZXNrdG9wTm90aWZpY2F0aW9uRGlzYWxsb3dlZFRpdGxlfX0nKSwKICAgICAgJ3RleHQnOiB1dGlsLnN0ci5maWxsKCd7e2Rlc2t0b3BOb3RpZmljYXRpb25EaXNhbGxvd2VkfX0nKSwKICAgICAgJ2ljb24nOiAnZXJyb3InCiAgICB9KTsKICB9LAogICdub3RpZnknOiBmdW5jdGlvbiAoZmVlZCkgewogICAgdmFyIGRpc3BsYXkgPSBmZWVkLmdldEF0dHJpYnV0ZSgneWF3Zi1kaXNwbGF5JykucmVwbGFjZSgvXi4qLShbXi1dKikkLywgJyQxJyk7CiAgICB0aGlzLmluaXQoKTsgaWYgKCF0aGlzLmNvbmYpIHJldHVybjsKICAgIGlmICh0aGlzLnJlZi50eXBlcy5jb25mICYmIGRpc3BsYXkgIT09ICdzaG93JykgcmV0dXJuOwogICAgdmFyIG1pZCwgYXV0aG9yLCB0ZXh0LCBmYWNlLCBvcmlfYXV0aG9yID0gJycsIG9yaV90ZXh0ID0gJyc7CiAgICBtaWQgPSBmZWVkLmdldEF0dHJpYnV0ZSgnbWlkJyk7IGlmICghbWlkKSByZXR1cm47CiAgICBmYWNlID0gd2VpYm8uZmVlZC5hdmF0YXIoZmVlZCk7CiAgICBhdXRob3IgPSB3ZWliby5mZWVkLmF1dGhvci5uYW1lKGZlZWQpOwogICAgdGV4dCA9IGZlZWQucXVlcnlTZWxlY3RvcignLldCX3RleHQnKS50ZXh0Q29udGVudDsKICAgIHRyeSB7CiAgICAgIG9yaV9hdXRob3IgPSB3ZWliby5mZWVkLm9yaWdpbmFsLm5hbWUoZmVlZCk7CiAgICAgIG9yaV90ZXh0ID0gd2VpYm8uZmVlZC5vcmlnaW5hbC50ZXh0KGZlZWQpOwogICAgfSBjYXRjaCAoZSkgeyB9CiAgICB2YXIgYm9keSA9IHRleHQgKyAob3JpX3RleHQgPyAoJy8vJyArIG9yaV9hdXRob3IgKyAnOiAnICsgb3JpX3RleHQpIDogJycpOwogICAgYm9keSA9IGJvZHkucmVwbGFjZSgvXHMrL2csICcgJykudHJpbSgpOyBhdXRob3IgPSBhdXRob3IudHJpbSgpOwogICAgaWYgKHRoaXMucmVmLnNob3J0ZW4uY29uZikgYm9keSA9IGJvZHkuc2xpY2UoMCwgdGhpcy5yZWYuc2hvcnRsZW4uY29uZik7CiAgICB2YXIgZGVsYXkgPSAwOwogICAgaWYgKHRoaXMuY29uZikgZGVsYXkgPSB0aGlzLnJlZi5kdXJhdGlvbi5jb25mICsgYm9keS5sZW5ndGggKiB0aGlzLnJlZi5kdXJhdGlvbmMuY29uZjsKICAgIHZhciBzaG93RmVlZCA9IHV0aWwuZnVuYy5jYXRjaGVkKGZ1bmN0aW9uICgpIHsKICAgICAgZmlsdGVyLml0ZW1zLmJhc2UuYXV0b2xvYWQuYXV0b19leHBhbmQuZXhwYW5kKGZlZWQsIHRydWUpOwogICAgICB1dGlsLm5vdGlmeS5oaWRlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikKICAgICAgdXRpbC5mdW5jLmNhbGwoZnVuY3Rpb24gKCkgewogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgKz0gZmVlZC5nZXRDbGllbnRSZWN0cygpWzBdLnRvcCAtIDgwOwogICAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgiS2V5Ym9hcmRFdmVudCIpOwogICAgICAgIGV2dC5pbml0S2V5RXZlbnQoJ2tleWRvd24nLCB0cnVlLCB0cnVlLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgdXRpbC5rZXlib2FyZC5jb2RlLkosIDApOwogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2dCk7CiAgICAgIH0pOwogICAgICB3aW5kb3cuZm9jdXMoKTsKICAgIH0pOwogICAgdmFyIG5vdGlmaWNhdGlvbiA9IHV0aWwubm90aWZ5LnNob3dOb3RpZmljYXRpb24obWlkLCBhdXRob3IsIGJvZHksIGZhY2UsIGRlbGF5LCBzaG93RmVlZCk7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5iYXNlKTsKCi8vIOaPkOekuueBq+eLkOeUqOaIt+ahjOmdouaPkOekuumXrumimAppZiAodXRpbC5ub3RpZnkuYXZhbGlhYmxlTm90aWZpY2F0aW9uKCkubGVuZ3RoICYmCiAgdXRpbC5icm93c2VyLmZ4LmF2YWxpYWJsZSAmJgogIHV0aWwuYnJvd3Nlci5meC5tYWludmVyc2lvbiA8IDQ0KSB7CiAgZmlsdGVyLml0ZW1zLmJhc2UuYXV0b2xvYWQucmVtYXJrID0gZmlsdGVyLml0ZW0oewogICAgJ2dyb3VwJzogJ2F1dG9sb2FkJywKICAgICd0eXBlJzogJ3JlbWFyaycsCiAgICAndGV4dCc6ICd7e2F1dG9DbG9zZVdhcm5pbmd9fScsCiAgfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5iYXNlKTsKfQoKLy8g5oyJ5YaF5a656L+H5rukCmZpbHRlci5wcmVkZWYuZ3JvdXAoJ2NvbnRlbnQnKS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmJhc2UpOwoKLy8g5YWz6ZSu5a2X6L+H5rukCmZpbHRlci5wcmVkZWYud2JmYyh7CiAgJ25hbWUnOiAna2V5d29yZCcsCiAgJ3ZlcnNpb24nOiAxLAogICdhZGQnOiBmdW5jdGlvbiAocykgeyByZXR1cm4gcy50cmltKCkgfHwgbnVsbDsgfSwKICAncnVsZSc6IGZ1bmN0aW9uIGtleXdvcmRNYXRjaChhY3Rpb24sIGZlZWQpIHsKICAgIHZhciBrZXl3b3JkcyA9IHRoaXMuY29uZi5jb25jYXQodGhpcy5leHRlbnQpOwogICAgdmFyIHRleHRzID0gd2VpYm8uZmVlZC50ZXh0KGZlZWQpLnRvVXBwZXJDYXNlKCk7CiAgICB2YXIgbWF0Y2ggPSBrZXl3b3Jkcy5zb21lKGZ1bmN0aW9uIChrZXl3b3JkKSB7CiAgICAgIGlmICgha2V5d29yZCkgcmV0dXJuIGZhbHNlOwogICAgICBpZiAodGV4dHMuaW5kZXhPZihrZXl3b3JkLnRvVXBwZXJDYXNlKCkpID09PSAtMSkgcmV0dXJuIGZhbHNlOwogICAgICBmZWVkLnNldEF0dHJpYnV0ZSgneWF3Zi1yZWFzb24nLCB1dGlsLnN0ci5maWxsKHRleHQua2V5d29yZEZpbHRlclJlYXNvbiwgeyAnZGV0YWlsJzoga2V5d29yZCB9KSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CiAgICBpZiAobWF0Y2gpIHJldHVybiBhY3Rpb247IGVsc2UgcmV0dXJuIG51bGw7CiAgfSwKICAnZmFzdCc6IHsKICAgICd2YWxpZGF0b3InOiBmaWx0ZXIuZmFzdC5jb250ZW50LnZhbGlkYXRvciwKICAgICdyZWNvZ25pemVyJzogZmlsdGVyLmZhc3QuY29udGVudC5yZWNvZ25pemVyLmtleXdvcmQsCiAgICAnc2VsZWN0ZWQnOiBmaWx0ZXIuZmFzdC5zZWxlY3RlZC5mZWVkLAogICAgJ2FkZCc6IGZpbHRlci5mYXN0LmNvbnRlbnQuYWRkLAogICAgJ2Rlc2NyaXB0aW9uJzogZmlsdGVyLmZhc3QuZGVzY3JpcHRpb24uZ2VuKHsKICAgICAgJ2dyb3VwJzogJ2NvbnRlbnQnLCAnbmFtZSc6ICdrZXl3b3JkJywKICAgICAgJ2F0dHInOiAndGV4dCcsICdpbnB1dCc6IHRydWUsICdjaG9zZW4nOiB0cnVlCiAgICB9KSwKICB9Cn0sIGZpbHRlci5ncm91cHMuY29udGVudCk7CgovLyDmjInnhafmraPliJnlvI/ov4fmu6QKZmlsdGVyLnByZWRlZi53YmZjKHsKICAnbmFtZSc6ICdyZWdleHAnLAogICd2ZXJzaW9uJzogOCwKICAnYWRkJzogdXRpbC5zdHIuYWRkcmVnZXgsCiAgJ2Rpc3BsYXknOiBmdW5jdGlvbiAocykgeyByZXR1cm4gJy8nICsgcyArICcvJzsgfSwKICAncnVsZSc6IGZ1bmN0aW9uIHJlZ2V4cE1hdGNoKGFjdGlvbiwgZmVlZCkgewogICAgdmFyIHJlZ2V4ZW4gPSB0aGlzLmNvbmYuY29uY2F0KHRoaXMuZXh0ZW50KS5tYXAodXRpbC5zdHIuY29tcHJlZ2V4KS5maWx0ZXIoQm9vbGVhbik7CiAgICB2YXIgdGV4dHMgPSB3ZWliby5mZWVkLnRleHQoZmVlZCk7CiAgICB2YXIgbWF0Y2ggPSByZWdleGVuLnNvbWUoZnVuY3Rpb24gKHJlZ2V4cCkgewogICAgICBpZiAoIXJlZ2V4cC5leGVjKHRleHRzKSkgcmV0dXJuIGZhbHNlOwogICAgICB2YXIgcmVhc29uID0gKChyZWdleHAgKyAnJykubWF0Y2goL1woXD89XHwoKFteKV18XFxcKSkqKVwpLykgfHwgW10pWzFdOwogICAgICBmZWVkLnNldEF0dHJpYnV0ZSgneWF3Zi1yZWFzb24nLCByZWFzb24gfHwgdXRpbC5zdHIuZmlsbCh0ZXh0LnJlZ2V4cEZpbHRlclJlYXNvbiwgeyAnZGV0YWlsJzogcmVnZXhwICsgJycgfSkpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0pOwogICAgaWYgKG1hdGNoKSByZXR1cm4gYWN0aW9uOyBlbHNlIHJldHVybiBudWxsOwogIH0sCiAgJ2Zhc3QnOiB7CiAgICAndmFsaWRhdG9yJzogZmlsdGVyLmZhc3QuY29udGVudC52YWxpZGF0b3IsCiAgICAncmVjb2duaXplcic6IGZpbHRlci5mYXN0LmNvbnRlbnQucmVjb2duaXplci5yZWdleHAsCiAgICAnc2VsZWN0ZWQnOiBmaWx0ZXIuZmFzdC5zZWxlY3RlZC5uZXZlciwKICAgICdhZGQnOiBmaWx0ZXIuZmFzdC5jb250ZW50LmFkZCwKICAgICdkZXNjcmlwdGlvbic6IGZpbHRlci5mYXN0LmRlc2NyaXB0aW9uLmdlbih7CiAgICAgICdncm91cCc6ICdjb250ZW50JywgJ25hbWUnOiAncmVnZXhwJywKICAgICAgJ2F0dHInOiAndGV4dCcsICdpbnB1dCc6IHRydWUsICdjaG9zZW4nOiBmYWxzZQogICAgfSksCiAgfQp9LCBmaWx0ZXIuZ3JvdXBzLmNvbnRlbnQpOwoKLy8g5YW25LuW6KKr6KeG5Li65YaF5a6555qE5YWD57SgCmZpbHRlci5wcmVkZWYuc3VidGl0bGUoJ2NvbnRlbnQnLCAnZWxlbWVudHMnLCAne3tjb250ZW50VHlwZXNUaXRsZX19Jyk7CgooZnVuY3Rpb24gKHR5cGVzKSB7CiAgdmFyIHRzID0gT2JqZWN0LmtleXModHlwZXMpOwogIHRzLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgIHZhciB0dCA9IHRbMF0udG9VcHBlckNhc2UoKSArIHQuc2xpY2UoMSk7CiAgICBmaWx0ZXIuaXRlbXMuY29udGVudC5lbGVtZW50c1t0XSA9IGZpbHRlci5pdGVtKHsKICAgICAgJ2dyb3VwJzogJ2VsZW1lbnRzJywKICAgICAgJ3ZlcnNpb24nOiAyMDYsCiAgICAgICd0eXBlJzogJ2Jvb2xlYW4nLAogICAgICAndGV4dCc6ICd7e2NvbnRlbnRUeXBlcycgKyB0dCArICd9fScsCiAgICAgICdrZXknOiAnd2VpYm8uY29udGVudC50eXBlc18nICsgdCwKICAgICAgJ2RlZmF1bHQnOiB0eXBlc1t0XSwKICAgICAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgICAgIHdlaWJvLmZlZWQudGV4dC5hY3RpdmUodCk7CiAgICAgIH0sCiAgICB9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmNvbnRlbnQpOwogIH0pOwp9KHsKICAnbWVudGlvbic6IHRydWUsCiAgJ3RvcGljJzogdHJ1ZSwKICAnc3RvY2snOiB0cnVlLAogICdsaW5rdCc6IHRydWUsCiAgJ2xpbmt1JzogZmFsc2UsCiAgJ2Vtb3Rpb24nOiBmYWxzZSwKfSkpOwoKZmlsdGVyLnByZWRlZi5hY2NvdW50ID0gZnVuY3Rpb24gKGRldGFpbHMpIHsKICB2YXIgaXRlbSA9IHsKICAgICduYW1lJzogZGV0YWlscy5uYW1lLAogICAgJ3ZlcnNpb24nOiBkZXRhaWxzLnZlcnNpb24sCiAgICAndHlwZSc6ICd1c2VycycsCiAgICAncnVsZSc6IGZ1bmN0aW9uIGFjY291bnRNYXRjaChhY3Rpb24sIGZlZWQsIHdvcmtzT25Vc2VyUGFnZSkgewogICAgICBpZiAoZGV0YWlscy5tYXRjaGYgJiYgIWRldGFpbHMubWF0Y2hmKGZlZWQpKSByZXR1cm47CiAgICAgIHZhciBhY2NvdW50cyA9IHRoaXMuY29uZi5jb25jYXQodGhpcy5leHRlbnQpOwogICAgICB2YXIgb2lkID0gdXRpbC5pbmZvLm9pZCgpOwogICAgICB2YXIgaWQgPSB3ZWliby5mZWVkLmF1dGhvci5pZChmZWVkKSB8fCBvaWQ7CiAgICAgIGlmICgoIWlkIHx8IGlkID09PSBvaWQpICYmICF3b3Jrc09uVXNlclBhZ2UpIHJldHVybiBudWxsOwogICAgICB2YXIgbWF0Y2ggPSBhY2NvdW50cy5pbmRleE9mKGlkKSAhPT0gLTE7CiAgICAgIGlmIChtYXRjaCkgZmVlZC5zZXRBdHRyaWJ1dGUoJ3lhd2YtcmVhc29uJywKICAgICAgICB1dGlsLnN0ci5maWxsKCd7e3snICsgZGV0YWlscy5uYW1lICsgJ0ZpbHRlclJlYXNvbn19fScsCiAgICAgICAgewogICAgICAgICAgJ2RldGFpbCc6IHdlaWJvLmZlZWQuYXV0aG9yLm5hbWUoZmVlZCkgfHwKICAgICAgICAgICAgKGlkID09PSBvaWQgJiYgdXRpbC5pbmZvLm9uaWNrKCkpIHx8IG51bGwKICAgICAgICB9KSk7CiAgICAgIGlmIChtYXRjaCkgcmV0dXJuIGFjdGlvbjsgZWxzZSByZXR1cm4gbnVsbDsKICAgIH0sCiAgICAnYmxhY2tsaXN0JzogewogICAgICAnb3ZlcnJpZGUnOiB7CiAgICAgICAgJ3J1bGUnOiBmdW5jdGlvbiBhY2NvdW50TWF0Y2hCbGFja2xpc3RPdmVycmlkZShfc3VwZXIpIHsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBhY2NvdW50TWF0Y2hCbGFja2xpc3QoZmVlZCkgewogICAgICAgICAgICBpZiAoIWZpbHRlci5pdGVtcy5iYXNlLmdyb3VwaW5nLmdyb3VwX2FjY291bnQuY29uZiB8fCAhdXRpbC5wYWdlLmdyb3VwKCkpIHJldHVybiBfc3VwZXIoZmVlZCk7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgfTsKICAgICAgICB9LAogICAgICB9LAogICAgfSwKICAgICd3aGl0ZWxpc3QnOiB7CiAgICAgICdvdmVycmlkZSc6IHsKICAgICAgICAncnVsZSc6IGZ1bmN0aW9uIGFjY291bnRNYXRjaFdoaXRlbGlzdE92ZXJyaWRlKF9zdXBlcikgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGFjY291bnRNYXRjaFdoaXRlbGlzdChmZWVkKSB7CiAgICAgICAgICAgIHJldHVybiBfc3VwZXIoZmVlZCwgdHJ1ZSk7CiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgIH0sCiAgICB9LAogICAgJ2NvbXBsZXRlJzogJ3VzZXInLAogICAgJ2Zhc3QnOiB7CiAgICAgICd2YWxpZGF0b3InOiBmaWx0ZXIuZmFzdC5hY2NvdW50LnZhbGlkYXRvciwKICAgICAgJ3JlY29nbml6ZXInOiBmaWx0ZXIuZmFzdC5hY2NvdW50LnJlY29nbml6ZXIsCiAgICAgICdzZWxlY3RlZCc6IGZpbHRlci5mYXN0LnNlbGVjdGVkLmF1dGhvciwKICAgICAgJ2FkZCc6IGZpbHRlci5mYXN0LmFjY291bnQuYWRkaWQsCiAgICAgICdkZXNjcmlwdGlvbic6IGZpbHRlci5mYXN0LmRlc2NyaXB0aW9uLmdlbih7CiAgICAgICAgJ2dyb3VwJzogJ2FjY291bnQnLCAnbmFtZSc6IGRldGFpbHMubmFtZSwKICAgICAgICAnYXR0cic6ICduYW1lJywgJ2Nob3Nlbic6IGRldGFpbHMuY2hvc2VuCiAgICAgIH0pLAogICAgICAnY29udGV4dG1lbnUnOiB3ZWliby5mZWVkLmF1dGhvci5kb20sCiAgICAgICdtZW51ZGVzYyc6IGZ1bmN0aW9uIChhdXRob3IpIHsKICAgICAgICByZXR1cm4gdXRpbC5zdHIuZmlsbCgne3t7JyArIGRldGFpbHMubmFtZSArICdGaWx0ZXJDb250ZXh0TWVudX19fScsIHsgJ25hbWUnOiBhdXRob3IudGV4dENvbnRlbnQudHJpbSgpIH0pOwogICAgICB9LAogICAgfQogIH07CiAgaWYgKGRldGFpbHMubGlzdHR5cGUpIGl0ZW0ubGlzdHR5cGUgPSBkZXRhaWxzLmxpc3R0eXBlOwogIGlmIChkZXRhaWxzLmNvbnRleHRtZW51KSBpdGVtLmZhc3QuY29udGV4dG1lbnUgPSBkZXRhaWxzLmNvbnRleHRtZW51OwogIHJldHVybiBmaWx0ZXIucHJlZGVmLndiZmMoaXRlbSwgZmlsdGVyLmdyb3Vwcy5hY2NvdW50KTsKfTsKCmZpbHRlci5wcmVkZWYuZ3JvdXAoJ2FjY291bnQnKS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmJhc2UpOwoKLy8g5L2c6ICF55So5oi36L+H5rukCmZpbHRlci5wcmVkZWYuYWNjb3VudCh7CiAgJ25hbWUnOiAnYWNjb3VudCcsCiAgJ3ZlcnNpb24nOiA0LAogICdjaG9zZW4nOiB0cnVlLAp9KTsKCi8vIOi9rOWPkeeUqOaIt+i/h+a7pApmaWx0ZXIucHJlZGVmLmFjY291bnQoewogICduYW1lJzogJ2FjY291bnRmJywKICAndmVyc2lvbic6IDIyNSwKICAnbWF0Y2hmJzogZnVuY3Rpb24gKGZlZWQpIHsKICAgIHJldHVybiAhIXdlaWJvLmZlZWQub3JpZ2luYWwuZG9tKGZlZWQpOwogIH0sCiAgJ2Nob3Nlbic6IGZhbHNlLAogICdsaXN0dHlwZSc6IFsnYmxhY2tsaXN0JywgJ2ZvbGRsaXN0J10sCiAgJ2NvbnRleHRtZW51JzogZnVuY3Rpb24gKGZlZWQpIHsKICAgIHJldHVybiB3ZWliby5mZWVkLm9yaWdpbmFsLmRvbShmZWVkKSA/IHdlaWJvLmZlZWQuYXV0aG9yLmRvbShmZWVkKSA6IG51bGw7CiAgfSwKfSk7CgovLyDljp/liJvnlKjmiLfov4fmu6QKZmlsdGVyLmdyb3Vwcy5vcmlnaW5hbCA9IGZpbHRlci5wcmVkZWYud2JmYyh7CiAgJ25hbWUnOiAnb3JpZ2luYWwnLAogICd2ZXJzaW9uJzogNCwKICAndHlwZSc6ICd1c2VycycsCiAgJ3J1bGUnOiBmdW5jdGlvbiBvcmlnaW5hbE1hdGNoKGFjdGlvbiwgZmVlZCkgewogICAgdmFyIG9yaWdpbmFscyA9IHRoaXMuY29uZi5jb25jYXQodGhpcy5leHRlbnQpLCBpZCA9IFt3ZWliby5mZWVkLm9yaWdpbmFsLmlkKGZlZWQpXTsKICAgIGlmIChmaWx0ZXIuaXRlbXMub3JpZ2luYWwuYmxhY2tsaXN0X2QuY29uZiAmJiB1dGlsLnBhZ2UuZGlzY292ZXJ5KSBpZC5wdXNoKHdlaWJvLmZlZWQuYXV0aG9yLmlkKGZlZWQpKTsKICAgIGlkID0gaWQuZmlsdGVyKEJvb2xlYW4pOyBpZiAoIWlkLmxlbmd0aCkgcmV0dXJuIG51bGw7CiAgICB2YXIgbWF0Y2ggPSBvcmlnaW5hbHMuc29tZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gaWQuaW5kZXhPZih4KSAhPT0gLTE7IH0pOwogICAgaWYgKG1hdGNoKSBmZWVkLnNldEF0dHJpYnV0ZSgneWF3Zi1yZWFzb24nLCB1dGlsLnN0ci5maWxsKHRleHQub3JpZ2luYWxGaWx0ZXJSZWFzb24sIHsgJ2RldGFpbCc6IHdlaWJvLmZlZWQub3JpZ2luYWwubmFtZShmZWVkKSB9KSk7CiAgICBpZiAobWF0Y2gpIHJldHVybiBhY3Rpb247IGVsc2UgcmV0dXJuIG51bGw7CiAgfSwKICAndGl0bGUnOiB7CiAgICAnYWZ0ZXInOiBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIOW8gOWQr+ivpemAiemhueWQjuWPkeeOsOmhtemdouaXtui9rOWPkeiHquinhOWImeWvueS9nOiAheWQjOagt+eUn+aViAogICAgICBmaWx0ZXIuaXRlbXMub3JpZ2luYWwuYmxhY2tsaXN0X2QgPSBmaWx0ZXIuaXRlbSh7CiAgICAgICAgJ2dyb3VwJzogJ29yaWdpbmFsJywKICAgICAgICAndmVyc2lvbic6IDIyOCwKICAgICAgICAndHlwZSc6ICdib29sZWFuJywKICAgICAgICAnZGVmYXVsdCc6IHRydWUsCiAgICAgICAgJ2tleSc6ICd3ZWliby5vcmlnaW5hbC5ibGFja2xpc3RfZCcsCiAgICAgICAgJ3RleHQnOiAne3thY3RPbkRpc2NvdmVyeVBhZ2V9fScsCiAgICAgIH0pLmFkZHRvKGZpbHRlci5ncm91cHMub3JpZ2luYWwpOwogICAgfSwKICB9LAogICdjb21wbGV0ZSc6ICd1c2VyJywKICAnZmFzdCc6IHsKICAgICd2YWxpZGF0b3InOiBmaWx0ZXIuZmFzdC5hY2NvdW50LnZhbGlkYXRvciwKICAgICdyZWNvZ25pemVyJzogZmlsdGVyLmZhc3QuYWNjb3VudC5yZWNvZ25pemVyLAogICAgJ3NlbGVjdGVkJzogZmlsdGVyLmZhc3Quc2VsZWN0ZWQub3JpZ2luYWwsCiAgICAnYWRkJzogZmlsdGVyLmZhc3QuYWNjb3VudC5hZGRpZCwKICAgICdkZXNjcmlwdGlvbic6IGZpbHRlci5mYXN0LmRlc2NyaXB0aW9uLmdlbih7CiAgICAgICdncm91cCc6ICdvcmlnaW5hbCcsICduYW1lJzogJ29yaWdpbmFsJywKICAgICAgJ2F0dHInOiAnbmFtZScsICdjaG9zZW4nOiB0cnVlCiAgICB9KSwKICAgICdjb250ZXh0bWVudSc6IGZ1bmN0aW9uIChmZWVkKSB7CiAgICAgIHZhciBvcmlnaW5hbCA9IHdlaWJvLmZlZWQub3JpZ2luYWwuZG9tKGZlZWQpLCBhdXRob3IgPSBudWxsOwogICAgICBpZiAoZmlsdGVyLml0ZW1zLm9yaWdpbmFsLmJsYWNrbGlzdF9kLmNvbmYgJiYgdXRpbC5wYWdlLmRpc2NvdmVyeSkKICAgICAgICBhdXRob3IgPSB3ZWliby5mZWVkLmF1dGhvci5kb20oZmVlZCk7CiAgICAgIHJldHVybiBbb3JpZ2luYWwsIGF1dGhvcl0uZmlsdGVyKEJvb2xlYW4pOwogICAgfSwKICAgICdtZW51ZGVzYyc6IGZ1bmN0aW9uIChvcmlnaW5hbCkgewogICAgICByZXR1cm4gdXRpbC5zdHIuZmlsbCh0ZXh0Lm9yaWdpbmFsRmlsdGVyQ29udGV4dE1lbnUsIHsgJ25hbWUnOiBvcmlnaW5hbC50ZXh0Q29udGVudC50cmltKCkucmVwbGFjZSgvXkAvLCAnJykgfSk7CiAgICB9LAogIH0KfSk7CgovLyDmj5DliLDmn5DkurrnmoTlvq7ljZoKZmlsdGVyLmdyb3Vwcy5tZW50aW9uID0gZmlsdGVyLnByZWRlZi53YmZjKHsKICAnbmFtZSc6ICdtZW50aW9uJywKICAndmVyc2lvbic6IDQsCiAgJ3R5cGUnOiAnc3RyaW5ncycsCiAgJ2FkZCc6IGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnRyaW0oKS5yZXBsYWNlKC9eQC8sICcnKSB8fCBudWxsOyB9LAogICdkaXNwbGF5JzogZnVuY3Rpb24gKHMpIHsgcmV0dXJuICdAJyArIHM7IH0sCiAgJ3J1bGUnOiBmdW5jdGlvbiBtZW50aW9uTWF0Y2goYWN0aW9uLCBmZWVkKSB7CiAgICB2YXIgbWVudGlvbnMgPSB0aGlzLmNvbmYuY29uY2F0KHRoaXMuZXh0ZW50KSwgdXNlcnMgPSB3ZWliby5mZWVkLm1lbnRpb25zLm5hbWUoZmVlZCk7CiAgICB2YXIgbWF0Y2ggPSB1c2Vycy5zb21lKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHZhciBpbmRleCA9IG1lbnRpb25zLmluZGV4T2YobmFtZSk7CiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBmYWxzZTsKICAgICAgZmVlZC5zZXRBdHRyaWJ1dGUoJ3lhd2YtcmVhc29uJywgdXRpbC5zdHIuZmlsbCh0ZXh0Lm1lbnRpb25GaWx0ZXJSZWFzb24sIHsgJ2RldGFpbCc6IG1lbnRpb25zW2luZGV4XSB9KSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CiAgICBpZiAobWF0Y2gpIHJldHVybiBhY3Rpb247IGVsc2UgcmV0dXJuIG51bGw7CiAgfSwKICAnY29tcGxldGUnOiAndXNlcicsCiAgJ2Zhc3QnOiB7CiAgICAndmFsaWRhdG9yJzogZmlsdGVyLmZhc3QuYWNjb3VudC52YWxpZGF0b3IsCiAgICAncmVjb2duaXplcic6IGZpbHRlci5mYXN0LmFjY291bnQucmVjb2duaXplciwKICAgICdzZWxlY3RlZCc6IGZpbHRlci5mYXN0LnNlbGVjdGVkLm1lbnRpb24sCiAgICAnYWRkJzogZmlsdGVyLmZhc3QuYWNjb3VudC5hZGRuYW1lLAogICAgJ2Rlc2NyaXB0aW9uJzogZmlsdGVyLmZhc3QuZGVzY3JpcHRpb24uZ2VuKHsKICAgICAgJ2dyb3VwJzogJ21lbnRpb24nLCAnbmFtZSc6ICdtZW50aW9uJywKICAgICAgJ2F0dHInOiAnbmFtZScsICdjaG9zZW4nOiB0cnVlCiAgICB9KSwKICAgICdjb250ZXh0bWVudSc6IHdlaWJvLmZlZWQubWVudGlvbnMuZG9tLAogICAgJ21lbnVncm91cGVkJzogJ3t7bWVudGlvbkZpbHRlckNvbnRleHRNZW51R3JvdXB9fScsCiAgICAnbWVudWRlc2MnOiBmdW5jdGlvbiAobWVudGlvbikgewogICAgICByZXR1cm4gdXRpbC5zdHIuZmlsbCh0ZXh0Lm1lbnRpb25GaWx0ZXJDb250ZXh0TWVudSwgeyAnbmFtZSc6IG1lbnRpb24udGV4dENvbnRlbnQudHJpbSgpLnJlcGxhY2UoL15ALywgJycpIH0pOwogICAgfSwKICB9Cn0pOwoKLy8g6K+d6aKY6L+H5rukCmZpbHRlci5wcmVkZWYuZ3JvdXAoJ3RvcGljJykuYWRkdG8oZmlsdGVyLmdyb3Vwcy5iYXNlKTsKCmZpbHRlci5wcmVkZWYud2JmYyh7CiAgJ25hbWUnOiAndG9waWMnLAogICd2ZXJzaW9uJzogMiwKICAnYWRkJzogZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudHJpbSgpLnJlcGxhY2UoLyMvZywgJycpIHx8IG51bGw7IH0sCiAgJ2Rpc3BsYXknOiBmdW5jdGlvbiAocykgeyByZXR1cm4gJyMnICsgcyArICcjJzsgfSwKICAncnVsZSc6IGZ1bmN0aW9uIHRvcGljTWF0Y2goYWN0aW9uLCBmZWVkKSB7CiAgICB2YXIgdG9waWNzID0gdGhpcy5jb25mLmNvbmNhdCh0aGlzLmV4dGVudCk7CiAgICB2YXIgdG9waWNUZXh0ID0gd2VpYm8uZmVlZC50b3BpY3MudGV4dChmZWVkKS5qb2luKCcjIycpOwogICAgdmFyIG1hdGNoID0gdG9waWNzLnNvbWUoZnVuY3Rpb24gKHRvcGljKSB7CiAgICAgIGlmICh0b3BpY1RleHQuaW5kZXhPZih0b3BpYykgPT09IC0xKSByZXR1cm4gZmFsc2U7CiAgICAgIGZlZWQuc2V0QXR0cmlidXRlKCd5YXdmLXJlYXNvbicsIHV0aWwuc3RyLmZpbGwodGV4dC50b3BpY0ZpbHRlclJlYXNvbiwgeyAnZGV0YWlsJzogdG9waWMgfSkpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0pOwogICAgaWYgKG1hdGNoKSByZXR1cm4gYWN0aW9uOyBlbHNlIHJldHVybiBudWxsOwogIH0sCiAgJ2NvbXBsZXRlJzogJ3RvcGljJywKICAnZmFzdCc6IHsKICAgICd2YWxpZGF0b3InOiBmaWx0ZXIuZmFzdC50b3BpYy52YWxpZGF0b3IsCiAgICAncmVjb2duaXplcic6IGZpbHRlci5mYXN0LnRvcGljLnJlY29nbml6ZXIudG9waWMsCiAgICAnc2VsZWN0ZWQnOiBmaWx0ZXIuZmFzdC5zZWxlY3RlZC5mZWVkLAogICAgJ2FkZCc6IGZpbHRlci5mYXN0LnRvcGljLmFkZCwKICAgICdkZXNjcmlwdGlvbic6IGZpbHRlci5mYXN0LmRlc2NyaXB0aW9uLmdlbih7CiAgICAgICdncm91cCc6ICd0b3BpYycsICduYW1lJzogJ3RvcGljJywKICAgICAgJ2F0dHInOiAndG9waWMnLCAnaW5wdXQnOiB0cnVlLCAnY2hvc2VuJzogdHJ1ZQogICAgfSksCiAgICAnY29udGV4dG1lbnUnOiB3ZWliby5mZWVkLnRvcGljcy5kb20sCiAgICAnbWVudWdyb3VwZWQnOiAne3t0b3BpY0ZpbHRlckNvbnRleHRNZW51R3JvdXB9fScsCiAgICAnbWVudWRlc2MnOiBmdW5jdGlvbiAodG9waWMpIHsKICAgICAgcmV0dXJuIHV0aWwuc3RyLmZpbGwodGV4dC50b3BpY0ZpbHRlckNvbnRleHRNZW51LCB7ICd0b3BpYyc6IHRvcGljLnRleHRDb250ZW50LnRyaW0oKS5yZXBsYWNlKC8jL2csICcnKSB9KTsKICAgIH0sCiAgfQp9LCBmaWx0ZXIuZ3JvdXBzLnRvcGljKTsKCi8vIOato+WImeivnemimApmaWx0ZXIucHJlZGVmLndiZmMoewogICduYW1lJzogJ3J0b3BpYycsCiAgJ3ZlcnNpb24nOiA1MiwKICAnYWRkJzogdXRpbC5zdHIuYWRkcmVnZXgsCiAgJ2Rpc3BsYXknOiBmdW5jdGlvbiAocykgeyByZXR1cm4gJy8nICsgcyArICcvJzsgfSwKICAncnVsZSc6IGZ1bmN0aW9uIHJ0b3BpY01hdGNoKGFjdGlvbiwgZmVlZCkgewogICAgdmFyIHJlZ2V4ZW4gPSB0aGlzLmNvbmYuY29uY2F0KHRoaXMuZXh0ZW50KS5tYXAodXRpbC5zdHIuY29tcHJlZ2V4KS5maWx0ZXIoQm9vbGVhbik7CiAgICB2YXIgdG9waWNzID0gd2VpYm8uZmVlZC50b3BpY3MudGV4dChmZWVkKTsKICAgIHZhciBtYXRjaCA9IHJlZ2V4ZW4uc29tZShmdW5jdGlvbiAocmVnZXhwKSB7CiAgICAgIHJldHVybiB0b3BpY3Muc29tZShmdW5jdGlvbiAodG9waWMpIHsKICAgICAgICBpZiAoIXJlZ2V4cC5leGVjKHRvcGljKSkgcmV0dXJuIGZhbHNlOwogICAgICAgIGZlZWQuc2V0QXR0cmlidXRlKCd5YXdmLXJlYXNvbicsIHV0aWwuc3RyLmZpbGwodGV4dC5ydG9waWNGaWx0ZXJSZWFzb24sIHsgJ2RldGFpbCc6IHJlZ2V4cCArICcnIH0pKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSk7CiAgICB9KTsKICAgIGlmIChtYXRjaCkgcmV0dXJuIGFjdGlvbjsgZWxzZSByZXR1cm4gbnVsbDsKICB9LAogICdmYXN0JzogewogICAgJ3ZhbGlkYXRvcic6IGZpbHRlci5mYXN0LnRvcGljLnZhbGlkYXRvciwKICAgICdyZWNvZ25pemVyJzogZmlsdGVyLmZhc3QudG9waWMucmVjb2duaXplci5ydG9waWMsCiAgICAnc2VsZWN0ZWQnOiBmaWx0ZXIuZmFzdC5zZWxlY3RlZC5uZXZlciwKICAgICdhZGQnOiBmaWx0ZXIuZmFzdC50b3BpYy5hZGQsCiAgICAnZGVzY3JpcHRpb24nOiBmaWx0ZXIuZmFzdC5kZXNjcmlwdGlvbi5nZW4oewogICAgICAnZ3JvdXAnOiAndG9waWMnLCAnbmFtZSc6ICdydG9waWMnLAogICAgICAnYXR0cic6ICd0b3BpYycsICdpbnB1dCc6IHRydWUsICdjaG9zZW4nOiBmYWxzZQogICAgfSksCiAgfQp9LCBmaWx0ZXIuZ3JvdXBzLnRvcGljKTsKCi8vIOadpea6kOi/h+a7pApmaWx0ZXIuZ3JvdXBzLnNvdXJjZSA9IGZpbHRlci5wcmVkZWYud2JmYyh7CiAgJ25hbWUnOiAnc291cmNlJywKICAndmVyc2lvbic6IDIsCiAgJ2FkZCc6IGZ1bmN0aW9uIChzKSB7CiAgICBzID0gcy50cmltKCk7CiAgICBpZiAocyA9PT0gdGV4dC5kZWZhdWx0U291cmNlKSB7CiAgICAgIHV0aWwudWkuYWxlcnQoJ3lhd2Ytc291cmNlLWZpbHRlci13YXJuaW5nJywgewogICAgICAgICd0aXRsZSc6IHV0aWwuc3RyLmZpbGwoJ3t7c291cmNlRmlsdGVyV2FybmluZ1RpdGxlfX0nKSwKICAgICAgICAndGV4dCc6IHV0aWwuc3RyLmZpbGwoJ3t7c291cmNlRmlsdGVyV2FybmluZ319JyksCiAgICAgICAgJ2ljb24nOiAnZXJyb3InCiAgICAgIH0pOwogICAgICBzID0gbnVsbDsKICAgIH0KICAgIHJldHVybiBzOwogIH0sCiAgJ3J1bGUnOiBmdW5jdGlvbiBzb3VyY2VNYXRjaChhY3Rpb24sIGZlZWQpIHsKICAgIHZhciBzb3VyY2VzID0gdGhpcy5jb25mLmNvbmNhdCh0aGlzLmV4dGVudCksIF9zb3VyY2VzID0gd2VpYm8uZmVlZC5zb3VyY2VzLnRleHQoZmVlZCk7CiAgICB2YXIgbWF0Y2ggPSBfc291cmNlcy5zb21lKGZ1bmN0aW9uIChzKSB7CiAgICAgIGlmIChzb3VyY2VzLmluZGV4T2YocykgPT09IC0xKSByZXR1cm4gZmFsc2U7CiAgICAgIGZlZWQuc2V0QXR0cmlidXRlKCd5YXdmLXJlYXNvbicsIHV0aWwuc3RyLmZpbGwodGV4dC5zb3VyY2VGaWx0ZXJSZWFzb24sIHsgJ2RldGFpbCc6IHMgfSkpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0pOwogICAgaWYgKG1hdGNoKSByZXR1cm4gYWN0aW9uOyBlbHNlIHJldHVybiBudWxsOwogIH0sCiAgJ2Zhc3QnOiB7CiAgICAndmFsaWRhdG9yJzogZmlsdGVyLmZhc3Quc291cmNlLnZhbGlkYXRvciwKICAgICdyZWNvZ25pemVyJzogZmlsdGVyLmZhc3Quc291cmNlLnJlY29nbml6ZXIsCiAgICAnc2VsZWN0ZWQnOiBmaWx0ZXIuZmFzdC5zZWxlY3RlZC5hbHdheXMsCiAgICAnYWRkJzogZmlsdGVyLmZhc3Quc291cmNlLmFkZCwKICAgICdkZXNjcmlwdGlvbic6IGZpbHRlci5mYXN0LmRlc2NyaXB0aW9uLmdlbih7CiAgICAgICdncm91cCc6ICdzb3VyY2UnLCAnbmFtZSc6ICdzb3VyY2UnLAogICAgICAnYXR0cic6ICdzb3VyY2UnLCAnY2hvc2VuJzogdHJ1ZQogICAgfSksCiAgICAnY29udGV4dG1lbnUnOiB3ZWliby5mZWVkLnNvdXJjZXMuZG9tLAogICAgJ21lbnVncm91cGVkJzogJ3t7c291cmNlRmlsdGVyQ29udGV4dE1lbnVHcm91cH19JywKICAgICdtZW51ZGVzYyc6IGZ1bmN0aW9uIChzb3VyY2UpIHsKICAgICAgdmFyIHRleHQgPSBudWxsOwogICAgICBmaWx0ZXIuZmFzdC5zb3VyY2UucmVjb2duaXplcihzb3VyY2UsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIGlmICh2YWx1ZSkgdGV4dCA9IHV0aWwuc3RyLmZpbGwoJ3t7e3NvdXJjZUZpbHRlckNvbnRleHRNZW51fX19JywgdmFsdWUpOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRleHQ7CiAgICB9LAogIH0KfSk7CgovLyDotoXpk77mjqXov4fmu6QKZmlsdGVyLnByZWRlZi5ncm91cCgnaHlwZXJsaW5rJykuYWRkdG8oZmlsdGVyLmdyb3Vwcy5iYXNlKTsKCi8vIOi2hemTvuaOpeWcsOWdgOi/h+a7pApmaWx0ZXIucHJlZGVmLndiZmMoewogICduYW1lJzogJ2h5cGVybGluaycsCiAgJ3ZlcnNpb24nOiAzNTAsCiAgJ2FkZCc6IGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnRyaW0oKSB8fCBudWxsOyB9LAogICdydWxlJzogZnVuY3Rpb24gaHlwZXJsaW5rTWF0Y2goYWN0aW9uLCBmZWVkKSB7CiAgICB2YXIgbGlua3MgPSB0aGlzLmNvbmYuY29uY2F0KHRoaXMuZXh0ZW50KSwgX2xpbmtzID0gd2VpYm8uZmVlZC5oeXBlcmxpbmtzLnRleHQoZmVlZCk7CiAgICB2YXIgbWF0Y2ggPSBfbGlua3Muc29tZShmdW5jdGlvbiAobCkgewogICAgICByZXR1cm4gbGlua3Muc29tZShmdW5jdGlvbiAobGluaykgewogICAgICAgIGlmIChsLmluZGV4T2YobGluaykgPT09IC0xKSByZXR1cm4gZmFsc2U7CiAgICAgICAgZmVlZC5zZXRBdHRyaWJ1dGUoJ3lhd2YtcmVhc29uJywgdXRpbC5zdHIuZmlsbCh0ZXh0Lmh5cGVybGlua0ZpbHRlclJlYXNvbiwgeyAnZGV0YWlsJzogbGluayB9KSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0pOwogICAgfSk7CiAgICBpZiAobWF0Y2gpIHJldHVybiBhY3Rpb247IGVsc2UgcmV0dXJuIG51bGw7CiAgfSwKICAnZmFzdCc6IHsKICAgICd2YWxpZGF0b3InOiBmaWx0ZXIuZmFzdC5oeXBlcmxpbmsudmFsaWRhdG9yLAogICAgJ3JlY29nbml6ZXInOiBmaWx0ZXIuZmFzdC5oeXBlcmxpbmsucmVjb2duaXplciwKICAgICdzZWxlY3RlZCc6IGZpbHRlci5mYXN0LnNlbGVjdGVkLmZlZWQsCiAgICAnYWRkJzogZmlsdGVyLmZhc3QuaHlwZXJsaW5rLmFkZCwKICAgICdkZXNjcmlwdGlvbic6IGZpbHRlci5mYXN0LmRlc2NyaXB0aW9uLmdlbih7CiAgICAgICdncm91cCc6ICdoeXBlcmxpbmsnLCAnbmFtZSc6ICdoeXBlcmxpbmsnLAogICAgICAnYXR0cic6ICd1cmwnLCAnY2hvc2VuJzogdHJ1ZQogICAgfSksCiAgICAnY29udGV4dG1lbnUnOiB3ZWliby5mZWVkLmh5cGVybGlua3MuZG9tLAogICAgJ21lbnVncm91cGVkJzogJ3t7aHlwZXJsaW5rRmlsdGVyQ29udGV4dE1lbnVHcm91cH19JywKICAgICdtZW51ZGVzYyc6IGZ1bmN0aW9uIChoeXBlcmxpbmspIHsKICAgICAgcmV0dXJuIHV0aWwuc3RyLmZpbGwodGV4dC5oeXBlcmxpbmtGaWx0ZXJDb250ZXh0TWVudSwgeyAndXJsJzogaHlwZXJsaW5rLmhyZWYgfSk7CiAgICB9LAogIH0sCn0sIGZpbHRlci5ncm91cHMuaHlwZXJsaW5rKTsKCi8vIOi2hemTvuaOpeagh+mimOi/h+a7pApmaWx0ZXIucHJlZGVmLndiZmMoewogICduYW1lJzogJ2xpbmt0aXRsZScsCiAgJ3ZlcnNpb24nOiAyMDYsCiAgJ2FkZCc6IGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnRyaW0oKSB8fCBudWxsOyB9LAogICdydWxlJzogZnVuY3Rpb24gbGlua1RpdGxlTWF0Y2goYWN0aW9uLCBmZWVkKSB7CiAgICB2YXIgdGV4dHMgPSB0aGlzLmNvbmYuY29uY2F0KHRoaXMuZXh0ZW50KSwgdGl0bGVzID0gd2VpYm8uZmVlZC5saW5rdGl0bGUudGV4dChmZWVkKTsKICAgIHZhciBtYXRjaCA9IHRpdGxlcy5zb21lKGZ1bmN0aW9uICh0aXRsZSkgewogICAgICByZXR1cm4gdGV4dHMuc29tZShmdW5jdGlvbiAodCkgewogICAgICAgIGlmICh0aXRsZS5pbmRleE9mKHQpID09PSAtMSkgcmV0dXJuIGZhbHNlOwogICAgICAgIGZlZWQuc2V0QXR0cmlidXRlKCd5YXdmLXJlYXNvbicsIHV0aWwuc3RyLmZpbGwodGV4dC5saW5rdGl0bGVGaWx0ZXJSZWFzb24sIHsgJ2RldGFpbCc6IHQgfSkpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9KTsKICAgIH0pOwogICAgaWYgKG1hdGNoKSByZXR1cm4gYWN0aW9uOyBlbHNlIHJldHVybiBudWxsOwogIH0sCiAgJ2Zhc3QnOiB7CiAgICAndmFsaWRhdG9yJzogZmlsdGVyLmZhc3QubGlua3RpdGxlLnZhbGlkYXRvciwKICAgICdyZWNvZ25pemVyJzogZmlsdGVyLmZhc3QubGlua3RpdGxlLnJlY29nbml6ZXIsCiAgICAnc2VsZWN0ZWQnOiBmaWx0ZXIuZmFzdC5zZWxlY3RlZC5mZWVkLAogICAgJ2FkZCc6IGZpbHRlci5mYXN0Lmxpbmt0aXRsZS5hZGQsCiAgICAnZGVzY3JpcHRpb24nOiBmaWx0ZXIuZmFzdC5kZXNjcmlwdGlvbi5nZW4oewogICAgICAnZ3JvdXAnOiAnbGlua3RpdGxlJywgJ25hbWUnOiAnbGlua3RpdGxlJywKICAgICAgJ2F0dHInOiAndGl0bGUnLCAnaW5wdXQnOiB0cnVlLCAnY2hvc2VuJzogdHJ1ZQogICAgfSksCiAgICAnY29udGV4dG1lbnUnOiB3ZWliby5mZWVkLmxpbmt0aXRsZS5kb20sCiAgICAnbWVudWdyb3VwZWQnOiAne3tsaW5rdGl0bGVGaWx0ZXJDb250ZXh0TWVudUdyb3VwfX0nLAogICAgJ21lbnVkZXNjJzogZnVuY3Rpb24gKGxpbmspIHsKICAgICAgcmV0dXJuIHV0aWwuc3RyLmZpbGwodGV4dC5saW5rdGl0bGVGaWx0ZXJDb250ZXh0TWVudSwgeyAndGl0bGUnOiBsaW5rLnRpdGxlLnRyaW0oKSB9KTsKICAgIH0sCiAgfSwKfSwgZmlsdGVyLmdyb3Vwcy5oeXBlcmxpbmspOwoKLy8g5YW25LuW6L+H5ruk5ZmoCmZpbHRlci5wcmVkZWYuZ3JvdXAoJ290aGVyJykuYWRkdG8oZmlsdGVyLmdyb3Vwcy5iYXNlKTsKCi8vIOaAu+aYr+aYvuekuui/meS6m+WGheWuuQpmaWx0ZXIucHJlZGVmLnN1YnRpdGxlKCdvdGhlcicsICdzaG93dGhlc2UnLCAne3tvdGhlcldoaXRlbGlzdFRpdGxlfX0nKTsKCi8vIOaAu+aYr+aYvuekuuiHquW3seeahOW+ruWNmgpmaWx0ZXIuaXRlbXMub3RoZXIuc2hvd3RoZXNlLm15X3dlaWJvID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdzaG93dGhlc2UnLAogICd2ZXJzaW9uJzogMjUsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci5teV93ZWlibycsCiAgJ3RleHQnOiAne3tzaG93TXlXZWlib0Rlc2N9fScsCiAgJ3ByaW9yaXR5JzogMWU1IC0gMWUzLCAvLyDnlaXkvY7kuo7nmb3lkI3ljZXvvIzkvYbpq5jkuo7lhbbku5YKICAncnVsZSc6IGZ1bmN0aW9uIHNob3dNeVdlaWJvUnVsZShmZWVkKSB7CiAgICBpZiAoIXRoaXMuY29uZikgcmV0dXJuOwogICAgaWYgKHdlaWJvLmZlZWQuYXV0aG9yLmlkKGZlZWQpID09PSB1dGlsLmluZm8udWlkKSByZXR1cm4gJ3Nob3dtZSc7CiAgICBpZiAod2VpYm8uZmVlZC5hdXRob3IuaWQoZmVlZCkgPT09IG51bGwgJiYgdXRpbC5wYWdlLm15aG9tZSgpKSByZXR1cm4gJ3Nob3dtZSc7CiAgICByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLm90aGVyKTsKCi8vIOaAu+aYr+aYvuekuuiHquW3seWOn+WIm+eahOW+ruWNmgpmaWx0ZXIuaXRlbXMub3RoZXIuc2hvd3RoZXNlLm15X29yaWdpbmFsID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdzaG93dGhlc2UnLAogICd2ZXJzaW9uJzogMjUsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci5teV9vcmlnaW5hbCcsCiAgJ3RleHQnOiAne3tzaG93TXlPcmlnaW5hbERlc2N9fScsCiAgJ3ByaW9yaXR5JzogMWU1IC0gMWUzLCAvLyDnlaXkvY7kuo7nmb3lkI3ljZXvvIzkvYbpq5jkuo7lhbbku5YKICAncnVsZSc6IGZ1bmN0aW9uIHNob3dNeU9yaWdpbmFsUnVsZShmZWVkKSB7CiAgICBpZiAoIXRoaXMuY29uZikgcmV0dXJuOwogICAgaWYgKHdlaWJvLmZlZWQub3JpZ2luYWwuaWQoZmVlZCkgPT09IHV0aWwuaW5mby51aWQpIHJldHVybiAnc2hvd21lJzsgZWxzZSByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLm90aGVyKTsKCi8vIOaAu+aYr+aYvuekuuaPkOWIsOiHquW3seeahOW+ruWNmgpmaWx0ZXIuaXRlbXMub3RoZXIuc2hvd3RoZXNlLm1lbnRpb25fbWUgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3Nob3d0aGVzZScsCiAgJ3ZlcnNpb24nOiAyNSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLm90aGVyLm1lbnRpb25fbWUnLAogICd0ZXh0JzogJ3t7c2hvd01lbnRpb25NZURlc2N9fScsCiAgJ3ByaW9yaXR5JzogMWU1IC0gMWUzLCAvLyDnlaXkvY7kuo7nmb3lkI3ljZXvvIzkvYbpq5jkuo7lhbbku5YKICAncnVsZSc6IGZ1bmN0aW9uIHNob3dNZW50aW9uTWVSdWxlKGZlZWQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm47CiAgICBpZiAod2VpYm8uZmVlZC5tZW50aW9ucy5uYW1lKGZlZWQpLmluZGV4T2YodXRpbC5pbmZvLm5pY2spICE9PSAtMSkgcmV0dXJuICdzaG93bWUnOyBlbHNlIHJldHVybiBudWxsOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g5o6o5bm/44CB5bm/5ZGK57G75b6u5Y2aCmZpbHRlci5wcmVkZWYuc3VidGl0bGUoJ290aGVyJywgJ2hpZGV0aGVzZV9hZCcsICd7e290aGVyQmxhY2tsaXN0VGl0bGVBZH19Jyk7CgovLyDmjqjlub/lvq7ljZoKZmlsdGVyLml0ZW1zLm90aGVyLmhpZGV0aGVzZV9hZC5hZF9mZWVkID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdoaWRldGhlc2VfYWQnLAogICd2ZXJzaW9uJzogMiwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLm90aGVyLmFkX2ZlZWQnLAogICd0ZXh0JzogJ3t7YWRmZWVkRmlsdGVyfX0nLAogICdwcmlvcml0eSc6IDFlNiAtIDFlMywgLy8g5qyh5pyA6auY5LyY5YWI57qnCiAgJ3JlZic6IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3thZGZlZWRGaWx0ZXJEZXNjfX0nIH0gfSwKICAncnVsZSc6IGZ1bmN0aW9uIGFkRmVlZEZpbHRlclJ1bGUoZmVlZCkgewogICAgaWYgKCF0aGlzLmNvbmYpIHJldHVybiBudWxsOwogICAgaWYgKGZlZWQuZ2V0QXR0cmlidXRlKCdmZWVkdHlwZScpID09PSAnYWQnKSByZXR1cm4gJ2hpZGRlbic7CiAgICBpZiAoZmVlZC5xdWVyeVNlbGVjdG9yKCdbYWN0aW9uLXR5cGU9ImZlZWRfbGlzdF9hZCJdJykpIHJldHVybiAnaGlkZGVuJzsKICAgIGlmIChmZWVkLnF1ZXJ5U2VsZWN0b3IoJ2FbaHJlZl49Imh0dHA6Ly9hZGluc2lkZS53ZWliby5jbi8iXScpKSByZXR1cm4gJ2hpZGRlbic7CiAgICBpZiAoZmVlZC5xdWVyeVNlbGVjdG9yKCdbZGlzcy1kYXRhKj0iZmVlZGFkIl0nKSkgcmV0dXJuICdoaWRkZW4nOwogICAgaWYgKGZlZWQucXVlcnlTZWxlY3RvcignW3N1ZGEtdWF0cmFjayo9Imluc2VydF9mZWVkIl0nKSkgcmV0dXJuICdoaWRkZW4nOwogICAgaWYgKGZlZWQucXVlcnlTZWxlY3RvcignW3N1ZGEtdWF0cmFjayo9Im5lZ2F0aXZlZmVlZGJhY2tdJykpIHJldHVybiAnaGlkZGVuJzsKICAgIHJldHVybiBudWxsOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g57KJ5Lid5aS05p2hCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2VfYWQuZmFuc190b3AgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2hpZGV0aGVzZV9hZCcsCiAgJ3ZlcnNpb24nOiA1NiwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLm90aGVyLmZhbnNfdG9wJywKICAndGV4dCc6ICd7e2ZhbnNUb3BGaWx0ZXJ9fScsCiAgJ3ByaW9yaXR5JzogMWU2LCAvLyDkvJjlhYjkuo7nmb3lkI3ljZUKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e2ZhbnNUb3BGaWx0ZXJEZXNjfX0nIH0gfSwKICAncnVsZSc6IGZ1bmN0aW9uIGZhbnNUb3BGaWx0ZXJSdWxlKGZlZWQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm4gbnVsbDsKICAgIHJldHVybiBmZWVkLnF1ZXJ5U2VsZWN0b3IoJ1thZGNhcmQ9ImZhbnN0b3AiXScpID8gJ2hpZGRlbicgOiBudWxsOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g5pyJ5ZWG5ZOB5Y2h54mH55qE5b6u5Y2aCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2VfYWQucHJvZHVjdF9jYXJkID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdoaWRldGhlc2VfYWQnLAogICd2ZXJzaW9uJzogMjY1LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8ub3RoZXIucHJvZHVjdF9jYXJkJywKICAndGV4dCc6ICd7e3Byb2R1Y3RDYXJkV2VpYm99fScsCiAgJ3JlZic6IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3twcm9kdWN0Q2FyZFdlaWJvRGVzY319JyB9IH0sCiAgJ3J1bGUnOiBmdW5jdGlvbiBwcm9kdWN0Q2FyZEZpbHRlclJ1bGUoZmVlZCkgewogICAgaWYgKCF0aGlzLmNvbmYpIHJldHVybiBudWxsOwogICAgaWYgKGZlZWQucXVlcnlTZWxlY3RvcignLldCX2ZlZWRfc3BlY1tleHAtZGF0YSo9ImtleT10YmxvZ193ZWlib2NhcmQiXVtleHAtZGF0YSo9IjEwMjItcHJvZHVjdCJdJykpCiAgICAgIHJldHVybiAnaGlkZGVuJzsKICAgIGlmIChmZWVkLnF1ZXJ5U2VsZWN0b3IoJy5XQl9mZWVkX3NwZWNbZXhwLWRhdGEqPSJrZXk9dGJsb2dfd2VpYm9jYXJkIl1bZXhwLWRhdGEqPSIyMDE3ODQ1MDAyLXByb2R1Y3QiXScpKQogICAgICByZXR1cm4gJ2hpZGRlbic7CiAgICByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLm90aGVyKTsKCi8vIOa3mOWunS/lpKnnjKvllYblk4EKZmlsdGVyLml0ZW1zLm90aGVyLmhpZGV0aGVzZV9hZC50Yl90bV93YiA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnaGlkZXRoZXNlX2FkJywKICAndmVyc2lvbic6IDI5LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8ub3RoZXIudGJfdG1fd2InLAogICd0ZXh0JzogJ3t7dGFvYmFvVGlhbm1hb1dlaWJvfX0nLAogICdyZWYnOiB7ICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7dGFvYmFvVGlhbm1hb1dlaWJvRGVzY319JyB9IH0sCiAgJ3J1bGUnOiBmdW5jdGlvbiB0YW9iYW9UaWFubWFvRmlsdGVyUnVsZShmZWVkKSB7CiAgICBpZiAoIXRoaXMuY29uZikgcmV0dXJuIG51bGw7CiAgICBpZiAoZmVlZC5xdWVyeVNlbGVjdG9yKCcuaWNvbl9jZF90bWFsbCwgLmljb25fY2RfdGIsIC5pY29uX2NkX2p1JykpCiAgICAgIHJldHVybiAnaGlkZGVuJzsKICAgIHJldHVybiBudWxsOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g5b6u5Y2a5pSv5LuY56ev5YiG5YWR5o2iCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2VfYWQud2VpYm9fcGF5X2dpZnQ9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnaGlkZXRoZXNlX2FkJywKICAndmVyc2lvbic6IDM0NiwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLm90aGVyLndlaWJvX3BheV9naWZ0JywKICAndGV4dCc6ICd7e3dlaWJvUGF5R2lmdH19JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e3dlaWJvUGF5R2lmdERlc2N9fScgfSB9LAogICdydWxlJzogZnVuY3Rpb24gd2VpYm9QYXlHaWZ0KGZlZWQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm4gbnVsbDsKICAgIGlmIChmZWVkLnF1ZXJ5U2VsZWN0b3IoJ2RpdlthY3Rpb24tZGF0YSo9Im9iamVjdGlkPTEwNDIwMjU6Il0nKSkgcmV0dXJuICdoaWRkZW4nOwogICAgaWYgKGZlZWQucXVlcnlTZWxlY3RvcignYVtzdWRhLXVhdHJhY2sqPSIxMDQyMDI1LXdlYnBhZ2UiXScpKSByZXR1cm4gJ2hpZGRlbic7CiAgICByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLm90aGVyKTsKCi8vIOa3t+WFpeaWsOmynOS6i+a1geeahOWFtuS7luS4nOilvwpmaWx0ZXIuaXRlbXMub3RoZXIuaGlkZXRoZXNlX2FkLmZha2Vfd2VpYm8gPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2hpZGV0aGVzZV9hZCcsCiAgJ3ZlcnNpb24nOiAxMywKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLm90aGVyLmZha2Vfd2VpYm8nLAogICd0ZXh0JzogJ3t7ZmFrZVdlaWJvRmlsdGVyfX0nLAogICdwcmlvcml0eSc6IDFlNiwgLy8g5pyA6auY5LyY5YWI57qnCiAgJ3JlZic6IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3tmYWtlV2VpYm9GaWx0ZXJEZXNjfX0nIH0gfSwKICAncnVsZSc6IGZ1bmN0aW9uIGZha2VXZWlib0ZpbHRlclJ1bGUoZmVlZCkgewogICAgLy8g6Zeu562U5YiX6KGo5LiN5piv5b6u5Y2a5YiX6KGo77yM5Zug5q2k5LiN5bqU55Sf5pWICiAgICBpZiAodXRpbC5kb20ubWF0Y2hlcyhmZWVkLCAnW2lkXj0iUGxfQ29yZV9XZW5kYUxpc3RfXyJdIConKSkgcmV0dXJuIG51bGw7CiAgICBpZiAoZmVlZC5oYXNBdHRyaWJ1dGUoJ21pZCcpKSByZXR1cm4gbnVsbDsKICAgIGlmICh0aGlzLmNvbmYpIHJldHVybiAnaGlkZGVuJzsKICAgIHJldHVybiAndW5zZXQnOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g5ZCr5pyJ54m55a6a5YaF5a6555qE5b6u5Y2aCmZpbHRlci5wcmVkZWYuc3VidGl0bGUoJ290aGVyJywgJ2hpZGV0aGVzZV9jb250ZW50JywgJ3t7b3RoZXJCbGFja2xpc3RUaXRsZUNvbnRlbnR9fScpOwoKLy8g5bey5Yig6Zmk5oiW5rKh5pyJ5p2D6ZmQ5p+l55yL55qE5b6u5Y2a55qE6L2s5Y+RCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2VfY29udGVudC5kZWxldGVkX2ZvcndhcmQgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2hpZGV0aGVzZV9jb250ZW50JywKICAndmVyc2lvbic6IDExLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8ub3RoZXIuZGVsZXRlZF9mb3J3YXJkJywKICAndGV4dCc6ICd7e2RlbGV0ZWRGb3J3YXJkRmlsdGVyfX0nLAogICdyZWYnOiB7ICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7ZGVsZXRlZEZvcndhcmRGaWx0ZXJEZXNjfX0nIH0gfSwKICAncnVsZSc6IGZ1bmN0aW9uIGRlbGV0ZWRGb3J3YXJkRmlsdGVyUnVsZShmZWVkKSB7CiAgICBpZiAoIXRoaXMuY29uZikgcmV0dXJuIG51bGw7CiAgICBpZiAoZmVlZC5nZXRBdHRyaWJ1dGUoJ2lzZm9yd2FyZCcpID09PSAnMScgJiYKICAgICAgIXdlaWJvLmZlZWQub3JpZ2luYWwuZG9tKGZlZWQpKSByZXR1cm4gJ2hpZGRlbic7CiAgICByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLm90aGVyKTsKCi8vIOWbnuWkjeW5tui9rOWPkeeahOW+ruWNmgovLyDopoHmsYLlvq7ljZrku6XigJzlm57lpI3igJ3lvIDlpLTvvIzlkI7pnaLntKfot5/kuIDkuKrmj5DliLAKZmlsdGVyLml0ZW1zLm90aGVyLmhpZGV0aGVzZV9jb250ZW50LmNvbW1lbnRfYW5kX3JlcGx5ID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdoaWRldGhlc2VfY29udGVudCcsCiAgJ3ZlcnNpb24nOiAyMDEsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci5jb21tZW50X2FuZF9yZXBseScsCiAgJ3RleHQnOiAne3tjb21tZW50QW5kRm9yd2FyZEZpbHRlcn19JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e2NvbW1lbnRBbmRGb3J3YXJkRmlsdGVyRGVzY319JyB9IH0sCiAgJ3J1bGUnOiBmdW5jdGlvbiBjb21tZW50QW5kRm9yd2FyZEZpbHRlclJ1bGUoZmVlZCkgewogICAgaWYgKCF0aGlzLmNvbmYpIHJldHVybiBudWxsOwogICAgdmFyIHJlcGx5VGV4dCA9IFsn5Zue5aSNJywgJ+WbnuW+qScsICflm57opoYnLCAnUmVwbHknLCAncmVwbHknXTsKICAgIGlmIChmZWVkLmdldEF0dHJpYnV0ZSgnaXNmb3J3YXJkJykgIT09ICcxJyAmJiBmZWVkLmdldEF0dHJpYnV0ZSgnZmVlZHR5cGUnKSAhPT0gJ3N1YmZlZWQnKSByZXR1cm4gbnVsbDsKICAgIHZhciBjb250ZW50ID0gZmVlZC5xdWVyeVNlbGVjdG9yKCdbbm9kZS10eXBlPSJmZWVkX2xpc3RfY29udGVudCJdJyk7IGlmICghY29udGVudCkgcmV0dXJuIG51bGw7CiAgICBpZiAoIWNvbnRlbnQuZmlyc3RDaGlsZCB8fCByZXBseVRleHQuaW5kZXhPZihjb250ZW50LmZpcnN0Q2hpbGQudGV4dENvbnRlbnQudHJpbSgpKSA9PT0gLTEpIHJldHVybiBudWxsOwogICAgaWYgKCFjb250ZW50LmNoaWxkTm9kZXNbMV0gfHwgIWNvbnRlbnQuY2hpbGROb2Rlc1sxXS5nZXRBdHRyaWJ1dGUoJ3VzZXJjYXJkJykpIHJldHVybiBudWxsOwogICAgcmV0dXJuICdoaWRkZW4nOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g5oqV56Wo5b6u5Y2aCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2VfY29udGVudC52b3RlX3dlaWJvID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdoaWRldGhlc2VfY29udGVudCcsCiAgJ3ZlcnNpb24nOiAxMSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLm90aGVyLnZvdGVfd2VpYm8nLAogICd0ZXh0JzogJ3t7dm90ZVdlaWJvRmlsdGVyfX0nLAogICdyZWYnOiB7ICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7dm90ZVdlaWJvRmlsdGVyRGVzY319JyB9IH0sCiAgJ3J1bGUnOiBmdW5jdGlvbiB2b3RlV2VpYm9GaWx0ZXJSdWxlKGZlZWQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm4gbnVsbDsKICAgIGlmIChmZWVkLnF1ZXJ5U2VsZWN0b3IoJy5XQl9mcm9tIGFbaHJlZl49Imh0dHA6Ly92b3RlLndlaWJvLmNvbS8iXScpKQogICAgICByZXR1cm4gJ2hpZGRlbic7CiAgICBpZiAoZmVlZC5xdWVyeVNlbGVjdG9yKCcuV0JfZmVlZF9zcGVjX2NvbnQgYVthY3Rpb24tZGF0YSo9InZvdGUud2VpYm8uY29tIl0nKSkKICAgICAgcmV0dXJuICdoaWRkZW4nOwogICAgaWYgKGZlZWQucXVlcnlTZWxlY3RvcignYVtzdWRhLXVhdHJhY2sqPSIxMDIyLXZvdGUiXScpKQogICAgICByZXR1cm4gJ2hpZGRlbic7CiAgICBpZiAoZmVlZC5xdWVyeVNlbGVjdG9yKCcuaWNvbl9zd192b3RlJykpCiAgICAgIHJldHVybiAnaGlkZGVuJzsKICAgIGlmICh3ZWliby5mZWVkLnNvdXJjZXMudGV4dChmZWVkKS5pbmRleE9mKCfmipXnpagnKSAhPT0gLTEpCiAgICAgIHJldHVybiAnaGlkZGVuJzsKICAgIHJldHVybiBudWxsOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g5oqi57qi5YyF5b6u5Y2aCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2VfY29udGVudC5yZWRwYWNrID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdoaWRldGhlc2VfY29udGVudCcsCiAgJ3ZlcnNpb24nOiAzMDUsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci5yZWQyMDE0JywKICAndGV4dCc6ICd7e3JlZFBhY2tXZWlib319JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e3JlZFBhY2tXZWlib0Rlc2N9fScgfSB9LAogICdydWxlJzogZnVuY3Rpb24gcmVkUGFja1dlaWJvUnVsZShmZWVkKSB7CiAgICBpZiAoIXRoaXMuY29uZikgcmV0dXJuIG51bGw7CiAgICBpZiAoZmVlZC5xdWVyeVNlbGVjdG9yKCcuUENEX2V2ZW50X3JlZDIwMTQnKSkgcmV0dXJuICdoaWRkZW4nOwogICAgaWYgKGZlZWQucXVlcnlTZWxlY3RvcignLldCX2ZlZWRfc3BlY19yZWQyMDE1JykpIHJldHVybiAnaGlkZGVuJzsKICAgIHJldHVybiBudWxsOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g5b6u5Y2a5bqU55So5LuL57uNCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2VfY29udGVudC5hcHBpdGVtID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdoaWRldGhlc2VfY29udGVudCcsCiAgJ3ZlcnNpb24nOiAyNjUsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci5hcHBpdGVtJywKICAndGV4dCc6ICd7e2FwcEl0ZW1XZWlib319JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e2FwcEl0ZW1XZWlib0Rlc2N9fScgfSB9LAogICdydWxlJzogZnVuY3Rpb24gYXBwSXRlbUZpbHRlclJ1bGUoZmVlZCkgewogICAgaWYgKCF0aGlzLmNvbmYpIHJldHVybiBudWxsOwogICAgaWYgKGZlZWQucXVlcnlTZWxlY3RvcignLldCX2ZlZWRfc3BlY1tleHAtZGF0YSo9ImtleT10YmxvZ193ZWlib2NhcmQiXVtleHAtZGF0YSo9IjEwNDIwMDUtYXBwSXRlbSJdJykpCiAgICAgIHJldHVybiAnaGlkZGVuJzsKICAgIGlmIChmZWVkLnF1ZXJ5U2VsZWN0b3IoJ2FbeWF3Zi1saW5rLXR5cGU9IlMiXScpKQogICAgICByZXR1cm4gJ2hpZGRlbic7CiAgICByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLm90aGVyKTsKCi8vIOW+ruWNmumXruetlApmaWx0ZXIuaXRlbXMub3RoZXIuaGlkZXRoZXNlX2NvbnRlbnQud2VuZGEgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2hpZGV0aGVzZV9jb250ZW50JywKICAndmVyc2lvbic6IDQzMSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLm90aGVyLndlbmRhJywKICAndGV4dCc6ICd7e3dlbmRhV2VpYm99fScsCiAgJ3JlZic6IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3t3ZW5kYVdlaWJvRGVzY319JyB9IH0sCiAgJ3J1bGUnOiBmdW5jdGlvbiB3ZW5kYUZpbHRlclJ1bGUoZmVlZCkgewogICAgaWYgKCF0aGlzLmNvbmYpIHJldHVybiBudWxsOwogICAgLy8g6L+Z5p2h6KeE5YiZ5LiN5Zyo5pi+56S65p+Q5Lq655qE5YWo6YOo6Zeu562U6aG16Z2i55Sf5pWI77yM6YG/5YWN5pi+56S656m66aG16Z2iCiAgICBpZiAodXRpbC5kb20ubWF0Y2hlcyhmZWVkLCAnW2lkXj0iUGxfQ29yZV9XZW5kYUxpc3RfXyJdIConKSkgcmV0dXJuIG51bGw7CiAgICBpZiAoZmVlZC5xdWVyeVNlbGVjdG9yKCdbc3VkYS11YXRyYWNrKj0iMTAyMi13ZW5kYSJdJykpIHJldHVybiAnaGlkZGVuJzsKICAgIHJldHVybiBudWxsOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g54ix6Zeu5Yy755SfCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2VfY29udGVudC53ZW53b2RyID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdoaWRldGhlc2VfY29udGVudCcsCiAgJ3ZlcnNpb24nOiAzMzcsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci53ZW53b2RyJywKICAndGV4dCc6ICd7e3dlbndvRHJXZWlib319JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e3dlbndvRHJXZWlib0Rlc2N9fScgfSB9LAogICdydWxlJzogZnVuY3Rpb24gd2Vud29EckZpbHRlclJ1bGUoZmVlZCkgewogICAgaWYgKCF0aGlzLmNvbmYpIHJldHVybiBudWxsOwogICAgaWYgKGZlZWQucXVlcnlTZWxlY3RvcignZGl2W2FjdGlvbi1kYXRhKj0ib2JqZWN0aWQ9MjAxNzg5NjAwMToiXScpKSByZXR1cm4gJ2hpZGRlbic7CiAgICBpZiAoZmVlZC5xdWVyeVNlbGVjdG9yKCdhW3N1ZGEtdWF0cmFjayo9IjIwMTc4OTYwMDEtcHJvZHVjdCJdJykpIHJldHVybiAnaGlkZGVuJzsKICAgIGlmIChmZWVkLnF1ZXJ5U2VsZWN0b3IoJ2FbaHJlZl49Imh0dHA6Ly9kci53ZW53by5jb20vIl0nKSkgcmV0dXJuICdoaWRkZW4nOwogICAgcmV0dXJuIG51bGw7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5vdGhlcik7CgovLyDkuIDnm7Tmkq0KZmlsdGVyLml0ZW1zLm90aGVyLmhpZGV0aGVzZV9jb250ZW50LnlpemhpYm8gPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2hpZGV0aGVzZV9jb250ZW50JywKICAndmVyc2lvbic6IDM4NSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLm90aGVyLnlpemhpYm8nLAogICd0ZXh0JzogJ3t7eWl6aGlib1dlaWJvfX0nLAogICdyZWYnOiB7CiAgICAndHlwZSc6IHsKICAgICAgJ3R5cGUnOiAnc2VsZWN0JywKICAgICAgJ2RlZmF1bHQnOiAnYWxsJywKICAgICAgJ3NlbGVjdCc6IFsKICAgICAgICB7ICd2YWx1ZSc6ICdhbGwnLCAndGV4dCc6ICd7e3lpemhpYm9XZWlib0FsbH19JyB9LAogICAgICAgIHsgJ3ZhbHVlJzogJ3JlcGxheScsICd0ZXh0JzogJ3t7eWl6aGlib1dlaWJvUmVwbGF5fX0nIH0sCiAgICAgIF0sCiAgICB9CiAgfSwKICAncnVsZSc6IGZ1bmN0aW9uIHlpemhpYm9GaWx0ZXJSdWxlKGZlZWQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm4gbnVsbDsKICAgIHZhciBsaXZlID0gZmVlZC5xdWVyeVNlbGVjdG9yKCcuV0JfdmlkZW9bc3VkYS11YXRyYWNrKj0iMjIyNzc0NzAwMS1saXZlIl0nKTsKICAgIGlmICghbGl2ZSkgcmV0dXJuIG51bGw7CiAgICBpZiAodGhpcy5yZWYudHlwZS5jb25mID09PSAnYWxsJykgcmV0dXJuICdoaWRkZW4nOwogICAgdmFyIHR5cGUgPSBsaXZlLnF1ZXJ5U2VsZWN0b3IoJy5XX2ljb25fdGFnJykudGV4dENvbnRlbnQ7CiAgICB1dGlsLmRlYnVnKCdmb3VuZCB5aXpoaWJvIHZpZGVvIHdpdGggc3RhdHVzIHRleHQ6ICVvJywgdHlwZSk7CiAgICBpZiAodHlwZSA9PT0gJ+WbnuaUvicpIHJldHVybiAnaGlkZGVuJzsKICAgIHJldHVybiBudWxsOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g6IKh56Wo6ZO+5o6lCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2VfY29udGVudC5zdG9jayA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnaGlkZXRoZXNlX2NvbnRlbnQnLAogICd2ZXJzaW9uJzogMjc1LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8ub3RoZXIuc3RvY2snLAogICd0ZXh0JzogJ3t7c3RvY2tXZWlib319JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e3N0b2NrV2VpYm9EZXNjfX0nIH0gfSwKICAncnVsZSc6IGZ1bmN0aW9uIHN0b2NrRmlsdGVyUnVsZShmZWVkKSB7CiAgICBpZiAoIXRoaXMuY29uZikgcmV0dXJuIG51bGw7CiAgICBpZiAoZmVlZC5xdWVyeVNlbGVjdG9yKCdhW3N1ZGEtdWF0cmFjayo9IjEwMjItc3RvY2siXScpKQogICAgICByZXR1cm4gJ2hpZGRlbic7CiAgICByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLm90aGVyKTsKCi8vIOWQq+aciei/h+WkmuivnemimOeahOW+ruWNmgpmaWx0ZXIuaXRlbXMub3RoZXIuaGlkZXRoZXNlX2NvbnRlbnQubXVsdGlfdG9waWMgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2hpZGV0aGVzZV9jb250ZW50JywKICAndmVyc2lvbic6IDE0OSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLm90aGVyLm11bHRpX3RvcGljJywKICAndGV4dCc6ICd7e211bHRpVG9waWN9fScsCiAgJ3JlZic6IHsKICAgICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7bXVsdGlUb3BpY0Rlc2N9fScgfSwKICAgICdudW0nOiB7CiAgICAgICd0eXBlJzogJ3JhbmdlJywKICAgICAgJ21pbic6IDMsCiAgICAgICdtYXgnOiAxMCwKICAgICAgJ2RlZmF1bHQnOiA1LAogICAgfQogIH0sCiAgJ3J1bGUnOiBmdW5jdGlvbiBtdWx0aVRvcGljUnVsZShmZWVkKSB7CiAgICBpZiAoIXRoaXMuY29uZikgcmV0dXJuIG51bGw7CiAgICB2YXIgdG9waWNzID0gd2VpYm8uZmVlZC50b3BpY3MuZG9tKGZlZWQpOwogICAgaWYgKHRvcGljcy5sZW5ndGggPj0gdGhpcy5yZWYubnVtLmNvbmYpIHJldHVybiAnaGlkZGVuJzsKICAgIHJldHVybiBudWxsOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g56+H5bmF6L+H6ZW/55qE5b6u5Y2aCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2VfY29udGVudC50b29fbG9uZyA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnaGlkZXRoZXNlX2NvbnRlbnQnLAogICd2ZXJzaW9uJzogMzIzLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8ub3RoZXIudG9vX2xvbmcnLAogICd0ZXh0JzogJ3t7dG9vTG9uZ05lZWRVbmZvbGR9fScsCiAgJ3JlZic6IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3t0b29Mb25nTmVlZFVuZm9sZERlc2N9fScgfSB9LAogICdydWxlJzogZnVuY3Rpb24gdG9vTG9uZ05lZWRVbmZvbGRSdWxlKGZlZWQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm4gbnVsbDsKICAgIGlmICghZmVlZC5oYXNBdHRyaWJ1dGUoJ3lhd2YtdW5mb2xkbG9uZycpKSByZXR1cm4gbnVsbDsKICAgIGlmIChmZWVkLnF1ZXJ5U2VsZWN0b3IoJ1thY3Rpb24tdHlwZT0iZmxfdW5mb2xkIl0nKSkgcmV0dXJuICdoaWRkZW4nOwogICAgcmV0dXJuIG51bGw7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5vdGhlcik7CgovLyDnibnlrprmnaXmupDnmoTlvq7ljZoKZmlsdGVyLnByZWRlZi5zdWJ0aXRsZSgnb3RoZXInLCAnaGlkZXRoZXNlX3NvdXJjZScsICd7e290aGVyQmxhY2tsaXN0VGl0bGVTb3VyY2V9fScpOwoKLy8g5b6u6K+d6aKY5b6u5Y2aCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2Vfc291cmNlLndlaV9odWF0aSA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnaGlkZXRoZXNlX3NvdXJjZScsCiAgJ3ZlcnNpb24nOiAxMDQsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci53ZWlfaHVhdGknLAogICd0ZXh0JzogJ3t7aHVhdGlTb3VyY2VXZWlib319JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e2h1YXRpU291cmNlV2VpYm9EZXNjfX0nIH0gfSwKICAncnVsZSc6IGZ1bmN0aW9uIGh1YXRpU291cmNlV2VpYm9SdWxlKGZlZWQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm4gbnVsbDsKICAgIGlmIChmZWVkLnF1ZXJ5U2VsZWN0b3IoJ2Fbc3VkYS1kYXRhPSJrZXk9dGJsb2dfaG9tZV9uZXcmdmFsdWU9ZmVlZF9jb21lX2Zyb20iXVtocmVmKj0iaHVhdGkud2VpYm8uY29tIl0nKSkKICAgICAgcmV0dXJuICdoaWRkZW4nOwogICAgaWYgKGZlZWQucXVlcnlTZWxlY3RvcignYVtocmVmKj0iaHR0cDovL3dlaWJvLmNvbS9wLyJdW2hyZWYkPSJmcm9tPWZlZWRfY2FyZCJdJykpCiAgICAgIHJldHVybiAnaGlkZGVuJzsKICAgIGlmIChmZWVkLnF1ZXJ5U2VsZWN0b3IoJy5XQl9mcm9tIGFbaHJlZj0iaHR0cDovL2FwcC53ZWliby5jb20vdC9mZWVkLzRBYkFGViJdJykpCiAgICAgIHJldHVybiAnaGlkZGVuJzsKICAgIHJldHVybiBudWxsOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g5paw5rWq5b6u576k5b6u5Y2aCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2Vfc291cmNlLndlaV9xdW4gPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2hpZGV0aGVzZV9zb3VyY2UnLAogICd2ZXJzaW9uJzogMTkyLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8ub3RoZXIud2VpX3F1bicsCiAgJ3RleHQnOiAne3t3ZWlxdW5Tb3VyY2VXZWlib319JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e3dlaXF1blNvdXJjZVdlaWJvRGVzY319JyB9IH0sCiAgJ3J1bGUnOiBmdW5jdGlvbiB3ZWlxdW5Tb3VyY2VXZWlib1J1bGUoZmVlZCkgewogICAgaWYgKCF0aGlzLmNvbmYpIHJldHVybiBudWxsOwogICAgaWYgKGZlZWQucXVlcnlTZWxlY3RvcignYVtocmVmKj0iaHR0cDovL3Eud2VpYm8uY29tLyJdW2hyZWYkPSJzb3VyY2U9d2VpYm9zb3VyY2UiXScpKQogICAgICByZXR1cm4gJ2hpZGRlbic7CiAgICByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLm90aGVyKTsKCi8vIOW+ruivnemimOW+ruWNmgpmaWx0ZXIuaXRlbXMub3RoZXIuaGlkZXRoZXNlX3NvdXJjZS53ZWlfZmFuZ3RhbiA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnaGlkZXRoZXNlX3NvdXJjZScsCiAgJ3ZlcnNpb24nOiAxODQsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci53ZWlfZmFuZ3RhbicsCiAgJ3RleHQnOiAne3tmYW5ndGFuU291cmNlV2VpYm99fScsCiAgJ3JlZic6IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3tmYW5ndGFuU291cmNlV2VpYm9EZXNjfX0nIH0gfSwKICAncnVsZSc6IGZ1bmN0aW9uIGZhbmd0YW5Tb3VyY2VXZWlib1J1bGUoZmVlZCkgewogICAgaWYgKCF0aGlzLmNvbmYpIHJldHVybiBudWxsOwogICAgaWYgKGZlZWQucXVlcnlTZWxlY3RvcignLldCX2Zyb20gYVtocmVmKj0idGFsay53ZWliby5jb20iXScpKQogICAgICByZXR1cm4gJ2hpZGRlbic7CiAgICByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLm90aGVyKTsKCi8vIOW+ruWFrOebiuW+ruWNmgpmaWx0ZXIuaXRlbXMub3RoZXIuaGlkZXRoZXNlX3NvdXJjZS53ZWlfZ29uZ3lpID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdoaWRldGhlc2Vfc291cmNlJywKICAndmVyc2lvbic6IDI1MiwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLm90aGVyLndlaV9nb25neWknLAogICd0ZXh0JzogJ3t7Z29uZ3lpU291cmNlV2VpYm99fScsCiAgJ3JlZic6IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3tnb25neWlTb3VyY2VXZWlib0Rlc2N9fScgfSB9LAogICdydWxlJzogZnVuY3Rpb24gZ29uZ3lpU291cmNlV2VpYm9SdWxlKGZlZWQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm4gbnVsbDsKICAgIGlmIChmZWVkLnF1ZXJ5U2VsZWN0b3IoJ2FbaHJlZio9ImFwcC53ZWliby5jb20vdC9mZWVkLzJ1OHNNdyJdJykpCiAgICAgIHJldHVybiAnaGlkZGVuJzsKICAgIGlmIChmZWVkLnF1ZXJ5U2VsZWN0b3IoJ2FbaHJlZio9IndlaWJvLmNvbS9wLzEwMDEyN3AiXScpKQogICAgICByZXR1cm4gJ2hpZGRlbic7CiAgICByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLm90aGVyKTsKCi8vIOadpeiHqiDmnKrpgJrov4flrqHmoLjlupTnlKgg5b6u5Y2aCmZpbHRlci5pdGVtcy5vdGhlci5oaWRldGhlc2Vfc291cmNlLnVuYXV0aF9zb3VyY2UgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2hpZGV0aGVzZV9zb3VyY2UnLAogICd2ZXJzaW9uJzogMTk2LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8ub3RoZXIudW5hdXRoX3NvdXJjZScsCiAgJ3RleHQnOiAne3t1bmF1dGhhcHBXZWlib319JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e3VuYXV0aGFwcFdlaWJvRGVzY319JyB9IH0sCiAgJ3J1bGUnOiBmdW5jdGlvbiB1bmF1dGhTb3VyY2VSdWxlKGZlZWQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm4gbnVsbDsKICAgIHZhciBmcm9tID0gQXJyYXkuZnJvbShmZWVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5XQl9mcm9tJykpOwogICAgZnJvbSA9IGZyb20ubWFwKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmLmxhc3RDaGlsZDsgfSkKICAgICAgLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB4Lm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERTsgfSkKICAgICAgLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50ZXh0Q29udGVudDsgfSkKICAgICAgLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pbmRleE9mKHRleHQuc291cmNlVW5rb3duKSAhPT0gLTE7IH0pOwogICAgaWYgKCFmcm9tLmxlbmd0aCkgcmV0dXJuOwogICAgcmV0dXJuICdoaWRkZW4nOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMub3RoZXIpOwoKLy8g5Yi35bGP5LiO54mI6IGKCmZpbHRlci5wcmVkZWYuc3VidGl0bGUoJ290aGVyJywgJ3NwYW0nLCAne3tvdGhlclNwYW1taW5nVGl0bGV9fScpOwoKLy8g5re75Yqg5pWw6YeP5ZKM5oqY5Y+gL+makOiXj+eahApmaWx0ZXIucmVmID0ge307CmZpbHRlci5yZWYubnVtYWN0ID0gZnVuY3Rpb24gKGRlZm51bSwgZGVmYWN0LCBudW1iZXIsIGFjdGlvbiwgYmFzZSkgewogIGJhc2UgPSBiYXNlIHx8IHt9OwogIGJhc2VbbnVtYmVyIHx8ICdudW1iZXInXSA9IHsKICAgICd0eXBlJzogJ251bWJlcicsCiAgICAnZGVmYXVsdCc6IGRlZm51bSB8fCAzLAogICAgJ21pbic6IDEsCiAgfTsKICBiYXNlW2FjdGlvbiB8fCAnYWN0aW9uJ10gPSB7CiAgICAndHlwZSc6ICdzZWxlY3QnLAogICAgJ2RlZmF1bHQnOiBkZWZhY3QgfHwgJ2ZvbGQnLAogICAgJ3NlbGVjdCc6IFsKICAgICAgeyAndmFsdWUnOiAnZm9sZCcsICd0ZXh0JzogJ3t7Zm9sZGxpc3RBY3Rpb25EZXNjfX0nIH0sCiAgICAgIHsgJ3ZhbHVlJzogJ2hpZGRlbicsICd0ZXh0JzogJ3t7YmxhY2tsaXN0QWN0aW9uRGVzY319JyB9LAogICAgXQogIH07CiAgcmV0dXJuIGJhc2U7Cn07CgovLyDnm7jlkIzluJDlj7fnmoTov4flpJrlvq7ljZoKZmlsdGVyLml0ZW1zLm90aGVyLnNwYW0uc2FtZV9hY2NvdW50ID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdzcGFtJywKICAndmVyc2lvbic6IDI1LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdwcmlvcml0eSc6IC0xZTYsIC8vIOS9juS8mOWFiOe6pwogICdrZXknOiAnd2VpYm8ub3RoZXIuc2FtZV9hY2NvdW50JywKICAncmVmJzogZmlsdGVyLnJlZi5udW1hY3QoNSwgJ2ZvbGQnKSwKICAndGV4dCc6ICd7e3NhbWVBY2NvdW50RmlsdGVyRGVzY319JywKICAncnVsZSc6IGZ1bmN0aW9uIHNhbWVBY2NvdW50UnVsZShmZWVkKSB7CiAgICBpZiAoIXRoaXMuY29uZikgcmV0dXJuIG51bGw7CiAgICAvLyDlpoLmnpzlnKjliIbnu4TpobXpnaLvvIzogIzkuJTnlKjmiLforr7nva7kuobliIbnu4TpobXpnaLlv73nlaXor6Xov4fmu6TlmajvvIzliJnkuI3lt6XkvZwKICAgIGlmIChmaWx0ZXIuaXRlbXMuYmFzZS5ncm91cGluZy5ncm91cF9zYW1lX2FjY291bnQuY29uZiAmJiB1dGlsLnBhZ2UuZ3JvdXAoKSkgcmV0dXJuIG51bGw7CiAgICAvLyDkuKrkurrkuLvpobXlkIzmoLfkuI3og73lupTnlKgKICAgIGlmICh1dGlsLnBhZ2UudXNlcigpKSByZXR1cm47CiAgICB2YXIgaWQgPSB3ZWliby5mZWVkLmF1dGhvci5pZChmZWVkKTsKICAgIGlmICghaWQpIHJldHVybjsKICAgIHZhciBudW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKAogICAgICAnW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gLldCX2ZlZWRfdHlwZVt5YXdmLWRpc3BsYXldOm5vdChbeWF3Zi1kaXNwbGF5JD0iLWZvbGQiXSk6bm90KFt5YXdmLWRpc3BsYXkkPSItdW5mb2xkIl0pOm5vdChbeWF3Zi1kaXNwbGF5JD0iLWhpZGRlbiJdKT4uV0JfZmVlZF9kZXRhaWw+LldCX2RldGFpbD4uV0JfaW5mbz4uV19mYlt1c2VyY2FyZF49ImlkPScgKyBpZCArICciXScKICAgICkubGVuZ3RoOwogICAgaWYgKG51bWJlciA+PSB0aGlzLnJlZi5udW1iZXIuY29uZikgewogICAgICBmZWVkLnNldEF0dHJpYnV0ZSgneWF3Zi1yZWFzb24nLCB0ZXh0LnNhbWVBY2NvdW50RmlsdGVyUmVhc29uKTsKICAgICAgcmV0dXJuICdhY2NvdW50LScgKyB0aGlzLnJlZi5hY3Rpb24uY29uZjsKICAgIH0gZWxzZSByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLm90aGVyKTsKCi8vIOebuOWQjOW+ruWNmueahOi/h+Wkmui9rOWPkQpmaWx0ZXIuaXRlbXMub3RoZXIuc3BhbS5zYW1lX2ZvcndhcmQgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3NwYW0nLAogICd2ZXJzaW9uJzogMTksCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ3ByaW9yaXR5JzogLTFlNiwgLy8g5L2O5LyY5YWI57qnCiAgJ2tleSc6ICd3ZWliby5vdGhlci5zYW1lX2ZvcndhcmQnLAogICdyZWYnOiBmaWx0ZXIucmVmLm51bWFjdCgzLCAnZm9sZCcpLAogICd0ZXh0JzogJ3t7c2FtZUZvcndhcmRGaWx0ZXJEZXNjfX0nLAogICdydWxlJzogZnVuY3Rpb24gc2FtZUZvcndhcmRSdWxlKGZlZWQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm4gbnVsbDsKICAgIHZhciBvbWlkID0gZmVlZC5nZXRBdHRyaWJ1dGUoJ29taWQnKTsKICAgIGlmICghb21pZCkgcmV0dXJuIG51bGw7CiAgICB2YXIgbnVtYmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gJyArCiAgICAgICcuV0JfZmVlZF90eXBlW29taWQ9IicgKyBvbWlkICsgJyJdW3lhd2YtZGlzcGxheV06bm90KFt5YXdmLWRpc3BsYXkkPSItZm9sZCJdKTpub3QoW3lhd2YtZGlzcGxheSQ9Ii11bmZvbGQiXSk6bm90KFt5YXdmLWRpc3BsYXkkPSItaGlkZGVuIl0pJykubGVuZ3RoOwogICAgaWYgKG51bWJlciA+PSB0aGlzLnJlZi5udW1iZXIuY29uZikgewogICAgICBmZWVkLnNldEF0dHJpYnV0ZSgneWF3Zi1yZWFzb24nLCB0ZXh0LnNhbWVGb3J3YXJkRmlsdGVyUmVhc29uKTsKICAgICAgcmV0dXJuICdmb3J3YXJkLScgKyB0aGlzLnJlZi5hY3Rpb24uY29uZjsKICAgIH0gZWxzZSByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLm90aGVyKTsKCi8vIOivhOiuuui/h+a7pApmaWx0ZXIucHJlZGVmLmdyb3VwKCdjb21tZW50Jyk7CgovLyDor4TorrrlhbPplK7or40KZmlsdGVyLnByZWRlZi53YmZjKHsKICAnbmFtZSc6ICdja2V5d29yZCcsCiAgJ3ZlcnNpb24nOiAyMjMsCiAgJ2FkZCc6IGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnRyaW0oKSB8fCBudWxsOyB9LAogICdsaXN0dHlwZSc6IFsnYmxhY2tsaXN0JywgJ3doaXRlbGlzdCddLAogICdjb21tZW50JzogZnVuY3Rpb24ga2V5d29yZE1hdGNoQ29tbWVudFJ1bGUoYWN0aW9uLCBjb21tZW50KSB7CiAgICB2YXIga2V5d29yZHMgPSB0aGlzLmNvbmYuY29uY2F0KHRoaXMuZXh0ZW50KTsKICAgIHZhciB0ZXh0cyA9IHdlaWJvLmNvbW1lbnQudGV4dChjb21tZW50KS50b1VwcGVyQ2FzZSgpOwogICAgdmFyIG1hdGNoID0ga2V5d29yZHMuc29tZShmdW5jdGlvbiAoa2V5d29yZCkgewogICAgICBpZiAoIWtleXdvcmQpIHJldHVybiBmYWxzZTsKICAgICAgaWYgKHRleHRzLmluZGV4T2Yoa2V5d29yZC50b1VwcGVyQ2FzZSgpKSA9PT0gLTEpIHJldHVybiBmYWxzZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9KTsKICAgIGlmIChtYXRjaCkgcmV0dXJuIGFjdGlvbjsgZWxzZSByZXR1cm4gbnVsbDsKICB9LAogICdmYXN0JzogewogICAgJ3ZhbGlkYXRvcic6IGZpbHRlci5mYXN0LmNvbnRlbnQudmFsaWRhdG9yLAogICAgJ3JlY29nbml6ZXInOiBmaWx0ZXIuZmFzdC5jb250ZW50LnJlY29nbml6ZXIua2V5d29yZCwKICAgICdzZWxlY3RlZCc6IGZpbHRlci5mYXN0LnNlbGVjdGVkLmNvbW1lbnQsCiAgICAnYWRkJzogZmlsdGVyLmZhc3QuY29udGVudC5hZGQsCiAgICAnZGVzY3JpcHRpb24nOiBmaWx0ZXIuZmFzdC5kZXNjcmlwdGlvbi5nZW4oewogICAgICAnZ3JvdXAnOiAnY29tbWVudCcsICduYW1lJzogJ2NrZXl3b3JkJywKICAgICAgJ2F0dHInOiAndGV4dCcsICdpbnB1dCc6IHRydWUsICdjaG9zZW4nOiB0cnVlCiAgICB9KSwKICB9Cn0sIGZpbHRlci5ncm91cHMuY29tbWVudCk7CgovLyDor4TorrrmraPliJnlvI8KZmlsdGVyLnByZWRlZi53YmZjKHsKICAnbmFtZSc6ICdjcmVnZXhwJywKICAndmVyc2lvbic6IDI4NSwKICAnYWRkJzogdXRpbC5zdHIuYWRkcmVnZXgsCiAgJ2Rpc3BsYXknOiBmdW5jdGlvbiAocykgeyByZXR1cm4gJy8nICsgcyArICcvJzsgfSwKICAnbGlzdHR5cGUnOiBbJ2JsYWNrbGlzdCcsICd3aGl0ZWxpc3QnXSwKICAnY29tbWVudCc6IGZ1bmN0aW9uIHJlZ2V4cE1hdGNoQ29tbWVudFJ1bGUoYWN0aW9uLCBjb21tZW50KSB7CiAgICB2YXIgcmVnZXhlbiA9IHRoaXMuY29uZi5jb25jYXQodGhpcy5leHRlbnQpLm1hcCh1dGlsLnN0ci5jb21wcmVnZXgpLmZpbHRlcihCb29sZWFuKTsKICAgIHZhciB0ZXh0cyA9IHdlaWJvLmNvbW1lbnQudGV4dChjb21tZW50KTsKICAgIHZhciBtYXRjaCA9IHJlZ2V4ZW4uc29tZShmdW5jdGlvbiAocmVnZXhwKSB7CiAgICAgIGlmICghcmVnZXhwLmV4ZWModGV4dHMpKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CiAgICBpZiAobWF0Y2gpIHJldHVybiBhY3Rpb247IGVsc2UgcmV0dXJuIG51bGw7CiAgfSwKICAnZmFzdCc6IHsKICAgICd2YWxpZGF0b3InOiBmaWx0ZXIuZmFzdC5jb250ZW50LnZhbGlkYXRvciwKICAgICdyZWNvZ25pemVyJzogZmlsdGVyLmZhc3QuY29udGVudC5yZWNvZ25pemVyLnJlZ2V4cCwKICAgICdzZWxlY3RlZCc6IGZpbHRlci5mYXN0LnNlbGVjdGVkLm5ldmVyLAogICAgJ2FkZCc6IGZpbHRlci5mYXN0LmNvbnRlbnQuYWRkLAogICAgJ2Rlc2NyaXB0aW9uJzogZmlsdGVyLmZhc3QuZGVzY3JpcHRpb24uZ2VuKHsKICAgICAgJ2dyb3VwJzogJ2NvbW1lbnQnLCAnbmFtZSc6ICdjcmVnZXhwJywKICAgICAgJ2F0dHInOiAndGV4dCcsICdpbnB1dCc6IHRydWUsICdjaG9zZW4nOiBmYWxzZQogICAgfSksCiAgfQp9LCBmaWx0ZXIuZ3JvdXBzLmNvbW1lbnQpOwoKLy8g6K+E6K6655So5oi3CmZpbHRlci5wcmVkZWYud2JmYyh7CiAgJ25hbWUnOiAnY3VzZXInLAogICd2ZXJzaW9uJzogMjIzLAogICdhZGQnOiBmdW5jdGlvbiAocykgeyByZXR1cm4gcy50cmltKCkucmVwbGFjZSgvXkAvLCAnJykgfHwgbnVsbDsgfSwKICAnZGlzcGxheSc6IGZ1bmN0aW9uIChzKSB7IHJldHVybiAnQCcgKyBzOyB9LAogICdsaXN0dHlwZSc6IFsnYmxhY2tsaXN0JywgJ3doaXRlbGlzdCddLAogICdjb21tZW50JzogZnVuY3Rpb24gbWVudGlvbk1hdGNoQ29tbWVudFJ1bGUoYWN0aW9uLCBjb21tZW50KSB7CiAgICB2YXIgbWVudGlvbnMgPSB0aGlzLmNvbmYuY29uY2F0KHRoaXMuZXh0ZW50KSwgdXNlcnMgPSB3ZWliby5jb21tZW50LnVzZXJzLm5hbWUoY29tbWVudCk7CiAgICB2YXIgbWF0Y2ggPSB1c2Vycy5zb21lKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBtZW50aW9ucy5pbmRleE9mKG5hbWUpICE9PSAtMTsgfSk7CiAgICBpZiAobWF0Y2gpIHJldHVybiBhY3Rpb247IGVsc2UgcmV0dXJuIG51bGw7CiAgfSwKICAnZmFzdCc6IHsKICAgICd2YWxpZGF0b3InOiBmaWx0ZXIuZmFzdC5hY2NvdW50LnZhbGlkYXRvciwKICAgICdyZWNvZ25pemVyJzogZmlsdGVyLmZhc3QuYWNjb3VudC5yZWNvZ25pemVyLAogICAgJ3NlbGVjdGVkJzogZmlsdGVyLmZhc3Quc2VsZWN0ZWQuY29tbWVudCwKICAgICdhZGQnOiBmaWx0ZXIuZmFzdC5hY2NvdW50LmFkZG5hbWUsCiAgICAnZGVzY3JpcHRpb24nOiBmaWx0ZXIuZmFzdC5kZXNjcmlwdGlvbi5nZW4oewogICAgICAnZ3JvdXAnOiAnY3VzZXInLCAnbmFtZSc6ICdjdXNlcicsCiAgICAgICdhdHRyJzogJ25hbWUnLCAnY2hvc2VuJzogdHJ1ZQogICAgfSksCiAgfQp9LCBmaWx0ZXIuZ3JvdXBzLmNvbW1lbnQpOwoKLy8g6K+E6K666K+d6aKYCmZpbHRlci5wcmVkZWYud2JmYyh7CiAgJ25hbWUnOiAnY3RvcGljJywKICAndmVyc2lvbic6IDIyMywKICAnYWRkJzogZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudHJpbSgpLnJlcGxhY2UoLyMvZywgJycpIHx8IG51bGw7IH0sCiAgJ2Rpc3BsYXknOiBmdW5jdGlvbiAocykgeyByZXR1cm4gJyMnICsgcyArICcjJzsgfSwKICAnbGlzdHR5cGUnOiBbJ2JsYWNrbGlzdCcsICd3aGl0ZWxpc3QnXSwKICAnY29tbWVudCc6IGZ1bmN0aW9uIGN0b3BpY01hdGNoKGFjdGlvbiwgY29tbWVudCkgewogICAgdmFyIHRvcGljcyA9IHRoaXMuY29uZi5jb25jYXQodGhpcy5leHRlbnQpLCB0b3BpY1RleHQgPSB3ZWliby5jb21tZW50LnRvcGljcy50ZXh0KGNvbW1lbnQpLmpvaW4oJyMjJyk7CiAgICB2YXIgbWF0Y2ggPSB0b3BpY3Muc29tZShmdW5jdGlvbiAodG9waWMpIHsgcmV0dXJuIHRvcGljVGV4dC5pbmRleE9mKHRvcGljKSAhPT0gLTE7IH0pOwogICAgaWYgKG1hdGNoKSByZXR1cm4gYWN0aW9uOyBlbHNlIHJldHVybiBudWxsOwogIH0sCiAgJ2Zhc3QnOiB7CiAgICAndmFsaWRhdG9yJzogZmlsdGVyLmZhc3QudG9waWMudmFsaWRhdG9yLAogICAgJ3JlY29nbml6ZXInOiBmaWx0ZXIuZmFzdC50b3BpYy5yZWNvZ25pemVyLnRvcGljLAogICAgJ3NlbGVjdGVkJzogZmlsdGVyLmZhc3Quc2VsZWN0ZWQuY29tbWVudCwKICAgICdhZGQnOiBmaWx0ZXIuZmFzdC50b3BpYy5hZGQsCiAgICAnZGVzY3JpcHRpb24nOiBmaWx0ZXIuZmFzdC5kZXNjcmlwdGlvbi5nZW4oewogICAgICAnZ3JvdXAnOiAnY3RvcGljJywgJ25hbWUnOiAnY3RvcGljJywKICAgICAgJ2F0dHInOiAndG9waWMnLCAnaW5wdXQnOiB0cnVlLCAnY2hvc2VuJzogdHJ1ZQogICAgfSksCiAgfQp9LCBmaWx0ZXIuZ3JvdXBzLmNvbW1lbnQpOwoKLy8g6auY57qn6YCJ6aG5CmZpbHRlci5wcmVkZWYuc3VidGl0bGUoJ2NvbW1lbnQnLCAnb3RoZXJjJywgJ3t7Y29tbWVudE90aGVyRmlsdGVyc319Jyk7CgovLyDmiJHnmoTor4TorroKZmlsdGVyLml0ZW1zLmNvbW1lbnQub3RoZXJjLm15X2NvbW1lbnQgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ290aGVyYycsCiAgJ3ZlcnNpb24nOiAyMjksCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2RlZmF1bHQnOiB0cnVlLAogICdrZXknOiAnd2VpYm8uY29tbWVudC5teV9jb21tZW50JywKICAncHJpb3JpdHknOiAxZTUgKyAxZTMsIC8vIOS8mOWFiOS6jueZveWQjeWNlQogICd0ZXh0JzogJ3t7Y29tbWVudE15RGlzcGxheX19JywKICAnY29tbWVudCc6IGZ1bmN0aW9uIG15Q29tbWVudFJ1bGUoY29tbWVudCkgewogICAgaWYgKCF0aGlzLmNvbmYpIHJldHVybiBudWxsOwogICAgdmFyIGlkID0gd2VpYm8uY29tbWVudC5hdXRob3IuaWQoY29tbWVudCk7CiAgICBpZiAoaWQgPT09IHV0aWwuaW5mby51aWQpIHJldHVybiAnc2hvdyc7CiAgICByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmNvbW1lbnQpOwoKLy8g6KGo5oOF55qE5pWw6YePCmZpbHRlci5pdGVtcy5jb21tZW50Lm90aGVyYy5lbW9qaV9jb3VudCA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnb3RoZXJjJywKICAndmVyc2lvbic6IDIyMywKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLmNvbW1lbnQuZW1vamlfY291bnQnLAogICdyZWYnOiB7CiAgICAnbnVtYmVyJzogewogICAgICAndHlwZSc6ICdudW1iZXInLAogICAgICAnZGVmYXVsdCc6IDgsCiAgICAgICdtaW4nOiAxLAogICAgICAnbWF4JzogMjAKICAgIH0KICB9LAogICd0ZXh0JzogJ3t7Y29tbWVudEVtb2ppQ291bnREZXNjfX0nLAogICdjb21tZW50JzogZnVuY3Rpb24gZW1vamlDb3VudENvbW1lbnRSdWxlKGNvbW1lbnQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm4gbnVsbDsKICAgIHZhciBlbW9qaSA9IHdlaWJvLmNvbW1lbnQuZW1vamkoY29tbWVudCk7CiAgICBpZiAoZW1vamkubGVuZ3RoID49IHRoaXMucmVmLm51bWJlci5jb25mKSByZXR1cm4gJ2hpZGRlbic7CiAgICByZXR1cm4gbnVsbDsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmNvbW1lbnQpOwoKLy8g6KGo5oOF55qE56eN57G7CmZpbHRlci5pdGVtcy5jb21tZW50Lm90aGVyYy5lbW9qaV90eXBlcyA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnb3RoZXJjJywKICAndmVyc2lvbic6IDIyMywKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLmNvbW1lbnQuZW1vamlfdHlwZXMnLAogICdyZWYnOiB7CiAgICAnbnVtYmVyJzogewogICAgICAndHlwZSc6ICdudW1iZXInLAogICAgICAnZGVmYXVsdCc6IDQsCiAgICAgICdtaW4nOiAxLAogICAgICAnbWF4JzogMjAKICAgIH0KICB9LAogICd0ZXh0JzogJ3t7Y29tbWVudEVtb2ppVHlwZXNEZXNjfX0nLAogICdjb21tZW50JzogZnVuY3Rpb24gZW1vamlUeXBlc0NvbW1lbnRSdWxlKGNvbW1lbnQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm4gbnVsbDsKICAgIHZhciBlbW9qaSA9IHdlaWJvLmNvbW1lbnQuZW1vamkoY29tbWVudCk7CiAgICBlbW9qaS5maWx0ZXIoZnVuY3Rpb24gKGUsIGkpIHsgcmV0dXJuIGVtb2ppLmluZGV4T2YoZSkgPT09IGk7IH0pOwogICAgaWYgKGVtb2ppLmxlbmd0aCA+PSB0aGlzLnJlZi5udW1iZXIuY29uZikgcmV0dXJuICdoaWRkZW4nOwogICAgcmV0dXJuIG51bGw7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5jb21tZW50KTsKCi8vIOayoeacieWGheWuueeahOivhOiuugpmaWx0ZXIuaXRlbXMuY29tbWVudC5vdGhlcmMubm9fY29udGVudCA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnb3RoZXJjJywKICAndmVyc2lvbic6IDIyMywKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLmNvbW1lbnQubm9fY29udGVudCcsCiAgJ3RleHQnOiAne3tjb21tZW50V2l0aE91dENvbnRlbnREZXNjfX0nLAogICdjb21tZW50JzogZnVuY3Rpb24gbWVudGlvbk9ubHlDb21tZW50UnVsZShjb21tZW50KSB7CiAgICBpZiAoIXRoaXMuY29uZikgcmV0dXJuIG51bGw7CiAgICBpZiAoY29tbWVudC5xdWVyeVNlbGVjdG9yKCcubWVkaWFfYm94IC5XQl9waWMnKSkgcmV0dXJuIG51bGw7IC8vIOacieWbvueJh+eahOS4jeeul+ayoeWGheWuuQogICAgdmFyIHRleHRzID0gQXJyYXkuZnJvbShjb21tZW50LnF1ZXJ5U2VsZWN0b3IoJy5XQl90ZXh0JykuY2hpbGROb2Rlcyk7CiAgICB0ZXh0cyA9IHRleHRzLmZpbHRlcihmdW5jdGlvbiAobikgeyByZXR1cm4gIXV0aWwuZG9tLm1hdGNoZXMobiwgJ2FbdXNlcmNhcmRdJyk7IH0pOyAvLyDmj5DliLDkurrkuI3nrpflhoXlrrkKICAgIHRleHRzID0gdGV4dHMubWFwKGZ1bmN0aW9uIChuKSB7IHJldHVybiBuLnRleHRDb250ZW50OyB9KS5qb2luKCcnKTsKICAgIHRleHRzID0gdGV4dHMucmVwbGFjZSgvXHMvZywgJycpLnJlcGxhY2UoL+WbnuWkjXzlm57lvql85Zue6KaGfFJlcGx5L2ksICcnKS5zbGljZSgxKTsgLy8g56m65qC844CB4oCc5Zue5aSN4oCd5ZKM5YaS5Y+35LiN566XCiAgICBpZiAoIXRleHRzKSByZXR1cm4gJ2hpZGRlbic7IGVsc2UgcmV0dXJuIG51bGw7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5jb21tZW50KTsKCi8vIOWQq+aciei9rOWPkeeahOivhOiuugpmaWx0ZXIuaXRlbXMuY29tbWVudC5vdGhlcmMud2l0aF9mb3J3YXJkID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdvdGhlcmMnLAogICd2ZXJzaW9uJzogMjIzLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8uY29tbWVudC53aXRoX2ZvcndhcmQnLAogICd0ZXh0JzogJ3t7Y29tbWVudFdpdGhGb3J3YXJkRGVzY319JywKICAnY29tbWVudCc6IGZ1bmN0aW9uIHdpdGhGb3J3YXJkQ29tbWVudFJ1bGUoY29tbWVudCkgewogICAgaWYgKCF0aGlzLmNvbmYpIHJldHVybiBudWxsOwogICAgdmFyIHVzZXJzID0gQXJyYXkuZnJvbShjb21tZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbdXNlcmNhcmRdJykpOwogICAgdmFyIHRleHRzID0gdXNlcnMuZmlsdGVyKGZ1bmN0aW9uICh1KSB7CiAgICAgIHJldHVybiB1LnByZXZpb3VzU2libGluZy50ZXh0Q29udGVudC5tYXRjaCgvXC9cLyQvKTsKICAgIH0pOwogICAgaWYgKHRleHRzLmxlbmd0aCkgcmV0dXJuICdoaWRkZW4nOyBlbHNlIHJldHVybiBudWxsOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMuY29tbWVudCk7CgovLyDlkKvmnInlm77niYfnmoTor4TorroKZmlsdGVyLml0ZW1zLmNvbW1lbnQub3RoZXJjLndpdGhfcGljdHVyZSA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnb3RoZXJjJywKICAndmVyc2lvbic6IDIyMywKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLmNvbW1lbnQud2l0aF9waWN0dXJlJywKICAndGV4dCc6ICd7e2NvbW1lbnRXaXRoUGljdHVyZX19JywKICAncmVmJzogewogICAgJ2FjdCc6IHsKICAgICAgJ3R5cGUnOiAnc2VsZWN0JywKICAgICAgJ2RlZmF1bHQnOiAnZm9sZCcsCiAgICAgICdzZWxlY3QnOiBbCiAgICAgICAgeyAndmFsdWUnOiAnZm9sZCcsICd0ZXh0JzogJ3t7Y29tbWVudFdpdGhQaWN0dXJlRm9sZH19JyB9LAogICAgICAgIHsgJ3ZhbHVlJzogJ2hpZGRlbicsICd0ZXh0JzogJ3t7Y29tbWVudFdpdGhQaWN0dXJlSGlkZX19JyB9LAogICAgICBdLAogICAgfQogIH0sCiAgJ2NvbW1lbnQnOiBmdW5jdGlvbiB3aXRoUGljdHVyZUNvbW1lbnRSdWxlKGNvbW1lbnQpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm4gbnVsbDsKICAgIHZhciBtZWRpYSA9IGNvbW1lbnQucXVlcnlTZWxlY3RvcignLldCX21lZGlhX3dyYXAnKTsgaWYgKCFtZWRpYSkgcmV0dXJuIG51bGw7CiAgICBpZiAodGhpcy5yZWYuYWN0LmNvbmYgPT09ICdoaWRkZW4nKSByZXR1cm4gJ2hpZGRlbic7IGVsc2UgcmV0dXJuIG51bGw7CiAgfSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5yZWYuYWN0LmNvbmYgIT09ICdmb2xkJykgcmV0dXJuOwogICAgb2JzZXJ2ZXIuY29tbWVudC5hZnRlcihmdW5jdGlvbiAoY29tbWVudCkgewogICAgICB2YXIgbWVkaWEgPSBjb21tZW50LnF1ZXJ5U2VsZWN0b3IoJy5XQl9tZWRpYV93cmFwOm5vdChbeWF3Zi1jbXQtaW1nXSknKTsgaWYgKCFtZWRpYSkgcmV0dXJuOwogICAgICB2YXIgaW1nID0gbWVkaWEucXVlcnlTZWxlY3RvcignbGlbYWN0aW9uLXR5cGU9ImNvbW1lbnRfbWVkaWFfaW1nIl0gaW1nJyk7IGlmICghaW1nKSByZXR1cm47CiAgICAgIHZhciBwaWQgPSBpbWcuc3JjLm1hdGNoKC9cLyhbXlwvXSopXC5bXlwvXSokLylbMV07CiAgICAgIHZhciB0ZXh0ID0gY29tbWVudC5xdWVyeVNlbGVjdG9yKCcuV0JfdGV4dCcpOwogICAgICB2YXIgYSA9IHV0aWwuZG9tLmNyZWF0ZSh1dGlsLnN0ci5maWxsKGh0bWwudmlld09yaWdpbmFsRkNMaW5rLCB7ICdwaWQnOiBwaWQgfSkpOwogICAgICBtZWRpYS5zZXRBdHRyaWJ1dGUoJ3lhd2YtY210LWltZycsICdoaWRkZW4nKTsKICAgICAgYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsgaW1nLmNsaWNrKCk7IH0pOwogICAgICB0ZXh0LmFwcGVuZENoaWxkKGEpOwogICAgICB2YXIgb2xkTGluayA9IHRleHQucXVlcnlTZWxlY3RvcignYVtpbWFnZWNhcmRdJyk7CiAgICAgIGlmIChvbGRMaW5rICYmIG9sZExpbmsgIT09IGEpIG9sZExpbmsucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvbGRMaW5rKTsKICAgIH0pOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMuY29tbWVudCk7CgovLyDoh6rliqjliKDpmaTor4TorroKZmlsdGVyLml0ZW1zLmNvbW1lbnQub3RoZXJjLmRlbGV0ZV9jb21tZW50ID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdvdGhlcmMnLAogICd2ZXJzaW9uJzogMjI5LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8uY29tbWVudC5kZWxldGVfY29tbWVudCcsCiAgJ3RleHQnOiAne3tkZWxldGVDb21tZW50SGlkZGVufX0nLAogICdyZWYnOiB7ICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ3dhcm4nLCAndGV4dCc6ICd7e2RlbGV0ZUNvbW1lbnRIaWRkZW5EZXNjfX0nIH0gfSwKICAnaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdGhpcy5jb25mKSByZXR1cm47CiAgICB2YXIgZiA9IGZpbHRlci5maXguY210aGlkZGVuLmRvbmU7CiAgICBmaWx0ZXIuZml4LmNtdGhpZGRlbi5kb25lID0gZnVuY3Rpb24gKGNvbW1lbnQpIHsKICAgICAgZihjb21tZW50KTsKICAgICAgdmFyIGRlbGJ1dHRvbiA9IGNvbW1lbnQucXVlcnlTZWxlY3RvcignYVthY3Rpb24tdHlwZT0iZGVsZXRlIl0nKTsgaWYgKCFkZWxidXR0b24pIHJldHVybjsKICAgICAgdmFyIGluZm8gPSBkZWxidXR0b24uZ2V0QXR0cmlidXRlKCdhY3Rpb24tZGF0YScpOwogICAgICBuZXR3b3JrLmNvbW1lbnQuZGVsKGluZm8pOwogICAgfTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmNvbW1lbnQpOwoKLy8g54mI6Z2i5riF55CGCmZpbHRlci5wcmVkZWYuZ3JvdXAoJ2xheW91dCcpOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgY3VycmVudCA9IG51bGwsIGdyb3VwOwogIHZhciBzdWJ0aXRsZSA9IGZ1bmN0aW9uIChuYW1lLCBhbGxCdXR0b24pIHsKICAgIGdyb3VwID0gKGN1cnJlbnQgPSBuYW1lKS50b0xvY2FsZUxvd2VyQ2FzZSgpOwogICAgZmlsdGVyLml0ZW1zLmxheW91dFtncm91cF0gPSB7fTsKICAgIC8vIOWIhue7hOagh+mimAogICAgdmFyIHRpZCA9ICdsYXlvdXRIaWRlJyArIG5hbWU7CiAgICB2YXIgd3IgPSAhIXRleHRbdGlkICsgJ0Rlc2MnXSwgcmVmID0ge307CiAgICBpZiAod3IpIHJlZiA9IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3snICsgdGlkICsgJ0Rlc2N9fScgfSB9OwogICAgZmlsdGVyLml0ZW1zLmxheW91dFtncm91cF0udGl0bGUgPSBmaWx0ZXIuaXRlbSh7CiAgICAgICdncm91cCc6IGdyb3VwLAogICAgICAndHlwZSc6ICdzdWJ0aXRsZScsCiAgICAgICd0ZXh0JzogJ3t7JyArIHRpZCArICd9fScgKyAod3IgPyAne3s8aT59fScgOiAnJyksCiAgICAgICdyZWYnOiByZWYKICAgIH0pLmFkZHRvKGZpbHRlci5ncm91cHMubGF5b3V0KTsKICAgIC8vIOS4i+mdouaYr+WFqOmAieacrOe7hOaMiemSrgogICAgaWYgKCFhbGxCdXR0b24pIHJldHVybjsKICAgIGZpbHRlci5pdGVtcy5sYXlvdXRbZ3JvdXBdLmFsbCA9IGZpbHRlci5pdGVtKHsKICAgICAgJ2dyb3VwJzogZ3JvdXAsCiAgICAgICdzaG93JzogZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBkb20gPSB1dGlsLmRvbS5jcmVhdGUoaHRtbC5jb25maWdTZWxlY3RBbGwpOwogICAgICAgIHZhciBhID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJ2EnKTsKICAgICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgZm9yICh2YXIgeCA9IGRvbS5uZXh0U2libGluZzsgOyB4ID0geC5uZXh0U2libGluZykgewogICAgICAgICAgICBpZiAoeC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIGNvbnRpbnVlOwogICAgICAgICAgICBpZiAoeC5jbGFzc0xpc3QuY29udGFpbnMoJ3lhd2YtY29uZmlnQm9vbGVhbicpKSB7CiAgICAgICAgICAgICAgdmFyIHkgPSB4LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7CiAgICAgICAgICAgICAgaWYgKCF5LmNoZWNrZWQpIHkuY2xpY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoeC5jbGFzc0xpc3QuY29udGFpbnMoJ3lhd2YtZ3JvdXBTdWJ0aXRsZScpKSBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZG9tOwogICAgICB9CiAgICB9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmxheW91dCk7CgogIH07CgogIHZhciBpdGVtID0gZnVuY3Rpb24gKG5hbWUsIHZlcnNpb24sIGNvbnRlbnQsIGNvbmZpZykgewogICAgaWYgKHR5cGVvZiBjb250ZW50ICE9PSAnZnVuY3Rpb24nKSBjb250ZW50ID0gdXRpbC5jc3MoY29udGVudCk7CiAgICBjb25maWcgPSBjb25maWcgfHwge307CiAgICB2YXIgdGlkID0gJ2xheW91dEhpZGUnICsgY3VycmVudCArIG5hbWUsIHJlZiA9IGNvbmZpZy5yZWYgfHwge30sIHdyID0gISF0ZXh0W3RpZCArICdEZXNjJ107CiAgICBpZiAod3IgJiYgIXJlZi5pKSByZWYuaSA9IHsKICAgICAgJ3R5cGUnOiAnc2ljb24nLAogICAgICAnaWNvbic6IGNvbmZpZy5pY29uIHx8ICdhc2snLAogICAgICAndGV4dCc6ICd7eycgKyB0aWQgKyAnRGVzY319JywKICAgIH07CiAgICBpZiAoY29uZmlnLmJ1YmJsZWQpIHJlZi5pLmJ1YmJsZWQgPSBjb25maWcuYnViYmxlZDsKICAgIHZhciBpdGVtID0gewogICAgICAnZ3JvdXAnOiBncm91cCwKICAgICAgJ3ZlcnNpb24nOiB2ZXJzaW9uLAogICAgICAndHlwZSc6ICdib29sZWFuJywKICAgICAgJ2tleSc6ICd3ZWliby5sYXlvdXRIaWRlJyArIGN1cnJlbnQgKyBuYW1lLAogICAgICAnZGVmYXVsdCc6IGNvbmZpZ1snZGVmYXVsdCddIHx8IGZhbHNlLAogICAgICAndGV4dCc6ICd7eycgKyB0aWQgKyAnfX0nICsgKHdyID8gJ3t7PGk+fX0nIDogJycpICsgKGNvbmZpZy5leHR0IHx8ICcnKSwKICAgICAgJ3JlZic6IHJlZiwKICAgIH07CiAgICBpZiAoY29uZmlnLmFsd2F5cykgaXRlbS5pbml0ID0gY29udGVudDsgZWxzZSBpdGVtLmFpbml0ID0gY29udGVudDsKICAgIGZpbHRlci5pdGVtcy5sYXlvdXRbZ3JvdXBdW25hbWUudG9Mb3dlckNhc2UoKV0gPSBmaWx0ZXIuaXRlbShpdGVtKS5hZGR0byhmaWx0ZXIuZ3JvdXBzLmxheW91dCk7CiAgfTsKCiAgc3VidGl0bGUoJ0ljb24nLCB0cnVlKTsKICBpdGVtKCdMZXZlbCcsIDEyLCAnLmljb25fYmVkW25vZGUtdHlwZT0ibGV2ZWwiXSwgLldfbGV2ZWxfaWNvLCAuV19pY29uX2xldmVsIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9JywgeyAnZXh0dCc6ICc8c3BhbiBjbGFzcz0iV19pY29uX2xldmVsIGljb25fbGV2ZWxfYzIiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQ7bWFyZ2luLWJvdHRvbTotMnB4OyI+PHNwYW4+THYuMTwvc3Bhbj48L3NwYW4+JyB9KTsKICBpdGVtKCdNZW1iZXInLCA1LCAnW2NsYXNzKj0iaWNvbl9tZW1iZXIiXSwgW2NsYXNzKj0iaWNvX21lbWJlciJdLCBbY2xhc3MqPSJpY29fdmlwIl0sIFtjbGFzcyo9Imljb25fdmlwIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nLCB7ICdleHR0JzogJzxpIGNsYXNzPSJXX2ljb24gaWNvbl9tZW1iZXIxIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50Ij48L2k+PGltZyBzcmM9Imh0dHBzOi8vaDUuc2luYWltZy5jbi91cGxvYWQvMjAxNi8wNS8yNS80OTQvdmlwX2ljb25fenVhbnNoaTVfMS5wbmciIGNsYXNzPSJXX2ljb25fdmlwc3R5bGUiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQiPjxpbWcgc3JjPSJodHRwczovL2g1LnNpbmFpbWcuY24vdXBsb2FkLzIwMTYvMDUvMzAvNDk0L2JpcnRoZGF5aGF0X2xldmVsXzEucG5nIiBjbGFzcz0iV19pY29uX3ZpcHN0eWxlIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50Ij48aW1nIHNyYz0iaHR0cHM6Ly9oNS5zaW5haW1nLmNuL3VwbG9hZC8yMDE2LzA1LzI1LzQ5NC92aXBfaWNvbl95YW5neWFuZ18xLnBuZyIgY2xhc3M9IldfaWNvbl92aXBzdHlsZSIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudCI+JyB9KTsKICBpdGVtKCdBcHByb3ZlJywgNSwgJy5hcHByb3ZlLCAuaWNvbl9hcHByb3ZlLCAuaWNvbl9wZl9hcHByb3ZlLCAuaWNvbl9hcHByb3ZlX2dvbGQsIC5pY29uX3BmX2FwcHJvdmVfZ29sZCB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScsIHsgJ2V4dHQnOiAnPGkgY2xhc3M9IldfaWNvbiBpY29uX2FwcHJvdmUiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQiPjwvaT48aSBjbGFzcz0iV19pY29uIGljb25fYXBwcm92ZV9nb2xkIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50Ij48L2k+JyB9KTsKICBpdGVtKCdBcHByb3ZlQ28nLCA1LCAnLmFwcHJvdmVfY28sIC5pY29uX2FwcHJvdmVfY28sIC5pY29uX3BmX2FwcHJvdmVfY28sIFtjbGFzc149IldfaWNvbl9jbyJdLCBbY2xhc3NePSIuaWNvbl9hcHByb3ZlX2NvXyJdLCBbY2xhc3NePSIuaWNvbl9wZl9hcHByb3ZlX2NvXyJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9JywgeyAnZXh0dCc6ICc8aSBjbGFzcz0iV19pY29uIGljb25fYXBwcm92ZV9jbyIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudCI+PC9pPicgfSk7CiAgaXRlbSgnQXBwcm92ZURlYWQnLCAxMDcsICcuaWNvbl9hcHByb3ZlX2RlYWQsIC5pY29uX3BmX2FwcHJvdmVfZGVhZCB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScsIHsgJ2V4dHQnOiAnPGkgY2xhc3M9IldfaWNvbiBpY29uX2FwcHJvdmVfZGVhZCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudCI+PC9pPicgfSk7CiAgaXRlbSgnQ2x1YicsIDUsICcuaWNvX2NsdWIsIC5pY29uX3BmX2NsdWIsIC5pY29uX2NsdWIgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nLCB7ICdleHR0JzogJzxpIGNsYXNzPSJXX2ljb24gaWNvbl9jbHViIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50Ij48L2k+JyB9KTsKICBpdGVtKCdWR2lybCcsIDUsICcuaWNvX3ZsYWR5LCAuaWNvbl9wZl92bGFkeSwgLmljb25fdmxhZHkgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nLCB7ICdleHR0JzogJzxpIGNsYXNzPSJXX2ljb24gaWNvbl92bGFkeSIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudCI+PC9pPicgfSk7CiAgaXRlbSgnVGFvYmFvJywgNSwgJy5pY29fdGFvYmFvLCAuaWNvbl90bWFsbCwgLmljb25fdGFvYmFvLCAuaWNvbl90bWFsbCB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScsIHsgJ2V4dHQnOiAnPGkgY2xhc3M9IldfaWNvbiBpY29uX3Rhb2JhbyIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudCI+PC9pPjxpIGNsYXNzPSJXX2ljb24gaWNvbl90bWFsbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudCI+PC9pPicgfSk7CiAgaXRlbSgnQ2hlbmcnLCAzNzMsICcuaWNvbl9jaGVuZyB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScsIHsgJ2V4dHQnOiAnPGkgY2xhc3M9IldfaWNvbiBpY29uX2NoZW5nIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50Ij48L2k+JyB9KTsKICBpdGVtKCdHb25neWknLCA5MywgJy5pY29fZ29uZ3lpLCAuaWNvX2dvbmd5aTEsIC5pY29fZ29uZ3lpMiwgLmljb19nb25neWkzLCAuaWNvX2dvbmd5aTQsIC5pY29fZ29uZ3lpNSwgLmljb25fZ29uZ3lpLCAuaWNvbl9nb25neWkyLCAuaWNvbl9nb25neWkzLCAuaWNvbl9nb25neWk0LCAuaWNvbl9nb25neWk1IHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9JywgeyAnZXh0dCc6ICc8aSBjbGFzcz0iV19pY29uIGljb25fZ29uZ3lpIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50Ij48L2k+JyB9KTsKICBpdGVtKCdTdWlzaG91cGFpJywgMTQ2LCAnLnN1aXNob3VwYWkyMDE0LCAuaWNvbl9zdWlzaG91cGFpMjAxNCB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScsIHsgJ2V4dHQnOiAnPGkgY2xhc3M9IldfaWNvbiBpY29uX3N1aXNob3VwYWkyMDE0IiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50Ij48L2k+JyB9KTsKICBpdGVtKCdab25neWlrYScsIDI5LCAnLnpvbmd5aWthMjAxNCwgLmljb25fem9uZ3lpa2EyMDE0IHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9JywgeyAnZXh0dCc6ICc8aSBjbGFzcz0iV19pY29uIGljb25fem9uZ3lpa2EyMDE0IiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50Ij48L2k+JyB9KTsKICBpdGVtKCdZb3VqaScsIDM1LCAnLmx2eGluZzIwMTQsIC5pY29uX2FpcmJhbGwsIGFbaHJlZl49Imh0dHA6Ly9odW9kb25nLndlaWJvLmNvbS90cmF2ZWwyMDE0Il0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nLCB7ICdleHR0JzogJzxpIGNsYXNzPSJXX2ljb24gaWNvbl9haXJiYWxsIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50Ij48L2k+JyB9KTsKICBpdGVtKCdEb3VibGUxMScsIDEyMywgJy5pY29fZG91YmxlMTEsIC5pY29uX2RvdWJsZTExIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9JywgeyAnZXh0dCc6ICc8aSBjbGFzcz0iV19pY29uIGljb25fZG91YmxlMTEiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQiPjwvaT4nIH0pOwogIGl0ZW0oJ05pZ2h0JywgMTg1LCAnLmljb25fd2JuaWdodDIwMTQgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nLCB7ICdleHR0JzogJzxpIGNsYXNzPSJXX2ljb24gaWNvbl93Ym5pZ2h0MjAxNCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudCI+PC9pPicgfSk7CiAgaXRlbSgnUmVkUGFjaycsIDQzNCwgJy5pY29uX3JlZHBhY2ssIC5pY29uX3dlYWx0aCB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScsIHsgJ2V4dHQnOiAnPGkgY2xhc3M9IldfaWNvbiBpY29uX3JlZHBhY2siIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQiPjwvaT48aSBjbGFzcz0iV19pY29uIGljb25fd2VhbHRoIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50Ij48L2k+JyB9KTsKICBpdGVtKCdSdW4nLCAyNDcsICcuaWNvbl9ydW4yMDE1IHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9JywgeyAnZXh0dCc6ICc8aSBjbGFzcz0iV19pY29uIGljb25fcnVuMjAxNSIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudCI+PC9pPicgfSk7CiAgaXRlbSgnRm9vbHNEYXknLCAzNzIsICcuaWNvbl9mb29sc2RheSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScsIHsgJ2V4dHQnOiAnPGkgY2xhc3M9IldfaWNvbiBpY29uX2Zvb2xzZGF5IiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50Ij48L2k+JyB9KTsKICBpdGVtKCdIb25nJywgMzgzLCAnLmljb25faG9uZyB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScsIHsgJ2V4dHQnOiAnPGkgY2xhc3M9IldfaWNvbiBpY29uX2hvbmciIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jayFpbXBvcnRhbnQiPjwvaT4nIH0pOwogIGl0ZW0oJ1dlZGRpbmcnLCA0MTIsICcuaWNvbl93ZWRkaW5nIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9JywgeyAnZXh0dCc6ICc8aSBjbGFzcz0iV19pY29uIGljb25fd2VkZGluZyIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudCI+PC9pPicgfSk7CgogIHN1YnRpdGxlKCdOYXYnLCB0cnVlKTsKICBpdGVtKCdMb2dvSW1nJywgMjU2LCBmdW5jdGlvbiByZXBsYWNlTG9nbygpIHsKICAgIC8vIDk0772eMjA1IOeJiOacrOmSiOWvuSB2NSDnmoTlip/og73vvIwyMDYg54mI5pys5ZugIHY2IOacquWHuueOsOiKguaXpeW+veagh+iAjOenu+mZpO+8mzI1NiDniYjmnKzmgaLlpI0KICAgIHZhciBib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuV0JfZ2xvYmFsX25hdiAuZ25fbG9nbyAuYm94Jyk7CiAgICBpZiAoIWJveCkgcmV0dXJuIHNldFRpbWVvdXQocmVwbGFjZUxvZ28sIDEwMCk7CiAgICB2YXIgaW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLldCX2dsb2JhbF9uYXYgLmduX2xvZ28gLmJveCBpbWcnKTsKICAgIGlmICghaW1nKSByZXR1cm47CiAgICB2YXIgbG9nbyA9IHV0aWwuZG9tLmNyZWF0ZShodG1sLm5hdkxvZ28pOwogICAgaW1nLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGxvZ28sIGltZyk7CiAgfSk7CiAgaXRlbSgnTWFpbicsIDUsICcuZ25fbmF2X2xpc3Q+bGk6bnRoLWNoaWxkKDEpIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnVFYnLCA0MDUsICcuZ25fbmF2X2xpc3Q+bGk6bnRoLWNoaWxkKDIpIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnSG90JywgNSwgJy5nbl9uYXZfbGlzdD5saTpudGgtY2hpbGQoMykgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdHYW1lJywgNSwgJy5nbl9uYXZfbGlzdD5saTpudGgtY2hpbGQoNCkgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdIb3RTZWFyY2gnLCAyNzcsIGZ1bmN0aW9uICgpIHsgb2JzZXJ2ZXIuc3RvcGpzb25wKC9cL1wvcy53ZWliby5jb21cL2FqYXhcL2pzb25wXC9nZXR0b3BzdWdcPy8pOyB9KTsKICBpdGVtKCdOb3RpY2VOZXcnLCA4NywgJy5XQl9nbG9iYWxfbmF2IC5nbl9zZXRfbGlzdCAuV19uZXdfY291bnQgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdOZXcnLCA0MzMsICcuV0JfZ2xvYmFsX25hdiAuV19uZXcgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdIb3RUaXAnLCA0MzAsIGZ1bmN0aW9uICgpIHsKICAgIC8vIOa3u+WKoOS4gOS4quWBh+eahOWwj+m7hOetvgogICAgdmFyIGZha2VUaXBzID0gbnVsbDsKICAgIHZhciBhZGRGYWtlVGlwID0gZnVuY3Rpb24gYWRkRmFrZVRpcCgpIHsKICAgICAgaWYgKGZha2VUaXBzKSByZXR1cm4gZmFrZVRpcHM7CiAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuV0JfZ2xvYmFsX25hdiAuZ25fdG9wbWVudWxpc3RfdGlwcycpLnBhcmVudE5vZGU7CiAgICAgIGZha2VUaXBzID0gdXRpbC5kb20uY3JlYXRlKGh0bWwudG9wTWVudUxpc3RUaXBzKTsKICAgICAgZmFrZVRpcHMucXVlcnlTZWxlY3RvcignLmZpY29uX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGZha2VUaXBzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgdmFyIHJlYWxUaXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLldCX2dsb2JhbF9uYXYgLmduX3RvcG1lbnVsaXN0X3RpcHMnKTsKICAgICAgICByZWFsVGlwcy5xdWVyeVNlbGVjdG9yKCcuZmljb25fY2xvc2UnKS5jbGljaygpOwogICAgICB9KTsKICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZha2VUaXBzKTsKICAgICAgcmV0dXJuIGZha2VUaXBzOwogICAgfTsKICAgIC8vIOWcqOecn+eahOWwj+m7hOetvuacieWPmOWMlueahOaXtuWAmeabtOaWsOWBh+eahOWwj+m7hOetvgogICAgdmFyIHVwZGF0ZUZha2VUaXBzID0gZnVuY3Rpb24gdXBkYXRlRmFrZVRpcHMoKSB7CiAgICAgIHZhciByZWFsVGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5XQl9nbG9iYWxfbmF2IC5nbl90b3BtZW51bGlzdF90aXBzJyk7IGlmICghcmVhbFRpcHMpIHJldHVybjsKICAgICAgdmFyIGZha2VUaXBzID0gYWRkRmFrZVRpcCgpOyBpZiAoIWZha2VUaXBzKSByZXR1cm47CgogICAgICB2YXIgdGlwc0NvbnRhaW5lciA9IGZha2VUaXBzLnF1ZXJ5U2VsZWN0b3IoJ3VsJyk7CiAgICAgIHZhciBjdXJyZW50VGlwcyA9IEFycmF5LmZyb20odGlwc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdsaScpKTsKCiAgICAgIHZhciBhbGxUaXBzID0gQXJyYXkuZnJvbShyZWFsVGlwcy5xdWVyeVNlbGVjdG9yQWxsKCdsaScpKTsKICAgICAgYWxsVGlwcyA9IGFsbFRpcHMuZmlsdGVyKGZ1bmN0aW9uICh0aXApIHsKICAgICAgICB2YXIgYSA9IHRpcC5xdWVyeVNlbGVjdG9yKCdhW2hyZWZdJyksIGhyZWYgPSBhICYmIGEuaHJlZiB8fCAnJzsKICAgICAgICBpZiAoaHJlZi5pbmRleE9mKCdodHRwOi8vZC53ZWliby5jb20nKSAhPT0gLTEpIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAoaHJlZi5pbmRleE9mKCdodHRwOi8vd2VpYm8uY29tL3R2JykgIT09IC0xKSByZXR1cm4gZmFsc2U7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0pOwoKICAgICAgdmFyIGNoYW5nZWQgPSBhbGxUaXBzLm1hcChmdW5jdGlvbiAodGlwKSB7IHJldHVybiB0aXAudGV4dENvbnRlbnQ7IH0pLmpvaW4oJywnKSAhPT0KICAgICAgICBjdXJyZW50VGlwcy5tYXAoZnVuY3Rpb24gKHRpcCkgeyByZXR1cm4gdGlwLnRleHRDb250ZW50OyB9KS5qb2luKCcsJyk7CiAgICAgIGlmICghY2hhbmdlZCkgcmV0dXJuOwoKICAgICAgdmFyIG5ld0NvbnRhaW5lciA9IHRpcHNDb250YWluZXIuY2xvbmVOb2RlKHRydWUpOwogICAgICBuZXdDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgICAgIGFsbFRpcHMuZm9yRWFjaChmdW5jdGlvbiAodGlwKSB7IG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXAuY2xvbmVOb2RlKHRydWUpKTsgfSk7CiAgICAgIHRpcHNDb250YWluZXIucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3Q29udGFpbmVyLCB0aXBzQ29udGFpbmVyKTsKICAgICAgaWYgKGFsbFRpcHMubGVuZ3RoICYmIHJlYWxUaXBzLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJykgewogICAgICAgIGZha2VUaXBzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICB9IGVsc2UgewogICAgICAgIGZha2VUaXBzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIH0KICAgIH07CiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuY210KGZ1bmN0aW9uICgpIHsgLyohQ1NTCiAgICAgIC5XQl9nbG9iYWxfbmF2IC5nbl90b3BtZW51bGlzdF90aXBzOm5vdCgueWF3Zi1nbl90b3BtZW51bGlzdF90aXBzKSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfQogICAgICAuV0JfZ2xvYmFsX25hdiAuZ25fdG9wbWVudWxpc3Rfbm90aWNlOm5vdChbc3R5bGUqPSJub25lIl0pIH4gLnlhd2YtZ25fdG9wbWVudWxpc3RfdGlwcyB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfQogICAgKi8gbm9vcCgpOyB9KSk7CiAgICBvYnNlcnZlci5kb20uYWRkKHVwZGF0ZUZha2VUaXBzKTsKICAgIHVwZGF0ZUZha2VUaXBzKCk7CiAgfSk7CgogIC8vIOmakOiXj+W3puagj+eahOi+heWKqeWHveaVsAogIHZhciBsZXZIaWRkZW4gPSAoZnVuY3Rpb24gKGlkKSB7CiAgICB2YXIgZmlyc3RSdW4gPSB0cnVlOwogICAgdmFyIGlkcyA9IFtdOwogICAgLy8g56e76Zmk5LiA5Liq5bem5qCP6ZO+5o6l5oiW55u45YWz5YWD57SgCiAgICB2YXIgcmVtb3ZlTm9kZSA9IGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkgewogICAgICB2YXIgY29udGFpbmVyID0gbm9kZS5wYXJlbnROb2RlLCBwcmV2LCBuZXh0OwogICAgICB2YXIgcmVtb3ZlQmxhbmsgPSBmdW5jdGlvbiAobm9kZSkgewogICAgICAgIGlmIChub2RlICYmIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFICYmIG5vZGUuZGF0YS5tYXRjaCgvXlxzKiQvKSkKICAgICAgICAgIHJldHVybiBjb250YWluZXIucmVtb3ZlQ2hpbGQobm9kZSk7CiAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5DT01NRU5UX05PREUpCiAgICAgICAgICByZXR1cm4gY29udGFpbmVyLnJlbW92ZUNoaWxkKG5vZGUpOwogICAgICB9OwogICAgICB2YXIgcmVtb3ZlQmxhbmtTaWJsaW5nID0gZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICB3aGlsZSAocmVtb3ZlQmxhbmsobm9kZS5wcmV2aW91c1NpYmxpbmcpKTsKICAgICAgICB3aGlsZSAocmVtb3ZlQmxhbmsobm9kZS5uZXh0U2libGluZykpOwogICAgICB9OwogICAgICByZW1vdmVCbGFua1NpYmxpbmcobm9kZSk7CiAgICAgIHByZXYgPSBub2RlLnByZXZpb3VzU2libGluZywgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICAgIC8vIOWmguaenOWJjeWQjumDveaYr+WIhuWJsue6v++8iOi/nue7reeahOWIhuWJsue6v++8iemCo+S5iOW6lOW9k+WIoOaOieS4gOS4qu+8iOWIoOaOieWJjemdouS4gOS4qu+8iQogICAgICAvLyDlpoLmnpzliIblibLnur/lnKjlvIDlpLTmiJbmnKvlsL7vvIzpgqPkuYjlupTor6XliKDmjonliIblibLnur8KICAgICAgLy8g5aaC5p6c5YmN5ZCO6YO95rKh5pyJ5Lic6KW/77yM6YKj5LmI5bqU6K+l6L+e5ZCM5a655Zmo5LiA6LW35Yig6ZmkCiAgICAgIHdoaWxlICgoIXByZXYgfHwgdXRpbC5kb20ubWF0Y2hlcyhwcmV2LCAnLmxldl9saW5lJykpICYmCiAgICAgICAgKCFuZXh0IHx8IHV0aWwuZG9tLm1hdGNoZXMobmV4dCwgJy5sZXZfbGluZScpKSkgewogICAgICAgIHZhciBsaW5lID0gbnVsbDsKICAgICAgICBpZiAocHJldiAmJiB1dGlsLmRvbS5tYXRjaGVzKHByZXYsICcubGV2X2xpbmVfdjInKSkgbGluZSA9IHByZXY7CiAgICAgICAgaWYgKG5leHQgJiYgdXRpbC5kb20ubWF0Y2hlcyhuZXh0LCAnLmxldl9saW5lX3YyJykpIGxpbmUgPSBuZXh0OwogICAgICAgIGlmIChsaW5lKSB7CiAgICAgICAgICB2YXIgbGluZSA9IHByZXYgfHwgbmV4dDsKICAgICAgICAgIHJlbW92ZUJsYW5rU2libGluZyhsaW5lKTsKICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChsaW5lKTsKICAgICAgICAgIHByZXYgPSBub2RlLnByZXZpb3VzU2libGluZzsKICAgICAgICAgIG5leHQgPSBub2RlLm5leHRTaWJsaW5nOwogICAgICAgIH0gZWxzZSBicmVhazsKICAgICAgfQogICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7CiAgICAgIGlmICghcHJldiAmJiAhbmV4dCkgcmVtb3ZlTm9kZShjb250YWluZXIpOwogICAgfTsKICAgIC8vIOajgOafpeaYr+WQpuacieacquetm+mAieeahOW3puagj+mTvuaOpeW5tuagueaNruWQjeensOWIpOaWrQogICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gbGVmdE5hdlJlbW92ZSgpIHsKICAgICAgdmFyIGxldnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN2Nl9wbF9sZWZ0bmF2X2dyb3VwIC5sZXZbeWF3Zi1pZF06bm90KFt5YXdmLWNoZWNrZWQtbGV2XSknKSk7IGlmICghbGV2cykgcmV0dXJuOwogICAgICBsZXZzLmZvckVhY2goZnVuY3Rpb24gKGxldikgewogICAgICAgIGxldi5zZXRBdHRyaWJ1dGUoJ3lhd2YtY2hlY2tlZC1sZXYnLCAnJyk7CiAgICAgICAgdmFyIGlkID0gbGV2LmdldEF0dHJpYnV0ZSgneWF3Zi1pZCcpOyBpZiAoaWRzLmluZGV4T2YoaWQpID09PSAtMSkgcmV0dXJuOwogICAgICAgIHJlbW92ZU5vZGUobGV2KTsKICAgICAgfSk7CiAgICB9OwogICAgcmV0dXJuIGZ1bmN0aW9uIChpZCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIGlkcy5wdXNoKCdsZWZ0bmF2XycgKyBpZCk7CiAgICAgICAgaWYgKGZpcnN0UnVuKSB7CiAgICAgICAgICBvYnNlcnZlci5kb20uYWRkKGxpc3RlbmVyKTsgbGlzdGVuZXIoKTsKICAgICAgICAgIHV0aWwuY3NzLmFkZCgnI3Y2X3BsX2xlZnRuYXZfZ3JvdXAgLmxldjpub3QoW3lhd2YtY2hlY2tlZC1sZXZdKSB7IHZpc2liaWxpdHk6IGhpZGRlbjsgfScpOwogICAgICAgIH0KICAgICAgfTsKICAgIH07CiAgfSgpKTsKICBzdWJ0aXRsZSgnTGVmdCcsIHRydWUpOwogIGl0ZW0oJ0hvbWUnLCAzOTAsIGxldkhpZGRlbignaG9tZScpKTsKICBpdGVtKCdGYXYnLCAzOTAsIGxldkhpZGRlbignZmF2JykpOwogIGl0ZW0oJ0xpa2UnLCAzOTAsIGxldkhpZGRlbignbGlrZScpKTsKICBpdGVtKCdIb3QnLCAzOTAsIGxldkhpZGRlbignaG90JykpOwogIGl0ZW0oJ1RWJywgNDIzLCBsZXZIaWRkZW4oJ3R2JykpOwogIGl0ZW0oJ0ZyaWVuZHMnLCA1LCBsZXZIaWRkZW4oJ2ZyaWVuZHMnKSk7CiAgaXRlbSgnR3JvdXBUb01lJywgMzMzLCBsZXZIaWRkZW4oJ2dyb3Vwc2ZlZWQnKSk7CiAgaXRlbSgnU3BlY2lhbCcsIDMzMywgbGV2SGlkZGVuKCdzcGVjaWFsJykpOwogIGl0ZW0oJ1doaXNwZXInLCAzMzMsIGxldkhpZGRlbignd2hpc3BlcicpKTsKICBpdGVtKCdOZXcnLCAxMDYsICcuV0JfbGVmdF9uYXYgLmxldiAuV19uZXcsIC55YXdmLVdCX2xlZnRfbmF2IC5sZXYgLldfbmV3IHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnTmV3cycsIDEwNiwgJy5XQl9sZWZ0X25hdiAubGV2ZWxfMV9Cb3ggLldfbmV3X2NvdW50LCAueWF3Zi1XQl9sZWZ0X25hdiAubGV2ZWxfMV9Cb3ggLldfbmV3X2NvdW50IHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnQ291bnQnLCAxMDYsICcuV0JfbGVmdF9uYXYgLnBsX2xlZnRuYXZfZ3JvdXAgLldfbmV3X2NvdW50LCAuV0JfbGVmdF9uYXYgLmxldiAuV19uZXdfY291bnQsIC55YXdmLVdCX2xlZnRfbmF2IC5wbF9sZWZ0bmF2X2dyb3VwIC5XX25ld19jb3VudCwgLnlhd2YtV0JfbGVmdF9uYXYgLmxldiAuV19uZXdfY291bnQgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKCiAgc3VidGl0bGUoJ01pZGRsZScsIHRydWUpOwogIGl0ZW0oJ1JlY29tbWVuZGVkVG9waWMnLCA1LCAnI3Y2X3BsX2NvbnRlbnRfcHVibGlzaGVydG9wIGRpdltub2RlLXR5cGU9InJlY29tbWVuZFRvcGljIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdGZWVkUmVjb21tYW5kJywgMzUsICdhLm5vdGVzW25vZGUtdHlwZT0iZmVlZF9saXN0X25ld0JhciJdW2hyZWZePSJodHRwIl06bm90KFthY3Rpb24tdHlwZT0iZmVlZF9saXN0X25ld0JhciJdKSwgLldCX2ZlZWRfbmV3dXNlcltub2RlLXR5cGU9InJlY29tbWZlZWQiXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ01lbWJlclRpcCcsIDUsICdbbm9kZS10eXBlPSJmZWVkX2xpc3Rfc2hpZWxkS2V5d29yZCJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CgogIHN1YnRpdGxlKCdSaWdodCcsIHRydWUpOwogIGl0ZW0oJ0luZm8nLCA1LCAnI3Y2X3BsX3JpZ2h0bW9kX215aW5mbyB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ1JlY29tTXVzaWNSYW5rJywgMzg3LCAnI3Y2X3BsX3JpZ2h0bW9kX3JhbmsgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdIb3RUb3BpYycsIDUsICdbeWF3Zi1pZD0icmlnaHRtb2RfenRfaG90dG9waWMiXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ0hvdFRvcGljRXhwYW5kJywgMTc4LCAnLmhvdF90b3BpYyAuV0JfcmlnaHRfZXhwYW5kIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnSW50ZXJlc3QnLCA1LCAnW3lhd2YtaWQ9InJpZ2h0bW9kX3JlY29tX2ludGVyZXN0Il0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdNZW1iZXInLCA1LCAnI3Y2X3RydXN0UGFnZWxldF9yZWNvbV9tZW1iZXIgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdHcm91cHMnLCAxMDIsICcjdjZfcGxfcmlnaHRtb2RfZ3JvdXBzIHsgZGlzcGxheTogbm9uZTsgfScpOwogIGl0ZW0oJ1JlY29tR3JvdXBVc2VyJywgMTkxLCAnI3Y2X3BsX3JpZ2h0bW9kX3JlY29tZ3JvdXB1c2VyIHsgZGlzcGxheTogbm9uZTsgfScpOwogIGl0ZW0oJ0hvbmdiYW9SYW5rJywgNDMyLCAnI3Y2X3BsX3JpZ2h0bW9kX2hvbmdiYW8geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdNb3ZpZScsIDE4NiwgJ1t5YXdmLWlkPSJyaWdodG1vZF9yZWNvbV9tb3ZpZSJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnQXR0RmVlZCcsIDI0OCwgJyN2Nl9wbF9yaWdodG1vZF9hdHRmZWVkIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9JywgeyAnaWNvbic6ICd3YXJuJyB9KTsKICBpdGVtKCdUYW9iYW9Nb3ZpZScsIDIwMCwgJ1t5YXdmLWlkPSJyaWdodG1vZF90YW9iYW9fbW92aWUiXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ05vdGljZScsIDUsICcjdjZfcGxfcmlnaHRtb2Rfbm90aWNlYm9hcmQgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKCiAgc3VidGl0bGUoJ1dlaWJvJywgdHJ1ZSk7CiAgaXRlbSgnUmVjb21GZWVkJywgMiwgJ1tub2RlLXR5cGU9InJlY29tbWZlZWQiXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ0ZlZWRUaXAnLCA3LCAnW25vZGUtdHlwZT0iZmVlZF9wcml2YXRlc2V0X3RpcCJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnR3JvdXBUaXAnLCA5NywgJy5XQl9mZWVkX3R5cGUgLldCX2NhcmR0aXRsZV9iIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnVklQQmFja2dyb3VuZCcsIDI1MywgdXRpbC5zdHIuY210KGZ1bmN0aW9uICgpIHsgLyohQ1NTCiAgICAuV0JfZmVlZF9kZXRhaWxbc3R5bGUqPSJmZWVkX2NvdmVyL3N0YXJfIl0sCiAgICAuV0JfZmVlZF9kZXRhaWxbc3R5bGUqPSJmZWVkX2NvdmVyL3ZpcF8iXSB7IGJhY2tncm91bmQ6IG5vbmUgIWltcG9ydGFudDsgfQogICAgLldCX3ZpcGNvdmVyLCAuV0Jfc3RhcmNvdmVyIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAuV0JfZmVlZF92aXBjb3ZlciAuV0JfZmVlZF9kZXRhaWwgeyBwYWRkaW5nLXRvcDogMTBweDsgfQogICAgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfZmVlZF92aXBjb3ZlciAuV0JfZmVlZF9kZXRhaWwgeyBwYWRkaW5nLXRvcDogMjBweDsgfQogICovIG5vb3AoKTsgfSkpOwogIGl0ZW0oJ0xhc3RQaWMnLCA3MiwgZnVuY3Rpb24gKCkgewogICAgb2JzZXJ2ZXIuZG9tLmFkZChmdW5jdGlvbiBoaWRlTGFzdFBpYygpIHsKICAgICAgdmFyIGxhc3Q7CiAgICAgIGxhc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuV0JfZmVlZF90eXBlIC5XQl9leHBhbmRfbWVkaWEgLldCX21lZGlhX3ZpZXc6bm90KFt5YXdmLXBpY2xhc3RdKSAucGljX2Nob29zZV9ib3ggbGk6bGFzdC1jaGlsZCBhLmN1cnJlbnQnKTsKICAgICAgd2hpbGUgKGxhc3QgJiYgIWxhc3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdXQl9tZWRpYV92aWV3JykpIGxhc3QgPSBsYXN0LnBhcmVudE5vZGU7CiAgICAgIGlmIChsYXN0KSBsYXN0LnNldEF0dHJpYnV0ZSgneWF3Zi1waWNsYXN0JywgJ3lhd2YtcGljbGFzdCcpOwogICAgICBsYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLldCX2ZlZWRfdHlwZSAuV0JfZXhwYW5kX21lZGlhIC5XQl9tZWRpYV92aWV3W3lhd2YtcGljbGFzdF0gLnBpY19jaG9vc2VfYm94IGxpOm5vdCg6bGFzdC1jaGlsZCkgYS5jdXJyZW50Jyk7CiAgICAgIHdoaWxlIChsYXN0ICYmICFsYXN0LmNsYXNzTGlzdC5jb250YWlucygnV0JfbWVkaWFfdmlldycpKSBsYXN0ID0gbGFzdC5wYXJlbnROb2RlOwogICAgICBpZiAobGFzdCkgbGFzdC5yZW1vdmVBdHRyaWJ1dGUoJ3lhd2YtcGljbGFzdCcpOwogICAgICB2YXIgY2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuV0JfZmVlZF90eXBlIC5XQl9leHBhbmRfbWVkaWEgLldCX21lZGlhX3ZpZXcgLmFydHdvcmtfYm94IC5maWNvbl9jbG9zZSAnKTsKICAgICAgaWYgKGNsb3NlKSBjbG9zZS5jbGljaygpOwogICAgfSk7CiAgICB1dGlsLmNzcy5hZGQoJy5XQl9mZWVkX3R5cGUgLldCX2V4cGFuZF9tZWRpYSAuV0JfbWVkaWFfdmlld1t5YXdmLXBpY2xhc3RdIC5yaWdodGN1cnNvciB7IGN1cnNvcjogdXJsKCJodHRwOi8vaW1nLnQuc2luYWpzLmNuL3Q2L3N0eWxlL2ltYWdlcy9jb21tb24vc21hbGwuY3VyIiksIGF1dG8gIWltcG9ydGFudDsgfScpOwogIH0pOwogIGl0ZW0oJ1BpY1RhZycsIDE3OSwgJy5XQl9tZWRpYV92aWV3IC5tZWRpYV9zaG93X2JveCAuYXJ0d29ya19ib3ggLnRhZ19zaG93cGljTCwgLldCX21lZGlhX3ZpZXcgLm1lZGlhX3Nob3dfYm94IC5hcnR3b3JrX2JveCAudGFnX3Nob3dwaWNSLCAuaWNvbl90YWdlZF9waWMgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdTb25UaXRsZScsIDM1LCAnLldCX2ZlZWRfdHlwZSAuV0JfZmVlZF90b2dldGhlciAud2Z0X2hkIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnQ2FyZCcsIDE4MiwgJy5XQl9waWNfYXBwLCAuV0JfZmVlZF9zcGVjLCAuV0JfbXVzaWMgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdBcnRpY2FsUGF5JywgMjIwLCBmdW5jdGlvbiAoKSB7CiAgICBvYnNlcnZlci5kb20uYWRkKGZ1bmN0aW9uIGhpZGVBcnRpY2FsUGF5KCkgewogICAgICB2YXIgdDEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmVlZF9hcHBfYnRuX2EgYVthY3Rpb24tZGF0YSo9InB4LmUud2VpYm8uY29tIl0nKTsKICAgICAgaWYgKHQxKSB7CiAgICAgICAgd2hpbGUgKCF1dGlsLmRvbS5tYXRjaGVzKHQxLCAnLmZlZWRfYXBwX2J0bl9hJykpIHQxID0gdDEucGFyZW50Tm9kZTsKICAgICAgICB0MS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQxKTsKICAgICAgfQogICAgICB2YXIgdDIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuV0JfY2FyZHdyYXAgI3BsX2FydGljbGVfYXJ0aWNsZVBheScpOwogICAgICBpZiAodDIpIHsKICAgICAgICB3aGlsZSAoIXV0aWwuZG9tLm1hdGNoZXModDIsICcuV0JfY2FyZHdyYXAnKSkgdDIgPSB0Mi5wYXJlbnROb2RlOwogICAgICAgIHQyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodDIpOwogICAgICB9CiAgICAgIHZhciB0MyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXdhcmRjb21wb25lbnQnKTsKICAgICAgaWYgKHQzICYmIHQzLnF1ZXJ5U2VsZWN0b3IoJ2FbYWN0aW9uLXR5cGU9ImJ1eVdyYXAiXVthY3Rpb24tZGF0YSo9InR5cGU9cmV3YXJkIl0nKSkgewogICAgICAgIHdoaWxlICh0My5wYXJlbnROb2RlLmZpcnN0Q2hpbGQgPT09IHQzLnBhcmVudE5vZGUubGFzdENoaWxkKSB0MyA9IHQzLnBhcmVudE5vZGU7CiAgICAgICAgdDMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0Myk7CiAgICAgIH0KICAgIH0pOwogIH0pOwogIGl0ZW0oJ1RhZycsIDE4NiwgJy5XQl90YWcgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdNb3ZpZVRhZycsIDIxOCwgJy5XQl9mZWVkX3R5cGUgLldCX3RhZ19yZWMgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdTb3VyY2UnLCAzNCwgJy5XQl90aW1lKy5TX3R4dDIsIC5XQl90aW1lKy5TX3R4dDIrLlNfbGluazIsIC5XQl90aW1lKy5TX3R4dDIrLlNfZnVuYzIgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nICsKICAgICcuV0JfZmVlZF9kZXRhaWwgLldCX2Zyb20gYVtkYXRlXTo6YWZ0ZXIgeyBjb250ZW50OiAiICI7IGRpc3BsYXk6IGJsb2NrOyB9IC5XQl9mZWVkX2RldGFpbCAuV0JfZnJvbSB7IGhlaWdodDogMTZweDsgb3ZlcmZsb3c6IGhpZGRlbjsgfScpOwogIGl0ZW0oJ1BvcCcsIDExOCwgJy5XQl9mZWVkX2RhdGFpbCBhW2FjdGlvbi10eXBlPSJmbF9wb3AiXSwgLldCX2ZlZWRfZGF0YWlsIGFbYWN0aW9uLXR5cGU9ImZsX3BvcCJdKy5TX3R4dDMsICcgKwogICAgJy5XQl9oYW5kbGUgbGlbeWF3Zi1oYW5kbGUtdHlwZT0iZmxfcG9wIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdMaWtlJywgMzQsICdhW2FjdGlvbi10eXBlPSJmZWVkX2xpc3RfbGlrZSJdLCBhW2FjdGlvbi10eXBlPSJmZWVkX2xpc3RfbGlrZSJdKy5TX3R4dDMsICcgKwogICAgJ1tub2RlLXR5cGU9Im11bHRpX2ltYWdlX2xpa2UiXSwgW2FjdGlvbi10eXBlPSJmZWVkX2xpc3RfaW1hZ2VfbGlrZSJdLCAnICsKICAgICdbYWN0aW9uLXR5cGU9Im9iamVjdF9saWtlIl0sIFthY3Rpb24tdHlwZT0ibGlrZV9vYmplY3QiXSwgJyArCiAgICAnLldCX2ZlZWRfZGF0YWlsIGFbYWN0aW9uLXR5cGU9ImZsX2xpa2UiXSwgLldCX2ZlZWRfZGF0YWlsIGFbYWN0aW9uLXR5cGU9ImZsX2xpa2UiXSsuU190eHQzLCAnICsKICAgICcuV0JfZXhwYW5kIC5XQl9oYW5kbGUuV19mciBsaTpudGgtY2hpbGQoMyksICcgKwogICAgJy5XQl9oYW5kbGUgbGlbeWF3Zi1oYW5kbGUtdHlwZT0iZmxfbGlrZSJdLCAuV0JfaGFuZGxlIGxpW3lhd2YtaGFuZGxlLXR5cGU9Imxpa2UiXSAnICsKICAgICcubGF5ZXJfbXVsdGlwaWNfcHJldmlldyAucG9zX2ljb24geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdMaWtlQ29tbWVudCcsIDM0LCAnLldCX2hhbmRsZSBsaVt5YXdmLWNvbW1lbnQtaGFuZGxlLXR5cGU9Imxpa2UiXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ0ZvcndhcmQnLCAzNCwgJ2FbYWN0aW9uLXR5cGU9ImZlZWRfbGlzdF9mb3J3YXJkIl0sIGFbYWN0aW9uLXR5cGU9ImZlZWRfbGlzdF9mb3J3YXJkIl0rLlNfdHh0MywgJyArCiAgICAnLldCX21lZGlhX2V4cGFuZCAuV0JfaGFuZGxlIGEuU19mdW5jNFtocmVmJD0iP3R5cGU9cmVwb3N0Il0sIC5XQl9tZWRpYV9leHBhbmQgLldCX2hhbmRsZSBhLlNfZnVuYzRbaHJlZiQ9Ij90eXBlPXJlcG9zdCJdKy5TX3R4dDMsICcgKwogICAgJy5XQl9mZWVkX2RhdGFpbCBhW2FjdGlvbi10eXBlPSJmbF9mb3J3YXJkIl0sIC5XQl9mZWVkX2RhdGFpbCBhW2FjdGlvbi10eXBlPSJmbF9mb3J3YXJkIl0rLlNfdHh0MywgJyArCiAgICAnLldCX2V4cGFuZCAuV0JfaGFuZGxlLldfZnIgbGk6bnRoLWNoaWxkKDEpLCAnICsKICAgICcuV0JfaGFuZGxlIGxpW3lhd2YtaGFuZGxlLXR5cGU9ImZsX2ZvcndhcmQiXSwgLldCX2hhbmRsZSBsaVt5YXdmLWhhbmRsZS10eXBlPSJ0YWIiXTpudGgtY2hpbGQoMikgJyArCiAgICAnIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnRmF2b3VyaXRlJywgMzQsICdhW2FjdGlvbi10eXBlPSJmZWVkX2xpc3RfZmF2b3JpdGUiXSwgYVthY3Rpb24tdHlwZT0iZmVlZF9saXN0X2Zhdm9yaXRlIl0rLlNfdHh0MywgJyArCiAgICAnLldCX2ZlZWRfZGF0YWlsIGFbYWN0aW9uLXR5cGU9ImZsX2Zhdm9yaXRlIl0sIC5XQl9mZWVkX2RhdGFpbCBhW2FjdGlvbi10eXBlPSJmbF9mYXZvcml0ZSJdKy5TX3R4dDMsICcgKwogICAgJy5XQl9oYW5kbGUgLldCX3Jvd19saW5lIGxpW3lhd2YtaGFuZGxlLXR5cGU9ImZsX2Zhdm9yaXRlIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdQcm9tb3RlT3RoZXInLCAyMjAsICcuc2NyZWVuX2JveCAubGF5ZXJfbWVudV9saXN0IGFbYWN0aW9uLWRhdGEqPSJwcm9tb3RlLnZpcC53ZWliby5jb20iXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ1JlcG9ydCcsIDIyMCwgJy5zY3JlZW5fYm94IC5sYXllcl9tZW51X2xpc3QgYVtvbmNsaWNrKj0ic2VydmljZS5hY2NvdW50LndlaWJvLmNvbS9yZXBvcnRzcGFtIl0sIC5XQl9oYW5kbGUgdWwgbGlbeWF3Zi1jb21tZW50LWhhbmRsZS10eXBlPSJyZXBvcnQiXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ1NoaWVsZCcsIDI5NCwgJy5zY3JlZW5fYm94IC5sYXllcl9tZW51X2xpc3QgYVthY3Rpb24tdHlwZT0iZmVlZF9saXN0X3NoaWVsZF9ub3ZpcCJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnVXNlQ2FyZEJhY2tncm91bmQnLCAyOTQsICcuc2NyZWVuX2JveCAubGF5ZXJfbWVudV9saXN0IGFbYWN0aW9uLXR5cGU9ImZsX2NhcmRDb3ZlciJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CgogIC8vIOagh+iusOW+ruWNmuaMiemSrgogIG9ic2VydmVyLndlaWJvLm9ubG9hZChmdW5jdGlvbiAoZmVlZCkgewogICAgdmFyIGxpID0gQXJyYXkuZnJvbShmZWVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5XQl9oYW5kbGUgLldCX3Jvd19saW5lIGxpLCAuV0JfZmVlZF90b2dldGhlciAuV0JfZnVuYyAuV0JfaGFuZGxlIGxpJykpOwogICAgbGkuZm9yRWFjaChmdW5jdGlvbiAobGkpIHsKICAgICAgdmFyIHR5cGUgPSBsaS5xdWVyeVNlbGVjdG9yKCdhJykuZ2V0QXR0cmlidXRlKCdhY3Rpb24tdHlwZScpOwogICAgICBpZiAoIXR5cGUgJiYgbGkucXVlcnlTZWxlY3RvcignYVtzdWRhLXVhdHJhY2s9ImtleT1wcm9maWxlX2ZlZWQmdmFsdWU9cG9wdWxhcml6ZV9ob3N0Il0nKSkgdHlwZSA9ICdmbF9wb3AnOwogICAgICBpZiAoIXR5cGUgJiYgbGkucXVlcnlTZWxlY3Rvcignc3Bhblt0aXRsZSo9IuivhOiuuiJdLCBzcGFuW3RpdGxlKj0i6KmV6KuWIl0sIHNwYW5bdGl0bGUqPSJjb21tZW50Il0nKSkgdHlwZSA9ICdmbF9jb21tZW50JzsgLy8g55Sx5LqO55So5oi36K6+572u77yM5peg5rOV6L+b6KGM6K+E6K66CiAgICAgIGxpLnNldEF0dHJpYnV0ZSgneWF3Zi1oYW5kbGUtdHlwZScsIHR5cGUpOwogICAgfSk7CiAgICB2YXIgZndsaSA9IEFycmF5LmZyb20oZmVlZC5xdWVyeVNlbGVjdG9yQWxsKCcuV0JfZmVlZF9leHBhbmQgLldCX2Z1bmMgLldCX2hhbmRsZSBsaScpKTsKICAgIGlmIChmd2xpLmxlbmd0aCA9PT0gMykgZndsaS5mb3JFYWNoKGZ1bmN0aW9uIChsaSwgaW5kZXgpIHsKICAgICAgbGkuc2V0QXR0cmlidXRlKCd5YXdmLWhhbmRsZS10eXBlJywgWydmbF9mb3J3YXJkJywgJ2ZsX2NvbW1lbnQnLCAnZmxfbGlrZSddW2luZGV4XSk7CiAgICB9KTsgZWxzZSBpZiAoZndsaS5sZW5ndGggPT09IDQpIGZ3bGkuZm9yRWFjaChmdW5jdGlvbiAobGksIGluZGV4KSB7CiAgICAgIGxpLnNldEF0dHJpYnV0ZSgneWF3Zi1oYW5kbGUtdHlwZScsIFsnZmxfcmVhZCcsICdmbF9mb3J3YXJkJywgJ2ZsX2NvbW1lbnQnLCAnZmxfbGlrZSddW2luZGV4XSk7CiAgICB9KTsKICB9KTsKCiAgLy8g5qCH6K6w5b6u5Y2a6K+E6K665oyJ6ZKuCiAgb2JzZXJ2ZXIuZG9tLmFkZChmdW5jdGlvbiBtYXJrQ29tbWVudEJ1dHRvbigpIHsKICAgIHZhciBjbGkgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoCiAgICAgICcubGlzdF91bFtub2RlLXR5cGU9ImZlZWRfbGlzdF9jb21tZW50TGlzdCJdIC5XQl9oYW5kbGUgdWwgbGk6bm90KFt5YXdmLWNvbW1lbnQtaGFuZGxlLXR5cGVdKSwgJyArCiAgICAgICcubGlzdF91bFtub2RlLXR5cGU9ImNvbW1lbnRfbGlzdCJdIC5XQl9oYW5kbGUgdWwgbGk6bm90KFt5YXdmLWNvbW1lbnQtaGFuZGxlLXR5cGVdKScKICAgICkpOwogICAgY2xpLmZvckVhY2goZnVuY3Rpb24gKGxpKSB7CiAgICAgIHZhciBhID0gbGkucXVlcnlTZWxlY3RvcignYScpLCB0eXBlID0gbnVsbDsKICAgICAgaWYgKHV0aWwuZG9tLm1hdGNoZXMoYSwgJ1tvbmNsaWNrKj0ic2VydmljZS5hY2NvdW50LndlaWJvLmNvbS9yZXBvcnRzcGFtIl0nKSkgdHlwZSA9ICdyZXBvcnQnOwogICAgICBlbHNlIGlmICh1dGlsLmRvbS5tYXRjaGVzKGEsICdbYWN0aW9uLXR5cGU9ImRlbGV0ZSJdJykpIHR5cGUgPSAnZGVsZXRlJzsKICAgICAgZWxzZSBpZiAodXRpbC5kb20ubWF0Y2hlcyhhLCAnW2FjdGlvbi10eXBlPSJjb21tZW50RGlhbG9ndWUiXScpKSB0eXBlID0gJ2NvbnZlcnNpdGlvbic7CiAgICAgIGVsc2UgaWYgKHV0aWwuZG9tLm1hdGNoZXMoYSwgJ1thY3Rpb24tdHlwZT0icmVwbHkiXScpKSB0eXBlID0gJ3JlcGx5JzsKICAgICAgZWxzZSBpZiAodXRpbC5kb20ubWF0Y2hlcyhhLCAnW2FjdGlvbi10eXBlPSJmbF9saWtlIl0nKSkgdHlwZSA9ICdsaWtlJzsKICAgICAgbGkuc2V0QXR0cmlidXRlKCd5YXdmLWNvbW1lbnQtaGFuZGxlLXR5cGUnLCB0eXBlIHx8ICcnKTsKICAgIH0pOwogIH0pOwoKICAvLyDmoIforrDmn6XnnIvlpKflm77nmoTmjInpkq4KICBvYnNlcnZlci5kb20uYWRkKGZ1bmN0aW9uIG1hcmtQaWN0dXJlVmlld0J1dHRvbigpIHsKICAgIHZhciBjbGkgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tdWx0aXBpY19wcmV2aWV3IC5XQl9oYW5kbGUgbGk6bm90KFt5YXdmLWhhbmRsZS10eXBlXSknKSk7CiAgICBjbGkuZm9yRWFjaChmdW5jdGlvbiAobGkpIHsKICAgICAgdmFyIGEgPSBsaS5xdWVyeVNlbGVjdG9yKCdhJyksIHR5cGUgPSBhLmdldEF0dHJpYnV0ZSgnYWN0aW9uLXR5cGUnKTsKICAgICAgbGkuc2V0QXR0cmlidXRlKCd5YXdmLWhhbmRsZS10eXBlJywgdHlwZSB8fCAnJyk7CiAgICB9KTsKICB9KTsKCiAgc3VidGl0bGUoJ1BlcnNvbicsIHRydWUpOwogIGl0ZW0oJ01vdmVUaGluZ3MnLCA1MSwgJy5wcm9maWxlX21vdmVfdGhpbmdzIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnQ292ZXInLCA1LCBmdW5jdGlvbiAoKSB7CiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuY210KGZ1bmN0aW9uICgpIHsgLyohQ1NTCiAgICAgIC5QQ0RfaGVhZGVyLCAuUENEX2hlYWRlciAucGZfd3JhcCwgLlBDRF9oZWFkZXIgLnNoYWRvdyB7IGhlaWdodDogMTMwcHg7IH0KICAgICAgLlBDRF9oZWFkZXIgLnBmX3Bob3RvIHsgbWFyZ2luOiAxMHB4IDIwcHggMTBweCBjYWxjKDUwJSAtIDI4MHB4KTsgZmxvYXQ6IGxlZnQ7IH0KICAgICAgLlBDRF9oZWFkZXIgLnBmX3VzZXJuYW1lLCAuUENEX2hlYWRlciAucGZfaW50cm8geyB0ZXh0LXNoYWRvdzogMCAwIDRweCAjMDAwOyB9CiAgICAgIC5QQ0RfaGVhZGVyIC5wZl91c2VybmFtZSwgLlBDRF9oZWFkZXIgLnBmX2ludHJvLCAuUENEX2hlYWRlciAucGZfb3B0IHsgdGV4dC1hbGlnbjogbGVmdDsgbWFyZ2luLWxlZnQ6IDE0MHB4OyB9CiAgICAgIC5QQ0RfaGVhZGVyIC5wZl93cmFwIC5wZl91c2VfbnVtLCAuUENEX2hlYWRlciAucGZfd3JhcCAucGZfY29weV9pY29uLCAuUENEX2hlYWRlciAudXBjb3ZlciB7IGRpc3BsYXk6IG5vbmU7IH0KICAgICAgLlBDRF9oZWFkZXIgLlNfc2hhZG93LCAuUENEX2hlYWRlciAuY292ZXJfd3JhcCwgLlBDRF9oZWFkZXIgLnBmX3dyYXAgeyBiYWNrZ3JvdW5kOiBub25lICFpbXBvcnRhbnQ7IH0KICAgICAgLlBDRF9oZWFkZXIgLnNoYWRvdyB7IG1hcmdpbjogMCBjYWxjKDUwJSAtIDMwMHB4KTsgd2lkdGg6IDYwMHB4OyB9CiAgICAgIC5QQ0RfaGVhZGVyIC5wZl9pbnRybyB7IGhlaWdodDogMzZweDsgbGluZS1oZWlnaHQ6IDE4cHg7IH0KICAgICAgLlBDRF9oZWFkZXIgLnBmX29wdCB7IG1hcmdpbi10b3A6IDhweDsgfQogICAgKi8gbm9vcCgpOyB9KSk7CiAgICBvYnNlcnZlci5kb20uYWRkKGZ1bmN0aW9uIGZ1bGxQcm9maWxlSW50cm9kdWN0aW9uKCkgewogICAgICB2YXIgaW50cm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUENEX2hlYWRlciAucGZfaW50cm86bm90KFt5YXdmLWZ1bGwtaW50cm9dKScpOyBpZiAoIWludHJvKSByZXR1cm47CiAgICAgIGludHJvLnNldEF0dHJpYnV0ZSgneWF3Zi1mdWxsLWludHJvJywgKGludHJvLnRleHRDb250ZW50ID0gaW50cm8uZ2V0QXR0cmlidXRlKCd0aXRsZScpKSk7CiAgICB9KTsKICB9KTsKICBpdGVtKCdCR0ltZycsIDIyNywgJy5TX3BhZ2UsIC5TX3BhZ2UgLldCX21pbmlibG9nIHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCJcJ1wnIikgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ0JhZGdlSWNvbicsIDEwLCAnLnBmX2JhZGdlX2ljb24geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdWZXJpZnknLCAxNzQsICdbeWF3Zi1pZD0ieWF3Zi1wci1wY2QtcGVyc29uLWluZm8tbXkiXSAudmVyaWZ5X2FyZWEsIFt5YXdmLWlkPSJ5YXdmLXByLXBjZC1wZXJzb24taW5mbyJdIC52ZXJpZnlfYXJlYSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ0VkaXRQZXJzb25JbmZvJywgMTc0LCAnW3lhd2YtaWQ9Inlhd2YtcHItcGNkLXBlcnNvbi1pbmZvLW15Il0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdTdGF0cycsIDUsICdbeWF3Zi1pZD0ieWF3Zi1wci1wY2QtY291bnRlciJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnTXlEYXRhJywgNSwgJ1tpZF49IlBsX09mZmljaWFsX015TWljcm93b3JsZF9fIl0sIC5XQl9mcmFtZV9iIFtpZF49IlBsX09mZmljaWFsX015UG9wdWxhcml0eV9fIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdTdWdnZXN0VXNlcicsIDEwLCAnW2lkXj0iUGxfQ29yZV9SaWdodFVzZXJMaXN0X18iXSwgLldCX2ZyYW1lX2IgW2lkXj0iUGxfQ29yZV9SaWdodFVzZXJMaXN0X18iXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ0dyb3VwJywgMTIsICdbaWRePSJQbF9Db3JlX1VzZXJHcmlkX18iXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ1JlbGF0aW9uJywgNSwgJ1tpZF49IlBsX0NvcmVfUmlnaHRVc2VyR3JpZF9fIl0sIC5XQl9mcmFtZV9iIFtpZF49IlBsX0NvcmVfUmlnaHRVc2VyR3JpZF9fIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdBbGJ1bScsIDUsICdbaWRePSJQbF9Db3JlX1JpZ2h0UGljTXVsdGlfXyJdLCAuV0JfZnJhbWVfYiBbaWRePSJQbF9Db3JlX1JpZ2h0UGljTXVsdGlfXyJdLCBbeWF3Zi1vYmotbmFtZT0i55u45YaKIl0sIFt5YXdmLW9iai1uYW1lPSLnm7jlhowiXSwgLlBDRF9waG90b2xpc3QgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdIb3RUb3BpYycsIDUsICdbaWRePSJQbF9Db3JlX1JpZ2h0VGV4dFNpbmdsZV9fIl0sIC5XQl9mcmFtZV9iIFtpZF49IlBsX0NvcmVfUmlnaHRUZXh0U2luZ2xlX18iXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ0hvdFdlaWJvJywgNSwgJ1tpZF49IlBsX0NvcmVfUmlnaHRQaWNUZXh0X18iXSwgLldCX2ZyYW1lX2IgW2lkXj0iUGxfQ29yZV9SaWdodFBpY1RleHRfXyJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnVXNlckxpc3QnLCAxNjQsICdbaWRePSJQbF9Db3JlX1V0MVVzZXJMaXN0X18iXSwgLldCX2ZyYW1lX2IgW2lkXj0iUGxfQ29yZV9SaWdodFBpY1RleHRfXyJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnSG9uZ2JhbycsIDE5OSwgJ1t5YXdmLWlkPSJ5YXdmLXByLWhvbmdiYW8iXSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ1dlbndvRHInLCAzMzcsICdbeWF3Zi1vYmotbmFtZT0i54ix6Zeu5Yy755SfIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsgLy8g5a+55bqU5qih5Z2X5rKh5pyJ57mB5L2T5oiW6Iux5paH57+76K+RCiAgaXRlbSgnVGltZWxpbmUnLCAxNjQsICdbaWRePSJQbF9PZmZpY2lhbF9UaW1lQmFzZV9fIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKCiAgc3VidGl0bGUoJ1BMZWZ0Jyk7CiAgZmlsdGVyLml0ZW1zLmxheW91dC5wbGVmdC5tb2RzID0gZmlsdGVyLml0ZW0oewogICAgJ2dyb3VwJzogJ3BsZWZ0JywKICAgICd2ZXJzaW9uJzogMTM0LAogICAgJ2tleSc6ICd3ZWliby5sYXlvdXQucGxlZnQnLAogICAgJ3RleHQnOiAne3tsYXlvdXRIaWRlUExlZnREZXRhaWxzfX0nLAogICAgJ3R5cGUnOiAnc3RyaW5ncycsCiAgICAnYWRkJzogZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudHJpbSgpIHx8IG51bGw7IH0sCiAgICAnaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLmNvbmYubGVuZ3RoKSByZXR1cm47CiAgICAgIHV0aWwuY3NzLmFkZCh0aGlzLmNvbmYubWFwKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgcyA9IHMucmVwbGFjZSgvXFwvZywgJ1xcXFwnKS5yZXBsYWNlKC8iL2csICdcXCInKTsKICAgICAgICByZXR1cm4gJ1t5YXdmLW9iai1uYW1lKj0iJyArIHMgKyAnIl0nOwogICAgICB9KS5qb2luKCcsICcpICsgJyB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogICAgfQogIH0pLmFkZHRvKGZpbHRlci5ncm91cHMubGF5b3V0KTsKCiAgc3VidGl0bGUoJ01lc3NhZ2VzJywgdHJ1ZSk7CiAgaXRlbSgnSGVscCcsIDk3LCAnI3Y2X3BsX3JpZ2h0bW9kX2hlbHBhdCwgI3Y2X3BsX3JpZ2h0bW9kX2hlbHBjb21tZW50LCAjdjZfcGxfcmlnaHRtb2RfaGVscGxpa2UsICN2Nl9wbF9yaWdodG1vZF9oZWxwbm90ZWJveCwgI3Y2X3BsX3JpZ2h0bW9kX2hlbHBmYXYsICN2Nl9wbF9yaWdodG1vZF9oZWxwZ3JvdXBjaGF0bm90aWNlIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnRmVlZGJhY2snLCA5NywgJyN2Nl9wbF9yaWdodG1vZF9mZWVkYmFjayB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ1lvdWRhbycsIDE3NCwgJyN2Nl9wbF9yaWdodG1vZF9mYXZ5b3VkYW8geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKCiAgc3VidGl0bGUoJ090aGVyJywgdHJ1ZSk7CiAgaXRlbSgnQWRzJywgMiwgZnVuY3Rpb24gKCkgewogICAgdXRpbC5jc3MuYWRkKFsKICAgICAgJ1thZC1kYXRhXScsICdbZmVlZHR5cGU9ImFkIl0nLAogICAgICAnW2lkXj0iYWRzXyJdJywgJ1tpZF49ImFkXyJdJywKICAgICAgJ1tpZCo9InBsX3JpZ2h0bW9kX2FkcyJdJywgJ1tpZCo9InBsX2NvbnRlbnRfYml6Il0nLCAnW2lkKj0icGxfYWRfIl0nLCAnW2lkXj0ic2luYWFkVG9vbGtpdEJveCJdJywKICAgICAgJ1tjbGFzcyo9IldCX2FkXyJdJywKICAgICAgJyN0b3BpY0FEJywgJyN0b3BpY0FEQnV0dG9tJywgJy5XQl9mZWVkIC5wb3B1bGFyX2J1c3MnLCAnLmZlZWRfYXBwX2FkcycsICcuV19iaWdEYXknLAogICAgICAnLldCX2ZlZWRfeXkyMDE2X3VwX2J1dCcsICcuV0JfZmVlZF95eTIwMTZfZG93bl9idXQnLCAnI3BsX2NvbW1vbl9hbGknLAogICAgICAnLldfc2tpbl9iYW5uZXInLAogICAgICAnW25vZGUtdHlwZT0iaW1nQnRuIl1bYWN0aW9uLWRhdGE9ImNhblVwbG9hZEltYWdlPTAiXScKICAgIF0uam9pbignLCcpICsgJyB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfSAnICsKICAgICcjd3JhcEFELCAubmV3c19sb2dvIHsgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7IH0nKTsKICAgIHZhciB2ZXJzaW9uID0gJyc7CiAgICAvLyDmo4Dmn6XlupTlvZPmm7/mjaLkuLrlk6rnp43nmq7ogqQKICAgIC8vIOe9kemhteS4rSAkQ09ORklHLnNraW4g57uZ5Ye65LqG55So5oi36YCJ5oup55qE55qu6IKkCiAgICB2YXIgZGVmYXVsdFNraW4gPSAnc2tpbjA1OCcsIHRhcmdldCA9IGRlZmF1bHRTa2luOwogICAgdHJ5IHsgdGFyZ2V0ID0gdXRpbC5pbmZvLnNraW4gfHwgZGVmYXVsdFNraW47IH0gY2F0Y2ggKGUpIHsgfQogICAgaWYgKC9za2luM1s1Nl1cZC8udGVzdCh0YXJnZXQpKSB0YXJnZXQgPSBkZWZhdWx0U2tpbjsKICAgIC8vIOajgOafpee9kemhteS4reaYr+WQpuiiq+aPkuWFpeS6huW5v+WRiuearuiCpO+8jOWmguaenOacieWImeaNouaIkOeUqOaIt+mAieaLqeeahO+8iOaIlum7mOiupOeahO+8ieearuiCpAogICAgdmFyIHVwZGF0ZVNraW4gPSBmdW5jdGlvbiB1cGRhdGVTa2luKCkgewogICAgICB2YXIgYWRza2luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGlua1tocmVmKj0iL3NraW4zNSJdLCBsaW5rW2hyZWYqPSIvc2tpbjM2Il0nKTsKICAgICAgaWYgKGFkc2tpbikgewogICAgICAgIHZhciBhID0gdXRpbC5kb20uY3JlYXRlKCdhJywgJycpOyB2ZXJzaW9uID0gJyc7IGEuaHJlZiA9IGFkc2tpbi5ocmVmOwogICAgICAgIHRyeSB7IHZlcnNpb24gPSB2ZXJzaW9uIHx8IHV0aWwuc3RyLnBhcnNlcXVlcnkoYS5zZWFyY2guc2xpY2UoMSkpLnZlcnNpb247IH0gY2F0Y2ggKGUpIHsgfQogICAgICAgIHV0aWwuZGVidWcoJ2FkIHNraW4gJW8odmVyc2lvbiAlbykgaGFzIGJlZW4gcmVwbGFjZWQnLCBhZHNraW4uaHJlZiwgdmVyc2lvbik7CiAgICAgICAgYWRza2luLnNldEF0dHJpYnV0ZSgnaHJlZicsICdodHRwOi8vaW1nLnQuc2luYWpzLmNuL3Q2L3NraW4vJyArIHRhcmdldCArICcvc2tpbi5jc3M/dmVyc2lvbj0nICsgdmVyc2lvbik7CiAgICAgIH0KICAgICAgdmFyIGFkc2tpbmNvdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NraW5fY292ZXJfc1tzdHlsZSo9Ii9za2luMzUiXSwgI3NraW5fY292ZXJfc1tzdHlsZSo9Ii9za2luMzYiXScpOwogICAgICBpZiAoYWRza2luY292ZXIpIGFkc2tpbmNvdmVyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoImh0dHA6Ly9pbWcudC5zaW5hanMuY24vdDYvc2tpbi8nICsgdGFyZ2V0ICsgJy9pbWFnZXMvcHJvZmlsZV9jb3Zlcl9zLmpwZz92ZXJzaW9uPScgKyB2ZXJzaW9uICsgJyIpJzsKICAgIH07CiAgICBvYnNlcnZlci5kb20uYWRkKHVwZGF0ZVNraW4pOwoKICAgIC8vIOWkhOeQhiAyMDE2LjYuMTgg55qE5bm/5ZGKCiAgICB1dGlsLmZ1bmMucGFnZShmdW5jdGlvbiAoKSB7CiAgICAgIC8vIOS9oOeahOW5v+WRiuaIkeW3sue7j+eci+i/h+S4iuS4h+mBjeS6hu+8jOaJgOS7peWIq+e7meaIkeaUvuW5v+WRigogICAgICBkb2N1bWVudC5jb29raWUgPSAnd2JfYmFycmFnZScgKyAkQ09ORklHLnVpZCArICc9JyArICgxMDAwMCArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDEwMDApKSArCiAgICAgICAgJzsgZXhwaXJlcz0nICsgbmV3IERhdGUoRGF0ZS5ub3coKSArIDIuNmU4KS50b0dNVFN0cmluZygpICsgJzsgcGF0aD0vJzsKICAgIH0pOwogICAgLy8g5oC75LmL5L2g5pS+55qE5Lic6KW/5oiR55yL5LiN5Yiw77yM5omA5Lul5Yir57uZ5oiR5pS+5bm/5ZGK5LqGCiAgICB1dGlsLmNzcy5hZGQoJy5XQl9hZF90bTIwMTUgfiBkaXZbc3R5bGUqPSJwb3NpdGlvbiJdW3N0eWxlKj0iZml4ZWQiXVtzdHlsZSo9InotaW5kZXgiXVtzdHlsZSo9Ijk5OTk5Il0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKCiAgICAvLyDnp7vpmaTkuIDkupvmmL7npLrlub/lkYrnmoQgY2xhc3NOYW1lIO+8jOS4jeenu+mZpOWvueixoeacrOi6qwogICAgLy8g6L+Z5LqbIGNsYXNzTmFtZSDlm6DkuLrlvbHlk43ov4flpKfvvIzpgJrov4fmoLflvI/opobnm5bovoPkuLrlm7Dpmr7kuJTlrrnmmJPlj5HnlJ/pl67popgKICAgIHZhciBhZENsYXNzTmFtZSA9IFsnV0JfZmVlZF95eTIwMTZfdXAnLCAnV0JfZmVlZF95eTIwMTZfZG93biddOwogICAgdmFyIHJlbW92ZUNsYXNzTmFtZSA9IGZ1bmN0aW9uIG5vQWRzUmVtb3ZlQ2xhc3NOYW1lKCkgewogICAgICBhZENsYXNzTmFtZS5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHsKICAgICAgICB2YXIgdGFyZ2V0cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpKTsKICAgICAgICB0YXJnZXRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH07CiAgICBvYnNlcnZlci5kb20uYWRkKHJlbW92ZUNsYXNzTmFtZSk7CiAgfSwgeyAnZGVmYXVsdCc6IHRydWUgfSk7CiAgaXRlbSgnTXVzaWMnLCAxMTAsICcuUENEX21wbGF5ZXIgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdUZW1wbGF0ZScsIDI3OSwgJy5pY29uX3NldHNraW4geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdIb21lVGlwJywgMTI0LCAnI3Y2X3BsX2NvbnRlbnRfaG9tZXRpcCB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudCB9Jyk7CiAgaXRlbSgnRm9vdGVyJywgNSwgJy5nbG9iYWxfZm9vdGVyLCAuV0JfZm9vdGVyIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnV2JJbScsIDUsICcuV0JJTV9uZXdzLCAuc2VuZGJveF9idG5fbCBhW2hyZWZePSJodHRwOi8vZGVza3RvcC53ZWliby5jb20vZG93bmxvYWQucGhwIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdJTScsIDE4OSwgJyNXQl93ZWJpbSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogIGl0ZW0oJ1RpcCcsIDgsICcuV19sYXllcl90aXBzIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnUmVsYXRlZFdCJywgMTM0LCAnW3lhd2Ytb2JqLW5hbWU9IuebuOWFs+aOqOiNkCJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9ICNXQl93ZWJpbSAud2JpbV9jaGF0X2JveCwgI1dCX3dlYmltIC53YmltX21pbl9jaGF0ICB7IHJpZ2h0OiAyMHB4ICFpbXBvcnRhbnQ7IH0nKTsKICBpdGVtKCdSZWxhdGVkQXJ0aWNhbCcsIDQxMSwgJy5XQl9hcnRpY2FsIFtub2RlLXR5cGU9InJlY29tbWVuZCJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgaXRlbSgnU2VuZFdlaWJvJywgMjIwLCAnLnNlbmRfd2VpYm9fc2ltcGxlIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CgogIC8vIOagueaNruWFg+e0oOWGheWuueagh+iusOWFg+e0oAogIHZhciB0YWdNb2RzID0gZnVuY3Rpb24gKHFzLCBpZGVudGlmaWVycykgewogICAgcmV0dXJuIGZ1bmN0aW9uIHRhZ01vZHNJbm5lcigpIHsKICAgICAgdmFyIG1vZHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocXMpKTsKICAgICAgaWYgKCFtb2RzLmxlbmd0aCkgcmV0dXJuOwogICAgICBtb2RzLmZvckVhY2goZnVuY3Rpb24gKG1vZCkgewogICAgICAgIG1vZC5zZXRBdHRyaWJ1dGUoJ3lhd2YtaWQnLCAnJyk7CiAgICAgICAgT2JqZWN0LmtleXMoaWRlbnRpZmllcnMpLmZvckVhY2goZnVuY3Rpb24gKHFzKSB7CiAgICAgICAgICBpZiAobW9kLnF1ZXJ5U2VsZWN0b3IocXMpKSBtb2Quc2V0QXR0cmlidXRlKCd5YXdmLWlkJywgaWRlbnRpZmllcnNbcXNdKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9OwogIH07CgogIC8vIOagh+iusOmmlumhteW3puagj+WvvOiIqumTvuaOpQogIHZhciB0YWdMZWZ0TmF2TW9kcyA9IHRhZ01vZHMoWwogICAgJyN2Nl9wbF9sZWZ0bmF2X2dyb3VwIC5sZXY6bm90KFt5YXdmLWlkXSknLAogIF0uam9pbignLCcpLCB7CiAgICAnYVtocmVmKj0iL2hvbWU/Il0nOiAnbGVmdG5hdl9ob21lJywKICAgICdhW2hyZWZePSIvYXQvIl0nOiAnbGVmdG5hdl9tZXNzYWdlJywKICAgICdhW2hyZWZePSIvZmF2Il0nOiAnbGVmdG5hdl9mYXYnLAogICAgJ2FbaHJlZl49Ii9saWtlIl0nOiAnbGVmdG5hdl9saWtlJywKICAgICdhW2hyZWZePSIvZnJpZW5kcyJdJzogJ2xlZnRuYXZfZnJpZW5kcycsCiAgICAnYVtocmVmXj0iL2dyb3Vwc2ZlZWQiXSc6ICdsZWZ0bmF2X2dyb3Vwc2ZlZWQnLAogICAgJ2FbaHJlZl49Ii9teWdyb3VwcyJdJzogJ2xlZnRuYXZfbXlncm91cHMnLAogICAgJ2FbaHJlZl49Imh0dHA6Ly9kLndlaWJvLmNvbSJdJzogJ2xlZnRuYXZfaG90JywKICAgICdhW2hyZWZePSJodHRwOi8vd2VpYm8uY29tL3R2Il0nOiAnbGVmdG5hdl90dicsCiAgICAnYVtocmVmXj0iL215Z3JvdXBzIl1baHJlZio9Imlzc3BlY2lhbGdyb3VwPTEiXSc6ICdsZWZ0bmF2X3NwZWNpYWwnLAogICAgJ2FbaHJlZl49Ii9teWdyb3VwcyJdW2hyZWYqPSJ3aGlzcGVyPTEiXSc6ICdsZWZ0bmF2X3doaXNwZXInLAogIH0pOwogIG9ic2VydmVyLmRvbS5hZGQodGFnTGVmdE5hdk1vZHMpOwogIHRhZ0xlZnROYXZNb2RzKCk7CgogIC8vIOagh+iusOmmlumhteWPs+agj+WFg+e0oAogIHZhciB0YWdSaWdodGJhck1vZHMgPSB0YWdNb2RzKFsKICAgICcjdHJ1c3RQYWdlbGV0X2luZGV4cmlnaHRfcmVjb20gLldCX3JpZ2h0X21vZHVsZTpub3QoW3lhd2YtaWRdKScsCiAgICAnI3Y2X3BsX3JpZ2h0bW9kX3JlY29taW5mbyAuV0JfY2FyZHdyYXA6bm90KFt5YXdmLWlkXSknLAogICAgJyN2Nl9wbF9yaWdodG1vZF9yYW5rIC5XQl9jYXJkd3JhcDpub3QoW3lhd2YtaWRdKScsCiAgXS5qb2luKCcsJyksIHsKICAgICdbY2hhbmdlLWRhdGEqPSJrZXk9aG90dG9waWNfcjIiXSc6ICdyaWdodG1vZF96dF9ob3R0b3BpYycsCiAgICAnW2NoYW5nZS1kYXRhKj0ia2V5PWludGVyZXN0X3IyIl0nOiAncmlnaHRtb2RfcmVjb21faW50ZXJlc3QnLAogICAgJ2g0Lm9ial9uYW1lIGFbaHJlZio9Im1vdmllLndlaWJvLmNvbSJdJzogJ3JpZ2h0bW9kX3JlY29tX21vdmllJywKICAgICdoNC5vYmpfbmFtZSBhW2hyZWYqPSJ0YW9iYW8uY29tIl1baHJlZio9ImRpYW55aW5nIl0nOiAncmlnaHRtb2RfdGFvYmFvX21vdmllJywKICAgICdoMi5tYWluX3RpdGxlIGFbaHJlZio9ImJvb2sud2VpYm8uY29tL3RvcCJdJzogJ3Y2X3BsX3JpZ2h0bW9kX3JhbmtfYm9vaycsCiAgICAnaDQub2JqX25hbWUgYVtocmVmKj0icG9wLndlaWJvLmNvbSJdJzogJ3Y2X3BsX3JpZ2h0bW9kX3JhbmtfcG9wJywKICAgICdkaXYub2JqX25hbWUgYVtocmVmKj0iMTAwODA4ZmFlY2ViZmY4YTU0Yjk3YTkxNjk5YzY1NGU1ZjRjZGEiXSc6ICd2Nl9wbF9yaWdodG1vZF9yYW5rX2hvbmcnLAogIH0pOwogIG9ic2VydmVyLmRvbS5hZGQodGFnUmlnaHRiYXJNb2RzKTsKICB0YWdSaWdodGJhck1vZHMoKTsKCiAgLy8g5qCH6K6w5Liq5Lq65Li76aG155qE5qih5Z2XCiAgdmFyIHRhZ1BMZWZ0TW9kc05hbWUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbmFtZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoWwogICAgICAnLldCX2ZyYW1lX2IgPiBkaXY6bm90KFt5YXdmLW9iai1uYW1lXSkgLm1haW5fdGl0bGUnLAogICAgICAnLldCX2ZyYW1lX2MgPiBkaXY6bm90KFt5YXdmLW9iai1uYW1lXSkgLm1haW5fdGl0bGUnCiAgICBdLmpvaW4oJywnKSkpOwogICAgaWYgKCFuYW1lcy5sZW5ndGgpIHJldHVybjsKICAgIG5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHRpdGxlKSB7CiAgICAgIHZhciBuYW1lID0gdGl0bGUgJiYgdGl0bGUudGV4dENvbnRlbnQudHJpbSgpIHx8ICcnLCBwID0gdGl0bGU7CiAgICAgIHdoaWxlICgKICAgICAgICAhcC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnV0JfZnJhbWVfYicpICYmCiAgICAgICAgIXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ1dCX2ZyYW1lX2MnKQogICAgICApIHAgPSBwLnBhcmVudE5vZGU7CiAgICAgIGlmICghcC5oYXNBdHRyaWJ1dGUoJ3lhd2Ytb2JqLW5hbWUnKSkgcC5zZXRBdHRyaWJ1dGUoJ3lhd2Ytb2JqLW5hbWUnLCBuYW1lKTsKICAgIH0pOwogIH07CiAgdmFyIHRhZ1BMZWZ0TW9kc1FzID0gdGFnTW9kcygnLldCX2ZyYW1lX2IgPiBkaXY6bm90KDplbXB0eSk6bm90KFt5YXdmLWlkXSknLCB7CiAgICAnLlBDRF9jb3VudGVyJzogJ3lhd2YtcHItcGNkLWNvdW50ZXInLAogICAgJy5QQ0RfcGVyc29uX2luZm8nOiAneWF3Zi1wci1wY2QtcGVyc29uLWluZm8nLAogICAgJy5XQl9jYXJkd3JhcFthY3Rpb24tZGF0YSo9IndlaWJvLmNvbSUyRmhvbmdiYW8iXSc6ICd5YXdmLXByLWhvbmdiYW8nLAogICAgJy5XQl9jYXJkd3JhcFthY3Rpb24tZGF0YSo9InNpbmEuY29tLmNuJTJGaG9uZ2JhbyJdJzogJ3lhd2YtcHItaG9uZ2JhbycsCiAgICAnYVtocmVmXj0iaHR0cDovL2hvbmdiYW8ud2VpYm8uY29tL2hvbmdiYW8iXSc6ICd5YXdmLXByLWhvbmdiYW8nLAogICAgJy5QQ0RfcGVyc29uX2luZm8gYS5XQl9jYXJkbW9yZVtocmVmXj0iL3AvIl1baHJlZiQ9ImluZm8/bW9kPXBlZGl0Il0nOiAneWF3Zi1wci1wY2QtcGVyc29uLWluZm8tbXknLAogIH0pOwogIHZhciB0YWdQTGVmdE1vZHMgPSBmdW5jdGlvbiB0YWdQTGVmdE1vZHMoKSB7CiAgICB0YWdQTGVmdE1vZHNOYW1lKCk7CiAgICB0YWdQTGVmdE1vZHNRcygpOwogIH07CiAgb2JzZXJ2ZXIuZG9tLmFkZCh0YWdQTGVmdE1vZHMpOwogIHRhZ1BMZWZ0TW9kcygpOwoKfSgpKTsKCi8vIOaUuemAoOiuvue9rgpmaWx0ZXIucHJlZGVmLmdyb3VwKCd0b29sJyk7CgovLyDovrnmoI/nm7jlhbPlt6XlhbcKZmlsdGVyLnByZWRlZi5zdWJ0aXRsZSgndG9vbCcsICdzaWRlYmFyJywgJ3t7c2lkZUNvbHVtblRvb2xzVGl0bGV9fScpOwoKLy8g5bGV5byA5bem5qCP5raI5oGvCmZpbHRlci5pdGVtcy50b29sLnNpZGViYXIuc2hvd19hbGxfbXNnX25hdiA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnc2lkZWJhcicsCiAgJ3ZlcnNpb24nOiAzOTAsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLnNob3dBbGxNc2dOYXYnLAogICd0ZXh0JzogJ3t7e3Nob3dBbGxNc2dOYXZ9fX0nLAogICdyZWYnOiB7CiAgICAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICd3YXJuJywgJ3RleHQnOiAne3tzaG93QWxsTXNnTmF2RGVzY319JyB9LAogICAgJ2F0bWUnOiB7ICd0eXBlJzogJ2Jvb2xlYW4nLCAnZGVmYXVsdCc6IHRydWUgfSwKICAgICdjbXQnOiB7ICd0eXBlJzogJ2Jvb2xlYW4nLCAnZGVmYXVsdCc6IHRydWUgfSwKICAgICdsaWtlJzogeyAndHlwZSc6ICdib29sZWFuJywgJ2RlZmF1bHQnOiBmYWxzZSB9LAogICAgJ2RtJzogeyAndHlwZSc6ICdib29sZWFuJywgJ2RlZmF1bHQnOiBmYWxzZSB9LAogICAgJ21zZ2JveCc6IHsgJ3R5cGUnOiAnYm9vbGVhbicsICdkZWZhdWx0JzogZmFsc2UgfSwKICAgICdncm91cCc6IHsgJ3R5cGUnOiAnYm9vbGVhbicsICdkZWZhdWx0JzogZmFsc2UgfSwKICAgICdkbXN1Yic6IHsgJ3R5cGUnOiAnYm9vbGVhbicsICdkZWZhdWx0JzogZmFsc2UgfSwKICB9LAogICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBjb25mcyA9IHRoaXMucmVmOwogICAgb2JzZXJ2ZXIuZG9tLmFkZChmdW5jdGlvbiBzaG93QWxsTXNnTmF2KCkgewogICAgICB2YXIgZ3JvdXBMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Y2X3BsX2xlZnRuYXZfZ3JvdXAgW25vZGUtdHlwZT0iZ3JvdXBMaXN0Il06bm90KFt5YXdmLW1lc3NhZ2VdKScpOyBpZiAoIWdyb3VwTGlzdCkgcmV0dXJuOwogICAgICB2YXIgaG9tZSA9IGdyb3VwTGlzdC5xdWVyeVNlbGVjdG9yKCcubGV2IGFbaHJlZio9Ii9ob21lPyJdJyk7CiAgICAgIHdoaWxlIChob21lICYmIGhvbWUucGFyZW50Tm9kZSAhPT0gZ3JvdXBMaXN0KSBob21lID0gaG9tZS5wYXJlbnROb2RlOwogICAgICB2YXIgcmVmID0gaG9tZSA/IGhvbWUubmV4dFNpYmxpbmcgOiBncm91cExpc3QuZmlyc3RDaGlsZDsKICAgICAgZ3JvdXBMaXN0LnNldEF0dHJpYnV0ZSgneWF3Zi1tZXNzYWdlJywgJycpOwogICAgICB2YXIgbXNnSHRtbCA9IFtodG1sLmxlZnRNc2dIZWFkZXIsCiAgICAgICAgY29uZnMuYXRtZS5jb25mID8gaHRtbC5sZWZ0TXNnQXRNZSA6ICcnLAogICAgICAgIGNvbmZzLmNtdC5jb25mID8gaHRtbC5sZWZ0TXNnQ210IDogJycsCiAgICAgICAgY29uZnMubGlrZS5jb25mID8gaHRtbC5sZWZ0TXNnTGlrZSA6ICcnLAogICAgICAgIGNvbmZzLmRtLmNvbmYgPyBodG1sLmxlZnRNc2dETSA6ICcnLAogICAgICAgIGNvbmZzLm1zZ2JveC5jb25mID8gaHRtbC5sZWZ0TXNnQm94IDogJycsCiAgICAgICAgY29uZnMuZ3JvdXAuY29uZiA/IGh0bWwubGVmdE1zZ0dyb3VwIDogJycsCiAgICAgICAgY29uZnMuZG1zdWIuY29uZiA/IGh0bWwubGVmdE1zZ0RNU3ViIDogJycsCiAgICAgIGh0bWwubGVmdE1zZ0Zvb3Rlcl0uam9pbignJyk7CiAgICAgIHZhciBtbiA9IHV0aWwuZG9tLmNyZWF0ZSh1dGlsLnN0ci5maWxsKG1zZ0h0bWwpKTsKICAgICAgcmVmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG1uLCByZWYpOwogICAgfSk7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy50b29sKTsKCgovLyDlsZXlvIDlt6bmoI/liIbnu4QKZmlsdGVyLml0ZW1zLnRvb2wuc2lkZWJhci5zaG93X2FsbF9ncm91cCA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnc2lkZWJhcicsCiAgJ3ZlcnNpb24nOiAxMCwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wuc2hvd0FsbEdyb3VwJywKICAndGV4dCc6ICd7e3Nob3dBbGxHcm91cERlc2N9fScsCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgdXRpbC5jc3MuYWRkKCcubGV2X0JveCAubGV2bW9yZSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfSAubGV2X0JveCBbbm9kZS10eXBlPSJtb3JlTGlzdCJdIHsgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7IH0nKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnRvb2wpOwoKLy8g5ZCI5bm25bem5Y+z6L655qCPCmZpbHRlci5pdGVtcy50b29sLnNpZGViYXIubWVyZ2VfbGVmdF9yaWdodCA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnc2lkZWJhcicsCiAgJ3ZlcnNpb24nOiAzNSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wubWVyZ2VDb2x1bW5zJywKICAndGV4dCc6ICd7e21lcmdlTGVmdFJpZ2h0fX0nLAogICdyZWYnOiB7CiAgICAnc2lkZSc6IHsKICAgICAgJ3R5cGUnOiAnc2VsZWN0JywKICAgICAgJ3NlbGVjdCc6IFsKICAgICAgICB7ICd2YWx1ZSc6ICdsZWZ0JywgJ3RleHQnOiAne3ttZXJnZUxlZnRSaWdodExlZnR9fScgfSwKICAgICAgICB7ICd2YWx1ZSc6ICdyaWdodCcsICd0ZXh0JzogJ3t7bWVyZ2VMZWZ0UmlnaHRSaWdodH19JyB9LAogICAgICBdLAogICAgICAnZGVmYXVsdCc6ICdyaWdodCcsCiAgICB9LAogICAgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnd2FybicsICd0ZXh0JzogJ3t7bWVyZ2VMZWZ0UmlnaHREZXNjfX0nIH0sCiAgfSwKICAnYWluaXQnOiBmdW5jdGlvbiBtZXJnZUxlZnRSaWdodCgpIHsKICAgIHZhciBtYWluID0gZG9jdW1lbnQuYm9keSwgc2lkZSA9IHRoaXMucmVmLnNpZGUuY29uZjsKICAgIHZhciBsZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLldCX21haW5fbCcpOwogICAgaWYgKCFsZWZ0KSByZXR1cm4gc2V0VGltZW91dChtZXJnZUxlZnRSaWdodC5iaW5kKHRoaXMpLCAxMDApOwogICAgdmFyIGxlZnQwID0gdXRpbC5kb20uY3JlYXRlKGh0bWwubGVmdEZha2UpOwogICAgbGVmdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsZWZ0MCwgbGVmdCk7CiAgICBsZWZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGVmdCk7CiAgICB2YXIgdXBkYXRlTWFpbkF0dHIgPSBmdW5jdGlvbiAoc2lkZSkgewogICAgICBpZiAoc2lkZSAmJiBtYWluLmdldEF0dHJpYnV0ZSgneWF3Zi1tZXJnZS1sZWZ0JykgIT09IHNpZGUpIG1haW4uc2V0QXR0cmlidXRlKCd5YXdmLW1lcmdlLWxlZnQnLCBzaWRlKTsKICAgICAgaWYgKCFzaWRlICYmIG1haW4uaGFzQXR0cmlidXRlKCd5YXdmLW1lcmdlLWxlZnQnKSkgbWFpbi5yZW1vdmVBdHRyaWJ1dGUoJ3lhd2YtbWVyZ2UtbGVmdCcpOwogICAgfTsKICAgIHZhciBwb3NpdGlvbkxlZnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByZWYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdjZfcGxfcmlnaHRtb2RfbXlpbmZvJyk7CiAgICAgIHZhciByaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5XQl9tYWluX3InKTsKICAgICAgdmFyIGxlZnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLldCX21haW5fbCcpOwogICAgICBpZiAobGVmdG4gJiYgbGVmdCAhPT0gbGVmdG4pIHsgbGVmdCA9IGxlZnRuOyB9CiAgICAgIGlmIChyZWYpIHsKICAgICAgICBpZiAocmVmLm5leHRTaWJsaW5nICE9PSBsZWZ0KSB7CiAgICAgICAgICByZWYucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobGVmdCwgcmVmLm5leHRTaWJsaW5nKTsKICAgICAgICAgIHVwZGF0ZU1haW5BdHRyKHNpZGUpOwogICAgICAgICAgZml4U3R5bGlzaCh0cnVlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocmlnaHQpIHsKICAgICAgICBpZiAocmlnaHQuZmlyc3RDaGlsZCAhPT0gbGVmdCkgewogICAgICAgICAgcmlnaHQuaW5zZXJ0QmVmb3JlKGxlZnQsIHJpZ2h0LmZpcnN0Q2hpbGQpOwogICAgICAgICAgdXBkYXRlTWFpbkF0dHIoc2lkZSk7CiAgICAgICAgICBmaXhTdHlsaXNoKHRydWUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAobGVmdDAucHJldmlvdXNTaWJsaW5nICE9PSBsZWZ0KSB7CiAgICAgICAgICBsZWZ0MC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsZWZ0LCBsZWZ0MCk7CiAgICAgICAgICB1cGRhdGVNYWluQXR0cigpOwogICAgICAgICAgZml4U3R5bGlzaChmYWxzZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgdXRpbC5jc3MuYWRkKHV0aWwuc3RyLmNtdChmdW5jdGlvbiAoKSB7IC8qIUNTUwogICAgICBbeWF3Zi1tZXJnZS1sZWZ0XSAuV0JfZnJhbWUgLldCX21haW5fbCwKICAgICAgW3lhd2YtbWVyZ2UtbGVmdF06bm90KFt5YXdmLXdlaWJvLW9ubHldKSAuV0JfZnJhbWUgLnlhd2YtV0JfbGVmdF9uYXYsIGJvZHlbeWF3Zi1tZXJnZS1sZWZ0XTpub3QoW3lhd2Ytd2VpYm8tb25seV0pIC5XQl9mcmFtZSAuV0JfbGVmdF9uYXYgeyB3aWR0aDogMjI5cHg7IHBhZGRpbmc6IDA7IGZsb2F0OiBub25lOyB9CiAgICAgIFt5YXdmLW1lcmdlLWxlZnRdOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgLldCX2ZyYW1lIHsgd2lkdGg6IDg0MHB4ICFpbXBvcnRhbnQ7IHBhZGRpbmc6IDEwcHg7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMDBweCBjZW50ZXI7IH0KICAgICAgW3lhd2YtbWVyZ2UtbGVmdF0gI3Y2X3BsX2xlZnRuYXZfZ3JvdXAgeyBtYXJnaW4tYm90dG9tOiAxMHB4OyB9CiAgICAgIFt5YXdmLW1lcmdlLWxlZnRdIC5XQl9mcmFtZSAueWF3Zi1XQl9sZWZ0X25hdiAubGV2X2xpbmUgZmllbGRzZXQsIGJvZHlbeWF3Zi1tZXJnZS1sZWZ0XSAuV0JfZnJhbWUgLldCX2xlZnRfbmF2IC5sZXZfbGluZSBmaWVsZHNldCB7IHBhZGRpbmctbGVmdDogMTkwcHg7IH0KICAgICAgW3lhd2YtbWVyZ2UtbGVmdF0gLldCX2xlZnRfbmF2IC5sZXYgYTpob3ZlciwgLldCX2xlZnRfbmF2IC5sZXZfY3VyciwgLldCX2xlZnRfbmF2IC5sZXZfY3Vycjpob3ZlciwgLldCX2xlZnRfbmF2IC5sZXZtb3JlIC5tb3JlIHsgYmFja2dyb3VuZDogcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjEpICFpbXBvcnRhbnQ7IH0KICAgICAgW3lhd2YtbWVyZ2UtbGVmdF0gLldCX2xlZnRfbmF2IC5sZXZfQm94LCAuV0JfbGVmdF9uYXYgZmllbGRzZXQgeyBib3JkZXItY29sb3I6IHJnYmEoMTI4LCAxMjgsIDEyOCwgMC41KSAhaW1wb3J0YW50OyB9CiAgICAgIFt5YXdmLW1lcmdlLWxlZnRdIC5XQl9mcmFtZSAuV0JfbWFpbl9sICN2Nl9wbF9sZWZ0bmF2X21zZ2JveC55YXdmLWNhcmR3cmFwIGgzIHsgcGFkZGluZzogMCAxNnB4OyB9CiAgICAgIFt5YXdmLW1lcmdlLWxlZnRdIGEuV19nb3RvcCB7IG1hcmdpbi1sZWZ0OiA0MzBweDsgfQogICAgICBbeWF3Zi1tZXJnZS1sZWZ0XSAuV0Jfd2ViaW1fcGFnZSAjd2VpYm9jaGF0IHsgcG9zaXRpb246IHN0YXRpYyAhaW1wb3J0YW50OyB9CiAgICAgIFt5YXdmLW1lcmdlLWxlZnRdIC5XQl93ZWJpbV9wYWdlIC53ZWJpbV9jb250YWN0c19tb2QgeyBwb3NpdGlvbjogc3RhdGljICFpbXBvcnRhbnQ7IG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSA0MTBweCk7IH0KICAgICAgW3lhd2YtbWVyZ2UtbGVmdF0gLldCX3dlYmltX3BhZ2UgLndlYmltX2NvbnRhY3RzX2JkIHsgbWF4LWhlaWdodDogY2FsYygxMDB2aCAtIDQ3MHB4KTsgfQogICAgICBbeWF3Zi1tZXJnZS1sZWZ0XSAud2ViaW1fY2hhdF93aW5kb3cgLldCX3dlYmltX3BhZ2UgLndlYmltX2NvbnRhY3RzX21vZCwKICAgICAgW3lhd2YtbWVyZ2UtbGVmdF0gLndlYmltX2NoYXRfd2luZG93IC5XQl93ZWJpbV9wYWdlIC53ZWJpbV9jb250YWN0c19iZCB7IG1heC1oZWlnaHQ6IG5vbmU7IH0KICAgICAgW3lhd2YtbWVyZ2UtbGVmdD0ibGVmdCJdIC5XQl9mcmFtZSAuV0JfbWFpbl9yIHsgZmxvYXQ6IGxlZnQ7IH0KICAgICAgW3lhd2YtbWVyZ2UtbGVmdD0ibGVmdCJdIC5XQl9mcmFtZSAuV0JfbWFpbl9jIHsgZmxvYXQ6IHJpZ2h0OyB9CgogICAgICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMDA2cHgpIHsKICAgICAgICBib2R5W3lhd2YtbWVyZ2UtbGVmdF06bm90KFt5YXdmLXdlaWJvLW9ubHldKSAuV19tYWluIHsgd2lkdGg6IDYwMHB4ICFpbXBvcnRhbnQ7IH0KICAgICAgICBib2R5W3lhd2YtbWVyZ2UtbGVmdF06bm90KFt5YXdmLXdlaWJvLW9ubHldKSAuV0JfZnJhbWUgeyB3aWR0aDogNjAwcHggIWltcG9ydGFudDsgfQogICAgICAgIGJvZHlbeWF3Zi1tZXJnZS1sZWZ0XSBhLldfZ290b3AgeyBtYXJnaW4tbGVmdDogMzEwcHg7IH0KICAgICAgICBib2R5W3lhd2YtbWVyZ2UtbGVmdD0ibGVmdCJdIC5XQl9tYWluIC5XQl9tYWluX2MgeyBmbG9hdDogbm9uZTsgfQogICAgICAgIGJvZHlbeWF3Zi1tZXJnZS1sZWZ0PSJsZWZ0Il0gLldfZm9sZCB7IHJpZ2h0OiBhdXRvOyBsZWZ0OiAwOyAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGVYKC0xKTsgdHJhbnNmb3JtOiBzY2FsZVgoLTEpOyB9CiAgICAgICAgYm9keVt5YXdmLW1lcmdlLWxlZnQ9ImxlZnQiXSAuV19mb2xkLldfZm9sZF9vdXQgeyBsZWZ0OiAyNjlweDsgfQogICAgICAgIGJvZHlbeWF3Zi1tZXJnZS1sZWZ0PSJsZWZ0Il0gLldCX21haW5fciB7IHJpZ2h0OiBhdXRvOyBsZWZ0OiAwcHg7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKSB0cmFuc2xhdGVaKDBweCk7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSkgdHJhbnNsYXRlWigwcHgpOyB9CiAgICAgICAgYm9keVt5YXdmLW1lcmdlLWxlZnQ9ImxlZnQiXSAuV0JfbWFpbl9yLldfZm9sZF9sYXllciB7IGxlZnQ6IDI2OXB4OyB9CiAgICAgICAgYm9keVt5YXdmLW1lcmdlLWxlZnQ9ImxlZnQiXSAuV0JfbWFpbl9yIHsgZGlyZWN0aW9uOiBydGw7IH0KICAgICAgICBib2R5W3lhd2YtbWVyZ2UtbGVmdD0ibGVmdCJdIC5XQl9tYWluX3IgLldCX2NhcmR3cmFwIHsgZGlyZWN0aW9uOiBsdHI7IH0KICAgICAgfQoKICAgICAgYm9keVt5YXdmLW1lcmdlLWxlZnRdOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgI3lhd2YtZHJvcC1hcmVhIHsgbGVmdDogY2FsYyg1MCUgKyAxOTBweCk7IH0KICAgICAgYm9keVt5YXdmLW1lcmdlLWxlZnQ9ImxlZnQiXTpub3QoW3lhd2Ytd2VpYm8tb25seV0pICN5YXdmLWRyb3AtYXJlYSB7IGxlZnQ6IGNhbGMoNTAlIC0gNDIwcHgpOyB9CiAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6MTAwNnB4KSB7CiAgICAgICAgYm9keVt5YXdmLW1lcmdlLWxlZnRdOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgI3lhd2YtZHJvcC1hcmVhIHsgbGVmdDogY2FsYyg1MCUgKyA3MHB4KTsgfQogICAgICB9CiAgICAqLyBub29wKCk7IH0pKTsKCiAgICAvLyBmb2xsb3dpbmcgY29kZXMgYXJlIGNvcGllZCBhbmQgbW9kaWZpZWQgZnJvbSB3ZWlibywgc29tZSBvbmUgZWxzZSBtYXkgaG9sZCBjb3B5cmlnaHQKICAgIC8vIGNvZGVzIG1vZGlmaWVkIGZyb20gaHR0cDovL2ltZy50LnNpbmFqcy5jbi90Ni9zdHlsZS9jc3MvbW9kdWxlL2NvbWJpbmF0aW9uL2hvbWVfQS5jc3MgYmVnaW4KICAgIHV0aWwuY3NzLmFkZCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgLnlhd2YtV0JfbGVmdF9uYXYgeyB3aWR0aDogMTUwcHg7IH0KICAgICAgLnlhd2YtV0JfbGVmdF9uYXYgLmxldl9Cb3hfbm9ib3JkZXIgeyBib3JkZXItYm90dG9tOiBub25lOyB9CiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXZfbGluZSB7fQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2X2xpbmUgZmllbGRzZXQgeyBkaXNwbGF5OiBibG9jazsgaGVpZ2h0OiAyMnB4OyBwYWRkaW5nOiAwIDAgMCAxMjBweDsgem9vbTogMTsgY2xlYXI6IGJvdGg7IGJvcmRlci10b3Atd2lkdGg6IDFweDsgYm9yZGVyLXRvcC1zdHlsZTogc29saWQ7IH0KICAgICAgLnlhd2YtV0JfbGVmdF9uYXYgLmxldl9saW5lIGxlZ2VuZCB7IGxpbmUtaGVpZ2h0OiAyMnB4OyBmb250LXNpemU6IDE0cHg7IHBhZGRpbmc6IDAgM3B4IDAgNHB4OyB9CiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXZfbGluZSBsZWdlbmQgLmZpY29uX3NldHVwOmhvdmVyIHsgdGV4dC1zaGFkb3c6IDBweCAwcHggNHB4IHJnYmEoMCwgMCwgMCwgLjQpOyB9CiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXZfbGluZV92MiBmaWVsZHNldCB7IGhlaWdodDogMTFweDsgbWFyZ2luLXRvcDogMTFweDsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2X0JveCBoMyB7IGRpc3BsYXk6IGJsb2NrOyBoZWlnaHQ6IDM0cHg7IGxpbmUtaGVpZ2h0OiAzNHB4OyBmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IG92ZXJmbG93OiBoaWRkZW47IH0KICAgICAgLnlhd2YtV0JfbGVmdF9uYXYgLmxldl9Cb3ggaDMubGV2IGEgeyBmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBwYWRkaW5nOiAwIDAgMCAxNXB4OyBoZWlnaHQ6IDM0cHg7IGxpbmUtaGVpZ2h0OiAzNHB4OyB9CiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXZfQm94IGgzLmxldiBhIC5waWMgeyB3aWR0aDogMThweDsgaGVpZ2h0OiAxOHB4OyBmbG9hdDogbGVmdDsgbWFyZ2luOiA4cHggNXB4IDAgMDsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2X0JveCBoMy5sZXYgYSAuV19maWNvbiB7IGZsb2F0OiByaWdodDsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2X0JveCBoMy5TX3R4dDEgeyBwYWRkaW5nOiAwIDAgMCAxNXB4OyB9CiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXZfQm94IGgzIC5maWNvbl9hZGQsCiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXZfQm94IGgzIC5maWNvbl9zZXR1cCB7IGRpc3BsYXk6IGJsb2NrOyBmbG9hdDogcmlnaHQ7IGZvbnQtc2l6ZTogMTRweDsgZm9udC1zaXplOiAxMnB4XDk7IG1hcmdpbi1yaWdodDogMTBweDsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2X0JveCBoMyAuZmljb25fYWRkOmhvdmVyLAogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2X0JveCBoMyAuZmljb25fc2V0dXA6aG92ZXIgeyB0ZXh0LXNoYWRvdzogMHB4IDBweCA0cHggcmdiYSgwLCAwLCAwLCAuNCk7IH0KICAgICAgLnlhd2YtV0JfbGVmdF9uYXYgLmxldiBhIHsgZGlzcGxheTogYmxvY2s7IGhlaWdodDogMzRweDsgbGluZS1oZWlnaHQ6IDM0cHg7IGZvbnQtc2l6ZTogMTJweDsgcGFkZGluZzogMCAwIDAgMTNweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0KICAgICAgLnlhd2YtV0JfbGVmdF9uYXYgLmxldiAubGV2X2N1cnIgLmxldnR4dCB7IGZvbnQtd2VpZ2h0OiBib2xkOyB9CiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXYgLmxldl9jdXJyIC5maWNvbl9kb3QsCiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXYgLmxldl9jdXJyIC5maWNvbl9mcmllbmRzLAogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2IC5sZXZfY3VyciAuZmljb25fZ3JvdXB3YiwKICAgICAgLnlhd2YtV0JfbGVmdF9uYXYgLmxldiAubGV2X2N1cnIgLmZpY29uX3BfaW50ZXJlc3QsCiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXYgLmxldl9jdXJyIC5maWNvbl9wX3JtZCwKICAgICAgLnlhd2YtV0JfbGVmdF9uYXYgLmxldiAubGV2X2N1cnIgLmZpY29uX3BfcXVpZXRmb2xsb3cgeyB3aWR0aDogMTJweDsgbGV0dGVyLXNwYWNpbmc6IDE4cHg7IHRleHQtaW5kZW50OiAtMzBweDsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2IC5sZXZfY3VyciAuZmljb25fZG90OmFmdGVyLAogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2IC5sZXZfY3VyciAuZmljb25fZnJpZW5kczphZnRlciwKICAgICAgLnlhd2YtV0JfbGVmdF9uYXYgLmxldiAubGV2X2N1cnIgLmZpY29uX2dyb3Vwd2I6YWZ0ZXIsCiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXYgLmxldl9jdXJyIC5maWNvbl9wX2ludGVyZXN0OmFmdGVyLAogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2IC5sZXZfY3VyciAuZmljb25fcF9ybWQ6YWZ0ZXIsCiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXYgLmxldl9jdXJyIC5maWNvbl9wX3F1aWV0Zm9sbG93OmFmdGVyIHsgY29udGVudDogIkIiOyB9CiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXYgLmZpY29uX2dvdG9wIHsgZGlzcGxheTogbm9uZTsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2X2dvdG9wIGE6aG92ZXIgLmZpY29uX2dvdG9wIHsgZGlzcGxheTogYmxvY2s7IH0KICAgICAgLnlhd2YtV0JfbGVmdF9uYXYgLmxldl9nb3RvcCBhOmhvdmVyIC5maWNvbl9nb3RvcDpob3ZlciB7IHRleHQtc2hhZG93OiAwcHggMHB4IDRweCByZ2JhKDAsIDAsIDAsIC40KTsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2IC5sZXZ0eHQgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG1heC13aWR0aDogODJweDsgb3ZlcmZsb3c6IGhpZGRlbjsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IHdoaXRlLXNwYWNlOiBub3dyYXA7IGN1cnNvcjogcG9pbnRlcjsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2IC5XX25ld19jb3VudCB7IGZsb2F0OiByaWdodDsgbWFyZ2luOiAxMHB4IDEwcHggMCAwOyBiYWNrZ3JvdW5kOiAjZWQ3NDFjOyBjb2xvcjogI2ZmZjsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2IC5XX25ldyB7IGZsb2F0OiByaWdodDsgbWFyZ2luOiAxMnB4IDhweCAwIDA7IH0KICAgICAgLnlhd2YtV0JfbGVmdF9uYXYgLmxldiAuaWNvX2Jsb2NrIHsgZmxvYXQ6IGxlZnQ7IHdpZHRoOiAxN3B4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogLTFweCAzcHggMCAwOyB9CiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXYgLmljb19ibG9jayAucGljIHsgd2lkdGg6IDE2cHg7IGhlaWdodDogMTZweDsgZmxvYXQ6IGxlZnQ7IG1hcmdpbi10b3A6IDdweDsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2IC5maWNvbl9ob3QsCiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXYgLmZpY29uX3ZpZGVvIHsgbWFyZ2luOiAwOyBsaW5lLWhlaWdodDogMzZweDsgbGluZS1oZWlnaHQ6IDM0cHhcOTsgZm9udC1zaXplOiAxNHB4OyB9CiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXZtb3JlIHsgZGlzcGxheTogYmxvY2s7IGhlaWdodDogMzBweDsgbGluZS1oZWlnaHQ6IDMwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAubGV2bW9yZSAubW9yZSB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgaGVpZ2h0OiAxNHB4OyBsaW5lLWhlaWdodDogMTRweDsgcGFkZGluZzogMnB4IDZweDsgYm9yZGVyLXJhZGl1czogM3B4OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IHpvb206IDE7IH0KICAgICAgLnlhd2YtV0JfbGVmdF9uYXYgLmxldm1vcmUgLldfYnRuX2IgeyBtYXJnaW46IDhweCAxMHB4IDhweCAwOyB9CiAgICAgIC55YXdmLVdCX2xlZnRfbmF2IC5sZXZtb3JlIC5XX25ldyB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyByaWdodDogLTFweDsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAuVUlfc2Nyb2xsVmlldyB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfQogICAgICAueWF3Zi1XQl9sZWZ0X25hdiAuV19zY3JvbGxfeSB7IHJpZ2h0OiAwOyB9CiAgICAqLyBub29wKCk7IH0pKTsKICAgIC8vIGNvZGVzIG1vZGlmaWVkIGZyb20gaHR0cDovL2ltZy50LnNpbmFqcy5jbi90Ni9zdHlsZS9jc3MvbW9kdWxlL2NvbWJpbmF0aW9uL2hvbWVfQS5jc3MgZW5kCgogICAgLy8g5bCG5bem5qCP55qE5qC35byP5pS55Li65Y2h54mH5pWI5p6c77yI5oiW5pS55Zue77yJCiAgICAvLyDnlLHkuo7lt6bmoI/moLflvI/pg73liqDlnKggLldCX2xlZnRfbmF2IOS4iu+8jOaJgOS7peS9v+eUqCAueWF3Zi1XQl9sZWZ0X25hdiDmnaXourLlvIDov5nkupvmoLflvI8KICAgIC8vIOS9huebuOWFs+mcgOimgeS/neeVmeeahOagt+W8j++8jOWcqOS4iumdoumHjeaWsOa3u+WKoAogICAgdmFyIGZpeFN0eWxpc2ggPSAoZnVuY3Rpb24gKCkgewogICAgICB2YXIgciA9IGZhbHNlOwogICAgICAvLyDlt6bmoI/lkIjlubbov4fljrvkuYvlkI7opoHmlLnkuIDkuIvmoLflvI8KICAgICAgLy8g6ICD6JmR5Yiw6KaB6IO96YCC5bqU5ZCE56eN5qih5p2/77yM5omA5Lul5bCx5pS55b6X56iN5b6u5pyJ54K56L+H5YiGCiAgICAgIC8vIOavlOWmguivtOWOi+agueWwseS5iOaciSAuV0JfbGVmdF9uYXYg6L+Z5Liq5bGe5oCn5LqG77yM5YWN5b6X6aKc6Imy5Lmx5o6JCiAgICAgIHJldHVybiBmdW5jdGlvbiAob25SaWdodCkgewogICAgICAgIGlmIChvblJpZ2h0ID09IG51bGwpIG9uUmlnaHQgPSByOyBlbHNlIHIgPSBvblJpZ2h0OwogICAgICAgIHZhciBuYXYgPSBsZWZ0LnF1ZXJ5U2VsZWN0b3IoJy5XQl9sZWZ0X25hdiwgLnlhd2YtV0JfbGVmdF9uYXYnKTsKICAgICAgICBpZiAoIW5hdikgcmV0dXJuOwogICAgICAgIHZhciBjbGFzc05hbWUgPSBvblJpZ2h0ID8gJ3lhd2YtV0JfbGVmdF9uYXYgV0JfY2FyZHdyYXAgU19iZzInIDogJ1dCX2xlZnRfbmF2JzsKICAgICAgICBpZiAobmF2LmNsYXNzTmFtZSAhPT0gY2xhc3NOYW1lKSBuYXYuY2xhc3NOYW1lID0gY2xhc3NOYW1lOwogICAgICB9OwogICAgfSgpKTsKCiAgICAvLyDlvLrliLbngrnlh7vpk77mjqXml7bliLfmlrDpobXpnaLvvIzku6Xop6PlhrPlm6DmmrTlipvkv67mlLnpgKDmiJDnmoTpl67popgKICAgIHZhciBmb3JjZVJlZmx1c2ggPSAoZnVuY3Rpb24gKCkgewogICAgICB2YXIgbCA9IG51bGw7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGwgPT09IGxlZnQpIHJldHVybjsgZWxzZSBsID0gbGVmdDsKICAgICAgICBsZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gZS50YXJnZXQ7IGlmICghdXRpbC5kb20ubWF0Y2hlcyh0LCAnYSwgYSAqJykpIHJldHVybjsKICAgICAgICAgIHdoaWxlICh0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2EnKSB0ID0gdC5wYXJlbnROb2RlOwogICAgICAgICAgdmFyIGhyZWYgPSB0LmhyZWY7IGlmICghaHJlZi5tYXRjaCgvXmh0dHA6XC9cLy8pKSByZXR1cm47CiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICB1dGlsLmZ1bmMucGFnZShmdW5jdGlvbiAoaHJlZikgeyBsb2NhdGlvbi5hc3NpZ24oaHJlZik7IH0sIGhyZWYpOwogICAgICAgIH0sIHRydWUpOwogICAgICB9OwogICAgfSgpKTsKCiAgICB2YXIgZmxlZnQgPSBmdW5jdGlvbiBmaXhNZXJnZUxlZnQoKSB7CiAgICAgIHBvc2l0aW9uTGVmdCgpOwogICAgICBmaXhTdHlsaXNoKCk7CiAgICAgIGZvcmNlUmVmbHVzaCgpOwogICAgfTsKICAgIGZsZWZ0KCk7CiAgICBvYnNlcnZlci5kb20uYWRkKGZsZWZ0KTsKCiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy50b29sKTsKCi8vIOe7n+S4gOS4quS6uuS4u+mhteOAgeivnemimOOAgeWNleadoeW+ruWNmumhtemdoueahOS+p+i+ueagj+WcqOW3puS+p+aIluWPs+S+pwpmaWx0ZXIuaXRlbXMudG9vbC5zaWRlYmFyLmNob3NlX3NpZGUgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3NpZGViYXInLAogICd2ZXJzaW9uJzogMTQ3LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8udG9vbC5jaG9zZV9zaWRlJywKICAndGV4dCc6ICd7e2Nob3NlU2lkZX19JywKICAncmVmJzogewogICAgJ3NpZGUnOiB7CiAgICAgICd0eXBlJzogJ3NlbGVjdCcsCiAgICAgICdzZWxlY3QnOiBbCiAgICAgICAgeyAndmFsdWUnOiAnbGVmdCcsICd0ZXh0JzogJ3t7Y2hvc2VTaWRlTGVmdH19JyB9LAogICAgICAgIHsgJ3ZhbHVlJzogJ3JpZ2h0JywgJ3RleHQnOiAne3tjaG9zZVNpZGVSaWdodH19JyB9LAogICAgICBdLAogICAgICAnZGVmYXVsdCc6ICdyaWdodCcsCiAgICB9CiAgfSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2lkZSA9IHRoaXMucmVmLnNpZGUuY29uZjsKICAgIG9ic2VydmVyLmRvbS5hZGQoZnVuY3Rpb24gY2hvc2VTaWRlUnVubmVyKCkgewogICAgICB2YXIgYiwgYywgcDsKICAgICAgaWYgKHNpZGUgPT09ICdsZWZ0JykgewogICAgICAgIGIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGxjX21haW4+LldCX2ZyYW1lX2M6Zmlyc3QtY2hpbGQrLldCX2ZyYW1lX2I6bGFzdC1jaGlsZCcpOyBpZiAoIWIpIHJldHVybjsKICAgICAgICBwID0gYi5wYXJlbnROb2RlOwogICAgICAgIHAuaW5zZXJ0QmVmb3JlKGIsIHAuZmlyc3RDaGlsZCk7CiAgICAgIH0gZWxzZSBpZiAoc2lkZSA9PT0gJ3JpZ2h0JykgewogICAgICAgIGMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGxjX21haW4+LldCX2ZyYW1lX2I6Zmlyc3QtY2hpbGQrLldCX2ZyYW1lX2M6bGFzdC1jaGlsZCcpOyBpZiAoIWMpIHJldHVybjsKICAgICAgICBwID0gYy5wYXJlbnROb2RlOwogICAgICAgIGZvciAoYiA9IHAuZmlyc3RDaGlsZDsgYi5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREU7IGIgPSBiLm5leHRTaWJsaW5nKTsKICAgICAgICBwLmFwcGVuZENoaWxkKGIpOwogICAgICB9CiAgICB9KTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnRvb2wpOwoKLy8g5bCG6K+d6aKY6buR5ZCN5Y2V5bqU55So5Yiw5Y+z5L6n54Ot6Zeo6K+d6aKY5qCP55uuCmZpbHRlci5pdGVtcy50b29sLnNpZGViYXIuZmlsdGVfcmlnaHRfdG9waWMgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3NpZGViYXInLAogICd2ZXJzaW9uJzogNDcsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLmZpbHRlX3JpZ2h0X3RvcGljJywKICAndGV4dCc6ICd7e2ZpbHRlUmlnaHRUb3BpY319JywKICAnY2hlY2snOiBmdW5jdGlvbiAodGV4dCkgewogICAgLy8g5oyJ6K+d6aKY6L+H5rukCiAgICB2YXIgdG9waWNSdWxlID0gZmlsdGVyLml0ZW1zLnRvcGljLnRvcGljLmJsYWNrbGlzdDsKICAgIHZhciB0b3BpY3MgPSB0b3BpY1J1bGUuY29uZi5jb25jYXQodG9waWNSdWxlLmV4dGVudCk7CiAgICBpZiAodG9waWNzLmluZGV4T2YodGV4dCkgIT09IC0xKSByZXR1cm4gdHJ1ZTsKICAgIC8vIOaMieivnemimOato+WImeW8j+i/h+a7pAogICAgdmFyIHJ0b3BpY1J1bGUgPSBmaWx0ZXIuaXRlbXMudG9waWMucnRvcGljLmJsYWNrbGlzdDsKICAgIHZhciBydG9waWNzID0gcnRvcGljUnVsZS5jb25mLmNvbmNhdChydG9waWNSdWxlLmV4dGVudCk7CiAgICBpZiAocnRvcGljcy5zb21lKGZ1bmN0aW9uIChyKSB7IHJldHVybiAhIXRleHQubWF0Y2gocik7IH0pKSByZXR1cm4gdHJ1ZTsKICAgIC8vIOWmguaenOWwhuivnemimOinhuS4uuW+ruWNmuWGheWuue+8jOmCo+S5iOS5n+imgeaMieeFp+WGheWuuei/h+a7pAogICAgaWYgKGZpbHRlci5pdGVtcy5jb250ZW50LmVsZW1lbnRzLnRvcGljLmNvbmYpIHsKICAgICAgLy8g5oyJ5YWz6ZSu6K+N6L+H5rukCiAgICAgIHZhciBrZXl3b3JkUnVsZSA9IGZpbHRlci5pdGVtcy5jb250ZW50LmtleXdvcmQuYmxhY2tsaXN0OwogICAgICB2YXIga2V5d29yZHMgPSBrZXl3b3JkUnVsZS5jb25mLmNvbmNhdChrZXl3b3JkUnVsZS5leHRlbnQpOwogICAgICBpZiAoa2V5d29yZHMuc29tZShmdW5jdGlvbiAodykgeyByZXR1cm4gdGV4dC5pbmRleE9mKHcpICE9PSAtMTsgfSkpIHJldHVybiB0cnVlOwogICAgICAvLyDmjInmraPliJnlvI/ov4fmu6QKICAgICAgdmFyIHJlZ2V4cFJ1bGUgPSBmaWx0ZXIuaXRlbXMuY29udGVudC5yZWdleHAuYmxhY2tsaXN0OwogICAgICB2YXIgcmVnZXhwID0gcmVnZXhwUnVsZS5jb25mLmNvbmNhdChyZWdleHBSdWxlLmV4dGVudCk7CiAgICAgIGlmIChyZWdleHAuc29tZShmdW5jdGlvbiAocikgeyByZXR1cm4gISF0ZXh0Lm1hdGNoKHIpOyB9KSkgcmV0dXJuIHRydWU7CiAgICB9CiAgICByZXR1cm4gZmFsc2U7CiAgfSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB1dGlsLmNzcy5hZGQoJy5ob3RfdG9waWMgbGlbeWF3Zi1ydG9waWM9ImhpZGRlbiJdIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9Jyk7CiAgICB2YXIgY2hlY2sgPSB0aGlzLmNoZWNrOwogICAgb2JzZXJ2ZXIuZG9tLmFkZChmdW5jdGlvbiBmaWx0ZVJpZ2h0VG9waWMoKSB7CiAgICAgIHZhciB0b3BpY3MgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ob3RfdG9waWMgbGk6bm90KFt5YXdmLXJ0b3BpY10pIGFbc3VkYS11YXRyYWNrKj0iaG90dG9waWNfciJdJykpOwogICAgICB0b3BpY3MuZm9yRWFjaChmdW5jdGlvbiAodG9waWMpIHsKICAgICAgICB2YXIgdGV4dCA9IHRvcGljLnRpdGxlLnJlcGxhY2UoLyMvZywgJycpOwogICAgICAgIHZhciBsaTsgZm9yIChsaSA9IHRvcGljOyBsaS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdsaSc7IGxpID0gbGkucGFyZW50Tm9kZSk7CiAgICAgICAgaWYgKGNoZWNrKHRleHQpKSBsaS5zZXRBdHRyaWJ1dGUoJ3lhd2YtcnRvcGljJywgJ2hpZGRlbicpOwogICAgICAgIGVsc2UgbGkuc2V0QXR0cmlidXRlKCd5YXdmLXJ0b3BpYycsICdzaG93Jyk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy50b29sKTsKCi8vIOmakOiXj+mYheivu+mHj+WkquWwkeeahOeDremXqOivnemimApmaWx0ZXIuaXRlbXMudG9vbC5zaWRlYmFyLmZpbHRlX3JpZ2h0X3RvcGljX2NvdW50ID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdzaWRlYmFyJywKICAndmVyc2lvbic6IDEzMiwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wuZmlsdGVfcmlnaHRfdG9waWNfY291bnQnLAogICdyZWYnOiB7CiAgICAnbnVtYmVyJzogewogICAgICAndHlwZSc6ICdyYW5nZScsCiAgICAgICdtaW4nOiAxMCwKICAgICAgJ21heCc6IDEwMDAsCiAgICAgICdzdGVwJzogMTAsCiAgICAgICdkZWZhdWx0JzogMjAwLAogICAgfQogIH0sCiAgJ3RleHQnOiAne3tmaWx0ZVJpZ2h0VG9waWNDb3VudH19JywKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB1dGlsLmNzcy5hZGQoJy5ob3RfdG9waWMgbGlbeWF3Zi1ydG9waWMtY291bnQ9ImhpZGRlbiJdLCAjdG9waWNBRCB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScpOwogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgb2JzZXJ2ZXIuZG9tLmFkZChmdW5jdGlvbiBmaWx0ZVJpZ2h0VG9waWNDb3VudCgpIHsKICAgICAgdmFyIGNvdW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhvdF90b3BpYyBsaTpub3QoW3lhd2YtcnRvcGljLWNvdW50XSkgLnRvdGFsJykpOwogICAgICBjb3VudHMuZm9yRWFjaChmdW5jdGlvbiAoY291bnQpIHsKICAgICAgICAvLyDnvZHnq5nkuK3mlbDlrZfnlLEgeHh45LiHIO+8jCB4eC545Lq/IOeahOaWueW8j+ihqOekuu+8m+S4lOayoeaciee5geS9k+aIluiLseaWh+eJiOacrAogICAgICAgIC8vIOazqOaEj+acieaXtuWJjemdoueahOaVsOWtl+S8muacieWwj+aVsOeCue+8jOaJgOS7peimgeabv+aNouS4uiBlNCwgZTgg6ICM6Z2eIDAwMDAsIDAwMDAwMDAwCiAgICAgICAgdmFyIG51bWJlciA9IE51bWJlcihjb3VudC50ZXh0Q29udGVudC5yZXBsYWNlKCfkuIcnLCAnZTQnKS5yZXBsYWNlKCfkur8nLCAnZTgnKSk7CiAgICAgICAgdmFyIGxpOyBmb3IgKGxpID0gY291bnQ7IGxpLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2xpJzsgbGkgPSBsaS5wYXJlbnROb2RlKTsKICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSB8fCB0aGF0LnJlZi5udW1iZXIuY29uZiAqIDFlNCA+IG51bWJlcikgbGkuc2V0QXR0cmlidXRlKCd5YXdmLXJ0b3BpYy1jb3VudCcsICdoaWRkZW4nKTsKICAgICAgICBlbHNlIGxpLnNldEF0dHJpYnV0ZSgneWF3Zi1ydG9waWMtY291bnQnLCAnc2hvdycpOwogICAgICB9KTsKICAgIH0pOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMudG9vbCk7CgovLyDlnKjlj7PovrnmoI/mmL7npLrnmb3lkI3ljZXluJDlj7fnmoTpk77mjqUKZmlsdGVyLml0ZW1zLnRvb2wuc2lkZWJhci5yaWdodF91c2VyX2xpc3QgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3NpZGViYXInLAogICd2ZXJzaW9uJzogMjY3LAogICd0eXBlJzogJ3VzZXJzJywKICAnY29tcGxldGUnOiAndXNlcicsCiAgJ2tleSc6ICd3ZWliby50b29sLnJpZ2h0X3VzZXJfbGlzdCcsCiAgJ3RleHQnOiAne3thZGRSaWdodFVzZXJMaXN0fX0nLAogICdyZWYnOiB7ICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7YWRkUmlnaHRVc2VyTGlzdERlc2N9fScgfSB9LAogICdhZGQnOiAoZnVuY3Rpb24gKCkgewogICAgdmFyIGxhc3QgPSBudWxsOwogICAgcmV0dXJuIGZ1bmN0aW9uIChzKSB7CiAgICAgIGlmIChzID09PSBsYXN0KSByZXR1cm47CiAgICAgIHZhciBub3RpY2UgPSBmaWx0ZXIuaXRlbXMudG9vbC5zaWRlYmFyLnJpZ2h0X3VzZXJfbGlzdF9ub3RpY2U7CiAgICAgIGlmIChub3RpY2UuY29uZiAmJiB0aGlzLmNvbmYubGVuZ3RoID49IDUwKSB1dGlsLnVpLmFsZXJ0KCd5YXdmLXRvby1tYW55LW5vdGljZScsIHsKICAgICAgICAndGl0bGUnOiB1dGlsLnN0ci5maWxsKCd7e2FkZFJpZ2h0VXNlckxpc3RUb29NYW55VGl0bGV9fScpLAogICAgICAgICd0ZXh0JzogdXRpbC5zdHIuZmlsbCgne3thZGRSaWdodFVzZXJMaXN0VG9vTWFueX19JyksCiAgICAgICAgJ2ljb24nOiAnd2FybicKICAgICAgfSk7CiAgICAgIHJldHVybiBzOwogICAgfTsKICB9KCkpLAogICdzaG93bic6IGZ1bmN0aW9uIChkb20pIHsKICAgIHZhciBpY29uID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJy55YXdmLWNvbmZpZ1NJY29uJyk7CiAgICB2YXIgZm9ybSA9IGRvbS5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7CiAgICBmb3JtLmFwcGVuZENoaWxkKGljb24pOwogIH0sCiAgJ2luaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB2YXIgdXNlcnMgPSB0aGF0LmNvbmY7CiAgICB2YXIgbm90aWNlID0gZmlsdGVyLml0ZW1zLnRvb2wuc2lkZWJhci5yaWdodF91c2VyX2xpc3Rfbm90aWNlOwogICAgaWYgKCF1c2Vycy5sZW5ndGgpIHJldHVybjsKCiAgICAvLyDpppblhYjmiJHku6zmnoTpgKDlh7rov5nkuKrnlKjmiLfliJfooagKICAgIHZhciB1c2VybGlzdCA9IHV0aWwuZG9tLmNyZWF0ZSgnZGl2JywgdXRpbC5zdHIuZmlsbChodG1sLnJpZ2h0VXNlckxpc3QpKS5maXJzdENoaWxkOwogICAgdmFyIHVzZXJsaXN0X3VsID0gdXNlcmxpc3QucXVlcnlTZWxlY3RvcigndWwnKTsKICAgIHZhciBnZW5saSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiB1dGlsLmRvbS5jcmVhdGUoJ3VsJywgdXRpbC5zdHIuZmlsbChodG1sLnJpZ2h0VXNlckxpc3RJdGVtLCBkYXRhKSkuZmlyc3RDaGlsZDsKICAgIH07CiAgICB1c2Vycy5mb3JFYWNoKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgIHZhciBsaSA9IGdlbmxpKHsgJ2lkJzogdXNlciwgJ25hbWUnOiAnJywgJ2F2YXRhcic6ICcnIH0pOwogICAgICB1c2VybGlzdF91bC5hcHBlbmRDaGlsZChsaSk7CiAgICAgIG5ldHdvcmsuYWNjb3VudC5pZCh1c2VyLCBmdW5jdGlvbiAoaW5mbykgewogICAgICAgIHZhciBuZXdfbGkgPSBnZW5saShpbmZvKTsKICAgICAgICB1c2VybGlzdF91bC5yZXBsYWNlQ2hpbGQobmV3X2xpLCBsaSk7CiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICB1c2VybGlzdF91bC5yZW1vdmVDaGlsZChsaSk7CiAgICAgIH0pOwogICAgfSk7CiAgICB1dGlsLmNzcy5hZGQoJyN5YXdmLXJpZ2h0bW9kX3VzZXJsaXN0IC5XX2ZiIHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBtYXJnaW4tcmlnaHQ6IC0xMHB4OyB3aWR0aDogMTAwJTsgfScpOwoKICAgIC8vIOiuvue9ruaMiemSrgogICAgdmFyIHNldHRpbmcgPSB1c2VybGlzdC5xdWVyeVNlbGVjdG9yKCcub3B0X2JveCBhJyk7CiAgICBzZXR0aW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICB1dGlsLnVpLmRpYWxvZygneWF3Zi1mYXZlLXBlb3BsZS1jb25maWcnLCB1dGlsLnN0ci5maWxsKCd7e2FkZFJpZ2h0VXNlckxpc3RDb25maWdUaXRsZX19JyksIGZ1bmN0aW9uIChpbm5lcikgewogICAgICAgIHZhciBib2R5ID0gdXRpbC5kb20uY3JlYXRlKGh0bWwucmlnaHRVc2VyTGlzdENvbmZpZyk7CiAgICAgICAgaW5uZXIuYXBwZW5kQ2hpbGQoYm9keSk7CiAgICAgICAgZmlsdGVyLmNvbGxlY3Rpb24uaXRlbS5saXN0KGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtID09PSB0aGF0IHx8IGl0ZW0gPT09IG5vdGljZTsgfSkuc2hvdyhib2R5KTsKICAgICAgfSkuc2hvdygpOwogICAgfSk7CgogICAgLy8g54S25ZCO5oiR5Lus5oqK55So5oi35YiX6KGo5aGe5Yiw5Y+z5qCP5Y67CiAgICAvLyDkvY3nva7lnKjnlKjmiLfkv6Hmga/moYbkuIvpnaLlhbbku5bkuJzopb/kuIrpnaLvvIzlpoLmnpzlkIjlubbovrnmoI/vvIzpgqPkuYjov5jlnKjlt6bmoI/kuIvpnaIKICAgIHZhciBhZGRSaWdodFVzZXJMaXN0ID0gZnVuY3Rpb24gYWRkUmlnaHRVc2VyTGlzdCgpIHsKICAgICAgdmFyIHJlZiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5XQl9tYWluX3IgLldCX21haW5fbCcpIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2Nl9wbF9yaWdodG1vZF9teWluZm8nKTsKICAgICAgdmFyIHJpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLldCX21haW5fcicpOwogICAgICBpZiAoIXV0aWwucGFnZS5ob21lKCkgfHwgIWRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdGUkFNRV9tYWluJykpIHJlZiA9IHJpZ2h0ID0gbnVsbDsKICAgICAgaWYgKHJlZikgewogICAgICAgIGlmIChyZWYubmV4dFNpYmxpbmcgIT09IHVzZXJsaXN0KSByZWYucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodXNlcmxpc3QsIHJlZi5uZXh0U2libGluZyk7CiAgICAgIH0gZWxzZSBpZiAocmlnaHQpIHsKICAgICAgICBpZiAocmlnaHQuZmlyc3RDaGlsZCAhPT0gdXNlcmxpc3QpIHJpZ2h0Lmluc2VydEJlZm9yZSh1c2VybGlzdCwgcmlnaHQuZmlyc3RDaGlsZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHVzZXJsaXN0LnBhcmVudE5vZGUpIHVzZXJsaXN0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodXNlcmxpc3QpOwogICAgICB9CiAgICB9OwogICAgYWRkUmlnaHRVc2VyTGlzdCgpOwogICAgb2JzZXJ2ZXIuZG9tLmFkZChhZGRSaWdodFVzZXJMaXN0KTsKICB9Cn0pLmFkZHRvKGZpbHRlci5ncm91cHMudG9vbCk7CgovLyDmo4Dmn6Xov5nkupvluJDlj7flj5HnmoTlvq7ljZrmmK/kuI3mmK/nnIvlvpfliLDnmoTlip/og70KZmlsdGVyLml0ZW1zLnRvb2wuc2lkZWJhci5yaWdodF91c2VyX2xpc3Rfbm90aWNlID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdzaWRlYmFyJywKICAndmVyc2lvbic6IDI2NywKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wucmlnaHRfdXNlcl9saXN0X25vdGljZScsCiAgJ3RleHQnOiAne3thZGRSaWdodFVzZXJMaXN0Tm90aWNlfX0nLAogICdyZWYnOiB7CiAgICAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e2FkZFJpZ2h0VXNlckxpc3ROb3RpY2VEZXNjfX0nIH0sCiAgICAnX3JlY29yZHMnOiB7ICd0eXBlJzogJ25vdWknLCAnZGVmYXVsdCc6IFtdIH0sCiAgICAnX2xhc3QnOiB7ICd0eXBlJzogJ25vdWknLCAnZGVmYXVsdCc6IHt9IH0sCiAgfSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB2YXIgbGlzdCA9IGZpbHRlci5pdGVtcy50b29sLnNpZGViYXIucmlnaHRfdXNlcl9saXN0OwogICAgdmFyIHVzZXJzID0gbGlzdC5jb25mLnNsaWNlKDAsIDUwKTsKCiAgICAvLyDmr4/kuKrkurrkuKrkurrkuLvpobXkuIrmnIDmlrDnmoTlvq7ljZrmmK/lk6rlh6DmnaEKICAgIHZhciByZWNlbnRzID0ge307CiAgICB2YXIgY2hlY2tyZWMgPSBmdW5jdGlvbiBjaGVja3JlYyh1aWQpIHsKICAgICAgbmV0d29yay5yZWNlbnQodWlkLCBmdW5jdGlvbiAobWlkcykgewogICAgICAgIGlmICghbWlkcyB8fCAhbWlkcy5sZW5ndGgpIHJldHVybjsKICAgICAgICBpZiAobWlkc1swXSA8IG1pZHNbMV0pIG1pZHMuc2hpZnQoKTsKICAgICAgICByZWNlbnRzW3VpZF0gPSBtaWRzOwogICAgICAgIHVwZGF0ZURvdCh1aWQpOwogICAgICB9KTsKICAgICAgc2V0VGltZW91dChjaGVja3JlYywgTWF0aC5yb3VuZCgxNWU1ICsgNWU1ICogTWF0aC5yYW5kb20oKSksIHVpZCk7CiAgICB9OwogICAgLy8g5om+5Yiw5a+55bqU5q+P5Liq55So5oi355qE6aG555uuCiAgICB2YXIgbGlzID0ge307CiAgICBvYnNlcnZlci5kb20uYWRkKGZ1bmN0aW9uIG5vdGljZVVzZXJDaGVja2VyKCkgewogICAgICB2YXIgdXNlcnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN5YXdmLXJpZ2h0bW9kX3VzZXJsaXN0IGxpOm5vdChbeWF3Zi1ub3RpY2V1c2VyXSknKSk7CiAgICAgIHVzZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpKSB7CiAgICAgICAgbGkuc2V0QXR0cmlidXRlKCd5YXdmLW5vdGljZXVzZXInLCAnJyk7CiAgICAgICAgdmFyIHVpZCA9IHV0aWwuc3RyLnBhcnNlcXVlcnkobGkucXVlcnlTZWxlY3RvcignYVt1c2VyY2FyZF49ImlkPSJdJykuZ2V0QXR0cmlidXRlKCd1c2VyY2FyZCcpKS5pZDsKICAgICAgICBpZiAoIWxpc1t1aWRdKSBjaGVja3JlYyh1aWQpOyBsaXNbdWlkXSA9IGxpOwogICAgICAgIGlmICh1c2Vycy5pbmRleE9mKHVpZCkgPT09IC0xKSByZXR1cm47CiAgICAgICAgdXRpbC5kZWJ1ZygnY2hlY2sgdXNlciAlbycsIHVpZCk7CiAgICAgIH0pOwogICAgfSk7CiAgICAvLyDmr5TovoPkuKTkuKogbWlkIOiwgeabtOWkpwogICAgdmFyIGlkQ21wID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGEubGVuZ3RoIC0gYi5sZW5ndGg7CiAgICAgIHJldHVybiBhID4gYiA/IDEgOiBhID09PSBiID8gMCA6IC0xOwogICAgfTsKICAgIC8vIOajgOafpeeJueWumueahCBtaWQg5piv5ZCm4oCc5bqU5b2T4oCd5Ye6546w5Zyo57uZ5a6a55qEIG1pZCDmlbDnu4TkuK3vvIzkvYbmnKrlh7rnjrAKICAgIHZhciBtaWROb3RpY2UgPSBmdW5jdGlvbiAobWlkLCB1aWQpIHsKICAgICAgaWYgKHJhbmdlLmxlbmd0aCA8IDgpIHJldHVybiBmYWxzZTsKICAgICAgaWYgKHJhbmdlLmluZGV4T2YobWlkKSAhPT0gLTEpIHJldHVybiBmYWxzZTsKICAgICAgaWYgKGlkQ21wKHJhbmdlWzBdLCBtaWQpID4gMCkgcmV0dXJuIGZhbHNlOwogICAgICBpZiAoaWRDbXAocmFuZ2VbcmFuZ2UubGVuZ3RoIC0gMV0sIG1pZCkgPCAwKSByZXR1cm4gZmFsc2U7CiAgICAgIGlmIChpZENtcChsYXN0W3VpZF0gfHwgIiIsIG1pZCkgPj0gMCkgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CiAgICAvLyDmo4Dmn6XmmK/kuI3mmK/mnInkurrmnInlvq7ljZrlupTlvZPlh7rnjrDmsqHlh7rnjrAKICAgIHZhciB1cGRhdGVEb3QgPSBmdW5jdGlvbiAodWlkKSB7CiAgICAgIHZhciBub3RpY2VzID0gKHJlY2VudHNbdWlkXSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChtaWQpIHsgcmV0dXJuIG1pZE5vdGljZShtaWQsIHVpZCk7IH0pOwogICAgICBpZiAobm90aWNlcy5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgdmFyIGRvdCA9IGxpc1t1aWRdLnF1ZXJ5U2VsZWN0b3IoJy5XX25ldycpOwogICAgICBpZiAobm90aWNlcy5sZW5ndGgpIHsKICAgICAgICBpZiAoZG90LnN0eWxlLmRpc3BsYXkgPT09ICdpbmxpbmUtYmxvY2snKSByZXR1cm47CiAgICAgICAgZG90LnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJzsKICAgICAgICB1dGlsLmRlYnVnKCJ3ZWlibyAlbyBieSAlbyBub3Qgc2hvd24gKGxhc3QgPSAlbykiLCBub3RpY2VzLCB1aWQsIGxhc3RbdWlkXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGRvdC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHJldHVybjsKICAgICAgICBkb3Quc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgfQogICAgfTsKICAgIHZhciB1cGRhdGVBbGwgPSAoZnVuY3Rpb24gKCkgewogICAgICB2YXIgYnVzeSA9IGZhbHNlOwogICAgICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlUmlnaHRVc2VyTGlzdERvdCgpIHsKICAgICAgICBpZiAoYnVzeSkgcmV0dXJuOyBidXN5ID0gdHJ1ZTsKICAgICAgICB1dGlsLmZ1bmMuY2FsbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBidXN5ID0gZmFsc2U7CiAgICAgICAgICB1c2Vycy5mb3JFYWNoKHVwZGF0ZURvdCk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9KCkpOwoKICAgIC8vIOiusOW9lemmlumhteS4iuaIkemDveeci+i/h+WTquS6m+W+ruWNmgogICAgdmFyIHJhbmdlID0gW107CiAgICAoZnVuY3Rpb24gKCkgewogICAgICByYW5nZSA9IEFycmF5LmZyb20odGhhdC5yZWYuX3JlY29yZHMuZ2V0Y29uZigpIHx8IFtdKTsKICAgICAgb2JzZXJ2ZXIud2VpYm8ub25sb2FkKGZ1bmN0aW9uIChmZWVkKSB7CiAgICAgICAgLy8g6L+Z5Liq6KeE5YiZ5Y+q5Zyo6aaW6aG15LiK6YCC55SoCiAgICAgICAgaWYgKCF1dGlsLnBhZ2UuaG9tZSgpIHx8ICFkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnRlJBTUVfbWFpbicpKSByZXR1cm4gW107CiAgICAgICAgaWYgKGZlZWQuZ2V0QXR0cmlidXRlKCdmZWVkdHlwZScpID09PSAnYWQnKSByZXR1cm47CiAgICAgICAgdmFyIG1pZCA9IGZlZWQuZ2V0QXR0cmlidXRlKCdtaWQnKTsgaWYgKCFtaWQpIHJldHVybjsKICAgICAgICByYW5nZSA9IEFycmF5LmZyb20odGhhdC5yZWYuX3JlY29yZHMuZ2V0Y29uZigpIHx8IFtdKTsKICAgICAgICBpZiAocmFuZ2UuaW5kZXhPZihtaWQpICE9PSAtMSkgcmV0dXJuOwogICAgICAgIHJhbmdlLnB1c2gobWlkKTsgcmFuZ2UgPSByYW5nZS5zb3J0KGlkQ21wKTsKICAgICAgICB0aGF0LnJlZi5fcmVjb3Jkcy5wdXRjb25mKHJhbmdlLnNsaWNlKE1hdGgubWF4KHJhbmdlLmxlbmd0aCAtIDUwMCwgMCkpKTsKICAgICAgICB1cGRhdGVBbGwoKTsKICAgICAgfSk7CiAgICB9KCkpOwoKICAgIC8vIOaIkeS7rOWcqOS4gOS4quS6uueahOS4quS6uuS4u+mhteS4iueci+WIsOS6huWTquadoeW+ruWNmgogICAgLy8g5aaC5p6c5bey57uP5Zyo5Liq5Lq65Li76aG15LiK55yL6L+H5LqG6YKj5LmI5LiA5qC35LiN5bqU6K+l5pyJ5bCP57qi54K5CiAgICB2YXIgbGFzdCA9IChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBsYXN0ID0gdGhhdC5yZWYuX2xhc3QuZ2V0Y29uZigpIHx8IHt9OwogICAgICBvYnNlcnZlci53ZWliby5vbmxvYWQoZnVuY3Rpb24gKGZlZWQpIHsKICAgICAgICAvLyDov5nkuKrop4TliJnlj6rlnKjkuKrkurrkuLvpobXpgILnlKgKICAgICAgICBpZiAodXRpbC5wYWdlLmRpc2NvdmVyeSB8fCB1dGlsLnBhZ2Uuc2VhcmNoKSByZXR1cm47CiAgICAgICAgaWYgKGZlZWQuZ2V0QXR0cmlidXRlKCdmZWVkdHlwZScpID09PSAnYWQnKSByZXR1cm47CiAgICAgICAgdmFyIG1pZCA9IGZlZWQuZ2V0QXR0cmlidXRlKCdtaWQnKTsgaWYgKCFtaWQpIHJldHVybjsKICAgICAgICB2YXIgdWlkID0gd2VpYm8uZmVlZC5hdXRob3IuaWQoZmVlZCk7IGlmICh1aWQpIHJldHVybjsKICAgICAgICB1aWQgPSB1dGlsLmluZm8ub2lkKCk7IGlmICghdWlkKSByZXR1cm47CiAgICAgICAgaWYgKGxpc3QuY29uZi5pbmRleE9mKHVpZCkgPT09IC0xKSByZXR1cm47CiAgICAgICAgaWYgKGxhc3RbdWlkXSAmJiBpZENtcChsYXN0W3VpZF0sIG1pZCkgPj0gMCkgcmV0dXJuOwogICAgICAgIGxhc3QgPSB0aGF0LnJlZi5fbGFzdC5nZXRjb25mKCk7CiAgICAgICAgbGFzdFt1aWRdID0gbWlkOwogICAgICAgIHRoYXQucmVmLl9sYXN0LnB1dGNvbmYobGFzdCk7CiAgICAgIH0pOwogICAgICByZXR1cm4gbGFzdDsKICAgIH0oKSk7CgogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMudG9vbCk7CgoKLy8g5rWu5Yqo5YWD57SgCmZpbHRlci5wcmVkZWYuc3VidGl0bGUoJ3Rvb2wnLCAnZml4ZWQnLCAne3tmaXhlZEl0ZW1zVGl0bGV9fScpOwoKLy8g5a+86Iiq5qCP6Ieq5Yqo6ZqQ6JePCmZpbHRlci5pdGVtcy50b29sLmZpeGVkLmhpZGVfbmF2X2JhciA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnZml4ZWQnLAogICd2ZXJzaW9uJzogMzAyLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8udG9vbC5oaWRlX25hdl9iYXInLAogICd0ZXh0JzogJ3t7ZmxvYXROYXZ9fScsCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgdmFyIGF0dHIgPSAneWF3Zi1mbG9hdCc7CiAgICB2YXIgdXBkYXRlTmF2RmxvYXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuV0JfZ2xvYmFsX25hdicpOyBpZiAoIW5hdikgcmV0dXJuOwogICAgICB2YXIgeSA9IHdpbmRvdy5zY3JvbGxZLCBmID0gbmF2Lmhhc0F0dHJpYnV0ZShhdHRyKSwgciA9IDQyOwogICAgICBpZiAoeSA8IHIgJiYgZikgbmF2LnJlbW92ZUF0dHJpYnV0ZShhdHRyKTsKICAgICAgaWYgKHkgPj0gciAmJiAhZikgbmF2LnNldEF0dHJpYnV0ZShhdHRyLCAnJyk7CiAgICB9OwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdXBkYXRlTmF2RmxvYXQpOwogICAgdXBkYXRlTmF2RmxvYXQoKTsKICAgIHV0aWwuY3NzLmFkZCh1dGlsLnN0ci5maWxsKHV0aWwuc3RyLmNtdChmdW5jdGlvbiAoKSB7IC8qIUNTUwogICAgICAuV0JfZ2xvYmFsX25hdiB7IG1hcmdpbi10b3A6IC01MHB4OyB0b3A6IDUwcHg7IGJveC1zaGFkb3c6IG5vbmU7IH0KICAgICAgLldCX2dsb2JhbF9uYXZbe3thdHRyfX1dIHsgdG9wOiAwOyB0cmFuc2l0aW9uOiB0b3AgZWFzZS1pbi1vdXQgMC4xcyAwLjMzczsgfQogICAgICAuV0JfZ2xvYmFsX25hdlt7e2F0dHJ9fV06aG92ZXIgeyB0b3A6IDUwcHg7IHRyYW5zaXRpb246IHRvcCBlYXNlLWluLW91dCAwLjFzIDBzOyB9CiAgICAgIC5XQl9nbG9iYWxfbmF2W3t7YXR0cn19XTo6YWZ0ZXIgeyBjb250ZW50OiAiICI7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDhweDsgY2xlYXI6IGJvdGg7IGZsb2F0OiBsZWZ0OyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCByZ2JhKDAsIDAsIDAsIDAuMykgMCUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQgMTAwJSk7IH0KICAgICAgLy8g5Zu65a6a5bCP6buE562+5L2N572uCiAgICAgIC5XQl9nbG9iYWxfbmF2W3t7YXR0cn19XSAuZ25fdG9wbWVudWxpc3RfdGlwcyB7IHBhZGRpbmctdG9wOiA1MnB4OyB0cmFuc2l0aW9uOiBwYWRkaW5nLXRvcCBlYXNlLWluLW91dCAwLjFzIDAuMzNzOyB9CiAgICAgIC5XQl9nbG9iYWxfbmF2W3t7YXR0cn19XTpob3ZlciAuZ25fdG9wbWVudWxpc3RfdGlwcyB7IHBhZGRpbmctdG9wOiAycHg7IHRyYW5zaXRpb246IHBhZGRpbmctdG9wIGVhc2UtaW4tb3V0IDAuMXMgMHM7IH0KICAgICAgLldCX2dsb2JhbF9uYXZbe3thdHRyfX1dIC5nbl90b3BtZW51bGlzdF90aXBzIC5maWNvbl9jbG9zZSB7IHRvcDogNTZweDsgdHJhbnNpdGlvbjogdG9wIGVhc2UtaW4tb3V0IDAuMXMgMC4zM3M7IH0KICAgICAgLldCX2dsb2JhbF9uYXZbe3thdHRyfX1dOmhvdmVyIC5nbl90b3BtZW51bGlzdF90aXBzIC5maWNvbl9jbG9zZSB7IHRvcDogNnB4OyB0cmFuc2l0aW9uOiB0b3AgZWFzZS1pbi1vdXQgMC4xcyAwczsgfQogICAgKi8gbm9vcCgpOyB9KS5yZXBsYWNlKC9cL1wvLipcbi9nLCAnXG4nKSwgeyAnYXR0cic6IGF0dHIgfSkpOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMudG9vbCk7CgovLyDlt6bovrnmoI/mta7liqgKZmlsdGVyLml0ZW1zLnRvb2wuZml4ZWQuZml4ZWRfbGVmdCA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnZml4ZWQnLAogICd2ZXJzaW9uJzogMTYwLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8udG9vbC5maXhlZExlZnQnLAogICd0ZXh0JzogJ3t7Zml4ZWRMZWZ0fX0nLAogICdkZWZhdWx0JzogdHJ1ZSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICAvLyDnpoHnlKjlt6bmoI/mta7liqjnmoTnm7jlhbPku6PnoIHlnKggZml4ZWRfcmlnaHQg6YKj6L655Y+v5Lul5om+5YiwCiAgICAvLyDlpoLmnpzlkIjlubbkuobovrnmoI/vvIzpgqPkuYjkvJrlm6DkuLrnpoHnlKjlj7PmoI/mta7liqjogIzlkIzml7bnpoHnlKjlnKjlj7PmoI/ph4zpnaLnmoTlt6bmoI8KICAgIC8vIOi/meaXtuWAmeW3puagj+WmguaenOi/mOimgea1ruWKqO+8jOmCo+S5iOWwseimgemHjeaWsOiuqeS7luWKqOi1t+adpQogICAgLy8g6L+Z6YeM55qE56iL5bqP5piv5Li65LqG6K6p5bem5qCP5YaN5Yqo6LW35p2l55qECiAgICBpZiAoIWZpbHRlci5pdGVtcy50b29sLnNpZGViYXIubWVyZ2VfbGVmdF9yaWdodC5jb25mKSByZXR1cm47CiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuY210KGZ1bmN0aW9uICgpIHsgLyohQ1NTCiAgICAgIC5XQl9tYWluX3IgLldCX21haW5fbCB7IHdpbGwtY2hhbmdlOiBzY3JvbGwtcG9zaXRpb247IH0KICAgICAgLldCX21haW5fclt5YXdmLWZpeGVkXSAuV0JfbWFpbl9sIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDYwcHggIWltcG9ydGFudDsgb3ZlcmZsb3c6IGhpZGRlbjsgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7IHdpZHRoOiAxNTBweDsgfQogICAgICBib2R5W3lhd2YtbWVyZ2UtbGVmdF0gLldCX21haW5fclt5YXdmLWZpeGVkXSAuV0JfbWFpbl9sIHsgd2lkdGg6IDIyOXB4OyB9CiAgICAqLyBub29wKCk7IH0pKTsKICAgIGlmIChmaWx0ZXIuaXRlbXMudG9vbC5maXhlZC5oaWRlX25hdl9iYXIuY29uZikgewogICAgICAgIHV0aWwuY3NzLmFkZCgnLldCX21haW5fclt5YXdmLWZpeGVkXSAuV0JfbWFpbl9sIHsgdG9wOiAxMHB4ICFpbXBvcnRhbnQ7IH0nKTsKICAgIH0KCiAgICAvLyDlvZPlt6bkvqfkuI3lpJ/plb/ml7bvvIzpnIDopoHmu5rliqjmnaHvvIzmm7TmlrDmu5rliqjmnaHnmoTnirbmgIEKICAgIHZhciB1cGRhdGVTY3JvbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHV0aWwuZnVuYy5wYWdlKGZ1bmN0aW9uICgpIHsKICAgICAgICB3aW5kb3cuJFlBV0YkID0gd2luZG93LiRZQVdGJCB8fCB7fTsKICAgICAgICBpZiAoISRZQVdGJC51cGRhdGVMZWZ0U2Nyb2xsKSAkWUFXRiQudXBkYXRlTGVmdFNjcm9sbCA9IChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgeSA9IFNUSy5zaXp6bGUoJ1tub2RlLXR5cGU9ImxlZnRuYXZfc2Nyb2xsIl0nKVswXTsKICAgICAgICAgIHZhciBnID0gU1RLLnVpLnNjcm9sbFZpZXcoeSk7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyBnLnJlc2V0KCk7IH07CiAgICAgICAgfSgpKTsKICAgICAgICAkWUFXRiQudXBkYXRlTGVmdFNjcm9sbCgpOwogICAgICB9KTsKICAgIH07CgogICAgLy8g6ZmQ5Yi25bem5qCP5pyA5aSn6auY5bqm77yM6YG/5YWN6LaF5Ye65Lit6Ze05Yy65Z+fCiAgICB2YXIgdXBkYXRlTWF4SGVpZ2h0ID0gZnVuY3Rpb24gKGxlZnQsIG1heEhlaWdodCkgewogICAgICB2YXIgbm9uZSA9IG1heEhlaWdodCA9PSBudWxsOwogICAgICB2YXIgdGV4dCA9IG5vbmUgPyAnbm9uZScgOiBtYXhIZWlnaHQgKyAncHgnOwogICAgICB2YXIgc3JsID0gbGVmdC5xdWVyeVNlbGVjdG9yKCdbbm9kZS10eXBlPSJsZWZ0bmF2X3Njcm9sbCJdJyk7CiAgICAgIGlmICghc3JsKSByZXR1cm47CiAgICAgIGlmICgobGVmdC5zdHlsZS5tYXhIZWlnaHQgfHwgJ25vbmUnKSAhPT0gdGV4dCkgewogICAgICAgIGxlZnQuc3R5bGUubWF4SGVpZ2h0ID0gdGV4dDsKICAgICAgICBpZiAobm9uZSkgc3JsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnJyk7CiAgICAgICAgZWxzZSB7CiAgICAgICAgICB2YXIgbGV2ID0gQXJyYXkuZnJvbShzcmwucXVlcnlTZWxlY3RvckFsbCgnLmxldl9Cb3gnKSk7CiAgICAgICAgICB2YXIgY2ggPSBsZXYubWFwKGZ1bmN0aW9uIChsYikgeyByZXR1cm4gbGIuY2xpZW50SGVpZ2h0OyB9KS5yZWR1Y2UoZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIHggKyB5OyB9KTsKICAgICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1pbihtYXhIZWlnaHQgLSBzcmwub2Zmc2V0VG9wLCBjaCkgKyAncHgnOwogICAgICAgICAgaWYgKHNybC5zdHlsZS5oZWlnaHQgIT09IGhlaWdodCkgewogICAgICAgICAgICBzcmwuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0OwogICAgICAgICAgICBzcmwuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnOwogICAgICAgICAgICBpZiAoc3JsKSB1cGRhdGVTY3JvbGwoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgLy8g5q+P5b2T5rua5Yqo5rua5Yqo5p2h5oiW6LCD5pW056qX5Y+j5aSn5bCP5pe277yM5pu05paw5bem5qCP54q25oCBCiAgICB2YXIgZmxvYXRpbmcgPSBmYWxzZTsKICAgIHZhciB1cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uIHVwZGF0ZUxlZnRQb3NpdGlvbigpIHsKICAgICAgdmFyIGxlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueWF3Zi1XQl9sZWZ0X25hdicpOwogICAgICB2YXIgcmVmZXJlbmNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLldCX21haW5fcicpOwogICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BsY19tYWluJyk7CiAgICAgIGlmICghbGVmdCB8fCAhcmVmZXJlbmNlKSByZXR1cm47CiAgICAgIHZhciByZWZjID0gcmVmZXJlbmNlLmdldENsaWVudFJlY3RzKCk7CiAgICAgIGlmICghcmVmYyB8fCAhcmVmY1swXSkgcmV0dXJuOwogICAgICB2YXIgcG9zID0gcmVmY1swXTsKICAgICAgaWYgKCFmbG9hdGluZykgewogICAgICAgIGlmIChwb3MuYm90dG9tIDwgLTYwKSB7CiAgICAgICAgICBmbG9hdGluZyA9IHRydWU7CiAgICAgICAgICByZWZlcmVuY2Uuc2V0QXR0cmlidXRlKCd5YXdmLWZpeGVkJywgJycpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAocG9zLmJvdHRvbSArIGxlZnQuY2xpZW50SGVpZ2h0ID4gNjApIHsKICAgICAgICAgIGZsb2F0aW5nID0gZmFsc2U7CiAgICAgICAgICByZWZlcmVuY2UucmVtb3ZlQXR0cmlidXRlKCd5YXdmLWZpeGVkJyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChmbG9hdGluZykgewogICAgICAgIHZhciBjaXAgPSBjb250YWluZXIuZ2V0Q2xpZW50UmVjdHMoKVswXTsKICAgICAgICB2YXIgZmlwID0gbGVmdC5nZXRDbGllbnRSZWN0cygpWzBdOwogICAgICAgIHZhciBub19zcGFjZSA9IGZpbHRlci5pdGVtcy5zdHlsZS5zd2VpYm8ubm9fd2VpYm9fc3BhY2UuY29uZjsKICAgICAgICB2YXIgbWF4SGVpZ2h0Qm90dG9tID0gY2lwLmJvdHRvbSAtIGZpcC50b3AgKyAobm9fc3BhY2UgPyAwIDogLTEwKTsKICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5taW4obWF4SGVpZ2h0Qm90dG9tLCB3aW5kb3cuaW5uZXJIZWlnaHQgLSA4MCksIDApOwogICAgICAgIGlmIChjaXAgJiYgZmlwKSB1cGRhdGVNYXhIZWlnaHQobGVmdCwgbWF4SGVpZ2h0KTsKICAgICAgfSBlbHNlIHsgdXBkYXRlTWF4SGVpZ2h0KGxlZnQpOyB9CiAgICB9OwoKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHVwZGF0ZVBvc2l0aW9uKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVQb3NpdGlvbik7CiAgICBvYnNlcnZlci5kb20uYWRkKHVwZGF0ZVBvc2l0aW9uKTsKICAgIHVwZGF0ZVBvc2l0aW9uKCk7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy50b29sKTsKCi8vIOWPs+i+ueagj+a1ruWKqApmaWx0ZXIuaXRlbXMudG9vbC5maXhlZC5maXhlZF9yaWdodCA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnZml4ZWQnLAogICd2ZXJzaW9uJzogMTYwLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8udG9vbC5maXhlZFJpZ2h0JywKICAndGV4dCc6ICd7e2ZpeGVkUmlnaHR9fScsCiAgJ3JlZic6IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3tmaXhlZFJpZ2h0RGVzY319JyB9IH0sCiAgJ2RlZmF1bHQnOiB0cnVlLAogICdpbml0JzogZnVuY3Rpb24gKCkgewogICAgdmFyIG1lcmdlID0gZmlsdGVyLml0ZW1zLnRvb2wuc2lkZWJhci5tZXJnZV9sZWZ0X3JpZ2h0LmNvbmY7CiAgICB2YXIgZmxlZnQgPSBmaWx0ZXIuaXRlbXMudG9vbC5maXhlZC5maXhlZF9sZWZ0LmNvbmY7CiAgICB2YXIgZnJpZ2h0ID0gZmlsdGVyLml0ZW1zLnRvb2wuZml4ZWQuZml4ZWRfcmlnaHQuY29uZiAmJiAhKG1lcmdlICYmIGZsZWZ0KTsKICAgIHZhciBmb3RoZXIgPSBmaWx0ZXIuaXRlbXMudG9vbC5maXhlZC5maXhlZF9vdGhlcnMuY29uZjsKICAgIHZhciBhdHRycyA9IFsnZml4ZWQtaXRlbScsICdmaXhlZC1ib3gnLCAnZml4ZWQtaW5ib3gnXSwgcXVlcnkgPSBbXTsKICAgIHZhciBzdWJzID0gZnVuY3Rpb24gKHMpIHsKICAgICAgcXVlcnkgPSBxdWVyeS5jb25jYXQoYXR0cnMubWFwKGZ1bmN0aW9uIChhKSB7IHJldHVybiBzICsgJyBbJyArIGEgKyAnXSc7IH0pKTsKICAgIH07CiAgICBpZiAoIWZyaWdodCkgc3VicygnLldCX21haW5fcicpOwogICAgaWYgKCFmbGVmdCkgc3VicygnLldCX21haW5fbCcpOwogICAgaWYgKCFmb3RoZXIpIHsgc3VicygnLldCX2ZyYW1lX2InKTsgc3VicygnLldCX2ZyYW1lX2MnKTsgfQogICAgaWYgKHF1ZXJ5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuOyBlbHNlIHF1ZXJ5ID0gcXVlcnkuam9pbignLCcpOwogICAgdmFyIHJlbW92ZUZpeGVkID0gZnVuY3Rpb24gcmVtb3ZlUmlnaHRGaXhlZCgpIHsKICAgICAgdmFyIGl0ZW1zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSk7CiAgICAgIGlmICghaXRlbXMubGVuZ3RoKSByZXR1cm47CiAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGZpeGVkKSB7CiAgICAgICAgdmFyIHggPSBmaXhlZC5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgYXR0cnMuZm9yRWFjaChmdW5jdGlvbiAoYXR0cikgeyB4LnJlbW92ZUF0dHJpYnV0ZShhdHRyKTsgfSk7CiAgICAgICAgZml4ZWQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoeCwgZml4ZWQpOwogICAgICAgIGZpeGVkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZml4ZWQpOwogICAgICB9KTsKICAgIH07CiAgICByZW1vdmVGaXhlZCgpOwogICAgb2JzZXJ2ZXIuZG9tLmFkZChyZW1vdmVGaXhlZCk7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy50b29sKTsKCi8vIOaWsOW+ruWNmuaPkOekuua1ruWKqApmaWx0ZXIuaXRlbXMudG9vbC5maXhlZC5maXhlZF9uZXdfZmVlZF90aXAgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2ZpeGVkJywKICAndmVyc2lvbic6IDE4MywKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wuZml4ZWROZXdGZWVkVGlwJywKICAndGV4dCc6ICd7e2ZpeGVkTmV3RmVlZFRpcH19JywKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbiB1cGRhdGVOZXdGZWVkVGlwUG9zaXRpb24oKSB7CiAgICAgIHZhciB0aXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaG9tZV9uZXdfZmVlZF90aXAsIFt5YXdmLWlkPSJob21lX25ld19mZWVkX3RpcCJdJyk7IGlmICghdGlwKSByZXR1cm47CiAgICAgIHZhciBmZWVkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5XQl9mZWVkJyk7CiAgICAgIHZhciBwb3MgPSBudWxsLCBmaXhlZCA9IGZhbHNlOwogICAgICB0cnkgeyBwb3MgPSBmZWVkcy5nZXRDbGllbnRSZWN0cygpWzBdLnRvcDsgfSBjYXRjaCAoZSkgeyByZXR1cm47IH0KICAgICAgdmFyIHJlYWRpbmcgPSBkb2N1bWVudC5ib2R5Lmhhc0F0dHJpYnV0ZSgneWF3Zi13ZWliby1vbmx5Jyk7CiAgICAgIGZpeGVkID0gcG9zIDwgKHJlYWRpbmcgPyAzNSA6IDkwKTsKICAgICAgaWYgKHRpcC5oYXNBdHRyaWJ1dGUoJ3lhd2YtZml4ZWQnKSA9PSBmaXhlZCkgcmV0dXJuOwogICAgICBpZiAoZml4ZWQpIHRpcC5zZXRBdHRyaWJ1dGUoJ3lhd2YtZml4ZWQnLCAnJyk7CiAgICAgIGVsc2UgdGlwLnJlbW92ZUF0dHJpYnV0ZSgneWF3Zi1maXhlZCcpOwogICAgfTsKICAgIHVwZGF0ZVBvc2l0aW9uKCk7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB1cGRhdGVQb3NpdGlvbik7CiAgICBvYnNlcnZlci5kb20uYWRkKHVwZGF0ZVBvc2l0aW9uKTsKICAgIHV0aWwuY3NzLmFkZCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgW3lhd2YtaWQ9ImhvbWVfbmV3X2ZlZWRfdGlwIl1beWF3Zi1maXhlZF0sICNob21lX25ld19mZWVkX3RpcFt5YXdmLWZpeGVkXSB7IGRpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogNjZweDsgd2lkdGg6IDYwMHB4OyBwYWRkaW5nLXRvcDogMDsgei1pbmRleDogOTk5ODsgfQogICAgICBbeWF3Zi1pZD0iaG9tZV9uZXdfZmVlZF90aXAiXVt5YXdmLWZpeGVkXSArIC5XQl9mZWVkLCAjaG9tZV9uZXdfZmVlZF90aXBbeWF3Zi1maXhlZF0gKyAuV0JfZmVlZCB7IG1hcmdpbi10b3A6IDQwcHg7IH0KICAgICovIG5vb3AoKTsgfSkpOwogIH0KfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy50b29sKTsKCmZpbHRlci5pdGVtcy50b29sLmZpeGVkLmZpeGVkX290aGVycyA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnZml4ZWQnLAogICd2ZXJzaW9uJzogMTYwLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8udG9vbC5maXhlZE90aGVycycsCiAgJ3RleHQnOiAne3tmaXhlZE90aGVyc319JywKICAnZGVmYXVsdCc6IHRydWUsCn0pLmFkZHRvKGZpbHRlci5ncm91cHMudG9vbCk7CgovLyDlvq7ljZrnm7jlhbPlt6XlhbcKZmlsdGVyLnByZWRlZi5zdWJ0aXRsZSgndG9vbCcsICd3ZWlib3Rvb2wnLCAne3t3ZWlib1Rvb2xzVGl0bGV9fScpOwoKLy8g6Ieq5Yqo5bGV5byA5a2X5pWw5LiN5aSa55qE5b6u5Y2aCmZpbHRlci5pdGVtcy50b29sLndlaWJvdG9vbC5hdXRvX3VuZm9sZF93ZWlibyA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnd2VpYm90b29sJywKICAndmVyc2lvbic6IDMyMCwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wuYXV0b191bmZvbGRfd2VpYm8nLAogICd0ZXh0JzogJ3t7dW5mb2xkTG9uZ1dlaWJvfX0nLAogICdyZWYnOiB7CiAgICAnY291bnQnOiB7ICd0eXBlJzogJ3JhbmdlJywgJ21pbic6IDE0MCwgJ21heCc6IDIwMDAsICdzdGVwJzogMTAsICdkZWZhdWx0JzogMjAwIH0sCiAgICAnYnInOiB7ICd0eXBlJzogJ3JhbmdlJywgJ21pbic6IDEsICdtYXgnOiA2MCwgJ3N0ZXAnOiAxLCAnZGVmYXVsdCc6IDMwIH0sCiAgfSwKICAnaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIC8vIOe7meW3sue7j+WxleW8gOi/h+eahO+8iOaIluivleWbvuWxleW8gOi/h+eahO+8ieW+ruWNmuagh+iusAogICAgdmFyIG1hcmtVbmZvbGRlZCA9IGZ1bmN0aW9uIChmZWVkKSB7CiAgICAgIGZlZWQuc2V0QXR0cmlidXRlKCd5YXdmLXVuZm9sZGxvbmcnLCAnJyk7CiAgICB9OwogICAgLy8g5aaC5p6c6K6+572u5LiN5YWB6K646ISa5pys5bGV5byA77yM6YKj5LmI5bCx55u05o6l5omT5LiK5qCH6K6w54S25ZCO57uT5p2fCiAgICBpZiAoIXRoaXMuY29uZikgewogICAgICBvYnNlcnZlci53ZWliby5vbmxvYWQoZnVuY3Rpb24gKGZlZWQpIHsgbWFya1VuZm9sZGVkKGZlZWQpOyB9KTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGNvdW50ID0gdGhpcy5yZWYuY291bnQuY29uZiwgYnIgPSB0aGlzLnJlZi5ici5jb25mOwogICAgbmV0d29yay53ZWliby5sb25ndGV4dC5zZXRNYXhMZW5ndGgoY291bnQsIGJyKTsKICAgIC8vIOWboOS4uuaIkeS7rOS/ruaUueS6huW+ruWNmueahOWGheWuue+8jOaJgOS7pemcgOimgeagh+iusOW+ruWNmuS4uuWwmuacqui/h+a7pOi/h++8jOmHjeaWsOi/m+ihjOi/h+a7pAogICAgdmFyIHJlc2V0V2VpYm8gPSBmdW5jdGlvbiAoZmVlZCkgewogICAgICBtYXJrVW5mb2xkZWQoZmVlZCk7CiAgICAgIHZhciBwbGFjZWhvbGRlciA9IHV0aWwuZG9tLmNyZWF0ZSgnZGl2JywgJycpLCBwYXJlbnQgPSBmZWVkLnBhcmVudE5vZGU7CiAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQocGxhY2Vob2xkZXIsIGZlZWQpOwogICAgICBmZWVkLnJlbW92ZUF0dHJpYnV0ZSgneWF3Zi1kaXNwbGF5Jyk7CiAgICAgIGZlZWQucmVtb3ZlQXR0cmlidXRlKCd5YXdmLXdlaWJvJyk7IC8vIEZJWE1FIOi/meagt+S8muiuqei/h+a7pOWZqOmHjeaWsOi1sO+8jOS9huaYr+S5n+S8muiuqeaXoOWFs+eahOS4nOilv+i1sOS4pOmBjQogICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKGZlZWQsIHBsYWNlaG9sZGVyKTsKICAgIH07CiAgICAvLyDmr4/mnaHlvq7ljZrlnKjov4fmu6TlkI7lho3mianlsZXlhajmlofvvIzlr4TluIzmnJvkuo7lj6/ku6XpooTlhYjpmpDol4/mjonkuIDkupsKICAgIG9ic2VydmVyLndlaWJvLmFmdGVyKGZ1bmN0aW9uIChmZWVkKSB7CiAgICAgIGlmIChmZWVkLmhhc0F0dHJpYnV0ZSgneWF3Zi11bmZvbGRsb25nJykpIHJldHVybjsKICAgICAgdmFyIHJ1bm5pbmcgPSAwOwogICAgICB2YXIgdW5mb2xkID0gQXJyYXkuZnJvbShmZWVkLnF1ZXJ5U2VsZWN0b3JBbGwoJ1thY3Rpb24tdHlwZT0iZmxfdW5mb2xkIl0nKSk7CiAgICAgIHVuZm9sZC5mb3JFYWNoKGZ1bmN0aW9uIChidXR0b24pIHsKICAgICAgICB2YXIgbWlkID0gdXRpbC5zdHIucGFyc2VxdWVyeShidXR0b24uZ2V0QXR0cmlidXRlKCdhY3Rpb24tZGF0YScpKS5taWQ7CiAgICAgICAgcnVubmluZysrOwogICAgICAgIG5ldHdvcmsud2VpYm8ubG9uZ3RleHQobWlkLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47IC8vIOiOt+WPluWksei0pQogICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgeyAvLyBkYXRhOiDlhoXlrrkKICAgICAgICAgICAgYnV0dG9uLnBhcmVudE5vZGUuaW5uZXJIVE1MID0gZGF0YTsKICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YSAvIDEwMCkgeyAvLyBkYXRhOiDplb/luqYKICAgICAgICAgICAgYnV0dG9uLmZpcnN0Q2hpbGQudGV4dENvbnRlbnQgKz0gdXRpbC5zdHIuZmlsbCgne3t7dW5mb2xkV2VpYm9MZW5ndGh9fX0nLAogICAgICAgICAgICAgIHsgJ2xlbmd0aCc6IGRhdGEgPiAxMDAwID8gTWF0aC5yb3VuZChkYXRhIC8gMTAwKSArICcwMCcgOiBNYXRoLnJvdW5kKGRhdGEgLyAxMCkgKyAnMCcgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoLS1ydW5uaW5nID09PSAwKSByZXNldFdlaWJvKGZlZWQpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMudG9vbCk7CgovLyDmuIXpmaTlj5HluIPmoYbkuK3nmoTpu5jorqTor53popggKHdjZikKZmlsdGVyLml0ZW1zLnRvb2wud2VpYm90b29sLmNsZWFyX2RlZl90b3BpYyA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnd2VpYm90b29sJywKICAndmVyc2lvbic6IDM2LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8udG9vbC5jbGVhcl9kZWZfdG9waWMnLAogICd0ZXh0JzogJ3t7Y2xlYXJEZWZUb3BpY0Rlc2N9fScsCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgdmFyIGNsZWFyRGVmVG9waWMgPSBmdW5jdGlvbiBjbGVhckRlZmF1bHRUb3BpYygpIHsKICAgICAgdmFyIGlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Y2X3BsX2NvbnRlbnRfcHVibGlzaGVydG9wIC5zZW5kX3dlaWJvIC5pbnB1dCB0ZXh0YXJlYScpOwogICAgICBpZiAoaW5wdXRCb3ggJiYgaW5wdXRCb3guaGFzQXR0cmlidXRlKCdob3R0b3BpYycpKSB7CiAgICAgICAgaW5wdXRCb3gucmVtb3ZlQXR0cmlidXRlKCdob3R0b3BpYycpOyBpbnB1dEJveC5yZW1vdmVBdHRyaWJ1dGUoJ2hvdHRvcGljaWQnKTsKICAgICAgICBpbnB1dEJveC52YWx1ZSA9ICdEVU1NWSc7IGlucHV0Qm94LmZvY3VzKCk7CiAgICAgICAgaW5wdXRCb3gudmFsdWUgPSAnJzsgaW5wdXRCb3guYmx1cigpOwogICAgICB9CiAgICB9OwogICAgb2JzZXJ2ZXIuZG9tLmFkZChjbGVhckRlZlRvcGljKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnRvb2wpOwoKLy8g5Liq5Lq65Li76aG16buY6K6k5pi+56S65YWo6YOo5b6u5Y2aCmZpbHRlci5pdGVtcy50b29sLndlaWJvdG9vbC5yZWRpcmVjdF93ZWlibyA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnd2VpYm90b29sJywKICAndmVyc2lvbic6IDMwMSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wucmVkaXJlY3RXZWlibycsCiAgJ3RleHQnOiAne3twZXJzb25hbFJlZGlyZWN0V2VpYm99fScsCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgLy8g6YGH6KeB5pi+56S655qE5piv54Ot6Zeo55qE77yM6Ieq5Yqo6Lez6L2s5Yiw5YWo6YOo5Y67CiAgICB2YXIgdXBkYXRlTG9jYXRpb24gPSBmdW5jdGlvbiByZWRpcmVjdFBlcnNpb25hbFdlaWJvUmVkaXJlY3QoKSB7CiAgICAgIHZhciBwcm9maWxlTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2lkXj0iUGxfT2ZmaWNpYWxfUHJvZmlsZUZlZWROYXYiXScpOwogICAgICBpZiAoIXByb2ZpbGVOYXYpIHJldHVybjsKICAgICAgdmFyIGhvdEJ1dHRvbiA9IHByb2ZpbGVOYXYucXVlcnlTZWxlY3RvcignbGlbYWN0aW9uLXR5cGU9InNlYXJjaF90eXBlIl1bYWN0aW9uLWRhdGEqPSJpc19ob3Q9MSJdOm5vdChbYWN0aW9uLWRhdGEqPSJ5YXdmX25vdGFsbD0xIl0pJyk7CiAgICAgIGlmIChob3RCdXR0b24pIGhvdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FjdGlvbi1kYXRhJywgaG90QnV0dG9uLmdldEF0dHJpYnV0ZSgnYWN0aW9uLWRhdGEnKSArICcmeWF3Zl9ub3RhbGw9MScpOwogICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ2lzX2hvdD0xJykgIT09IC0xICYmIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd5YXdmX25vdGFsbD0xJykgPT09IC0xKSB7CiAgICAgICAgdmFyIGFsbCA9IHByb2ZpbGVOYXYucXVlcnlTZWxlY3RvcignbGlbYWN0aW9uLXR5cGU9InNlYXJjaF90eXBlIl1bYWN0aW9uLWRhdGEqPSJpc19hbGw9MSJdJyk7CiAgICAgICAgdmFyIGEgPSB1dGlsLmRvbS5jcmVhdGUoJ2EnLCAnJyk7IGEuaHJlZiA9IGxvY2F0aW9uLmhyZWY7IGEuc2VhcmNoID0gYWxsLmdldEF0dHJpYnV0ZSgnYWN0aW9uLWRhdGEnKTsgYS5oYXNoID0gJyNfMCc7CiAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoJ1lBV0ZfJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgJ18nICsgKE1hdGgucmFuZG9tKCkgKyAnJykuc2xpY2UoMiksIG51bGwsIGEuaHJlZik7CiAgICAgICAgYWxsLmNsaWNrKCk7CiAgICAgIH0KICAgIH07CiAgICBvYnNlcnZlci5kb20uYWRkKHVwZGF0ZUxvY2F0aW9uKTsKICAgIC8vIOaKiuaMh+WQkeeUqOaIt+S4u+mhteeahOmTvuaOpemDveWKoOS4gOS4qiBpc19hbGwg5bGe5oCn77yM54K56L+H5Y675bCx5Y+v5Lul55yB5Y675LiA5qyh6Lez6L2sCiAgICB2YXIgdXBkYXRlVXNlckxpbmtzV2l0aElzQWxsID0gZnVuY3Rpb24gdXBkYXRlVXNlckxpbmtzV2l0aElzQWxsKCkgewogICAgICB2YXIgbGlua3MgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoWwogICAgICAgICdhW3VzZXJjYXJkXScsIC8vIOS4gOiIrOeahOeUqOaIt+mTvuaOpQogICAgICAgICcuV0JfZmFjZSBhJywgLy8g5b6u5Y2a55So5oi35aS05YOP77yIdXNlcmNhcmTliqDlnKjpk77mjqXph4zpnaLnmoTlm77niYfkuIrkuobvvIkKICAgICAgICAnLnBpY19ib3ggYVtzdWRhLXVhdHJhY2sqPSJ1c2VyX3BpYyJdJywgLy8g5Y2V5p2h5b6u5Y2a5LiK5pa555qE55So5oi3CiAgICAgICAgJy5XQl9hcnRpY2FsIC5tYWluX2VkaXRvciAuYXV0aG9yaW5mbyBhJywgLy8g5aS05p2h5paH56ug55qE5L2c6ICF5L+h5oGvCiAgICAgICAgJy53ZWJpbV9jaGF0X3dpbmRvdyAuY2hhdF90aXRsZSBhW25vZGUtdHlwZT0iX2NoYXRVc2VyTmFtZSJdJywgLy8g6IGK5aSp56qX5Y+j5LiK55qE55So5oi35ZCNCiAgICAgIF0ubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICsgJ1tocmVmXTpub3QoW2hyZWYqPSJpc19hbGwiXSknOyB9KS5qb2luKCcsJykpKTsKICAgICAgbGlua3MuZm9yRWFjaChmdW5jdGlvbiAobCkgewogICAgICAgIHZhciBzID0gdXRpbC5zdHIucGFyc2VxdWVyeShsLnNlYXJjaC5zbGljZSgxKSk7CiAgICAgICAgcy5pc19hbGwgPSAnMSc7CiAgICAgICAgbC5zZWFyY2ggPSB1dGlsLnN0ci50b3F1ZXJ5KHMpOwogICAgICB9KTsKICAgIH07CiAgICBvYnNlcnZlci5kb20uYWRkKHVwZGF0ZVVzZXJMaW5rc1dpdGhJc0FsbCk7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy50b29sKTsKCi8vIOWIhue7hOa1j+iniOaXtum7mOiupOWPkeW4g+aWueW8j+S4uuWFrOW8gApmaWx0ZXIuaXRlbXMudG9vbC53ZWlib3Rvb2wucHVibGljX2J5X2RlZmF1bHQgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3dlaWJvdG9vbCcsCiAgJ3ZlcnNpb24nOiA3NCwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wucHVibGljX2J5X2RlZmF1bHQnLAogICd0ZXh0JzogJ3t7cHVibGlzaFRvUHVibGljRGVmYXVsdH19JywKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICBvYnNlcnZlci5kb20uYWRkKGZ1bmN0aW9uIHB1Ymxpc2hUb1B1YmxpY0RlZmF1bHQoKSB7CiAgICAgIHZhciBwdWJsaXNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYVthY3Rpb24tdHlwZT0ic2hvd1B1Ymxpc2hUbyJdOm5vdChbeWF3Zi1wdWJsaXNoXSknKTsKICAgICAgaWYgKCFwdWJsaXNoKSByZXR1cm47IHB1Ymxpc2guc2V0QXR0cmlidXRlKCd5YXdmLXB1Ymxpc2gnLCAneWF3Zi1wdWJsaXNoJyk7CiAgICAgIHZhciB0ZXh0ID0gcHVibGlzaC5xdWVyeVNlbGVjdG9yKCdbbm9kZS10eXBlPSJwdWJsaXNoVG90ZXh0Il0nKTsKICAgICAgcHVibGlzaC5zZXRBdHRyaWJ1dGUoJ2FjdGlvbi1kYXRhJywgJ3Jhbms9MCcpOwogICAgICB0ZXh0LnRleHRDb250ZW50ID0gdXRpbC5zdHIuZmlsbCgne3twdWJsaXNoVG9QdWJsaWNUZXh0fX0nKTsKICAgIH0pOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMudG9vbCk7CgovLyDkvb/nlKjljaHniYfmjInpkq7mm7/mjaLlr7nlupTpk77mjqUKZmlsdGVyLml0ZW1zLnRvb2wud2VpYm90b29sLmNhcmRfYnV0dG9uID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICd3ZWlib3Rvb2wnLAogICd2ZXJzaW9uJzogMTgyLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8udG9vbC5jYXJkQnV0dG9uJywKICAndGV4dCc6ICd7e2NhcmRCdXR0b259fScsCiAgJ3JlZic6IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3tjYXJkQnV0dG9uRGVzY319JyB9IH0sCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgdmFyIGZpeGVkID0gW107CiAgICB2YXIga2V5dmFscyA9IGZ1bmN0aW9uIChzKSB7CiAgICAgIHJldHVybiBzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4gIXgubWF0Y2goL15jbGlja18vKTsgfSk7CiAgICB9OwogICAgdmFyIHN1YnNldCA9IGZ1bmN0aW9uICh4LCB5KSB7CiAgICAgIHJldHVybiB4LmV2ZXJ5KGZ1bmN0aW9uIChpKSB7IHJldHVybiB5LmluZGV4T2YoaSkgIT09IC0xOyB9KTsKICAgIH07CiAgICB2YXIgZml4QnV0dG9uID0gZnVuY3Rpb24gKGZlZWQpIHsKICAgICAgaWYgKGZpeGVkLmluZGV4T2YoZmVlZCkgIT09IC0xKSByZXR1cm47IGZpeGVkLnB1c2goZmVlZCk7CiAgICAgIHZhciBsaW5rcyA9IEFycmF5LmZyb20oZmVlZC5xdWVyeVNlbGVjdG9yQWxsKCdbYWN0aW9uLXR5cGU9ImZlZWRfbGlzdF91cmwiXScpKTsKICAgICAgdmFyIGJ1dHRvbnMgPSBBcnJheS5mcm9tKGZlZWQucXVlcnlTZWxlY3RvckFsbCgnLm1lZGlhX2JveCBbZXhwLWRhdGEqPSJrZXk9dGJsb2dfd2VpYm9jYXJkIl0gLldfZnIgLldfYnRuX2EnKSk7CiAgICAgIHZhciB0dGFydGljbGVzID0gQXJyYXkuZnJvbShmZWVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZWRpYV9ib3ggW2FjdGlvbi10eXBlPSJ3aWRnZXRfYXJ0aWNsZUxheWVyIl0nKSk7CiAgICAgIC8vIOavj+S4qumTvuaOpe+8jOajgOafpeaYr+WQpuacieWvueW6lOeahOaMiemSrgogICAgICBsaW5rcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5rKSB7CiAgICAgICAgdmFyIGxhdHRyID0gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8uZ2V0QXR0cmlidXRlKCdzdWRhLXVhdHJhY2snKSB8fCAnJzsgfTsKICAgICAgICB2YXIgYmF0dHIgPSBmdW5jdGlvbiAobykgeyByZXR1cm4gby5nZXRBdHRyaWJ1dGUoJ2FjdGlvbi1kYXRhJykgfHwgJyc7IH07CiAgICAgICAgdmFyIHRhdHRyID0gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8uZ2V0QXR0cmlidXRlKCdzdWRhLXVhdHJhY2snKSB8fCAnJzsgfTsKICAgICAgICB2YXIgaW5mbyA9IGxhdHRyKGxpbmspOyBpZiAoIWluZm8pIHJldHVybjsKICAgICAgICBpbmZvID0gdXRpbC5zdHIucGFyc2VxdWVyeShpbmZvKTsKICAgICAgICB2YXIgaW5mb3ZhbCA9IGtleXZhbHMoaW5mby52YWx1ZS5zcGxpdCgnOicpKTsKICAgICAgICAvLyDmo4Dmn6XkuIDkuKrog73ngrnlh7vnmoTkuJzopb/mmK/kuI3mmK/lr7nlupTov5nkuKrpk77mjqUKICAgICAgICB2YXIgdmFsaWRUYXJnZXQgPSBmdW5jdGlvbiAoYXJnKSB7CiAgICAgICAgICBpZiAoIWFyZyB8fCAhYXJnLnZhbHVlKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICB2YXIgdmFsdWVzID0ga2V5dmFscyhhcmcudmFsdWUuc3BsaXQoJzonKSk7CiAgICAgICAgICAvLyDopoHmsYIga2V5IOS4gOagtwogICAgICAgICAgaWYgKGFyZy5rZXkgIT09IGluZm8ua2V5KSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAvLyDogIzkuJTmiYDmnIkgdmFsdWUg5Lmf5a+55bqUCiAgICAgICAgICByZXR1cm4gc3Vic2V0KGluZm92YWwsIHZhbHVlcykgfHwgc3Vic2V0KHZhbHVlcywgaW5mb3ZhbCk7CiAgICAgICAgfTsKICAgICAgICAvLyDmo4Dmn6Xmr4/kuKrmjInpkq7mmK/lkKbkuI7ku5blr7nlupQKICAgICAgICB2YXIgYnV0dG9uID0gYnV0dG9ucy5maWx0ZXIoZnVuY3Rpb24gKGJ1dHRvbikgewogICAgICAgICAgdmFyIGFyZyA9IHV0aWwuc3RyLnBhcnNlcXVlcnkoYmF0dHIoYnV0dG9uKSkgfHwge307CiAgICAgICAgICByZXR1cm4gdmFsaWRUYXJnZXQoYXJnKTsKICAgICAgICB9KVswXTsKICAgICAgICB2YXIgdHRhcnRpY2xlID0gdHRhcnRpY2xlcy5maWx0ZXIoZnVuY3Rpb24gKHR0YXJ0aWNsZSkgewogICAgICAgICAgdmFyIGFyZyA9IHV0aWwuc3RyLnBhcnNlcXVlcnkodGF0dHIodHRhcnRpY2xlKSkgfHwge307CiAgICAgICAgICByZXR1cm4gdmFsaWRUYXJnZXQoYXJnKTsKICAgICAgICB9KVswXTsKICAgICAgICB2YXIgdGFyZ2V0ID0gYnV0dG9uIHx8IHR0YXJ0aWNsZSB8fCBudWxsOwogICAgICAgIHV0aWwuZGVidWcoJ2xpbmsgJW8gLT4gdGFyZ2V0ICVvJywgbGluaywgdGFyZ2V0KTsKICAgICAgICBpZiAoIXRhcmdldCkgcmV0dXJuOwogICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgdGFyZ2V0LmNsaWNrKCk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHRleHQgPSB0YXJnZXQgPT09IGJ1dHRvbiA/IGJ1dHRvbi50ZXh0Q29udGVudCA6IG51bGw7CiAgICAgICAgaWYgKHRleHQpIGxpbmsuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdbJyArIHRleHQgKyAnXScpLCBsaW5rLnF1ZXJ5U2VsZWN0b3IoJy5XX2ZpY29uJykubmV4dFNpYmxpbmcpOwogICAgICB9KTsKICAgIH07CiAgICBvYnNlcnZlci53ZWliby5hZnRlcihmaXhCdXR0b24pOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMudG9vbCk7CgovLyDmn6XnnIvlpKflm77ml4Hmt7vliqDmn6XnnIvljp/lm77pk77mjqUKZmlsdGVyLml0ZW1zLnRvb2wud2VpYm90b29sLnZpZXdfb3JpZ2luYWwgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3dlaWJvdG9vbCcsCiAgJ3ZlcnNpb24nOiAzNTcsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLnZpZXdPcmlnaW5hbCcsCiAgJ3RleHQnOiAne3t2aWV3T3JpZ2luYWx9fScsCiAgJ3JlZic6IHsKICAgICdvcGVuJzogewogICAgICAndHlwZSc6ICdzZWxlY3QnLAogICAgICAnZGVmYXVsdCc6ICdwYWdlJywKICAgICAgJ3NlbGVjdCc6IFsKICAgICAgICB7ICd2YWx1ZSc6ICdwYWdlJywgJ3RleHQnOiAne3t2aWV3T3JpZ2luYWxQYWdlfX0nIH0sCiAgICAgICAgeyAndmFsdWUnOiAnaW1hZ2UnLCAndGV4dCc6ICd7e3ZpZXdPcmlnaW5hbEltYWdlfX0nIH0sCiAgICAgIF0sCiAgICB9LAogICAgJ2RpcmVjdCc6IHsgJ3R5cGUnOiAnYm9vbGVhbicgfSwKICB9LAogICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBvcGVuUGFnZSA9IHRoaXMucmVmLm9wZW4uY29uZiA9PT0gJ3BhZ2UnOwogICAgLy8gY2hyb21lIOS4jeiDveWkhOeQhuW4piBoYXNoIOeahCBkYXRhIHVyaQogICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTIzMDA0CiAgICB2YXIgaW1nUGFnZSA9IHV0aWwuc3RyLmNtdChmdW5jdGlvbiAoKSB7IC8qIUhUTUwKICAgICAgPCFET0NUWVBFIGh0bWw+CiAgICAgIDxodG1sPgogICAgICA8aGVhZD48bWV0YSBjaGFyc2V0PSJVVEYtOCIgLz48dGl0bGU+e3t2aWV3T3JpZ2luYWxUaXRsZX19PC90aXRsZT48c3R5bGU+CiAgICAgICAgYm9keSwgI2Nob3NlIHsgYmFja2dyb3VuZDogIzIyMjsgfQogICAgICAgIGJvZHksIGJvZHkgKiB7IC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7IC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7IHVzZXItc2VsZWN0OiBub25lOyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IH0KICAgICAgICAjdmlld2VyIHsgYmFja2dyb3VuZDogaHNsKDAsIDAlLCA5MCUpOyB9CiAgICAgICAgLm5vcm1hbCAjdmlld2VyIHsgd2lkdGg6IGF1dG87IGhlaWdodDogYXV0bzsgY3Vyc29yOiBhdXRvOyB9CiAgICAgICAgLm92ZXIgI3ZpZXdlci5sYXJnZSB7IHdpZHRoOiBhdXRvOyBoZWlnaHQ6IGF1dG87IGN1cnNvcjogem9vbS1vdXQ7IH0KICAgICAgICAub3ZlciAjdmlld2VyLmZpdCB7IG1heC13aWR0aDogMTAwdnc7IG1heC1oZWlnaHQ6IGNhbGMoMTAwJSAtIDIwcHgpOyBjdXJzb3I6IHpvb20taW47IH0KICAgICAgICAjY29udGFpbmVyIHsgdG9wOiAwOyBvdmVyZmxvdzogYXV0bzsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxMDFweCk7IH0KICAgICAgICAjY29udGFpbmVyLmxlZnQsICNjb250YWluZXIubGVmdCAjdmlld2VyIHsgY3Vyc29yOiB1cmwoImh0dHA6Ly9pbWcudC5zaW5hanMuY24vdDYvc3R5bGUvaW1hZ2VzL2NvbW1vbi9waWNfcHJldi5jdXIiKSwgYXV0bzsgfQogICAgICAgICNjb250YWluZXIucmlnaHQsICNjb250YWluZXIucmlnaHQgI3ZpZXdlciB7IGN1cnNvcjogdXJsKCJodHRwOi8vaW1nLnQuc2luYWpzLmNuL3Q2L3N0eWxlL2ltYWdlcy9jb21tb24vcGljX25leHQuY3VyIiksIGF1dG87IH0KICAgICAgICAuc2luZ2xlICNjb250YWluZXIsIC5zaW5nbGUgI2ltZ2FyZWEgeyBoZWlnaHQ6IDEwMHZoOyB9CiAgICAgICAgI2ltZ2FyZWEgeyBkaXNwbGF5OiB0YWJsZS1jZWxsOyBwb3NpdGlvbjogcmVsYXRpdmU7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IHRleHQtYWxpZ246IGNlbnRlcjsgd2lkdGg6IDEwMHZ3OyBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxMDFweCk7IH0KICAgICAgICAjY2hvc2UgeyBwb3NpdGlvbjogZml4ZWQ7IGNsZWFyOiBib3RoOyB3aWR0aDogMTAwJTsgYm90dG9tOiAwOyBoZWlnaHQ6IDEwMHB4OyBvdmVyZmxvdzogYXV0bzsgb3ZlcmZsb3cteDogaGlkZGVuOyBib3JkZXItdG9wOiAxcHggc29saWQgI2FhYTsgfQogICAgICAgIC5zaW5nbGUgI2Nob3NlIHsgZGlzcGxheTogbm9uZTsgfQogICAgICAgICNjaG9zZSBhIHsgZGlzcGxheTogYmxvY2s7IGhlaWdodDogODBweDsgdGV4dC1hbGlnbjogY2VudGVyOyB3aWR0aDogODBweDsgZmxvYXQ6IGxlZnQ7IG1hcmdpbjogMTBweDsgfQogICAgICAgICNjaG9zZSBhOnRhcmdldCB7IG91dGxpbmU6IDJweCBzb2xpZCByZWQ7IH0KICAgICAgICAjY2hvc2UgaW1nIHsgbWF4LWhlaWdodDogODBweDsgbWF4LXdpZHRoOiA4MHB4OyB9CiAgICAgICAgQC1tb3otZG9jdW1lbnQgdXJsLXByZWZpeCgpIHsKICAgICAgICAgIGJvZHkgeyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImNocm9tZTovL2dsb2JhbC9za2luL21lZGlhL2ltYWdlZG9jLWRhcmtub2lzZS5wbmciKTsgIH0KICAgICAgICAgICN2aWV3ZXIgeyBiYWNrZ3JvdW5kOiBoc2woMCwgMCUsIDkwJSkgdXJsKCJjaHJvbWU6Ly9nbG9iYWwvc2tpbi9tZWRpYS9pbWFnZWRvYy1saWdodG5vaXNlLnBuZyIpIHJlcGVhdCBzY3JvbGwgMCAwOyB9CiAgICAgICAgfQogICAgICA8L3N0eWxlPjxzY3JpcHQ+CiAgICAgICAgdmFyIGluZm8gPSB7e2luZm99fTsKICAgICAgICB2YXIgdXJsID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBsYXJnZSkgewogICAgICAgICAgcmV0dXJuICdodHRwOi8vJyArIGluZm8uaG9zdCArICcvJyArIChsYXJnZSA/ICdsYXJnZScgOiAnc3F1YXJlJykgKyAnLycgKyBmaWxlbmFtZTsKICAgICAgICB9OwogICAgICA8L3NjcmlwdD48L2hlYWQ+CiAgICAgIDxib2R5PjxkaXYgaWQ9ImNvbnRhaW5lciI+PGRpdiBpZD0iaW1nYXJlYSI+PGltZyBpZD0idmlld2VyIiBjbGFzcz0ibGFyZ2UiIC8+PC9kaXY+PC9kaXY+PGRpdiBpZD0iY2hvc2UiPjxzY3JpcHQ+CiAgICAgICAgaW5mby5maWxlbmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoZmlsZW5hbWUsIGkpIHsKICAgICAgICAgIGRvY3VtZW50LndyaXRlKCc8YSBocmVmPSIjJyArIGkgKyAnIiBpZD0iJyArIGkgKyAnIj48aW1nIHNyYz0iJyArIHVybChmaWxlbmFtZSwgZmFsc2UpICsgJyI+PC9hPicpOwogICAgICAgIH0pOwogICAgICA8L3NjcmlwdD48L2Rpdj48c2NyaXB0PgogICAgICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgICAgIHZhciB3aWR0aCA9IHZpZXdlci5uYXR1cmFsV2lkdGg7CiAgICAgICAgICB2YXIgaGVpZ2h0ID0gdmlld2VyLm5hdHVyYWxIZWlnaHQ7CiAgICAgICAgICBpZiAod2lkdGggPiBjb250YWluZXIuY2xpZW50V2lkdGggfHwgaGVpZ2h0ID4gY29udGFpbmVyLmNsaWVudEhlaWdodCkgaW1nYXJlYS5jbGFzc05hbWUgPSAnb3Zlcic7CiAgICAgICAgICBlbHNlIGltZ2FyZWEuY2xhc3NOYW1lID0gJ25vcm1hbCc7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHJlYWRIYXNoKCkgewogICAgICAgICAgdmFyIGhhc2hWYWwgPSBOdW1iZXIobG9jYXRpb24uaGFzaC5zbGljZSgxKSk7CiAgICAgICAgICB2YXIgY291bnQgPSBpbmZvLmZpbGVuYW1lcy5sZW5ndGg7CiAgICAgICAgICBoYXNoVmFsID0gKChwYXJzZUludChoYXNoVmFsLCAxMCkgJSBjb3VudCkgKyBjb3VudCkgJSBjb3VudDsKICAgICAgICAgIGlmICgnIycgKyBoYXNoVmFsICE9PSBsb2NhdGlvbi5oYXNoKSBnb3RvKGhhc2hWYWwpOwogICAgICAgICAgcmV0dXJuIGhhc2hWYWw7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHNob3coKSB7CiAgICAgICAgICBjdXJyZW50ID0gcmVhZEhhc2goKTsKICAgICAgICAgIHZpZXdlci5zcmMgPSAnJzsKICAgICAgICAgIHZpZXdlci5zcmMgPSB1cmwoaW5mby5maWxlbmFtZXNbY3VycmVudF0sIHRydWUpOwogICAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCA9IDA7CiAgICAgICAgICBjb250YWluZXIuc2Nyb2xsTGVmdCA9IDA7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGZvY3VzKCkgeyBjb250YWluZXIuZm9jdXMoKTsgfQogICAgICAgIGlmIChpbmZvLmZpbGVuYW1lcy5sZW5ndGggPT09IDEpIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gJ3NpbmdsZSc7CiAgICAgICAgZnVuY3Rpb24gcHJldkltZygpIHsgZ290byhOdW1iZXIobG9jYXRpb24uaGFzaC5zbGljZSgxKSkgLSAxKTsgfTsKICAgICAgICBmdW5jdGlvbiBuZXh0SW1nKCkgeyBnb3RvKE51bWJlcihsb2NhdGlvbi5oYXNoLnNsaWNlKDEpKSArIDEpOyB9OwogICAgICAgIGZ1bmN0aW9uIGdvdG8obikgeyBsb2NhdGlvbi5oYXNoID0gJyMnICsgbjsgfTsKICAgICAgICBmdW5jdGlvbiBjaGVja0xSKHgpIHsKICAgICAgICAgIGlmIChpbmZvLmZpbGVuYW1lcy5sZW5ndGggPT09IDEpIHJldHVybiAnbWlkJzsKICAgICAgICAgIHZhciBwb3MgPSAnbWlkJywgdyA9IGNvbnRhaW5lci5jbGllbnRXaWR0aDsKICAgICAgICAgIGlmICh4IDwgMTAwICYmIHggPCB3ICogMC4yKSBwb3MgPSAnbGVmdCc7CiAgICAgICAgICBpZiAoeCA+IHcgLSAxMDAgJiYgeCA+IHcgKiAwLjgpIHBvcyA9ICdyaWdodCc7CiAgICAgICAgICBpZiAoY29udGFpbmVyLmNsYXNzTmFtZSAhPT0gcG9zKSBjb250YWluZXIuY2xhc3NOYW1lID0gcG9zOwogICAgICAgICAgcmV0dXJuIHBvczsKICAgICAgICB9CiAgICAgICAgdmlld2VyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgc2V0VGltZW91dChyZXNpemUsIDApOyB9OwogICAgICAgIGltZ2FyZWEub25tb3VzZW1vdmUgPSBmdW5jdGlvbiAoZSkgeyBjaGVja0xSKGUuY2xpZW50WCk7IH07CiAgICAgICAgaW1nYXJlYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgcG9zID0gY2hlY2tMUihlLmNsaWVudFgpOwogICAgICAgICAgaWYgKHBvcyA9PT0gJ2xlZnQnKSBwcmV2SW1nKCk7IGVsc2UgaWYgKHBvcyA9PT0gJ3JpZ2h0JykgbmV4dEltZygpOyBlbHNlIHJldHVybiB0cnVlOwogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICB9LCB0cnVlKTsKICAgICAgICB2aWV3ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoaW1nYXJlYS5jbGFzc05hbWUgPT09ICdub3JtYWwnKSByZXR1cm47CiAgICAgICAgICBpZiAodmlld2VyLmNsYXNzTmFtZSA9PT0gJ2xhcmdlJykgdmlld2VyLmNsYXNzTmFtZSA9ICdmaXQnOwogICAgICAgICAgZWxzZSB2aWV3ZXIuY2xhc3NOYW1lID0gJ2xhcmdlJzsKICAgICAgICB9KTsKICAgICAgICB3aW5kb3cub25yZXNpemUgPSByZXNpemU7CiAgICAgICAgd2luZG93Lm9ua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIga2V5ID0gZS5rZXlDb2RlLCBuID0ga2V5ICYgMTU7CiAgICAgICAgICBpZiAoa2V5ID09PSAzMykgcHJldkltZygpOyBlbHNlIGlmIChrZXkgPT09IDM0KSBuZXh0SW1nKCk7CiAgICAgICAgICBpZiAoWzQ4LCA5Nl0uaW5kZXhPZihrZXkgJiAtMTYpICE9PSAtMSkgewogICAgICAgICAgICBpZiAobiA+IDAgJiYgbiA8PSBpbmZvLmZpbGVuYW1lcy5sZW5ndGgpIGdvdG8obiAtIDEpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgd2luZG93Lm9uaGFzaGNoYW5nZSA9IHNob3c7CiAgICAgICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHNob3coKTsKICAgICAgICAgIGZvY3VzKCk7CiAgICAgICAgfTsKICAgICAgICBnb3RvKGluZm8uY3VycmVudCk7CiAgICAgICAgY29udGFpbmVyLm9uYmx1ciA9IGZ1bmN0aW9uICgpIHsgc2V0VGltZW91dChmb2N1cywgMCk7IH07CiAgICAgIDwvc2NyaXB0PjwvYm9keT4KICAgICAgPC9odG1sPgogICAgKi8gbm9vcCgpOyB9KS5zcGxpdCgnXG4nKS5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHJpbSgpOyB9KS5qb2luKCdcbicpOwogICAgLy8g6I635Y+W5Zu+54mH5L+h5oGvCiAgICB2YXIgZ2V0SW1nRmlsZW5hbWUgPSBmdW5jdGlvbiAodXJsKSB7IHJldHVybiB1cmwubWF0Y2goL1wvKFteXC9dKikkLylbMV07IH07CiAgICB2YXIgaW1hZ2VVcmwgPSBmdW5jdGlvbiAoaW5mbywgc2luZ2xlKSB7CiAgICAgIGlmICh0eXBlb2YgaW5mbyA9PT0gJ3N0cmluZycpIGluZm8gPSB7ICdob3N0JzogdXRpbC5zdHIuaG9zdChpbmZvKSwgJ2ZpbGVuYW1lJzogW2dldEltZ0ZpbGVuYW1lKGluZm8pXSwgJ2N1cnJlbnQnOiAwIH07CiAgICAgIGlmIChvcGVuUGFnZSAmJiAhc2luZ2xlKSByZXR1cm4gJ2RhdGE6dGV4dC9odG1sO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyB1dGlsLnN0ci5iYXNlNjQodXRpbC5zdHIuZmlsbChpbWdQYWdlLCB7ICdpbmZvJzogSlNPTi5zdHJpbmdpZnkoaW5mbykgfSkpOwogICAgICByZXR1cm4gJ2h0dHA6Ly8nICsgaW5mby5ob3N0ICsgJy9sYXJnZS8nICsgaW5mby5maWxlbmFtZXNbaW5mby5jdXJyZW50XTsKICAgIH07CiAgICB2YXIgZ2V0SW1hZ2VzID0gZnVuY3Rpb24gKHJlZikgewogICAgICB2YXIgY29udGFpbmVyID0gcmVmOyB3aGlsZSAoIXV0aWwuZG9tLm1hdGNoZXMoY29udGFpbmVyLCAnLldCX2V4cGFuZF9tZWRpYScpKSBjb250YWluZXIgPSBjb250YWluZXIucGFyZW50Tm9kZTsKICAgICAgdmFyIGltZ3MgPSBBcnJheS5mcm9tKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuY2hvb3NlX2JveCBpbWcnKSk7CiAgICAgIGlmICghaW1ncy5sZW5ndGgpIGltZ3MgPSBbY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5hcnR3b3JrX2JveCBpbWcnKV07CiAgICAgIHJldHVybiBpbWdzLm1hcChmdW5jdGlvbiAoaW1nKSB7IHJldHVybiBpbWcuc3JjOyB9KTsKICAgIH07CiAgICB2YXIgZ2VuSW5mbyA9IGZ1bmN0aW9uIChpbWdzKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ2hvc3QnOiB1dGlsLnN0ci5ob3N0KGltZ3NbMF0pLAogICAgICAgICdmaWxlbmFtZXMnOiBpbWdzLm1hcChmdW5jdGlvbiAoaW1nKSB7IHJldHVybiBpbWcubWF0Y2goL1wvKFteXC9dKikkLylbMV07IH0pCiAgICAgIH07CiAgICB9OwogICAgdmFyIGdldFBpZCA9IGZ1bmN0aW9uIChhKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGFjdGlvbl9kYXRhID0gdXRpbC5zdHIucGFyc2VxdWVyeShhLmdldEF0dHJpYnV0ZSgnYWN0aW9uLWRhdGEnKSk7CiAgICAgICAgcmV0dXJuIGFjdGlvbl9kYXRhLnBpZCB8fCBhY3Rpb25fZGF0YS5waWNfaWQgfHwgbnVsbDsKICAgICAgfSBjYXRjaCAoZSkgeyByZXR1cm4gbnVsbDsgfQogICAgfTsKICAgIC8vIOa3u+WKoOafpeeci+WOn+WbvueahOmTvuaOpQogICAgdmFyIGFkZExpbmsgPSBmdW5jdGlvbiAocmVmKSB7CiAgICAgIHZhciB2b2wgPSB1dGlsLmRvbS5jcmVhdGUoJ3VsJywgdXRpbC5zdHIuZmlsbChodG1sLnZpZXdPcmlnaW5hbExpbmspKTsKICAgICAgdmFyIGxpbmsgPSB2b2wucXVlcnlTZWxlY3RvcignYScpOwogICAgICBmb3IgKDsgcmVmLnRhZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSAhPT0gJ2xpJzsgcmVmID0gcmVmLnBhcmVudE5vZGUpOwogICAgICB3aGlsZSAodm9sLmZpcnN0Q2hpbGQpIHJlZi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh2b2wuZmlyc3RDaGlsZCwgcmVmKTsKICAgICAgcmV0dXJuIGxpbms7CiAgICB9OwogICAgdmFyIHVwZGF0ZUxpbmtIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgR01fb3BlbkluVGFiKGUuY3VycmVudFRhcmdldC5ocmVmLCBmYWxzZSk7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIH07CiAgICB2YXIgdXBkYXRlTGluayA9IGZ1bmN0aW9uIChsaW5rLCBpbmZvLCByZWYpIHsKICAgICAgdmFyIGN1cnJlbnQgPSBpbmZvLmN1cnJlbnQgfHwgMCwgcGlkID0gZ2V0UGlkKHJlZik7CiAgICAgIGlmIChwaWQpIGluZm8uZmlsZW5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lLCBpKSB7IGlmIChmaWxlbmFtZS5pbmRleE9mKHBpZCkgPT09IDApIGN1cnJlbnQgPSBpOyB9KTsKICAgICAgaWYgKCFsaW5rKSBsaW5rID0gYWRkTGluayhyZWYpOwogICAgICB2YXIgZnVsbCA9IHsgJ2hvc3QnOiBpbmZvLmhvc3QsICdmaWxlbmFtZXMnOiBpbmZvLmZpbGVuYW1lcywgJ2N1cnJlbnQnOiBjdXJyZW50IH07CiAgICAgIGxpbmsuaHJlZiA9IGltYWdlVXJsKGZ1bGwpOyBsaW5rLnNldEF0dHJpYnV0ZSgneWF3Zi1pbWctdXJsJywgaW1hZ2VVcmwoZnVsbCwgdHJ1ZSkpOwogICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdXBkYXRlTGlua0hhbmRsZXIpOwogICAgICByZXR1cm4gbGluazsKICAgIH07CiAgICB2YXIgbWFya0xpbmsgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgdmFyIGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgICAgaWYgKGEpIGEuc2V0QXR0cmlidXRlKCd5YXdmLXZpZXdvcmknLCAneWF3Zi12aWV3b3JpJyk7CiAgICAgIHJldHVybiBhOwogICAgfTsKICAgIC8vIOWkhOeQhuW+ruWNmueahOmFjeWbvgogICAgdmFyIGFkZE9yaUxpbmtWaWV3SW1hZ2UgPSBmdW5jdGlvbiBhZGRPcmlMaW5rVmlld0ltYWdlKCkgewogICAgICB2YXIgYSA9IG1hcmtMaW5rKCcuV0JfZXhwYW5kX21lZGlhIFthY3Rpb24tdHlwZT0id2lkZ2V0X3Bob3RvdmlldyJdOm5vdChbeWF3Zi12aWV3b3JpXSknKTsgaWYgKCFhKSByZXR1cm47CiAgICAgIHZhciBsaW5rLCBpbmZvID0gZ2VuSW5mbyhnZXRJbWFnZXMoYSkpLCB1cGRhdGUgPSBmdW5jdGlvbiAoKSB7IGxpbmsgPSB1cGRhdGVMaW5rKGxpbmssIGluZm8sIGEpOyB9OwogICAgICBpZiAoaW5mby5maWxlbmFtZXMubGVuZ3RoID4gMSkgKG5ldyBNdXRhdGlvbk9ic2VydmVyKHVwZGF0ZSkpLm9ic2VydmUoYSwgeyAnYXR0cmlidXRlcyc6IHRydWUgfSk7CiAgICAgIHVwZGF0ZSgpOwogICAgfTsKICAgIC8vIOivhOiuuueahOWbvueJhwogICAgdmFyIGFkZE9yaUxpbmtWaWV3Q29tbWVudEltYWdlID0gZnVuY3Rpb24gYWRkT3JpTGlua1ZpZXdDb21tZW50SW1hZ2UoKSB7CiAgICAgIHZhciBhID0gbWFya0xpbmsoCiAgICAgICAgJ1tub2RlLXR5cGU9ImZlZWRfbGlzdF9jb21tZW50TGlzdCJdIFthY3Rpb24tdHlwZT0id2lkZ2V0X2NvbW1lbnRQaG90b1ZpZXciXTpub3QoW3lhd2Ytdmlld29yaV0pLCAnICsKICAgICAgICAnW25vZGUtdHlwZT0iY29tbWVudF9saXN0Il0gW2FjdGlvbi10eXBlPSJ3aWRnZXRfY29tbWVudFBob3RvVmlldyJdOm5vdChbeWF3Zi12aWV3b3JpXSknCiAgICAgICk7IGlmICghYSkgcmV0dXJuOwogICAgICB1cGRhdGVMaW5rKG51bGwsIGdlbkluZm8oZ2V0SW1hZ2VzKGEpKSwgYSk7CiAgICB9OwogICAgLy8g6L2s5Y+R55qE6K+E6K6655qE5Zu+54mHCiAgICB2YXIgYWRkT3JpTGlua1ZpZXdGb3J3YXJkQ29tbWVudEltYWdlID0gZnVuY3Rpb24gYWRkT3JpTGlua1ZpZXdGb3J3YXJkQ29tbWVudEltYWdlKCkgewogICAgICB2YXIgYSA9IG1hcmtMaW5rKFsKICAgICAgICAnLldCX2RldGFpbCAuV0JfdGV4dCBhW2FjdGlvbi10eXBlPSJ3aWRnZXRfcGhvdG92aWV3Il06bm90KFt5YXdmLXZpZXdvcmldKScsCiAgICAgICAgJy5XQl9kZXRhaWwgLldCX3RleHQgYVthY3Rpb24tdHlwZT0id2lkZ2V0X2NvbW1lbnRQaG90b1ZpZXciXTpub3QoW3lhd2Ytdmlld29yaV0pJwogICAgICBdLmpvaW4oJywnKSk7IGlmICghYSkgcmV0dXJuOwogICAgICB2YXIgcGlkID0gZ2V0UGlkKGEpLCBpbmZvID0geyAnaG9zdCc6ICd3dzIuc2luYWltZy5jbicsICdmaWxlbmFtZXMnOiBbcGlkXX07CiAgICAgIGEudGFyZ2V0ID0gJ19ibGFuayc7IHVwZGF0ZUxpbmsoYSwgaW5mbyk7CiAgICAgIGlmICghYS5oYXNBdHRyaWJ1dGUoJ2ltYWdlY2FyZCcpKSBhLnNldEF0dHJpYnV0ZSgnaW1hZ2VjYXJkJywgJ3BpZD0nICsgcGlkKTsKICAgICAgYS5zZXRBdHRyaWJ1dGUoJ3lhd2YtYWN0aW9uLXR5cGUnLCBhLmdldEF0dHJpYnV0ZSgnYWN0aW9uLXR5cGUnKSk7IGEucmVtb3ZlQXR0cmlidXRlKCdhY3Rpb24tdHlwZScpOwogICAgfTsKICAgIC8vIOeCueWHu+e8qeeVpeWbvuaXtgogICAgaWYgKHRoaXMucmVmLmRpcmVjdC5jb25mKSBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHV0aWwuZnVuYy5jYXRjaGVkKGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmICh1dGlsLnBhZ2Uuc2VhcmNoKSByZXR1cm47CiAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCkgcmV0dXJuOyAvLyDlj6rlk43lupTlt6bplK7mk43kvZwKICAgICAgaWYgKGUuc2hpZnRLZXkpIHJldHVybjsgLy8g5oyJ5LiLIFNoaWZ0IOaXtuS4jeWTjeW6lAogICAgICB2YXIgc2VsZWN0b3IgPSAnW2FjdGlvbi10eXBlPSJmZWVkX2xpc3RfbWVkaWFfaW1nIl0sIFthY3Rpb24tdHlwZT0iZmxfcGljcyJdJzsKICAgICAgdmFyIHRodW1ibmFpbCA9IHV0aWwuZG9tLnBhcmVudChlLnRhcmdldCwgc2VsZWN0b3IpOyBpZiAoIXRodW1ibmFpbCkgcmV0dXJuOwogICAgICB2YXIgaW1ncyA9IEFycmF5LmZyb20odXRpbC5kb20ucGFyZW50KHRodW1ibmFpbCwgJ3VsJykucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpOwogICAgICB2YXIgaW5mbyA9IHsKICAgICAgICAnaG9zdCc6ICd3dzIuc2luYWltZy5jbicsCiAgICAgICAgJ2ZpbGVuYW1lcyc6IGltZ3MubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBnZXRQaWQoaSk7IH0pLAogICAgICAgICdjdXJyZW50JzogaW1ncy5pbmRleE9mKHRodW1ibmFpbCksCiAgICAgIH07CiAgICAgIEdNX29wZW5JblRhYihpbWFnZVVybChpbmZvKSwgZmFsc2UpOwogICAgICBlLnByZXZlbnREZWZhdWx0KCk7IGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9KSwgdHJ1ZSk7CiAgICBvYnNlcnZlci5kb20uYWRkKGFkZE9yaUxpbmtWaWV3SW1hZ2UpOwogICAgb2JzZXJ2ZXIuZG9tLmFkZChhZGRPcmlMaW5rVmlld0NvbW1lbnRJbWFnZSk7CiAgICBvYnNlcnZlci5kb20uYWRkKGFkZE9yaUxpbmtWaWV3Rm9yd2FyZENvbW1lbnRJbWFnZSk7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy50b29sKTsKCi8vIOWwhua3u+WKoOagh+etvueahOWvueivneahhuaNouaIkOawlOeQgwpmaWx0ZXIuaXRlbXMudG9vbC53ZWlib3Rvb2wubm9fdGFnX2RpYWxvZyA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnd2VpYm90b29sJywKICAndmVyc2lvbic6IDM2MywKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wubm9UYWdEaWFsb2cnLAogICd0ZXh0JzogJ3t7bm9UYWdEaWFsb2d9fScsCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgdXRpbC5mdW5jLndyYXBzdGsoJ2xpYi5mZWVkLnBsdWdpbnMuZmF2b3JpdGUudGFnRGlhbG9nJywgZnVuY3Rpb24gKHJlZ0Z1bmMpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdGspIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIH07CiAgICAgIH07CiAgICB9KTsKICB9Cn0pLmFkZHRvKGZpbHRlci5ncm91cHMudG9vbCk7CgovLyDkvb/nlKggSFRNTDUg5pKt5pS+5Zmo5pKt5pS+56eS5ouN6KeG6aKRCmlmIChmdW5jdGlvbiBzdXBwb3J0TXA0VmlkZW8oKSB7CiAgICB2YXIgdiA9IHV0aWwuZG9tLmNyZWF0ZSgndmlkZW8nLCAnJyk7CiAgICByZXR1cm4gISEodi5jYW5QbGF5VHlwZSAmJiB2LmNhblBsYXlUeXBlKCd2aWRlby9tcDQnKS5yZXBsYWNlKC9uby8sICcnKSk7Cn0oKSkgZmlsdGVyLml0ZW1zLnRvb2wud2VpYm90b29sLmh0bWw1X3ZpZGVvID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICd3ZWlib3Rvb2wnLAogICd2ZXJzaW9uJzogMjYxLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdkZWZhdWx0JzogZmFsc2UsCiAgJ2tleSc6ICd3ZWliby50b29sLmh0bWw1VmlkZW8nLAogICd0ZXh0JzogJ3t7aHRtbDVWZGllb319JywKICAncmVmJzogewogICAgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3todG1sNVZkaWVvRGVzY319JyB9LAogIH0sCiAgJ3JlcGxhY2UnOiB7CiAgICAnMTAzNCc6IGZ1bmN0aW9uIChpZCwgZ290KSB7IG5ldHdvcmsudmlkZW8uZ2V0WycxMDM0J10oaWQsIGdvdCk7IHJldHVybiB0cnVlOyB9LAogICAgJzIwMTc2MDcnOiBmdW5jdGlvbiAoaWQsIGdvdCkgewogICAgICB2YXIgYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Fbc3VkYS11YXRyYWNrKj0iMjAxNzYwNy12aWRlbzoyMDE3NjA3JTNBJyArIGlkLnNwbGl0KCc6JylbMV0gKyAnIl0nKTsKICAgICAgaWYgKCFhKSByZXR1cm4gZmFsc2U7CiAgICAgIG5ldHdvcmsudmlkZW8uZ2V0WycyMDE3NjA3J10oYS5ocmVmLCBnb3QpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgfSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgLy8g6aaW5YWI5oiR5Lus5YWI5om+5Yiw5omA5pyJ5pyJ55So55qE6IqC54K5CiAgICAgIC8vIOehruWumuaYr+S4jeaYr+eCueWcqOS6huinhumikeS4iu+8jOinhumikeaYr+S7gOS5iOexu+WeiwogICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7CiAgICAgIGlmICghdXRpbC5kb20ubWF0Y2hlcyh0YXJnZXQsICcuV0JfdmlkZW8sIC5XQl92aWRlbyAqJykpIHJldHVybjsKICAgICAgdmFyIG1hdGNoZXMgPSBbCiAgICAgICAgJ1thY3Rpb24tdHlwZT0iZmVlZF9saXN0X3RoaXJkX3JlbmQiXScsCiAgICAgICAgJ1tub2RlLXR5cGU9ImZlZWRfbGlzdF9tZWRpYV9wcmV2Il0nCiAgICAgIF07CiAgICAgIHZhciByZXN1bHRzID0gW107CiAgICAgIHdoaWxlIChyZXN1bHRzLmxlbmd0aCAhPT0gbWF0Y2hlcy5sZW5ndGggJiYgdGFyZ2V0KSB7CiAgICAgICAgd2hpbGUgKHJlc3VsdHMubGVuZ3RoICE9PSBtYXRjaGVzLmxlbmd0aCAmJgogICAgICAgICAgdXRpbC5kb20ubWF0Y2hlcyh0YXJnZXQsIG1hdGNoZXNbcmVzdWx0cy5sZW5ndGhdKSkgcmVzdWx0cy5wdXNoKHRhcmdldCk7CiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CiAgICAgIH0KICAgICAgaWYgKCF0YXJnZXQpIHJldHVybjsKICAgICAgdXRpbC5kZWJ1ZygnY2xpY2sgbWF0Y2ggdmlkZW86ICVvJywgcmVzdWx0cyk7CiAgICAgIHZhciBidXR0b24gPSByZXN1bHRzWzBdLCBwcmV2ID0gcmVzdWx0c1sxXTsKICAgICAgdmFyIGRpc3AgPSBwcmV2LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignW25vZGUtdHlwZT0iZmVlZF9saXN0X21lZGlhX2Rpc3AiXScpOwoKICAgICAgLy8g54S25ZCO5oiR5Lus5qC55o2uIGlkIOWIpOaWreaYr+WTquenjeinhumike+8jOW5tuaMieenjeexu+WIhuW8gOWkhOeQhgogICAgICB2YXIgYXR0ciA9IHV0aWwuc3RyLnBhcnNlcXVlcnkoYnV0dG9uLmdldEF0dHJpYnV0ZSgnYWN0aW9uLWRhdGEnKSk7CiAgICAgIC8vIOi/meS4quWxnuaAp+acieaXtuWAmeaYryBvYmplY3RpZCDmnInml7blgJnmmK8gb2JqZWN0X2lkCiAgICAgIC8vIOWwseWDj+aIkeWktOS4gOasoeWQrOivtOafkOinhumikeermeiOt+WPluinhumikeWcsOWdgOaIkOWKn+aXtueahOeKtuaAgeS4gOS8muWEv+aYryBzdWNjIOS4gOS8muWEv+aYryBzdWVlIOS4gOagt+elnuWlhwogICAgICB2YXIgaWQgPSBhdHRyLm9iamVjdGlkIHx8IGF0dHIub2JqZWN0X2lkOwogICAgICB1dGlsLmRlYnVnKCdtZWRpYSBvYmplY3RpZDogJW8nLCBpZCk7CiAgICAgIHZhciBncm91cCA9IGlkLnNwbGl0KCc6JylbMF07CiAgICAgIGlmICghdGhhdC5yZXBsYWNlW2dyb3VwXSkgcmV0dXJuOwogICAgICB1dGlsLmRlYnVnKCdjbGlja2VkIG9uIGEgdmlkZW8sIHdpdGggaWQgPSAlbycsIGlkKTsKCiAgICAgIC8vIOabv+aNouaIkOWKn+S5i+WQjueUn+aIkOe9kemhtQogICAgICB2YXIgZ290VVJMID0gZnVuY3Rpb24gKHVybCkgewogICAgICAgIHZhciB2aWV3ID0gZGlzcC5xdWVyeVNlbGVjdG9yKCcuV0JfYXBwX3ZpZXcnKTsKICAgICAgICB2aWV3LmlubmVySFRNTCA9IHV0aWwuc3RyLmZpbGwoaHRtbC52aWRlb01lZGlhUGxheWVyLCB7ICd1cmwnOiB1cmwgfSk7CiAgICAgIH07CiAgICAgIGlmICghdGhhdC5yZXBsYWNlW2dyb3VwXShpZCwgZ290VVJMKSkgcmV0dXJuOwoKICAgICAgLy8g5aaC5p6c5Y+v5Lul5oiQ5Yqf5aSE55CG77yM56aB55So5Y6f5pys55qE5pu/5o2i77yM5bm25aSE55CG55WM6Z2iCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgZGlzcC5pbm5lckhUTUwgPSB1dGlsLnN0ci5maWxsKGh0bWwudmlkZW9NZWRpYURpc3BsYXkpOwogICAgICBwcmV2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIGRpc3Auc3R5bGUuZGlzcGxheSA9ICcnOwogICAgfSwgdHJ1ZSk7CiAgfQp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnRvb2wpOwoKLy8g55SoIFVSTCDmm7/mjaLlvq7ljZrlhoXnmoTnvZHpobXpk77mjqUKZmlsdGVyLml0ZW1zLnRvb2wud2VpYm90b29sLnJlcGxhY2VfbGluayA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnd2VpYm90b29sJywKICAndmVyc2lvbic6IDM1MCwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wucmVwbGFjZV9saW5rJywKICAndGV4dCc6ICd7e3JlcGxhY2VMaW5rQnlVcmx9fScsCiAgJ21hcmsnOiBmdW5jdGlvbiBtYXJrTGlua1R5cGUoKSB7CiAgICAvLyDmoIforrDmr4/kuKrpk77mjqXpg73mmK/ku4DkuYjnsbvlnovnmoTvvIzmlrnkvr/ov4fmu6TlkozlpITnkIYKICAgIHZhciBpY29uID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuV0JfZmVlZF90eXBlIGE6bm90KFt5YXdmLWxpbmstdHlwZV0pID4gLldfZmljb246Zmlyc3QtY2hpbGQnKSk7CiAgICBpY29uLmZvckVhY2goZnVuY3Rpb24gKGkpIHsgaS5wYXJlbnROb2RlLnNldEF0dHJpYnV0ZSgneWF3Zi1saW5rLXR5cGUnLCBpLnRleHRDb250ZW50LnRyaW0oKSk7IH0pOwogIH0sCiAgJ2luaXQnOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5jb25mKSByZXR1cm47CiAgICB0aGlzLm1hcmsoKTsKICAgIG9ic2VydmVyLmRvbS5hZGQodGhpcy5tYXJrKTsKICB9LAogICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHZhciBleHBhbmRMaW5rID0gZnVuY3Rpb24gZXhwYW5kV2VpYm9MaW5rKCkgewogICAgICB0aGF0Lm1hcmsoKTsKICAgICAgdmFyIGxpbmtzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuV0JfZmVlZF90eXBlIGFbeWF3Zi1saW5rLXR5cGU9Ik8iXVt0aXRsZT0i572R6aG16ZO+5o6lIl06bm90KFt5YXdmLWxpbmstZXhwYW5kXSknKSk7CiAgICAgIGxpbmtzLmZvckVhY2goZnVuY3Rpb24gKGxpbmspIHsKICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgneWF3Zi1saW5rLWV4cGFuZCcsICcnKTsKICAgICAgICB2YXIgdXJsID0gbGluay5ocmVmOwogICAgICAgIGxpbmsudGV4dENvbnRlbnQgPSB1cmw7CiAgICAgICAgbGluay5jbGFzc05hbWUgPSAneWF3Zi1saW5rJzsKICAgICAgfSk7CiAgICB9OwogICAgZXhwYW5kTGluaygpOwogICAgb2JzZXJ2ZXIuZG9tLmFkZChleHBhbmRMaW5rKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnRvb2wpOwoKLy8g5L2/55So5paH5pys5pu/5o2i5Zu+54mH6KGo5oOFCmZpbHRlci5pdGVtcy50b29sLndlaWJvdG9vbC5yZXBsYWNlX2ltYWdlX2Vtb2ppID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICd3ZWlib3Rvb2wnLAogICd2ZXJzaW9uJzogMjgyLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8udG9vbC5yZXBsYWNlX2ltYWdlX2Vtb2ppJywKICAndGV4dCc6ICd7e3JlcGxhY2VJbWFnZUVtb2ppfX0nLAogICdyZWYnOiB7ICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7cmVwbGFjZUltYWdlRW1vamlEZXNjfX0nIH0gfSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcmVwbGFjZUltYWdlRW1vamkgPSBmdW5jdGlvbiByZXBsYWNlSW1hZ2VFbW9qaSgpIHsKICAgICAgdmFyIGVtb2ppID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbc3JjXj0iaHR0cDovL2ltZy50LnNpbmFqcy5jbi90NC9hcHBzdHlsZS9leHByZXNzaW9uL2VtaW1hZ2UvZSJdJykpOwogICAgICBlbW9qaS5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgdmFyIGNvZGUgPSBub2RlLmdldEF0dHJpYnV0ZSgnc3JjJykubWF0Y2goLyhlLi4uLi4pXC5wbmcvKVsxXTsKICAgICAgICB2YXIgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHV0aWwuc3RyLmVtb2ppKGNvZGUpKTsKICAgICAgICBub2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRleHQsIG5vZGUpOwogICAgICAgIGlmICh0ZXh0LnBhcmVudE5vZGUubm9ybWFsaXplKSB0ZXh0LnBhcmVudE5vZGUubm9ybWFsaXplKCk7CiAgICAgIH0pOwogICAgfTsKICAgIHJlcGxhY2VJbWFnZUVtb2ppKCk7CiAgICBvYnNlcnZlci5kb20uYWRkKHJlcGxhY2VJbWFnZUVtb2ppKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnRvb2wpOwoKLy8g6Ieq5a6a5LmJ5p2l5b6u5rqQ5Y2aCmZpbHRlci5pdGVtcy50b29sLndlaWJvdG9vbC5yZXBsYWNlX2xpbmsgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3dlaWJvdG9vbCcsCiAgJ3ZlcnNpb24nOiAxMDQsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci5jdXN0b21pemVfc291cmNlJywKICAndGV4dCc6ICd7e2N1c3RvbWl6ZVNvdXJjZVdlaWJvfX0nLAogICdyZWYnOiB7CiAgICAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e2N1c3RvbWl6ZVNvdXJjZVdlaWJvRGVzY319JyB9LAogIH0sCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgLy8g5om+5Yiw5omA5pyJ6Ieq5a6a5LmJ55qE5b6u5Y2a5p2l5rqQCiAgICB2YXIgY3VzdG9taXplZCA9IGZ1bmN0aW9uIGN1c3RvbWl6ZVNvdXJjZVdlaWJvKCkgewogICAgICB2YXIgZnJvbSA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLldCX2Zyb206bm90KFt5YXdmLWNzb3VyY2VdKScpKSwgaXRlbXMgPSBbXTsKICAgICAgZnJvbS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgZi5zZXRBdHRyaWJ1dGUoJ3lhd2YtY3NvdXJjZScsICd5YXdmLWNzb3VyY2UnKTsKICAgICAgICBpZiAodXRpbC5kb20ubWF0Y2hlcyhmLCAnLmxpc3RfbGlbbWlkXSAqJykpIHJldHVybjsKICAgICAgICBpZiAoZi50ZXh0Q29udGVudC5pbmRleE9mKHRleHQuc291cmNlVW5rb3duKSAhPT0gLTEpIHJldHVybjsKICAgICAgICAvLyDoh6rlrprkuYnlvq7ljZrmnaXmupDlj6/ku6XkuI3mmL7npLrmnaXmupAKICAgICAgICBpZiAoZi5xdWVyeVNlbGVjdG9yKCdbbm9kZS10eXBlPSJmZWVkX2xpc3RfaXRlbV9kYXRlIl06b25seS1jaGlsZCcpKQogICAgICAgICAgcmV0dXJuIGl0ZW1zLnB1c2goZi5hcHBlbmRDaGlsZCh1dGlsLmRvbS5jcmVhdGUoJ2RpdicsICcnKSkpOwogICAgICAgIC8vIOS5n+WPr+S7peaYvuekuuiHquWumuS5ieeahOadpea6kAogICAgICAgIHZhciBpdGVtID0gZi5xdWVyeVNlbGVjdG9yKCdhW2hyZWYqPSJ2aXAud2VpYm8uY29tIl0nKTsKICAgICAgICBpZiAoaXRlbSkgaXRlbXMucHVzaChpdGVtKTsKICAgICAgfSk7CiAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGYpIHsKICAgICAgICB2YXIgd2IgPSB1dGlsLmRvbS5jcmVhdGUodXRpbC5zdHIuZmlsbChodG1sLndlaWJvVmlhV2VpYm9Db20pKTsKICAgICAgICBmLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHdiLCBmKTsKICAgICAgfSk7CiAgICB9OwogICAgb2JzZXJ2ZXIuZG9tLmFkZChjdXN0b21pemVkKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnRvb2wpOwoKLy8g5oqY5Y+g5LqM57qn6K+E6K6677yI5qW85Lit5qW877yJCmZpbHRlci5pdGVtcy50b29sLndlaWJvdG9vbC5mb2xkX2NoaWxkX2NvbW1lbnQgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3dlaWJvdG9vbCcsCiAgJ3ZlcnNpb24nOiA0MjMsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby5vdGhlci5mb2xkX2NoaWxkX2NvbW1lbnQnLAogICd0ZXh0JzogJ3t7Zm9sZENoaWxkQ29tbWVudH19JywKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZm9sZENoaWxkQ29tbWVudCA9IGZ1bmN0aW9uIGZvbGRDaGlsZENvbW1lbnQoKSB7CiAgICAgIHZhciByb290Q29tbWVudCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxpc3RfbGlbbm9kZS10eXBlPSJyb290X2NvbW1lbnQiXTpub3QoW3lhd2YtZm9sZGVkLXJvb3QtY29tbWVudF0pJykpOwogICAgICByb290Q29tbWVudC5mb3JFYWNoKGZ1bmN0aW9uIChyb290Q29tbWVudCkgewogICAgICAgIHJvb3RDb21tZW50LnNldEF0dHJpYnV0ZSgneWF3Zi1mb2xkZWQtcm9vdC1jb21tZW50JywgJ3lhd2YtZm9sZGVkLXJvb3QtY29tbWVudCcpOwoKICAgICAgICB2YXIgZmVlZCA9IHV0aWwuZG9tLnBhcmVudChyb290Q29tbWVudCwgJy5XQl9mZWVkX3R5cGVbbWlkXScpOwogICAgICAgIHZhciByZXBseSA9IHJvb3RDb21tZW50LnF1ZXJ5U2VsZWN0b3IoJ2FbYWN0aW9uLXR5cGU9InJlcGx5Il0nKTsKICAgICAgICB2YXIgY2hpbGRDb21tZW50TGlzdCA9IEFycmF5LmZyb20ocm9vdENvbW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxpc3RfdWxbbm9kZS10eXBlPSJjaGlsZF9jb21tZW50Il0nKSk7CgogICAgICAgIHZhciBjb21tZW50SWQgPSByb290Q29tbWVudC5nZXRBdHRyaWJ1dGUoJ2NvbW1lbnRfaWQnKTsKICAgICAgICB2YXIgbWlkID0gZmVlZC5nZXRBdHRyaWJ1dGUoJ21pZCcpOwogICAgICAgIHZhciBjaGlsZENvdW50ID0gMDsKCiAgICAgICAgaWYgKCFjaGlsZENvdW50KSBkbyB7CiAgICAgICAgICB2YXIgbW9yZUNoaWxkTGlua3MgPSByb290Q29tbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbm9kZS10eXBlPSJtb3JlX2NoaWxkX2NvbW1lbnQiXSBhJyk7CiAgICAgICAgICB2YXIgbW9yZUNoaWxkID0gbW9yZUNoaWxkTGlua3NbbW9yZUNoaWxkTGlua3MubGVuZ3RoIC0gMV07CiAgICAgICAgICBpZiAoIW1vcmVDaGlsZCkgYnJlYWs7CiAgICAgICAgICB2YXIgbW9yZUNoaWxkTnVtYmVyID0gbW9yZUNoaWxkLnRleHRDb250ZW50Lm1hdGNoKC9cZCsvKTsKICAgICAgICAgIGlmICghbW9yZUNoaWxkTnVtYmVyIHx8ICFtb3JlQ2hpbGROdW1iZXJbMF0pIGJyZWFrOwogICAgICAgICAgY2hpbGRDb3VudCA9IHBhcnNlSW50KG1vcmVDaGlsZE51bWJlclswXSwgMTApIHx8IDA7CiAgICAgICAgfSB3aGlsZSAoZmFsc2UpOwoKICAgICAgICBpZiAoIWNoaWxkQ291bnQpIGRvIHsKICAgICAgICAgIHZhciBjaGlsZENvbW1lbnRJdGVtcyA9IHJvb3RDb21tZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5saXN0X3VsIC5saXN0X2xpW2NvbW1lbnRfaWRdJykKICAgICAgICAgIGNoaWxkQ291bnQgPSBjaGlsZENvbW1lbnRJdGVtcy5sZW5ndGggfHwgMDsKICAgICAgICB9IHdoaWxlIChmYWxzZSk7CgogICAgICAgIGlmICghY2hpbGRDb3VudCkgcmV0dXJuOwoKICAgICAgICB2YXIgdW5mb2xkID0gdXRpbC5kb20uY3JlYXRlKHV0aWwuc3RyLmZpbGwoaHRtbC51bmZvbGRDaGlsZENvbW1lbnQsCiAgICAgICAgICB7ICdtaWQnOiBtaWQsICdjb21tZW50X2lkJzogY29tbWVudElkLCAnY2hpbGRfY291bnQnOiBjaGlsZENvdW50IH0pKTsKICAgICAgICByZXBseS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh1bmZvbGQsIHJlcGx5Lm5leHRTaWJsaW5nKTsKCiAgICAgICAgY2hpbGRDb21tZW50TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZENvbW1lbnQpIHsKICAgICAgICAgIGNoaWxkQ29tbWVudC5wYXJlbnROb2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgfSk7CiAgICAgICAgdW5mb2xkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgY2hpbGRDb21tZW50TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZENvbW1lbnQpIHsKICAgICAgICAgICAgY2hpbGRDb21tZW50LnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9OwogICAgb2JzZXJ2ZXIuZG9tLmFkZChmb2xkQ2hpbGRDb21tZW50KTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnRvb2wpOwoKLy8g6Ieq5Yqo5LuO54Ot6Zeo6K+E6K665YiH5o2i5Yiw5YWo6YOo6K+E6K66CmZpbHRlci5pdGVtcy50b29sLndlaWJvdG9vbC5jb21tZW50X3Nob3dfYWxsID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICd3ZWlib3Rvb2wnLAogICd2ZXJzaW9uJzogNDI1LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8ub3RoZXIuY29tbWVudF9zaG93X2FsbCcsCiAgJ3RleHQnOiAne3tjb21tZW50U2hvd0FsbH19JywKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc3dpdGNoVG9BbGxDb21tZW50ID0gZnVuY3Rpb24gc3dpdGNoVG9BbGxDb21tZW50KCkgewogICAgICB2YXIgYWxsQnV0dG9ucyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVthY3Rpb24tdHlwZT0iZmVlZF9saXN0X2NvbW1lbnRTZWFyY2giXVthY3Rpb24tZGF0YSo9ImZpbHRlcj1hbGwiXTpub3QoW3lhd2YtYWxsLWNvbW1lbnRdKScpKTsKICAgICAgYWxsQnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChidXR0b24pIHsKICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCd5YXdmLWFsbC1jb21tZW50JywgJ3lhd2YtYWxsLWNvbW1lbnQnKTsKICAgICAgICBpZiAoIWJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2N1cnInKSkgYnV0dG9uLmNsaWNrKCk7CiAgICAgIH0pOwogICAgfTsKICAgIG9ic2VydmVyLmRvbS5hZGQoc3dpdGNoVG9BbGxDb21tZW50KTsKICB9Cn0pLmFkZHRvKGZpbHRlci5ncm91cHMudG9vbCk7CgovLyDlhbPms6jnm7jlhbPlt6XlhbcKZmlsdGVyLnByZWRlZi5zdWJ0aXRsZSgndG9vbCcsICdmb2xsb3dpbmd0b29sJywgJ3t7Zm9sbG93aW5nVG9vbHNUaXRsZX19Jyk7CgovLyDoh6rliqjmo4Dmn6XlhbPms6jkuoblk6rkupvkuroKZmlsdGVyLml0ZW1zLnRvb2wuZm9sbG93aW5ndG9vbC5hdXRvX2NoZWNrX2ZvbGxvd2luZyA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnZm9sbG93aW5ndG9vbCcsCiAgJ3ZlcnNpb24nOiAzOTYsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLmF1dG9fY2hlY2tfZm9sbG93aW5nJywKICAndGV4dCc6ICd7e2F1dG9DaGVja0ZvbGxvd2luZ319JywKICAncmVmJzogewogICAgJ2ZyZXF1ZW5jeSc6IHsKICAgICAgJ3R5cGUnOiAnc2VsZWN0JywKICAgICAgJ2RlZmF1bHQnOiAnMycsCiAgICAgICdzZWxlY3QnOiBbCiAgICAgICAgeyAndGV4dCc6ICd7e2F1dG9DaGVja0ZvbGxvd2luZzF9fScsICd2YWx1ZSc6ICcxJyB9LAogICAgICAgIHsgJ3RleHQnOiAne3thdXRvQ2hlY2tGb2xsb3dpbmczfX0nLCAndmFsdWUnOiAnMycgfSwKICAgICAgICB7ICd0ZXh0JzogJ3t7YXV0b0NoZWNrRm9sbG93aW5nN319JywgJ3ZhbHVlJzogJzcnIH0sCiAgICAgIF0sCiAgICB9LAogICAgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3thdXRvQ2hlY2tGb2xsb3dpbmdEZXNjfX0nIH0sCiAgfSwKICAnZ2V0X2xhc3QnOiBmdW5jdGlvbiAoKSB7CiAgICB0cnkgeyByZXR1cm4gSlNPTi5wYXJzZShHTV9nZXRWYWx1ZSgnZm9sbG93aW5nX2luZm9fJyArIHV0aWwuaW5mby51aWQsICd7fScpKTsgfQogICAgY2F0Y2ggKGUxKSB7IHJldHVybiB7fTsgfQogIH0sCiAgJ2dldF9ub3RpY2UnOiBmdW5jdGlvbiAoKSB7CiAgICB0cnkgeyByZXR1cm4gSlNPTi5wYXJzZShHTV9nZXRWYWx1ZSgnZm9sbG93aW5nX25vdGljZV8nICsgdXRpbC5pbmZvLnVpZCwgJ3t9JykpOyB9CiAgICBjYXRjaCAoZTEpIHsgcmV0dXJuIHt9OyB9CiAgfSwKICAnY3VycmVudCc6IHsgJ2ZldGNoaW5nJzogZmFsc2UgfSwKICAndXBkYXRlaW5mbyc6IHV0aWwuZnVuYy5ub29wLAogICdjaGVja25vdyc6IGZ1bmN0aW9uICh1c2VyQWN0aXZlKSB7CiAgICB1dGlsLmRlYnVnKCdzdGFydCBjaGVja2luZyBmb2xsb3dpbmcgbGlzdCcpOwogICAgdmFyIHRoYXQgPSB0aGlzLCB1aWQgPSB1dGlsLmluZm8udWlkOwogICAgdGhpcy5jdXJyZW50LmZldGNoaW5nID0gdHJ1ZTsgdGhpcy51cGRhdGVpbmZvKCk7CiAgICAvLyDojrflj5blhbPms6jliJfooagKICAgIG5ldHdvcmsuZm9sbG93aW5nKGZ1bmN0aW9uICh1c2VycykgewogICAgICB0aGF0LmN1cnJlbnQuZmV0Y2hpbmcgPSBmYWxzZTsKICAgICAgdmFyIGxhc3QgPSB0aGF0LmdldF9sYXN0KCk7CiAgICAgIHV0aWwuZGVidWcoJ2dvdCBmb2xsb3dpbmcgbGlzdDogJW8nLCB1c2Vycyk7CiAgICAgIEdNX3NldFZhbHVlKCdmb2xsb3dpbmdfaW5mb18nICsgdWlkLCBKU09OLnN0cmluZ2lmeSh7ICd0aW1lc3RhbXAnOiBEYXRlLm5vdygpLCAnZm9sbG93aW5nJzogdXNlcnMgfSkpOwogICAgICB2YXIgbm90aWNlID0gdGhhdC5jb21wYXJlKGxhc3QuZm9sbG93aW5nLCB1c2VycywgdGhhdC5nZXRfbm90aWNlKCkpOwogICAgICBHTV9zZXRWYWx1ZSgnZm9sbG93aW5nX25vdGljZV8nICsgdWlkLCBKU09OLnN0cmluZ2lmeShub3RpY2UpKTsKICAgICAgdGhhdC51cGRhdGVpbmZvKCk7CiAgICAgIC8vIOS7heW9k+aYr+eUqOaIt+inpuWPkeeahOajgOafpeaXtuWxleekuuajgOafpee7k+aenO+8jOiHquWKqOajgOafpeeahOWwhuWcqOS4i+asoeWIt+aWsOmhtemdouaXtuWxleekuuS7peWFjeaJk+aJsOeUqOaItwogICAgICBpZiAodXNlckFjdGl2ZSkgdGhhdC5ub3RpY2UoKTsKICAgIH0pOwogIH0sCiAgJ25vdGljZSc6IGZ1bmN0aW9uICgpIHsKICAgIGlmIChzZWxmICE9PSB0b3ApIHJldHVybjsKICAgIHZhciB0aGF0ID0gdGhpcywgbm90aWNlID0gdGhpcy5nZXRfbm90aWNlKCk7CiAgICBpZiAoIW5vdGljZS5hZGQgfHwgIW5vdGljZS5sb3N0IHx8ICEobm90aWNlLmFkZC5sZW5ndGggKyBub3RpY2UubG9zdC5sZW5ndGgpKSByZXR1cm47CiAgICB1dGlsLmRlYnVnKCdmb2xsb3dpbmcgbGlzdCBoYXZlIGJlZW4gY2hhbmdlZDogJW8nLCBub3RpY2UpOwogICAgLy8g5bGV56S65LiA5Liq5a+56K+d5qGG77yM5o+Q6YaS55So5oi35YWz5rOo5YiX6KGo5Y+R55Sf5LqG5Y+Y5YyWCiAgICB2YXIgZGlhbG9nID0gdXRpbC51aS5kaWFsb2coJ3lhd2YtZm9sbG93aW5nLW5vdGljZScsICd7e2F1dG9DaGVja0ZvbGxvd2luZ0RpYWxvZ1RpdGxlfX0nLCBmdW5jdGlvbiAoaW5uZXIpIHsKICAgICAgdmFyIGNvbnRlbnQgPSB1dGlsLmRvbS5jcmVhdGUodXRpbC5zdHIuZmlsbChodG1sLmF1dG9DaGVja0ZvbGxvd2luZ0JvZHkpKTsKICAgICAgWydhZGQnLCAnbG9zdCddLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICBpZiAoIShub3RpY2VbdHlwZV0gfHwgW10pLmxlbmd0aCkgcmV0dXJuOwogICAgICAgIHZhciBjb250YWluZXIgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy55YXdmLWZvbGxvd2luZy0nICsgdHlwZSk7CiAgICAgICAgdmFyIHVsID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3VsJyk7CiAgICAgICAgaWYgKG5vdGljZVt0eXBlXSAmJiBub3RpY2VbdHlwZV0ubGVuZ3RoKSB7CiAgICAgICAgICBub3RpY2VbdHlwZV0uZm9yRWFjaChmdW5jdGlvbiAodSkgewogICAgICAgICAgICB1bC5hcHBlbmRDaGlsZCh1dGlsLmRvbS5jcmVhdGUodS5pZFswXSAhPT0gJyMnID8gLy8g5ZCR5YmN5YW85a6555qE5aSE55CG5pa55byP77yM5bCG5p2l6KaB5o2i5oiQ5L2/55SoZGVzY3JpcHRpb24KICAgICAgICAgICAgICB1dGlsLnN0ci5maWxsKGh0bWwuYXV0b0NoZWNrRm9sbG93aW5nSXRlbSwgdSkgOgogICAgICAgICAgICAgIHV0aWwuc3RyLmZpbGwoaHRtbC5hdXRvQ2hlY2tGb2xsb3dpbmdPdGhlckl0ZW0sIHUpCiAgICAgICAgICAgICkpOwogICAgICAgICAgfSk7CiAgICAgICAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICcnOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciBjb25maXJtID0gY29udGVudC5xdWVyeVNlbGVjdG9yKCcueWF3Zi1mb2xsb3dpbmctbm90aWNlLWNvbmZpcm0nKTsKICAgICAgY29uZmlybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKCdpc1RydXN0ZWQnIGluIGUgJiYgIWUuaXNUcnVzdGVkKSByZXR1cm47IC8vIOi/meS4quehruiupOaTjeS9nOS4jeW6lOW9k+iiq+WFtuS7luiEmuacrOinpuWPkQogICAgICAgIHZhciBjdXJyZW50ID0gdGhhdC5nZXRfbm90aWNlKCk7CiAgICAgICAgWydhZGQnLCAnbG9zdCddLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICAgIGN1cnJlbnRbdHlwZV0gPSBjdXJyZW50W3R5cGVdLmZpbHRlcihmdW5jdGlvbiAodSkgewogICAgICAgICAgICByZXR1cm4gbm90aWNlW3R5cGVdLmV2ZXJ5KGZ1bmN0aW9uICh2KSB7IHJldHVybiB2LmlkICE9PSB1LmlkOyB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIEdNX3NldFZhbHVlKCdmb2xsb3dpbmdfbm90aWNlXycgKyB1dGlsLmluZm8udWlkLCBKU09OLnN0cmluZ2lmeShjdXJyZW50KSk7CiAgICAgICAgZGlhbG9nLmhpZGUoKTsKICAgICAgfSk7CiAgICAgIGlubmVyLmFwcGVuZENoaWxkKGNvbnRlbnQpOwogICAgfSk7CiAgICBkaWFsb2cuc2hvdygpOwogIH0sCiAgJ2NsZWFudXAnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdWlkID0gdXRpbC5pbmZvLnVpZDsKICAgIEdNX2RlbGV0ZVZhbHVlKCdmb2xsb3dpbmdfbm90aWNlXycgKyB1aWQpOwogICAgR01fZGVsZXRlVmFsdWUoJ2ZvbGxvd2luZ19pbmZvXycgKyB1aWQpOwogICAgdGhpcy51cGRhdGVpbmZvKCk7CiAgfSwKICAnY29tcGFyZSc6IGZ1bmN0aW9uIChvcmksIG5vdywgbm90aWNlKSB7CiAgICBpZiAoIW9yaSB8fCAhbm93KSByZXR1cm4ge307CiAgICB2YXIgYWRkID0gW10sIGxvc3QgPSBbXTsKICAgIHZhciBvcmlfbSA9IHt9LCBub3dfbSA9IHt9OwogICAgdmFyIGF0dHIgPSAnaWQnOwogICAgb3JpLmZvckVhY2goZnVuY3Rpb24gKHUpIHsgb3JpX21bdVthdHRyXV0gPSB1OyB9KTsKICAgIHRyeSB7CiAgICAgICgobm90aWNlIHx8IHt9KS5hZGQgfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKHUpIHsgZGVsZXRlIG9yaV9tW3VbYXR0cl1dOyB9KTsKICAgICAgKChub3RpY2UgfHwge30pLmxvc3QgfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKHUpIHsgb3JpX21bdVthdHRyXV0gPSB1OyB9KTsKICAgIH0gY2F0Y2ggKGUpIHsgfQogICAgbm93LmZvckVhY2goZnVuY3Rpb24gKHUpIHsgbm93X21bdVthdHRyXV0gPSB1OyB9KTsKICAgIE9iamVjdC5rZXlzKG9yaV9tKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkgeyB2YXIgdSA9IG9yaV9tW2lkXTsgaWYgKCEodVthdHRyXSBpbiBub3dfbSkpIGxvc3QucHVzaCh1KTsgfSk7CiAgICBPYmplY3Qua2V5cyhub3dfbSkuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsgdmFyIHUgPSBub3dfbVtpZF07IGlmICghKHVbYXR0cl0gaW4gb3JpX20pKSBhZGQucHVzaCh1KTsgfSk7CiAgICByZXR1cm4geyAnYWRkJzogYWRkLCAnbG9zdCc6IGxvc3QgfTsKICB9LAogICdpbml0JzogZnVuY3Rpb24gKCkgewogICAgLy8g5oC75piv5qOA5p+l5piv5ZCm5pyJ5raI5oGv6ZyA6KaB5o+Q56S677yM5Y2z5L6/5rKh5pyJ5byA5ZCv4oCc6Ieq5Yqo5qOA5p+l4oCd55qE5Yqf6IO9CiAgICB2YXIgbGFzdCA9IHRoaXMuZ2V0X2xhc3QoKSwgZGF5cyA9IE51bWJlcih0aGlzLnJlZi5mcmVxdWVuY3kuY29uZikgfHwgMzsKICAgIHRoaXMubm90aWNlKCk7CiAgICBpZiAoIXRoaXMuY29uZikgcmV0dXJuOwogICAgaWYgKCFsYXN0LnRpbWVzdGFtcCB8fAogICAgICBsYXN0LnRpbWVzdGFtcCA8IERhdGUubm93KCkgLSBkYXlzICogODY0ZTUgfHwKICAgICAgbGFzdC50aW1lc3RhbXAgPiBEYXRlLm5vdygpICsgNjBlMykKICAgICAgc2V0VGltZW91dCh0aGlzLmNoZWNrbm93LmJpbmQodGhpcywgZmFsc2UpLCAxNWUzKTsKICB9LAogICdzaG93bic6IGZ1bmN0aW9uIChkb20pIHsKICAgIHZhciBsYXN0ID0gdGhpcy5nZXRfbGFzdCgpOwogICAgdmFyIGZvcm1hdFRpbWUgPSBmdW5jdGlvbiAodGltZXN0YW1wKSB7CiAgICAgIHZhciBvcHRpb24gPSB7IHllYXI6ICdudW1lcmljJywgbW9udGg6ICdsb25nJywgZGF5OiAnbnVtZXJpYycsIGhvdXI6ICdudW1lcmljJywgbWludXRlOiAnbnVtZXJpYycsIHNlY29uZDogJ251bWVyaWMnIH07CiAgICAgIGlmICghdGltZXN0YW1wKSByZXR1cm4gdXRpbC5zdHIuZmlsbCgne3thdXRvQ2hlY2tGb2xsb3dpbmdOZXZlcn19Jyk7OwogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7CiAgICAgIHRyeSB7IHJldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCh1dGlsLmluZm8ubGFuZywgb3B0aW9uKS5mb3JtYXQoZGF0ZSk7IH0KICAgICAgY2F0Y2ggKGUxKSB7CiAgICAgICAgdHJ5IHsgcmV0dXJuIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCd6aC1DTicsIG9wdGlvbikuZm9ybWF0KGRhdGUpOyB9CiAgICAgICAgY2F0Y2ggKGUyKSB7IHJldHVybiAnJyArIHRpbWVzdGFtcDsgfQogICAgICB9CiAgICB9OwogICAgZG9tLmFwcGVuZENoaWxkKHV0aWwuZG9tLmNyZWF0ZSh1dGlsLnN0ci5maWxsKGh0bWwuYXV0b0NoZWNrRm9sbG93aW5nQ29uZmlnKSkpOwogICAgZG9tLnF1ZXJ5U2VsZWN0b3IoJy55YXdmLWZvbGxvd2luZy1jaGVjay1ub3cnKQogICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNoZWNrbm93LmJpbmQodGhpcywgdHJ1ZSkpOwogICAgZG9tLnF1ZXJ5U2VsZWN0b3IoJy55YXdmLWZvbGxvd2luZy1jbGVhcicpCiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xlYW51cC5iaW5kKHRoaXMsIHRydWUpKTsKICAgIHRoaXMudXBkYXRlaW5mbyA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGxhc3QgPSB0aGlzLmdldF9sYXN0KCk7CiAgICAgIHZhciBmZXRjaGluZyA9IHRoaXMuY3VycmVudC5mZXRjaGluZzsKICAgICAgdmFyIHN0YXR1cyA9IGZldGNoaW5nID8gMiA6IChsYXN0LnRpbWVzdGFtcCA+IERhdGUubm93KCkgLSAxODAwZTMgPyAzIDogMSk7CiAgICAgIGRvbS5xdWVyeVNlbGVjdG9yKCcueWF3Zi1mb2xsb3dpbmctY2hlY2stbm93Jykuc3R5bGUuZGlzcGxheSA9IHN0YXR1cyA9PT0gMSA/ICcnIDogJ25vbmUnOwogICAgICBkb20ucXVlcnlTZWxlY3RvcignLnlhd2YtZm9sbG93aW5nLWNoZWNraW5nJykuc3R5bGUuZGlzcGxheSA9IHN0YXR1cyA9PT0gMiA/ICcnIDogJ25vbmUnOwogICAgICBkb20ucXVlcnlTZWxlY3RvcignLnlhd2YtZm9sbG93aW5nLWxhc3QnKS50ZXh0Q29udGVudCA9IGZvcm1hdFRpbWUobGFzdC50aW1lc3RhbXApOwogICAgICBkb20ucXVlcnlTZWxlY3RvcignLnlhd2YtZm9sbG93aW5nLWNsZWFyJykuc3R5bGUuZGlzcGxheSA9IE51bWJlcihsYXN0LnRpbWVzdGFtcCkgPyAnJyA6ICdub25lJzsKICAgIH07CiAgICB0aGlzLnVwZGF0ZWluZm8oKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnRvb2wpOwoKLy8g6Ieq5Yqo5bGV5byA5aS05p2h5paH56ug5Lul5YWN5YWz5rOo5L2c6ICFCmZpbHRlci5pdGVtcy50b29sLmZvbGxvd2luZ3Rvb2wuYXV0b191bmZvbGRfdHRhcnRpY2FsID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdmb2xsb3dpbmd0b29sJywKICAndmVyc2lvbic6IDM5NSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wuYXV0b191bmZvbGRfdHRhcnRpY2FsJywKICAndGV4dCc6ICd7e3VuZm9sZFRUQXJ0aWNhbH19JywKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuY210KGZ1bmN0aW9uICgpIHsgLyohQ1NTCiAgICAgIC5XQl9lZGl0b3JfaWZyYW1lIHsgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7IH0KICAgICAgLmFydGljYWxfYWRkX2JveCBbbm9kZS10eXBlPSJtYXNrQ29udGVudCJdIHsgZGlzcGxheTogbm9uZTsgfQogICAgKi8gbm9vcCgpOyB9KSkKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnRvb2wpOwoKLy8g5Y+W5raI5Yu+6YCJ6K+d6aKY6aG16Z2i5Y+R5biD5qGG4oCc6Ieq5Yqo5YWz5rOo6K+d6aKY5Li75oyB5Lq64oCdCmZpbHRlci5pdGVtcy50b29sLmZvbGxvd2luZ3Rvb2wudW5jaGVja19mb2xsb3dfcHJlc2VudGVyID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdmb2xsb3dpbmd0b29sJywKICAndmVyc2lvbic6IDE1NSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wudW5jaGVja19mb2xsb3dfcHJlc2VudGVyJywKICAndGV4dCc6ICd7e3VuY2hlY2tGb2xsb3dQcmVzZW50ZXJ9fScsCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgdmFyIHVuY2hlY2tGb2xsb3dQcmVzZW50ZXIgPSBmdW5jdGlvbiB1bmNoZWNrRm9sbG93UHJlc2VudGVyKCkgewogICAgICB2YXIgY2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtub2RlLXR5cGU9ImZvbGxvd3ByZXNlbnRlciJdOm5vdChbeWF3Zi11bmNoZWNrXSknKTsKICAgICAgaWYgKCFjaGVja2JveCkgcmV0dXJuOwogICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoJ3lhd2YtdW5jaGVjaycsICcnKTsKICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIGNoZWNrYm94LmNsaWNrKCk7CiAgICB9OwogICAgb2JzZXJ2ZXIuZG9tLmFkZCh1bmNoZWNrRm9sbG93UHJlc2VudGVyKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnRvb2wpOwoKLy8g5YW25LuW5bel5YW3CmZpbHRlci5wcmVkZWYuc3VidGl0bGUoJ3Rvb2wnLCAnb3RoZXJ0b29sJywgJ3t7b3RoZXJUb29sc1RpdGxlfX0nKTsKCi8vIOihqOaDheaWueS+v+i+k+WFpQpmaWx0ZXIuaXRlbXMudG9vbC53ZWlib3Rvb2wuZmFzdF9lbW9qaSA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnb3RoZXJ0b29sJywKICAndmVyc2lvbic6IDIyNiwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wuZmFzdF9lbW9qaScsCiAgJ3RleHQnOiAne3tmYXN0RW1vamlJbnB1dH19JywKICAncmVmJzogewogICAgJ3RvcCc6IHsgJ3R5cGUnOiAnbm91aScsICdkZWZhdWx0JzogW251bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGxdIH0sCiAgICAncmVjZW50JzogeyAndHlwZSc6ICdub3VpJywgJ2RlZmF1bHQnOiBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF0gfSwKICB9LAogICdzaG93bic6IGZ1bmN0aW9uIChkb20pIHsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHZhciBjbGVhciA9IGRvbS5hcHBlbmRDaGlsZCh1dGlsLmRvbS5jcmVhdGUodXRpbC5zdHIuZmlsbChodG1sLmZhc3RFbW9qaUNsZWFyQnV0dG9uKSkpOwogICAgY2xlYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBuaWwgPSBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF07CiAgICAgIHRoYXQucmVmLnRvcC5wdXRjb25mKG5pbCk7IHRoYXQucmVmLnJlY2VudC5wdXRjb25mKG5pbCk7CiAgICB9KTsKICB9LAogICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHZhciBvbnB1dHMgPSB7ICd0b3AnOiBudWxsLCAncmVjZW50JzogbnVsbCB9OwogICAgLy8g5pi+56S65LiA5Liq6KGo5oOF77yb6IGK5aSp56qX5Y+j6YeM6Z2i6KGo5oOF6L6T5YWl55qE5qC85byP5ZKM5Yir55qE5Zyw5pa55LiN5LiA5qC3CiAgICB2YXIgY3JlYXRlTGkgPSBmdW5jdGlvbiAoaXRlbSwgaXNJbSkgewogICAgICBpZiAoIWl0ZW0pIHJldHVybiB1dGlsLmRvbS5jcmVhdGUoJ2xpJywgJycpOwogICAgICB2YXIgYmFzZSA9IGlzSW0gPyBodG1sLmZhc3RFbW9qaUxpc3RJdGVtSU0gOiBodG1sLmZhc3RFbW9qaUxpc3RJdGVtOwogICAgICByZXR1cm4gdXRpbC5kb20uY3JlYXRlKCd1bCcsIHV0aWwuc3RyLmZpbGwoYmFzZSwgaXRlbSkpLmZpcnN0Q2hpbGQ7CiAgICB9OwogICAgLy8g5bCG5YiX6KGo5pi+56S65Ye65p2lCiAgICB2YXIgc2hvdyA9IGZ1bmN0aW9uICh1bCwgbGlzdCwga2VlcCwgaXNJbSkgewogICAgICAvLy8gPHBhcmFtIG5hbWU9InVsIiB0eXBlPSJIVE1MVUxpc3RFbGVtZW50Ij5EZXNjcmlwdGlvbjwvcGFyYW0+CiAgICAgIHZhciBsaXMgPSBBcnJheS5mcm9tKHVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJykpOwogICAgICB2YXIgcmVwbGFjZSA9IGZ1bmN0aW9uIChpLCBpdGVtKSB7CiAgICAgICAgdmFyIG4gPSBjcmVhdGVMaShpdGVtLCBpc0ltKTsKICAgICAgICB1bC5yZXBsYWNlQ2hpbGQobiwgbGlzW2ldKTsKICAgICAgICBsaXNbaV0gPSBuOwogICAgICB9OwogICAgICB2YXIgbmFtZSA9IGZ1bmN0aW9uIChsaSkgeyByZXR1cm4gbGkudGl0bGUgfHwgbnVsbDsgfTsKICAgICAgdmFyIHVwZGF0ZSA9IGtlZXAgP2Z1bmN0aW9uIChsaXN0KSB7CiAgICAgICAgLy8g5pu05paw5YiX6KGo77yM5q+U6L6D5beu5byC5bm25bC96YeP5bCR5L+u5pS55bey5pyJ55qE5o6S5YiX6aG65bqPCiAgICAgICAgdmFyIG50aXRsZSA9IFtdLCBlbW9qaSA9IHt9LCBlbXB0eXMgPSBbXTsKICAgICAgICAvLyDnu5/orqHmnInlk6rkupvooajmg4Xov5jopoEKICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgIGlmICghaSB8fCAhaS50aXRsZSkgcmV0dXJuOwogICAgICAgICAgbnRpdGxlLnB1c2goaS50aXRsZSk7IGVtb2ppW2kudGl0bGVdID0gaTsKICAgICAgICB9KTsKICAgICAgICAvLyDmiorkuI3lnKjliJfooajkuK3nmoTliKDpmaQKICAgICAgICBsaXMuZm9yRWFjaChmdW5jdGlvbiAobGksIGkpIHsKICAgICAgICAgIHZhciB0aXRsZSA9IG5hbWUobGkpLCBwb3MgPSB0aXRsZSA/IG50aXRsZS5pbmRleE9mKHRpdGxlKSA6IC0xOwogICAgICAgICAgaWYgKHBvcyAhPT0gLTEpIG50aXRsZS5zcGxpY2UocG9zLCAxKTsKICAgICAgICAgIGVsc2UgaWYgKHRpdGxlKSByZXBsYWNlKGkpOwogICAgICAgICAgaWYgKHBvcyA9PT0gLTEpIGVtcHR5cy5wdXNoKGkpOwogICAgICAgIH0pOwogICAgICAgIC8vIOW+gOepuuS9jemHjOmdouWhnuaWsOeahOihqOaDhQogICAgICAgIG50aXRsZS5mb3JFYWNoKGZ1bmN0aW9uICh0aXRsZSkgeyByZXBsYWNlKGVtcHR5cy5zaGlmdCgpLCBlbW9qaVt0aXRsZV0pOyB9KTsKICAgICAgfSA6IGZ1bmN0aW9uIChsaXN0KSB7CiAgICAgICAgLy8g5pu05paw5YiX6KGo77yM5L+d6K+B5L2N572u55qE5a+55bqU5YWz57O7CiAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7CiAgICAgICAgICBpZiAobGlzW2ldLnRpdGxlID09PSAoaXRlbSAmJiBpdGVtLnRpdGxlIHx8ICcnKSkgcmV0dXJuOwogICAgICAgICAgcmVwbGFjZShpLCBpdGVtKTsKICAgICAgICB9KTsKICAgICAgfTsKICAgICAgdXBkYXRlKGxpc3QpOwogICAgICByZXR1cm4geyAndXBkYXRlJzogdXBkYXRlIH07CiAgICB9OwogICAgLy8g5LuO6KKr54K55Ye755qE5a+56LGh77yI5Zu+54mH5oiW6ICF5YiX6KGo6aG577yJ5b6X5Yiw6KGo5oOF55qE55u45YWz5L+h5oGvCiAgICB2YXIgZ2V0RW1vamkgPSBmdW5jdGlvbiAodGFyZ2V0KSB7CiAgICAgIGlmICh1dGlsLmRvbS5tYXRjaGVzKHRhcmdldCwgJ2xpPmltZycpKSB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgZW1vamkgPSB7CiAgICAgICAgICAndGl0bGUnOiB0YXJnZXQudGl0bGUsCiAgICAgICAgICAndGV4dCc6IHV0aWwuc3RyLnBhcnNlcXVlcnkodGFyZ2V0LmdldEF0dHJpYnV0ZSgnYWN0aW9uLWRhdGEnKSkuaW5zZXJ0LAogICAgICAgICAgJ2ltZyc6IHRhcmdldC5xdWVyeVNlbGVjdG9yKCdpbWcnKS5zcmMKICAgICAgICB9OwogICAgICAgIGlmICghZW1vamkudGl0bGUgfHwgIWVtb2ppLnRleHQgfHwgIWVtb2ppLmltZykgcmV0dXJuIG51bGw7CiAgICAgICAgcmV0dXJuIGVtb2ppOwogICAgICB9IGNhdGNoIChlKSB7IHJldHVybiBudWxsOyB9CiAgICB9OwogICAgLy8g5bCG5p+Q5Liq6K6+572u6aG55ZKM5pi+56S655qE55WM6Z2i57uT5ZCICiAgICB2YXIgYmluZGNvbmYgPSBmdW5jdGlvbiAobGlzdCwgdHlwZSwga2VlcCwgaXNJbSkgewogICAgICBvbnB1dHNbdHlwZV0gPSBmdW5jdGlvbiAoY29uZikgeyBzaG93KGxpc3QsIGNvbmYsIGtlZXAsIGlzSW0pOyB9OwogICAgICBvbnB1dHNbdHlwZV0odGhhdC5yZWZbdHlwZV0uZ2V0Y29uZigpKTsKICAgIH07CiAgICAvLyDku47liJfooajkuK3np7vpmaTph43lpI3nmoTpobnvvIzlubbkv53nlZkgMTAg5LiqCiAgICB2YXIgcmVtb3ZlRHVwbGljYXRlID0gZnVuY3Rpb24gKGxpc3QpIHsKICAgICAgdmFyIHJlYyA9IHt9LCByZXQgPSBbXTsKICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgaWYgKCFpIHx8IGkudGl0bGUgaW4gcmVjKSByZXR1cm47CiAgICAgICAgcmV0LnB1c2gocmVjW2kudGl0bGVdID0gaSk7CiAgICAgIH0pOwogICAgICB3aGlsZSAocmV0Lmxlbmd0aCA8IDEwKSByZXQucHVzaChudWxsKTsKICAgICAgcmV0dXJuIHJldC5zbGljZSgwLCAxMCk7CiAgICB9OwogICAgLy8g5Zyo55So5oi354K55Ye76KGo5oOF5ZCO5pu05paw5pyA6L+R5L2/55So55qE6KGo5oOFCiAgICB2YXIgdXBkYXRlUmVjZW50ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIGVtb2ppID0gZ2V0RW1vamkoZS50YXJnZXQpOyBpZiAoIWVtb2ppKSByZXR1cm47CiAgICAgIHZhciByZWNlbnQgPSBbZW1vamldLmNvbmNhdCh0aGF0LnJlZi5yZWNlbnQuZ2V0Y29uZigpKTsKICAgICAgdGhhdC5yZWYucmVjZW50LnB1dGNvbmYocmVtb3ZlRHVwbGljYXRlKHJlY2VudCkuc2xpY2UoMCwgMTApKTsKICAgIH07CiAgICAvLyDlnKjorr7nva7kv67mlLnkuYvlkI7lkIzmraXliLDmmL7npLrkuIrljrsKICAgIFsndG9wJywgJ3JlY2VudCddLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgdXRpbC5jb25maWcub25wdXQodGhhdC5yZWZbdHlwZV0ua2V5LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKG9ucHV0c1t0eXBlXSkgb25wdXRzW3R5cGVdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0pOwogICAgfSk7CiAgICAvLyDkvb/nlKjmi5bmi73nva7pobbooajmg4UKICAgIHZhciBkcmFnRW1vamkgPSBmdW5jdGlvbiAoY29udGFpbmVyLCB1bCkgewogICAgICAvLyDmmL7npLrlkozpmpDol4/mj5DnpLrmi5bmi73nmoTmoIfor60KICAgICAgdmFyIG5vdGljZSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjeWF3Zi1mYWNlLWRyb3AtYXJlYScpOwogICAgICB2YXIgc2hvd05vdGljZSA9IGZ1bmN0aW9uICgpIHsgbm90aWNlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyB9OwogICAgICB2YXIgaGlkZU5vdGljZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBub3RpY2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgfTsKICAgICAgLy8g5ouW5ou9CiAgICAgIHZhciBkcmFnZ2luZyA9IG51bGwsIGxpczsKICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZHJhZ2dpbmcgPSBnZXRFbW9qaShlLnRhcmdldCkgfHwgbnVsbDsKICAgICAgICAvLyDlvIDlp4vmi5bmi73nmoTml7blgJnvvIzmoIforrDmiYDmnInnm67nmoTlnLDkuLrlj6/nvJbovpHnmoQKICAgICAgICBsaXMgPSBBcnJheS5mcm9tKHVsLmNoaWxkTm9kZXMpOwogICAgICAgIGxpcy5mb3JFYWNoKGZ1bmN0aW9uIChsaSkgeyBsaS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsICd0cnVlJyk7IH0pOwogICAgICAgIHNob3dOb3RpY2UoKTsKICAgICAgfSk7CiAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkgeyBkcmFnZ2luZyA9IG51bGw7IH0pOwogICAgICBub3RpY2UuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgZnVuY3Rpb24gKCkgeyBoaWRlTm90aWNlKCk7IH0pOwogICAgICB1bC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBmdW5jdGlvbiAoKSB7IGhpZGVOb3RpY2UoKTsgfSk7CiAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgZnVuY3Rpb24gKGUpIHsgaGlkZU5vdGljZSgpOyB9KTsKICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBmdW5jdGlvbiAoZSkgewogICAgICAgIC8vIOe7k+adn+aLluaLveeahOaXtuWAmeaBouWkjeWOn+agtwogICAgICAgIGlmIChsaXMpIGxpcy5mb3JFYWNoKGZ1bmN0aW9uIChsaSkgeyBsaS5yZW1vdmVBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpOyB9KTsgbGlzID0gbnVsbDsKICAgICAgICB2YXIgaW1nX3VwbG9hZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZW5kX3dlaWJvIC5pbWdfdXBsb2FkJyk7CiAgICAgICAgaWYgKGltZ191cGxvYWQpIGltZ191cGxvYWQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAvLyDnhLblkI7nnIvnnIvotbfmraLpg73lnKjlk6rph4wKICAgICAgICB2YXIgY3VycmVudCA9IGUudGFyZ2V0OwogICAgICAgIGlmIChkcmFnZ2luZyA9PT0gbnVsbCkgcmV0dXJuOwogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICB3aGlsZSAoY3VycmVudC5wYXJlbnROb2RlICE9PSB1bCkgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZTsKICAgICAgICB2YXIgaW5kZXggPSBBcnJheS5mcm9tKHVsLmNoaWxkTm9kZXMpLmluZGV4T2YoY3VycmVudCk7CiAgICAgICAgLy8g5oqK5ou95Yiw55qE5Lic6KW/5Yqg5Yiw572u6aG26YeM6Z2i5Y67CiAgICAgICAgdmFyIGxpc3QgPSB0aGF0LnJlZi50b3AuZ2V0Y29uZigpLCBvbGQgPSBsaXN0W2luZGV4XTsKICAgICAgICBsaXN0ID0gbGlzdC5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGlmICghZSkgcmV0dXJuIG51bGw7CiAgICAgICAgICBpZiAoZS50aXRsZSA9PT0gZHJhZ2dpbmcudGl0bGUpIHJldHVybiBvbGQ7CiAgICAgICAgICByZXR1cm4gZTsKICAgICAgICB9KTsKICAgICAgICBsaXN0W2luZGV4XSA9IGRyYWdnaW5nOwogICAgICAgIHRoYXQucmVmLnRvcC5wdXRjb25mKGxpc3QpOwogICAgICB9KTsKICAgICAgaWYgKHRoYXQucmVmLnRvcC5nZXRjb25mKCkuc29tZShCb29sZWFuKSkgaGlkZU5vdGljZSgpOwogICAgfTsKICAgIC8vIOebkeinhuaWsOeahOihqOaDheahhgogICAgb2JzZXJ2ZXIuZG9tLmFkZChmdW5jdGlvbiBlbW9qaUZhc3RPYnNlcnZlcigpIHsKICAgICAgdmFyIHRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYXllcl9mYWNlcyAuV0JfbWluaXRhYjpmaXJzdC1jaGlsZCcpOyBpZiAoIXRhYikgcmV0dXJuOwogICAgICB2YXIgY29udGFpbmVyID0gdGFiLnBhcmVudE5vZGU7CiAgICAgIHZhciBhcmVhID0gY29udGFpbmVyLmluc2VydEJlZm9yZSh1dGlsLmRvbS5jcmVhdGUodXRpbC5zdHIuZmlsbChodG1sLmZhc3RFbW9qaUlucHV0KSksIHRhYik7CiAgICAgIHZhciBsaXN0cyA9IEFycmF5LmZyb20oYXJlYS5xdWVyeVNlbGVjdG9yQWxsKCdbeWF3Zi1mYWNlXSB1bCcpKTsKICAgICAgdmFyIGNoYXRMaXN0Tm9kZSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd1bFtub2RlLXR5cGU9Il9waGl6TGlzdE5vZGUiXScpLCBpc0ltID0hIWNoYXRMaXN0Tm9kZTsKICAgICAgYmluZGNvbmYobGlzdHNbMF0sICd0b3AnLCBmYWxzZSwgaXNJbSk7CiAgICAgIGJpbmRjb25mKGxpc3RzWzFdLCAncmVjZW50JywgdHJ1ZSwgaXNJbSk7CiAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVwZGF0ZVJlY2VudCk7CiAgICAgIGRyYWdFbW9qaShjb250YWluZXIsIGxpc3RzWzBdKTsKICAgICAgaWYgKGlzSW0pIGZpeENoYXQobGlzdHMsIGNoYXRMaXN0Tm9kZSk7CiAgICB9KTsKICAgIC8vIOS/rueQhuS4gOS4i+iBiuWkqeeql+WPo+mHjOmdoueahOaDheWGtQogICAgdmFyIGZpeENoYXQgPSBmdW5jdGlvbiAobGlzdHMsIGNoYXRMaXN0Tm9kZSkgewogICAgICB2YXIgYmluZEV2ZW50ID0gZnVuY3Rpb24gKGxpc3QpIHsKICAgICAgICBsaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7CiAgICAgICAgICBpZiAodXRpbC5kb20ubWF0Y2hlcyh0YXJnZXQsICdsaSBpbWcnKSkgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CiAgICAgICAgICBpZiAoIXRhcmdldC50aXRsZSkgcmV0dXJuOwogICAgICAgICAgLy8g5byE5LiA5Liq5YGH55qE5oyJ6ZKu77yM5pS+5Zyo5Y6f5pys55qE5YiX6KGo5pyr5bC+77yM6aqX5LuW6K+05oiR54K555qE5piv5Y6f5pys55qE5YiX6KGo6YeM6Z2i55qECiAgICAgICAgICB2YXIgZmFrZSA9IHRhcmdldC5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgICBmYWtlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICBjaGF0TGlzdE5vZGUuYXBwZW5kQ2hpbGQoZmFrZSk7CiAgICAgICAgICBmYWtlLmNsaWNrKCk7CiAgICAgICAgICBmYWtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZmFrZSk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIGxpc3RzLmZvckVhY2goYmluZEV2ZW50KTsKICAgIH07CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy50b29sKTsKCmlmICghZnVuY3Rpb24gaXNCSlQoKSB7CiAgLy8g5aaC5p6c55So5oi35L2/55So55qE5piv5bey57uP5piv5ZKM5YyX5Lqs5pe26Ze05LiA6Ie055qE5pe25Yy677yM6YKj5LmI5oiR5Lus5bCx5LiN5o+Q5L6b6L+Z5Liq5Yqf6IO95LqGCiAgLy8g5L2G5piv6ZyA6KaB5rOo5oSP55qE5piv5piv5ZCm5Zyo5Lic5YWr5Yy65LiA54K56ZyA6KaB6aKd5aSW5Yik5pat5piv5ZCm5Y+X5Yiw5aSP5Luk5pe25b2x5ZONCiAgdmFyIGN1ciA9IG5ldyBEYXRlKCk7CiAgdmFyIGphbiA9IG5ldyBEYXRlKGN1ci5nZXRGdWxsWWVhcigpLCAwLCAxKTsKICB2YXIganVsID0gbmV3IERhdGUoY3VyLmdldEZ1bGxZZWFyKCksIDYsIDEpOwogIHJldHVybiBjdXIuZ2V0VGltZXpvbmVPZmZzZXQoKSA9PT0gLTQ4MCAmJgogICAgamFuLmdldFRpbWV6b25lT2Zmc2V0KCkgPT09IC00ODAgJiYKICAgIGp1bC5nZXRUaW1lem9uZU9mZnNldCgpID09PSAtNDgwOwp9KCkpIHsKICAvLyDkvb/nlKjmnKzlnLDml7bljLoKICBmaWx0ZXIuaXRlbXMudG9vbC53ZWlib3Rvb2wuc2hvd19sb2NhbF90aW1lID0gZmlsdGVyLml0ZW0oewogICAgJ2dyb3VwJzogJ290aGVydG9vbCcsCiAgICAndmVyc2lvbic6IDI3NCwKICAgICd0eXBlJzogJ2Jvb2xlYW4nLAogICAgJ2tleSc6ICd3ZWliby50b29sLnNob3dfbG9jYWxfdGltZScsCiAgICAndGV4dCc6ICd7e3Nob3dMb2NhbFRpbWV9fScsCiAgICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB6ID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuICgnMCcgKyB4KS5zbGljZSgtMik7IH07CiAgICAgIC8vIOWPguiAgyBsaWIuZmVlZC5wbHVnaW5zLnVwZGF0ZVRpbWUKICAgICAgdmFyIGUgPSB0ZXh0LnRpbWVUb2RheSwgZiA9IHRleHQudGltZVNlY29uZEJlZm9yZSwgZyA9IHRleHQudGltZU1pbnV0ZUJlZm9yZTsKICAgICAgdmFyIGNvbnZlcnQgPSBmdW5jdGlvbiAoYSwgYykgewogICAgICAgIHZhciBkID0gYS5nZXRGdWxsWWVhcigpLCBpID0gYS5nZXRNb250aCgpICsgMSwgayA9IGEuZ2V0RGF0ZSgpLCBtID0gYS5nZXRIb3VycygpOwogICAgICAgIHZhciBoID0gYy5nZXRGdWxsWWVhcigpLCBqID0gYy5nZXRNb250aCgpICsgMSwgbCA9IGMuZ2V0RGF0ZSgpLCBuID0gYy5nZXRIb3VycygpLCBvID0gYy5nZXRNaW51dGVzKCk7CiAgICAgICAgLy8g5L+u5pS56L+Z6YeM77yM5oiR5Lus55So5pys5Zyw5pe26Ze077yM6ICM5LiN5piv5Lic5YWr5Yy65pe26Ze0CiAgICAgICAgdmFyIHEgPSBoLCByID0gaiwgcyA9IGwsIHQgPSB6KG4pLCB1ID0geihvKTsKICAgICAgICB2YXIgdiA9IGEgLSBjOwogICAgICAgIHYgPSB2ID4gMCA/IHYgOiAwOwogICAgICAgIHYgPSB2IC8gMWUzOwogICAgICAgIGlmIChkICE9IGgpIHJldHVybiBxICsgIi0iICsgciArICItIiArIHMgKyAiICIgKyB0ICsgIjoiICsgdTsKICAgICAgICBpZiAoaSAhPSBqIHx8IGsgIT0gbCkgcmV0dXJuIHRleHQudGltZU1vbnRoRGF5LnNwbGl0KCclcycpLm1hcChmdW5jdGlvbiAoeCwgaSkgeyByZXR1cm4geCArIFtyLCBzLCB0LCB1LCAnJ11baV07IH0pLmpvaW4oJycpOwogICAgICAgIGlmIChtICE9IG4gJiYgdiA+IDM2MDApIHJldHVybiBlICsgIiAiICsgdCArICI6IiArIHU7CiAgICAgICAgaWYgKHYgPCA1MSkgewogICAgICAgICAgdiA9IHYgPCAxID8gMSA6IHY7CiAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigodiAtIDEpIC8gMTApICsgMSArICIwIiArIGY7CiAgICAgICAgfQogICAgICAgIHJldHVybiBNYXRoLmZsb29yKHYgLyA2MCArIDEpICsgZzsKICAgICAgfTsKICAgICAgLy8g5oqK5Yy56YWN5Yiw55qE5pWw5a2X6L2s5o2i5oiQ5pW05pWw5pWw57uE55qE5b6I5pa55L6/55qE5Ye95pWwCiAgICAgIHZhciBtYXRjaCA9IGZ1bmN0aW9uIChzdHIsIHJlZykgewogICAgICAgIHZhciBtID0gc3RyLm1hdGNoKHJlZyk7IGlmICghbSkgcmV0dXJuIG51bGw7CiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obSkuc2xpY2UoMSkubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiBwYXJzZUludCh4LCAxMCk7IH0pOwogICAgICB9OwogICAgICAvLyDnm6/nnYDnvZHpobXnnIvmnInmsqHmnInluKYgZGF0ZSDlsZ7mgKfnmoTlhYPntKAKICAgICAgLy8g6L+Z5Lqb5YWD57Sg6YCa6L+HIGRhdGUg5bGe5oCn57uZ5a6a5YW25pe26Ze077yM6ZyA6KaB5a6e5pe25pu05paw77yI5aaCeHjnp5LliY3vvIkKICAgICAgdmFyIG1vZGlmeSA9IGZ1bmN0aW9uIGNoYW5nZURhdGVFbGVtZW50KCkgewogICAgICAgIHZhciB0aW1lVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tub2RlLXR5cGU9ImZlZWRfbGlzdF90aW1lVGlwIl1bZGF0ZV0gW25vZGUtdHlwZT0iZmVlZF9saXN0X3RpbWVUZXh0Il0nKTsKICAgICAgICBpZiAodGltZVRleHQpIHRpbWVUZXh0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKAogICAgICAgICAgdXRpbC5kb20uY3JlYXRlKHV0aWwuc3RyLmZpbGwoCiAgICAgICAgICBodG1sLmZlZWRUaW1lVGlwLCB7ICdkYXRlJzogdGltZVRleHQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGUnKSwgJ3RpbWUnOiAne3t0aW1lUmVhZEhlcmV9fScgfSkKICAgICAgICAgICkuZmlyc3RDaGlsZCwgdGltZVRleHQpOwogICAgICAgIHZhciBmID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhW25vZGUtdHlwZT0iZmVlZF9saXN0X2l0ZW1fZGF0ZSJdW2RhdGVdJykpOwogICAgICAgIGYuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgWydub2RlLXR5cGUnLCAnZGF0ZSddLmZvckVhY2goZnVuY3Rpb24gKGF0dHIpIHsKICAgICAgICAgICAgaS5zZXRBdHRyaWJ1dGUoJ3lhd2YtJyArIGF0dHIsIGkuZ2V0QXR0cmlidXRlKGF0dHIpKTsKICAgICAgICAgICAgaS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7CiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciB0aXRsZSA9IGkuZ2V0QXR0cmlidXRlKCd0aXRsZScpOwogICAgICAgICAgaWYgKHRpdGxlKSB7CiAgICAgICAgICAgIHZhciBrID0gaS5nZXRBdHRyaWJ1dGUoInlhd2YtZGF0ZSIpOwogICAgICAgICAgICBpZiAoIS9eXHMqXGQrXHMqJC8udGVzdChrKSkgcmV0dXJuOwogICAgICAgICAgICB2YXIgbCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIGwuc2V0VGltZShwYXJzZUludChrLCAxMCkpOwogICAgICAgICAgICBpLnRpdGxlID0gKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICAgICAgdmFyIGggPSBjLmdldEZ1bGxZZWFyKCksIGogPSBjLmdldE1vbnRoKCkgKyAxLCBsID0gYy5nZXREYXRlKCksIG4gPSBjLmdldEhvdXJzKCksIG8gPSBjLmdldE1pbnV0ZXMoKTsKICAgICAgICAgICAgICB2YXIgdHogPSBjLmdldFRpbWV6b25lT2Zmc2V0KCksIHR6bSA9IE1hdGguYWJzKHR6KSAlIDYwLCB0emggPSAoTWF0aC5hYnModHopIC0gdHptKSAvIDYwLCB0enQ7CiAgICAgICAgICAgICAgaWYgKHR6ID09PSAwKSB0enQgPSAnJzsgZWxzZSB0enQgPSAodHogPCAwID8gJysnIDogJy0nKSArIHoodHpoKSArICc6JyArIHoodHptKTsKICAgICAgICAgICAgICByZXR1cm4gaCArICctJyArIHooaikgKyAnLScgKyB6KGwpICsgJyAnICsgeihuKSArICc6JyArIHoobykgKyAnIFVUQycgKyB0enQ7CiAgICAgICAgICAgIH0obCkpOwogICAgICAgICAgICB1dGlsLmRlYnVnKCd0aW1lem9uZSBVVEMrOCB0byBMb2NhbDogJW8gLT4gJW8nLCB0aXRsZSwgaS50aXRsZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdXBkYXRlKGYpOwogICAgICB9OwogICAgICAvLyDlpITnkIbpgqPkupvmsqHmnIkgZGF0ZSDlsZ7mgKfnmoTml7bpl7TnmoTmlofmnKwKICAgICAgLy8g6L+Z5Lqb5LqL5Lu25LiN6ZyA6KaB5pu05pawCiAgICAgIC8vIOaWh+acrOeahOeUn+aIkOinhOWImeWSjOmcgOimgeabtOaWsOeahOWFtuWunueVpeacieS4jeWQjO+8jOWboOS4uui/meS6m+aWh+acrOWkp+WkmuaYr+WcqOacjeWKoeWZqOerr+eUn+aIkOeahAogICAgICB2YXIgY29udmVydFRleHQgPSBmdW5jdGlvbiAoaW5wdXQpIHsKICAgICAgICB2YXIgbnVtcywgYyA9IG51bGwsIGEgPSBuZXcgRGF0ZSgpOwogICAgICAgIHZhciBiID0gYTsgYi5zZXRUaW1lKGIuZ2V0VGltZSgpICsgMjg4ZTUpOwogICAgICAgIHZhciBxID0gYi5nZXRVVENGdWxsWWVhcigpLCByciA9IGIuZ2V0VVRDTW9udGgoKSwgcyA9IGIuZ2V0VVRDRGF0ZSgpOwogICAgICAgIGlmICgobnVtcyA9IG1hdGNoKGlucHV0LCAvXihcZCspLShcZCspLShcZCspIChcZCspOihcZCspJC8pKSkgYyA9IG5ldyBEYXRlKERhdGUuVVRDKG51bXNbMF0sIG51bXNbMV0gLSAxLCBudW1zWzJdLCBudW1zWzNdLCBudW1zWzRdLCAwKSk7CiAgICAgICAgZWxzZSBpZiAoKG51bXMgPSBtYXRjaChpbnB1dCwgbmV3IFJlZ0V4cCgnXicgKyB0ZXh0LnRpbWVNb250aERheS5yZXBsYWNlKC8lcy9nLCAnKFxcZCspJykgKyAnJCcpKSkpIGMgPSBuZXcgRGF0ZShEYXRlLlVUQyhxLCBudW1zWzBdIC0gMSwgbnVtc1sxXSwgbnVtc1syXSwgbnVtc1szXSwgMCkpOwogICAgICAgIGVsc2UgaWYgKChudW1zID0gbWF0Y2goaW5wdXQsIG5ldyBSZWdFeHAoJ14nICsgZSArICdcXHMqKFxcZCspOihcXGQrKSQnKSkpKSBjID0gbmV3IERhdGUoRGF0ZS5VVEMocSwgcnIsIHMsIG51bXNbMF0sIG51bXNbMV0sIDApKTsKICAgICAgICBpZiAoYyA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OwogICAgICAgIGMuc2V0VGltZShjLmdldFRpbWUoKSAtIDI4OGU1KTsKICAgICAgICBpZiAoYy5nZXRUaW1lKCkgPiBhLmdldFRpbWUoKSkgYy5zZXRUaW1lKGMuZ2V0VGltZSgpIC0gODY0ZTUgKiBNYXRoLmNlaWwoKGMuZ2V0VGltZSgpIC0gYS5nZXRUaW1lKCkpIC8gODY0ZTUpKTsKICAgICAgICByZXR1cm4gY29udmVydChhLCBjKTsKICAgICAgfTsKICAgICAgLy8g5pu05paw6ZyA6KaB5pu05paw55qE5pe26Ze0CiAgICAgIHZhciB1cGRhdGUgPSBmdW5jdGlvbiAoZikgewogICAgICAgIHZhciBnID0gbmV3IERhdGUoKTsKICAgICAgICBpZiAoIWYpIGYgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1t5YXdmLWRhdGVdJykpOwogICAgICAgIGcuc2V0VGltZShnLmdldFRpbWUoKSAtICgodW5zYWZlV2luZG93LiRDT05GSUcgfHwge30pLnRpbWVEaWZmIHx8IDApKTsKICAgICAgICBmLmZvckVhY2goZnVuY3Rpb24gKGopIHsKICAgICAgICAgIHZhciBrID0gai5nZXRBdHRyaWJ1dGUoInlhd2YtZGF0ZSIpOwogICAgICAgICAgaWYgKCEvXlxzKlxkK1xzKiQvLnRlc3QoaykpIHJldHVybjsKICAgICAgICAgIHZhciBsID0gbmV3IERhdGUoKTsKICAgICAgICAgIGwuc2V0VGltZShwYXJzZUludChrLCAxMCkpOwogICAgICAgICAgdmFyIHRleHQgPSBjb252ZXJ0KGcsIGwpOwogICAgICAgICAgaWYgKHRleHQgIT09IGoudGV4dENvbnRlbnQpIGoudGV4dENvbnRlbnQgPSB0ZXh0OwogICAgICAgIH0pOwogICAgICB9OwogICAgICAvLyDlpITnkIbmlofmnKzmmL7npLrnmoTml7bpl7QKICAgICAgdmFyIHRleHR0aW1lID0gZnVuY3Rpb24gY2hhbmdlRGF0ZVRleHQoKSB7CiAgICAgICAgdmFyIHNlbGVjdG9ycyA9IFsKICAgICAgICAgICcuV0JfZnJvbTpub3QoW3lhd2YtbG9jYWx0aW1lXSknLAogICAgICAgICAgJy5jb250X3RvcCAuZGF0YTpub3QoW3lhd2YtbG9jYWx0aW1lXSknLAogICAgICAgICAgJ2xlZ2VuZDpub3QoW3lhd2YtbG9jYWx0aW1lXSknLAogICAgICAgIF0uam9pbignLCcpOwogICAgICAgIHZhciBub2RlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcnMpKTsKICAgICAgICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICB4LnNldEF0dHJpYnV0ZSgneWF3Zi1sb2NhbHRpbWUnLCAnJyk7CiAgICAgICAgICBpZiAodXRpbC5kb20ubWF0Y2hlcyh4LCAnLldCX3dlYmltIConKSkgcmV0dXJuOyAvLyDogYrlpKnnqpflj6PkuK3nmoTml7bpl7TmmK/mnKzlnLDnmoTml7bpl7QKICAgICAgICAgIHZhciB0ID0geC5maXJzdENoaWxkOwogICAgICAgICAgaWYgKHQubm9kZVR5cGUgIT09IE5vZGUuVEVYVF9OT0RFKSByZXR1cm47CiAgICAgICAgICB2YXIgdiA9IHQudGV4dENvbnRlbnQudHJpbSgpOwogICAgICAgICAgaWYgKHYgPT09ICcnKSByZXR1cm47CiAgICAgICAgICB2YXIgciA9IHYucmVwbGFjZSgvXiguKj8pXHMqKOadpeiHqnzkvoboh6p8Y29tZSBmcm9tfCkkLywgZnVuY3Rpb24gKHgsIHQsIHMpIHsKICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRUZXh0KHQpICsgKHMgPyAnICcgKyBzICsgJyAnIDogJycpOwogICAgICAgICAgfSk7CiAgICAgICAgICB0LnRleHRDb250ZW50ID0gcjsKICAgICAgICAgIHV0aWwuZGVidWcoJ3RpbWV6b25lIFVUQys4IHRvIExvY2FsOiAlbyAtPiAlbycsIHYsIHIpOwogICAgICAgIH0pOwogICAgICB9OwogICAgICBtb2RpZnkoKTsKICAgICAgdXBkYXRlKCk7CiAgICAgIG9ic2VydmVyLmRvbS5hZGQobW9kaWZ5KTsKICAgICAgb2JzZXJ2ZXIuZG9tLmFkZCh0ZXh0dGltZSk7CiAgICAgIHNldEludGVydmFsKHVwZGF0ZSwgMWU0KTsKICAgIH0KICB9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnRvb2wpOwp9CgovLyDnpoHnlKjmoYzpnaLmj5DphpIKaWYgKGZ1bmN0aW9uIGRlc2t0b3BOb3RpZmljYXRpb25TdXBwb3J0KCkgewogIC8vIOajgOafpeW+ruWNmuaYr+WQpuS8muW8gOWQr+ahjOmdouaPkOmGkuWKn+iDvQogIHZhciBoYXNOb3RpZmljYXRpb24gPSAiTm90aWZpY2F0aW9uIiBpbiB3aW5kb3cgfHwgIm1vek5vdGlmaWNhdGlvbiIgaW4gd2luZG93IHx8ICJ3ZWJraXROb3RpZmljYXRpb24iIGluIHdpbmRvdzsKICB2YXIgaXNNYXh0aG9uTGlrZSA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTWF4dGhvbiIpICE9PSAtMTsKICByZXR1cm4gaGFzTm90aWZpY2F0aW9uICYmICFpc01heHRob25MaWtlOwp9KCkpIHsKICBmaWx0ZXIuaXRlbXMudG9vbC53ZWlib3Rvb2wuZGlzYWJsZV9kZXNrdG9wX25vdGlmaWNhdGlvbiA9IGZpbHRlci5pdGVtKHsKICAgICdncm91cCc6ICdvdGhlcnRvb2wnLAogICAgJ3ZlcnNpb24nOiA0MTYsCiAgICAndHlwZSc6ICdib29sZWFuJywKICAgICdrZXknOiAnd2VpYm8udG9vbC5kaXNhYmxlX2Rlc2t0b3Bfbm90aWZpY2F0aW9uJywKICAgICd0ZXh0JzogJ3t7ZGlzYWJsZU5vdGlmaWNhdGlvbn19JywKICAgICdyZWYnOiB7ICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7ZGlzYWJsZU5vdGlmaWNhdGlvbkRlc2N9fScgfSB9LAogICAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgICB1dGlsLmZ1bmMud3JhcHN0aygnbGliLm5vdGlmaWNhdGlvbi5icm93c2VyTm90aWZpY2F0aW9uJywgZnVuY3Rpb24gKHJlZ0Z1bmMpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHN0aykgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHZvaWQgMDsKICAgICAgICAgIH07CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogIH0pLmFkZHRvKGZpbHRlci5ncm91cHMudG9vbCk7Cn07CgovLyDnpoHnlKjlvq7ljZrnmoRMaXZlIFBob3RvCmlmIChmdW5jdGlvbiBsaXZlUGhvdG9TdXBwb3J0ZWQoKSB7CiAgLy8g5qOA5p+l5b6u5Y2a5piv5ZCm5Lya5byA5ZCvIExpdmUgUGhvdG8g5Yqf6IO9CiAgdmFyIHZpZGVvID0gdXRpbC5kb20uY3JlYXRlKCd2aWRlbycsICcnKTsKICB2YXIgaXNTYWZhcmlMaWtlID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTYWZhcmkiKSA+PSAwOwogIHJldHVybiBpc1NhZmFyaUxpa2UgJiYgISF2aWRlby5jYW5QbGF5VHlwZSAmJiAhIXZpZGVvLmNhblBsYXlUeXBlKCJ2aWRlby9tcDQiKTsKfSgpKSB7CiAgZmlsdGVyLml0ZW1zLnRvb2wud2VpYm90b29sLmRpc2FibGVfbGl2ZV9waG90byA9IGZpbHRlci5pdGVtKHsKICAgICdncm91cCc6ICd3ZWlib3Rvb2wnLAogICAgJ3ZlcnNpb24nOiA0MTYsCiAgICAndHlwZSc6ICdib29sZWFuJywKICAgICdrZXknOiAnd2VpYm8udG9vbC5kaXNhYmxlX2xpdmVfcGhvdG8nLAogICAgJ3RleHQnOiAne3tkaXNhYmxlTGl2ZVBob3RvfX0nLAogICAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgICB1dGlsLmZ1bmMud3JhcHN0aygnbGliLmltYWdlLmxpdmVwaG90bycsIGZ1bmN0aW9uIChyZWdGdW5jKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdGspIHsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW1nLCBpZCwgY2FsbGJhY2tzKSB7CiAgICAgICAgICAgIGlmIChjYWxsYmFja3MgJiYgY2FsbGJhY2tzLmNhbk5vdFBsYXkpIHsKICAgICAgICAgICAgICBjYWxsYmFja3MuY2FuTm90UGxheSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH07CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogIH0pLmFkZHRvKGZpbHRlci5ncm91cHMudG9vbCk7Cn07CgovLyDmoLflvI8KLy8g55Sx5LqO5Y6G5Y+y5Y6f5Zug77yM5qC35byP5LiL6ZSu5YC85b2S5bGeIHRvb2wKZmlsdGVyLnByZWRlZi5ncm91cCgnc3R5bGUnKTsKCi8vIOS4gOS4quW4puacieminOiJsi/pgI/mmI7luqbnmoTpgInmoYbpobkKZmlsdGVyLnJlZi5yZ2JhID0gZnVuY3Rpb24gKGRlZmNvbG9yLCBkZWZ0LCBjb2xvciwgdHJhbnNwYXJlbmN5LCByZ2JhKSB7CiAgdmFyIF9jb2xvciA9IHsKICAgICd0eXBlJzogJ2NvbG9yJywKICAgICdkZWZhdWx0JzogZGVmY29sb3IgfHwgJyMwMDAwMDAnLAogIH07CiAgdmFyIF90cmFuc3BhcmVuY3kgPSB7CiAgICAndHlwZSc6ICdyYW5nZScsCiAgICAnZGVmYXVsdCc6IGRlZnQgfHwgMCwKICAgICdtaW4nOiAwLAogICAgJ21heCc6IDEwMCwKICB9OwogIHZhciBiYXNlID0ge307CiAgYmFzZVtjb2xvciB8fCAnY29sb3InXSA9IF9jb2xvcjsKICBiYXNlW3RyYW5zcGFyZW5jeSB8fCAndHJhbnNwYXJlbmN5J10gPSBfdHJhbnNwYXJlbmN5OwogIGJhc2VbcmdiYSB8fCAncmdiYSddID0gewogICAgJ3RvU3RyaW5nJzogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdXRpbC5zdHIucmdiYShfY29sb3IuY29uZiwgX3RyYW5zcGFyZW5jeS5jb25mKTsKICAgIH0sCiAgfTsKICByZXR1cm4gYmFzZTsKfTsKCi8vIOWtl+S9k+Wtl+WPt+ebuOWFs+agt+W8jwpmaWx0ZXIucHJlZGVmLnN1YnRpdGxlKCdzdHlsZScsICd0ZXh0JywgJ3t7dGV4dFN0eWxlVGl0bGV9fScpOwoKLy8g5L+u5pS55a2X5L2TCmZpbHRlci5pdGVtcy5zdHlsZS50ZXh0LmN1c3RvbV9mb250X2ZhbWlseSA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAndGV4dCcsCiAgJ3ZlcnNpb24nOiAxNzgsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLmN1c3RvbV9mb250X2ZhbWlseScsCiAgJ3RleHQnOiAne3tjdXN0b21Gb250RmFtaWx5fX0nLAogICd3ZXN0JzogZm9udC53ZXN0LAogICdjaGluZXNlJzogZm9udC5jaGluZXNlLAogICdudG0nOiB7fSwKICAncmVmJzogewogICAgJ3dmJzogewogICAgICAndHlwZSc6ICdzZWxlY3QnLAogICAgICAnc2VsZWN0JzogZm9udC53ZXN0Lm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4geyAndGV4dCc6IGlbMV0sICd2YWx1ZSc6IGlbMV0gfTsgfSksCiAgICAgICdkZWZhdWx0JzogZm9udC53ZXN0WzBdWzBdLAogICAgfSwKICAgICdjZic6IHsKICAgICAgJ3R5cGUnOiAnc2VsZWN0JywKICAgICAgJ3NlbGVjdCc6IGZvbnQuY2hpbmVzZS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIHsgJ3RleHQnOiBpWzFdLCAndmFsdWUnOiBpWzFdIH07IH0pLAogICAgICAnZGVmYXVsdCc6IGZvbnQuY2hpbmVzZVswXVswXSwKICAgIH0sCiAgfSwKICAnaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHZhciB1cGRhdGVDb25maWcgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHV0aWwuZGVidWcoJ3ZhbGlkIGZvbnRzOiAlbywgJW8nLCB0aGF0Lndlc3QsIHRoYXQuY2hpbmVzZSk7CiAgICAgIHRoYXQubnRtID0ge307CiAgICAgIHRoYXQud2VzdC5jb25jYXQodGhhdC5jaGluZXNlKS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7IHRoYXQubnRtW2ZbMV1dID0gZlswXTsgfSk7CiAgICAgIGlmICh0aGF0Lm50bVt0aGF0LnJlZi53Zi5jb25mXSAmJiB0aGF0Lm50bVt0aGF0LnJlZi5jZi5jb25mXSkgcmV0dXJuOwogICAgICBpZiAoIXRoYXQubnRtW3RoYXQucmVmLndmLmNvbmZdKSB0aGF0LnJlZi53Zi5wdXRjb25mKHRoYXQud2VzdFswXVsxXSk7CiAgICAgIGlmICghdGhhdC5udG1bdGhhdC5yZWYuY2YuY29uZl0pIHRoYXQucmVmLmNmLnB1dGNvbmYodGhhdC5jaGluZXNlWzBdWzFdKTsKICAgICAgdGhhdC5wdXRjb25mKGZhbHNlKTsKICAgIH07CiAgICB2YXIgdmFsaWRGb250cyA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICB2YXIgZm9udHMgPSB0aGF0Lndlc3QuY29uY2F0KHRoYXQuY2hpbmVzZSk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gdmFsaWRGb250KCkgewogICAgICAgIGlmIChmb250cy5sZW5ndGggPT09IDApIHJldHVybiBjYWxsYmFjaygpOwogICAgICAgIHZhciBmb250ID0gZm9udHMuc2hpZnQoKSwgdmFsaWQgPSB1dGlsLmZvbnQudmFsaWQoZm9udFswXSk7CiAgICAgICAgdXRpbC5kZWJ1ZygnJXM6ICVvJywgZm9udFsxXSwgdmFsaWQpOwogICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgIHRoYXQud2VzdCA9IHRoYXQud2VzdC5maWx0ZXIoZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZbMF0gIT09IGZvbnRbMF07IH0pOwogICAgICAgICAgdGhhdC5jaGluZXNlID0gdGhhdC5jaGluZXNlLmZpbHRlcihmdW5jdGlvbiAoZikgeyByZXR1cm4gZlswXSAhPT0gZm9udFswXTsgfSk7CiAgICAgICAgfQogICAgICAgIHNldFRpbWVvdXQodmFsaWRGb250LCAxZTMpOwogICAgICB9LCAyZTQpOwogICAgfTsKICAgIHZhbGlkRm9udHModXBkYXRlQ29uZmlnKTsKICAgIHVwZGF0ZUNvbmZpZygpOwogIH0sCiAgJ3Nob3duJzogZnVuY3Rpb24gKGRvbSkgewogICAgdmFyIG8gPSBBcnJheS5mcm9tKGRvbS5xdWVyeVNlbGVjdG9yQWxsKCdvcHRpb24nKSk7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICBvLmZvckVhY2goZnVuY3Rpb24gKG8pIHsKICAgICAgaWYgKHRoYXQubnRtW28udmFsdWVdKSBvLnN0eWxlLmZvbnRGYW1pbHkgPSB0aGF0Lm50bVtvLnZhbHVlXTsKICAgICAgZWxzZSBvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICB9KTsKICB9LAogICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIC8vIOWboOS4uuS4iumdoiBpbml0IOiiq+W7tuaXtuiwg+eUqO+8jOaJgOS7pei/memHjOaLv+WIsOeahOWtl+S9k+WPr+iDveaYr+aciemXrumimOeahOOAggogICAgLy8g5aW95Zyo6L+Z5Liq6Zeu6aKY5Y+q5Lya5Y+R55Sf5Zyo55So5oi35a+85YWl5LqG6K6+572u5ZCO56ys5LiA5qyh5Yi35paw77yM5omA5Lul562J55So5oi35LiL5qyh5Yi35paw5bCx5aW95LqG44CCCiAgICB2YXIgd2YgPSB0aGlzLm50bVt0aGlzLnJlZi53Zi5jb25mXSwgY2YgPSB0aGlzLm50bVt0aGlzLnJlZi5jZi5jb25mXTsKICAgIGlmICghd2YgfHwgIWNmKSByZXR1cm47CiAgICB1dGlsLmNzcy5hZGQoJ2JvZHksIGJvZHkuV0JfbWFjVCwgYm9keS5XQl94cFQsIC5XQl93ZWJpbSB7IGZvbnQtZmFtaWx5OiAnICsgd2YgKyAnLCAnICsgY2YgKyAnOyB9Jyk7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5zdHlsZSk7CgovLyDlop7lpKcgdjYg5LiL5b6u5Y2a5a2X5Y+3CmZpbHRlci5pdGVtcy5zdHlsZS50ZXh0LndlaWJvX2xhcmdlX2ZvbnQgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3RleHQnLAogICd2ZXJzaW9uJzogMTQwLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8udG9vbC53ZWlib19sYXJnZV9mb250JywKICAndGV4dCc6ICd7e3dlaWJvTGFyZ2VGb250fX0nLAogICdyZWYnOiB7CiAgICAncmF0aW8nOiB7CiAgICAgICd0eXBlJzogJ3NlbGVjdCcsCiAgICAgICdzZWxlY3QnOiBbCiAgICAgICAgeyAndmFsdWUnOiAnMTIwJywgJ3RleHQnOiAne3t3ZWlib0xhcmdlRm9udDEyMH19JyB9LAogICAgICAgIHsgJ3ZhbHVlJzogJzE1MCcsICd0ZXh0JzogJ3t7d2VpYm9MYXJnZUZvbnQxNTB9fScgfSwKICAgICAgICB7ICd2YWx1ZSc6ICcyMDAnLCAndGV4dCc6ICd7e3dlaWJvTGFyZ2VGb250MjAwfX0nIH0sCiAgICAgICAgeyAndmFsdWUnOiAnMzAwJywgJ3RleHQnOiAne3t3ZWlib0xhcmdlRm9udDMwMH19JyB9LAogICAgICBdLAogICAgICAnZGVmYXVsdCc6ICcxMjAnLAogICAgfSwKICB9LAogICdwcmVmJzogewogICAgJzEyMCc6IHsgJ2ZzJzogJzE2JywgJ2xoJzogJzI2JywgJ2ZzMic6ICcxNCcsICdsaDInOiAnMjQnLCAnaCc6ICcyMCcsICdoMic6ICcxOCcsICdmczMnOiAnMTInIH0sCiAgICAnMTUwJzogeyAnZnMnOiAnMjEnLCAnbGgnOiAnMzInLCAnZnMyJzogJzE4JywgJ2xoMic6ICcyNycsICdoJzogJzI1JywgJ2gyJzogJzIzJywgJ2ZzMyc6ICcxNCcgfSwKICAgICcyMDAnOiB7ICdmcyc6ICcyOCcsICdsaCc6ICc0MicsICdmczInOiAnMjQnLCAnbGgyJzogJzM2JywgJ2gnOiAnMzMnLCAnaDInOiAnMjknLCAnZnMzJzogJzE5JyB9LAogICAgJzMwMCc6IHsgJ2ZzJzogJzQyJywgJ2xoJzogJzY0JywgJ2ZzMic6ICczNicsICdsaDInOiAnNTQnLCAnaCc6ICc1MCcsICdoMic6ICc0NicsICdmczMnOiAnMjgnIH0sCiAgfSwKICAnc2hvd24nOiBmdW5jdGlvbiAoZG9tKSB7CiAgICB2YXIgcyA9IGRvbS5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKTsKICAgIHZhciBvID0gQXJyYXkuZnJvbShzLnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpKTsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHMuc3R5bGUuaGVpZ2h0ID0gJzIwcHgnOwogICAgby5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7CiAgICAgIG8uc3R5bGUuZm9udFNpemUgPSB0aGF0LnByZWZbby52YWx1ZV0uZnMgKyAncHgnOwogICAgfSk7CiAgfSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuZmlsbCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgLldCX2luZm8sIC5XQl90ZXh0LCAuV0JfaW5mbyAqLCAuV0JfdGV4dCAqIHsgZm9udC1zaXplOiB7e2ZzfX1weCAhaW1wb3J0YW50OyBsaW5lLWhlaWdodDoge3tsaH19cHggIWltcG9ydGFudDsgfQogICAgICAuV0JfZmVlZF9leHBhbmQgLldCX2luZm8gKiwgLldCX2ZlZWRfZXhwYW5kIC5XQl90ZXh0ICosIC5XQl9mZWVkX2V4cGFuZCAuV0JfaW5mbywgLldCX2ZlZWRfZXhwYW5kIC5XQl90ZXh0IHsgZm9udC1zaXplOiB7e2ZzMn19cHggIWltcG9ydGFudDsgbGluZS1oZWlnaHQ6IHt7bGgyfX1weCAhaW1wb3J0YW50OyB9CiAgICAgIC5XQl90ZXh0IC5XX2J0bl9iIHsgaGVpZ2h0OiB7e2h9fXB4ICFpbXBvcnRhbnQ7IH0KICAgICAgLldCX3RleHQgLldfYnRuX2IsIC5XQl90ZXh0IC5XX2J0bl9iICogeyBsaW5lLWhlaWdodDoge3tofX1weCAhaW1wb3J0YW50OyBmb250LXNpemU6IHt7ZnMyfX1weCAhaW1wb3J0YW50OyB9CiAgICAgIC5XQl9mZWVkX2V4cGFuZCAuV0JfdGV4dCAuV19idG5fYiwgLldCX3RleHQgLldfYnRuX2MsIC5XQl9lbXB0eSAuV19idG5fYyB7IGhlaWdodDoge3toMn19cHggIWltcG9ydGFudDsgbGluZS1oZWlnaHQ6IHt7aDJ9fXB4ICFpbXBvcnRhbnQ7IH0KICAgICAgLldCX2ZlZWRfZXhwYW5kIC5XQl90ZXh0IC5XX2J0bl9iLCAuV0JfZmVlZF9leHBhbmQgLldCX3RleHQgLldfYnRuX2IgKiwgLldCX3RleHQgLldfYnRuX2MgKiwgLldCX2VtcHR5IC5XX2J0bl9jICogeyBsaW5lLWhlaWdodDoge3toMn19cHggIWltcG9ydGFudDsgZm9udC1zaXplOiB7e2ZzM319cHggIWltcG9ydGFudDsgfQogICAgICAuV19pY29uX2ZlZWRwaW4sIC5XX2ljb25fZmVlZGhvdCB7IGhlaWdodDogMTZweCAhaW1wb3J0YW50OyBsaW5lLWhlaWdodDogMTZweCAhaW1wb3J0YW50OyB9CiAgICAqLyBub29wKCk7IH0pLCB0aGlzLnByZWZbdGhpcy5yZWYucmF0aW8uY29uZl0pKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCi8vIOeJiOmdouebuOWFs+agt+W8jwpmaWx0ZXIucHJlZGVmLnN1YnRpdGxlKCdzdHlsZScsICdsYXlvdXQnLCAne3tsYXlvdXRTdHlsZVRpdGxlfX0nKTsKCi8vIOe7n+S4gOWktOWDj+W9oueKtgpmaWx0ZXIuaXRlbXMuc3R5bGUubGF5b3V0LmF2YXRhcl9zaGFwZSA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnbGF5b3V0JywKICAndmVyc2lvbic6IDE1MCwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wuYXZhdGFyX3NoYXBlJywKICAndGV4dCc6ICd7e2F2YXRhclNoYXBlfX0nLAogICdyZWYnOiB7CiAgICAnc2hhcGUnOiB7CiAgICAgICd0eXBlJzogJ3NlbGVjdCcsCiAgICAgICdzZWxlY3QnOiBbCiAgICAgICAgeyAndmFsdWUnOiAnY2lyY2xlJywgJ3RleHQnOiAne3thdmF0YXJTaGFwZUNpcmNsZX19JyB9LAogICAgICAgIHsgJ3ZhbHVlJzogJ3NxdWFyZScsICd0ZXh0JzogJ3t7YXZhdGFyU2hhcGVTcXVhcmV9fScgfSwKICAgICAgXSwKICAgICAgJ2RlZmF1bHQnOiAnc3F1YXJlJywKICAgIH0sCiAgfSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB1dGlsLmNzcy5hZGQodGhpcy5yZWYuc2hhcGUuY29uZiA9PT0gJ3NxdWFyZScgPyB1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgLldfZmFjZV9yYWRpdXMsIC5XX3BlcnNvbl9pbmZvIC5jb3ZlciAuaGVhZHBpYywgLlBDRF9oZWFkZXIgLnBmX3Bob3RvLCAuUENEX2hlYWRlciAucGhvdG9fd3JhcCwgLlBDRF9oZWFkZXIgLnBmX3Bob3RvIC5waG90bywgLlBDRF91c2VyX2EgLnBpY2l0ZW1zIC5waWNfYm94LCAuUENEX2Nvbm5lY3RsaXN0IC5mb2xsb3dfYm94IC5tb2RfcGljIGltZywgLlBDRF91dF9hIC5waWNfYm94LCAuUENEX2NvdW50ZXJfYiAucGljX2JveCwgLldCX2ZlZWRfdjMgLldCX3NvbkZlZWQgLldCX2ZhY2UsIC5XQl9mZWVkX3YzIC5XQl9zb25GZWVkIC5XQl9mYWNlIC5mYWNlIGltZyB7IGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDsgfQogICAgKi8gbm9vcCgpOyB9KSA6IHV0aWwuc3RyLmNtdChmdW5jdGlvbiAoKSB7IC8qIUNTUwogICAgICBpbWdbdXNlcmNhcmRdLCAuV0JfZmFjZSBpbWcgeyBib3JkZXItcmFkaXVzOiA1MCUgIWltcG9ydGFudDsgfQogICAgKi8gbm9vcCgpOyB9KSk7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5zdHlsZSk7CgovLyDmt7HoibLlr7zmoI/oiKoKZmlsdGVyLml0ZW1zLnN0eWxlLmxheW91dC5kYXJrX25hdl9iYXIgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2xheW91dCcsCiAgJ3ZlcnNpb24nOiAxNDcsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLmRhcmtfbmF2X2JhcicsCiAgJ3RleHQnOiAne3tkYXJrTmF2QmFyfX0nLAogICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIHV0aWwuY3NzLmFkZCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgLldCX2dsb2JhbF9uYXYgeyBiYWNrZ3JvdW5kOiAjMzMzOyB9CiAgICAgIC5XQl9nbG9iYWxfbmF2X2FscGhhIHsgYmFja2dyb3VuZDogcmdiYSg1MSwgNTEsIDUxLCAwLjk0KTsgfQogICAgICAuZ25fbG9nbyAubG9nbzplbXB0eSB7IGJhY2tncm91bmQ6IG5vbmUgIWltcG9ydGFudDsgfQogICAgICAuZ25fbG9nbyAubG9nbzplbXB0eTo6YmVmb3JlLCAuZ25fbG9nbyAubG9nbzplbXB0eTo6YWZ0ZXIgeyBjb250ZW50OiAiICI7IGRpc3BsYXk6IGJsb2NrOyBiYWNrZ3JvdW5kOiB1cmwoImh0dHA6Ly9pbWcudC5zaW5hanMuY24vdDYvc3R5bGUvaW1hZ2VzL2dsb2JhbF9uYXYvV0JfbG9nby5wbmc/aWQ9MTQwNDIxMTA0NzcyNyIpIG5vLXJlcGVhdCAwIDQwJTsgaGVpZ2h0OiA0OHB4OyB9CiAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMiksIG9ubHkgc2NyZWVuIGFuZCAoLW1vei1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyKSwgb25seSBzY3JlZW4gYW5kICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyLzEpLCBvbmx5IHNjcmVlbiBhbmQgKG1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpIHsKICAgICAgICAuZ25fbG9nbyAubG9nbzplbXB0eTo6YmVmb3JlLCAuZ25fbG9nbyAubG9nbzplbXB0eTo6YWZ0ZXIgeyBiYWNrZ3JvdW5kLWltYWdlOnVybCgiaHR0cDovL2ltZy50LnNpbmFqcy5jbi90Ni9zdHlsZS9pbWFnZXMvZ2xvYmFsX25hdi9XQl9sb2dvLXgyLnBuZz9pZD0xNDA0MjExMDQ3NzI3Iik7IGJhY2tncm91bmQtc2l6ZTo4MHB4IDI3cHg7IH0KICAgICAgfQogICAgICAuZ25fbG9nbyAubG9nbzplbXB0eTo6YmVmb3JlIHsgd2lkdGg6IDM2cHg7IGZsb2F0OiBsZWZ0OyB9CiAgICAgIC5nbl9sb2dvIC5sb2dvOmVtcHR5OjphZnRlciB7IHdpZHRoOiAxMDRweDsgZmxvYXQ6IHJpZ2h0OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzZweCA0MCU7IH0KICAgICAgLmduX2xvZ28gLmxvZ286ZW1wdHk6OmFmdGVyIHsgZmlsdGVyOiB1cmwoImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmclMjB2aWV3Qm94PSUyMjAlMjAwJTIwMTgzJTIwMjc2JTIyJTIwaWQ9JTIyaW1nMyUyMiUyMHhtbG5zPSUyMmh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTIyJTNFJTNDZmlsdGVyJTIwaWQ9JTIyaW52ZXJ0JTIyJTNFJTNDZmVDb21wb25lbnRUcmFuc2ZlciUzRSUzQ2ZlRnVuY1IlMjB0YWJsZVZhbHVlcz0lMjIxJTIwMCUyMiUyMHR5cGU9JTIydGFibGUlMjIvJTNFJTNDZmVGdW5jRyUyMHRhYmxlVmFsdWVzPSUyMjElMjAwJTIyJTIwdHlwZT0lMjJ0YWJsZSUyMi8lM0UlM0NmZUZ1bmNCJTIwdGFibGVWYWx1ZXM9JTIyMSUyMDAlMjIlMjB0eXBlPSUyMnRhYmxlJTIyLyUzRSUzQy9mZUNvbXBvbmVudFRyYW5zZmVyJTNFJTNDL2ZpbHRlciUzRSUzQy9zdmclM0UjaW52ZXJ0Iik7IC13ZWJraXQtZmlsdGVyOiBpbnZlcnQoMTAwJSk7IGZpbHRlcjogaW52ZXJ0KDEwMCUpOyB9CiAgICAgIC5GUkFNRV9tYWluIC5XQl9nbG9iYWxfbmF2IC5nbl9uYXZfbGlzdCBsaSAuaG9tZSBlbSB7IGNvbG9yOiAjZmE3ZDNjOyB9CiAgICAgIC5XQl9nbG9iYWxfbmF2IC5TX2ZpY29uLCAuV0JfZ2xvYmFsX25hdiAuU19maWNvbl9kaXMsIC5XQl9nbG9iYWxfbmF2IGEuU19maWNvbl9kaXM6aG92ZXIsIC5XQl9nbG9iYWxfbmF2IGE6aG92ZXIgLlNfZmljb25fZGlzIHsgY29sb3I6ICNhNmFmYmY7IH0KICAgICAgLldCX2dsb2JhbF9uYXYgLlNfdHh0MSwgLldCX2dsb2JhbF9uYXYgLlNXX2Z1biAuU19mdW5jMSB7IGNvbG9yOiAjZWVlOyB9CiAgICAqLyBub29wKCk7IH0pKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCi8vIOS6pOaNouWvvOiIqumTvuaOpeWSjOaQnOe0ouahhuS9jee9rgpmaWx0ZXIuaXRlbXMuc3R5bGUubGF5b3V0LnJlb3JkZXJfbmF2X2JhciA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnbGF5b3V0JywKICAndmVyc2lvbic6IDIyMSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wucmVvcmRlcl9uYXZfYmFyJywKICAndGV4dCc6ICd7e3Jlb3JkZXJOYXZCYXJ9fScsCiAgJ3JlZic6IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3tyZW9yZGVyTmF2QmFyRGVzY319JyB9IH0sCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgdmFyIG1vdmVOYXZMaXN0ID0gZnVuY3Rpb24gbW92ZU5hdkxpc3QoKSB7CiAgICAgIHZhciBzZWFyY2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuV0JfZ2xvYmFsX25hdiAuZ25fc2VhcmNoLCAuV0JfZ2xvYmFsX25hdiAuZ25fc2VhcmNoX3YyJyk7CiAgICAgIHZhciBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLldCX2dsb2JhbF9uYXYgLmduX2hlYWRlciAuZ25fcG9zaXRpb24gLmduX25hdiAuZ25fbmF2X2xpc3QnKTsKICAgICAgaWYgKCFzZWFyY2ggfHwgIWxpc3QpIHJldHVybjsKICAgICAgdmFyIGl0ZW1zID0gQXJyYXkuZnJvbShsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJykpLnNsaWNlKDAsIC0xKTsKICAgICAgdmFyIGdubGlzdCA9IHV0aWwuZG9tLmNyZWF0ZSgnPGRpdiBjbGFzcz0iZ25fbmF2Ij48dWwgY2xhc3M9ImduX25hdl9saXN0Ij48L3VsPjwvZGl2PicpOwogICAgICB2YXIgbmxpc3QgPSBnbmxpc3QucXVlcnlTZWxlY3RvcigndWwnKTsKICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAobCkgeyBubGlzdC5hcHBlbmRDaGlsZChsKTsgfSk7CiAgICAgIHNlYXJjaC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnbmxpc3QsIHNlYXJjaCk7CiAgICAgIHNlYXJjaC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHNlYXJjaCk7CiAgICAgIHV0aWwuY3NzLmFkZCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgICAuV0JfZ2xvYmFsX25hdiAuZ25fc2VhcmNoLCAuV0JfZ2xvYmFsX25hdiAuZ25fc2VhcmNoX3YyIHsgZmxvYXQ6IHJpZ2h0OyB9CiAgICAgICAgLldCX2dsb2JhbF9uYXYgLmduX2hlYWRlciB7IHRleHQtYWxpZ246IHJpZ2h0OyB9CiAgICAgICAgLldCX2dsb2JhbF9uYXYgLmduX2hlYWRlciA+ICogeyB0ZXh0LWFsaWduOiBsZWZ0OyB9CiAgICAgICAgLldCX2dsb2JhbF9uYXYgLmduX2hlYWRlciA+IC5nbl9uYXYgeyBtYXJnaW4tcmlnaHQ6IDA7IH0KICAgICAgICAuV0JfZ2xvYmFsX25hdl91cyAuZ25faGVhZGVyIHsgYmFja2dyb3VuZC1pbWFnZTogbm9uZTsgfQogICAgICAgIC5XQl9nbG9iYWxfbmF2X3VzIC5nbl9sb2dvLCAuV0JfZ2xvYmFsX25hdl91cyAuZ25fbG9nbyAuYm94LCAuV0JfZ2xvYmFsX25hdiAuZ25fbG9nbywgLldCX2dsb2JhbF9uYXYgLmduX2xvZ28gYSB7IHdpZHRoOiAxNDBweCAhaW1wb3J0YW50OyB9CiAgICAgICAgLldCX2dsb2JhbF9uYXYgLmduX2xvZ28gYSB7IGxlZnQ6IDAgIWltcG9ydGFudDsgfQogICAgICAgIC5XQl9nbG9iYWxfbmF2X3VzIC5nbl9sb2dvIC5ib3ggLmxvZ28sIC5XQl9nbG9iYWxfbmF2X3VzIC5nbl9sb2dvIC5ib3ggaW1nIHsgZGlzcGxheTogYmxvY2s7IH0KICAgICAgICAuV0JfZ2xvYmFsX25hdiAuZ25fbG9nbyAuYm94IC5sb2dvIHsgbWFyZ2luLWxlZnQ6IDA7IH0KICAgICAgICAuV0JfZ2xvYmFsX25hdl91cyAuZ25fcG9zaXRpb24geyBtYXJnaW4tcmlnaHQ6IDA7IH0KICAgICAgKi8gbm9vcCgpOyB9KSk7CiAgICAgIG9ic2VydmVyLmRvbS5yZW1vdmUobW92ZU5hdkxpc3QpOwogICAgfTsKICAgIG9ic2VydmVyLmRvbS5hZGQobW92ZU5hdkxpc3QpOwogICAgbW92ZU5hdkxpc3QoKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCi8vIOmakOiXj+aYteensApmaWx0ZXIuaXRlbXMuc3R5bGUubGF5b3V0Lm5hdl9oaWRlX25hbWUgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2xheW91dCcsCiAgJ3ZlcnNpb24nOiAzODQsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLm5hdl9oaWRlX25hbWUnLAogICd0ZXh0JzogJ3t7bmF2SGlkZU5hbWV9fScsCiAgJ3JlZic6IHsKICAgICdhY3QnOiB7CiAgICAgICd0eXBlJzogJ3NlbGVjdCcsCiAgICAgICdkZWZhdWx0JzogJ3JlcGxhY2UnLAogICAgICAnc2VsZWN0JzogWwogICAgICAgIHsgJ3ZhbHVlJzogJ2hpZGRlbicsICd0ZXh0JzogJ3t7bmF2SGlkZU5hbWVIaWRkZW59fScgfSwKICAgICAgICB7ICd2YWx1ZSc6ICdyZXBsYWNlJywgJ3RleHQnOiAne3t7bmF2SGlkZU5hbWVSZXBsYWNlfX19JyB9LAogICAgICBdLAogICAgfSwKICAgICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7bmF2SGlkZU5hbWVEZXNjfX0nIH0sCiAgfSwKICAnaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdGhpcy5jb25mKSB7CiAgICAgIHV0aWwuY3NzLmFkZCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgICAuV0JfZ2xvYmFsX25hdiAuZ25fbmF2X2xpc3QgbGkgLmduX25hbWUgLlNfdHh0MSB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgfQogICAgICAqLyBub29wKCk7IH0pKTsKICAgIH0gZWxzZSBpZiAodGhpcy5yZWYuYWN0LmNvbmYgPT09ICdyZXBsYWNlJykgewogICAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuZmlsbCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgICAuV0JfZ2xvYmFsX25hdiAuZ25fbmF2X2xpc3QgbGkgLmduX25hbWUgLlNfdHh0MTo6YmVmb3JlIHsgY29udGVudDogInt7bmF2SGlkZU5hbWVSZXBsYWNlVGV4dH19IjsgZGlzcGxheTogYmxvY2s7IH0KICAgICAgICAuV0JfZ2xvYmFsX25hdiAuZ25fbmF2X2xpc3QgbGkgLmduX25hbWUgLlNfdHh0MSB7IGhlaWdodDogMjZweDsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogNGVtOyB9CiAgICAgICovIG5vb3AoKTsgfSkpKTsKICAgIH0KICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCi8vIOWKoOWuveW+ruWNmgpmaWx0ZXIuaXRlbXMuc3R5bGUubGF5b3V0LndpZHRoX3dlaWJvID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdsYXlvdXQnLAogICd2ZXJzaW9uJzogMjQzLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICd0ZXh0JzogJ3t7d2lkdGhXZWlib319JywKICAna2V5JzogJ3dlaWJvLnRvb2wud2lkdGhfd2VpYm8nLAogICdyZWYnOiB7CiAgICAnd2lkdGgnOiB7CiAgICAgICd0eXBlJzogJ3JhbmdlJywKICAgICAgJ21pbic6IDQ4MCwKICAgICAgJ21heCc6IDEyODAsCiAgICAgICdkZWZhdWx0JzogNzUwLAogICAgICAnc3RlcCc6IDEwLAogICAgfSwKICAgICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7d2lkdGhXZWlib0Rlc2N9fScgfQogIH0sCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgaWYgKHV0aWwucGFnZS5zZWFyY2gpIHJldHVybjsKICAgIHZhciB3aWR0aCA9IHRoaXMucmVmLndpZHRoLmNvbmY7CiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuZmlsbCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgYm9keTpub3QoW3lhd2Ytd2VpYm8tb25seV0pIC5XQl9mcmFtZSB7IHdpZHRoOiBjYWxjKHt7d2lkdGh9fSArIDQwMHB4KSAhaW1wb3J0YW50OyB9CiAgICAgIGJvZHk6bm90KFt5YXdmLXdlaWJvLW9ubHldKSAjcGxjX21haW4geyB3aWR0aDogY2FsYyh7e3dpZHRofX0gKyAyNTBweCkgIWltcG9ydGFudDsgfQogICAgICBib2R5Om5vdChbeWF3Zi13ZWliby1vbmx5XSkgLldCX21haW5fYywKICAgICAgYm9keTpub3QoW3lhd2Ytd2VpYm8tb25seV0pIC5XQl9mcmFtZV9jIHsgd2lkdGg6IHt7d2lkdGh9fTsgfQogICAgICBib2R5Om5vdChbeWF3Zi13ZWliby1vbmx5XSkgLldCX3RhYl9hIC50YWJfYm94X2EgLmZyX2JveCB7IHdpZHRoOiBjYWxjKHt7d2lkdGh9fSAtIDMwMHB4KTsgfQogICAgICBib2R5Om5vdChbeWF3Zi13ZWliby1vbmx5XSkgLldCX3RhYl9hIC50YWJfYm94X2FfcjYgLmZyX2JveCB7IHdpZHRoOiBjYWxjKHt7d2lkdGh9fSAtIDMxMnB4KTsgfQogICAgICBib2R5Om5vdChbeWF3Zi13ZWliby1vbmx5XSkgLldCX3RhYl9hIC50YWJfYm94X2FfcjJfcyAuZnJfYm94IHsgd2lkdGg6IGNhbGMoe3t3aWR0aH19IC0gNDAwcHgpOyB9CiAgICAgIGJvZHk6bm90KFt5YXdmLXdlaWJvLW9ubHldKSBhLldfZ290b3AgeyBtYXJnaW4tbGVmdDogY2FsYyh7e3dpZHRofX0gLyAyICsgMjAwcHgpOyB9CiAgICAgIGJvZHk6bm90KFt5YXdmLXdlaWJvLW9ubHldKSAjaG9tZV9uZXdfZmVlZF90aXBbeWF3Zi1maXhlZF0sCiAgICAgIGJvZHk6bm90KFt5YXdmLXdlaWJvLW9ubHldKSBbeWF3Zi1pZD0iaG9tZV9uZXdfZmVlZF90aXAiXVt5YXdmLWZpeGVkXSB7IHdpZHRoOiB7e3dpZHRofX07IHRvcDogMTVweCB9CiAgICAgIGJvZHk6bm90KFt5YXdmLXdlaWJvLW9ubHldKSAjeWF3Zi1kcm9wLWFyZWEgeyBsZWZ0OiBjYWxjKDUwJSArIHt7d2lkdGh9fSAvIDIgLSA0MHB4KTsgfQogICAgICBib2R5Om5vdChbeWF3Zi13ZWliby1vbmx5XSkgLnByaXZhdGVfZGlhbG9ndWVfYm94IC5wcml2YXRlX2RpYWxvZ3VlX2JvZHkgeyB3aWR0aDoge3t3aWR0aH19OyB9CiAgICAgIGJvZHk6bm90KFt5YXdmLXdlaWJvLW9ubHldKSAud2ViaW1fY2hhdF93aW5kb3cgLnByaXZhdGVfZGlhbG9ndWVfYm94IC5wcml2YXRlX2RpYWxvZ3VlX2JvZHkgeyB3aWR0aDogNDAwcHg7IH0KICAgICAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTAwNnB4KSB7CiAgICAgICAgYm9keTpub3QoW3lhd2Ytd2VpYm8tb25seV0pIC5XQl9mcmFtZSB7IHdpZHRoOiBjYWxjKHt7d2lkdGh9fSArIDE2MHB4KSAhaW1wb3J0YW50OyB9CiAgICAgICAgYm9keTpub3QoW3lhd2Ytd2VpYm8tb25seV0pICNwbGNfbWFpbiB7IHdpZHRoOiBjYWxjKHt7d2lkdGh9fSArIDEwcHgpICFpbXBvcnRhbnQ7IH0KICAgICAgICBib2R5Om5vdChbeWF3Zi13ZWliby1vbmx5XSkgYS5XX2dvdG9wIHsgbWFyZ2luLWxlZnQ6IGNhbGMoe3t3aWR0aH19IC8gMiArIDgwcHgpOyB9CiAgICAgICAgYm9keTpub3QoW3lhd2Ytd2VpYm8tb25seV0pICN5YXdmLWRyb3AtYXJlYSB7IGxlZnQ6IGNhbGMoNTAlICsge3t3aWR0aH19IC8gMiAtIDIzMHB4KTsgfQogICAgICB9CgogICAgICBib2R5W3lhd2YtbWVyZ2UtbGVmdF06bm90KFt5YXdmLXdlaWJvLW9ubHldKSAuV0JfbWFpbiAuV0JfZnJhbWUgeyB3aWR0aDogY2FsYyh7e3dpZHRofX0gKyAyNDBweCkgIWltcG9ydGFudDsgbWF4LXdpZHRoOiAxMDAlOyB9CiAgICAgIGJvZHlbeWF3Zi1tZXJnZS1sZWZ0XTpub3QoW3lhd2Ytd2VpYm8tb25seV0pIGEuV19nb3RvcCB7IG1hcmdpbi1sZWZ0OiBjYWxjKHt7d2lkdGh9fSAvIDIgKyAxMzBweCk7IH0KICAgICAgYm9keVt5YXdmLW1lcmdlLWxlZnQ9ImxlZnQiXTpub3QoW3lhd2Ytd2VpYm8tb25seV0pICN5YXdmLWRyb3AtYXJlYSB7IGxlZnQ6IGNhbGMoNTAlIC0ge3t3aWR0aH19IC8gMiAtIDEyMHB4KTsgfQogICAgICBib2R5W3lhd2YtbWVyZ2UtbGVmdD0icmlnaHQiXTpub3QoW3lhd2Ytd2VpYm8tb25seV0pICN5YXdmLWRyb3AtYXJlYSB7IGxlZnQ6IGNhbGMoNTAlICsge3t3aWR0aH19IC8gMiAtIDExMHB4KTsgfQogICAgICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMDA2cHgpIHsKICAgICAgICBib2R5W3lhd2YtbWVyZ2UtbGVmdF06bm90KFt5YXdmLXdlaWJvLW9ubHldKSAuV0JfbWFpbiAuV0JfZnJhbWUgeyB3aWR0aDoge3t3aWR0aH19ICFpbXBvcnRhbnQ7IG1heC13aWR0aDogMTAwJTsgfQogICAgICAgIGJvZHlbeWF3Zi1tZXJnZS1sZWZ0XTpub3QoW3lhd2Ytd2VpYm8tb25seV0pIGEuV19nb3RvcCB7IG1hcmdpbi1sZWZ0OiBjYWxjKHt7d2lkdGh9fSAvIDIgKyAxMHB4KTsgfQogICAgICAgIGJvZHlbeWF3Zi1tZXJnZS1sZWZ0XTpub3QoW3lhd2Ytd2VpYm8tb25seV0pICN5YXdmLWRyb3AtYXJlYSB7IGxlZnQ6IGNhbGMoNTAlICsge3t3aWR0aH19IC8gMiAtIDIzMHB4KTsgfQogICAgICB9CgogICAgICA6bm90KFt5YXdmLXdlaWJvLW9ubHldKSA+IC5CX3BhZ2U6bm90KFt5YXdmLXdlaWJvLW9ubHldKSAuV0JfZnJhbWUgeyB3aWR0aDogY2FsYyh7e3dpZHRofX0gKyAzNDBweCkgIWltcG9ydGFudDsgfQogICAgICA6bm90KFt5YXdmLXdlaWJvLW9ubHldKSA+IC5CX3BhZ2U6bm90KFt5YXdmLXdlaWJvLW9ubHldKSAuV0JfZnJhbWUgI3BsY19tYWluIHsgd2lkdGg6IGNhbGMoe3t3aWR0aH19ICsgMzQwcHgpICFpbXBvcnRhbnQ7IH0KICAgICAgOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgPiAuQl9wYWdlOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgLldCX2ZyYW1lX2EsCiAgICAgIDpub3QoW3lhd2Ytd2VpYm8tb25seV0pID4gLkJfcGFnZTpub3QoW3lhd2Ytd2VpYm8tb25seV0pIC5XQl9mcmFtZV9hX2ZpeCB7IHdpZHRoOiBjYWxjKHt7d2lkdGh9fSArIDMyMHB4KTsgfQogICAgICA6bm90KFt5YXdmLXdlaWJvLW9ubHldKSA+IC5CX3BhZ2U6bm90KFt5YXdmLXdlaWJvLW9ubHldKSAuRFNDX2hlYWRlciB7IHdpZHRoOiBjYWxjKHt7d2lkdGh9fSArIDM0MHB4KTsgfQogICAgICA6bm90KFt5YXdmLXdlaWJvLW9ubHldKSA+IC5CX3BhZ2U6bm90KFt5YXdmLXdlaWJvLW9ubHldKSAuV0JfZnJhbWUgI3BsY19tYWluIHsgd2lkdGg6IGNhbGMoe3t3aWR0aH19ICsgMzQwcHgpICFpbXBvcnRhbnQ7IH0KICAgICAgOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgPiAuQl9wYWdlOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgYS5XX2dvdG9wIHsgbWFyZ2luLWxlZnQ6IGNhbGMoe3t3aWR0aH19IC8gMiArIDE2MHB4KTsgfQogICAgICA6bm90KFt5YXdmLXdlaWJvLW9ubHldKSA+IC5CX3BhZ2U6bm90KFt5YXdmLXdlaWJvLW9ubHldKSAuV0JfdGltZWxpbmUgeyBtYXJnaW4tbGVmdDogY2FsYyh7e3dpZHRofX0gLyAyICsgMTcwcHgpOyB9CiAgICAgIDpub3QoW3lhd2Ytd2VpYm8tb25seV0pID4gLkJfcGFnZTpub3QoW3lhd2Ytd2VpYm8tb25seV0pICN5YXdmLWRyb3AtYXJlYSB7IGxlZnQ6IGNhbGMoNTAlICsge3t3aWR0aH19IC8gMiAtIDcwcHgpOyB9CiAgICAgIDpub3QoW3lhd2Ytd2VpYm8tb25seV0pID4gLkJfcGFnZTpub3QoW3lhd2Ytd2VpYm8tb25seV0pIC5zZW5kX3dlaWJvX3NpbXBsZSAuaW5wdXRfc2ltcGxlX3dyYXAgLmlucHV0ZnVuY19zaW1wbGVfd3JhcCB7IHdpZHRoOiBjYWxjKHt7d2lkdGh9fSAtIDk2cHgpOyB9CiAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDkzOXB4KSB7CiAgICAgICAgOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgPiAuQl9wYWdlOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgLldCX2ZyYW1lIHsgd2lkdGg6IGNhbGMoe3t3aWR0aH19ICsgMHB4KSAhaW1wb3J0YW50OyB9CiAgICAgICAgOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgPiAuQl9wYWdlOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgLldCX2ZyYW1lX2EsCiAgICAgICAgOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgPiAuQl9wYWdlOm5vdChbeWF3Zi13ZWliby1vbmx5XSkgLldCX2ZyYW1lX2FfZml4IHsgd2lkdGg6IHt7d2lkdGh9fTsgfQogICAgICAgIDpub3QoW3lhd2Ytd2VpYm8tb25seV0pID4gLkJfcGFnZTpub3QoW3lhd2Ytd2VpYm8tb25seV0pIC5EU0NfaGVhZGVyIHsgd2lkdGg6IGNhbGMoe3t3aWR0aH19ICsgMjBweCk7IH0KICAgICAgICA6bm90KFt5YXdmLXdlaWJvLW9ubHldKSA+IC5CX3BhZ2U6bm90KFt5YXdmLXdlaWJvLW9ubHldKSAuV0JfZnJhbWUgI3BsY19tYWluIHsgd2lkdGg6IGNhbGMoe3t3aWR0aH19ICsgMjBweCkgIWltcG9ydGFudDsgfQogICAgICAgIDpub3QoW3lhd2Ytd2VpYm8tb25seV0pID4gLkJfcGFnZTpub3QoW3lhd2Ytd2VpYm8tb25seV0pIGEuV19nb3RvcCB7IG1hcmdpbi1sZWZ0OiBjYWxjKHt7d2lkdGh9fSAvIDIgKyAxMjBweCk7IH0KICAgICAgICA6bm90KFt5YXdmLXdlaWJvLW9ubHldKSA+IC5CX3BhZ2U6bm90KFt5YXdmLXdlaWJvLW9ubHldKSAjeWF3Zi1kcm9wLWFyZWEgeyBsZWZ0OiBjYWxjKDUwJSArIHt7d2lkdGh9fSAvIDIgLSAyMzBweCk7IH0KICAgICAgICA6bm90KFt5YXdmLXdlaWJvLW9ubHldKSA+IC5CX3BhZ2U6bm90KFt5YXdmLXdlaWJvLW9ubHldKSAuV0JfdGltZWxpbmUgeyBtYXJnaW4tbGVmdDogY2FsYyh7e3dpZHRofX0gLyAyICsgMTBweCk7IH0KICAgICAgfQoKICAgICAgYm9keS5CX2FydGljYWwgLldCX2ZyYW1lLAogICAgICBib2R5LkJfYXJ0aWNhbCAuV0JfZnJhbWUgI3BsY19tYWluLAogICAgICBib2R5LkJfYXJ0aWNhbCAuV0JfZnJhbWVfYSB7IHdpZHRoOiAxMDAwcHggIWltcG9ydGFudDsgfQoKICAgICAgLnNlbmRfd2VpYm8geyBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyB9CiAgICAqLyBub29wKCk7IH0pLCB7CiAgICAgICd3aWR0aCc6IHdpZHRoICsgJ3B4JywKICAgIH0pKTsKICAgIC8vIOino+WGs+WPkeW4g+ahhuS4i+aWueeahOaMiemSruWcqOe8qeWwj+WuveW6puaXtuaOkuWIl+S4jeWujOWFqOeahOmXrumimAogICAgaWYgKHdpZHRoIDwgNjAwKSB1dGlsLmNzcy5hZGQoJy5zZW5kX3dlaWJvIC5raW5kIGEgeyB3aWR0aDogMjBweDsgaGVpZ2h0OiAyNnB4OyBvdmVyZmxvdzogaGlkZGVuOyB9Jyk7CiAgfQp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCi8vIOmYheivu+aooeW8jwpmaWx0ZXIuaXRlbXMuc3R5bGUubGF5b3V0LndlaWJvX29ubHkgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2xheW91dCcsCiAgJ3ZlcnNpb24nOiAzMCwKICAndHlwZSc6ICdib29sZWFuJywKICAndGV4dCc6ICd7e3dlaWJvT25seX19JywKICAna2V5JzogJ3dlaWJvLnRvb2wud2VpYm9fb25seScsCiAgJ3JlZic6IHsKICAgIC8vIOWuveW6pgogICAgJ3dpZHRoJzogewogICAgICAndHlwZSc6ICdyYW5nZScsCiAgICAgICdtaW4nOiA0ODAsCiAgICAgICdtYXgnOiAxMjgwLAogICAgICAnZGVmYXVsdCc6IDYwMCwKICAgICAgJ3N0ZXAnOiAxMCwKICAgIH0sCiAgICAvLyDlv6vmjbfplK4KICAgICdrZXknOiB7CiAgICAgICd0eXBlJzogJ2tleScsCiAgICAgICdkZWZhdWx0JzogdXRpbC5rZXlib2FyZC5jb2RlLkY4LAogICAgfSwKICAgIC8vIOaYr+WQpuaYvuekuuW/q+aNt+mTvuaOpQogICAgJ3N3aXRjaCc6IHsKICAgICAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgICAgICdkZWZhdWx0JzogZmFsc2UsCiAgICB9LAogICAgJ2VuYWJsZWQnOiB7CiAgICAgICd0eXBlJzogJ2Jvb2xlYW4nLAogICAgICAnZGVmYXVsdCc6IGZhbHNlLAogICAgICAnaW50ZXJuYWwnOiB0cnVlLAogICAgfSwKICB9LAogICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHZhciBrZXkgPSB0aGF0LnJlZi5rZXksIGF0dHIgPSAneWF3Zi13ZWliby1vbmx5JzsKICAgIC8vIOWIh+aNoumYheivu+aooeW8j+W8gOWFswogICAgdmFyIHVwZGF0ZU1vZGUgPSBmdW5jdGlvbiAoZW5hYmxlKSB7CiAgICAgIHZhciBlbmFibGVkID0gZG9jdW1lbnQuYm9keS5oYXNBdHRyaWJ1dGUoYXR0cik7CiAgICAgIGlmIChlbmFibGUgPT09IG51bGwpIGVuYWJsZSA9ICFlbmFibGVkOwogICAgICB2YXIgdmFsaWQgPSBlbmFibGUgJiYgKCEhZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLldCX2ZyYW1lX2MsICN2Nl9wbF9jb250ZW50X2hvbWVmZWVkJykpOwogICAgICBpZiAodmFsaWQgIT09IGVuYWJsZWQpIHsKICAgICAgICBpZiAodmFsaWQpIGRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHIpOwogICAgICAgIGVsc2UgZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7CiAgICAgIH0KICAgICAgdGhhdC5yZWYuZW5hYmxlZC5wdXRjb25mKGVuYWJsZSk7CiAgICB9OwogICAgLy8g5qOA5p+l5b+r5o236ZSu5oyJ6ZSuCiAgICBpZiAoa2V5LmNvbmYpIHV0aWwua2V5Ym9hcmQucmVnKCdrZXl1cCcsIGtleS5jb25mLCBmdW5jdGlvbiAoZSkgewogICAgICB1cGRhdGVNb2RlKG51bGwpOwogICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgfSk7CiAgICAvLyDmmL7npLrliIfmjaLmjInpkq4KICAgIGlmICh0aGF0LnJlZlsnc3dpdGNoJ10uY29uZikgewogICAgICB2YXIgc2hvd1N3aXRjaCA9IGZ1bmN0aW9uIHNob3dSZWFkZXJTd2l0Y2goKSB7CiAgICAgICAgdmFyIHNlYXJjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2Nl9wbF9jb250ZW50X2hvbWVmZWVkIC5XQl90YWJfYSAudGFiX2JveF9hIC5mcl9ib3ggLnNlYXJjaF9ib3g6bm90KFt5YXdmLXdlaWJvLW9ubHktYWRkZWRdKSwgZGl2W2lkXj0iUGxfT2ZmaWNpYWxfUHJvZmlsZUZlZWROYXZfXyJdIC5XQl90YWJfYSAudGFiX2JveF9hIC5mcl9ib3ggLnNlYXJjaF9ib3g6bm90KFt5YXdmLXdlaWJvLW9ubHktYWRkZWRdKScpOwogICAgICAgIGlmICghc2VhcmNoKSByZXR1cm47IHNlYXJjaC5zZXRBdHRyaWJ1dGUoJ3lhd2Ytd2VpYm8tb25seS1hZGRlZCcsICdhZGRlZCcpOwogICAgICAgIHZhciB3ZWlib09ubHkgPSB1dGlsLmRvbS5jcmVhdGUoJ2RpdicsIHV0aWwuc3RyLmZpbGwoaHRtbC53ZWlib09ubHlCdXR0b24sIHsKICAgICAgICAgICdzaG9ydGN1dCc6IGtleS5jb25mID09PSAwID8gJycgOiAnICgnICsgdXRpbC5rZXlib2FyZC5uYW1lKGtleS5jb25mKSArICcpJywKICAgICAgICB9KSkuZmlyc3RDaGlsZDsKICAgICAgICB3ZWlib09ubHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1cGRhdGVNb2RlLmJpbmQodGhhdCwgbnVsbCkpOwogICAgICAgIHNlYXJjaC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHdlaWJvT25seSk7CiAgICAgIH07CiAgICAgIG9ic2VydmVyLmRvbS5hZGQoc2hvd1N3aXRjaCk7CiAgICB9CiAgICAvLyDms6jlhozmoLflvI8KICAgIHV0aWwuY3NzLmFkZCh1dGlsLnN0ci5maWxsKHV0aWwuc3RyLmNtdChmdW5jdGlvbiAoKSB7IC8qIUNTUwogICAgICBib2R5W3t7YXR0cn19XSAuV0JfbWluaWJsb2cgeyBwYWRkaW5nLXRvcDogNTBweDsgfQogICAgICBib2R5W3t7YXR0cn19XSAuV0JfZnJhbWU+Kjpub3QoI3BsY19tYWluKSwKICAgICAgYm9keVt7e2F0dHJ9fV0gI3BsY19tYWluPio6bm90KC5XQl9tYWluX2MpOm5vdCguV0JfZnJhbWVfYyk6bm90KC5XQl9tYWluX3IpOm5vdCguV0JfZnJhbWVfYiksCiAgICAgIGJvZHlbe3thdHRyfX1dIC5XQl9tYWluX2M+Kjpub3QoI3Y2X3BsX2NvbnRlbnRfaG9tZWZlZWQpLAogICAgICBib2R5W3t7YXR0cn19XSAjcGxjX2JvdCAuV0JfZm9vdGVyLCBib2R5W3t7YXR0cn19XSAjcGxjX2JvdCAuV19mb2xkLCBib2R5W3t7YXR0cn19XSAuV0JfZm9vdGVyIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAgIGJvZHlbe3thdHRyfX1dIC5XQl9tYWluIC5XQl9tYWluX2MgeyBmbG9hdDogcmlnaHQgIWltcG9ydGFudDsgfQogICAgICBib2R5W3t7YXR0cn19XSAjcGxjX21haW4+LldCX21haW5fciB7IHZpc2liaWxpdHk6IGhpZGRlbjsgbWFyZ2luLXJpZ2h0OiAtMjMwcHg7IH0KICAgICAgYm9keVt7e2F0dHJ9fV0gI3BsY19tYWluPi5XQl9mcmFtZV9iIHsgdmlzaWJpbGl0eTogaGlkZGVuOyBtYXJnaW4tcmlnaHQ6IC0zMDBweDsgfQogICAgICBib2R5W3t7YXR0cn19XSAuV0JfZnJhbWUsIGJvZHlbe3thdHRyfX1dW3lhd2YtbWVyZ2UtbGVmdD0ibGVmdCJdIC5XQl9tYWluIC5XQl9mcmFtZSB7IHdpZHRoOiBjYWxjKHt7d2lkdGh9fSArIDIwcHgpICFpbXBvcnRhbnQ7IG1heC13aWR0aDogMTAwJTsgfQogICAgICBib2R5W3t7YXR0cn19XSAjcGxjX21haW4geyB3aWR0aDogY2FsYyh7e3dpZHRofX0gKyAyMHB4KSAhaW1wb3J0YW50OyBtYXgtd2lkdGg6IDEwMCU7IH0KICAgICAgYm9keVt7e2F0dHJ9fV0gLldCX2dsb2JhbF9uYXYgeyBwb3NpdGlvbjogc3RhdGljOyBtYXJnaW4tdG9wOiAtNTBweDsgfQogICAgICBib2R5W3t7YXR0cn19XSAuV0JfbWFpbl9jIHsgd2lkdGg6IHt7d2lkdGh9fTsgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAyMHB4KTsgfQogICAgICBib2R5W3t7YXR0cn19XSAuV0JfdGFiX2EgLnRhYl9ib3hfYSAuZnJfYm94IHsgd2lkdGg6IGNhbGMoe3t3aWR0aH19IC0gMzAwcHgpOyBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDMwMHB4KTsgfQogICAgICBib2R5W3t7YXR0cn19XSAuV0JfdGFiX2EgLnRhYl9ib3hfYV9yMl9zIC5mcl9ib3ggeyB3aWR0aDogY2FsYyh7e3dpZHRofX0gLSA0MDBweCk7IG1heC13aWR0aDogY2FsYygxMDAlIC0gNDAwcHgpOyB9CiAgICAgIGJvZHlbe3thdHRyfX1dIC5XQl90YWJfYSAudGFiX2JveF9hX3I2IC5mcl9ib3ggeyB3aWR0aDogY2FsYyh7e3dpZHRofX0gLSAzMTJweCk7IH0KICAgICAgYm9keVt7e2F0dHJ9fV0gLldCX3RpbWVsaW5lIHsgbWFyZ2luLWxlZnQ6IGNhbGMoe3t3aWR0aH19IC8gMiArIDEwcHgpOyBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDEwcHgpOyB9CiAgICAgIGJvZHlbe3thdHRyfX1dIGEuV19nb3RvcCB7IG1hcmdpbi1sZWZ0OiBjYWxjKHt7d2lkdGh9fSAvIDIgKyAxMHB4KTsgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAxMHB4KTsgfQogICAgICBib2R5W3t7YXR0cn19XSAuV0JfZnJhbWVfYyB7IHdpZHRoOiB7e3dpZHRofX07IG1heC13aWR0aDogY2FsYygxMDAlIC0gMjBweCk7IH0KICAgICAgYm9keVt7e2F0dHJ9fV0gI2hvbWVfbmV3X2ZlZWRfdGlwW3lhd2YtZml4ZWRdLCBib2R5W3t7YXR0cn19XSBbeWF3Zi1pZD0iaG9tZV9uZXdfZmVlZF90aXAiXVt5YXdmLWZpeGVkXSB7IHdpZHRoOiB7e3dpZHRofX07IHRvcDogMTVweDsgfQogICAgICBib2R5W3t7YXR0cn19XSAjeWF3Zi1kcm9wLWFyZWEgeyBsZWZ0OiBjYWxjKDUwJSArIHt7d2lkdGh9fSAvIDIgLSAyMzBweCk7IH0KICAgICAgYm9keVt7e2F0dHJ9fV0gLldCX2ZlZWRfdjMgLldCX2ZhY2UgLm9wdCB7IHJpZ2h0OiBjYWxjKDEzMnB4IC0ge3t3aWR0aH19KTsgfQogICAgKi8gbm9vcCgpOyB9KSwgewogICAgICAnd2lkdGgnOiB0aGF0LnJlZi53aWR0aC5jb25mICsgJ3B4JywKICAgICAgJ2F0dHInOiBhdHRyLAogICAgfSkpOwogICAgdmFyIHVwZGF0ZU1vZGVCeUNvbmYgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHVwZGF0ZU1vZGUuY2FsbCh0aGF0LCB0aGF0LnJlZi5lbmFibGVkLmdldGNvbmYoKSk7CiAgICB9OwogICAgdXBkYXRlTW9kZUJ5Q29uZigpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24gKCkgewogICAgICB1cGRhdGVNb2RlLmNhbGwodGhhdCwgdGhhdC5yZWYuZW5hYmxlZC5nZXRjb25mKCkpOwogICAgfSk7CiAgICBvYnNlcnZlci5kb20uYWRkKGZ1bmN0aW9uIHVwZGF0ZVJlYWRlck1vZGUoKSB7CiAgICAgIHVwZGF0ZU1vZGUuY2FsbCh0aGF0LCB0aGF0LnJlZi5lbmFibGVkLmNvbmYpOwogICAgfSk7CiAgfQp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCi8vIOiuvue9ruaooeadvwpmaWx0ZXIuaXRlbXMuc3R5bGUubGF5b3V0LnNldF9za2luID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdsYXlvdXQnLAogICd2ZXJzaW9uJzogMzA3LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICd0ZXh0JzogJ3t7c2V0U2tpbn19JywKICAna2V5JzogJ3dlaWJvLnRvb2wuc2V0X3NraW4nLAogICdyZWYnOiB7CiAgICAnc2tpbic6IHsKICAgICAgJ3R5cGUnOiAnc2VsZWN0JywKICAgICAgJ2RlZmF1bHQnOiAnc2tpbjA1OCcsCiAgICAgICdzZWxlY3QnOiBPYmplY3Qua2V5cyhza2luKS5zb3J0KCkubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICB2YXIgdmFsID0gc2tpbltrZXldOwogICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh2YWwpLm1hcChmdW5jdGlvbiAoaW5kZXgpIHsKICAgICAgICAgIHZhciBudW0gPSBpbmRleC5zbGljZSgxKSwgc2tpbklkID0ga2V5ICsgbnVtOwogICAgICAgICAgcmV0dXJuIHsgJ3ZhbHVlJzogc2tpbklkLCAndGV4dCc6IHZhbFtpbmRleF0gKyAnICgnICsgc2tpbklkICsgJyknIH07CiAgICAgICAgfSk7CiAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAoeCwgeSkgeyByZXR1cm4geC5jb25jYXQoeSk7IH0pLAogICAgfSwKICAgICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7c2V0U2tpbkRlc2N9fScgfQogIH0sCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgdmFyIHVzZXJDb25maWdTa2luSWQgPSB0aGlzLnJlZi5za2luLmNvbmYsIHZlcnNpb24gPSAnJzsKICAgIHZhciBza2luU3R5bGUgPSBudWxsLCBjb3ZlclN0eWxlID0gbnVsbDsKICAgIHZhciBza2luSWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB1dGlsLnN0ci5wYXJzZXF1ZXJ5KGxvY2F0aW9uLnNlYXJjaC5zbGljZSgxKSkuc2tpbklkIHx8IHVzZXJDb25maWdTa2luSWQ7CiAgICB9OwogICAgdmFyIHNldFNraW5JZCA9IGZ1bmN0aW9uIChza2luSWQpIHsKICAgICAgc2tpblN0eWxlLmhyZWYgPSBza2luU3R5bGUuaHJlZi5yZXBsYWNlKC9cL3NraW5cL1teXC9dKlwvc2tpbi5jc3MvLCAnL3NraW4vJyArIHNraW5JZCArICcvc2tpbi5jc3MnKTsKICAgICAgdmFyIGNvdmVyQ3NzID0gJyNza2luX2NvdmVyX3MgeyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoImh0dHA6Ly9pbWcudC5zaW5hanMuY24vdDYvc2tpbi8nICsKICAgICAgICBza2luSWQgKyAnL2ltYWdlcy9wcm9maWxlX2NvdmVyX3MuanBnP3ZlcnNpb249JyArIHZlcnNpb24gKyAnIikgIWltcG9ydGFudDsgfSc7CiAgICAgIChjb3ZlclN0eWxlIHx8IChjb3ZlclN0eWxlID0gZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh1dGlsLmRvbS5jcmVhdGUoJ3N0eWxlJywgJycpKSkpLnRleHRDb250ZW50ID0gY292ZXJDc3M7CiAgICB9OwogICAgdmFyIHNldFNraW4gPSBmdW5jdGlvbiBzZXRTa2luKCkgewogICAgICB2YXIgaWQgPSBza2luSWQoKTsKICAgICAgaWYgKCFza2luU3R5bGUpIHsKICAgICAgICB2YXIgc2tpbkNzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbaHJlZl49Imh0dHA6Ly9pbWcudC5zaW5hanMuY24vdDYvc2tpbi8iXVtocmVmKj0iL3NraW4uY3NzPyJdJyk7CiAgICAgICAgaWYgKCFza2luQ3NzKSByZXR1cm47CiAgICAgICAgdmVyc2lvbiA9ICgoc2tpbkNzcy5ocmVmLm1hdGNoKC92ZXJzaW9uPShbYS1mQS1GMC05XSopLykgfHwgW10pWzFdKSB8fCAnJzsKICAgICAgICBza2luU3R5bGUgPSBza2luQ3NzLmNsb25lTm9kZSgpOyBza2luU3R5bGUuaWQgPSAneWF3Zi1za2luX3N0eWxlJzsKICAgICAgICBzZXRTa2luSWQoaWQpOwogICAgICB9CiAgICAgIHZhciBpc0hvbWUgPSBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnRlJBTUVfbWFpbicpOwogICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd5YXdmLXNraW5fc3R5bGUnKSB8fAogICAgICAgIC8vIOW+ruWNmuS4jeiDveS/neivgSBpZCDkuLogc2tpbl9zdHlsZSDnmoTlr7nosaHllK/kuIDvvIzmiYDku6XkuI3og73nlKggI3NraW5fc3R5bGUg6YCJ5oup5Zmo77yM56We5aWH5ZCnCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3lhd2Ytc2tpbl9zdHlsZSB+IFtpZD0ic2tpbl9zdHlsZSJdJykgfHwKICAgICAgICAoIWlzSG9tZSAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjeWF3Zi1za2luX3N0eWxlIH4gW2lkPSJjdXN0b21fc3R5bGUiXScpKQogICAgICApIHsKICAgICAgICBzZXRTa2luSWQoaWQpOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWQnKS5hcHBlbmRDaGlsZChza2luU3R5bGUpOwogICAgICB9CiAgICAgIC8vIOWmguaenOaYr+mmlumhte+8jOiAjOS4lOS9v+eUqOS6huiHquWumuS5ieaooeadv++8m+S/neivgeiHquWumuS5ieaooeadv+S8mOWFiOe6p++8iOS9huaYr+WcqOS4quS6uuS4u+mhteS4iuimhuebluiHquWumuS5ieaooeadv++8iQogICAgICBpZiAoaXNIb21lICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tpZD0iY3VzdG9tX3N0eWxlIl0gfiAjeWF3Zi1za2luX3N0eWxlJykpIHsKICAgICAgICB2YXIgY3VzdG9tX3N0eWxlX2xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbaWQ9ImN1c3RvbV9zdHlsZSJdJyk7CiAgICAgICAgdmFyIGN1c3RvbV9zdHlsZSA9IGN1c3RvbV9zdHlsZV9saXN0W2N1c3RvbV9zdHlsZV9saXN0Lmxlbmd0aCAtIDFdOwogICAgICAgIHNraW5TdHlsZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjdXN0b21fc3R5bGUsIHNraW5TdHlsZS5uZXh0U2libGluZyk7CiAgICAgIH0KICAgIH07CiAgICBvYnNlcnZlci5kb20uYWRkKHNldFNraW4pOwogIH0sCiAgJ2luaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB2YXIgcXVlcnkgPSB1dGlsLnN0ci5wYXJzZXF1ZXJ5KGxvY2F0aW9uLnNlYXJjaC5zbGljZSgxKSk7CiAgICB2YXIgc2tpbklkID0gcXVlcnkuc2tpbklkOyBpZiAoIXNraW5JZCkgcmV0dXJuOwogICAgdmFyIG5hbWUgPSBza2luW3NraW5JZC5yZXBsYWNlKC9cZCskLywgJycpXVsnXycgKyBza2luSWQucmVwbGFjZSgvXlxEKy8sICcnKV07IGlmICghbmFtZSkgcmV0dXJuOwogICAgdmFyIGNvbmZpcm0gPSB1dGlsLnVpLmNvbmZpcm0oJ3lhd2YtdXNlLXNraW4nLCB7CiAgICAgICd0aXRsZSc6IHV0aWwuc3RyLmZpbGwoJ3t7c2V0U2tpbkJ5UHJldmlld319JyksCiAgICAgICd0ZXh0JzogdXRpbC5zdHIuZmlsbCgne3t7c2V0U2tpbkJ5UHJldmlld0Rlc2N9fX0nLCB7ICduYW1lJzogbmFtZSB9KSwKICAgICAgJ29uT2snOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC5wdXRjb25mKHRydWUpOwogICAgICAgIHRoYXQucmVmLnNraW4ucHV0Y29uZihza2luSWQpOwogICAgICAgIGRlbGV0ZSBxdWVyeS5za2luSWQ7CiAgICAgICAgbG9jYXRpb24uc2VhcmNoID0gJz8nICsgdXRpbC5zdHIudG9xdWVyeShxdWVyeSk7CiAgICAgIH0sCiAgICB9KTsKICAgIGNvbmZpcm0uZG9tLnN0eWxlLnpJbmRleCA9ICcxMDAwMSc7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5zdHlsZSk7CgovLyDlvq7ljZrnm7jlhbPmoLflvI8KZmlsdGVyLnByZWRlZi5zdWJ0aXRsZSgnc3R5bGUnLCAnc3dlaWJvJywgJ3t7d2VpYm9TdHlsZVRpdGxlfX0nKTsKCi8vIOW+ruWNmuS9nOiAheS4juato+aWh+WQjOihjApmaWx0ZXIuaXRlbXMuc3R5bGUuc3dlaWJvLm5vX3dlaWJvX3NwYWNlID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdzd2VpYm8nLAogICd2ZXJzaW9uJzogMzMxLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8udG9vbC51bndyYXBUZXh0JywKICAndGV4dCc6ICd7e3Vud3JhcFRleHREZXNjfX0nLAogICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIHV0aWwuY3NzLmFkZCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgLldCX2ZlZWRfdHlwZSAuV0JfZGV0YWlsID4gLldCX2luZm8sIC5XQl9kZXRhaWwgPiAuV0JfaW5mbyB+IC5XQl90ZXh0LAogICAgICAuV0JfZmVlZF90eXBlIC5XQl9kZXRhaWwgLldCX2V4cGFuZCA+IC5XQl9pbmZvLCAuV0JfZXhwYW5kID4gLldCX2luZm8gfiAuV0JfdGV4dCB7IGRpc3BsYXk6IGlubGluZTsgd29yZC13cmFwOiBicmVhay13b3JkOyB9CgogICAgICAuV0JfZmVlZF90eXBlIC5XQl9kZXRhaWwgPiAuV0JfaW5mbzo6YWZ0ZXIsIC5XQl9leHBhbmQgPiAuV0JfaW5mbzo6YWZ0ZXIgeyBjb250ZW50OiAi77yaIjsgfQogICAgICAuV0JfZmVlZF90eXBlIC5XQl9kZXRhaWwgPiAuV0JfaW5mbyB+IC5XQl90ZXh0OjpiZWZvcmUgeyBkaXNwbGF5OiBibG9jazsgZmxvYXQ6IHJpZ2h0OyBjb250ZW50OiAiICI7IHdpZHRoOiAxNHB4OyBoZWlnaHQ6IDFweDsgfQoKICAgICAgLldCX2ZlZWRfdHlwZSAuV0JfZGV0YWlsID4gLldCX2luZm8gKyAuV0JfZnJvbSB7IGRpc3BsYXk6IG5vbmU7IH0KCiAgICAgIC5XQl9mZWVkX3R5cGVbeWF3Zi1oaWRlX2JveF0gLldCX2RldGFpbCA+IC5XQl9pbmZvIH4gLldCX3RleHQ6OmJlZm9yZSB7IHdpZHRoOiAzN3B4OyB9CiAgICAgIC5XQl9mZWVkX3R5cGUgLldCX2RldGFpbCA+IC5XQl9pbmZvIH4gLldCX3RleHQgKyAuV0JfZnJvbSB7IG1hcmdpbi10b3A6IDFlbTsgfQoKICAgICAgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfZmFjZSAub3B0IHsgbWFyZ2luOiAxMHB4IDAgMCAwOyBwb3NpdGlvbjogc3RhdGljOyByaWdodDogYXV0bzsgdG9wOiBhdXRvOyB9CgogICAgICBbaWRePSJQbF9Db3JlX1dlbmRhTGlzdF9fIl0gLldCX2ZlZWRfdHlwZSAuV0JfZGV0YWlsID4gLldCX2luZm8gfiAuV0JfdGV4dDo6YmVmb3JlIHsgd2lkdGg6IDY4cHg7IH0KICAgICovIG5vb3AoKTsgfSkpOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMuc3R5bGUpOwoKLy8g5pu/5o2i5b6u5Y2a5YaF55qE5o2i6KGM5Li65YW25LuW56ym5Y+3CmZpbHRlci5pdGVtcy5zdHlsZS5zd2VpYm8ubm9fd2VpYm9fYnJlYWsgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3N3ZWlibycsCiAgJ3ZlcnNpb24nOiAzMjMsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLnVud3JhcENvbnRlbnQnLAogICd0ZXh0JzogJ3t7dW53cmFwQ29udGVudH19JywKICAncmVmJzogewogICAgJ3RleHQnOiB7CiAgICAgICd0eXBlJzogJ3NlbGVjdCcsCiAgICAgICdkZWZhdWx0JzogJ+KPjicsCiAgICAgICdzZWxlY3QnOiBbCiAgICAgICAgeyAndmFsdWUnOiAnICcsICd0ZXh0JzogJyAnIH0sCiAgICAgICAgeyAndmFsdWUnOiAnIC8gJywgJ3RleHQnOiAnLycgfSwKICAgICAgICB7ICd2YWx1ZSc6ICfipLYnLCAndGV4dCc6ICfipLYnIH0sCiAgICAgICAgeyAndmFsdWUnOiAn4oa1JywgJ3RleHQnOiAn4oa1JyB9LAogICAgICAgIHsgJ3ZhbHVlJzogJ+KPjicsICd0ZXh0JzogJ+KPjicgfSwKICAgICAgICB7ICd2YWx1ZSc6ICfihrInLCAndGV4dCc6ICfihrInIH0sCiAgICAgICAgeyAndmFsdWUnOiAn4oapJywgJ3RleHQnOiAn4oapJyB9LAogICAgICBdLAogICAgfSwKICAgICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7dW53cmFwQ29udGVudERlc2N9fScgfQogIH0sCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgb2JzZXJ2ZXIuZG9tLmFkZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBiciA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLldCX3RleHQgYnInKSk7CiAgICAgIGJyLmZvckVhY2goZnVuY3Rpb24gKGIpIHsKICAgICAgICB2YXIgcCA9IHV0aWwuZG9tLmNyZWF0ZSgnc3BhbicsICcnKTsKICAgICAgICBwLmNsYXNzTmFtZSA9ICd5YXdmLWxpbmVicmVhayc7CiAgICAgICAgYi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChwLCBiKTsKICAgICAgfSk7CiAgICB9KTsKICAgIHV0aWwuY3NzLmFkZCgnLnlhd2YtbGluZWJyZWFrOjpiZWZvcmUgeyBjb250ZW50OiAiJyArIHRoaXMucmVmLnRleHQuY29uZiArICciIH0nKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCi8vIOe8qeWwj+WbvueJh+Wkp+Wwj+WIsOato+W4uOWwuuWvuApmaWx0ZXIuaXRlbXMuc3R5bGUuc3dlaWJvLmltYWdlX3NpemUgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3N3ZWlibycsCiAgJ3ZlcnNpb24nOiAzMzEsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLmltYWdlX3NpemUnLAogICd0ZXh0JzogJ3t7aW1hZ2VTaXplfX0nLAogICdyZWYnOiB7CiAgICAncmVwb3N0JzogeyAndHlwZSc6ICdib29sZWFuJyB9LAogICAgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnd2FybicsICd0ZXh0JzogJ3t7aW1hZ2VTaXplRGVzY319JyB9CiAgfSwKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuY210KGZ1bmN0aW9uICgpIHsgLyohQ1NTCiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX21lZGlhX2EgeyBtYXJnaW46IC0ycHggMCAwIDZweDsgd2lkdGg6IDI1OHB4OyB9CiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX21lZGlhX2FfbW4gLldCX3BpYyB7IHdpZHRoOiA4MHB4OyBoZWlnaHQ6IDgwcHg7IH0KICAgICAgLldCX2ZlZWQuV0JfZmVlZF92NCAuV0JfbWVkaWFfYV9tbiAuV0JfcGljIHsgd2lkdGg6IDgwcHggIWltcG9ydGFudDsgaGVpZ2h0OiA4MHB4ICFpbXBvcnRhbnQ7IH0KICAgICAgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfbWVkaWFfYV9tMSAuV0JfcGljIHsgbWF4LXdpZHRoOiAxMjBweDsgbWF4LWhlaWdodDogMTIwcHg7IG1pbi13aWR0aDogMzZweDsgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7IHdpZHRoOiBhdXRvICFpbXBvcnRhbnQ7IH0KICAgICAgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfbWVkaWFfYV9tMSAuV0JfcGljIGltZyB7IG1heC1oZWlnaHQ6IDEyMHB4OyBtYXgtd2lkdGg6IDEyMHB4OyB3aWR0aDogYXV0bzsgaGVpZ2h0OiBhdXRvOyBwb3NpdGlvbjogc3RhdGljOyAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTsgdHJhbnNmb3JtOiBub25lOyB9CiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX21lZGlhX2FfbTEgLldCX3ZpZGVvIHsgd2lkdGg6IDEyMHB4OyBoZWlnaHQ6IDgwcHg7IG1pbi13aWR0aDogMzZweDsgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9tZWRpYV9hX200IHsgd2lkdGg6IDE3MnB4OyB9CiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2ZlZWRfc3BlYyB7IGhlaWdodDogMTAwcHg7IHdpZHRoOiAzMTZweDsgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMjcsMTI3LDEyNywwLjMpOyBib3gtc2hhZG93OiAwIDAgMnB4IHJnYmEoMCwwLDAsMC4xNSk7IGJvcmRlci1yYWRpdXM6IDJweDsgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9mZWVkX3NwZWNfcGljIHsgaGVpZ2h0OiAxMDBweDsgd2lkdGg6IDEwMHB4OyB9CiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2ZlZWRfc3BlY19pbmZvIHsgaGVpZ2h0OiA4OHB4OyB3aWR0aDogMjAycHg7IHBhZGRpbmc6IDdweCA0cHggNXB4IDEwcHg7IH0KICAgICAgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfZmVlZF9zcGVjX2IyIC5XQl9mZWVkX3NwZWNfcGljLCAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9mZWVkX3NwZWNfYjIgLldCX2ZlZWRfc3BlY19waWMgaW1nLCAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9mZWVkX3NwZWNfYyAuV0JfZmVlZF9zcGVjX3BpYywgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfZmVlZF9zcGVjX2MgLldCX2ZlZWRfc3BlY19waWMgaW1nIHsgaGVpZ2h0OiBhdXRvOyBtaW4taGVpZ2h0OiAxMDBweDsgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9mZWVkX3NwZWNfYiAuV0JfZmVlZF9zcGVjX3BpYywgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfZmVlZF9zcGVjX2MgLldCX2ZlZWRfc3BlY19waWMsIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2ZlZWRfc3BlYzIgLldCX2ZlZWRfc3BlY19waWMgeyBoZWlnaHQ6IDEwMHB4OyB3aWR0aDogMjUwcHg7IH0KICAgICAgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfZmVlZF9zcGVjX2IsIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2ZlZWRfc3BlY19jLCAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9mZWVkX3NwZWMyIHsgd2lkdGg6IDI1MHB4OyBoZWlnaHQ6IGF1dG87IH0KICAgICAgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfZmVlZF9zcGVjX2luZm8geyBmbG9hdDogcmlnaHQ7IGhlaWdodDogODhweDsgcGFkZGluZzogN3B4IDRweCA1cHggMTBweDsgd2lkdGg6IDIwMnB4OyB9CiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2ZlZWRfc3BlY19iIC5XQl9mZWVkX3NwZWNfaW5mbywgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfZmVlZF9zcGVjX2MgLldCX2ZlZWRfc3BlY19pbmZvLCAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9mZWVkX3NwZWMyIC5XQl9mZWVkX3NwZWNfaW5mbyB7IGZsb2F0OiBub25lOyBoZWlnaHQ6IGF1dG87IHdpZHRoOiBhdXRvOyBwYWRkaW5nOiAxMHB4IDVweCAwOyB9CiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2ZlZWRfc3BlY19iIC5XQl9mZWVkX3NwZWNfaW5mbyAuV0JfZmVlZF9zcGVjX2NvbnQgLldCX2ZlZWRfc3BlY190aXQsIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2ZlZWRfc3BlY19jIC5XQl9mZWVkX3NwZWNfaW5mbyAuV0JfZmVlZF9zcGVjX2NvbnQgLldCX2ZlZWRfc3BlY190aXQsIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2ZlZWRfc3BlYzIgLldCX2ZlZWRfc3BlY19pbmZvIC5XQl9mZWVkX3NwZWNfY29udCAuV0JfZmVlZF9zcGVjX3RpdCB7IGZvbnQtc2l6ZTogaW5oZXJpdDsgZm9udC13ZWlnaHQ6IDcwMDsgbWFyZ2luOiAwIDAgNnB4OyB9CiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2ZlZWRfc3BlY19pbmZvIC5XQl9mZWVkX3NwZWNfY29udCAuV0JfZmVlZF9zcGVjX2JyaWVmdHh0IHsgbGluZS1oZWlnaHQ6IDE1cHg7IGhlaWdodDogMzBweDsgfQoKICAgICAgLmxheWVyX2ZlZWRpbWdzaG93IC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX21lZGlhX2EgeyBtYXJnaW46IDA7IHdpZHRoOiBhdXRvOyB9CiAgICAgIC5sYXllcl9mZWVkaW1nc2hvdyAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9tZWRpYV9hX20xIC5XQl9waWMgeyBtYXgtd2lkdGg6IG5vbmU7IG1heC1oZWlnaHQ6IG5vbmU7IG1pbi13aWR0aDogYXV0bzsgfQogICAgICAubGF5ZXJfZmVlZGltZ3Nob3cgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfbWVkaWFfYV9tMSAuV0JfcGljIGltZyB7IG1heC13aWR0aDogMjYwcHg7IG1heC13aWR0aDogNDB2dzsgbWF4LWhlaWdodDogMjYwcHg7IG1heC1oZWlnaHQ6IDQwdmg7IG1pbi13aWR0aDogYXV0bzsgfQoKICAgICAgLmh0bWw1LXZpZGVvLmh2LWMxIHsgd2lkdGg6IDEyMHB4OyBoZWlnaHQ6IDgwcHg7IH0KICAgICAgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfbWVkaWFfYV9tMSAuV0JfdmlkZW8uV0JfdmlkZW9faDUgeyB3aWR0aDogYXV0bzsgaGVpZ2h0OiBhdXRvOyBkaXNwbGF5OiB0YWJsZTsgfQogICAgKi8gbm9vcCgpOyB9KS5yZXBsYWNlKC9cL1wvLipcbi9nLCAnXG4nKSk7CiAgICBpZiAodGhpcy5yZWYucmVwb3N0LmNvbmYpIHV0aWwuY3NzLmFkZCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfZmVlZF9leHBhbmQgLldfYXJyb3dfYm9yIHsgZGlzcGxheTogYmxvY2s7IH0KICAgICAgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfZXhwYW5kX21lZGlhIHsgbWFyZ2luOiAycHggMCA4cHg7IHBhZGRpbmc6IDEycHggMTZweCAxNnB4OyB9CiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2V4cGFuZCB7IG1hcmdpbjogMCAwIDEwcHg7IHBhZGRpbmc6IDEwcHggMTZweCAxM3B4OyB9CiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2V4cGFuZCAuV0JfZnVuYyB7IG1hcmdpbjogMDsgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9leHBhbmRfbWVkaWFfYm94IHsgbWFyZ2luOiAwOyAgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9leHBhbmQgLldCX2V4cGFuZF9tZWRpYSB7IHBhZGRpbmc6IDAgMCA1cHg7IG1hcmdpbjogMDsgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9tZWRpYV92aWV3IHsgbWFyZ2luOiA2cHggYXV0byAwOyB9CiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX21lZGlhX3ZpZXcsIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX21lZGlhX3ZpZXcgLm1lZGlhX3Nob3dfYm94IGxpIHsgd2lkdGg6IDQ0MHB4OyB9CiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX21lZGlhX3ZpZXcgLm1lZGlhX3Nob3dfYm94IHVsIHsgbWFyZ2luLWxlZnQ6IC0zMnB4OyBwYWRkaW5nLWxlZnQ6IDMycHg7IH0KICAgICAgLldCX2ZlZWQuV0JfZmVlZF92MyAuYXJ0d29ya19ib3ggeyB3aWR0aDogNDQwcHg7IH0KICAgICAgLldCX2ZlZWQuV0JfZmVlZF92MyAuV0JfbWVkaWFfdmlldyAubWVkaWFfc2hvd19ib3ggaW1nIHsgbWF4LXdpZHRoOiA0NDBweDsgaGVpZ2h0OiBhdXRvOyB9CiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLmxheWVyX3ZpZXdfbW9yZXBpYyAudmlld19waWMgeyBwYWRkaW5nOiAwIDQwcHggMjBweDsgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9tZWRpYV92aWV3IC5waWNfY2hvb3NlX2JveCAuc3RhZ2VfYm94IHsgd2lkdGg6IDQ0MHB4OyB9CiAgICAgIC5XQl9mZWVkX2V4cGFuZCAuaHRtbDUtdmlkZW8uaHYtYzMgeyBtYXJnaW4tbGVmdDogLTIycHg7IH0KICAgICovIG5vb3AoKTsgfSkucmVwbGFjZSgvXC9cLy4qXG4vZywgJ1xuJykpOwogICAgLy8gRklYTUUg5YWr5Zu+5oiW5Lmd5Zu+5pe277yM5bGV5byA5ZCO5Zu+54mH5YiX6KGo5pi+56S65LiN5a6M5pW0CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5zdHlsZSk7CgovLyDljrvpmaTlvq7ljZrpl7TnmoTnvJ3pmpkKZmlsdGVyLml0ZW1zLnN0eWxlLnN3ZWliby5ub193ZWlib19zcGFjZSA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnc3dlaWJvJywKICAndmVyc2lvbic6IDMzMSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wubm9fd2VpYm9fc3BhY2UnLAogICd0ZXh0JzogJ3t7bm9XZWlib1NwYWNlfX0nLAogICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIGlmIChsb2NhdGlvbi5ocmVmLmluZGV4T2YoJy90dGFydGljbGUvcC9zaG93JykgIT09IC0xKSByZXR1cm47CiAgICAvLyBGSVhNRSDnrYnlhajpnaLmjqjmlrDniYjkuYvlkI7miormnIDlkI7kuKTmnaHmoLflvI/mlbTlkIjov5vljrvvvIzlubbkv67mlLnmiorml6XmnJ/mnaXmupDmjaLliLDmnIDlkI7lip/og73kuK3nmoTnm7jlhbPmoLflvI8KICAgIC8vIOacgOWQjuS4gOihjOaYr+S4uuS6huWPlua2iOi9rOWPkeagt+W8j+aBouWkjeWQjumineWklua3u+WKoOeahDEw5YOP57Sg5aSW6L656LedCiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuY210KGZ1bmN0aW9uICgpIHsgLyohQ1NTCgogICAgICAuV0JfZmVlZCAuV0JfY2FyZHdyYXAgeyBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7IG1hcmdpbjogMCAhaW1wb3J0YW50OyBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7IGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDsgfQogICAgICAuV0JfZmVlZCAuV0JfZmVlZF90eXBlIHsgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMTI4LCAxMjgsIDEyOCwgMC4zKSAhaW1wb3J0YW50OyBwYWRkaW5nOiAxMHB4IDAgMTBweCAwICFpbXBvcnRhbnQ7IG1hcmdpbjogLTFweCAwIDFweCAhaW1wb3J0YW50OyBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7IGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDsgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9mZWVkX3R5cGUgeyBwYWRkaW5nLXRvcDogMCAhaW1wb3J0YW50OyB9CiAgICAgIC5XQl9mZWVkIHsgYm94LXNoYWRvdzogMCAwIDJweCByZ2JhKDAsIDAsIDAsIDAuMikgIWltcG9ydGFudDsgfQoKICAgICAgLldCX2ZlZWRfdHlwZSAuV0JfZmVlZF9oYW5kbGUgPiAuV0JfaGFuZGxlLCAuV0JfZmVlZF90eXBlIC5XQl9mZWVkX2hhbmRsZSA+IC5XQl9oYW5kbGUgLldCX3Jvd19saW5lIC5saW5lIHsgaGVpZ2h0OiAxNnB4ICFpbXBvcnRhbnQ7IGxpbmUtaGVpZ2h0OiAxNS42cHggIWltcG9ydGFudDsgcGFkZGluZzogMCAhaW1wb3J0YW50OyBtYXJnaW46IDAgIWltcG9ydGFudDsgYm9yZGVyOiAwICFpbXBvcnRhbnQ7IH0KICAgICAgLldCX2ZlZWRfdHlwZSAuV0JfZmVlZF9oYW5kbGUgPiAuV0JfaGFuZGxlIHsgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7IGZsb2F0OiByaWdodCAhaW1wb3J0YW50OyBtYXJnaW46IDAgOHB4IDAgLTYwMHB4ICFpbXBvcnRhbnQ7IHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50OyB0b3A6IC0yNnB4ICFpbXBvcnRhbnQ7IG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7IHdpZHRoOiBhdXRvOyB9CiAgICAgIC5XQl9mZWVkX3R5cGUgLldCX2ZlZWRfaGFuZGxlIC5XQl9yb3dfbGluZSB7IGJvcmRlci10b3A6IDAgbm9uZSAhaW1wb3J0YW50OyBwYWRkaW5nLWJvdHRvbTogMTFweCAhaW1wb3J0YW50OyBtYXJnaW4tYm90dG9tOiAxMXB4ICFpbXBvcnRhbnQ7IG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDsgd2lkdGg6IGF1dG87IH0KICAgICAgLldCX2ZlZWRfdHlwZSAuV0JfZmVlZF9oYW5kbGUgLldCX3Jvd19saW5lIGxpIHsgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgcmdiYSgxMjcsIDEyNywgMTI3LCAwLjIpICFpbXBvcnRhbnQ7IHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50OyByaWdodDogLTFweCAhaW1wb3J0YW50OyBwYWRkaW5nOiAwIDEwcHggIWltcG9ydGFudDsgbWFyZ2luOiAycHggMCAhaW1wb3J0YW50OyBoZWlnaHQ6IDEycHggIWltcG9ydGFudDsgb3ZlcmZsb3c6IHZpc2libGUgIWltcG9ydGFudDsgd2lkdGg6IGF1dG87IH0KICAgICAgLldCX2ZlZWRfdHlwZSAuV0JfZmVlZF9oYW5kbGUgLldCX3Jvd19saW5lIGxpIGEgeyBtYXJnaW46IC0ycHggMCAhaW1wb3J0YW50OyBwYWRkaW5nOiAwOyB9CiAgICAgIC5XQl9mZWVkX3R5cGUgLldCX2ZlZWRfaGFuZGxlIC5XQl9yb3dfbGluZSAubGluZSAuaWNvbl9wcmFpc2VkX2IsIC5XQl9mZWVkX3R5cGUgLldCX2ZlZWRfaGFuZGxlIC5XQl9yb3dfbGluZSAubGluZSAuaWNvbl9wcmFpc2VkX2JjIHsgbWFyZ2luOiAxcHggMCAwICFpbXBvcnRhbnQ7IH0KICAgICAgLldCX2ZlZWRfdHlwZSAuV0JfZmVlZF9oYW5kbGUgLldCX3Jvd19saW5lIC5XX2Fycm93X2JvciB7IHRvcDogMHB4ICFpbXBvcnRhbnQ7IH0KICAgICAgLldCX2ZlZWRfcmVwZWF0LCAuV0JfZmVlZF90b2dldGhlciB7IG1hcmdpbi1ib3R0b206IC0xMHB4ICFpbXBvcnRhbnQ7IHBhZGRpbmctYm90dG9tOiAxMHB4ICFpbXBvcnRhbnQ7IH0KCiAgICAgIC5XQl9mZWVkIFtub2RlLXR5cGU9ImZlZWRfbGlzdF90aW1lVGlwIl0sIC5XQl9mZWVkIC55YXdmLXRpbWVUaXAgeyBoZWlnaHQ6IDMwcHggIWltcG9ydGFudDsgbWFyZ2luOiAtMTZweCAwIC0xNXB4ICFpbXBvcnRhbnQ7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7IHRleHQtYWxpZ246IGNlbnRlciAhaW1wb3J0YW50OyB9CiAgICAgIC5XQl9mZWVkIFtub2RlLXR5cGU9ImZlZWRfbGlzdF90aW1lVGV4dCJdLCAuV0JfZmVlZCAueWF3Zi10aW1lVGlwIGRpdiB7IGRpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50OyBjb2xvcjogcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjYpICFpbXBvcnRhbnQ7IH0KCiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2RldGFpbDo6YWZ0ZXIgeyBjb250ZW50OiAiICI7IGRpc3BsYXk6IGJsb2NrOyBoZWlnaHQ6IDM2cHg7IHdpZHRoOiAxMDAlOyAgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9zb25GZWVkIC5XQl9kZXRhaWw6OmFmdGVyIHsgZGlzcGxheTogbm9uZTsgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9kZXRhaWwgPiAuV0JfZnJvbTpsYXN0LWNoaWxkIHsgbWFyZ2luOiAxMHB4IDAgLTMxcHggMDsgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9leHBhbmQgeyBtYXJnaW4tYm90dG9tOiAwOyB9CgogICAgKi8gbm9vcCgpOyB9KS5yZXBsYWNlKC9cL1wvLipcbi9nLCAnXG4nKSk7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5zdHlsZSk7CgovLyDmiormnaXmupDmjaLliLDlvq7ljZrmnIDlkI7pnaLljrsKZmlsdGVyLml0ZW1zLnN0eWxlLnN3ZWliby5mcm9tX2luX2JvdHRvbSA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnc3dlaWJvJywKICAndmVyc2lvbic6IDMzMSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wuZnJvbV9pbl9ib3R0b20nLAogICd0ZXh0JzogJ3t7ZnJvbUluQm90dG9tfX0nLAogICdyZWYnOiB7ICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7ZnJvbUluQm90dG9tRGVzY319JyB9IH0sCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgb2JzZXJ2ZXIud2VpYm8ub25sb2FkKGZ1bmN0aW9uIChmZWVkKSB7CiAgICAgIHZhciBmcm9tID0gZmVlZC5xdWVyeVNlbGVjdG9yKCcuV0JfZGV0YWlsID4gLldCX2luZm8gKyAuV0JfZnJvbScpOwogICAgICBpZiAoZnJvbSkgZnJvbS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGZyb20pOwogICAgfSk7CiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuY210KGZ1bmN0aW9uICgpIHsgLyohQ1NTCiAgICAgIC5XQl9mZWVkLldCX2ZlZWRfdjMgLldCX2RldGFpbDo6YWZ0ZXIgeyBjb250ZW50OiAiICI7IGRpc3BsYXk6IGJsb2NrOyBoZWlnaHQ6IDM2cHg7IHdpZHRoOiAxMDAlOyAgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9zb25GZWVkIC5XQl9kZXRhaWw6OmFmdGVyIHsgZGlzcGxheTogbm9uZTsgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9kZXRhaWwgPiAuV0JfZnJvbTpsYXN0LWNoaWxkIHsgbWFyZ2luOiAxMHB4IDAgLTMxcHggMDsgfQogICAgICAuV0JfZmVlZC5XQl9mZWVkX3YzIC5XQl9leHBhbmQgeyBtYXJnaW4tYm90dG9tOiAwOyB9CiAgICAqLyBub29wKCk7IH0pKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCi8vIOaKiuadpea6kOaNouWIsOW+ruWNmuacgOWQjumdouWOuwpmaWx0ZXIuaXRlbXMuc3R5bGUuc3dlaWJvLnVzZXJfcGFnZV9ub19hdXRob3IgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ3N3ZWlibycsCiAgJ3ZlcnNpb24nOiAzNjksCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLnVzZXJfcGFnZV9ub19hdXRob3InLAogICd0ZXh0JzogJ3t7dXNlclBhZ2VOb0F1dGhvcn19JywKICAncmVmJzogewogICAgJ3dobyc6IHsKICAgICAgJ3R5cGUnOiAnc2VsZWN0JywKICAgICAgJ2RlZmF1bHQnOiAnYWxsJywKICAgICAgJ3NlbGVjdCc6IFsKICAgICAgICB7ICd2YWx1ZSc6ICdtaW5lJywgJ3RleHQnOiAne3t1c2VyUGFnZU5vQXV0aG9yTWluZX19JyB9LAogICAgICAgIHsgJ3ZhbHVlJzogJ2FsbCcsICd0ZXh0JzogJ3t7dXNlclBhZ2VOb0F1dGhvckFsbH19JyB9LAogICAgICBdLAogICAgfQogIH0sCiAgJ2Fpbml0JzogZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMucmVmLndoby5jb25mID09PSAnbWluZScgJiYgdXRpbC5pbmZvLm9pZCgpICE9PSB1dGlsLmluZm8udWlkKSByZXR1cm47CiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuY210KGZ1bmN0aW9uICgpIHsgLyohQ1NTCiAgICAgIC5GUkFNRV9wYWdlIFtpZF49IlBsX09mZmljaWFsX015UHJvZmlsZUZlZWRfXyJdIC5XQl9mZWVkX3YzOm5vdCguV0JfZmVlZF92M19vbmUpIC5XQl9mZWVkX3R5cGUgLldCX2ZlZWRfZGV0YWlsIC5XQl9mYWNlLAogICAgICAuRlJBTUVfcGFnZSBbaWRePSJQbF9PZmZpY2lhbF9NeVByb2ZpbGVGZWVkX18iXSAuV0JfZmVlZF92Mzpub3QoLldCX2ZlZWRfdjNfb25lKSAuV0JfZmVlZF90eXBlIC5XQl9mZWVkX2RldGFpbCAuV0JfZGV0YWlsID4gLldCX2luZm8geyBkaXNwbGF5OiBub25lOyB9CiAgICAgIC5GUkFNRV9wYWdlIFtpZF49IlBsX09mZmljaWFsX015UHJvZmlsZUZlZWRfXyJdIC5XQl9mZWVkX3YzOm5vdCguV0JfZmVlZF92M19vbmUpIC5XQl9mZWVkX3R5cGUgLldCX2RldGFpbCB7IG1hcmdpbi1sZWZ0OiAwOyB9CiAgICAqLyBub29wKCk7IH0pKTsKICAgIGlmICghZmlsdGVyLml0ZW1zLnN0eWxlLnN3ZWliby5pbWFnZV9zaXplLmNvbmYgfHwgIWZpbHRlci5pdGVtcy5zdHlsZS5zd2VpYm8uaW1hZ2Vfc2l6ZS5yZWYucmVwb3N0LmNvbmYpCiAgICAgIHV0aWwuY3NzLmFkZCgnLkZSQU1FX3BhZ2UgW2lkXj0iUGxfT2ZmaWNpYWxfTXlQcm9maWxlRmVlZF9fIl0gLldCX2ZlZWRfdjM6bm90KC5XQl9mZWVkX3YzX29uZSkgLldCX2ZlZWRfdHlwZSAuV0JfZXhwYW5kIHsgbWFyZ2luLWxlZnQ6IC0yMHB4OyBwYWRkaW5nLWxlZnQ6IDQwcHg7IH0nKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCi8vIOm8oOagh+a7kei/h+aKmOWPoOW+ruWNmuaXtuiHquWKqOWxleekuuWGheWuuQpmaWx0ZXIuaXRlbXMuc3R5bGUuc3dlaWJvLmhvdmVyX3Nob3dfZm9sZCA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnc3dlaWJvJywKICAndmVyc2lvbic6IDY4LAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICdrZXknOiAnd2VpYm8udG9vbC5ob3Zlcl9zaG93X2ZvbGQnLAogICd0ZXh0JzogJ3t7aG92ZXJTaG93Rm9sZH19JywKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuY210KGZ1bmN0aW9uICgpIHsgLyohQ1NTCiAgICAgIFtub2RlLXR5cGU9ImZlZWRfbGlzdCJdIC5XQl9mZWVkX3R5cGVbeWF3Zi1kaXNwbGF5JD0iLWZvbGQiXTpob3ZlciAuV0JfZmVlZF9kZXRhaWw6bm90KDpob3ZlcikgeyBtYXgtaGVpZ2h0OiAxMDAwcHg7IH0KICAgICovIG5vb3AoKTsgfSkpOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMuc3R5bGUpOwoKLy8g5oqY5Y+g5b6u5Y2a5aSW6KeCCmZpbHRlci5pdGVtcy5zdHlsZS5zd2VpYm8uZm9sZF90ZXh0ID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdzd2VpYm8nLAogICd2ZXJzaW9uJzogODgsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ2tleSc6ICd3ZWliby50b29sLmZvbGRfdGV4dCcsCiAgJ3JlZic6IHsKICAgICd0ZXh0JzogewogICAgICAndHlwZSc6ICdzZWxlY3QnLAogICAgICAnZGVmYXVsdCc6ICdhdXRob3ItcmVhc29uJywKICAgICAgJ3NlbGVjdCc6IFsKICAgICAgICB7ICd2YWx1ZSc6ICdhdXRob3InLCAndGV4dCc6ICd7e2ZvbGRlZFdlaWJvVGV4dEF1dGhvckRlc2N9fScgfSwKICAgICAgICB7ICd2YWx1ZSc6ICdyZWFzb24nLCAndGV4dCc6ICd7e2ZvbGRlZFdlaWJvVGV4dFJlYXNvbkRlc2N9fScgfSwKICAgICAgICB7ICd2YWx1ZSc6ICdhdXRob3ItcmVhc29uJywgJ3RleHQnOiAne3tmb2xkZWRXZWlib1RleHRBdXRob3JSZWFzb25EZXNjfX0nIH0sCiAgICAgIF0sCiAgICB9LAogIH0sCiAgJ3RleHQnOiAne3tmb2xkZWRXZWlib1RleHREZXNjfX0nLAogICdpbml0JzogZnVuY3Rpb24gKCkgewogICAgdmFyIHR5cGVzID0gWydhdXRob3InLCAncmVhc29uJ10sIHRoYXQgPSB0aGlzOwogICAgdmFyIGVuYWJsZWQgPSB0eXBlcy5tYXAoZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIHRoYXQuY29uZiAmJiB0aGF0LnJlZi50ZXh0LmNvbmYuaW5kZXhPZih0eXBlKSAhPT0gLTE7IH0pOwogICAgdXRpbC5jc3MuYWRkKGZ1bmN0aW9uIGdlbkNzcyhpbmRleCwgY2hvc2VuLCBwcmVmaXgpIHsKICAgICAgaWYgKGluZGV4ID09PSB0eXBlcy5sZW5ndGgpCiAgICAgICAgcmV0dXJuICdbbm9kZS10eXBlPSJmZWVkX2xpc3QiXSAuV0JfZmVlZF90eXBlW3lhd2YtZGlzcGxheSQ9Ii1mb2xkIl0nICsKICAgICAgICAgIGNob3NlbiArICc6OmJlZm9yZSAnICsKICAgICAgICAgICd7IGNvbnRlbnQ6ICcgKyB1dGlsLnN0ci5maWxsKCd7e3snICsgcHJlZml4ICsgJ319fScpICsgJzsgfVxuJzsKICAgICAgdmFyIHR5cGUgPSB0eXBlc1tpbmRleF0sIHR5cGVkID0gJ1t5YXdmLScgKyB0eXBlICsgJ10nOwogICAgICByZXR1cm4gW2ZhbHNlLCB0cnVlXS5tYXAoZnVuY3Rpb24gKGNob3NlKSB7CiAgICAgICAgcmV0dXJuIGdlbkNzcyhpbmRleCArIDEsCiAgICAgICAgICBjaG9zZSA/IHR5cGVkICsgY2hvc2VuIDogY2hvc2VuICsgJzpub3QoJyArIHR5cGVkICsgJyknLAogICAgICAgICAgcHJlZml4ICsgKGNob3NlICYmIGVuYWJsZWRbaW5kZXhdID8gdHlwZVswXS50b1VwcGVyQ2FzZSgpICsgdHlwZS5zbGljZSgxKSA6ICcnKSk7CiAgICAgIH0pLmpvaW4oJycpOwogICAgfSgwLCAnJywgJ2ZvbGRlZFdlaWJvVGV4dCcpKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCmlmIChmdW5jdGlvbiAoKSB7CiAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTsKICByZXR1cm4gJ29yZGVyJyBpbiBkIHx8ICdNb3pPcmRlcicgaW4gZCB8fCAnV2Via2l0T3JkZXInIGluIGQ7Cn0oKSkgKGZ1bmN0aW9uICgpIHsKCiAgLy8g55Sf5oiQ5LiA5Liq5LiL5ouJ5qGG55qE6YCJ6aG5CiAgdmFyIHJlb3JkZXJJdGVtQmFzZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBiYXNlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGRlZikgewogICAgICByZXR1cm4gewogICAgICAgICd0eXBlJzogJ3NlbGVjdCcsCiAgICAgICAgJ2RlZmF1bHQnOiBkZWYsCiAgICAgICAgJ3NlbGVjdCc6IG9wdGlvbnMubWFwKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICByZXR1cm4geyAndmFsdWUnOiBuLCAndGV4dCc6ICd7eycgKyBiYXNlICsgblswXS50b1VwcGVyQ2FzZSgpICsgbi5zbGljZSgxKSArICd9fScgfTsKICAgICAgICB9KSwKICAgICAgfTsKICAgIH07CiAgfTsKCiAgLy8g5L+d6K+B5Yeg5Liq5LiL5ouJ5qGG55qE5Lic6KW/5LiN5LiA5qC3CiAgdmFyIGtlZXBEaWYgPSBmdW5jdGlvbiAoa2V5LCBkZWZhdWx0cykgewogICAgdmFyIG51bXMgPSBBcnJheShkZWZhdWx0cy5sZW5ndGgpLmpvaW4oKS5zcGxpdCgnLCcpOwogICAgdmFyIGtleXMgPSBudW1zLm1hcChmdW5jdGlvbiAoXywgaSkgeyByZXR1cm4ga2V5ICsgJy4nICsgKGkgKyAxKTsgfSk7CiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGssIGkpIHsKICAgICAgdXRpbC5jb25maWcub25wdXQoaywgZnVuY3Rpb24gKHZhbCwgb2xkdmFsKSB7CiAgICAgICAgLy8g6K6+572u5b+F6aG75Zyo6YCJ6aG55Lit6YCJ5oupCiAgICAgICAgaWYgKGRlZmF1bHRzLmluZGV4T2YodmFsKSA9PT0gLTEpIHV0aWwuY29uZmlnLnB1dChrLCBkZWZhdWx0c1tpXSk7CiAgICAgICAgLy8g6ICM5LiU5LuW5Lus5b6X5ZCE5LiN5LiA5qC3CiAgICAgICAgZWxzZSB1dGlsLmZ1bmMuY2FsbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgY29uZiA9IGtleXMubWFwKGZ1bmN0aW9uICh0KSB7IHJldHVybiB1dGlsLmNvbmZpZy5nZXQodCk7IH0pOwogICAgICAgICAgdmFyIG90aGVycyA9IGRlZmF1bHRzLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gY29uZi5pbmRleE9mKHYpID09PSAtMTsgfSksIG8gPSAwOwogICAgICAgICAgY29uZi5mb3JFYWNoKGZ1bmN0aW9uICh2LCBqKSB7CiAgICAgICAgICAgIGlmICh2ID09PSB2YWwgJiYgaiAhPT0gaSkgdXRpbC5jb25maWcucHV0KGtleXNbal0sIG90aGVyc1tvKytdKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOyAvLyBkZWxheQogICAgICB9KTsgLy8gb25wdXQKICAgIH0pOyAvLyBrZXlzLmZvckVhY2gKICB9OwoKICAvLyDph43mlrDmjpLliJflvq7ljZrkuIvnmoTmjqfliLbmjInpkq4KICBmaWx0ZXIuaXRlbXMuc3R5bGUuc3dlaWJvLnJlb3JkZXIgPSAoZnVuY3Rpb24gKCkgewogICAgdmFyIHJlb3JkZXJJdGVtID0gcmVvcmRlckl0ZW1CYXNlKFsncG9wJywgJ2Zhdm9yaXRlJywgJ2ZvcndhcmQnLCAnY29tbWVudCcsICdsaWtlJ10sICdsYXlvdXRSZW9yZGVyJyk7CiAgICByZXR1cm4gZmlsdGVyLml0ZW0oewogICAgICAnZ3JvdXAnOiAnc3dlaWJvJywKICAgICAgJ3ZlcnNpb24nOiAxMjIsCiAgICAgICd0eXBlJzogJ2Jvb2xlYW4nLAogICAgICAnZGVmYXVsdCc6IHRydWUsCiAgICAgICdrZXknOiAnd2VpYm8ubGF5b3V0LnJlb3JkZXInLAogICAgICAndGV4dCc6ICd7e2xheW91dFJlb3JkZXJ9fScsCiAgICAgICdyZWYnOiB7CiAgICAgICAgJzEnOiByZW9yZGVySXRlbSgncG9wJyksCiAgICAgICAgJzInOiByZW9yZGVySXRlbSgnZmF2b3JpdGUnKSwKICAgICAgICAnMyc6IHJlb3JkZXJJdGVtKCdmb3J3YXJkJyksCiAgICAgICAgJzQnOiByZW9yZGVySXRlbSgnY29tbWVudCcpLAogICAgICAgICc1JzogcmVvcmRlckl0ZW0oJ2xpa2UnKSwKICAgICAgICAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICdhc2snLCAndGV4dCc6ICd7e2xheW91dFJlb3JkZXJEZXNjfX0nIH0sCiAgICAgIH0sCiAgICAgICdpbml0JzogZnVuY3Rpb24gKCkgeyBrZWVwRGlmKCd3ZWliby5sYXlvdXQucmVvcmRlcicsIFsncG9wJywgJ2Zhdm9yaXRlJywgJ2ZvcndhcmQnLCAnY29tbWVudCcsICdsaWtlJ10pOyB9LAogICAgICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJlZiA9IHRoaXMucmVmOwogICAgICAgIHV0aWwuY3NzLmFkZCgnLldCX2hhbmRsZSB1bCBsaVt5YXdmLWhhbmRsZS10eXBlPSJmbF9yZWFkIl0geyAtbW96LW9yZGVyOiAwOyAtd2Via2l0LW9yZGVyOiAwOyBvcmRlcjogMDsgfScgKyAnXG4nICsKICAgICAgICBbJzEnLCAnMicsICczJywgJzQnLCAnNSddLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICByZXR1cm4gJy5XQl9oYW5kbGUgdWwgbGlbeWF3Zi1oYW5kbGUtdHlwZT0iZmxfJyArIHJlZltrZXldLmNvbmYgKyAnIl0geyAtbW96LW9yZGVyOiAnICsga2V5ICsgJzsgLXdlYmtpdC1vcmRlcjogJyArIGtleSArICc7IG9yZGVyOiAnICsga2V5ICsgJzsgfSc7CiAgICAgICAgfSkuam9pbignXG4nKSk7CiAgICAgIH0sCiAgICB9KTsKICB9KCkpLmFkZHRvKGZpbHRlci5ncm91cHMuc3R5bGUpOwoKICAvLyDph43mlrDmjpLliJfor4TorrrkuIvnmoTmjqfliLbmjInpkq4KICBmaWx0ZXIuaXRlbXMuc3R5bGUuc3dlaWJvLmNtdHJlb3JkZXIgPSAoZnVuY3Rpb24gKCkgewogICAgdmFyIHJlb3JkZXJJdGVtID0gcmVvcmRlckl0ZW1CYXNlKFsncmVwb3J0JywgJ2RlbGV0ZScsICdjb252ZXJzaXRpb24nLCAncmVwbHknLCAnbGlrZSddLCAnbGF5b3V0Q29tbWVudFJlb3JkZXInKTsKICAgIHJldHVybiBmaWx0ZXIuaXRlbSh7CiAgICAgICdncm91cCc6ICdzd2VpYm8nLAogICAgICAndmVyc2lvbic6IDIyMCwKICAgICAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgICAgICdkZWZhdWx0JzogdHJ1ZSwKICAgICAgJ2tleSc6ICd3ZWliby5sYXlvdXQuY210b3JkZXInLAogICAgICAndGV4dCc6ICd7e2xheW91dENvbW1lbnRSZW9yZGVyfX0nLAogICAgICAncmVmJzogewogICAgICAgICcxJzogcmVvcmRlckl0ZW0oJ3JlcG9ydCcpLAogICAgICAgICcyJzogcmVvcmRlckl0ZW0oJ2RlbGV0ZScpLAogICAgICAgICczJzogcmVvcmRlckl0ZW0oJ2NvbnZlcnNpdGlvbicpLAogICAgICAgICc0JzogcmVvcmRlckl0ZW0oJ3JlcGx5JyksCiAgICAgICAgJzUnOiByZW9yZGVySXRlbSgnbGlrZScpLAogICAgICAgICdpJzogeyAndHlwZSc6ICdzaWNvbicsICdpY29uJzogJ2FzaycsICd0ZXh0JzogJ3t7bGF5b3V0Q29tbWVudFJlb3JkZXJEZXNjfX0nIH0sCiAgICAgIH0sCiAgICAgICdpbml0JzogZnVuY3Rpb24gKCkgeyBrZWVwRGlmKCd3ZWliby5sYXlvdXQuY210b3JkZXInLCBbJ3JlcG9ydCcsICdkZWxldGUnLCAnY29udmVyc2l0aW9uJywgJ3JlcGx5JywgJ2xpa2UnXSk7IH0sCiAgICAgICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcmVmID0gdGhpcy5yZWY7CiAgICAgICAgdXRpbC5jc3MuYWRkKFsnMScsICcyJywgJzMnLCAnNCcsICc1J10ubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIHJldHVybiAnLldCX2hhbmRsZSB1bCBsaVt5YXdmLWNvbW1lbnQtaGFuZGxlLXR5cGU9IicgKyByZWZba2V5XS5jb25mICsgJyJdIHsgLW1vei1vcmRlcjogJyArIGtleSArICc7IC13ZWJraXQtb3JkZXI6ICcgKyBrZXkgKyAnOyBvcmRlcjogJyArIGtleSArICc7IH0nOwogICAgICAgIH0pLmpvaW4oJ1xuJykpOwogICAgICB9LAogICAgfSk7CiAgfSgpKS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCn0oKSk7CgovLyDpopzoibLnm7jlhbPmoLflvI8KZmlsdGVyLnByZWRlZi5zdWJ0aXRsZSgnc3R5bGUnLCAnY29sb3InLCAne3tjb2xvclN0eWxlVGl0bGV9fScpOwoKLy8g6auY5Lqu5pi+56S655m95ZCN5Y2V5b6u5Y2aCmZpbHRlci5pdGVtcy5zdHlsZS5jb2xvci53aGl0ZWxpc3RfaGlnaGxpZ2h0ID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdjb2xvcicsCiAgJ3ZlcnNpb24nOiAxOCwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wud2hpdGVsaXN0X2hpZ2hsaWdodCcsCiAgJ3JlZic6IGZpbHRlci5yZWYucmdiYSgnI2RhZmVlNCcpLAogICd0ZXh0JzogJ3t7d2hpdGVsaXN0SGlnaGxpZ2h0RGVzY319JywKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuZmlsbCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gLldCX2ZlZWRfdHlwZVt5YXdmLWRpc3BsYXkkPSItc2hvdyJdIHsgYmFja2dyb3VuZC1jb2xvcjoge3tjb2xvcn19ICFpbXBvcnRhbnQ7IH0KICAgICovIG5vb3AoKTsgfSksIHsgJ2NvbG9yJzogJycgKyB0aGlzLnJlZi5yZ2JhIH0pKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCi8vIOmmlumhteiDjOaZrwpmaWx0ZXIuaXRlbXMuc3R5bGUuY29sb3IuY29sb3Jfb3ZlcnJpZGUgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2NvbG9yJywKICAndmVyc2lvbic6IDMzNSwKICAndHlwZSc6ICdib29sZWFuJywKICAna2V5JzogJ3dlaWJvLnRvb2wuY29sb3Jfb3ZlcnJpZGUnLAogICd0ZXh0JzogJ3t7Y29sb3JPdmVycmlkZX19JywKICAncmVmJzogT2JqZWN0LmFzc2lnbih7fSwKICAgIGZpbHRlci5yZWYucmdiYSgnI2Y2ZjZmNicsIDMwLCAnY29sb3IxJywgJ3RyYW5zcGFyZW5jeTEnLCAncmdiYTEnKSwKICAgIGZpbHRlci5yZWYucmdiYSgnI2ZmZmZmZicsIDMwLCAnY29sb3IyJywgJ3RyYW5zcGFyZW5jeTInLCAncmdiYTInKSwKICAgIGZpbHRlci5yZWYucmdiYSgnI2ZmZmZmZicsIDMwLCAnY29sb3IzJywgJ3RyYW5zcGFyZW5jeTMnLCAncmdiYTMnKSwKICAgIHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3tjb2xvck92ZXJyaWRlRGVzY319JyB9IH0KICApLAogICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh1dGlsLnBhZ2Uuc2VhcmNoKSByZXR1cm47CiAgICB1dGlsLmNzcy5hZGQodXRpbC5zdHIuZmlsbCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgYm9keSAuU19iZzEsIGJvZHkgLlNXX2Z1bl9iZzpob3ZlciwgYm9keSAuU1dfZnVuX2JnX2FjdGl2ZSB7IGJhY2tncm91bmQtY29sb3I6IHt7Y29sb3IxfX07IH0KICAgICAgYm9keSAuU19iZzIsIGJvZHkgYmxvY2txdW90ZSwgYm9keSAuV19idG5fYiwgYm9keSAuV19pbnB1dCwgYm9keSAuU1dfZnVuX2JnIHsgYmFja2dyb3VuZC1jb2xvcjoge3tjb2xvcjJ9fTsgfQogICAgICBib2R5IC5TX2JnMV9iciB7IGJvcmRlci1jb2xvcjoge3tjb2xvcjF9fTsgfQogICAgICBib2R5IC5TX2JnMl9iciB7IGJvcmRlci1jb2xvcjoge3tjb2xvcjJ9fTsgfQogICAgICBib2R5IC5XX2lucHV0LCBib2R5IC5zZW5kX3dlaWJvIC5pbnB1dCB7IGJhY2tncm91bmQtY29sb3I6IHt7Y29sb3IzfX07IH0KCiAgICAgIC5TX2JnMiAucHJpdmF0ZV9saXN0LlNXX2Z1bl9iZzpub3QoLmN1ciksCiAgICAgIC5XQl90YWJfYSAudGFiIC5TX2JnMiAuU19iZzIsCiAgICAgIC5TX2JnMiAuV0Jfd2ViaW1fcGFnZSAud2ViaW1fY29udGFjdHNfbW9kCiAgICAgIHsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH0KCiAgICAgIC5XQl9ub3RlcyB7IGJhY2tncm91bmQtY29sb3I6IHt7bm90ZXN9fSB9CgogICAgICAuV19hcnJvd19ib3JfdCBpLCAuV19hcnJvd19ib3JfdCBlbSB7IGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDsgYm9yZGVyLXJpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7IH0KICAgICAgLldfYXJyb3dfYm9yX3IgaSwgLldfYXJyb3dfYm9yX3IgZW0geyBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDsgYm9yZGVyLXJpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7IH0KICAgICAgLldfYXJyb3dfYm9yX2IgaSwgLldfYXJyb3dfYm9yX2IgZW0geyBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDsgYm9yZGVyLWxlZnQtY29sb3I6IHRyYW5zcGFyZW50OyBib3JkZXItcmlnaHQtY29sb3I6IHRyYW5zcGFyZW50OyB9CiAgICAgIC5XX2Fycm93X2Jvcl9sIGksIC5XX2Fycm93X2Jvcl9sIGVtIHsgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7IGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDsgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7IH0KCiAgICAgIC5XQl90YWJfYSAudGFiX2JveF9hX3IyIC50YWIgLmxpX2ZpcnN0LCAuV0JfdGFiX2EgLnRhYl9ib3hfYV9yMiAudGFiIC5saV9sYXN0IHsgZGlzcGxheTogbm9uZTsgfQogICAgICAuV0JfdGFiX2EgLnRhYl9ib3hfYSAudGFiIHsKICAgICAgICBkaXNwbGF5OiAtbW96LWZsZXg7IC1tb3otZmxleC1kaXJlY3Rpb246IHJvdzsgLW1vei1mbGV4LXdyYXA6IG5vd3JhcDsgLW1vei1qdXN0aWZ5LWNvbnRlbnQ6IC1tb3otc3BhY2UtYXJvdW5kOyAtbW96LWFsaWduLWl0ZW1zOiBzdHJldGNoOwogICAgICAgIGRpc3BsYXk6IC13ZWJraXQtZmxleDsgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogcm93OyAtd2Via2l0LWZsZXgtd3JhcDogbm93cmFwOyAtd2Via2l0LWp1c3RpZnktY29udGVudDogLXdlYmtpdC1zcGFjZS1hcm91bmQ7IC13ZWJraXQtYWxpZ24taXRlbXM6IHN0cmV0Y2g7CiAgICAgICAgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IHJvdzsgZmxleC13cmFwOiBub3dyYXA7IGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOyBhbGlnbi1pdGVtczogc3RyZXRjaDsKICAgICAgfQoKICAgICAgLldCX3RhYl9hIC50YWIgLnQgeyBoZWlnaHQ6IDM4cHg7IH0KICAgICAgLldCX3RhYl9hIC50YWIgLmIgeyBkaXNwbGF5OiBub25lOyB9CiAgICAgIC5XQl90YWJfYSAudGFiX2JveF9hIC50YWIuY2xlYXJmaXg6OmFmdGVyIHsgZGlzcGxheTogbm9uZTsgfQogICAgICAuV0JfdGFiX2EgLnRhYl9ib3hfYSAudGFiIGxpIHsgbWFyZ2luOiAwOyAtbW96LWZsZXgtZ3JvdzogMTsgLXdlYmtpdC1mbGV4LWdyb3c6IDE7IGZsZXgtZ3JvdzogMTsgfQogICAgICAuV0JfdGFiX2EgLnRhYl9ib3hfYV9yNiAudCB7IHdpZHRoOiBjYWxjKDEwMCUgLSAxNHB4KTsgfQoKICAgICAgLnNlYXJjaF9kaXJlY3RhcmVhLCAuV0JfZWRpdG9yX2lmcmFtZSB7IGJhY2tncm91bmQ6IG5vbmU7IH0KICAgICAgLnByaXZhdGVfbGlzdF9ib3ggLnByaXZhdGVfaGVhZCB7IHBhZGRpbmctYm90dG9tOiA4cHg7IH0KICAgICAgLnByaXZhdGVfbGlzdF9ib3ggLnByaXZhdGVfYm9keSB7IG1hcmdpbi10b3A6IDA7IH0KICAgICAgI3dlaWJvY2hhdCB7IGJhY2tncm91bmQ6IG5vbmU7IH0KICAgICovIG5vb3AoKTsgfSksIHsKICAgICAgJ2NvbG9yMSc6ICcnICsgdGhpcy5yZWYucmdiYTEsCiAgICAgICdjb2xvcjInOiAnJyArIHRoaXMucmVmLnJnYmEyLAogICAgICAnY29sb3IzJzogJycgKyB0aGlzLnJlZi5yZ2JhMywKICAgICAgJ25vdGVzJzogJycgKyB1dGlsLnN0ci5yZ2JhKCcjZmZmOGJmJywgTWF0aC5yb3VuZCgxMDAgLSBNYXRoLnBvdygxMDAgLSB0aGlzLnJlZi50cmFuc3BhcmVuY3kxLmNvbmYsIDMpIC8gMWU0KSksCiAgICB9KSk7CiAgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5zdHlsZSk7CgovLyDmoLflvI8KZmlsdGVyLnByZWRlZi5zdWJ0aXRsZSgnc3R5bGUnLCAnY3NzJywgJ3t7Q1NTVGl0bGV9fScpOwoKLy8g6Ieq5a6a5LmJ5qC35byPCmZpbHRlci5pdGVtcy5zdHlsZS5jc3MudXNlcnN0eWxlID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdjc3MnLAogICd2ZXJzaW9uJzogOSwKICAndHlwZSc6ICdzdHJpbmcnLAogICd0ZXh0JzogJ3t7dXNlcnN0eWxlVGl0bGV9fScsCiAgJ2tleSc6ICd3ZWliby50b29sLnVzZXJzdHlsZScsCiAgJ2luaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY29uZiA9IHRoaXMuY29uZjsgR01fYWRkU3R5bGUoY29uZik7CiAgICB2YXIgc2V0ID0gdGhpcy5wdXRjb25mLmJpbmQodGhpcyk7CiAgICAvLyDlnKggR00g5Lit5rOo5YaM6I+c5Y2V6aG55Lul5pSv5oyB5a+56Ieq5a6a5LmJIENTUyDnmoTkv67mlLkKICAgIC8vIOatpOWkhOW5tumdnuW4uOinhOiuvue9ruaWueW8j++8jOS7heW6lOWcqOWboOeUqOaIt+WKoOWFpeeahENTU+WvvOiHtOaXoOazleato+W4uOaYvuekuuiEmuacrOiuvue9rueVjOmdouaXtuS9v+eUqOOAggogICAgLy8g5omA5Lul5q2k5aSE6K6+572u5pe25LiN5bqU5L6d6LWW572R6aG155WM6Z2i5a6e546w44CCCiAgICB2YXIgcHV0Y29uZiA9IGZ1bmN0aW9uIChjc3MpIHsKICAgICAgY29uZiA9IGNzczsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHNldChjc3MpOyB1dGlsLmNvbmZpZy53cml0ZSgpOyBsb2NhdGlvbi5yZWxvYWQoKTsgfSwgMCk7CiAgICB9OwogICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCh1dGlsLnN0ci5maWxsKCd7e3VzZXJzdHlsZUVkaXREZXNjfX0nKSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgbmV3Y3NzID0gcHJvbXB0KHV0aWwuc3RyLmZpbGwoJ3t7dXNlcnN0eWxlRWRpdERldGFpbHN9fScpLCBjb25mKTsKICAgICAgaWYgKG5ld2NzcyAhPT0gbnVsbCkgcHV0Y29uZihuZXdjc3MpOwogICAgfSwgIlMiKTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN0eWxlKTsKCi8vIOiEmuacrOiuvue9rgpmaWx0ZXIucHJlZGVmLmdyb3VwKCdzY3JpcHQnKTsKZmlsdGVyLml0ZW1zLnNjcmlwdCA9IHt9OwoKLy8g5a+85YWl5a+85Ye6CmZpbHRlci5wcmVkZWYuc3VidGl0bGUoJ3NjcmlwdCcsICdpbXBvcnRleHBvcnQnLCAne3tjb25maWdJbXBvcnRBbmRFeHBvcnR9fScpOwoKZmlsdGVyLml0ZW1zLnNjcmlwdC5pbXBvcnRleHBvcnQuaW1wb3J0ZXhwb3J0ID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdpbXBvcnRleHBvcnQnLAogICd2ZXJzaW9uJzogNiwKICAnaW1wb3J0JzogZnVuY3Rpb24gKHRleHQsIGNhbGxiYWNrKSB7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAvLyDlr7zlhaXmiJDlip8KICAgIHZhciBzdWNjZXNzID0gZnVuY3Rpb24gKCkgewogICAgICB1dGlsLnVpLmFsZXJ0KCd5YXdmLWNvbmZpZy1pbXBvcnQtc3VjY2VzcycsIHsKICAgICAgICAndGl0bGUnOiB1dGlsLnN0ci5maWxsKCd7e2NvbmZpZ0ltcG9ydFN1Y2Nlc3NUaXRsZX19JyksCiAgICAgICAgJ3RleHQnOiB1dGlsLnN0ci5maWxsKCd7e2NvbmZpZ0ltcG9ydFN1Y2Nlc3N9fScpLAogICAgICAgICdpY29uJzogJ3N1Y2MnCiAgICAgIH0pOwogICAgfTsKICAgIC8vIOWvvOWFpeWksei0pQogICAgdmFyIGVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICB1dGlsLnVpLmFsZXJ0KCd5YXdmLWNvbmZpZy1pbXBvcnQtZmFpbCcsIHsKICAgICAgICAndGl0bGUnOiB1dGlsLnN0ci5maWxsKCd7e2NvbmZpZ0ltcG9ydEZhaWxUaXRsZX19JyksCiAgICAgICAgJ3RleHQnOiB1dGlsLnN0ci5maWxsKCd7e2NvbmZpZ0ltcG9ydEZhaWx9fScpLAogICAgICAgICdpY29uJzogJ2Vycm9yJwogICAgICB9KTsKICAgIH07CiAgICBpZiAoIXRleHQpIHJldHVybiBlcnJvcigpOwogICAgLy8g56Gu6K6k5a+85YWlCiAgICB1dGlsLnVpLmNvbmZpcm0oJ3lhd2YtY29uZmlnLWltcG9ydC13YXJuaW5nJywgewogICAgICAndGl0bGUnOiB1dGlsLnN0ci5maWxsKCd7e2NvbmZpZ0ltcG9ydFdhcm5pbmdUaXRsZX19JyksCiAgICAgICd0ZXh0JzogdXRpbC5zdHIuZmlsbCgne3tjb25maWdJbXBvcnRXYXJuaW5nfX0nKSwKICAgICAgJ29uT2snOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHZlcnNpb24gPSB1dGlsLmNvbmZpZ1snaW1wb3J0J10odGV4dCk7CiAgICAgICAgaWYgKHZlcnNpb24gIT09IHZvaWQgMCkgewogICAgICAgICAgdGhhdFsnZXhwb3J0J10oKTsKICAgICAgICAgIGlmICh2ZXJzaW9uID4gMCkgewogICAgICAgICAgICB1cGRhdGVyLndoYXRzbmV3KHZlcnNpb24pOwogICAgICAgICAgICBzdWNjZXNzKCk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKHZlcnNpb24pOwogICAgICAgIH0gZWxzZSB7IGVycm9yKCk7IH0KICAgICAgICByZXR1cm4gdmVyc2lvbjsKICAgICAgfSwKICAgIH0pOwogIH0sCiAgJ2V4cG9ydCc6IGZ1bmN0aW9uIChiZSkgewogICAgdmFyIGNvbmYgPSB1dGlsLmNvbmZpZ1snZXhwb3J0J10oKTsKICAgIGJlID0gYmUgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYS55YXdmLWV4cG9ydCcpOwogICAgaWYgKGJlKSB7CiAgICAgIGJlLmhyZWYgPSAnZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCcgKwogICAgICAgIHV0aWwuc3RyLmJhc2U2NCh1dGlsLmNvbmZpZ1snZXhwb3J0J10oKSk7CiAgICAgIGJlLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAneWF3Zi1jb25maWcueWF3ZicpOwogICAgfQogICAgcmV0dXJuIGNvbmY7CiAgfSwKICAncmVzZXQnOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB1dGlsLnVpLmNvbmZpcm0oJ3lhd2YtY29uZmlnLXJlc2V0LXdhcm5pbmcnLCB7CiAgICAgICd0aXRsZSc6IHV0aWwuc3RyLmZpbGwoJ3t7Y29uZmlnUmVzZXRXYXJuaW5nVGl0bGV9fScpLAogICAgICAndGV4dCc6IHV0aWwuc3RyLmZpbGwoJ3t7Y29uZmlnUmVzZXRXYXJuaW5nfX0nKSwKICAgICAgJ29uT2snOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdXRpbC5jb25maWcuY2xlYXIoKTsKICAgICAgICBHTV9kZWxldGVWYWx1ZSgnbm90aWZpY2F0aW9uJyk7CiAgICAgICAgR01fZGVsZXRlVmFsdWUoJ2ZvbGxvd2luZ19pbmZvXycgKyB1dGlsLmluZm8udWlkKTsKICAgICAgICBHTV9kZWxldGVWYWx1ZSgnZm9sbG93aW5nX25vdGljZV8nICsgdXRpbC5pbmZvLnVpZCk7CiAgICAgICAgR01fZGVsZXRlVmFsdWUoJ2ZvbGxvd2luZ19saXN0X2ZldGNoaW5nJyk7CiAgICAgICAgR01fZGVsZXRlVmFsdWUoJ2ZvbGxvd2luZ19saXN0X2ZldGNoaW5nX3RpbWVzdGFtcCcpOwogICAgICAgIEdNX2RlbGV0ZVZhbHVlKCdyZWNlbnRtaWQnKTsKICAgICAgICBHTV9kZWxldGVWYWx1ZSgnbG9uZ193ZWlib19jYWNoZScpOwogICAgICAgIHRoYXRbJ2V4cG9ydCddKCk7CiAgICAgIH0sCiAgICB9KTsKICB9LAogICdzaG93JzogZnVuY3Rpb24gKCkgewogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgdmFyIGRvbSA9IHV0aWwuZG9tLmNyZWF0ZShodG1sLmNvbmZpZ0ltcG9ydEV4cG9ydCk7CiAgICB2YXIgYmlpID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9ImZpbGUiXScpOwogICAgdmFyIGJlID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJ2EueWF3Zi1leHBvcnQnKTsKICAgIHZhciBiciA9IGRvbS5xdWVyeVNlbGVjdG9yKCdhLnlhd2YtcmVzZXQnKTsKICAgIC8vIOWvvOWFpeaMiemSrgogICAgYmlpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGZpbGUgPSBiaWkuZmlsZXNbMF07CiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICBpZiAoZmlsZS5zaXplID4gKDEgPDwgMjQpKSB0aGF0WydpbXBvcnQnXSgpOwogICAgICBlbHNlIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkgewogICAgICAgIHRoYXRbJ2ltcG9ydCddKHJlYWRlci5yZXN1bHQpOwogICAgICB9KTsKICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7CiAgICAgIGJpaS52YWx1ZSA9ICcnOwogICAgfSk7CiAgICAvLyDlr7zlh7rmjInpkq4KICAgIHRoYXRbJ2V4cG9ydCddKGJlKTsKICAgIC8vIOmHjee9ruaMiemSrgogICAgYnIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGF0LnJlc2V0LmJpbmQodGhhdCkpOwogICAgcmV0dXJuIGRvbTsKICB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnNjcmlwdCk7CgovLyDku47igJznnLzkuI3op4Hlv4PkuI3ng6bigJ3lr7zlhaXorr7nva4KdmFyIHdicCA9IHt9OwoKd2JwLmNvbmZpZyA9IG51bGw7Cgp3YnAuY29udmVydGVyID0gdXRpbC5mdW5jLmNhdGNoZWQoZnVuY3Rpb24gKCkgewogIHZhciB3YnBDb25maWcgPSB3YnAuY29uZmlnOwogIHZhciByZXN1bHQgPSB7ICd5YXdmJzogJ1dCUCAtIFlBV0YgQ29udmVydGVyJywgJ3Zlcic6ICcwJywgJ2NvbmYnOiB7fSB9OwogIHZhciBjb25mID0gcmVzdWx0LmNvbmY7CiAgdmFyIHJlYWRXYnBDb25maWcgPSBmdW5jdGlvbiAoa2V5KSB7CiAgICByZXR1cm4gd2JwQ29uZmlnW2tleV07CiAgfTsKICB3YnAuY29udmVydGVyLnRhYmxlKCkuZm9yRWFjaCh1dGlsLmZ1bmMuY2F0Y2hlZChmdW5jdGlvbiAoY29uZmlnKSB7CiAgICB2YXIgd2JwS2V5ID0gY29uZmlnLndicCwgeWF3ZktleSA9IGNvbmZpZy55YXdmOwogICAgdmFyIHdicFZhbHVlID0gdm9pZCAwOwogICAgaWYgKHdicEtleSkgewogICAgICBpZiAoQXJyYXkuaXNBcnJheShjb25maWcud2JwKSkgd2JwVmFsdWUgPSB3YnBLZXkubWFwKHJlYWRXYnBDb25maWcpOwogICAgICBlbHNlIHdicFZhbHVlID0gcmVhZFdicENvbmZpZyh3YnBLZXkpOwogICAgfQogICAgdmFyIHlhd2ZWYWx1ZSA9IGNvbmZpZy5tYXAod2JwVmFsdWUpOwogICAgdXRpbC5kZWJ1ZygnV0JQMllBV0YgJW89JW8gLT4gJW89JW8nLCB3YnBLZXksIHdicFZhbHVlLCB5YXdmS2V5LCB5YXdmVmFsdWUpOwogICAgaWYgKHlhd2ZLZXkpIGNvbmZbeWF3ZktleV0gPSB5YXdmVmFsdWU7CiAgfSkpOwogIHJldHVybiByZXN1bHQ7Cn0pOwoKLy8g54m55q6K6L2s5o2i6KeE5YiZCndicC5jb252ZXJ0ZXIucnVsZXMgPSB7fTsKCndicC5jb252ZXJ0ZXIucnVsZXMua2V5d29yZCA9IHt9OwovLyDlhbPplK7or43liLDlhbPplK7or43nmoTovazmjaIKd2JwLmNvbnZlcnRlci5ydWxlcy5rZXl3b3JkLmtleXdvcmQgPSBmdW5jdGlvbiAoa2V5d29yZHMpIHsKICByZXR1cm4ga2V5d29yZHMuZmlsdGVyKGZ1bmN0aW9uIChrZXl3b3JkKSB7CiAgICAvLyDlhbPplK7or43kuI3lpITnkIbmraPliJnlvI8KICAgIGlmIChrZXl3b3JkLmxlbmd0aCA+IDIgJiYga2V5d29yZFswXSA9PT0gJy8nICYmIGtleXdvcmRba2V5d29yZC5sZW5ndGggLSAxXSA9PT0gJy8nKSByZXR1cm4gZmFsc2U7CiAgICAvLyDliqDlj7flnKjor6XohJrmnKzkuK3kvZzkuLrmiJbov5DnrpflrZjlnKjvvIzkvb/nlKjmraPliJnlvI/mm7/ku6MKICAgIGlmIChrZXl3b3JkLmluZGV4T2YoJysnKSAhPT0gLTEpIHJldHVybiBmYWxzZTsKICAgIHJldHVybiB0cnVlOwogIH0pOwp9OwovLyDlhbPplK7or43liLDmraPliJnlvI/nmoTovazmjaIKd2JwLmNvbnZlcnRlci5ydWxlcy5rZXl3b3JkLnJlZ2V4cCA9IGZ1bmN0aW9uIChrZXl3b3JkcykgewogIHJldHVybiBrZXl3b3Jkcy5tYXAoZnVuY3Rpb24gKGtleXdvcmQpIHsKICAgIHRyeSB7CiAgICAgIC8vIOWkhOeQhuato+WImeW8j+eahOaDheWGtQogICAgICBpZiAoa2V5d29yZC5sZW5ndGggPiAyICYmIGtleXdvcmRbMF0gPT09ICcvJyAmJiBrZXl3b3JkW2tleXdvcmQubGVuZ3RoIC0gMV0gPT09ICcvJykgewogICAgICAgIHJldHVybiBSZWdFeHAoa2V5d29yZC5zbGljZSgxLCAtMSkpOwogICAgICB9CiAgICAgIC8vIOWkhOeQhuWKoOWPt+eahOeJueauiuinhOWImQogICAgICBpZiAoa2V5d29yZC5pbmRleE9mKCcrJykgIT09IC0xKSB7CiAgICAgICAgcmV0dXJuIFJlZ0V4cCgnXicgKyBrZXl3b3JkLnNwbGl0KCcrJykubWFwKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICByZXR1cm4gJyg/PVtcc1xTXSonICsgcC5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8XFtcXVwvXFxdKS9nLCAiXFwkMSIpICsgJyknOwogICAgICAgIH0pLmpvaW4oJycpKTsKICAgICAgfQogICAgfSBjYXRjaCAoZSkgeyB9CiAgfSkuZmlsdGVyKGZ1bmN0aW9uIChyZWcpIHsKICAgIGlmICghcmVnKSByZXR1cm4gZmFsc2U7IC8vIOi/h+a7pOaOieS4jeaYr+ato+WImeW8j+eahAogICAgaWYgKCcnICsgcmVnID09PSAnLyg/OikvJykgcmV0dXJuIGZhbHNlOyAvLyDkuI3mjqXlj5fnqbrmraPliJnlvI8KICAgIHJldHVybiB0cnVlOwogIH0pLm1hcChmdW5jdGlvbiAocmVnKSB7CiAgICByZXR1cm4gKCcnICsgcmVnKS5zbGljZSgxLCAtMSk7CiAgfSk7Cn07Ci8vIOS7u+aEj+S4gOS4qua7oei2s+WNs+a7oei2swp3YnAuY29udmVydGVyLnJ1bGVzLnNvbWUgPSBmdW5jdGlvbiAoYm9vbGVhbnMpIHsKICByZXR1cm4gYm9vbGVhbnMuc29tZShCb29sZWFuKTsKfTsKLy8g6aKc6Imy6K6+572u6L2s5o2iCndicC5jb252ZXJ0ZXIucnVsZXMuY29sb3IgPSBmdW5jdGlvbiAoY29sb3IpIHsKICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpOwogIHZhciByZ2JhLCBuYW1lID0gJ3RyYW5zcGFyZW50JzsKICB2YXIgcmVkID0gMCwgZ3JlZW4gPSAwLCBibHVlID0gMCwgYWxwaGEgPSAwOwogIHRyeSB7CiAgICBkaXYuc3R5bGUgPSAnY29sb3I6ICcgKyBjb2xvciArICchaW1wb3J0YW50JzsKICAgIG5hbWUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkaXYpLmNvbG9yOwogICAgcmdiYSA9IG5hbWUubWF0Y2goL3JnYmE/XCgoLiopXCkvKVsxXS5zcGxpdCgnLCcpLm1hcChOdW1iZXIpOwogICAgcmVkID0gcmdiYVswXTsgYmx1ZSA9IHJnYmFbMV07IGdyZWVuID0gcmdiYVsyXTsKICAgIGFscGhhID0gcmdiYS5sZW5ndGggPiAzID8gcmdiYVszXSA6IDE7CiAgfSBjYXRjaCAoZSkge30KICBkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXYpOwogIHJldHVybiB7ICdyZWQnOiByZWQsICdncmVlbic6IGdyZWVuLCAnYmx1ZSc6IGJsdWUsICdhbHBoYSc6IGFscGhhLCAnbmFtZSc6IG5hbWUgfTsKfTsKd2JwLmNvbnZlcnRlci5ydWxlcy5jb2xvci5oZXggPSBmdW5jdGlvbiAoY29sb3IpIHsKICB2YXIgaGV4ID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuICgnMCcgKyBuLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpOyB9OwogIHZhciByZXN1bHQgPSB3YnAuY29udmVydGVyLnJ1bGVzLmNvbG9yKGNvbG9yKTsKICB2YXIgdGV4dCA9ICcjJyArIGhleChyZXN1bHQucmVkKSArIGhleChyZXN1bHQuZ3JlZW4pICsgaGV4KHJlc3VsdC5ibHVlKTsKICByZXR1cm4gdGV4dDsKfTsKd2JwLmNvbnZlcnRlci5ydWxlcy5jb2xvci50cmFuc3BhcmVuY3kgPSBmdW5jdGlvbiAoY29sb3IpIHsKICB2YXIgcmVzdWx0ID0gd2JwLmNvbnZlcnRlci5ydWxlcy5jb2xvcihjb2xvcik7CiAgcmV0dXJuIE1hdGgucm91bmQocmVzdWx0LmFscGhhICogMTAwKTsKfTsKCndicC51bnN1cHBvcnRlZCA9IFtdOwoKLy8g6L2s5o2i6KGoCndicC5jb252ZXJ0ZXIudGFibGUgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHRhYmxlID0gW107CiAgdmFyIG5tID0gZnVuY3Rpb24gKG1hcCkgewogICAgaWYgKG1hcCA9PT0gdm9pZCAwKSBtYXAgPSB1dGlsLmZ1bmMuaWRlbnRpdHk7CiAgICBpZiAodHlwZW9mIG1hcCAhPT0gJ2Z1bmN0aW9uJykgbWFwID0gdXRpbC5mdW5jLmNvbnN0YW50KG1hcCk7CiAgICByZXR1cm4gbWFwOwogIH07CiAgLy8g5a6a5LmJ6L2s5o2i6KeE5YiZCiAgdmFyIGQgPSBmdW5jdGlvbiAod2JwS2V5LCB5YXdmS2V5LCBtYXApIHsKICAgIHRhYmxlLnB1c2goeyAnd2JwJzogd2JwS2V5LCAneWF3Zic6IHlhd2ZLZXksICdtYXAnOiBubShtYXApIH0pOwogIH07CiAgLy8g5qih5Z2X6L+H5ruk6L2s5o2i6KeE5YiZCiAgdmFyIG0gPSBmdW5jdGlvbiAod2JwTW9kLCB5YXdmS2V5LCBtYXApIHsKICAgIHZhciBtb2RNYXAgPSBmdW5jdGlvbiAoaGlkZU1vZHMpIHsKICAgICAgdmFyIGNvbnRhaW5zID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIGhpZGVNb2RzLmluZGV4T2YoeCkgIT09IC0xOyB9OwogICAgICBpZiAoQXJyYXkuaXNBcnJheSh3YnBNb2QpKSByZXR1cm4gbm0obWFwKSh3YnBNb2QubWFwKGNvbnRhaW5zKSk7CiAgICAgIHJldHVybiBubShtYXApKGNvbnRhaW5zKHdicE1vZCkpOwogICAgfTsKICAgIHRhYmxlLnB1c2goeyAnd2JwJzogJ2hpZGVNb2RzJywgJ3lhd2YnOiB5YXdmS2V5LCAnbWFwJzogbW9kTWFwIH0pOwogIH07CiAgLy8g5L2/55SoIENTUyDlpITnkIbkuIDkupsgWUFXRiDkuI3mj5Dkvpvorr7nva7pobnnmoTpmpDol4/mqKHlnZcKICB2YXIgY3NzVGV4dCA9ICcnOwogIHZhciBzdHlsZSA9IGZ1bmN0aW9uIChjc3NJbnNlcnQpIHsgY3NzVGV4dCArPSBjc3NJbnNlcnQgKyAnXG4nOyB9OwogIHZhciBjID0gZnVuY3Rpb24gKHdicE1vZCwgY3NzLCBkZXNjcmlwdGlvbikgewogICAgdmFyIGFkZENzcyA9IGZ1bmN0aW9uIChlbmFibGVkKSB7CiAgICAgIGlmICghZW5hYmxlZCkgcmV0dXJuOwogICAgICB2YXIgY3NzSW5zZXJ0OwogICAgICBpZiAodHlwZW9mIGNzcyA9PT0gJ2Z1bmN0aW9uJykgY3NzSW5zZXJ0ID0gY3NzKCk7IGVsc2UgY3NzSW5zZXJ0ID0gJycgKyBjc3M7CiAgICAgIGlmIChkZXNjcmlwdGlvbikgY3NzSW5zZXJ0ID0gJy8qICcgKyBkZXNjcmlwdGlvbiArICcgKi9cbicgKyBjc3NJbnNlcnQ7CiAgICAgIHN0eWxlKGNzc0luc2VydCk7CiAgICB9OwogICAgbSh3YnBNb2QsIG51bGwsIGFkZENzcyk7CiAgfTsKICAvLyDml6Dms5XovazmjaLnmoTlip/og70KICB2YXIgbiA9IGZ1bmN0aW9uICh3YnBLZXksIHlhd2ZLZXkpIHsKICAgIGlmICh5YXdmS2V5KSB3YnAudW5zdXBwb3J0ZWQucHVzaCh5YXdmS2V5KTsKICB9OwogIHZhciByID0gd2JwLmNvbnZlcnRlci5ydWxlczsgLy8g54m55q6K6L2s5o2i6KeE5YiZCgogIG4obnVsbCwgJ3dlaWJvLnRvb2wubG9hZF93ZWlib19ieV9zZWFyY2gnKTsKICBuKG51bGwsICd3ZWliby50b29sLnVzZV9mYXN0X2NyZWF0b3InKTsKICBuKG51bGwsICd3ZWliby50b29sLnVzZV9jb250ZXh0X21lbnVfY3JlYXRvcicpOwogIGQobnVsbCwgJ3dlaWJvLnRvb2wucmVmaWx0ZXInLCB0cnVlKTsKICBuKG51bGwsICd3ZWliby50b29sLmZhc3RfaGlkZV9idXR0b24nKTsKICBuKG51bGwsICd3ZWliby50b29sLmRpc2FibGVfbGF6eWxvYWQnKTsKICBuKG51bGwsICd3ZWliby5vdGhlci5ncm91cF9hY2NvdW50Jyk7CiAgbihudWxsLCAnd2VpYm8ub3RoZXIuZ3JvdXBfc2FtZV9hY2NvdW50Jyk7CiAgbihudWxsLCAnd2VpYm8ub3RoZXIuYXV0b19sb2FkX25ld193ZWlibycpOwogIG4obnVsbCwgJ3dlaWJvLm90aGVyLmF1dG9fZXhwYW5kLmV0eXBlcycpOwogIG4obnVsbCwgJ3dlaWJvLm90aGVyLmF1dG9fZXhwYW5kLmJhY2tncm91bmQnKTsKICBuKG51bGwsICd3ZWliby5vdGhlci5hdXRvX2V4cGFuZCcpOwogIG4obnVsbCwgJ3dlaWJvLm90aGVyLmRlc2t0b3Bfbm90aWZpY2F0aW9uLnR5cGVzJyk7CiAgbihudWxsLCAnd2VpYm8ub3RoZXIuZGVza3RvcF9ub3RpZmljYXRpb24uYXV0b2hpZGUnKTsKICBuKG51bGwsICd3ZWliby5vdGhlci5kZXNrdG9wX25vdGlmaWNhdGlvbi5zaG9ydGVuJyk7CiAgbihudWxsLCAnd2VpYm8ub3RoZXIuZGVza3RvcF9ub3RpZmljYXRpb24uc2hvcnRsZW4nKTsKICBuKG51bGwsICd3ZWliby5vdGhlci5kZXNrdG9wX25vdGlmaWNhdGlvbi5kdXJhdGlvbicpOwogIG4obnVsbCwgJ3dlaWJvLm90aGVyLmRlc2t0b3Bfbm90aWZpY2F0aW9uLmR1cmF0aW9uYycpOwogIG4obnVsbCwgJ3dlaWJvLm90aGVyLmRlc2t0b3Bfbm90aWZpY2F0aW9uLm50eXBlcycpOwogIG4obnVsbCwgJ3dlaWJvLm90aGVyLmRlc2t0b3Bfbm90aWZpY2F0aW9uJyk7CiAgZCgnd2hpdGVLZXl3b3JkcycsICd3ZWliby5maWx0ZXJzLmtleXdvcmQud2hpdGVsaXN0Jywgci5rZXl3b3JkLmtleXdvcmQpOyAvLyDnmb3lkI3ljZUg5YyF5ZCr5LiL5YiX5YWz6ZSu6K+N55qE5b6u5Y2a5LiN5Lya6KKr5bGP6JS9IC8vIOKaoO+4jyDlvq7ljZrlhoXlrrnlpITnkIbmlrnlvI/kuI3lkIwKICBkKCdibGFja0tleXdvcmRzJywgJ3dlaWJvLmZpbHRlcnMua2V5d29yZC5ibGFja2xpc3QnLCByLmtleXdvcmQua2V5d29yZCk7IC8vIOm7keWQjeWNlSDljIXlkKvkuIvliJflhbPplK7or43nmoTlvq7ljZrlsIbooqvlsY/olL0gLy8g4pqg77iPIOW+ruWNmuWGheWuueWkhOeQhuaWueW8j+S4jeWQjAogIGQoJ2dyYXlLZXl3b3JkcycsICd3ZWliby5maWx0ZXJzLmtleXdvcmQuZm9sZGxpc3QnLCByLmtleXdvcmQua2V5d29yZCk7IC8vIOeBsOWQjeWNlSDljIXlkKvkuIvliJflhbPplK7or43nmoTlvq7ljZrlsIbooqvlsY/olL3lubbmj5DnpLogLy8g4pqg77iPIOW+ruWNmuWGheWuueWkhOeQhuaWueW8j+S4jeWQjAogIGQoJ3doaXRlS2V5d29yZHMnLCAnd2VpYm8uZmlsdGVycy5yZWdleHAud2hpdGVsaXN0Jywgci5rZXl3b3JkLnJlZ2V4cCk7IC8vIOeZveWQjeWNlSDljIXlkKvkuIvliJflhbPplK7or43nmoTlvq7ljZrkuI3kvJrooqvlsY/olL0gLy8g4pqg77iPIOW+ruWNmuWGheWuueWkhOeQhuaWueW8j+S4jeWQjAogIGQoJ2JsYWNrS2V5d29yZHMnLCAnd2VpYm8uZmlsdGVycy5yZWdleHAuYmxhY2tsaXN0Jywgci5rZXl3b3JkLnJlZ2V4cCk7IC8vIOm7keWQjeWNlSDljIXlkKvkuIvliJflhbPplK7or43nmoTlvq7ljZrlsIbooqvlsY/olL0gLy8g4pqg77iPIOW+ruWNmuWGheWuueWkhOeQhuaWueW8j+S4jeWQjAogIGQoJ2dyYXlLZXl3b3JkcycsICd3ZWliby5maWx0ZXJzLnJlZ2V4cC5mb2xkbGlzdCcsIHIua2V5d29yZC5yZWdleHApOyAvLyDngbDlkI3ljZUg5YyF5ZCr5LiL5YiX5YWz6ZSu6K+N55qE5b6u5Y2a5bCG6KKr5bGP6JS95bm25o+Q56S6IC8vIOKaoO+4jyDlvq7ljZrlhoXlrrnlpITnkIbmlrnlvI/kuI3lkIwKICBkKCdmaWx0ZXJOYW1lJywgJ3dlaWJvLmNvbnRlbnQudHlwZXNfbWVudGlvbicpOyAvLyDlnKjnlKjmiLflkI3kuK3mkJzntKLlhbPplK7or40KICBkKG51bGwsICd3ZWliby5jb250ZW50LnR5cGVzX3RvcGljJywgdHJ1ZSk7CiAgZChudWxsLCAnd2VpYm8uY29udGVudC50eXBlc19zdG9jaycsIGZhbHNlKTsKICBkKG51bGwsICd3ZWliby5jb250ZW50LnR5cGVzX2xpbmt0JywgZmFsc2UpOwogIGQobnVsbCwgJ3dlaWJvLmNvbnRlbnQudHlwZXNfbGlua3UnLCBmYWxzZSk7CiAgZCgnZmlsdGVyU21pbGV5JywgJ3dlaWJvLmNvbnRlbnQudHlwZXNfZW1vdGlvbicpOyAvLyDlhYHorrjooajmg4XlhbPplK7or40KICBkKFsndGlwVGV4dENvbG9yJywgJ3RpcEJhY2tDb2xvciddLCBudWxsLCBmdW5jdGlvbiAoY29sb3IpIHsKICAgIGlmIChjb2xvclswXSA9PT0gJyNGRjgwODAnICYmIGNvbG9yWzFdID09PSAnI0ZGRDBEMCcpIHJldHVybjsgLy8g5aaC5p6c5L2/55So6buY6K6k5YC877yM5YiZ5a+85YWl5ZCO5LuN54S25L2/55So6buY6K6k5YC8CiAgICBzdHlsZSgnLyog5oqY5Y+g5b6u5Y2a6aKc6ImyICovXG4nICsgdXRpbC5zdHIuZmlsbCh1dGlsLnN0ci5jbXQoZnVuY3Rpb24gKCkgeyAvKiFDU1MKICAgICAgW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gLldCX2ZlZWRfdHlwZVt5YXdmLWRpc3BsYXkkPSItZm9sZCJdOjpiZWZvcmUgeyBjb2xvcjoge3t0ZXh0fX07IGJhY2tncm91bmQtY29sb3I6IHt7YmFja319OyBib3JkZXItY29sb3I6IHt7dGV4dH19IH0KICAgICAgW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gLldCX2ZlZWRfdHlwZVt5YXdmLWRpc3BsYXkkPSItZm9sZCJdOmhvdmVyOjpiZWZvcmUgeyBjb2xvcjogIzQwZDA0MDsgYmFja2dyb3VuZC1jb2xvcjogI2QwZmZkMDsgIGJvcmRlci1jb2xvcjogIzQwZDA0MCB9CiAgICAqLyBub29wKCk7IH0pLCB7CiAgICAgICd0ZXh0Jzogci5jb2xvcihjb2xvclswXSkubmFtZSwKICAgICAgJ2JhY2snOiByLmNvbG9yKGNvbG9yWzFdKS5uYW1lLAogICAgfSkpOwogIH0pOwogIG4obnVsbCwgJ3dlaWJvLmZpbHRlcnMuYWNjb3VudC53aGl0ZWxpc3QnKTsKICBkKCd1c2VyQmxhY2tsaXN0JywgJ3dlaWJvLmZpbHRlcnMuYWNjb3VudC5ibGFja2xpc3QnKTsgLy8g5aaC5p6c5LiA5p2h5b6u5Y2a55qE5Y+R5biD6ICF5oiW6L2s5Y+R5Y6f5paH55qE5L2c6ICF5Li65LiL5YiX55So5oi35LmL5LiA77yM5b6u5Y2a5bCG6KKr5bGP6JS944CCCiAgbihudWxsLCAnd2VpYm8uZmlsdGVycy5hY2NvdW50LmZvbGRsaXN0Jyk7CiAgbihudWxsLCAnd2VpYm8uZmlsdGVycy5hY2NvdW50Zi5ibGFja2xpc3QnKTsKICBuKG51bGwsICd3ZWliby5maWx0ZXJzLmFjY291bnRmLmZvbGRsaXN0Jyk7CiAgbihudWxsLCAnd2VpYm8ub3JpZ2luYWwuYmxhY2tsaXN0X2QnKTsKICBuKG51bGwsICd3ZWliby5maWx0ZXJzLm9yaWdpbmFsLndoaXRlbGlzdCcpOwogIGQoJ3VzZXJCbGFja2xpc3QnLCAnd2VpYm8uZmlsdGVycy5vcmlnaW5hbC5ibGFja2xpc3QnKTsgLy8g5aaC5p6c5LiA5p2h5b6u5Y2a55qE5Y+R5biD6ICF5oiW6L2s5Y+R5Y6f5paH55qE5L2c6ICF5Li65LiL5YiX55So5oi35LmL5LiA77yM5b6u5Y2a5bCG6KKr5bGP6JS944CCCiAgbihudWxsLCAnd2VpYm8uZmlsdGVycy5vcmlnaW5hbC5mb2xkbGlzdCcpOwogIG4obnVsbCwgJ3dlaWJvLmZpbHRlcnMubWVudGlvbi53aGl0ZWxpc3QnKTsKICBuKG51bGwsICd3ZWliby5maWx0ZXJzLm1lbnRpb24uYmxhY2tsaXN0Jyk7CiAgbihudWxsLCAnd2VpYm8uZmlsdGVycy5tZW50aW9uLmZvbGRsaXN0Jyk7CiAgbihudWxsLCAnd2VpYm8uZmlsdGVycy50b3BpYy53aGl0ZWxpc3QnKTsKICBuKG51bGwsICd3ZWliby5maWx0ZXJzLnRvcGljLmJsYWNrbGlzdCcpOwogIG4obnVsbCwgJ3dlaWJvLmZpbHRlcnMudG9waWMuZm9sZGxpc3QnKTsKICBuKG51bGwsICd3ZWliby5maWx0ZXJzLnJ0b3BpYy53aGl0ZWxpc3QnKTsKICBuKG51bGwsICd3ZWliby5maWx0ZXJzLnJ0b3BpYy5ibGFja2xpc3QnKTsKICBuKG51bGwsICd3ZWliby5maWx0ZXJzLnJ0b3BpYy5mb2xkbGlzdCcpOwogIG4obnVsbCwgJ3dlaWJvLmZpbHRlcnMuc291cmNlLndoaXRlbGlzdCcpOwogIGQoJ3NvdXJjZUtleXdvcmRzJywgJ3dlaWJvLmZpbHRlcnMuc291cmNlLmJsYWNrbGlzdCcpOyAvLyDpu5HlkI3ljZUg5p2l5rqQ5ZCN56ew5YyF5ZCr5LiL5YiX5YWz6ZSu6K+N55qE5b6u5Y2a5bCG6KKr5bGP6JS9IC8vIOKaoO+4jyDor6XohJrmnKzmmK/lrZDkuLLov4fmu6TvvIzov5nph4zmmK/lhajlrZfov4fmu6TjgIIKICBkKCdzb3VyY2VHcmF5S2V5d29yZHMnLCAnd2VpYm8uZmlsdGVycy5zb3VyY2UuZm9sZGxpc3QnKTsgLy8g54Gw5ZCN5Y2VIOadpea6kOWQjeensOWMheWQq+S4i+WIl+WFs+mUruivjeeahOW+ruWNmuWwhuiiq+Wxj+iUveW5tuaPkOekuiAgLy8g4pqg77iPIOivpeiEmuacrOaYr+WtkOS4sui/h+a7pO+8jOi/memHjOaYr+WFqOWtl+i/h+a7pOOAggogIG4obnVsbCwgJ3dlaWJvLmZpbHRlcnMuaHlwZXJsaW5rLndoaXRlbGlzdCcpOwogIGQoJ1VSTEtleXdvcmRzJywgJ3dlaWJvLmZpbHRlcnMuaHlwZXJsaW5rLmJsYWNrbGlzdCcpOyAvLyDlpoLmnpzkuIDmnaHlvq7ljZrkuK3ljIXlkKvpk77mjqXkuJTnm67moIflnLDlnYDkuK3ljIXlkKvkuIvliJflhbPplK7or43vvIzlvq7ljZrlsIbooqvlsY/olL3vvIjml6Dmj5DnpLrvvInjgIIKICBuKG51bGwsICd3ZWliby5maWx0ZXJzLmh5cGVybGluay5mb2xkbGlzdCcpOwogIG4obnVsbCwgJ3dlaWJvLmZpbHRlcnMubGlua3RpdGxlLndoaXRlbGlzdCcpOwogIG4obnVsbCwgJ3dlaWJvLmZpbHRlcnMubGlua3RpdGxlLmJsYWNrbGlzdCcpOwogIG4obnVsbCwgJ3dlaWJvLmZpbHRlcnMubGlua3RpdGxlLmZvbGRsaXN0Jyk7CiAgZCgnZmlsdGVyT3RoZXJzT25seScsICd3ZWliby5vdGhlci5teV93ZWlibycpOyAvLyDkuI3opoHlsY/olL3miJHoh6rlt7Hlj5HluIPnmoTlvq7ljZoKICBkKCdmaWx0ZXJPdGhlcnNPbmx5JywgJ3dlaWJvLm90aGVyLm15X29yaWdpbmFsJyk7IC8vIOS4jeimgeWxj+iUveaIkeiHquW3seWPkeW4g+eahOW+ruWNmgogIG4obnVsbCwgJ3dlaWJvLm90aGVyLm1lbnRpb25fbWUnKTsKICBuKCdmaWx0ZXJQYXVzZWQnLCBudWxsKTsgLy8g5pqC5YGc5bGP6JS977ya6YCJ5Lit5pe25pqC5pe25YGc5q2i5bGP6JS95b6u5Y2aIC8vIOKaoO+4jyBZQVdG5pyq5o+Q5L6b6K+l5Yqf6IO9CiAgZCgnZmlsdGVyUHJvbW90aW9ucycsICd3ZWliby5vdGhlci5hZF9mZWVkJyk7IC8vIOWxj+iUveaOqOW5v+W+ruWNmiAvLyDimqDvuI8gWUFXRiDnmoTov4fmu6Top4TliJnmm7Tlrr3mnb4KICBkKFsnZmlsdGVySG90JywgJ2ZpbHRlckxpa2VkJ10sICd3ZWliby5vdGhlci5mYW5zX3RvcCcsIHIuc29tZSk7IC8vIOWxj+iUveeDremXqOW+ruWNmu+8iOeyieS4neWktOadoe+8iSAmIOWxj+iUveWlveWPi+i1nui/h+eahOW+ruWNmgogIG4obnVsbCwgJ3dlaWJvLm90aGVyLnByb2R1Y3RfY2FyZCcpOwogIGQoJ2ZpbHRlclRhb2JhbycsICd3ZWliby5vdGhlci50Yl90bV93YicpOyAvLyDlsY/olL3luKbmnIkg5reY5a6d5ZWG5ZOBIOaIliDlpKnnjKvllYblk4Eg55qE5b6u5Y2aIC8vIOKaoO+4jyBZQVdG6L+Y5Lya6L+H5rukIOiBmuWIkueul+WVhuWTgSDkvYbmmK/oh7Pku4rmnKrop4Hov4fogZrliJLnrpfllYblk4EKICBuKG51bGwsICd3ZWliby5vdGhlci53ZWlib19wYXlfZ2lmdCcpOwogIG0oJ1RpbWVsaW5lTW9kcycsICd3ZWliby5vdGhlci5mYWtlX3dlaWJvJyk7IC8vIOaXtumXtOe6v+W1jOWFpeaooeWdl++8iOWlveWPi+WFs+azqOetie+8iQogIGQoJ2ZpbHRlckRlbGV0ZWQnLCAnd2VpYm8ub3RoZXIuZGVsZXRlZF9mb3J3YXJkJyk7IC8vIOWxj+iUveW3suWIoOmZpOW+ruWNmueahOi9rOWPkQogIG4obnVsbCwgJ3dlaWJvLm90aGVyLmNvbW1lbnRfYW5kX3JlcGx5Jyk7CiAgbihudWxsLCAnd2VpYm8ub3RoZXIudm90ZV93ZWlibycpOwogIG4obnVsbCwgJ3dlaWJvLm90aGVyLnJlZDIwMTQnKTsKICBuKG51bGwsICd3ZWliby5vdGhlci5hcHBpdGVtJyk7CiAgbihudWxsLCAnd2VpYm8ub3RoZXIud2VuZGEnKTsKICBuKG51bGwsICd3ZWliby5vdGhlci53ZW53b2RyJyk7CiAgbihudWxsLCAnd2VpYm8ub3RoZXIueWl6aGlibycpOwogIG4obnVsbCwgJ3dlaWJvLm90aGVyLnN0b2NrJyk7CiAgbihudWxsLCAnd2VpYm8ub3RoZXIubXVsdGlfdG9waWMubnVtJyk7CiAgbihudWxsLCAnd2VpYm8ub3RoZXIubXVsdGlfdG9waWMnKTsKICBuKG51bGwsICd3ZWliby5vdGhlci50b29fbG9uZycpOwogIG4obnVsbCwgJ3dlaWJvLm90aGVyLndlaV9odWF0aScpOwogIG4obnVsbCwgJ3dlaWJvLm90aGVyLndlaV9xdW4nKTsKICBuKG51bGwsICd3ZWliby5vdGhlci53ZWlfZmFuZ3RhbicpOwogIG4obnVsbCwgJ3dlaWJvLm90aGVyLndlaV9nb25neWknKTsKICBuKG51bGwsICd3ZWliby5vdGhlci51bmF1dGhfc291cmNlJyk7CiAgZCgnbWF4Rmxvb2QnLCAnd2VpYm8ub3RoZXIuc2FtZV9hY2NvdW50Lm51bWJlcicsIE51bWJlcik7IC8vIOWPjeWIt+Wxj++8muadpeiHquWQjOS4gOeUqOaIt+eahOW+ruWNmuacgOWkmuaYvuekunt95p2hCiAgZChudWxsLCAnd2VpYm8ub3RoZXIuc2FtZV9hY2NvdW50LmFjdGlvbicsICdoaWRkZW4nKTsKICBkKCdmaWx0ZXJGbG9vZCcsICd3ZWliby5vdGhlci5zYW1lX2FjY291bnQnKTsgLy8g5Y+N5Yi35bGP77ya5p2l6Ieq5ZCM5LiA55So5oi355qE5b6u5Y2a5pyA5aSa5pi+56S6e33mnaEKICBuKG51bGwsICd3ZWliby5vdGhlci5zYW1lX2ZvcndhcmQubnVtYmVyJyk7CiAgbihudWxsLCAnd2VpYm8ub3RoZXIuc2FtZV9mb3J3YXJkLmFjdGlvbicpOwogIG4obnVsbCwgJ3dlaWJvLm90aGVyLnNhbWVfZm9yd2FyZCcpOwogIG4obnVsbCwgJ3dlaWJvLmZpbHRlcnMuY2tleXdvcmQud2hpdGVsaXN0Jyk7CiAgbihudWxsLCAnd2VpYm8uZmlsdGVycy5ja2V5d29yZC5ibGFja2xpc3QnKTsKICBuKG51bGwsICd3ZWliby5maWx0ZXJzLmNyZWdleHAud2hpdGVsaXN0Jyk7CiAgbihudWxsLCAnd2VpYm8uZmlsdGVycy5jcmVnZXhwLmJsYWNrbGlzdCcpOwogIG4obnVsbCwgJ3dlaWJvLmZpbHRlcnMuY3VzZXIud2hpdGVsaXN0Jyk7CiAgbihudWxsLCAnd2VpYm8uZmlsdGVycy5jdXNlci5ibGFja2xpc3QnKTsKICBuKG51bGwsICd3ZWliby5maWx0ZXJzLmN0b3BpYy53aGl0ZWxpc3QnKTsKICBuKG51bGwsICd3ZWliby5maWx0ZXJzLmN0b3BpYy5ibGFja2xpc3QnKTsKICBuKG51bGwsICd3ZWliby5jb21tZW50Lm15X2NvbW1lbnQnKTsKICBuKG51bGwsICd3ZWliby5jb21tZW50LmVtb2ppX2NvdW50Lm51bWJlcicpOwogIG4obnVsbCwgJ3dlaWJvLmNvbW1lbnQuZW1vamlfY291bnQnKTsKICBuKG51bGwsICd3ZWliby5jb21tZW50LmVtb2ppX3R5cGVzLm51bWJlcicpOwogIG4obnVsbCwgJ3dlaWJvLmNvbW1lbnQuZW1vamlfdHlwZXMnKTsKICBuKG51bGwsICd3ZWliby5jb21tZW50Lm5vX2NvbnRlbnQnKTsKICBuKG51bGwsICd3ZWliby5jb21tZW50LndpdGhfZm9yd2FyZCcpOwogIG4obnVsbCwgJ3dlaWJvLmNvbW1lbnQud2l0aF9waWN0dXJlLmFjdCcpOwogIG4obnVsbCwgJ3dlaWJvLmNvbW1lbnQud2l0aF9waWN0dXJlJyk7CiAgbihudWxsLCAnd2VpYm8uY29tbWVudC5kZWxldGVfY29tbWVudCcpOwogIG0oJ0xldmVsJywgJ3dlaWJvLmxheW91dEhpZGVJY29uTGV2ZWwnKTsgLy8g55So5oi3562J57qnCiAgbSgnTWVtYmVySWNvbicsICd3ZWliby5sYXlvdXRIaWRlSWNvbk1lbWJlcicpOyAvLyDlvq7ljZrkvJrlkZjmoIfor4YKICBtKCdWZXJpZnlJY29uJywgJ3dlaWJvLmxheW91dEhpZGVJY29uQXBwcm92ZScpOyAvLyDkuKrkurov5py65p6E6K6k6K+B5qCH6K+GCiAgbSgnVmVyaWZ5SWNvbicsICd3ZWliby5sYXlvdXRIaWRlSWNvbkFwcHJvdmVDbycpOyAvLyDkuKrkurov5py65p6E6K6k6K+B5qCH6K+GCiAgbSgnVmVyaWZ5SWNvbicsICd3ZWliby5sYXlvdXRIaWRlSWNvbkFwcHJvdmVEZWFkJyk7IC8vIOS4quS6ui/mnLrmnoTorqTor4HmoIfor4YKICBtKCdEYXJlbkljb24nLCAnd2VpYm8ubGF5b3V0SGlkZUljb25DbHViJyk7IC8vIOW+ruWNmui+vuS6uuagh+ivhgogIG0oJ1ZnaXJsSWNvbicsICd3ZWliby5sYXlvdXRIaWRlSWNvblZHaXJsJyk7IC8vIOW+ruWNmuWls+mDjuagh+ivhgogIG0oJ1Rhb2Jhb0ljb24nLCAnd2VpYm8ubGF5b3V0SGlkZUljb25UYW9iYW8nKTsgLy8g5reY5a6d5ZWG5oi3CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZUljb25DaGVuZycpOwogIG0oJ0dvbmd5aUljb24nLCAnd2VpYm8ubGF5b3V0SGlkZUljb25Hb25neWknKTsgLy8g5b6u5YWs55uKCiAgbSgnUGFpSWNvbicsICd3ZWliby5sYXlvdXRIaWRlSWNvblN1aXNob3VwYWknKTsgLy8g6ZqP5omL5ouNMjAxNgogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVJY29uWm9uZ3lpa2EnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlSWNvbllvdWppJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZUljb25Eb3VibGUxMScpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVJY29uTmlnaHQnKTsKICBtKCdIb25nYmFvSWNvbicsICd3ZWliby5sYXlvdXRIaWRlSWNvblJlZFBhY2snKTsgLy8g6K6p57qi5YyF6aOeCiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZUljb25SdW4nKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlSWNvbkZvb2xzRGF5Jyk7CiAgbSgnTmV0c3Rhckljb24nLCAnd2VpYm8ubGF5b3V0SGlkZUljb25Ib25nJyk7IC8vIOi2hee6p+e6ouS6uuiKggogIG4oJ05ldHN0YXJJY29uJywgJ3dlaWJvLmxheW91dEhpZGVJY29uV2VkZGluZycpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVOYXZMb2dvSW1nJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZU5hdk1haW4nKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlTmF2VFYnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlTmF2SG90Jyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZU5hdkdhbWUnKTsKICBtKCdIb3RTZWFyY2gnLCAnd2VpYm8ubGF5b3V0SGlkZU5hdkhvdFNlYXJjaCcpOyAvLyDlpKflrrbmraPlnKjng63mkJzvvIjmkJzntKLmoI/vvIkKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlTmF2Tm90aWNlTmV3Jyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZU5hdlNldHRpbmdOZXcnKTsKICBkKCdub0hvdFllbGxvd1RhZ3MnLCAnd2VpYm8ubGF5b3V0SGlkZU5hdkhvdFRpcCcpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVMZWZ0SG9tZScpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVMZWZ0RmF2Jyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZUxlZnRMaWtlJyk7CiAgbSgnSG90V2VpYm8nLCAnd2VpYm8ubGF5b3V0SGlkZUxlZnRIb3QnKTsgLy8g54Ot6Zeo5b6u5Y2aCiAgbignSG90V2VpYm8nLCAnd2VpYm8ubGF5b3V0SGlkZUxlZnRUVicpOwogIG0oJ0ZyaWVuZHMnLCAnd2VpYm8ubGF5b3V0SGlkZUxlZnRGcmllbmRzJyk7IC8vIOWlveWPi+WciAogIG0oJ1RvTWUnLCAnd2VpYm8ubGF5b3V0SGlkZUxlZnRHcm91cFRvTWUnKTsgLy8g576k5b6u5Y2aCiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZUxlZnROZXcnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlTGVmdE5ld3MnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlTGVmdENvdW50Jyk7CiAgbSgnUmVjb21tZW5kZWRUb3BpYycsICd3ZWliby5sYXlvdXRIaWRlTWlkZGxlUmVjb21tZW5kZWRUb3BpYycpOyAvLyDng63ngrnlvq7or53popjvvIjlj5HluIPmoYblj7PkuIrvvIkKICBtKCdSZWNvbUZlZWQnLCAnd2VpYm8ubGF5b3V0SGlkZU1pZGRsZUZlZWRSZWNvbW1hbmQnKTsgLy8g57K+5b2p5b6u5Y2a5o6o6I2Q77yI6aaW6aG15pe26Ze057q/77yJCiAgbSgnTWVtYmVyVGlwJywgJ3dlaWJvLmxheW91dEhpZGVNaWRkbGVNZW1iZXJUaXAnKTsgLy8g5b6u5Y2a5Lya5ZGY5o6o5bm/5qiq5bmF77yI6aG15bqV77yJCiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVJpZ2h0SW5mbycpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVSaWdodEhvbmdCYW9FbnRyYW5jZScpOwogIG0oJ011c2ljUmVjb20nLCAnd2VpYm8ubGF5b3V0SGlkZVJpZ2h0UmVjb21NdXNpY1JhbmsnKTsgLy8g5Lqa5rSy5paw5q2M5qacL+WlveS5puamnAogIG0oJ1RvcGljJywgJ3dlaWJvLmxheW91dEhpZGVSaWdodEhvdFRvcGljJyk7IC8vIOeDremXqOivnemimAogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVSaWdodEhvdFRvcGljRXhwYW5kJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVJpZ2h0SW50ZXJlc3QnKTsKICBtKCdNZW1iZXInLCAnd2VpYm8ubGF5b3V0SGlkZVJpZ2h0TWVtYmVyJyk7IC8vIOS8muWRmOS4k+WMugogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVSaWdodEdyb3VwcycpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVSaWdodFJlY29tR3JvdXBVc2VyJyk7CiAgbSgnSG9uZ2JhbycsICd3ZWliby5sYXlvdXRIaWRlUmlnaHRIb25nYmFvUmFuaycpOwogIG0oJ01vdmllUmVjb20nLCAnd2VpYm8ubGF5b3V0SGlkZVJpZ2h0TW92aWUnKTsgLy8g55S15b2x54Ot6K6u5qacCiAgbSgnQXR0RmVlZCcsICd3ZWliby5sYXlvdXRIaWRlUmlnaHRBdHRGZWVkJyk7IC8vIOWlveWPi+WFs+azqOWKqOaAgQogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVSaWdodFRhb2Jhb01vdmllJyk7CiAgbSgnTm90aWNlJywgJ3dlaWJvLmxheW91dEhpZGVSaWdodE5vdGljZScpOyAvLyDlhazlkYrmoI8KICBtKCdSZWNvbUZlZWQnLCAnd2VpYm8ubGF5b3V0SGlkZVdlaWJvUmVjb21GZWVkJyk7IC8vIOeyvuW9qeW+ruWNmuaOqOiNkO+8iOmmlumhteaXtumXtOe6v++8iQogIG0oJ0NvbW1lbnRUaXAnLCAnd2VpYm8ubGF5b3V0SGlkZVdlaWJvRmVlZFRpcCcpOyAvLyDor4TorrrmoI/pobbnq6/mqKrluYUKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlV2VpYm9Hcm91cFRpcCcpOwogIG0oJ01lbWJlckNvdmVyJywgJ3dlaWJvLmxheW91dEhpZGVXZWlib1ZJUEJhY2tncm91bmQnKTsgLy8g5Lya5ZGY5b6u5Y2a6IOM5pmvIC8vIOKaoO+4jyBZQVdGIOeahOi/h+a7pOinhOWImeabtOWuveadvgogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVXZWlib0xhc3RQaWMnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlV2VpYm9QaWNUYWcnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlV2VpYm9Tb25UaXRsZScpOwogIG0oWydUb3BpY0NhcmQnLCAnTG9jYXRpb25DYXJkJ10sICd3ZWliby5sYXlvdXRIaWRlV2VpYm9DYXJkJywgci5zb21lKTsgLy8g5b6u5Y2a6K+d6aKY5Y2h54mHLCDlvq7ljZrkvY3nva7ljaHniYcgLy8g4pqg77iPIFlBV0blr7nmiYDmnInljaHniYfmj5DkvpvllK/kuIDnmoTorr7nva7pobkKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlV2VpYm9BcnRpY2FsUGF5Jyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVdlaWJvVGFnJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVdlaWJvTW92aWVUYWcnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlV2VpYm9Tb3VyY2UnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlV2VpYm9Qb3AnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlV2VpYm9MaWtlJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVdlaWJvTGlrZUNvbW1lbnQnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlV2VpYm9Gb3J3YXJkJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVdlaWJvRmF2b3VyaXRlJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVdlaWJvUHJvbW90ZU90aGVyJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVdlaWJvUmVwb3J0Jyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVdlaWJvU2hpZWxkJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVdlaWJvVXNlQ2FyZEJhY2tncm91bmQnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlUGVyc29uTW92ZVRoaW5ncycpOwogIG0oJ1Byb2ZDb3ZlcicsICd3ZWliby5sYXlvdXRIaWRlUGVyc29uQ292ZXInKTsgLy8g5bCB6Z2i5Zu+77yI5Liq5Lq65Li76aG177yJCiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVBlcnNvbkJHSW1nJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVBlcnNvbkJhZGdlSWNvbicpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVQZXJzb25WZXJpZnknKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlUGVyc29uRWRpdFBlcnNvbkluZm8nKTsKICBtKCdQcm9mU3RhdHMnLCAnd2VpYm8ubGF5b3V0SGlkZVBlcnNvblN0YXRzJyk7IC8vIOWFs+azqC/nsonkuJ0v5b6u5Y2a5pWw77yI5Liq5Lq65Li76aG177yJCiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVBlcnNvbk15RGF0YScpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVQZXJzb25TdWdnZXN0VXNlcicpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVQZXJzb25Hcm91cCcpOwogIG0oJ1JlbGF0aW9uJywgJ3dlaWJvLmxheW91dEhpZGVQZXJzb25SZWxhdGlvbicpOyAvLyDlhbPms6gv57KJ5LidL+W+ruWFs+ezu++8iOS4quS6uuS4u+mhte+8iQogIG0oJ0FsYnVtJywgJ3dlaWJvLmxheW91dEhpZGVQZXJzb25BbGJ1bScpOyAvLyDlvq7nm7jlhozvvIjkuKrkurrkuLvpobXvvIkKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlUGVyc29uSG90VG9waWMnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlUGVyc29uSG90V2VpYm8nKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlUGVyc29uVXNlckxpc3QnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlUGVyc29uSG9uZ2JhbycpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVQZXJzb25XZW53b0RyJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZVBlcnNvblRpbWVsaW5lJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0LnBsZWZ0Jyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZU1lc3NhZ2VzSGVscCcpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVNZXNzYWdlc0ZlZWRiYWNrJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZU1lc3NhZ2VzWW91ZGFvJyk7CiAgbSgnQWRzJywgJ3dlaWJvLmxheW91dEhpZGVPdGhlckFkcycpOyAvLyDniYjpnaLlub/lkYrlj4rltYzlhaXlvI/lub/lkYoKICBtKCdNdXNpY1BsYXllcicsICd3ZWliby5sYXlvdXRIaWRlT3RoZXJNdXNpYycpOyAvLyDlvq7pn7PkuZDmkq3mlL7lmajvvIjlt6bkuIvop5LvvIkKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlT3RoZXJUZW1wbGF0ZScpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVPdGhlckhvbWVUaXAnKTsKICBtKCdGb290ZXInLCAnd2VpYm8ubGF5b3V0SGlkZU90aGVyRm9vdGVyJyk7IC8vIOmhteW6lemTvuaOpeaooeWdlwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVPdGhlcldiSW0nKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlT3RoZXJJTScpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dEhpZGVPdGhlclRpcCcpOwogIG0oJ0ZlZWRSZWNvbScsICd3ZWliby5sYXlvdXRIaWRlT3RoZXJSZWxhdGVkV0InKTsgLy8g55u45YWz5o6o6I2Q77ya5Y2V5p2h5b6u5Y2a5Y+z6L655qCPCiAgbihudWxsLCAnd2VpYm8ubGF5b3V0SGlkZU90aGVyUmVsYXRlZEFydGljYWwnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXRIaWRlT3RoZXJTZW5kV2VpYm8nKTsKICBjKCdJTU5ld3MnLCAnLndlYmltX25ld3MgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQgfScsICflj7PkuIvop5LmlrDpl7vlv6vorq8nKTsgLy8g5Zug5Li65Y+v5Lul5Zyo5b6u5Y2a55qE6K6+572u5Lit5YWz6Zet6K+l5b+r6K6v77yM5omA5LulWUFXRuacquaPkOS+m+ivpeWKn+iDve+8m+WFs+mXreaWueazle+8muaJk+W8gOiBiuWkqeahhu+8jOeCueWHu+W3puS4i+inkuafpeeci+WFqOmDqOengeS/oeWPs+S+p+m9v+i9ruWbvuagh++8jOeCueWHu+KAnOWFs+mXreaWsOmXu+aPkOmGkuKAneiPnOWNlemhuQogIGMoJ1N0YXRzJywgJyN2Nl9wbF9yaWdodG1vZF9teWluZm8gLldfcGVyc29uX2luZm8geyBoZWlnaHQ6IGF1dG8gIWltcG9ydGFudCB9ICN2Nl9wbF9yaWdodG1vZF9teWluZm8gLnVzZXJfYXR0ZW4geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nLCAn5YWz5rOoL+eyieS4nS/lvq7ljZrmlbAnKTsgLy8g5pyq5o+Q5L6b6K+l5Yqf6IO977yb5Zug5Li66ZqQ6JeP5ZCO5Lya5a+86Ie055So5oi35L+h5oGv5q+U5Y+R5biD5qGG5bCPCiAgZChudWxsLCAnd2VpYm8udG9vbC5zaG93QWxsTXNnTmF2LmF0bWUnLCB0cnVlKTsKICBkKG51bGwsICd3ZWliby50b29sLnNob3dBbGxNc2dOYXYuY210JywgdHJ1ZSk7CiAgZChudWxsLCAnd2VpYm8udG9vbC5zaG93QWxsTXNnTmF2Lmxpa2UnLCBmYWxzZSk7CiAgZChudWxsLCAnd2VpYm8udG9vbC5zaG93QWxsTXNnTmF2LmRtJywgdHJ1ZSk7CiAgZChudWxsLCAnd2VpYm8udG9vbC5zaG93QWxsTXNnTmF2Lm1zZ2JveCcsIHRydWUpOwogIGQobnVsbCwgJ3dlaWJvLnRvb2wuc2hvd0FsbE1zZ05hdi5ncm91cCcsIGZhbHNlKTsKICBkKG51bGwsICd3ZWliby50b29sLnNob3dBbGxNc2dOYXYuZG1zdWInLCBmYWxzZSk7CiAgZCgnc2hvd0FsbE1zZ05hdicsICd3ZWliby50b29sLnNob3dBbGxNc2dOYXYnKTsgLy8g5Zyo5bem6L655qCP5aKe5Yqg5raI5oGv5a+86Iiq77yI4oCc6K+E6K664oCd44CB4oCc56eB5L+h4oCd562J77yJCiAgZCgnc2hvd0FsbEdyb3VwcycsICd3ZWliby50b29sLnNob3dBbGxHcm91cCcpOyAvLyDlsZXlvIDliIbnu4TmoI/kuK3nmoTmiYDmnInliIbnu4QKICBkKG51bGwsICd3ZWliby50b29sLm1lcmdlQ29sdW1ucy5zaWRlJywgJ2xlZnQnKTsgLy8g5Y676Zmk6aaW6aG15Y+z6L655qCPCiAgZCgnbm9Ib21lTWFyZ2lucycsICd3ZWliby50b29sLm1lcmdlQ29sdW1ucycpOyAvLyDljrvpmaTpppbpobXlj7PovrnmoI8gLy8g4pqg77iPIFlBV0bmnKrmj5DkvpvljrvpmaTlj7PovrnmoI/nmoTlip/og73vvIzkvb/nlKjlsIblj7PovrnmoI/lkIjlubbliLDlt6bkvqfkvZzkuLrmm7/ku6MKICBuKG51bGwsICd3ZWliby50b29sLmNob3NlX3NpZGUuc2lkZScpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wuY2hvc2Vfc2lkZScpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wuZmlsdGVfcmlnaHRfdG9waWMnKTsKICBuKG51bGwsICd3ZWliby50b29sLmZpbHRlX3JpZ2h0X3RvcGljX2NvdW50Lm51bWJlcicpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wuZmlsdGVfcmlnaHRfdG9waWNfY291bnQnKTsKICBuKG51bGwsICd3ZWliby50b29sLnJpZ2h0X3VzZXJfbGlzdCcpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wucmlnaHRfdXNlcl9saXN0X25vdGljZS5fcmVjb3JkcycpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wucmlnaHRfdXNlcl9saXN0X25vdGljZS5fbGFzdCcpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wucmlnaHRfdXNlcl9saXN0X25vdGljZScpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wuaGlkZV9uYXZfYmFyJyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC5maXhlZExlZnQnKTsKICBuKG51bGwsICd3ZWliby50b29sLmZpeGVkUmlnaHQnKTsKICBuKG51bGwsICd3ZWliby50b29sLmZpeGVkTmV3RmVlZFRpcCcpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wuZml4ZWRPdGhlcnMnKTsKICBuKG51bGwsICd3ZWliby50b29sLmF1dG9fdW5mb2xkX3dlaWJvLmNvdW50Jyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC5hdXRvX3VuZm9sZF93ZWliby5icicpOwogIGQoJ3Nob3dBbGxUZXh0JywgJ3dlaWJvLnRvb2wuYXV0b191bmZvbGRfd2VpYm8nKTsgLy8g5bGV5byA5a2X5pWw6LaF6ZW/55qE5b6u5Y2a5YaF5a65IC8vIOKaoO+4jyBZQVdG5bCG6buY6K6k5Y+q5bGV5byA5LiN6LaF6L+HMjAw5a2X77yI5o2i6KGM6K6hMzDlrZfvvInnmoTlvq7ljZrvvIznlKjmiLfpnIDopoHkv67mlLnorr7nva7kuLrlhYHorrjlsZXlvIAyMDAw5a2X5b6u5Y2a6L6+5Yiw55u45ZCM55qE5pWI5p6cCiAgZCgnc2hvd0FsbEFydGljbGVUZXh0JywgJ3dlaWJvLnRvb2wuYXV0b191bmZvbGRfdHRhcnRpY2FsJyk7CiAgZCgnY2xlYXJEZWZUb3BpYycsICd3ZWliby50b29sLmNsZWFyX2RlZl90b3BpYycpOyAvLyDmuIXpmaTlvq7ljZrlj5HluIPmoYbkuK3nmoTpu5jorqTor53popgKICBuKG51bGwsICd3ZWliby50b29sLmZhc3RfZW1vamkudG9wJyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC5mYXN0X2Vtb2ppLnJlY2VudCcpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wuZmFzdF9lbW9qaScpOwogIGQoJ2RpcmVjdEFsbEZlZWRzJywgJ3dlaWJvLnRvb2wucmVkaXJlY3RXZWlibycpOyAvLyDov5vlhaXmnKrlhbPms6jkurrkuLvpobXml7bpu5jorqTmn6XnnIvlhajpg6jlvq7ljZoKICBuKG51bGwsICd3ZWliby50b29sLnVuY2hlY2tfZm9sbG93X3ByZXNlbnRlcicpOwogIG4oJ25vRGVmYXVsdEdyb3VwUHViJywgJ3dlaWJvLnRvb2wucHVibGljX2J5X2RlZmF1bHQnKTsKICBuKG51bGwsICd3ZWliby50b29sLmNhcmRCdXR0b24nKTsKICBkKCdkaXJlY3RCaWdJbWcnLCAnd2VpYm8udG9vbC52aWV3T3JpZ2luYWwnKTsgLy8g54K55Ye74oCc5p+l55yL5aSn5Zu+4oCd55u05o6l5omT5byA5aSn5Zu+CiAgbihudWxsLCAnd2VpYm8udG9vbC5odG1sNVZpZGVvJyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC5yZXBsYWNlX2xpbmsudXJsJyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC5yZXBsYWNlX2xpbmsnKTsKICBuKG51bGwsICd3ZWliby50b29sLnJlcGxhY2VfaW1hZ2VfZW1vamknKTsKICBuKG51bGwsICd3ZWliby5vdGhlci5jdXN0b21pemVfc291cmNlJyk7CiAgbihudWxsLCAnd2VpYm8ub3RoZXIuZm9sZF9jaGlsZF9jb21tZW50Jyk7CiAgbihudWxsLCAnd2VpYm8ub3RoZXIuY29tbWVudF9zaG93X2FsbCcpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wuYXV0b19jaGVja19mb2xsb3dpbmcnKTsKICBuKG51bGwsICd3ZWliby5vdGhlci5mZWVkX2xpc3RfdHlwZScpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wuc2hvd19sb2NhbF90aW1lJyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC5kaXNhYmxlX2Rlc2t0b3Bfbm90aWZpY2F0aW9uJyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC5kaXNhYmxlX2xpdmVfcGhvdG8nKTsKICBkKCdzaG93QWxsU29uRmVlZHMnLCBudWxsLCBmdW5jdGlvbiAoZW5hYmxlZCkgewogICAgaWYgKCFlbmFibGVkKSByZXR1cm47CiAgICBzdHlsZSgnLyrlsZXlvIDmiYDmnInlrZDlvq7ljZrvvIjigJzov5jmnIk/5p2h5a+55Y6f5b6u5Y2a55qE6L2s5Y+R4oCd77yJICovXG4uV0JfZmVlZF90b2dldGhlciBbbm9kZS10eXBlPSJmZWVkX2xpc3Rfd3JhcEZvcndhcmQiXSB7IGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQgfSAuV0JfZmVlZF90b2dldGhlcj5hW2FjdGlvbi10eXBlPSJmZWVkX2xpc3Rfc2VlQWxsIl0sIC5XQl9mZWVkX3RvZ2V0aGVyPmFbYWN0aW9uLXR5cGU9ImZlZWRfbGlzdF9mb2xkRm9yd2FyZCJdIHsgZGlzcGxheTogbm9uZSB9Jyk7CiAgfSk7CiAgbihudWxsLCAnd2VpYm8udG9vbC5jdXN0b21fZm9udF9mYW1pbHkud2YnKTsKICBuKG51bGwsICd3ZWliby50b29sLmN1c3RvbV9mb250X2ZhbWlseS5jZicpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wuY3VzdG9tX2ZvbnRfZmFtaWx5Jyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC53ZWlib19sYXJnZV9mb250LnJhdGlvJyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC53ZWlib19sYXJnZV9mb250Jyk7CiAgZChudWxsLCAnd2VpYm8udG9vbC5hdmF0YXJfc2hhcGUuc2hhcGUnLCAnc3F1YXJlJyk7IC8vIOS9v+eUqOaWueW9ouWktOWDjwogIGQoJ3NxdWFyZUF2YXRhcicsICd3ZWliby50b29sLmF2YXRhcl9zaGFwZScpOyAvLyDkvb/nlKjmlrnlvaLlpLTlg48KICBuKG51bGwsICd3ZWliby50b29sLmRhcmtfbmF2X2JhcicpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wucmVvcmRlcl9uYXZfYmFyJyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC5uYXZfaGlkZV9uYW1lJyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC53aWR0aF93ZWliby53aWR0aCcpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wud2lkdGhfd2VpYm8nKTsKICBuKG51bGwsICd3ZWliby50b29sLndlaWJvX29ubHkud2lkdGgnKTsKICBuKG51bGwsICd3ZWliby50b29sLndlaWJvX29ubHkua2V5Jyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC53ZWlib19vbmx5LnN3aXRjaCcpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wud2VpYm9fb25seS5fZW5hYmxlZCcpOwogIGQobnVsbCwgJ3dlaWJvLnRvb2wud2VpYm9fb25seScsIHRydWUpOyAvLyDlkK/nlKjmnoHnroDpmIXor7vmqKHlvI8gLy8g4pqg77iPIOWFt+S9k+agt+W8j+eojeacieS4jeWQjAogIG4oWydyZWFkZXJNb2RlSW5kZXgnLCAncmVhZGVyTW9kZVByb2ZpbGUnXSwgbnVsbCk7IC8vIOKaoO+4jyBZQVdGIOS4jeaPkOS+m+mAmui/h+iuvue9ruW8gOWFs+mYheivu+inhuWbvueahOmAiemhuQogIGQoJ3NraW5JRCcsICd3ZWliby50b29sLnNldF9za2luLnNraW4nKTsgLy8g6KaG55uW5oiR55qE6aaW6aG15qih5p2/6K6+572u5Li6CiAgZCgnb3ZlcnJpZGVNeVNraW4nLCAnd2VpYm8udG9vbC5zZXRfc2tpbicpOyAvLyDopobnm5bmiJHnmoTpppbpobXmqKHmnb/orr7nva7kuLogLy8g4pqg77iPIFlBV0Yg5LiN5o+Q5L6b5a+56aaW6aG15ZKM5Liq5Lq65Li76aG155qE5YiG5byA6K6+572uCiAgbihudWxsLCAnd2VpYm8udG9vbC5mZWVkbGlzdF9uYXZfZml4Jyk7CiAgZCgndW53cmFwVGV4dCcsICd3ZWliby50b29sLnVud3JhcFRleHQnKTsgLy8g5b6u5Y2a5L2c6ICF5LiO5q2j5paH6Ze05LiN5oqY6KGMCiAgbihudWxsLCAnd2VpYm8udG9vbC51bndyYXBDb250ZW50LnRleHQnKTsKICBuKG51bGwsICd3ZWliby50b29sLnVud3JhcENvbnRlbnQnKTsKICBuKG51bGwsICd3ZWliby50b29sLmltYWdlX3NpemUucmVwb3N0Jyk7CiAgZCgnc21hbGxJbWdMYXlvdXQnLCAnd2VpYm8udG9vbC5pbWFnZV9zaXplJyk7IC8vIOWQr+eUqOWwj+WbvueJiOW8j++8iOiHquWumuS5ieW+ruWNmumFjeWbvuWwuuWvuO+8iSAvLyDimqDvuI8gWUFXRiDkuI3mj5DkvpvlsLrlr7jlrprkuYnnmoTlip/og73vvIzlm6DkuLroh6rlrprkuYnlsLrlr7jlj6/og73lkozlhbbku5blip/og73lhrLnqoEKICBkKFsnY29tcGFjdEZlZWRUb29sYmFyJywgJ25vSG9tZU1hcmdpbnMnXSwgJ3dlaWJvLnRvb2wubm9fd2VpYm9fc3BhY2UnLCByLnNvbWUpOyAvLyDkvb/nlKjntKflh5HlnovvvIhWNeagt+W8j++8ieW+ruWNmuW3peWFt+agj++8iOaUtuiXjyB8IOi9rOWPkSB8IOivhOiuuiB8IOi1nu+8iSwg5Zyo6aaW6aG15L2/55So57Sn5YeR54mI5byP77yI5Y676Zmk5Y2h54mH6Ze056m66ZqZ77yJIC8vIOKaoO+4jyBZQVdGIOacquaPkOS+m+S4pOS4quWKn+iDveWIhuW8gOeahOiuvue9rgogIGQoWydtb3ZlU3JjVG9CdG0nLCAndW53cmFwVGV4dCcsICdjb21wYWN0RmVlZFRvb2xiYXInXSwgJ3dlaWJvLnRvb2wuZnJvbV9pbl9ib3R0b20nLCByLnNvbWUpOyAvLyDlvq7ljZrmnaXmupDnp7vliqjoh7Plvq7ljZrlupXpg6gKICBuKG51bGwsICd3ZWliby50b29sLnVzZXJfcGFnZV9ub19hdXRob3InKTsKICBkKG51bGwsICd3ZWliby50b29sLmhvdmVyX3Nob3dfZm9sZCcsIHRydWUpOwogIGQobnVsbCwgJ3dlaWJvLnRvb2wuZm9sZF90ZXh0LnRleHQnLCAnYXV0aG9yLXJlYXNvbicpOwogIGQobnVsbCwgJ3dlaWJvLnRvb2wuZm9sZF90ZXh0JywgdHJ1ZSk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0LnJlb3JkZXIuMScpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dC5yZW9yZGVyLjInKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXQucmVvcmRlci4zJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0LnJlb3JkZXIuNCcpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dC5yZW9yZGVyLjUnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXQucmVvcmRlcicpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dC5jbXRvcmRlci4xJyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0LmNtdG9yZGVyLjInKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXQuY210b3JkZXIuMycpOwogIG4obnVsbCwgJ3dlaWJvLmxheW91dC5jbXRvcmRlci40Jyk7CiAgbihudWxsLCAnd2VpYm8ubGF5b3V0LmNtdG9yZGVyLjUnKTsKICBuKG51bGwsICd3ZWliby5sYXlvdXQuY210b3JkZXInKTsKICBuKG51bGwsICd3ZWliby50b29sLndoaXRlbGlzdF9oaWdobGlnaHQuY29sb3InKTsKICBuKG51bGwsICd3ZWliby50b29sLndoaXRlbGlzdF9oaWdobGlnaHQudHJhbnNwYXJlbmN5Jyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC53aGl0ZWxpc3RfaGlnaGxpZ2h0Jyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC5jb2xvcl9vdmVycmlkZS5jb2xvcjEnKTsKICBkKCdiYWNrQ29sb3InLCAnd2VpYm8udG9vbC5jb2xvcl9vdmVycmlkZS5jb2xvcjInLCByLmNvbG9yLmhleCk7CiAgbihudWxsLCAnd2VpYm8udG9vbC5jb2xvcl9vdmVycmlkZS5jb2xvcjMnKTsKICBkKCdiYWNrQ29sb3InLCAnd2VpYm8udG9vbC5jb2xvcl9vdmVycmlkZS50cmFuc3BhcmVuY3kxJywgci5jb2xvci50cmFuc3BhcmVuY3kpOwogIGQoJ2JhY2tDb2xvcicsICd3ZWliby50b29sLmNvbG9yX292ZXJyaWRlLnRyYW5zcGFyZW5jeTInLCByLmNvbG9yLnRyYW5zcGFyZW5jeSk7CiAgZCgnYmFja0NvbG9yJywgJ3dlaWJvLnRvb2wuY29sb3Jfb3ZlcnJpZGUudHJhbnNwYXJlbmN5MycsIHIuY29sb3IudHJhbnNwYXJlbmN5KTsKICBuKG51bGwsICd3ZWliby50b29sLmNvbG9yX292ZXJyaWRlJyk7IC8vIOiuvue9ruaIkeeahOmmlumhteS4quS6uuS4u+mhtemAj+aYjuiDjOaZr+iJsiAgLy8g4pqg77iPIFlBV0Yg5LiN5o+Q5L6b6aaW6aG15ZKM5Liq5Lq65Li76aG15YiG5byA55qE6K6+572uCiAgbihudWxsLCAnd2VpYm8udG9vbC5vdGhlcl9iYWNrZ3JvdW5kX2NvbG9yLmNvbG9yJyk7CiAgbihudWxsLCAnd2VpYm8udG9vbC5vdGhlcl9iYWNrZ3JvdW5kX2NvbG9yLnRyYW5zcGFyZW5jeScpOwogIG4obnVsbCwgJ3dlaWJvLnRvb2wub3RoZXJfYmFja2dyb3VuZF9jb2xvcicpOwogIG4oJ3VzZUN1c3RvbVN0eWxlcycsIG51bGwpOyAvLyDoh6rlrprkuYnmoLflvI/vvIhDU1PvvInvvJrlj6/nlKjkuo7lsY/olL3mqKHlnZfjgIHmlLnpgKDniYjpnaLvvIwgLy8g4pqg77iPIFlBV0Yg5LiN5o+Q5L6b6Ieq5a6a5LmJ5qC35byP55qE5byA5YWzCiAgZCgnY3VzdG9tU3R5bGVzJywgJ3dlaWJvLnRvb2wudXNlcnN0eWxlJywgZnVuY3Rpb24gKGNzcykgeyBpZiAoY3NzVGV4dCArIGNzcykgcmV0dXJuIGNzc1RleHQgKyAnXG4vKiDku6XkuIvmmK/oh6rlrprkuYnmoLflvI8gKi9cbicgKyBjc3M7IH0pOyAvLyDoh6rlrprkuYnmoLflvI/vvIhDU1PvvInvvJrlj6/nlKjkuo7lsY/olL3mqKHlnZfjgIHmlLnpgKDniYjpnaLvvIwKICBuKG51bGwsICdzY3JpcHQub3RoZXIuYXV0b19jb21wbGV0ZScpOwogIG4oJ3VwZGF0ZU5vdGlmeScsIG51bGwpOyAvLyDmm7TmlrDlkI7pppbmrKHkvb/nlKjml7bmmL7npLrmlrDlip/og70gLy8g4pqg77iPIFlBV0Yg5o+Q5L6b5LqG6K+l6YCJ6aG577yM5L2G5peg5rOV6YCa6L+H5a+85YWl6ISa5pys6K6+572u6K+l5Yqf6IO9CiAgcmV0dXJuIHRhYmxlOwp9OwoKd2JwLnNob3d1bnN1cHBvcnQgPSBmdW5jdGlvbiAoKSB7CiAgdXBkYXRlci5zaG93ZnVuY3NldCgKICAgIHVwZGF0ZXIuc2VsZWN0b3Iua2V5bGlzdCh3YnAudW5zdXBwb3J0ZWQpLAogICAgdXRpbC5zdHIuZmlsbCgne3t3YnBJbXBvcnRTdWNjZXNzVGl0bGV9fScpLAogICAgZnVuY3Rpb24gKGNvdW50KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ2hlYWRlcic6IHV0aWwuZG9tLmNyZWF0ZSh1dGlsLnN0ci5maWxsKGh0bWwud2JwSW1wb3J0U3VjY2Vzc0hlYWRlcikpLAogICAgICAgICdib2R5JzogdXRpbC5kb20uY3JlYXRlKHV0aWwuc3RyLmZpbGwoaHRtbC53YnBJbXBvcnRTdWNjZXNzQm9keSwgeyAnY291bnQnOiBjb3VudCB9KSksCiAgICAgIH07CiAgICB9CiAgKTsKfTsKCndicC5pbXBvcnRlciA9IGZ1bmN0aW9uICgpIHsKICBpZiAoIXdicC5jb25maWcpIHJldHVybjsKICBpZiAoZmlsdGVyLml0ZW1zLnNjcmlwdC5pbXBvcnRleHBvcnQuaW1wb3J0d2JwKSByZXR1cm47CiAgZmlsdGVyLml0ZW1zLnNjcmlwdC5pbXBvcnRleHBvcnQuaW1wb3J0d2JwID0gZmlsdGVyLml0ZW0oewogICAgJ2dyb3VwJzogJ2ltcG9ydGV4cG9ydCcsCiAgICAndmVyc2lvbic6IDAsCiAgICAnc2hvdyc6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGRvbSA9IHV0aWwuZG9tLmNyZWF0ZShodG1sLmNvbmZpZ0ltcG9ydFdicCk7CiAgICAgIHZhciBhID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJ2EnKTsKICAgICAgYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgY29uZmlnVGV4dCA9IEpTT04uc3RyaW5naWZ5KHdicC5jb252ZXJ0ZXIoKSk7CiAgICAgICAgZmlsdGVyLml0ZW1zLnNjcmlwdC5pbXBvcnRleHBvcnQuaW1wb3J0ZXhwb3J0WydpbXBvcnQnXShjb25maWdUZXh0LCBmdW5jdGlvbiAodmVyc2lvbikgewogICAgICAgICAgaWYgKHZlcnNpb24gIT09IDApIHJldHVybjsKICAgICAgICAgIHV0aWwuZnVuYy5jYWxsKHdicC5zaG93dW5zdXBwb3J0KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBkb207CiAgICB9LAogIH0pLmFkZHRvKGZpbHRlci5ncm91cHMuc2NyaXB0KTsKfTsKCi8vIOajgOafpeaYr+WQpuWuieijheS6huKAnOecvOS4jeingeW/g+S4jeeDpuKAne+8iHdicO+8iQooZnVuY3Rpb24gKCkgewogIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dicFBvc3QnLCBmdW5jdGlvbiBnZXREYXRhKGV2ZW50KSB7CiAgICB3YnAuY29uZmlnID0gSlNPTi5wYXJzZShldmVudC5kZXRhaWwuc2xpY2UoZXZlbnQuZGV0YWlsLmluZGV4T2YoJz0nKSArIDEpKTsKICAgIHdicC5pbXBvcnRlcigpOwogIH0pOwp9KCkpOwoKLy8g5pu05pawCnZhciB1cGRhdGVyID0ge307Ci8vIOW9k+WJjeeJiOacrOWPtwp1cGRhdGVyLmN1cnJlbnR2ZXIgPSAoZnVuY3Rpb24gKCkgewogIHZhciB2ZXJzaW9uID0gKChHTV9pbmZvIHx8IHt9KS5zY3JpcHQgfHwge30pLnZlcnNpb24gfHwgJyc7CiAgdmFyIG0gPSB2ZXJzaW9uLm1hdGNoKC9eXGQrXC5cZCtcLihcZCspJC8pOwogIGlmICghbSB8fCAhbVsxXSB8fCAhcGFyc2VJbnQobVsxXSwgMTApKSByZXR1cm4gbnVsbDsKICByZXR1cm4gKHV0aWwuaW5mby52ZXJzaW9uID0gcGFyc2VJbnQobVsxXSwgMTApKTsKfSgpKTsKCi8vIOmdouWQkeaWsOeUqOaIt+eahOaPkOekugp1cGRhdGVyLnVzZXJndWlkZSA9IGZ1bmN0aW9uICgpIHsKICB1dGlsLnVpLmFsZXJ0KCd5YXdmLXVzZXItZ3VpZGUnLCB7CiAgICAndGl0bGUnOiB1dGlsLnN0ci5maWxsKCd7e2luc3RhbGxTdWNjZXNzVGl0bGV9fScpLAogICAgJ3RleHQnOiB1dGlsLnN0ci5maWxsKCd7e2luc3RhbGxTdWNjZXNzVGV4dH19JyksCiAgfSk7Cn07Cgp1cGRhdGVyLnNlbGVjdG9yID0ge307CnVwZGF0ZXIuc2VsZWN0b3IudmVyc2lvbiA9IGZ1bmN0aW9uIChzb3VyY2VWZXJzaW9uKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoIWl0ZW0udmVyc2lvbikgcmV0dXJuIGZhbHNlOwogICAgaWYgKGl0ZW0udmVyc2lvbiA8PSBzb3VyY2VWZXJzaW9uKSByZXR1cm4gZmFsc2U7CiAgICBpZiAoaXRlbS52ZXJzaW9uID4gdXBkYXRlci5jdXJyZW50dmVyKSByZXR1cm4gZmFsc2U7CiAgICBpZiAoIWl0ZW0uc2hvdykgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuIHRydWU7CiAgfTsKfTsKdXBkYXRlci5zZWxlY3Rvci5rZXlsaXN0ID0gZnVuY3Rpb24gKGtleXMpIHsKICByZXR1cm4gZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICghaXRlbS5rZXkpIHJldHVybiBmYWxzZTsKICAgIGlmIChpdGVtLmlzcmVmKSByZXR1cm4gZmFsc2U7CiAgICByZXR1cm4ga2V5cy5pbmRleE9mKGl0ZW0ua2V5KSAhPT0gLTE7CiAgfTsKfTsKCi8vIOaYvuekuuaWsOWKn+iDveaPkOekugp1cGRhdGVyLnNob3dmdW5jc2V0ID0gdXRpbC5mdW5jLmNhdGNoZWQoZnVuY3Rpb24gKGl0ZW1TZWxlY3RvciwgdGl0bGUsIGdlbkNvbnRlbnQpIHsKICAvLyDliJflh7rlip/og70KICB2YXIgbmV3RmlsdGVycyA9IGZpbHRlci5jb2xsZWN0aW9uLml0ZW0ubGlzdChpdGVtU2VsZWN0b3IpOwogIHZhciBjb3VudCA9IG5ld0ZpbHRlcnMuY291bnQoKTsKICBpZiAoY291bnQgPT09IDApIHJldHVybjsgLy8g5aaC5p6c5rKh5pyJ6YCJ5Ye65Lu75L2V5Yqf6IO977yM5YiZ5LiN5pi+56S65a+56K+d5qGGCiAgLy8g5pi+56S65a+56K+d5qGGCiAgdmFyIGRpYWxvZyA9IHV0aWwudWkuZGlhbG9nKCd5YXdmLWZ1bmNzZXQnLCB0aXRsZSwgZnVuY3Rpb24gKGlubmVyKSB7CiAgICB2YXIgY29udGVudCA9IGdlbkNvbnRlbnQoY291bnQpOwogICAgaWYgKGNvbnRlbnQuaGVhZGVyKSBpbm5lci5hcHBlbmRDaGlsZChjb250ZW50LmhlYWRlcik7CiAgICBuZXdGaWx0ZXJzLnNob3coY29udGVudC5ib2R5KTsKICAgIGlmIChjb250ZW50LnRvcCkgY29udGVudC5ib2R5Lmluc2VydEJlZm9yZShjb250ZW50LnRvcCwgY29udGVudC5ib2R5LmZpcnN0Q2hpbGQpOwogICAgaWYgKGNvbnRlbnQuYm90dG9tKSBjb250ZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGVudC5ib3R0b20pOwogICAgaW5uZXIuYXBwZW5kQ2hpbGQoY29udGVudC5ib2R5KTsKICAgIGlmIChjb250ZW50LmZvb3RlcikgaW5uZXIuYXBwZW5kQ2hpbGQoY29udGVudC5mb290ZXIpOwogIH0pOwogIGRpYWxvZy5zaG93KCk7CiAgcmV0dXJuIGRpYWxvZzsKfSk7CgovLyDmmL7npLrmlrDlip/og73mj5DnpLrlr7nor53moYYKdXBkYXRlci53aGF0c25ldyA9IGZ1bmN0aW9uIChzb3VyY2VWZXJzaW9uKSB7CiAgcmV0dXJuIHVwZGF0ZXIuc2hvd2Z1bmNzZXQoCiAgICB1cGRhdGVyLnNlbGVjdG9yLnZlcnNpb24oc291cmNlVmVyc2lvbiksCiAgICB1dGlsLnN0ci5maWxsKCd7e3VwZGF0ZVN1Y2Nlc3NUaXRsZX19JyksCiAgICBmdW5jdGlvbiAoY291bnQpIHsKICAgICAgdmFyIGZvb3RlciA9IHV0aWwuZG9tLmNyZWF0ZSh1dGlsLnN0ci5maWxsKGh0bWwud2hhdHNOZXdGb290ZXIpKTsKICAgICAgZmlsdGVyLml0ZW1zLnNjcmlwdC51cGRhdGUudXBkYXRlLl9zaG93KGZvb3Rlcik7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ2hlYWRlcic6IHV0aWwuZG9tLmNyZWF0ZSh1dGlsLnN0ci5maWxsKGh0bWwud2hhdHNOZXdIZWFkZXIpKSwKICAgICAgICAnYm9keSc6IHV0aWwuZG9tLmNyZWF0ZSh1dGlsLnN0ci5maWxsKGh0bWwud2hhdHNOZXdCb2R5LCB7J2NvdW50JzogY291bnR9KSksCiAgICAgICAgJ2JvdHRvbSc6IHV0aWwuZG9tLmNyZWF0ZSh1dGlsLnN0ci5maWxsKGh0bWwud2hhdHNOZXdCb3R0b20pKSwKICAgICAgICAnZm9vdGVyJzogZm9vdGVyLAogICAgICB9OwogICAgfQogICk7Cn07CgovLyDmm7TmlrDml7bmmL7npLrmj5DnpLrkv6Hmga8KZmlsdGVyLnByZWRlZi5zdWJ0aXRsZSgnc2NyaXB0JywgJ3VwZGF0ZScsICd7e3VwZGF0ZUluZm9UaXRsZX19Jyk7CmZpbHRlci5pdGVtcy5zY3JpcHQudXBkYXRlLnVwZGF0ZSA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAndXBkYXRlJywKICAndmVyc2lvbic6IDkwLAogICd0eXBlJzogJ2Jvb2xlYW4nLAogICd0ZXh0JzogJ3t7dXBkYXRlSW5mb0Rlc2NyaXB0aW9ufX0nLAogICdnZXRjb25mJzogZnVuY3Rpb24gKCkgeyByZXR1cm4gISFHTV9nZXRWYWx1ZSgnd2hhdHNuZXcnLCB0cnVlKTsgfSwKICAncHV0Y29uZic6IGZ1bmN0aW9uICh2YWx1ZSkgeyBHTV9zZXRWYWx1ZSgnd2hhdHNuZXcnLCAhIXZhbHVlKTsgcmV0dXJuICEhdmFsdWU7IH0sCiAgJ2luaXQnOiBmdW5jdGlvbiAoKSB7IHV0aWwuY29uZmlnLnJlZygnd2VpYm8uX3lhd2ZfdmVyc2lvbicpOyB9LAogICdhaW5pdCc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh1dGlsLnBhZ2Uuc2VhcmNoKSByZXR1cm47CiAgICB2YXIgc291cmNlVmVyc2lvbiA9IHV0aWwuY29uZmlnLmdldCgnd2VpYm8uX3lhd2ZfdmVyc2lvbicsIG51bGwsIE51bWJlcik7CiAgICBpZiAoIXNvdXJjZVZlcnNpb24pIHsKICAgICAgdXRpbC5mdW5jLmNhbGwodXBkYXRlci51c2VyZ3VpZGUpOwogICAgICB1dGlsLmNvbmZpZy5wdXQoJ3dlaWJvLl95YXdmX3ZlcnNpb24nLCB1cGRhdGVyLmN1cnJlbnR2ZXIpOwogICAgfSBlbHNlIGlmIChzb3VyY2VWZXJzaW9uIDwgdXBkYXRlci5jdXJyZW50dmVyKSB1dGlsLmZ1bmMuY2FsbChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkaWFsb2cgPSB1cGRhdGVyLndoYXRzbmV3KHNvdXJjZVZlcnNpb24pOwogICAgICBkaWFsb2cub25iZWZvcmVoaWRlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHV0aWwuY29uZmlnLnB1dCgnd2VpYm8uX3lhd2ZfdmVyc2lvbicsIHVwZGF0ZXIuY3VycmVudHZlcik7CiAgICAgIH07CiAgICB9KTsgZWxzZSBpZiAoc291cmNlVmVyc2lvbiA+IHVwZGF0ZXIuY3VycmVudHZlcikgewogICAgICB1dGlsLmNvbmZpZy5wdXQoJ3dlaWJvLl95YXdmX3ZlcnNpb24nLCB1cGRhdGVyLmN1cnJlbnR2ZXIpOwogICAgfQogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMuc2NyaXB0KTsKCi8vIOiwg+ivlQpmaWx0ZXIucHJlZGVmLnN1YnRpdGxlKCdzY3JpcHQnLCAnc2NyaXB0JywgJ3t7c2NyaXB0T3RoZXJUaXRsZX19Jyk7CgovLyDlnKjmkJzntKLpobXpnaLlkK/nlKgKZmlsdGVyLml0ZW1zLnNjcmlwdC5zY3JpcHQuc2VhcmNoX2VuYWJsZSA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnc2NyaXB0JywKICAndmVyc2lvbic6IDAsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ3RleHQnOiAne3tzZWFyY2hFbmFibGV9fScsCiAgJ2dldGNvbmYnOiBmdW5jdGlvbiAoKSB7IHJldHVybiAhIUdNX2dldFZhbHVlKCdzZWFyY2hfZW5hYmxlJywgZmFsc2UpOyB9LAogICdwdXRjb25mJzogZnVuY3Rpb24gKHZhbHVlKSB7IEdNX3NldFZhbHVlKCdzZWFyY2hfZW5hYmxlJywgISF2YWx1ZSk7IHJldHVybiAhIXZhbHVlOyB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnNjcmlwdCk7CgovLyDoh6rliqjooaXlhajlip/og70KZmlsdGVyLml0ZW1zLnNjcmlwdC5zY3JpcHQuc2VhcmNoX2VuYWJsZSA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnc2NyaXB0JywKICAndmVyc2lvbic6IDI3MiwKICAndHlwZSc6ICdib29sZWFuJywKICAnZGVmYXVsdCc6IHRydWUsCiAgJ3RleHQnOiAne3thdXRvQ29tcGxldGVDb25maWd9fScsCiAgJ3JlZic6IHsgJ2knOiB7ICd0eXBlJzogJ3NpY29uJywgJ2ljb24nOiAnYXNrJywgJ3RleHQnOiAne3thdXRvQ29tcGxldGVDb25maWdEZXNjfX0nIH0gfSwKICAna2V5JzogJ3NjcmlwdC5vdGhlci5hdXRvX2NvbXBsZXRlJywKICAnYWluaXQnOiBmdW5jdGlvbiAoKSB7CiAgICB1dGlsLmNvbXBsZXRlLmVuYWJsZSgpOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMuc2NyaXB0KTsKCi8vIOiwg+ivlQpmaWx0ZXIucHJlZGVmLnN1YnRpdGxlKCdzY3JpcHQnLCAnZGVidWcnLCAne3tzY3JpcHREZWJ1Z1RpdGxlfX0nKTsKCmlmICghdXRpbC5zY3JpcHQuaXNtaW4pIGZpbHRlci5pdGVtcy5zY3JpcHQuZGVidWcuZGVidWcgPSBmaWx0ZXIuaXRlbSh7CiAgJ2dyb3VwJzogJ2RlYnVnJywKICAndmVyc2lvbic6IDAsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ3RleHQnOiAne3tzY3JpcHREZWJ1Z319JywKICAncmVmJzogeyAnaSc6IHsgJ3R5cGUnOiAnc2ljb24nLCAnaWNvbic6ICd3YXJuJywgJ3RleHQnOiAne3tzY3JpcHREZWJ1Z0Rlc2N9fScgfSB9LAogICdnZXRjb25mJzogZnVuY3Rpb24gKCkgeyByZXR1cm4gISFHTV9nZXRWYWx1ZSgnZGVidWcnLCBmYWxzZSk7IH0sCiAgJ3B1dGNvbmYnOiBmdW5jdGlvbiAodmFsdWUpIHsgR01fc2V0VmFsdWUoJ2RlYnVnJywgISF2YWx1ZSk7IHJldHVybiAhIXZhbHVlOyB9LAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnNjcmlwdCk7CgovLyDlhbPkuo4KZmlsdGVyLnByZWRlZi5zdWJ0aXRsZSgnc2NyaXB0JywgJ2Fib3V0JywgJ3t7c2NyaXB0QWJvdXRUaXRsZX19Jyk7CgpmaWx0ZXIuaXRlbXMuc2NyaXB0LmFib3V0LnJlbWFyayA9IGZpbHRlci5pdGVtKHsKICAnZ3JvdXAnOiAnYWJvdXQnLAogICd0eXBlJzogJ3JlbWFyaycsCiAgJ3RleHQnOiAnJywKICAnc2hvd24nOiBmdW5jdGlvbiAoZG9tKSB7CiAgICBkb20uaW5uZXJIVE1MID0gdXRpbC5zdHIuZmlsbChodG1sLnNjcmlwdEljb24gKyB0ZXh0LnNjcmlwdEFib3V0LCB7CiAgICAgICdpY29uJzogdXRpbC5zY3JpcHQuaWNvbiwKICAgICAgJ3ZlcnNpb24nOiAoKChHTV9pbmZvIHx8IHt9KS5zY3JpcHQgfHwge30pLnZlcnNpb24gfHwgJz8nKSArCiAgICAgICAgKHV0aWwuc2NyaXB0LmlzbWluID8gJ00nIDogJycpLAogICAgfSk7CiAgICBkb20uc3R5bGUubWluSGVpZ2h0ID0gJzcycHgnOwogIH0sCn0pLmFkZHRvKGZpbHRlci5ncm91cHMuc2NyaXB0KTsKCi8vIOaJqeWxlQpmaWx0ZXIucHJlZGVmLnN1YnRpdGxlKCdzY3JpcHQnLCAnZXh0ZW5zaW9uJywgJ3t7c2NyaXB0RXh0ZW5zaW9uVGl0bGV9fScpOwoKZmlsdGVyLml0ZW1zLnNjcmlwdC5leHRlbnNpb24uZW5hYmxlID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdleHRlbnNpb24nLAogICd2ZXJzaW9uJzogNTcsCiAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgJ3RleHQnOiAne3tzY3JpcHRFeHRlbnNpb25FbmFibGV9fScsCiAgJ2dldGNvbmYnOiBmdW5jdGlvbiAoKSB7IHJldHVybiAhIUdNX2dldFZhbHVlKCdleHRlbnQnLCBmYWxzZSk7IH0sCiAgJ3B1dGNvbmYnOiBmdW5jdGlvbiAodmFsdWUpIHsgR01fc2V0VmFsdWUoJ2V4dGVudCcsICEhdmFsdWUpOyByZXR1cm4gISF2YWx1ZTsgfSwKfSkuYWRkdG8oZmlsdGVyLmdyb3Vwcy5zY3JpcHQpOwoKZmlsdGVyLml0ZW1zLnNjcmlwdC5leHRlbnNpb24ucmVtYXJrID0gZmlsdGVyLml0ZW0oewogICdncm91cCc6ICdleHRlbnNpb24nLAogICd0eXBlJzogJ3JlbWFyaycsCiAgJ3RleHQnOiAne3tzY3JpcHRFeHRlbnNpb25XYXJuaW5nfX0nLAp9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnNjcmlwdCk7CgovLyDorqLpmIUKdmFyIHN1YnNjcmliZSA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIHN1YnNjcmliZSA9IG51bGw7CgogIHZhciBhZGRUaXRsZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmIChzdWJzY3JpYmUpIHJldHVybjsKICAgIHN1YnNjcmliZSA9IGZpbHRlci5wcmVkZWYuZ3JvdXAoJ3N1YnNjcmliZScpOwogICAgZmlsdGVyLnByZWRlZi5zdWJ0aXRsZSgnc3Vic2NyaWJlJywgJ3NsaXN0JywgJ3t7c3Vic2NyaWJlTGlzdFRpdGxlfX0nKTsKICB9OwoKICB2YXIgYWRkU3Vic2NyaWJlID0gZnVuY3Rpb24gKHJ1bGVzKSB7CiAgICBhZGRUaXRsZSgpOwogICAgZmlsdGVyLml0ZW1zLnN1YnNjcmliZVtydWxlcy5pZF0gPSBmaWx0ZXIuaXRlbSh7CiAgICAgICdncm91cCc6ICdzbGlzdCcsCiAgICAgICd2ZXJzaW9uJzogMCwKICAgICAgJ3R5cGUnOiAnc3Vic2NyaWJlJywKICAgICAgJ2tleSc6ICdzdWJzY3JpYmUuJyArIHJ1bGVzLmlkLAogICAgICAndGV4dHMnOiBydWxlcywKICAgICAgJ3JlZic6IHsgJ3J1bGVzJzogeyAndHlwZSc6ICdzdHJpbmcnLCAnZGVmYXVsdCc6ICdudWxsJyB9IH0sCiAgICAgICdkZWZhdWx0JzogdHJ1ZSwKICAgICAgJ3Nob3duJzogZnVuY3Rpb24gKGRvbSkgewogICAgICAgIGRvbS5xdWVyeVNlbGVjdG9yKCcueWF3Zi1zdWJzY3JpYmVEZXRhaWwnKS5ocmVmID0gcnVsZXMuaG9tZXBhZ2U7CiAgICAgIH0sCiAgICAgICdpbml0JzogZnVuY3Rpb24gKCkgewogICAgICAgIGlmICghdGhpcy5jb25mKSByZXR1cm47CiAgICAgICAgdmFyIGxpc3QgPSBydWxlcy5ydWxlczsKICAgICAgICAgIE9iamVjdC5rZXlzKGxpc3QpLmZvckVhY2goZnVuY3Rpb24gKGspIHsKICAgICAgICAgICAgZmlsdGVyLmV4dGVudC5hY3QoJ3dlaWJvLmZpbHRlcnMuJyArIGssIGxpc3Rba10pOwogICAgICAgICAgfSk7CiAgICAgIH0sCiAgICB9KS5hZGR0byhmaWx0ZXIuZ3JvdXBzLnN1YnNjcmliZSk7CiAgfTsKCiAgdXRpbC5mdW5jLm91dHB1dCgnX19ZQVdGX1dlaWJvU3Vic2NyaWJlUnVsZUxpc3RfXycsIGZ1bmN0aW9uIChhcmdzKSB7CiAgICBhZGRTdWJzY3JpYmUoYXJncyk7CiAgfSk7CgogIHJldHVybiBzdWJzY3JpYmU7Cn0oKSk7CgovLyDlj6/mianlsZXljLrln58KdmFyIGV4dGVuc2lvbiA9IChmdW5jdGlvbiAoKSB7CiAgaWYgKCFHTV9nZXRWYWx1ZSgnZXh0ZW50JykpIHJldHVybiBudWxsOwoKICAvLyDmianlsZXliIbnu4QKICB2YXIgZXh0ZW5zaW9uRmlsdGVyR3JvdXAgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZmcgPSBmaWx0ZXIucHJlZGVmLmdyb3VwKCdleHRlbnNpb24nKTsKICAgIGV4dGVuc2lvbkZpbHRlckdyb3VwID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZmc7IH07CiAgICByZXR1cm4gZXh0ZW5zaW9uRmlsdGVyR3JvdXAoKTsKICB9OwoKICB2YXIgeWF3ZiA9IChmdW5jdGlvbiAoKSB7CiAgICAvLyDmmrTpnLLnu5nlpJbpg6jnmoTlh73mlbAKICAgIHZhciB5YXdmID0ge307CiAgICB2YXIgZGVmaW5lRnVuY3Rpb24gPSBmdW5jdGlvbiAobmFtZSwgcGFyYW1zLCBmdW5jKSB7CiAgICAgIHlhd2ZbbmFtZV0gPSB1dGlsLmZ1bmMuY2F0Y2hlZChmdW5jdGlvbiAoYXJnKSB7CiAgICAgICAgZnVuYy5hcHBseSh3aW5kb3csIHBhcmFtcy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gYXJnW2tleV07IH0pKTsKICAgICAgfSk7CiAgICB9OwogICAgLy8g5qOA5p+lIFlBV0Yg5Yqg6L295oiQ5YqfCiAgICBkZWZpbmVGdW5jdGlvbigncGluZycsIFsnY2FsbGJhY2snXSwgZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgIHV0aWwuZnVuYy5jYXRjaGVkKGNhbGxiYWNrKSgpOwogICAgfSk7CiAgICAvLyDmt7vliqDkuIDkuKrov4fmu6TlmajpobkKICAgIGRlZmluZUZ1bmN0aW9uKCdmaWx0ZXInLCBbJ2RldGFpbHMnXSwgZnVuY3Rpb24gKGRldGFpbHMpIHsKICAgICAgaWYgKGRldGFpbHMua2V5KSBkZXRhaWxzLmtleSA9ICd3ZWliby5leHRlbnQuJyArIGRldGFpbHMua2V5OwogICAgICBpZiAoZGV0YWlscy5ncm91cCkgZGV0YWlscy5ncm91cCA9ICdleHRlbnQuJyArIGRldGFpbHMuZ3JvdXA7CiAgICAgIGRldGFpbHMuZXh0ZXJuID0gdHJ1ZTsKICAgICAgZmlsdGVyLml0ZW0oZGV0YWlscykuYWRkdG8oZXh0ZW5zaW9uRmlsdGVyR3JvdXAoKSk7CiAgICB9KTsKICAgIC8vIOWQkeW3suacieeahOWGheWuueOAgeW4kOWPt+etieetiei/h+a7pOWZqOS4rea3u+WKoOinhOWImQogICAgZGVmaW5lRnVuY3Rpb24oJ2V4dGVudCcsIFsnbmFtZScsICd0eXBlJywgJ3dvcmRzJ10sIGZ1bmN0aW9uIChuYW1lLCB0eXBlLCB3b3JkcykgewogICAgICB2YXIga2V5ID0gJ3dlaWJvLmZpbHRlcnMuJyArIG5hbWUgKyAnLicgKyB0eXBlOwogICAgICBmaWx0ZXIuZXh0ZW50LmFjdChrZXksIHdvcmRzKTsKICAgIH0pOwogICAgLy8g5Zyo6L+H5ruk5q+P5p2h5b6u5Y2a5LmL5YmNL+WQjuiwg+eUqOeahOWbnuiwg+WHveaVsAogICAgZGVmaW5lRnVuY3Rpb24oJ2JlZm9yZScsIFsnY2FsbGJhY2snXSwgZnVuY3Rpb24gKGNhbGxiYWNrKSB7IG9ic2VydmVyLndlaWJvLmJlZm9yZShjYWxsYmFjayk7IH0pOwogICAgZGVmaW5lRnVuY3Rpb24oJ2FmdGVyJywgWydjYWxsYmFjayddLCBmdW5jdGlvbiAoY2FsbGJhY2spIHsgb2JzZXJ2ZXIud2VpYm8uYWZ0ZXIoY2FsbGJhY2spOyB9KTsKICAgIC8vIOWvueivneahhgogICAgZGVmaW5lRnVuY3Rpb24oJ2FsZXJ0JywgWydpZCcsICdkZXRhaWxzJ10sIGZ1bmN0aW9uIChpZCwgZGV0YWlscykgeyB1dGlsLnVpLmFsZXJ0KGlkLCBkZXRhaWxzKTsgfSk7CiAgICBkZWZpbmVGdW5jdGlvbignY29uZmlybScsIFsnaWQnLCAnZGV0YWlscyddLCBmdW5jdGlvbiAoaWQsIGRldGFpbHMpIHsgdXRpbC51aS5jb25maXJtKGlkLCBkZXRhaWxzKTsgfSk7CiAgICBkZWZpbmVGdW5jdGlvbignZGlhbG9nJywgWydpZCcsICdkZXRhaWxzJ10sIGZ1bmN0aW9uIChpZCwgZGV0YWlscykgewogICAgICB2YXIgZGlhbG9nID0gdXRpbC51aS5kaWFsb2coaWQsIGRldGFpbHMudGl0bGUsIGRldGFpbHMuZmlsbCk7CiAgICAgIGRpYWxvZy5zaG93KCk7CiAgICAgIGRldGFpbHMuc2hvd24oZGlhbG9nKTsKICAgIH0pOwogICAgcmV0dXJuIHlhd2Y7CiAgfSgpKTsKCiAgdXRpbC5mdW5jLm91dHB1dCgnJF9ZQVdGXyQnLCBmdW5jdGlvbiAoYXJncykgewogICAgaWYgKHlhd2ZbYXJncy5tZXRob2RdKSB1dGlsLmZ1bmMuY2FsbChmdW5jdGlvbiAoKSB7IHlhd2ZbYXJncy5tZXRob2RdKGFyZ3MucGFyYW1zKTsgfSk7CiAgfSk7CgogIHJldHVybiB5YXdmOwp9KCkpOwoKdmFyIG1haW5TdHlsZSA9IEdNX2FkZFN0eWxlKHV0aWwuc3RyLmZpbGwoKHV0aWwuc3RyLmNtdChmdW5jdGlvbiAoKSB7IC8qIUNTUwogIC5nbl9maWx0ZXIgLldfZmljb24geyBmb250LWZhbWlseTogInlhd2YtaWNvbmZvbnQiICFpbXBvcnRhbnQ7IH0KICB7e3lhd2YtaWNvbi1mb250fX0KICAvLyDnvKnlsI/mkJzntKLmoYbkuLrmvI/mlpfmj5Dkvpvnqbrpl7QKICAuV0JfZ2xvYmFsX25hdiAuZ25fc2VhcmNoX3YyIHsgd2lkdGg6IDE3OHB4ICFpbXBvcnRhbnQ7IH0KICAuV0JfZ2xvYmFsX25hdiAuZ25fc2VhcmNoX3YyIC5wbGFjZWhvbGRlciwgLldCX2dsb2JhbF9uYXYgLmduX3NlYXJjaF92MiAuV19pbnB1dCB7IHdpZHRoOiAxMzVweCAhaW1wb3J0YW50OyB9CiAgLmduX3RvcG1lbnVsaXN0X3NlYXJjaCB7IHdpZHRoOiAxODBweCAhaW1wb3J0YW50OyB9CiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDoxMjk1cHgpIHsKICAgIC5XQl9nbG9iYWxfbmF2IC5nbl9zZWFyY2hfdjIgeyB3aWR0aDogNDM1cHggIWltcG9ydGFudDsgfQogICAgLldCX2dsb2JhbF9uYXYgLmduX3NlYXJjaF92MiAucGxhY2Vob2xkZXIsIC5XQl9nbG9iYWxfbmF2IC5nbl9zZWFyY2hfdjIgLldfaW5wdXQgeyB3aWR0aDogMzkycHggIWltcG9ydGFudDsgfQogICAgLmduX3RvcG1lbnVsaXN0X3NlYXJjaCB7IHdpZHRoOiA0MzdweCAhaW1wb3J0YW50OyB9CiAgfQogIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6MTAwNnB4KSB7CiAgICAuV0JfZ2xvYmFsX25hdiAuZ25fc2VhcmNoX3YyIHsgd2lkdGg6IDExNXB4ICFpbXBvcnRhbnQ7IH0KICAgIC5XQl9nbG9iYWxfbmF2IC5nbl9zZWFyY2hfdjIgLnBsYWNlaG9sZGVyLCAuV0JfZ2xvYmFsX25hdiAuZ25fc2VhcmNoX3YyIC5XX2lucHV0IHsgd2lkdGg6IDcycHggIWltcG9ydGFudDsgfQogICAgLmduX3RvcG1lbnVsaXN0X3NlYXJjaCB7IHdpZHRoOiAxMTdweCAhaW1wb3J0YW50OyB9CiAgfQogIC5nbl90b3BtZW51bGlzdF9zZWFyY2ggeyBtaW4td2lkdGg6IDIwMHB4ICFpbXBvcnRhbnQ7IH0KICAvLyDph43nva7lpLTmnaHmlofnq6DpobXpnaLpobbmoI/moLflvI8KICAuV0JfZ2xvYmFsX25hdiAuV19maWNvbi5XX2ZpY29uLCAuV0JfZ2xvYmFsX25hdiAuV19maWNvbi5XX2ZpY29uOmhvdmVyIHsgYmFja2dyb3VuZC1pbWFnZTogbm9uZSAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0OyB0ZXh0LWluZGVudDogMDsgdGV4dC1hbGlnbjogY2VudGVyOyB9CiAgLldCX2dsb2JhbF9uYXYgLmZpY29uX3NlbmQuZmljb25fc2VuZCB7IGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNmYTdkM2MsICNmNTYwMTApICFpbXBvcnRhbnQ7IH0KICAuV0JfZ2xvYmFsX25hdiAuZmljb25fc2VuZC5maWNvbl9zZW5kOmhvdmVyIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgI2Y0NzEyYywjZjE1OTA5KSAhaW1wb3J0YW50OyB9CiAgLy8g6K6+572u5qGG55u45YWz5qC35byPCiAgI3lhd2YtY29uZmlnIFtub2RlLXR5cGU9ImlubmVyIl0geyBwYWRkaW5nOiAwOyB3aWR0aDogODAwcHg7IGhlaWdodDogNDgwcHg7IH0KICAjeWF3Zi1jb25maWcgLnlhd2YtY29uZmlnLWhlYWRlciB7IGZsb2F0OiBsZWZ0OyB3aWR0aDogMTYwcHg7IGhlaWdodDogNDgwcHg7IH0KICAjeWF3Zi1jb25maWcgLnlhd2YtY29uZmlnLWhlYWRlciAubWluaXRiX3VsIHsgaGVpZ2h0OiA0NTBweDsgd2lkdGg6IDEyMHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwYWRkaW5nOiAyMHB4IDAgMTBweCA0MHB4OyBib3gtc2hhZG93OiAtNHB4IDAgMnB4IC0ycHggcmdiYSg2NCwgNjQsIDY0LCAwLjE1KSBpbnNldCwgMCA0cHggMnB4IC0ycHggcmdiYSg2NCwgNjQsIDY0LCAwLjE1KSBpbnNldDsgfQogICN5YXdmLWNvbmZpZyAueWF3Zi1jb25maWctaGVhZGVyIC5taW5pdGJfaXRlbSB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMTIwcHg7IGhlaWdodDogMjVweDsgYm9yZGVyLXN0eWxlOiBzb2xpZCBub25lOyB9CiAgI3lhd2YtY29uZmlnIC55YXdmLWNvbmZpZy1oZWFkZXIgLm1pbml0Yl9sayB7IHdpZHRoOiAxMDBweDsgcGFkZGluZzogMCAxMHB4OyBwb3NpdGlvbjogcmVsYXRpdmU7IHotaW5kZXg6IDE7IH0KICAjeWF3Zi1jb25maWcgLnlhd2YtY29uZmlnLWhlYWRlciAubWluaXRiX2l0ZW06bm90KC5jdXJyZW50KSAubWluaXRiX2xrIHsgYmFja2dyb3VuZDogbm9uZSB0cmFuc3BhcmVudDsgfQogICN5YXdmLWNvbmZpZyAueWF3Zi1jb25maWctaGVhZGVyIC55YXdmLWNvbmZpZy1zZWFyY2ggeyAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7IGJhY2tncm91bmQ6IG5vbmUgdHJhbnNwYXJlbnQ7IGJvcmRlcjogbWVkaXVtIG5vbmU7IGhlaWdodDogMjVweDsgcGFkZGluZzogMCAwIDAgMzBweDsgdGV4dC1hbGlnbjogcmlnaHQ7IHdpZHRoOiA3MHB4OyBib3gtc2l6aW5nOiBjb250ZW50LWJveDsgcG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAyOyB9CiAgI3lhd2YtY29uZmlnIC5jdXJyZW50IC55YXdmLWN1cl9ibG9jayB7IGRpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogcmVsYXRpdmU7IGluZGV4OiAwOyB9CiAgLnlhd2YtY29uZmlnLXNlYXJjaC1sb2dvIHsgY2xlYXI6IGJvdGg7IGRpc3BsYXk6IGJsb2NrOyBmbG9hdDogbGVmdDsgbGVmdDogNDVweDsgcG9zaXRpb246IHJlbGF0aXZlOyB0b3A6IC0yN3B4OyB0cmFuc2l0aW9uOiBsZWZ0IGxpbmVhciAwLjJzOyBjdXJzb3I6IHRleHQ7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IH0KICAueWF3Zi1jb25maWctaGVhZGVyIC5jdXJyZW50IC55YXdmLWNvbmZpZy1zZWFyY2gtbG9nbywgLnlhd2YtY29uZmlnLXNlYXJjaDpmb2N1cyB+IC55YXdmLWNvbmZpZy1zZWFyY2gtbG9nbyB7IGxlZnQ6IDE1cHg7IH0KICAjeWF3Zi1jb25maWcgLnlhd2YtY29uZmlnLWJvZHkgeyBwYWRkaW5nOiAxMHB4IDIwcHggMjBweDsgd2lkdGg6IDYwMHB4OyBtYXgtaGVpZ2h0OiA0NTBweDsgb3ZlcmZsb3c6IGF1dG87IGJveC1zaGFkb3c6IDAgNHB4IDJweCAtMnB4IHJnYmEoNjQsIDY0LCA2NCwgMC4xNSkgaW5zZXQ7IH0KICAueWF3Zi13aW5kb3ctYm9keSB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfQogICN5YXdmLWNvbmZpZyAuV19sYXllcl90aXRsZSB7IHBhZGRpbmctdG9wOiA4cHg7IGxpbmUtaGVpZ2h0OiAzMHB4OyB9CiAgLnlhd2YtTGF5ZXIueWF3Zi1kcmFnIHsgb3BhY2l0eTogMC42NzsgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsgLW1vei11c2VyLXNlbGVjdDogbm9uZTsgdXNlci1zZWxlY3Q6IG5vbmU7IH0KICAjeWF3Zi1jb25maWcgLnByb2ZpbGVfdGFiIHsgZm9udC1zaXplOiAxMnB4OyBtYXJnaW46IC0yMHB4IC0yMHB4IDIwcHg7IHdpZHRoOiA4MDBweDsgfQogIC55YXdmLWNvbmZpZy1sYXllciB7IHBhZGRpbmctYm90dG9tOiAyMHB4OyBtaW4taGVpZ2h0OiA0MDBweDsgfQogIC55YXdmLWdyb3VwU3VidGl0bGUsIC55YXdmLWdyb3VwUmVtYXJrIHsgbWFyZ2luOiA1cHggMTBweDsgcGFkZGluZzogMTBweCAwIDAgMDsgbGluZS1oZWlnaHQ6IDIwcHg7IH0KICAueWF3Zi1ncm91cExhYmVsIHsgbWFyZ2luOiA1cHggMTBweDsgcGFkZGluZzogMTBweCAwIDAgMmVtOyB9CiAgLnlhd2YtZ3JvdXBSZW1hcmsgcCwgLnlhd2YtZ3JvdXBMYWJlbCBwIHsgcGFkZGluZy1ib3R0b206IDVweDsgfQogIC55YXdmLWdyb3VwU3VidGl0bGUgeyBmb250LXdlaWdodDogYm9sZDsgfQogIC55YXdmLWNvbmZpZ0lucHV0IHsgZGlzcGxheTogaW5saW5lOyB9CiAgLnlhd2YtY29uZmlnU3RyaW5nSW5wdXQgeyBkaXNwbGF5OiBibG9jazsgfQogIC55YXdmLWNvbmZpZ0l0ZW0sIC55YXdmLWdyb3VwVGV4dCB7IG1hcmdpbjogMCAyMHB4OyBwYWRkaW5nOiAwIDA7IH0KICAueWF3Zi1jb25maWdJdGVtIHsgbGluZS1oZWlnaHQ6IDMwcHg7IH0KICAueWF3Zi1ncm91cFRleHQgeyBsaW5lLWhlaWdodDogMWVtOyB9CiAgLnlhd2YtZ3JvdXBUZXh0IHAgeyBtYXJnaW46IDJweCAwIDA7IH0KICAueWF3Zi1jb25maWdLZXlJbnB1dCBidXR0b24geyBwYWRkaW5nOiAwIDFlbTsgfQogIC55YXdmLWNvbmZpZ0tleUlucHV0IHNwYW4geyBkaXNwbGF5OiBub25lOyB9CiAgLnlhd2YtY29uZmlnS2V5SW5wdXQgYnV0dG9uOmZvY3VzfnNwYW4geyBkaXNwbGF5OiBpbmxpbmU7IH0KICAueWF3Zi1jb25maWdJdGVtIGxhYmVsK2xhYmVsLCAueWF3Zi1yZWZDb25maWdJdGVtIGxhYmVsK2xhYmVsIHsgbWFyZ2luLWxlZnQ6IDAuNWVtOyB9CiAgLnlhd2YtY29uZmlnSXRlbSBicitsYWJlbCB7IG1hcmdpbi1sZWZ0OiA0ZW07IH0KICAueWF3Zi13aGl0ZWxpc3RGaWx0ZXJUaXRsZTo6YmVmb3JlLCAueWF3Zi1ibGFja2xpc3RGaWx0ZXJUaXRsZTo6YmVmb3JlLCAueWF3Zi1mb2xkbGlzdEZpbHRlclRpdGxlOjpiZWZvcmUgeyBjb250ZW50OiAiICI7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDAuOGVtOyBoZWlnaHQ6IDAuOGVtOyBib3JkZXItcmFkaXVzOiAxZW07IG1hcmdpbi1yaWdodDogMC41ZW07IGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyB9CiAgLnlhd2Ytd2hpdGVsaXN0RmlsdGVyVGl0bGU6OmJlZm9yZSB7IGJhY2tncm91bmQ6ICMzN2M4Mzc7IGJveC1zaGFkb3c6IDAgMCAycHggIzM3YzgzNzsgfQogIC55YXdmLWJsYWNrbGlzdEZpbHRlclRpdGxlOjpiZWZvcmUgeyBiYWNrZ3JvdW5kOiAjYzgzNzM3OyBib3gtc2hhZG93OiAwIDAgMnB4ICNjODM3Mzc7IH0KICAueWF3Zi1mb2xkbGlzdEZpbHRlclRpdGxlOjpiZWZvcmUgeyBiYWNrZ3JvdW5kOiAjYzhjODM3OyBib3gtc2hhZG93OiAwIDAgMnB4ICNjOGM4Mzc7IH0KICAueWF3Zi1jb25maWdTdHJpbmcgc3BhbiB7IGxpbmUtaGVpZ2h0OiAxNnB4OyB3aWR0aDogMTAwJTsgd2lkdGg6Y2FsYygxMDAlIC0gNTZweCk7IG1hcmdpbjogLTIwcHggMTBweCAwOyBwYWRkaW5nOiAycHggMTBweDsgZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiByZWxhdGl2ZTsgdG9wOiAyMHB4OyB9CiAgLnlhd2YtY29uZmlnU3RyaW5nIHRleHRhcmVhLldfaW5wdXQgeyB3aWR0aDogMTAwJTsgd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpOyBwYWRkaW5nLXRvcDogMjBweDsgbWluLWhlaWdodDogODBweDsgbWF4LWhlaWdodDogNDAwcHg7IHJlc2l6ZTogdmVydGljYWw7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNmMGYwZjAgMHB4LCAjZjBmMGYwIDIwcHgsIHRyYW5zcGFyZW50IDIxcHgsIHRyYW5zcGFyZW50IDEwMCUpOyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAtbW96LWRpYWxvZyAwcHgsIC1tb3otZGlhbG9nIDIwcHgsIHRyYW5zcGFyZW50IDIxcHgsIHRyYW5zcGFyZW50IDEwMCUpOyB9CiAgLnlhd2YtY29uZmlnU3RyaW5nc0lucHV0LCAueWF3Zi1jb25maWdVc2Vyc0lucHV0IHsgbWFyZ2luOiA1cHg7IH0KICAueWF3Zi1jb25maWdTdHJpbmdzSXRlbXMsIC55YXdmLWNvbmZpZ1VzZXJzSXRlbXMgeyBwYWRkaW5nOiA1cHggMTBweDsgbGluZS1oZWlnaHQ6IDFlbTsgfQogIC55YXdmLWNvbmZpZ1N0cmluZ3NJdGVtLCAueWF3Zi1jb25maWdVc2Vyc0l0ZW0geyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG1hcmdpbjogMnB4OyB9CiAgLnlhd2YtY29uZmlnU3RyaW5nc0l0ZW0uV19idG5fdGFnIHsgcGFkZGluZzogMCA1cHggMCAxMHB4OyB9CiAgLnlhd2YtY29uZmlnU3RyaW5nc0l0ZW0uV19idG5fdGFnIC5maWNvbl9jbG9zZSB7IG1hcmdpbjogMCAwIDAgLThweDsgfQogIC55YXdmLWNvbmZpZ1N0cmluZ3NJdGVtIHsgbWF4LXdpZHRoOiA1MjBweDsgb3ZlcmZsb3c6IGhpZGRlbjsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IH0KICAueWF3Zi1jb25maWdVc2Vyc0l0ZW0gLnNoaWVsZF9vYmplY3RfY2FyZCB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDIyMHB4OyB9CiAgLnlhd2YtY29uZmlnVXNlcnNJdGVtIC5zaGllbGRfb2JqZWN0X2NhcmQgLmNhcmRfYmcgeyBib3JkZXI6IDFweCBzb2xpZCAjZTZlNmU2OyBib3JkZXItcmFkaXVzOiAycHg7IGJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMDIpOyBwYWRkaW5nOiAxcHggNXB4IDFweCAxcHg7IH0KICAueWF3Zi1jb25maWdVc2Vyc0l0ZW0gLnNoaWVsZF9vYmplY3RfY2FyZCAuY2FyZF9waWMgeyBmbG9hdDogbGVmdDsgd2lkdGg6IDUwcHg7IH0KICAueWF3Zi1jb25maWdVc2Vyc0l0ZW0gLnNoaWVsZF9vYmplY3RfY2FyZCAuY2FyZF9waWMgLnBpY19ib3ggeyBkaXNwbGF5OiBibG9jazsgfQogIC55YXdmLWNvbmZpZ1VzZXJzSXRlbSAuc2hpZWxkX29iamVjdF9jYXJkIC5jYXJkX2NvbnRlbnQgeyBtYXJnaW4tbGVmdDogNjBweDsgfQogIC55YXdmLWNvbmZpZ1VzZXJzSXRlbSAuc2hpZWxkX29iamVjdF9jYXJkIC5vYmplY3RfaW5mbyB7IG1hcmdpbi10b3A6IDJweDsgfQogIC55YXdmLWNvbmZpZ1VzZXJzSXRlbSAuc2hpZWxkX29iamVjdF9jYXJkIC5vYmplY3RfbmFtZSB7IGxpbmUtaGVpZ2h0OiAyMnB4OyBvdmVyZmxvdzogaGlkZGVuOyBmbG9hdDogbGVmdDsgd2lkdGg6IDEzMnB4OyAgIH0KICAueWF3Zi1jb25maWdVc2Vyc0l0ZW0gLnNoaWVsZF9vYmplY3RfY2FyZCAub3RoZXJfaW5mbyB7IGxpbmUtaGVpZ2h0OiAyNHB4OyB9CiAgLnlhd2YtY29uZmlnU2VsZWN0QWxsIHsgZmxvYXQ6IHJpZ2h0OyBtYXJnaW4tdG9wOiAtMjNweDsgaGVpZ2h0OiAyMXB4ICFpbXBvcnRhbnQ7IGxpbmUtaGVpZ2h0OiAxOXB4OyB9CiAgLnlhd2YtY29uZmlnU2VsZWN0QWxsICogeyBsaW5lLWhlaWdodDogMTlweCAhaW1wb3J0YW50OyBoZWlnaHQ6IDE5cHggIWltcG9ydGFudDsgfQogIC55YXdmLWNvbmZpZ0ltcG9ydEV4cG9ydCBhIHsgbWFyZ2luLWxlZnQ6IDIwcHg7IH0KICAueWF3Zi1jb25maWdBZGQgeyBhcHBlYXJhbmNlOiBub25lOyB9CiAgI3lhd2YtY29uZmlnIC5idG4geyBib3JkZXItdG9wOiAxcHggc29saWQgI2NjYzsgbWFyZ2luOiAxNXB4IDAgMDsgcGFkZGluZzogMTBweCAwIDA7IH0KICAjeWF3Zi1jb25maWcgLmJ0biAuV19idG5fYl9kaXNhYmxlOmhvdmVyIHsgYm9yZGVyLWNvbG9yOiAjZDlkOWQ5OyB9CiAgI3lhd2YtY29uZmlnIC5idG4gLldfYnRuX2JfZGlzYWJsZTpob3ZlciBzcGFuIHsgYm9yZGVyLWNvbG9yOiAjZmZmZmZmOyB9CiAgLmxheW91dEZpbHRlckdyb3VwTGF5ZXIgLnlhd2YtY29uZmlnQm9vbGVhbiB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgbWFyZ2luLXJpZ2h0OiAwOyB9CiAgLnlhd2YtdXNlcnN0eWxlcy10aXAgeyBmbG9hdDogcmlnaHQ7IG1hcmdpbjogMCAwIDAgMWVtOyB9CiAgLnlhd2YtY29uZmlnU0ljb24geyBtYXJnaW46IDAgMCAwIDAuNWVtOyBwb3NpdGlvbjogcmVsYXRpdmU7IHRvcDogNHB4OyB9CiAgLnlhd2YtYnViYmxlIHsgbWF4LXdpZHRoOiAyODBweDsgfQogIC55YXdmLWJ1YmJsZSAueWF3Zi1jb25maWdTSWNvbiB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfQogIC55YXdmLXJlZkNvbmZpZ0l0ZW0geyBkaXNwbGF5OiBpbmxpbmU7IH0KICAueWF3Zi1jb25maWctYm9keSAuV0JfZW1wdHkgeyBwYWRkaW5nLXRvcDogMTAwcHg7IH0KICAueWF3Zi1jb25maWdTdWJzY3JpYmUgeyBib3JkZXI6IDFweCByZ2JhKDEyNywgMTI3LCAxMjcsIDAuNSkgc29saWQ7IHBhZGRpbmc6IDVweCA4NXB4IDVweCA4NXB4OyBib3JkZXItcmFkaXVzOiA0cHg7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfQogIC55YXdmLWNvbmZpZ1N1YnNjcmliZVRpdGxlLCAueWF3Zi1jb25maWdTdWJzY3JpYmVJbmZvIHsgbGluZS1oZWlnaHQ6IDIwcHg7IH0KICAueWF3Zi1jb25maWdTdWJzY3JpYmVUaXRsZSB7IGhlaWdodDogMjBweDsgfQogIC55YXdmLWNvbmZpZ1N1YnNjcmliZUluZm8geyBoZWlnaHQ6IDQwcHg7IH0KICAueWF3Zi1jb25maWdTdWJzY3JpYmVJY29uIHsgZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAzcHg7IGxlZnQ6IDEwcHg7IHdpZHRoOiA2NHB4OyBoZWlnaHQ6IDY0cHg7IH0KICAueWF3Zi1jb25maWdTdWJzY3JpYmVCdXR0b24geyBkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyBib3R0b206IDZweDsgcmlnaHQ6IDEwcHg7IH0KICAueWF3Zi1jb25maWdTdWJzY3JpYmVOYW1lIHsgZGlzcGxheTogaW5saW5lOyBmb250LXdlaWdodDogYm9sZDsgfQogIC55YXdmLWNvbmZpZ1N1YnNjcmliZURhdGUgeyBkaXNwbGF5OiBpbmxpbmU7IG1hcmdpbi1sZWZ0OiAxZW07IG9wYWNpdHk6IDAuODsgfQogIC55YXdmLWNvbmZpZ1N1YnNjcmliZURlc2NyaXB0aW9uIHsgbGluZS1oZWlnaHQ6IDIwcHg7IH0KICAueWF3Zi1jb25maWdTdWJzY3JpYmVCdXR0b24gYSB7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tdG9wOiA1cHg7IH0KICAueWF3Zi1jb25maWdTdWJzY3JpYmVEaXNhYmxlZCB7IG9wYWNpdHk6IDAuNTsgfQogIC55YXdmLWNvbmZpZ1N1YnNjcmliZUVuYWJsZWQgLnlhd2Ytc3Vic2NyaWJlRW5hYmxlLAogIC55YXdmLWNvbmZpZ1N1YnNjcmliZURpc2FibGVkIC55YXdmLXN1YnNjcmliZURpc2FibGUgeyBkaXNwbGF5OiBub25lOyB9CiAgLnlhd2YtYXV0b0NvbXBsZXRlTGlzdCB7IHotaW5kZXg6IDEwMDAxOyBwb3NpdGlvbjogYWJzb2x1dGU7IG1pbi13aWR0aDogMTIwcHg7IH0KICAueWF3Zi1hdXRvQ29tcGxldGVMaXN0W3lhd2YtY29tcGxldGUtaXRlbXM9IjAiXSB7IGRpc3BsYXk6IG5vbmU7IH0KICAvLyDmlrDlip/og73mj5DnpLoKICAjeWF3Zi1mdW5jc2V0IFtub2RlLXR5cGU9ImlubmVyIl0geyBwYWRkaW5nOiAxMHB4IDA7IHdpZHRoOiA2MDBweDsgfQogIC55YXdmLXdpbmRvdy1oZWFkZXIgeyBmb250LXNpemU6IDE2cHg7IGxpbmUtaGVpZ2h0OiA0MHB4OyBwYWRkaW5nOiAwIDIwcHg7IH0KICAueWF3Zi13aW5kb3ctZGVzYyB7IGZvbnQtc2l6ZTogMTRweDsgfQogIC55YXdmLXdpbmRvdy1ib3R0b20geyBoZWlnaHQ6IDIwcHg7IH0KICAueWF3Zi13aW5kb3ctYm9keSB7IG1heC1oZWlnaHQ6IDMwMHB4OyBvdmVyZmxvdzogYXV0bzsgcGFkZGluZzogMCAyMHB4OyB9CiAgLnlhd2Ytd2luZG93LWZvb3RlciB7IG1hcmdpbjogMCAwIDIwcHg7IGNvbG9yOiAjNTU1OyBsaW5lLWhlaWdodDogMjBweDsgcGFkZGluZzogMCAyMHB4OyB9CiAgLnlhd2Ytd2luZG93LWZvb3RlciAueWF3Zi1jb25maWdJdGVtLCAueWF3Zi1ncm91cFRleHQgeyBtYXJnaW46IDA7IH0KICAud2JwLWltcG9ydC1zdWNjZXNzLWhlYWRlciB7IGZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDQwcHg7IHBhZGRpbmc6IDAgMjBweDsgfQogIC53YnAtaW1wb3J0LXN1Y2Nlc3MtZGVzYyB7IGZvbnQtc2l6ZTogMTRweDsgfQogIC53YnAtaW1wb3J0LXN1Y2Nlc3MtYm9keSB7IG1heC1oZWlnaHQ6IDMwMHB4OyBvdmVyZmxvdzogYXV0bzsgcGFkZGluZzogMCAyMHB4OyB9CiAgLnlhd2YtY29uZmlnSXRlbSBpbnB1dFt0eXBlPSJudW1iZXIiXTpub3QoOmZvY3VzKSB+IC55YXdmLXJhbmdlLWNvbnRhaW5lcjpub3QoOmhvdmVyKSA+IGlucHV0W3R5cGU9InJhbmdlIl06bm90KDpmb2N1cyksIC55YXdmLWJ1YmJsZSBpbnB1dFt0eXBlPSJyYW5nZSJdIHsgZGlzcGxheTogbm9uZTsgfQogIC8vIOiHquWKqOajgOafpeWFs+azqOWIl+ihqAogICN5YXdmLWZvbGxvd2luZy1ub3RpY2UgW25vZGUtdHlwZT0iaW5uZXIiXSB7IHBhZGRpbmc6IDEwcHggMDsgd2lkdGg6IDYwMHB4OyB9CiAgI3lhd2YtZm9sbG93aW5nLW5vdGljZSAueWF3Zi1mb2xsb3dpbmctbm90aWNlLWJvZHkgeyBoZWlnaHQ6IDI4MHB4OyBvdmVyZmxvdzogYXV0bzsgfQogICN5YXdmLWZvbGxvd2luZy1ub3RpY2UgLnlhd2YtZm9sbG93aW5nLWl0ZW1zLXRpdGxlIHsgbWFyZ2luOiAxMHB4IDAgMDsgZm9udC13ZWlnaHQ6IGJvbGQ7IH0KICAueWF3Zi13aW5kb3ctYnV0dG9ucyB7IG1hcmdpbi1ib3R0b206IC0xMHB4OyB9CiAgLy8g5Y+z5qCP55So5oi35YiX6KGo6K6+572uCiAgI3lhd2YtZmF2ZS1wZW9wbGUtY29uZmlnIFtub2RlLXR5cGU9ImlubmVyIl0geyBwYWRkaW5nOiAxMHB4IDAgMzBweDsgd2lkdGg6IDYwMHB4OyB9CiAgLnlhd2YtZmF2ZS1wZW9wbGUtY29uZmlnLWJvZHkgeyBtYXgtaGVpZ2h0OiAzMDBweDsgb3ZlcmZsb3c6IGF1dG87IHBhZGRpbmc6IDAgMjBweDsgfQogIC8vIOmakOiXj+W+ruWNmgogIFt5YXdmLWRpc3BsYXkkPSItaGlkZGVuIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0KICAvLyDmnKrov4fmu6Tml7bpu5jorqTpmpDol4/vvIjkvYbljaDkvY3vvIkKICBbbm9kZS10eXBlPSJmZWVkX2xpc3QiXSAuV0JfZmVlZF90eXBlOm5vdChbeWF3Zi1kaXNwbGF5XSksCiAgW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gLldCX2ZlZWRfdHlwZSAuV0JfZmVlZF90eXBlOm5vdChbeWF3Zi1kaXNwbGF5XSksCiAgW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gLldCX2ZlZWRfdHlwZTpub3QoW3lhd2YtZGlzcGxheV0pICosCiAgW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gLldCX2ZlZWRfdHlwZSAuV0JfZmVlZF90eXBlOm5vdChbeWF3Zi1kaXNwbGF5XSkgKiB7IHZpc2liaWxpdHk6IGhpZGRlbiAhaW1wb3J0YW50OyB9CiAgLy8g5oqY5Y+g5b6u5Y2aCiAgW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gLldCX2ZlZWRfdHlwZVt5YXdmLWRpc3BsYXkkPSItZm9sZCJdIC5XQl9zY3JlZW4geyBtYXJnaW4tdG9wOiAtNDBweCAhaW1wb3J0YW50OyB9CiAgW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gLldCX2ZlZWRfdHlwZVt5YXdmLWRpc3BsYXkkPSItZm9sZCJdIC50eXBlX3NwZV9wb3MsCiAgW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gLldCX2ZlZWRfdHlwZVt5YXdmLWRpc3BsYXkkPSItZm9sZCJdPio6Zmlyc3QtY2hpbGQ6bm90KC5XQl9zY3JlZW4pOm5vdCguV0JfZmVlZF9kZXRhaWwpIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gLldCX2ZlZWRfdHlwZVt5YXdmLWRpc3BsYXkkPSItZm9sZCJdIC5XQl9mZWVkX2RldGFpbCB7IHRvcDogMTBweDsgbWluLWhlaWdodDogMDsgbWF4LWhlaWdodDogMDsgdHJhbnNpdGlvbjogbWF4LWhlaWdodCAwLjFzOyBvdmVyZmxvdzogaGlkZGVuOyBjdXJzb3I6IHBvaW50ZXI7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfQogIFtub2RlLXR5cGU9ImZlZWRfbGlzdCJdIC5XQl9mZWVkX3R5cGVbeWF3Zi1kaXNwbGF5JD0iLWZvbGQiXSAuV0JfZmVlZF9kZXRhaWwgeyBwYWRkaW5nLXRvcDogMDsgcGFkZGluZy1ib3R0b206IDA7IH0KICBbbm9kZS10eXBlPSJmZWVkX2xpc3QiXSAuV0JfZmVlZF90eXBlW3lhd2YtZGlzcGxheSQ9Ii1mb2xkIl0gLldCX2ZlZWRfZGV0YWlsICsgLldCX2ZlZWRfaGFuZGxlIHsgZGlzcGxheTogbm9uZTsgfQogIFtub2RlLXR5cGU9ImZlZWRfbGlzdCJdIC5XQl9mZWVkX3R5cGVbeWF3Zi1kaXNwbGF5JD0iLWZvbGQiXSB7IHBhZGRpbmc6IDEwcHggMTVweDsgfQogIFtub2RlLXR5cGU9ImZlZWRfbGlzdCJdIC5XQl9mZWVkX3R5cGVbeWF3Zi1kaXNwbGF5JD0iLWZvbGQiXTo6YmVmb3JlIHsgZGlzcGxheTogYmxvY2s7IGxpbmUtaGVpZ2h0OiAxZW07IHBhZGRpbmc6IDFlbSAyMHB4OyBib3JkZXI6IDFweCBzb2xpZDsgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDsgbWFyZ2luOiAwIDFlbTsgd2lkdGg6IGNhbGMoMTAwJSAtIDZlbSAtIDJweCk7IGN1cnNvcjogcG9pbnRlcjsgb3BhY2l0eTogMC44OyB9CiAgW25vZGUtdHlwZT0iZmVlZF9saXN0Il0gLldCX2ZlZWRfdHlwZVt5YXdmLWRpc3BsYXkkPSItZm9sZCJdOmhvdmVyIC5XQl9mZWVkX2RldGFpbDpub3QoOmhvdmVyKSB7IHRyYW5zaXRpb246IG1heC1oZWlnaHQgMC4zczsgfQogIC8vIOivhOiuugogIC5saXN0X3VsW25vZGUtdHlwZT0iZmVlZF9saXN0X2NvbW1lbnRMaXN0Il0gLmxpc3RfbGk6bm90KFt5YXdmLWNtdC1kaXNwbGF5XSksCiAgLmxpc3RfdWxbbm9kZS10eXBlPSJjb21tZW50X2xpc3QiXSAubGlzdF9saTpub3QoW3lhd2YtY210LWRpc3BsYXldKSB7IGRpc3BsYXk6IG5vbmU7IH0KICAubGlzdF91bFtub2RlLXR5cGU9ImZlZWRfbGlzdF9jb21tZW50TGlzdCJdIFt5YXdmLWNtdC1kaXNwbGF5JD0iaGlkZGVuIl0sCiAgLmxpc3RfdWxbbm9kZS10eXBlPSJjb21tZW50X2xpc3QiXSBbeWF3Zi1jbXQtZGlzcGxheSQ9ImhpZGRlbiJdIHsgZGlzcGxheTogbm9uZTsgfQogIC5XQl9tZWRpYV93cmFwW3lhd2YtY210LWltZz0iaGlkZGVuIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0KICAvLyBDb21tb24KICBbbm9kZS10eXBlPSJmZWVkX2xpc3QiXSAuV0JfZmVlZF90eXBlW3lhd2YtZGlzcGxheSQ9Ii1mb2xkIl06aG92ZXI6OmJlZm9yZSB7IG9wYWNpdHk6IDE7IH0KICAvLyDlhbbku5YKICAuV0JfZmVlZF90b2dldGhlciAud2Z0X3VzZXJzIHsgZGlzcGxheTogbm9uZTsgfQogIC5XQl9mZWVkX3RvZ2V0aGVyW3lhd2Ytc29uZm9sZD0iZGlzcGxheSJdIFtub2RlLXR5cGU9ImZlZWRfbGlzdF93cmFwRm9yd2FyZCJdIHsgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsgfQogIC5XQl9mZWVkX3RvZ2V0aGVyW3lhd2Ytc29uZm9sZD0iZGlzcGxheSJdIFthY3Rpb24tdHlwZT0iZmVlZF9saXN0X3NlZUFsbCJdLAogIC5XQl9mZWVkX3RvZ2V0aGVyW3lhd2Ytc29uZm9sZD0iZGlzcGxheSJdIFthY3Rpb24tdHlwZT0iZmVlZF9saXN0X2ZvbGRGb3J3YXJkIl0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0KICAueWF3Zi1yYW5nZS1jb250YWluZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwOyBiYWNrZ3JvdW5kLWNvbG9yOiAtbW96LWRpYWxvZzsgcG9zaXRpb246IHJlbGF0aXZlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG1hcmdpbi1sZWZ0OiAtNjZweDsgd2lkdGg6IDgxcHg7IG1hcmdpbi1yaWdodDogLTE1cHg7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMjcwZGVnKTsgdHJhbnNmb3JtOiByb3RhdGUoMjcwZGVnKTsgdG9wOiAtNTBweDsgdG9wOiBjYWxjKC0xZW0gLSAzNnB4KTsgYm94LXNoYWRvdzogMHB4IDEycHggI2YwZjBmMCwgMHB4IC0xMnB4ICNmMGYwZjA7IGJveC1zaGFkb3c6IDBweCAxMnB4IC1tb3otZGlhbG9nLCAwcHggLTEycHggLW1vei1kaWFsb2c7IH0KICAueWF3Zi1saW5rIHsgd29yZC13cmFwOiBicmVhay13b3JkOyB9CiAgLy8g5ouW5ou9CiAgI3lhd2YtZHJvcC1hcmVhIHsgYmFja2dyb3VuZDogcmdiYSgyNTEsIDI1MSwgMjE2LCAxKTsgb3BhY2l0eTogMC44OyBkaXNwbGF5OiBub25lOyBoZWlnaHQ6IDIzMHB4OyBsZWZ0OiBjYWxjKDUwJSArIDI2MHB4KTsgcG9zaXRpb246IGZpeGVkOyB3aWR0aDogMjMwcHg7IHotaW5kZXg6IDk5OTk7IHRvcDogNTBweDsgfQogICN5YXdmLWRyb3AtYXJlYS52YWxpZCB7IG9wYWNpdHk6IDE7IH0KICAueWF3Zi1kcm9wLWFyZWEtZGVzYyB7IGhlaWdodDogMTcwcHg7IHdpZHRoOiAxNzBweDsgbWFyZ2luOiAxNnB4IDE2cHggLTIwNnB4IDE2cHg7IHBhZGRpbmc6IDEwcHg7IC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7IHVzZXItc2VsZWN0OiBub25lOyBib3JkZXI6IDRweCBkYXNoZWQgI2RkZDsgYm9yZGVyLXJhZGl1czogMjBweDsgY29sb3I6ICMwMDA7IH0KICAueWF3Zi1kcm9wLWFyZWEtdGl0bGUgeyBmb250LXNpemU6IDE1MCU7IGZvbnQtd2VpZ2h0OiBib2xkOyB9CiAgLnlhd2YtZHJvcC1hcmVhLXRleHQgeyBwYWRkaW5nOiAxMHB4OyB9CiAgI3lhd2YtZHJvcC1hcmVhLWNvbnRlbnQgeyBoZWlnaHQ6IDIzMHB4OyB3aWR0aDogMjMwcHg7IHBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMTAwMDI7IG9wYWNpdHk6IDA7IH0KICAjeWF3Zi1mYXN0LWZpbHRlci1jaG9zZSwgI3lhd2YtZmFzdC1maWx0ZXItbGlzdCB7IHBhZGRpbmc6IDIwcHggNDBweDsgfQogICN5YXdmLWZhc3QtZmlsdGVyLXRleHQgeyBmb250LXdlaWdodDogYm9sZDsgfQogICN5YXdmLWRyb3AtYXJlYSB1bCB7IGxpc3Qtc3R5bGU6IGRpc2M7IG1hcmdpbi1sZWZ0OiAyZW07IH0KICAvLyDooajmg4XovpPlhaUKICAubGF5ZXJfZmFjZXMgLmZhY2VzX2xpc3QueWF3Zi1mYWNlc19saXN0IHsgaGVpZ2h0OiA3OXB4OyB9CiAgLmxheWVyX2ZhY2VzIC5mYWNlc19saXN0Lnlhd2YtZmFjZXNfbGlzdCBkaXYgeyBkaXNwbGF5OiBibG9jazsgaGVpZ2h0OiAzMnB4OyBtYXJnaW46IDAgMCA1cHg7IH0KICAubGF5ZXJfZmFjZXMgLmZhY2VzX2xpc3QueWF3Zi1mYWNlc19saXN0IHNwYW4geyBmbG9hdDogbGVmdDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGxpbmUtaGVpZ2h0OiAzMnB4OyBwYWRkaW5nOiAwOyB0ZXh0LWFsaWduOiBjZW50ZXI7IHdpZHRoOiA1MnB4OyBtYXJnaW46IDAgLThweCAwIDA7IH0KICAubGF5ZXJfZmFjZXMgLmZhY2VzX2xpc3QueWF3Zi1mYWNlc19saXN0IHVsIHsgZmxvYXQ6IHJpZ2h0OyBtYXJnaW46IDAgOHB4OyB9CiAgLmxheWVyX2ZhY2VzIC5mYWNlc19saXN0Lnlhd2YtZmFjZXNfbGlzdCBsaSB7IGNvbG9yOiB0cmFuc3BhcmVudDsgfQogIC5sYXllcl9mYWNlcyAuZmFjZXNfbGlzdCB7IC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7IC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7IHVzZXItc2VsZWN0OiBub25lOyB9CiAgLmxheWVyX2ZhY2VzIC5mYWNlc19saXN0IGxpIHsgb3ZlcmZsb3c6IGhpZGRlbjsgfQogIC5sYXllcl9mYWNlcyAuZmFjZXNfbGlzdCBpbWcgeyBib3JkZXI6IDEwcHggdHJhbnNwYXJlbnQgc29saWQ7IG1hcmdpbjogLTEwcHg7IH0KICAjeWF3Zi1mYWNlLWRyb3AtYXJlYSB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDEyNywgMC41KTsgY2xlYXI6IGJvdGg7IGZsb2F0OiByaWdodDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGhlaWdodDogMzJweDsgbGluZS1oZWlnaHQ6IDMycHg7IG1hcmdpbjogLTMycHggOHB4IDA7IG9wYWNpdHk6IDE7IHBhZGRpbmc6IDA7IHdpZHRoOiAzMDZweDsgfQogIC8vIOWFtuS7lumhtemdouS8mOWMluiuvue9rgogICN2Nl9wbF9yaWdodG1vZF9teWluZm86ZW1wdHkgeyBoZWdpaHQ6IDE1NnB4OyB9CiAgLy8g5YiH5o2i6KeG5Zu+CiAgYm9keSAjeWF3Zi13ZWliby1vbmx5IHsgZmxvYXQ6IHJpZ2h0OyBoZWlnaHQ6IDM4cHg7IHdpZHRoOiA4MHB4OyBsaW5lLWhlaWdodDogMzhweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9CiAgLy8g5b6u5Y2a5oyJ6ZKu55qE5bmz5Z2H5YiG5biDCiAgYm9keSAuV0JfaGFuZGxlIHVsIHsKICAgIGRpc3BsYXk6IC1tb3otZmxleDsgLW1vei1mbGV4LWRpcmVjdGlvbjogcm93OyAtbW96LWZsZXgtd3JhcDogbm93cmFwOyAtbW96LWp1c3RpZnktY29udGVudDogLW1vei1zcGFjZS1hcm91bmQ7IC1tb3otYWxpZ24taXRlbXM6IHN0cmV0Y2g7CiAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7IC13ZWJraXQtZmxleC1kaXJlY3Rpb246IHJvdzsgLXdlYmtpdC1mbGV4LXdyYXA6IG5vd3JhcDsgLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6IC13ZWJraXQtc3BhY2UtYXJvdW5kOyAtd2Via2l0LWFsaWduLWl0ZW1zOiBzdHJldGNoOwogICAgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IHJvdzsgZmxleC13cmFwOiBub3dyYXA7IGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOyBhbGlnbi1pdGVtczogc3RyZXRjaDsKICAgIG1hcmdpbi1sZWZ0OiAtNHB4OwogIH0KICBib2R5IC5XQl9oYW5kbGUgdWwgbGkgewogICAgLW1vei1mbGV4LWdyb3c6IDE7IC13ZWJraXQtZmxleC1ncm93OiAxOyBmbGV4LWdyb3c6IDE7CiAgICBmbG9hdDogbm9uZTsgd2lkdGg6IGF1dG87CiAgfQogIC8vIOWKoOi9veWJjemakOiXj+eUqOaIt+WQjQogIC5XQl9nbG9iYWxfbmF2IC5nbl9uYXZfbGlzdCBsaSAuZ25fbmFtZSAuU190eHQxIHsgZGlzcGxheTogbm9uZTsgfQoqLyBub29wKCk7IH0pICsgJ1xuJykucmVwbGFjZSgvXC9cLy4qXG4vZywgJ1xuJyksIHsKICAneWF3Zi1pY29uLWZvbnQnOiBmb250cy5pY29uZm9udCwKfSkpOwp1dGlsLmluaXQoZnVuY3Rpb24gKHZhbGlkKSB7CiAgaWYgKHZhbGlkKSByZXR1cm47CiAgdHJ5IHsgbWFpblN0eWxlLnRleHRDb250ZW50ID0gJyc7IH0gY2F0Y2ggKGUyKSB7IH0KICB0cnkgeyBtYWluU3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtYWluU3R5bGUpOyB9IGNhdGNoIChlMykgeyB9Cn0sIHV0aWwucHJpb3JpdHkuREVGQVVMVCwgdHJ1ZSk7CgovLyDlnKjliqDovb3lpb3kuYvliY3pmpDol4/lhoXlrrkKKGZ1bmN0aW9uICgpIHsKICB2YXIgc3R5bGUgPSBHTV9hZGRTdHlsZSgnLldCX21pbmlibG9nIHsgdmlzaWJpbGl0eTogaGlkZGVuOyB9Jyk7CiAgdXRpbC5pbml0KGZ1bmN0aW9uICgpIHsKICAgIHRyeSB7IHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpOyB9CiAgICBjYXRjaCAoZTEpIHsgR01fYWRkU3R5bGUoJy5XQl9taW5pYmxvZyB7IHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDsgfScpOyB9CiAgICB1dGlsLmRlYnVnKCd5YXdmIGluaXRpYWwgZG9uZScpOwogICAgb2JzZXJ2ZXIuZG9tLmFkZChmdW5jdGlvbiBmaXhOYXZCYXJVUygpIHsKICAgICAgLy8g57uf5LiA5rW35aSW54mI5a+86Iiq5qCPCiAgICAgIHZhciBuYXZfdXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuV0JfZ2xvYmFsX25hdl91cycpOwogICAgICBpZiAobmF2X3VzKSBuYXZfdXMuY2xhc3NMaXN0LnJlbW92ZSgnV0JfZ2xvYmFsX25hdl91cycpOwogICAgfSk7CiAgfSwgdXRpbC5wcmlvcml0eS5MQVNUICsgdXRpbC5wcmlvcml0eS5BRlRFUiArIHV0aWwucHJpb3JpdHkuQUZURVIsIHRydWUpOwp9KCkpOwoKdXRpbC5pbml0KGZ1bmN0aW9uICgpIHsKICAvLyDlup/lvIPorr7nva7pobnmuIXnkIYKICB1dGlsLmNvbmZpZy5wdXQoJ3dlaWJvLnRvb2wucmlnaHRfdXNlcl9saXN0X25vdGljZS5yZWNvcmRzJyk7CiAgdXRpbC5jb25maWcucHV0KCd3ZWliby50b29sLnJpZ2h0X3VzZXJfbGlzdF9ub3RpY2UubGFzdCcpOwogIHV0aWwuY29uZmlnLnB1dCgnd2VpYm8udG9vbC5mYXN0X2Jsb2NrX2J1dHRvbicpOwogIHV0aWwuY29uZmlnLnB1dCgnd2VpYm8udG9vbC5ibG9ja19oaWRkZW4nKTsKICB1dGlsLmNvbmZpZy5wdXQoJ3dlaWJvLmxheW91dEhpZGVSaWdodFRlbXBsYXRlJyk7CiAgdXRpbC5jb25maWcucHV0KCd3ZWliby5sYXlvdXRIaWRlUGVyc29uVGVtcGxhdGUnKTsKICB1dGlsLmNvbmZpZy5wdXQoJ3dlaWJvLnRvb2wubXlfYmFja2dyb3VuZF9jb2xvci5jb2xvcicpOwogIHV0aWwuY29uZmlnLnB1dCgnd2VpYm8udG9vbC5teV9iYWNrZ3JvdW5kX2NvbG9yLnRyYW5zcGFyZW5jeScpOwogIHV0aWwuY29uZmlnLnB1dCgnd2VpYm8udG9vbC5teV9iYWNrZ3JvdW5kX2NvbG9yJyk7Cn0sIHV0aWwucHJpb3JpdHkuRklSU1QgKyB1dGlsLnByaW9yaXR5LkFGVEVSKTsKCi8qIQogKiDmnKzohJrmnKzkvb/nlKjkuobku6XkuIvlvIDmupDpobnnm67kuK3nmoTku6PnoIHvvJoKICoKICog5pys6ISa5pys5Lit5L2/55So5LqG55y85LiN6KeB5b+D5LiN54Om6ISa5pys55qE6YOo5YiG5Luj56CB44CC55y85LiN6KeB5b+D5LiN54Om5L2/55SoIE1JVCDljY/orq7vvIzor6XohJrmnKznmoTljY/orq7lpoLkuIsKICogQ29weXJpZ2h0IChDKSAyMDEyLTIwMTYsIEZhbmcgWmhhbmcgPHpoYW5nZmFuZy50aHVAZ21haWwuY29tPgogKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KICog55y85LiN6KeB5b+D5LiN54Om6ISa5pys55qE6aG555uu5Zyw5Z2A5Li6IGh0dHBzOi8vYml0YnVja2V0Lm9yZy9zYWx2aWF0aS93ZWliby1jbGVhbmVyCiAqLwoKLyohCiAqIOacrOiEmuacrOS9v+eUqCBNSVQg5Y2P6K6uCiAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKQogKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNiDnlLDnlJ8KICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgogKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCiAqIOiEmuacrOmhueebruWcsOWdgCBodHRwczovL2dpdGh1Yi5jb20vdGlhbnNoL3lhd2YKICovCg=="},{"name":"Weibo Lite (无干扰新浪微博)","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["*://weibo.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512589},"enabled":false,"position":27,"file_url":"https://greasyfork.org/scripts/2122-weibo-lite-%E6%97%A0%E5%B9%B2%E6%89%B0%E6%96%B0%E6%B5%AA%E5%BE%AE%E5%8D%9A/code/Weibo%20Lite%20(%E6%97%A0%E5%B9%B2%E6%89%B0%E6%96%B0%E6%B5%AA%E5%BE%AE%E5%8D%9A).user.js","uuid":"21de0abf-c8b2-4c30-9b06-776e725f58d6","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBXZWlibyBMaXRlICjml6DlubLmibDmlrDmtarlvq7ljZopCi8vIEBuYW1lc3BhY2UgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2FkZWxhYnMKLy8gQGRlc2NyaXB0aW9uICAgICBDbGVhciB0aGUgYWRzIGFuZCBhZGQgYSB0b2dnbGUgYnV0dG9uIHRvIGhpZGUvc2hvdyBib3R0b20gYmFyIGFuZCBzaWRlIGJhcnMuCi8vIEB2ZXJzaW9uICAgICAgICAgMi4xLjEKLy8gQGxpY2Vuc2UgICAgICAgICBHUEwgdmVyc2lvbiAzCi8vIEBpbmNsdWRlICAgICAgICAgKjovL3dlaWJvLmNvbS8qCi8vIEByZXF1aXJlICAgICAgICAgaHR0cDovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9qcXVlcnkvMS44LjMvanF1ZXJ5Lm1pbi5qcwovLyBAZ3JhbnQgICAgICAgICAgIG5vbmUKLy8gQHJ1bi1hdCAgICAgICAgICBkb2N1bWVudC1lbmQKLy8gPT0vVXNlclNjcmlwdD09CgovLyBBZGQgYSBidXR0b24uCnZhciBidXR0b24gPSAkKCc8YnV0dG9uPjwvYnV0dG9uPicpOwokKCdkaXYuV19tYWluX2EnKS5iZWZvcmUoYnV0dG9uLmhpZGUoKSk7Ci8vIEZ1bmN0aW9uIHRoZSBidXR0b24uCnZhciBzcGVlZCA9IDI1MDsKYnV0dG9uLnRleHQoJ2hpZGUnKS5jbGljayhmdW5jdGlvbigpewogICAgdmFyIGJhcnMgPSAkKCdkaXYuV19tYWluX2wsIGRpdi5XX21haW5fciwgZGl2Lmdsb2JhbF9mb290ZXInKTsKICAgIGlmIChidXR0b24udGV4dCgpID09ICdoaWRlJykgewogICAgICAgYmFycy5oaWRlKHNwZWVkLCBmdW5jdGlvbigpe2J1dHRvbi50ZXh0KCdzaG93Jyk7fSk7CiAgICB9IGVsc2UgewogICAgICAgYmFycy5mYWRlSW4oc3BlZWQsIGZ1bmN0aW9uKCl7YnV0dG9uLnRleHQoJ2hpZGUnKTt9KTsKICAgIH0KfSk7Ci8vIFNob3cgdGhlIGJ1dHRvbiBhbmQgdGhlbiB0b2dnbGUuCmJ1dHRvbi5zaG93KHNwZWVkLCBmdW5jdGlvbigpe2J1dHRvbi5jbGljaygpO30pOwoKLy8gSGlkZSBhZHMuCmZ1bmN0aW9uIGhpZGVfYWRzKCkgewogICAgY29uc29sZS5sb2coJ2hpZGVfYWRzJyk7CiAgICB2YXIgYWRzID0gJChbCiAgICAgICAgLy8gVGlwcwogICAgICAgICdkaXYubGF5ZXJfdGlwc192ZXJzaW9uJywKICAgICAgICAvLyBIZWFkZXIgYWRzCiAgICAgICAgJ2Rpdi5wbF9jb250ZW50X2JpenRpcHMnLAogICAgICAgICdkaXYudGlwc193cmFwcGVyJywKICAgICAgICAnZGl2LnRpcHNfcGxheWVyJywKICAgICAgICAnZGl2LnRpdGxlX2FyZWEnLAogICAgICAgIC8vIExlZnQgc2lkZSBhZHMKICAgICAgICAvLyBSaWdodCBzaWRlIGFkcwogICAgICAgICdkaXYuYWR2ZXJfY29udEInLAogICAgICAgICdkaXYjcGxfcmlnaHRtb2RfYWRzMzYnLAogICAgICAgICdkaXYuTV9hY3Rpdml0aWVzJywKICAgICAgICAnZGl2Lk1fYWJ2ZXJBcmVhJywKICAgICAgICAvLyBNaWQgYWRzCiAgICAgICAgJ2Rpdi5XX25vX2JvcmRlcicsCiAgICAgICAgJ2Rpdi5XQl9mZWVkX3R5cGVbZmVlZHR5cGU9ImFkIl0nLAogICAgICAgIC8vIEZvb3RlciBhZHMKICAgICAgICAnZGl2LmZvb3Rlcl9hZHYnLAogICAgXS5qb2luKCkpOwogICAgYWRzLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICBpZiAoJCh0aGlzKS5jc3MoJ2Rpc3BsYXknKSA9PSAnbm9uZScpIHsgcmV0dXJuOyB9CiAgICAgICAgY29uc29sZS5sb2coJ0hpZGUnLCB0aGlzKTsKICAgICAgICAkKHRoaXMpLnJlbW92ZSgpOwogICAgfSk7Cn0KLy8gT2JzZXJ2ZSBhbmQgcmVwZWF0CiQoWwogICAnYm9keScsCiAgICdkaXYuV19taW5pYmxvZycsCiAgICdkaXYuV0JfZmVlZCcsCl0uam9pbigpKS5lYWNoKGZ1bmN0aW9uKGksIG8pewogICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24obXV0YXRpb25zKSB7CiAgICAgICAgaGlkZV9hZHMoKTsKICAgIH0pOwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShvLCB7Y2hpbGRMaXN0OiB0cnVlfSk7Cn0pOwo="},{"name":"Cleaner Weibo","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["http://weibo.com/*","http://www.weibo.com/*","http://d.weibo.com/*","http://s.weibo.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512593},"enabled":false,"position":28,"file_url":"https://greasyfork.org/scripts/21015-%E5%8E%BB%E7%9A%AE%E5%BE%AE%E5%8D%9A/code/%E5%8E%BB%E7%9A%AE%E5%BE%AE%E5%8D%9A.user.js","uuid":"055b523c-c4c8-4fdc-a3de-5a9fe4492c8a","source":"J3VzZSBzdHJpY3QnOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCi8vID09VXNlclNjcmlwdD09Ci8vIEBuYW1lICAgICAgICAgQ2xlYW5lciBXZWlibwovLyBAbmFtZTp6aC1DTiAgIOWOu+earuW+ruWNmgovLyBAbmFtZTp6aC1UVyAgIOWOu+earuW+ruWNmgovLyBAbmFtZXNwYWNlICAgIE5CLUtldmluCi8vIEB2ZXJzaW9uICAgICAgMC4xLjIKLy8gQGRlc2NyaXB0aW9uICBNYWtlIHdlaWJvIGNsZWFuZXIuCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiDorpPlvq7ljZrmm7Tkub7mt6jjgIIKLy8gQGRlc2NyaXB0aW9uOnpoLVRXIOiuk+W+ruWNmuabtOS5vua3qOOAggovLyBAYXV0aG9yICAgICAgIE5iL0tldmluCi8vIEBtYXRjaCAgICAgICAgaHR0cDovL3dlaWJvLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cDovL3d3dy53ZWliby5jb20vKgovLyBAbWF0Y2ggICAgICAgIGh0dHA6Ly9kLndlaWJvLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cDovL3Mud2VpYm8uY29tLyoKLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKLy8gVHJhbnNwaWxlZCBieSBCYWJlbCBmcm9tIEVTNiB0byBFUzUuCi8vIEVkaXRlZCB3aXRoIFdlYlN0b3JtLgoKLyoqCiAqIENvbnZlcnQgYSBub2RlIGxpc3QgdG8gYXJyYXkuCiAqIEByZXR1cm5zIHtBcnJheS48SFRNTEVsZW1lbnQ+fQogKi8KTm9kZUxpc3QucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhhdCk7Cn07CgovKioKICogSGlkZSBhbiBIVE1MIGVsZW1lbnQuCiAqLwpIVE1MRWxlbWVudC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLmNsYXNzTmFtZS5pbmRleE9mKCdfQ1dIaWRlJykgPT0gLTEpIHRoaXMuY2xhc3NOYW1lICs9ICcgX0NXSGlkZSc7Cn07CgovKioKICogQ3JlYXRlIGFuIGVsZW1lbnQgZnJvbSBIVE1MIHN0cmluZy4KICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSBlbGVtZW50LgogKi8KU3RyaW5nLnByb3RvdHlwZS50b0hUTUxFbGVtZW50ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHRlbXBsYXRlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7CiAgICB0ZW1wbGF0ZUVsZW1lbnQuaW5uZXJIVE1MID0gdGhpczsKICAgIHJldHVybiB0ZW1wbGF0ZUVsZW1lbnQuY29udGVudC5maXJzdENoaWxkOwp9OwoKLyoqCiAqIExvZyB0byBjb25zb2xlLgogKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBNZXNzYWdlLgogKi8KdmFyIGxvZyA9IGZ1bmN0aW9uIGxvZyhtZXNzYWdlKSB7fQovLyB1bmNvbW1lbnQgdGhpcyBsaW5lIHRvIGVuYWJsZSBsb2dnaW5nCi8vIGNvbnNvbGUubG9nKGBDbGVhbmVyV2VpYm8gfD4gJHttZXNzYWdlfWApCgoKLyoqCiAqIFJvb3QuCiAqLwo7dmFyIENsZWFuZXJXZWlibyA9IHsKICAgIFJlc291cmNlczogewogICAgICAgIEVsZW1lbnRzOiB7CiAgICAgICAgICAgIGdldCBIb21lRmVlZCgpIHsKICAgICAgICAgICAgICAgIHZhciBjYW5kaWRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbm9kZS10eXBlPSJob21lZmVlZCJdJyk7CiAgICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlID09IG51bGwgfHwgY2FuZGlkYXRlID09IHVuZGVmaW5lZCkgY2FuZGlkYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25vZGUtdHlwZT0iZmVlZGNvbmZpZyJdJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgU3R5bGVzOiAnPHN0eWxlPlxuICAgICAgICAgICAgICAgICAgICAuX0NXUmlnaHRVc2VyTmFtZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDE3NXB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLl9DV0ZlZWRTZW5kQm94IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAwICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLl9DV0dlbmVyYWxOYXZOYW1lSWNvbiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDIwMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLl9DV0hpZGUge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC5fQ1dOb0JhY2tncm91bmRJbWFnZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8L3N0eWxlPicudG9IVE1MRWxlbWVudCgpLAoKICAgICAgICBTZWxlY3RvcnM6IHsKICAgICAgICAgICAgUmlnaHRXaWxkY2FyZDogJ1tpZF49InY2X3BsX3JpZ2h0bW9kXyJdJywKICAgICAgICAgICAgUmlnaHRWSVA6ICcjdjZfdHJ1c3RQYWdlbGV0X3JlY29tX21lbWJlcicsCiAgICAgICAgICAgIEZlZWRJbnB1dFRpdGxlOiAnLnRpdGxlX2FyZWEnLAogICAgICAgICAgICBSaWdodFNldFNraW46ICcjdjZfcGxfY29udGVudF9zZXRza2luJywKICAgICAgICAgICAgUmlnaHRXQkxldmVsSWNvbjogJy5XX2ljb25fbGV2ZWwnLAogICAgICAgICAgICBSaWdodFdCTGV2ZWxUZXh0OiAnLmljb25fbWVtYmVyX2RpcycsCiAgICAgICAgICAgIEdlbmVyYWxOZXdJY29uOiAnLldfbmV3LCAuV19uZXdfY291bnQsIC5XX25ld19hbmknLAogICAgICAgICAgICBHZW5lcmFsV2ViSU06ICcjV0Jfd2ViaW0nLAogICAgICAgICAgICBHZW5lcmFsUGxheWVyOiAnLlBDRF9tcGxheWVyJywKICAgICAgICAgICAgR2VuZXJhbFNlYXJjaFBsYWNlSG9sZGVyOiAnLnBsYWNlaG9sZGVyJywKICAgICAgICAgICAgR2VuZXJhbEZvb3RlcjogJy5XQl9mb290ZXInLAogICAgICAgICAgICBGZWVkVGlwczogJy5XX3RpcHMnLAogICAgICAgICAgICBHZW5lcmFsTmF2SWNvbjogJ1tubT0iZ2FtZSJdLCBbbm09ImZpbmQiXScsCiAgICAgICAgICAgIEZlZWRTZW5kQm94OiAnLnNlbmRfd2VpYm8nLAogICAgICAgICAgICBSaWdodFVzZXJOYW1lOiAnLm5hbWUnLAogICAgICAgICAgICBHZW5lcmFsTmF2TmFtZUljb246ICdbbm09Im5hbWUiXScsCiAgICAgICAgICAgIExlZnRIb3RXZWlibzogJ1tzdWRhLXVhdHJhY2skPSJsZWZ0X2hvdHdlaWJvIl0nLAogICAgICAgICAgICBHZW5lcmFsU2luYUxvZ286ICdbbm9kZS10eXBlPSJsb2dvbGluayJdJywKICAgICAgICAgICAgRmVlZFRvcEFkOiAnI3Y2X3BsX2NvbnRlbnRfYml6dGlwcycsCiAgICAgICAgICAgIFNpbmdsZVJpZ2h0UGFuZWw6ICdbaWRePSJQbF9Db3JlX1JlY29tbWVuZExpc3QiXScsCiAgICAgICAgICAgIFNpbmdsZVN0YXJDb3ZlcjogJy5XQl9zdGFyY292ZXInLAogICAgICAgICAgICBVc2VyUGFnZVNraW5Vc2VDb3VudDogJy5wZl91c2VfbnVtJywKICAgICAgICAgICAgVXNlclBhZ2VTa2luVXNlRm9yTWVBc1dlbGw6ICcucGZfY29weV9pY29uJywKICAgICAgICAgICAgVXNlclBhZ2VGb2xsb3dlckludGVyZXN0OiAnW2lkXj0iUGxfQ29yZV9VdDFVc2VyTGlzdCJdJywKICAgICAgICAgICAgRGlzY292ZXJMb2dvOiAnLmxvZ29fYm94JywKICAgICAgICAgICAgU2VhcmNoVHJlbmQ6ICcjcGxfd2VpYm9faG90YmFuZCcsCiAgICAgICAgICAgIFNlYXJjaExvZ286ICcuc2VhcmNoX2xvZ28nLAogICAgICAgICAgICBTZWFyY2hGb290ZXI6ICcuc2VhcmNoX2Zvb3RlcicsCiAgICAgICAgICAgIEZlZWRWaXBDb3ZlcjogJy5XQl92aXBjb3ZlcicsCiAgICAgICAgICAgIEZlZWREZXRhaWw6ICcuV0JfZmVlZF9kZXRhaWwnLAogICAgICAgICAgICBGZWVkQm90dG9tQWR2ZXJ0aXNlbWVudDogJyN2Nl9wbF9hZF9ib3R0b210aXAnLAogICAgICAgICAgICBHZW5lcmFsVmlwSWNvbjogJ1tocmVmKj0idmlwaWNvbiJdJywKICAgICAgICAgICAgR2VuZXJhbExldmVsSWNvbjogJ1tjbGFzcyo9Imljb25fbWVtYmVyIl0nLAogICAgICAgICAgICBHZW5lcmFsQ2x1Ykljb246ICcuaWNvbl9jbHViJywKICAgICAgICAgICAgRGlzY292ZXJSaWdodFBhbmVsQWR2ZXJ0aXNlbWVudDogJ1tpZCo9IlBsX0NvcmVfVGhpcmRIdG1sRGF0YV9fIl0nLAogICAgICAgICAgICBTZWFyY2hSaWdodFBhbmVsUmVjb21tZW5kUHJvZHVjdDogJyNwbF9jb21tb25fYWxpJywKCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBEaXJlY3Qgc2VsZWN0b3JzLgogICAgICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9CiAgICAgICAgICAgICAqLwogICAgICAgICAgICBnZXQgRGlyZWN0U2VsZWN0b3JzKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIFt0aGlzLlJpZ2h0VklQLCB0aGlzLkZlZWRJbnB1dFRpdGxlLCB0aGlzLlJpZ2h0U2V0U2tpbiwgdGhpcy5SaWdodFdCTGV2ZWxJY29uLCB0aGlzLlJpZ2h0V0JMZXZlbFRleHQsIHRoaXMuR2VuZXJhbE5ld0ljb24sIHRoaXMuR2VuZXJhbFdlYklNLCB0aGlzLkdlbmVyYWxQbGF5ZXIsIHRoaXMuR2VuZXJhbFNlYXJjaFBsYWNlSG9sZGVyLCB0aGlzLkdlbmVyYWxGb290ZXIsIHRoaXMuRmVlZFRpcHMsIHRoaXMuR2VuZXJhbE5hdkljb24sIHRoaXMuTGVmdEhvdFdlaWJvLCB0aGlzLkdlbmVyYWxTaW5hTG9nbywgdGhpcy5GZWVkVG9wQWQsIHRoaXMuU2luZ2xlUmlnaHRQYW5lbCwgdGhpcy5TaW5nbGVTdGFyQ292ZXIsIHRoaXMuVXNlclBhZ2VTa2luVXNlQ291bnQsIHRoaXMuVXNlclBhZ2VTa2luVXNlRm9yTWVBc1dlbGwsIHRoaXMuVXNlclBhZ2VGb2xsb3dlckludGVyZXN0LCB0aGlzLkRpc2NvdmVyTG9nbywgdGhpcy5TZWFyY2hUcmVuZCwgdGhpcy5TZWFyY2hMb2dvLCB0aGlzLlNlYXJjaEZvb3RlciwgdGhpcy5GZWVkVmlwQ292ZXIsIHRoaXMuRmVlZEJvdHRvbUFkdmVydGlzZW1lbnQsIHRoaXMuR2VuZXJhbFZpcEljb24sIHRoaXMuR2VuZXJhbExldmVsSWNvbiwgdGhpcy5HZW5lcmFsQ2x1Ykljb24sIHRoaXMuRGlzY292ZXJSaWdodFBhbmVsQWR2ZXJ0aXNlbWVudCwgdGhpcy5TZWFyY2hSaWdodFBhbmVsUmVjb21tZW5kUHJvZHVjdF0uam9pbignLCcpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgU3R5bGVQYXRjaGVyOiBbewogICAgICAgICAgICBnZXQgc2VsZWN0b3IoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gQ2xlYW5lcldlaWJvLlJlc291cmNlcy5TZWxlY3RvcnMuRmVlZFNlbmRCb3g7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBhdGNoZXI6IGZ1bmN0aW9uIHBhdGNoZXIoZWxlbWVudCkgewogICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YoJ19DV0ZlZWRTZW5kQm94JykgPT0gLTEpIGVsZW1lbnQuY2xhc3NOYW1lICs9ICcgX0NXRmVlZFNlbmRCb3gnOwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBnZXQgc2VsZWN0b3IoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gQ2xlYW5lcldlaWJvLlJlc291cmNlcy5TZWxlY3RvcnMuUmlnaHRVc2VyTmFtZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGF0Y2hlcjogZnVuY3Rpb24gcGF0Y2hlcihlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZignX0NXUmlnaHRVc2VyTmFtZScpID09IC0xKSBlbGVtZW50LmNsYXNzTmFtZSArPSAnIF9DV1JpZ2h0VXNlck5hbWUnOwogICAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgICBnZXQgc2VsZWN0b3IoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gQ2xlYW5lcldlaWJvLlJlc291cmNlcy5TZWxlY3RvcnMuRmVlZERldGFpbDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGF0Y2hlcjogZnVuY3Rpb24gcGF0Y2hlcihlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZignX0NXTm9CYWNrZ3JvdW5kSW1hZ2UnKSA9PSAtMSkgZWxlbWVudC5jbGFzc05hbWUgKz0gJyBfQ1dOb0JhY2tncm91bmRJbWFnZSc7CiAgICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICAgIGdldCBzZWxlY3RvcigpIHsKICAgICAgICAgICAgICAgIHJldHVybiBDbGVhbmVyV2VpYm8uUmVzb3VyY2VzLlNlbGVjdG9ycy5HZW5lcmFsTmF2TmFtZUljb247CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBhdGNoZXI6IGZ1bmN0aW9uIHBhdGNoZXIoZWxlbWVudCkgewogICAgICAgICAgICAgICAgdmFyIGFjdHVhbENvbnRhaW5lciA9IGVsZW1lbnQuY2hpbGROb2Rlcy50b0FycmF5KClbMV07CiAgICAgICAgICAgICAgICBpZiAoYWN0dWFsQ29udGFpbmVyLmNsYXNzTmFtZS5pbmRleE9mKCdfQ1dHZW5lcmFsTmF2TmFtZUljb24nKSA9PSAtMSkgYWN0dWFsQ29udGFpbmVyLmNsYXNzTmFtZSArPSAnIF9DV0dlbmVyYWxOYXZOYW1lSWNvbic7CiAgICAgICAgICAgIH0KICAgICAgICB9XSwKCiAgICAgICAgLyoqCiAgICAgICAgICogRWxlbWVudHMgc2VsZWN0ZWQgYnkgd2lsZGNhcmQgc2VsZWN0b3JzLgogICAgICAgICAqIEByZXR1cm5zIHtBcnJheS48SFRNTEVsZW1lbnQ+fQogICAgICAgICAqLwogICAgICAgIGdldCBXaWxkY2FyZEVsZW1lbnRzKCkgewogICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLlNlbGVjdG9ycy5SaWdodFdpbGRjYXJkKS50b0FycmF5KCkuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gIWUuaWQuZW5kc1dpdGgoJ215aW5mbycpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBFbGVtZW50cyBzZWxlY3RlZCBieSBkaXJlY3Qgc2VsZWN0b3JzLgogICAgICAgICAqIEByZXR1cm5zIHtBcnJheS48SFRNTEVsZW1lbnQ+fQogICAgICAgICAqLwogICAgICAgIGdldCBEaXJlY3RFbGVtZW50cygpIHsKICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5TZWxlY3RvcnMuRGlyZWN0U2VsZWN0b3JzKS50b0FycmF5KCk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQWxsIGVsZW1lbnRzIHRvIGJlIGhpZGRlbi4KICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXkuPEhUTUxFbGVtZW50Pn0KICAgICAgICAgKi8KICAgICAgICBnZXQgQWxsRWxlbWVudHNUb0JlSGlkZGVuKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5XaWxkY2FyZEVsZW1lbnRzLmNvbmNhdCh0aGlzLkRpcmVjdEVsZW1lbnRzKTsKICAgICAgICB9CiAgICB9LAoKICAgIEFjdGlvbnM6IHsKICAgICAgICAvKioKICAgICAgICAgKiBCZWdpbiBwcm9jZXNzaW5nIHRoZSBwYWdlLgogICAgICAgICAqLwogICAgICAgIFByb2Nlc3M6IGZ1bmN0aW9uIFByb2Nlc3MoKSB7CiAgICAgICAgICAgIGxvZygnYmVnaW4gcHJvY2Vzc2luZy4uLicpOwogICAgICAgICAgICBpZiAodGhpcy5Jc1Byb2Nlc3NpbmcpIHJldHVybjsKICAgICAgICAgICAgdGhpcy5Jc1Byb2Nlc3NpbmcgPSB0cnVlOwogICAgICAgICAgICBDbGVhbmVyV2VpYm8uUmVzb3VyY2VzLkFsbEVsZW1lbnRzVG9CZUhpZGRlbi5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBsb2coJ2hpZGluZyBlbGVtZW50ICcgKyBlbGVtZW50KTsKICAgICAgICAgICAgICAgIGVsZW1lbnQuaGlkZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5Jc1Byb2Nlc3NpbmcgPSBmYWxzZTsKICAgICAgICB9LAoKICAgICAgICBJc1Byb2Nlc3Npbmc6IGZhbHNlLAoKICAgICAgICAvKioKICAgICAgICAgKiBQYXRjaCBzdHlsZS4KICAgICAgICAgKi8KICAgICAgICBQYXRjaFN0eWxlOiBmdW5jdGlvbiBQYXRjaFN0eWxlKCkgewogICAgICAgICAgICBDbGVhbmVyV2VpYm8uUmVzb3VyY2VzLlN0eWxlUGF0Y2hlci5mb3JFYWNoKGZ1bmN0aW9uIChwYXRjaGVyKSB7CiAgICAgICAgICAgICAgICBuZXcgQ2xlYW5lcldlaWJvLlN0eWxlUGF0Y2hlcihwYXRjaGVyLnNlbGVjdG9yLCBwYXRjaGVyLnBhdGNoZXIpLnBhdGNoKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEZlZWQgb2JzZXJ2ZXIuCiAgICAgICAgICovCiAgICAgICAgRmVlZE9ic2VydmVyOiBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7CiAgICAgICAgICAgIENsZWFuZXJXZWliby5BY3Rpb25zLlByb2Nlc3MoKTsKICAgICAgICB9KSwKCiAgICAgICAgLyoqCiAgICAgICAgICogR2VuZXJhbCBvYnNlcnZlci4KICAgICAgICAgKi8KICAgICAgICBHZW5lcmFsT2JzZXJ2ZXI6IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICAgICAgQ2xlYW5lcldlaWJvLkFjdGlvbnMuUHJvY2VzcygpOwogICAgICAgICAgICBDbGVhbmVyV2VpYm8uQWN0aW9ucy5QYXRjaFN0eWxlKCk7CiAgICAgICAgfSksCgogICAgICAgIC8qKgogICAgICAgICAqIFRoZSB0aW1lciBJRCBvZiB0aGUgaW50ZXJ2YWwgY2FsbGJhY2suCiAgICAgICAgICovCiAgICAgICAgVGltZXJJRDogMCwKCiAgICAgICAgLyoqCiAgICAgICAgICogTW9uaXRvciBob21lIGZlZWQuCiAgICAgICAgICovCiAgICAgICAgTW9uaXRvckhvbWVGZWVkOiBmdW5jdGlvbiBNb25pdG9ySG9tZUZlZWQoKSB7CiAgICAgICAgICAgIGlmIChDbGVhbmVyV2VpYm8uUmVzb3VyY2VzLkVsZW1lbnRzLkhvbWVGZWVkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIC8vIGhvbWUgZmVlZCBoYXMgYmVlbiBsb2FkZWQKICAgICAgICAgICAgICAgIGlmIChDbGVhbmVyV2VpYm8uUmVzb3VyY2VzLkVsZW1lbnRzLkhvbWVGZWVkICE9IHVuZGVmaW5lZCAmJiBDbGVhbmVyV2VpYm8uUmVzb3VyY2VzLkVsZW1lbnRzLkhvbWVGZWVkICE9IG51bGwpIENsZWFuZXJXZWliby5BY3Rpb25zLkZlZWRPYnNlcnZlci5vYnNlcnZlKENsZWFuZXJXZWliby5SZXNvdXJjZXMuRWxlbWVudHMuSG9tZUZlZWQsIHsgY2hpbGRMaXN0OiB0cnVlIH0pOwogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChDbGVhbmVyV2VpYm8uQWN0aW9ucy5UaW1lcklEKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCgogICAgU3R5bGVQYXRjaGVyOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgLyoqCiAgICAgICAgICogQ3JlYXRlIGEgc3R5bGUgcGF0Y2hlci4KICAgICAgICAgKiBAcGFyYW0gc2VsZWN0b3Ige3N0cmluZ30gU2VsZWN0b3IuCiAgICAgICAgICogQHBhcmFtIHBhdGNoZXIge0Z1bmN0aW9ufSBQYXRjaGVyLgogICAgICAgICAqLwoKICAgICAgICBmdW5jdGlvbiBTdHlsZVBhdGNoZXIoc2VsZWN0b3IsIHBhdGNoZXIpIHsKICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0eWxlUGF0Y2hlcik7CgogICAgICAgICAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7CiAgICAgICAgICAgIHRoaXMucGF0Y2hlciA9IHBhdGNoZXI7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBQYXRjaCB0aGUgc3R5bGUuCiAgICAgICAgICovCgoKICAgICAgICBfY3JlYXRlQ2xhc3MoU3R5bGVQYXRjaGVyLCBbewogICAgICAgICAgICBrZXk6ICdwYXRjaCcsCiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwYXRjaCgpIHsKICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhhdC5zZWxlY3RvcikudG9BcnJheSgpLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5wYXRjaGVyKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9XSk7CgogICAgICAgIHJldHVybiBTdHlsZVBhdGNoZXI7CiAgICB9KCkKfTsKCi8vIHJlZ2lzdGVyIHN0eWxlc2hlZXQKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChDbGVhbmVyV2VpYm8uUmVzb3VyY2VzLlN0eWxlcyk7CgovLyByZWdpc3RlciBpbnRlcnZhbApDbGVhbmVyV2VpYm8uQWN0aW9ucy5UaW1lcklEID0gc2V0SW50ZXJ2YWwoQ2xlYW5lcldlaWJvLkFjdGlvbnMuTW9uaXRvckhvbWVGZWVkLCAxNTAwKTsKCi8vIHJlZ2lzdGVyIGdlbmVyYWwgb2JzZXJ2ZXIKQ2xlYW5lcldlaWJvLkFjdGlvbnMuR2VuZXJhbE9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgeyBjaGlsZExpc3Q6IHRydWUsIGF0dHJpYnV0ZXM6IHRydWUgfSk7CgovLyBkZWJ1ZyBlbnRyeSBwb2ludAp3aW5kb3cuY3cgPSBDbGVhbmVyV2VpYm87"},{"name":"fake 115Browser","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://115.com/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512601},"enabled":false,"position":29,"uuid":"230d7a96-86c5-419d-8a38-26fed72db12a","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBmYWtlIDExNUJyb3dzZXIKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vZ2l0aHViLmNvbS9ra0hBSUtFL2Zha2UxMTUKLy8gQHZlcnNpb24gICAgICAxLjMKLy8gQGRlc2NyaXB0aW9uICDkvKroo4UxMTXmtY/op4jlmagKLy8gQGF1dGhvciAgICAgICBra2hhaWtlCi8vIEBtYXRjaCAgICAgICAgKjovLzExNS5jb20vKgovLyBAZ3JhbnQgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICAgICAgR01fbG9nCi8vIEBjb25uZWN0ICAgICAgcGFzc3BvcnQuMTE1LmNvbQovLyBAY29ubmVjdCAgICAgIHBhc3Nwb3J0YXBpLjExNS5jb20KLy8gQGNvbm5lY3QgICAgICBwcm9hcGkuMTE1LmNvbQovLyBAY29ubmVjdCAgICAgIHVwbGIuMTE1LmNvbQovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9jZG4uYm9vdGNzcy5jb20vY3JjLTMyLzAuNC4xL2NyYzMyLm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9jZG4uYm9vdGNzcy5jb20vYmx1ZWltcC1tZDUvMi4zLjAvanMvbWQ1Lm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vcmF3Z2l0LmNvbS9yaWNtb28vYWVzLWpzL21hc3Rlci9pbmRleC5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vcmF3Z2l0LmNvbS9ra0hBSUtFL25vZGUtbHo0L2JhbGFiYWxhL2J1aWxkL2x6NC5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL3Jhd2dpdC5jb20vaW5kdXRueS9lbGxpcHRpYy9tYXN0ZXIvZGlzdC9lbGxpcHRpYy5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL3Jhd2dpdC5jb20vZW1uMTc4L2pzLW1kNC9tYXN0ZXIvYnVpbGQvbWQ0Lm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vcmF3Z2l0LmNvbS9ra0hBSUtFL2Zha2UxMTUvbWFzdGVyL2ZlYzExNS5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwOi8vY2RuLmJvb3Rjc3MuY29tL2pzU0hBLzIuMi4wL3NoYTEuanMKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAovLyA9PS9Vc2VyU2NyaXB0PT0KKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwp2YXIgQnVmZmVyLCBMWjQsIExvZ2luRW5jcnlwdF8sIGJyb3dzZXJJbnRlcmZhY2UsIGJ5dGVzVG9IZXgsIGJ5dGVzVG9TdHJpbmcsIGRpY3RUb0Zvcm0sIGRpY3RUb1F1ZXJ5LCBlYzExNV9jb21wcmVzc19kZWNvZGUsIGVjMTE1X2RlY29kZSwgZWMxMTVfZGVjb2RlX2FlcywgZWMxMTVfZW5jb2RlX2RhdGEsIGVjMTE1X2VuY29kZV90b2tlbiwgZWMxMTVfaW5pdCwgZ192ZXIsIGdldF9rZXksIG1kNF9pbml0LCBwcmVMb2dpbkVuY3J5cHQsIHJlZiwgc2lnX2NhbGMsIHNpZ19pbml0LCBzdHJpbmdUb0J5dGVzOwoKZ192ZXIgPSAnNy4yLjQuMzcnOwoKQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyOwoKTFo0ID0gcmVxdWlyZSgnbHo0Jyk7CgpzdHJpbmdUb0J5dGVzID0gZnVuY3Rpb24ocykgewogIHZhciBpLCBsLCByZWYsIHJldDsKICByZXQgPSBbXTsKICBmb3IgKGkgPSBsID0gMCwgcmVmID0gcy5sZW5ndGg7IDAgPD0gcmVmID8gbCA8IHJlZiA6IGwgPiByZWY7IGkgPSAwIDw9IHJlZiA/ICsrbCA6IC0tbCkgewogICAgcmV0LnB1c2gocy5jaGFyQ29kZUF0KGkpKTsKICB9CiAgcmV0dXJuIHJldDsKfTsKCmJ5dGVzVG9TdHJpbmcgPSBmdW5jdGlvbihiKSB7CiAgdmFyIGksIGwsIGxlbjEsIHJldDsKICByZXQgPSAnJzsKICBmb3IgKGwgPSAwLCBsZW4xID0gYi5sZW5ndGg7IGwgPCBsZW4xOyBsKyspIHsKICAgIGkgPSBiW2xdOwogICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSk7CiAgfQogIHJldHVybiByZXQ7Cn07CgpieXRlc1RvSGV4ID0gZnVuY3Rpb24oYikgewogIHZhciBsLCBsZW4xLCByZXQsIHQ7CiAgcmV0ID0gJyc7CiAgZm9yIChsID0gMCwgbGVuMSA9IGIubGVuZ3RoOyBsIDwgbGVuMTsgbCsrKSB7CiAgICB0ID0gYltsXTsKICAgIHJldCArPSAodCA+PiA0KS50b1N0cmluZygxNik7CiAgICByZXQgKz0gKHQgJiAweGYpLnRvU3RyaW5nKDE2KTsKICB9CiAgcmV0dXJuIHJldDsKfTsKCmVjMTE1X2luaXQgPSBmdW5jdGlvbigpIHsKICB2YXIgUSwgYywga2V5LCBrZXlzLCBwdWI7CiAgYyA9IG5ldyBlbGxpcHRpYy5lYygncDIyNCcpOwogIGtleXMgPSBjLmdlbktleVBhaXIoKTsKICBwdWIgPSBbMHgxZF0uY29uY2F0KGtleXMuZ2V0UHVibGljKHRydWUsIHRydWUpKTsKICBRID0gYy5rZXlGcm9tUHVibGljKCcwNDU3QTI5MjU3Q0QyMzIwRTVENkQxNDMzMjJGQTRCQjhBM0NGOUQzQ0M2MjNFRjVFREFDNjJCNzY3OEE4OUM5MUE4M0JBODAwRDYxMjlGNTIyRDAzNEM4OTVERDI0NjUyNDNBRERDMjUwOTUzQkVFQkEnLnRvTG93ZXJDYXNlKCksICdoZXgnKTsKICBrZXkgPSAoa2V5cy5kZXJpdmUoUS5nZXRQdWJsaWMoKSkpLnRvQXJyYXkoKTsKICByZXR1cm4gewogICAgcHViOiBwdWIsCiAgICBrZXk6IGtleQogIH07Cn07CgplYzExNV9lbmNvZGVfdG9rZW4gPSBmdW5jdGlvbihwdWIsIHRtLCBjbnQpIHsKICB2YXIgaSwgbCwgbSwgbywgcSwgcjIwLCByMjEsIHRtcCwgdG1wMjsKICByMjAgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpOwogIHIyMSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1Nik7CiAgdG1wID0gQnVmZmVyLmFsbG9jKDQ4KTsKICBmb3IgKGkgPSBsID0gMDsgbCA8IDE1OyBpID0gKytsKSB7CiAgICB0bXBbaV0gPSBwdWJbaV0gXiByMjA7CiAgfQogIHRtcFsxNV0gPSByMjA7CiAgdG1wLndyaXRlSW50MzJMRSgxMTUsIDE2KTsKICB0bXAud3JpdGVJbnQzMkxFKHRtLCAyMCk7CiAgZm9yIChpID0gbSA9IDE2OyBtIDwgMjQ7IGkgPSArK20pIHsKICAgIHRtcFtpXSBePSByMjA7CiAgfQogIGZvciAoaSA9IG8gPSAyNDsgbyA8IDM5OyBpID0gKytvKSB7CiAgICB0bXBbaV0gPSBwdWJbaSAtIDldIF4gcjIxOwogIH0KICB0bXBbMzldID0gcjIxOwogIHRtcC53cml0ZUludDMyTEUoY250LCA0MCk7CiAgZm9yIChpID0gcSA9IDQwOyBxIDwgNDQ7IGkgPSArK3EpIHsKICAgIHRtcFtpXSBePSByMjE7CiAgfQogIHRtcDIgPSBCdWZmZXIuY29uY2F0KFtCdWZmZXIuZnJvbSgnXmo+V0QzS3I/SjJnTEZqRDRXMnlAJyksIHRtcC5zbGljZSgwLCA0NCldKTsKICB0bXAud3JpdGVJbnQzMkxFKENSQzMyLmJ1Zih0bXAyKSwgNDQpOwogIHJldHVybiB0bXAudG9TdHJpbmcoJ2Jhc2U2NCcpOwp9OwoKZWMxMTVfZW5jb2RlX2RhdGEgPSBmdW5jdGlvbihkYXRhLCBrZXkpIHsKICB2YXIgYWVzRWNiLCBpLCBqLCBrLCBrZXkxLCBrZXkyLCBsLCBuLCBwYXJ0LCByZXQsIHRtcDsKICBrZXkxID0ga2V5LnNsaWNlKDAsIDE2KTsKICBrZXkyID0ga2V5LnNsaWNlKC0xNik7CiAgYWVzRWNiID0gbmV3IGFlc2pzLk1vZGVPZk9wZXJhdGlvbi5lY2Ioa2V5MSk7CiAgdG1wID0gc3RyaW5nVG9CeXRlcyhkYXRhKTsKICBuID0gdG1wLmxlbmd0aDsKICBqID0gMDsKICByZXQgPSBbXTsKICB3aGlsZSAobiA+IDApIHsKICAgIHBhcnQgPSBbXTsKICAgIGZvciAoaSA9IGwgPSAwOyBsIDwgMTY7IGkgPSArK2wpIHsKICAgICAgayA9IG4gPD0gMCA/IDAgOiB0bXBbaSArIGpdOwogICAgICBwYXJ0LnB1c2goa2V5MltpXSBeIGspOwogICAgICAtLW47CiAgICB9CiAgICBrZXkyID0gYWVzRWNiLmVuY3J5cHQocGFydCk7CiAgICByZXQgPSByZXQuY29uY2F0KGtleTIpOwogICAgaiArPSAxNjsKICB9CiAgcmV0dXJuIGJ5dGVzVG9TdHJpbmcocmV0KTsKfTsKCmVjMTE1X2RlY29kZV9hZXMgPSBmdW5jdGlvbihkYXRhLCBrZXkpIHsKICB2YXIgYWVzQ2JjLCBpdiwga2V5MSwgcmV0OwogIGtleTEgPSBrZXkuc2xpY2UoMCwgMTYpOwogIGl2ID0ga2V5LnNsaWNlKC0xNik7CiAgYWVzQ2JjID0gbmV3IGFlc2pzLk1vZGVPZk9wZXJhdGlvbi5jYmMoa2V5MSwgaXYpOwogIHJldCA9IGFlc0NiYy5kZWNyeXB0KGRhdGEpOwogIHdoaWxlIChyZXQubGVuZ3RoID4gMCAmJiByZXRbcmV0Lmxlbmd0aCAtIDFdID09PSAwKSB7CiAgICByZXQucG9wKCk7CiAgfQogIHJldHVybiBCdWZmZXIuZnJvbShyZXQpOwp9OwoKZWMxMTVfY29tcHJlc3NfZGVjb2RlID0gZnVuY3Rpb24oZGF0YSkgewogIHZhciBsZW4sIHAsIHIsIHJldHMsIHRtcDsKICBwID0gMDsKICByZXRzID0gW107CiAgd2hpbGUgKHAgPCBkYXRhLmxlbmd0aCkgewogICAgbGVuID0gZGF0YS5yZWFkSW50MTZMRShwKSArIDI7CiAgICBpZiAocCArIGxlbiA+IGRhdGEubGVuZ3RoKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgdG1wID0gQnVmZmVyLmFsbG9jKDB4MjAwMCk7CiAgICByID0gTFo0LmRlY29kZUJsb2NrKGRhdGEuc2xpY2UocCArIDIsIHAgKyBsZW4pLCB0bXApOwogICAgaWYgKHIgPCAwKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgcmV0cy5wdXNoKHRtcC5zbGljZSgwLCByKSk7CiAgICBwICs9IGxlbjsKICB9CiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQocmV0cyk7Cn07CgpnZXRfa2V5ID0gZnVuY3Rpb24oZGF0YV9idWYpIHsKICB2YXIgaSwgbCwgcCwgcmV0LCB0OwogIHAgPSAwOwogIHJldCA9IEJ1ZmZlci5hbGxvYyg0MCk7CiAgZm9yIChpID0gbCA9IDA7IGwgPCA0MDsgaSA9ICsrbCkgewogICAgdCA9IGRhdGFfYnVmLnJlYWRJbnQzMkxFKHApOwogICAgcCA9IHQgKyAxOwogICAgcmV0W2ldID0gZGF0YV9idWZbdF07CiAgfQogIHJldHVybiByZXQ7Cn07CgptZDRfaW5pdCA9IGZ1bmN0aW9uKHBTaWcpIHsKICB2YXIgcmV0OwogIHJldCA9IG1kNC5jcmVhdGUoKTsKICByZXQuaDAgPSBwU2lnLnJlYWRJbnQzMkxFKDQpOwogIHJldC5oMSA9IHBTaWcucmVhZEludDMyTEUoOCk7CiAgcmV0LmgyID0gcFNpZy5yZWFkSW50MzJMRSgxMik7CiAgcmV0LmgzID0gcFNpZy5yZWFkSW50MzJMRSgxNik7CiAgcmV0LmZpcnN0ID0gZmFsc2U7CiAgcmV0dXJuIHJldDsKfTsKCnNpZ19pbml0ID0gZnVuY3Rpb24oYm9keSkgewogIHZhciBkYXRhX2J1ZiwgZGF0YV9idWZfcCwgZGhhc2gsIG1kNGgsIG9yaV9kYXRhX3AsIHBTaWcsIHN6OwogIG9yaV9kYXRhX3AgPSBNb2R1bGUuX21hbGxvYyhib2R5Lmxlbmd0aCk7CiAgTW9kdWxlLkhFQVBVOC5zZXQoYm9keSwgb3JpX2RhdGFfcCk7CiAgZGF0YV9idWZfcCA9IE1vZHVsZS5fbWFsbG9jKGJvZHkubGVuZ3RoKTsKICBzeiA9IE1vZHVsZS5jY2FsbCgnY2FsY19vdXQnLCAnbnVtYmVyJywgWydudW1iZXInLCAnbnVtYmVyJywgJ251bWJlciddLCBbb3JpX2RhdGFfcCwgYm9keS5sZW5ndGgsIGRhdGFfYnVmX3BdKTsKICBNb2R1bGUuX2ZyZWUob3JpX2RhdGFfcCk7CiAgZGF0YV9idWYgPSBCdWZmZXIuZnJvbShNb2R1bGUuYnVmZmVyLCBkYXRhX2J1Zl9wLCBzeik7CiAgcFNpZyA9IGdldF9rZXkoZGF0YV9idWYpOwogIG1kNGggPSBtZDRfaW5pdChwU2lnKTsKICBtZDRoLnVwZGF0ZShkYXRhX2J1Zik7CiAgZGhhc2ggPSBtZDRoLmRpZ2VzdCgpOwogIHJldHVybiB7CiAgICBkYXRhX2J1ZjogZGF0YV9idWYsCiAgICBkYXRhX2J1Zl9wOiBkYXRhX2J1Zl9wLAogICAgcFNpZzogcFNpZywKICAgIGRoYXNoOiBkaGFzaAogIH07Cn07CgpzaWdfY2FsYyA9IGZ1bmN0aW9uKGFyZywgc3JjKSB7CiAgdmFyIGRhdGFfYnVmLCBkYXRhX2J1Zl9wLCBkaGFzaCwgaDEsIGgxX3AsIGksIGwsIG1kNGgsIG91dF9kYXRhLCBvdXRfZGF0YV9wLCBwU2lnLCByZXQsIHN6OwogIGRhdGFfYnVmID0gYXJnLmRhdGFfYnVmLCBkYXRhX2J1Zl9wID0gYXJnLmRhdGFfYnVmX3AsIHBTaWcgPSBhcmcucFNpZywgZGhhc2ggPSBhcmcuZGhhc2g7CiAgbWQ0aCA9IG1kNF9pbml0KHBTaWcpOwogIG1kNGgudXBkYXRlKGRoYXNoKTsKICBtZDRoLnVwZGF0ZShzcmMpOwogIG1kNGgudXBkYXRlKHBTaWcpOwogIGgxID0gbmV3IFVpbnQ4QXJyYXkobWQ0aC5idWZmZXIoKSk7CiAgaDFfcCA9IE1vZHVsZS5fbWFsbG9jKDE2KTsKICBNb2R1bGUuSEVBUFU4LnNldChoMSwgaDFfcCk7CiAgb3V0X2RhdGFfcCA9IE1vZHVsZS5fbWFsbG9jKDB4MTAwMDApOwogIHN6ID0gTW9kdWxlLmNjYWxsKCdlbmNvZGUnLCAnbnVtYmVyJywgWydudW1iZXInLCAnbnVtYmVyJywgJ251bWJlcicsICdudW1iZXInLCAnbnVtYmVyJywgJ251bWJlcicsICdudW1iZXInXSwgW2RhdGFfYnVmX3AsIGRhdGFfYnVmLmxlbmd0aCAvIDIsIGgxX3AsIDE2LCBvdXRfZGF0YV9wLCA4LCAxMF0pOwogIE1vZHVsZS5fZnJlZShkYXRhX2J1Zl9wKTsKICBNb2R1bGUuX2ZyZWUoaDFfcCk7CiAgb3V0X2RhdGEgPSBuZXcgVWludDhBcnJheShNb2R1bGUuYnVmZmVyLCBvdXRfZGF0YV9wLCBzeik7CiAgbWQ0aCA9IG1kNF9pbml0KHBTaWcpOwogIG1kNGgudXBkYXRlKG91dF9kYXRhKTsKICByZXQgPSBtZDRoLmRpZ2VzdCgpOwogIE1vZHVsZS5fZnJlZShvdXRfZGF0YV9wKTsKICByZXQucHVzaChwU2lnWzBdKTsKICBmb3IgKGkgPSBsID0gMzY7IGwgPCA0MDsgaSA9ICsrbCkgewogICAgcmV0LnB1c2gocFNpZ1tpXSk7CiAgfQogIHJldHVybiBieXRlc1RvSGV4KHJldCk7Cn07CgplYzExNV9kZWNvZGUgPSBmdW5jdGlvbihkYXRhLCBrZXkpIHsKICB2YXIgZGVjLCB1bnppcDsKICBkZWMgPSBkYXRhW2RhdGEubGVuZ3RoIC0gMTIgKyA1XTsKICB1bnppcCA9IGRhdGFbZGF0YS5sZW5ndGggLSAxMiArIDRdOwogIGRhdGEgPSBkYXRhLnNsaWNlKDAsIC0xMik7CiAgaWYgKGRlYyA9PT0gMSkgewogICAgZGF0YSA9IGVjMTE1X2RlY29kZV9hZXMoZGF0YSwga2V5KTsKICB9CiAgaWYgKChkYXRhICE9IG51bGwpICYmIHVuemlwID09PSAxKSB7CiAgICBkYXRhID0gZWMxMTVfY29tcHJlc3NfZGVjb2RlKGRhdGEpOwogIH0KICByZXR1cm4gZGF0YTsKfTsKCmRpY3RUb1F1ZXJ5ID0gZnVuY3Rpb24oZGljdCkgewogIHZhciBrLCB0bXAsIHY7CiAgdG1wID0gW107CiAgZm9yIChrIGluIGRpY3QpIHsKICAgIHYgPSBkaWN0W2tdOwogICAgdG1wLnB1c2goKGVuY29kZVVSSUNvbXBvbmVudChrKSkgKyAiPSIgKyAoZW5jb2RlVVJJQ29tcG9uZW50KHYpKSk7CiAgfQogIHJldHVybiB0bXAuam9pbignJicpOwp9OwoKZGljdFRvRm9ybSA9IGZ1bmN0aW9uKGRpY3QpIHsKICB2YXIgaywgdG1wLCB2OwogIHRtcCA9IFtdOwogIGZvciAoayBpbiBkaWN0KSB7CiAgICB2ID0gZGljdFtrXTsKICAgIHRtcC5wdXNoKGsgKyAiPSIgKyB2KTsKICB9CiAgcmV0dXJuIHRtcC5qb2luKCcmJyk7Cn07CgpMb2dpbkVuY3J5cHRfID0gZnVuY3Rpb24oYXJnLCBnLCBhcmcxLCBzaWcpIHsKICB2YXIgYWNjb3VudCwgZGF0YSwgZW52aXJvbm1lbnQsIGZha2UsIGdvdG8sIGtleSwgbG9naW5fdHlwZSwgcGFzc3dkLCBwdWIsIHRtLCB0bXVzLCB0b2tlbjsKICBhY2NvdW50ID0gYXJnLmFjY291bnQsIHBhc3N3ZCA9IGFyZy5wYXNzd2QsIGVudmlyb25tZW50ID0gYXJnLmVudmlyb25tZW50LCBnb3RvID0gYXJnLmdvdG8sIGxvZ2luX3R5cGUgPSBhcmcubG9naW5fdHlwZTsKICBwdWIgPSBhcmcxLnB1Yiwga2V5ID0gYXJnMS5rZXk7CiAgdG11cyA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7CiAgdG0gPSBNYXRoLmZsb29yKHRtdXMgLyAxMDAwKTsKICBmYWtlID0gbWQ1KGFjY291bnQpOwogIHRva2VuID0gZWMxMTVfZW5jb2RlX3Rva2VuKHB1YiwgdG0sIDEpOwogIGRhdGEgPSBlYzExNV9lbmNvZGVfZGF0YShkaWN0VG9Gb3JtKHsKICAgIEdVSUQ6IGZha2Uuc2xpY2UoMCwgMjApLAogICAgYWNjb3VudDogYWNjb3VudCwKICAgIGRldmljZTogJ2p1anVtYW8nLAogICAgZGV2aWNlX2lkOiBmYWtlLnNsaWNlKDAsIDEyKS50b1VwcGVyQ2FzZSgpLAogICAgZGV2aWNlX3R5cGU6ICd3aW5kb3dzJywKICAgIGRpc2tfc2VyaWFsOiBmYWtlLnNsaWNlKDAsIDgpLnRvVXBwZXJDYXNlKCksCiAgICBkazogJycsCiAgICBlbnZpcm9ubWVudDogZW52aXJvbm1lbnQsCiAgICBsb2dpbl9zb3VyY2U6ICcxMTVjaHJvbWUnLAogICAgbmV0d29yazogJzUnLAogICAgcGFzc3dkOiBwYXNzd2QsCiAgICBzaWduOiBtZDUoIiIgKyBhY2NvdW50ICsgdG0pLAogICAgc3lzdGVtX2luZm86ICgiICAgICAgICAgICAgIiArIGZha2VbMV0gKyBmYWtlWzBdICsgZmFrZVszXSArIGZha2VbMl0gKyBmYWtlWzVdICsgZmFrZVs0XSArIGZha2VbN10gKyBmYWtlWzZdKS50b1VwcGVyQ2FzZSgpLAogICAgdGltZTogdG0sCiAgICBsb2dpbl90eXBlOiBsb2dpbl90eXBlLAogICAgc2lnbjExNTogc2lnX2NhbGMoc2lnLCBtZDUoIiIgKyBhY2NvdW50ICsgdG0pKQogIH0pLCBrZXkpOwogIHJldHVybiBHTV94bWxodHRwUmVxdWVzdCh7CiAgICBtZXRob2Q6ICdQT1NUJywKICAgIHVybDogImh0dHA6Ly9wYXNzcG9ydC4xMTUuY29tLz9jdD1lbmNyeXB0JmFjPWxvZ2luJmtfZWM9IiArIHRva2VuLAogICAgZGF0YTogZGF0YSwKICAgIGJpbmFyeTogdHJ1ZSwKICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJywKICAgIGhlYWRlcnM6IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcKICAgIH0sCiAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgIHZhciBkYXRlLCBkYXRlc3RyLCBqc29uOwogICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICBkYXRhID0gQnVmZmVyLmZyb20ocmVzcG9uc2UucmVzcG9uc2UpOwogICAgICAgIGRhdGEgPSBlYzExNV9kZWNvZGUoZGF0YSwga2V5KTsKICAgICAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShkYXRhLnRvU3RyaW5nKCdsYXRpbjEnKSk7CiAgICAgICAgICBpZiAoanNvbi5zdGF0ZSAmJiAoanNvbi5kYXRhICE9IG51bGwpKSB7CiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyA3ICogMjQgKiAzNjAwICogMTAwMCk7CiAgICAgICAgICAgIGRhdGVzdHIgPSBkYXRlLnRvR01UU3RyaW5nKCk7CiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9ICJVSUQ9IiArIGpzb24uZGF0YS5jb29raWUuVUlEICsgIjsgZXhwaXJlcz0iICsgZGF0ZXN0ciArICI7IHBhdGg9LzsgZG9tYWluPTExNS5jb20iOwogICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSAiQ0lEPSIgKyBqc29uLmRhdGEuY29va2llLkNJRCArICI7IGV4cGlyZXM9IiArIGRhdGVzdHIgKyAiOyBwYXRoPS87IGRvbWFpbj0xMTUuY29tIjsKICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gIlNFSUQ9IiArIGpzb24uZGF0YS5jb29raWUuU0VJRCArICI7IGV4cGlyZXM9IiArIGRhdGVzdHIgKyAiOyBwYXRoPS87IGRvbWFpbj0xMTUuY29tIjsKICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gIk9PRkw9IiArIGpzb24uZGF0YS51c2VyX2lkICsgIjsgZXhwaXJlcz0iICsgZGF0ZXN0ciArICI7IHBhdGg9LzsgZG9tYWluPTExNS5jb20iOwogICAgICAgICAgICBqc29uLmdvdG8gPSAiIiArIGpzb24uZ290byArIChlbmNvZGVVUklDb21wb25lbnQoZ290bykpOwogICAgICAgICAgICBkZWxldGUganNvbi5kYXRhOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHVuc2FmZVdpbmRvd1tnXShKU09OLnN0cmluZ2lmeShqc29uKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBHTV9sb2coJ2RhdGEgaXMgbnVsbCcpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gR01fbG9nKCJyZXNwb25zZS5zdGF0dXMgPSAiICsgcmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgfQogICAgfQogIH0pOwp9OwoKcHJlTG9naW5FbmNyeXB0ID0gZnVuY3Rpb24obiwgZykgewogIHZhciBrZXksIHB1YiwgcmVmLCB0bSwgdG11cywgdG9rZW47CiAgdG11cyA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7CiAgdG0gPSBNYXRoLmZsb29yKHRtdXMgLyAxMDAwKTsKICByZWYgPSBlYzExNV9pbml0KCksIHB1YiA9IHJlZi5wdWIsIGtleSA9IHJlZi5rZXk7CiAgdG9rZW4gPSBlYzExNV9lbmNvZGVfdG9rZW4ocHViLCB0bSwgMCk7CiAgcmV0dXJuIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgIG1ldGhvZDogJ0dFVCcsCiAgICB1cmw6ICJodHRwczovL3Bhc3Nwb3J0YXBpLjExNS5jb20vYXBwLzIuMC93ZWIvIiArIGdfdmVyICsgIi9sb2dpbi9zaWduP2tfZWM9IiArIHRva2VuLAogICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInLAogICAgYW5vbnltb3VzOiB0cnVlLAogICAgb25sb2FkOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICB2YXIgYm9keSwgZGF0YSwgZXJyb3IsIGVycm9yMSwganNvbiwgc2lnOwogICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICBkYXRhID0gQnVmZmVyLmZyb20ocmVzcG9uc2UucmVzcG9uc2UpOwogICAgICAgIGRhdGEgPSBlYzExNV9kZWNvZGUoZGF0YSwga2V5KTsKICAgICAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShkYXRhLnRvU3RyaW5nKCdsYXRpbjEnKSk7CiAgICAgICAgICBpZiAoanNvbi5zdGF0ZSkgewogICAgICAgICAgICBib2R5ID0gQnVmZmVyLmZyb20oanNvbi5zaWduLCAnYmFzZTY0Jyk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgc2lnID0gc2lnX2luaXQoYm9keSk7CiAgICAgICAgICAgICAgcmV0dXJuIExvZ2luRW5jcnlwdF8oSlNPTi5wYXJzZShuKSwgZywgewogICAgICAgICAgICAgICAgcHViOiBwdWIsCiAgICAgICAgICAgICAgICBrZXk6IGtleQogICAgICAgICAgICAgIH0sIHNpZyk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yMSkgewogICAgICAgICAgICAgIGVycm9yID0gZXJyb3IxOwogICAgICAgICAgICAgIHJldHVybiBHTV9sb2coIiIgKyBlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBHTV9sb2coSlNPTi5zdHJpbmdpZnkoanNvbikpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gR01fbG9nKCdkYXRhIGlzIG51bGwnKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIEdNX2xvZygicmVzcG9uc2Uuc3RhdHVzID0gIiArIHJlc3BvbnNlLnN0YXR1cyk7CiAgICAgIH0KICAgIH0KICB9KTsKfTsKCmJyb3dzZXJJbnRlcmZhY2UgPSAocmVmID0gdW5zYWZlV2luZG93LmJyb3dzZXJJbnRlcmZhY2UpICE9IG51bGwgPyByZWYgOiB7fTsKCmJyb3dzZXJJbnRlcmZhY2UuTG9naW5FbmNyeXB0ID0gZnVuY3Rpb24obiwgZykgewogIHZhciBlcnJvciwgZXJyb3IxOwogIHRyeSB7CiAgICByZXR1cm4gcHJlTG9naW5FbmNyeXB0KG4sIGcpOwogIH0gY2F0Y2ggKGVycm9yMSkgewogICAgZXJyb3IgPSBlcnJvcjE7CiAgICByZXR1cm4gR01fbG9nKCIiICsgZXJyb3IpOwogIH0KfTsKCnVuc2FmZVdpbmRvdy5icm93c2VySW50ZXJmYWNlID0gY2xvbmVJbnRvKGJyb3dzZXJJbnRlcmZhY2UsIHVuc2FmZVdpbmRvdywgewogIGNsb25lRnVuY3Rpb25zOiB0cnVlCn0pOwoKdW5zYWZlV2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHsKICB2YXIgY29udCwgZXJyb3IsIGVycm9yMSwgZmFrZVNpemVMaW1pdEdldHRlciwgZmFzdFNpZywgZmFzdFVwbG9hZCwgZmlucHV0LCBnZXRVc2VyS2V5LCBqc190b3BfcGFuZWxfYm94LCBwcm9jTGFiZWwsIHVwbG9hZGluZm87CiAgdHJ5IHsKICAgIGpzX3RvcF9wYW5lbF9ib3ggPSB1bnNhZmVXaW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzX3RvcF9wYW5lbF9ib3gnKTsKICAgIGlmIChqc190b3BfcGFuZWxfYm94ICE9IG51bGwpIHsKICAgICAgY29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBmaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICBmaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2ZpbGUnKTsKICAgICAgcHJvY0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogICAgICBjb250LmFwcGVuZENoaWxkKGZpbnB1dCk7CiAgICAgIGNvbnQuYXBwZW5kQ2hpbGQocHJvY0xhYmVsKTsKICAgICAganNfdG9wX3BhbmVsX2JveC5hcHBlbmRDaGlsZChjb250KTsKICAgICAgY29udC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CiAgICAgIGNvbnQuc3R5bGUudG9wID0gJzIwcHgnOwogICAgICBjb250LnN0eWxlLmxlZnQgPSAnODBweCc7CiAgICAgIGZhc3RTaWcgPSBmdW5jdGlvbih1c2VyaWQsIGZpbGVpZCwgdGFyZ2V0LCB1c2Vya2V5KSB7CiAgICAgICAgdmFyIHNoYTEsIHRtcDsKICAgICAgICBzaGExID0gbmV3IGpzU0hBKCdTSEEtMScsICdURVhUJyk7CiAgICAgICAgc2hhMS51cGRhdGUoIiIgKyB1c2VyaWQgKyBmaWxlaWQgKyB0YXJnZXQgKyAiMCIpOwogICAgICAgIHRtcCA9IHNoYTEuZ2V0SGFzaCgnSEVYJyk7CiAgICAgICAgc2hhMSA9IG5ldyBqc1NIQSgnU0hBLTEnLCAnVEVYVCcpOwogICAgICAgIHNoYTEudXBkYXRlKCIiICsgdXNlcmtleSArIHRtcCArICIwMDAwMDAiKTsKICAgICAgICByZXR1cm4gc2hhMS5nZXRIYXNoKCdIRVgnLCB7CiAgICAgICAgICBvdXRwdXRVcHBlcjogdHJ1ZQogICAgICAgIH0pOwogICAgICB9OwogICAgICB1cGxvYWRpbmZvID0gbnVsbDsKICAgICAgZmFzdFVwbG9hZCA9IGZ1bmN0aW9uKGFyZykgewogICAgICAgIHZhciBmaWxlaWQsIGZpbGVuYW1lLCBmaWxlc2l6ZSwgcHJlaWQsIHRtLCB0bXVzOwogICAgICAgIGZpbGVpZCA9IGFyZy5maWxlaWQsIHByZWlkID0gYXJnLnByZWlkLCBmaWxlbmFtZSA9IGFyZy5maWxlbmFtZSwgZmlsZXNpemUgPSBhcmcuZmlsZXNpemU7CiAgICAgICAgdG11cyA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7CiAgICAgICAgdG0gPSBNYXRoLmZsb29yKHRtdXMgLyAxMDAwKTsKICAgICAgICByZXR1cm4gR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICB1cmw6IHVwbG9hZGluZm8udXJsX3VwbG9hZCArICc/JyArIGRpY3RUb1F1ZXJ5KHsKICAgICAgICAgICAgYXBwaWQ6IDAsCiAgICAgICAgICAgIGFwcGZyb206IDEwLAogICAgICAgICAgICBhcHB2ZXJzaW9uOiAnMi4wLjAuMCcsCiAgICAgICAgICAgIGZvcm1hdDogJ2pzb24nLAogICAgICAgICAgICBpc3A6IDAsCiAgICAgICAgICAgIHNpZzogZmFzdFNpZyh1cGxvYWRpbmZvLnVzZXJfaWQsIGZpbGVpZCwgJ1VfMV8wJywgdXBsb2FkaW5mby51c2Vya2V5KSwKICAgICAgICAgICAgdDogdG0KICAgICAgICAgIH0pLAogICAgICAgICAgZGF0YTogZGljdFRvRm9ybSh7CiAgICAgICAgICAgIGFwaV92ZXJzaW9uOiAnMi4wLjAuMCcsCiAgICAgICAgICAgIGZpbGVpZDogZmlsZWlkLAogICAgICAgICAgICBmaWxlbmFtZTogZmlsZW5hbWUsCiAgICAgICAgICAgIGZpbGVzaXplOiBmaWxlc2l6ZSwKICAgICAgICAgICAgcHJlaWQ6IHByZWlkLAogICAgICAgICAgICB0YXJnZXQ6ICdVXzFfMCcsCiAgICAgICAgICAgIHVzZXJpZDogdXBsb2FkaW5mby51c2VyX2lkCiAgICAgICAgICB9KSwKICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JwogICAgICAgICAgfSwKICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3BvbnNlLnN0YXR1cyA9PT0gMikgewogICAgICAgICAgICAgICAgcmV0dXJuIGFsZXJ0KCdmYXN0dXBsb2FkIE9LLCByZWZyZXNoIHdpbmRvdyBhbmQgZ290byByb290IGZvbGRlciB0byBmaW5kIGl0Jyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBhbGVydCgnZmFzdHVwbG9hZCBGQUlMLCBMT0wnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIEdNX2xvZygicmVzcG9uc2Uuc3RhdHVzID0gIiArIHJlc3BvbnNlLnN0YXR1cyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfTsKICAgICAgZ2V0VXNlcktleSA9IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgcmV0dXJuIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICB1cmw6ICdodHRwOi8vcHJvYXBpLjExNS5jb20vYXBwL3VwbG9hZGluZm8nLAogICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsCiAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgIHVwbG9hZGluZm8gPSByZXNwb25zZS5yZXNwb25zZTsKICAgICAgICAgICAgICByZXR1cm4gZmFzdFVwbG9hZChwYXJhbSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIEdNX2xvZygicmVzcG9uc2Uuc3RhdHVzID0gIiArIHJlc3BvbnNlLnN0YXR1cyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfTsKICAgICAgZmlucHV0Lm9uY2hhbmdlID0gZnVuY3Rpb24oZSkgewogICAgICAgIHZhciBQU0laRSwgYWxsU2hhMSwgZiwgZmluYWxQYXJ0LCBuZXh0UGFydCwgbnBhcnQsIHByZWlkOwogICAgICAgIGlmIChlLnRhcmdldC5maWxlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZiA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICAgIGlmIChmLnNpemUgPCAxMjggKiAxMDI0KSB7CiAgICAgICAgICBhbGVydCgnZmlsZSBzaXplIGxlc3MgdGhhbiAxMjhLJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIFBTSVpFID0gMSAqIDEwMjQgKiAxMDI0OwogICAgICAgIG5wYXJ0ID0gTWF0aC5mbG9vcigoZi5zaXplICsgUFNJWkUgLSAxKSAvIFBTSVpFKTsKICAgICAgICBhbGxTaGExID0gbmV3IGpzU0hBKCdTSEEtMScsICdBUlJBWUJVRkZFUicpOwogICAgICAgIHByZWlkID0gJyc7CiAgICAgICAgZmluYWxQYXJ0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgZmlsZWlkLCBwYXJhbTsKICAgICAgICAgIGZpbGVpZCA9IGFsbFNoYTEuZ2V0SGFzaCgnSEVYJywgewogICAgICAgICAgICBvdXRwdXRVcHBlcjogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgICBwYXJhbSA9IHsKICAgICAgICAgICAgZmlsZWlkOiBmaWxlaWQsCiAgICAgICAgICAgIHByZWlkOiBwcmVpZCwKICAgICAgICAgICAgZmlsZW5hbWU6IGYubmFtZSwKICAgICAgICAgICAgZmlsZXNpemU6IGYuc2l6ZQogICAgICAgICAgfTsKICAgICAgICAgIGlmICh1cGxvYWRpbmZvICE9IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuIGZhc3RVcGxvYWQocGFyYW0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGdldFVzZXJLZXkocGFyYW0pOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgbmV4dFBhcnQgPSBmdW5jdGlvbihuKSB7CiAgICAgICAgICB2YXIgYiwgcmVhZGVyOwogICAgICAgICAgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgIGIgPSBmLnNsaWNlKG4gKiBQU0laRSwgKG4gKyAxKSAqIFBTSVpFID4gZi5zaXplID8gZi5zaXplIDogKG4gKyAxKSAqIFBTSVpFKTsKICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICByZXR1cm4gR01fbG9nKCIiICsgZS50YXJnZXQuZXJyb3IpOwogICAgICAgICAgfTsKICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciBkYXRhLCBzaGExOwogICAgICAgICAgICBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoZS50YXJnZXQucmVzdWx0KTsKICAgICAgICAgICAgaWYgKG4gPT09IDApIHsKICAgICAgICAgICAgICBzaGExID0gbmV3IGpzU0hBKCdTSEEtMScsICdBUlJBWUJVRkZFUicpOwogICAgICAgICAgICAgIHNoYTEudXBkYXRlKGRhdGEuc2xpY2UoMCwgMTI4ICogMTAyNCkpOwogICAgICAgICAgICAgIHByZWlkID0gc2hhMS5nZXRIYXNoKCdIRVgnLCB7CiAgICAgICAgICAgICAgICBvdXRwdXRVcHBlcjogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGFsbFNoYTEudXBkYXRlKGRhdGEpOwogICAgICAgICAgICBwcm9jTGFiZWwudGV4dENvbnRlbnQgPSAiKCIgKyAoTWF0aC5mbG9vcigobiArIDEpICogMTAwIC8gbnBhcnQpKSArICIlKSI7CiAgICAgICAgICAgIGlmIChuID09PSBucGFydCAtIDEpIHsKICAgICAgICAgICAgICByZXR1cm4gZmluYWxQYXJ0KCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIG5leHRQYXJ0KG4gKyAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIHJldHVybiByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYik7CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gbmV4dFBhcnQoMCk7CiAgICAgIH07CiAgICB9CiAgICBpZiAodW5zYWZlV2luZG93LlVQTE9BRF9DT05GSUdfSDUgIT0gbnVsbCkgewogICAgICBmYWtlU2l6ZUxpbWl0R2V0dGVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIDExNSAqIDEwMjQgKiAxMDI0ICogMTAyNDsKICAgICAgfTsKICAgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAhPSBudWxsKSB7CiAgICAgICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1bnNhZmVXaW5kb3cuVVBMT0FEX0NPTkZJR19INSwgJ3NpemVfbGltaXQnLCB7CiAgICAgICAgICBnZXQ6IGZha2VTaXplTGltaXRHZXR0ZXIKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18gIT0gbnVsbCkgewogICAgICAgIHJldHVybiB1bnNhZmVXaW5kb3cuVVBMT0FEX0NPTkZJR19INS5fX2RlZmluZUdldHRlcl9fKCdzaXplX2xpbWl0JywgZmFrZVNpemVMaW1pdEdldHRlcik7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnJvcjEpIHsKICAgIGVycm9yID0gZXJyb3IxOwogICAgcmV0dXJuIEdNX2xvZygiIiArIGVycm9yKTsKICB9Cn0pOwoKfSkoKTsK"},{"name":"115fullspeed","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http*://115.com/?ct=file*","http*://115.com/?aid=-1&search*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512608},"enabled":false,"position":30,"file_url":"https://github.com/gameclamp/115fullspeed/raw/master/115fullspeed.user.js","uuid":"837eb2ff-e5bd-4310-a7cf-a263ae96578a","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIDExNWZ1bGxzcGVlZAovLyBAbmFtZXNwYWNlICAgaHR0cHM6Ly9naXRodWIuY29tL2dhbWVjbGFtcC8xMTVmdWxsc3BlZWQKLy8gQGhvbWVwYWdlVVJMIGh0dHBzOi8vZ2l0aHViLmNvbS9nYW1lY2xhbXAvMTE1ZnVsbHNwZWVkCi8vIEBzdXBwb3J0VVJMICBodHRwczovL2dpdGh1Yi5jb20vZ2FtZWNsYW1wLzExNWZ1bGxzcGVlZC9pc3N1ZXMKLy8gQGRlc2NyaXB0aW9uIOaJuemHj+iOt+WPluS4i+i9veWcsOWdgDvosIPnlKjmnKzlnLDmkq3mlL7lmagocG90cGxheWVyKeaSreaUvuWOn+eUu+inhumikTvmjInmlofku7blpKflsI/pobrluo/lj5HpgIHkuIvovb3ku7vliqHliLBhcmlhMu+8jOabtOWkmuW4ruWKqeafpeeci2h0dHBzOi8vZ2l0aHViLmNvbS9nYW1lY2xhbXAvMTE1ZnVsbHNwZWVkCi8vIEBhdXRob3IgICAgICA55bC+6Zuq54uQKGdhbWVjbGFtcCkKLy8gQGljb24gICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9nYW1lY2xhbXAvMTE1ZnVsbHNwZWVkL3Jhdy9tYXN0ZXIvaWNvbi5pY28KLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vMTE1LmNvbS8/Y3Q9ZmlsZSoKLy8gQGluY2x1ZGUgICAgIGh0dHAqOi8vMTE1LmNvbS8/YWlkPS0xJnNlYXJjaCoKLy8gQGRvd25sb2FkVVJMIGh0dHBzOi8vZ2l0aHViLmNvbS9nYW1lY2xhbXAvMTE1ZnVsbHNwZWVkL3Jhdy9tYXN0ZXIvMTE1ZnVsbHNwZWVkLnVzZXIuanMKLy8gQHVwZGF0ZVVSTCAgIGh0dHBzOi8vZ2l0aHViLmNvbS9nYW1lY2xhbXAvMTE1ZnVsbHNwZWVkL3Jhdy9tYXN0ZXIvMTE1ZnVsbHNwZWVkLm1ldGEuanMKLy8gQHZlcnNpb24gICAgIDAuMy41Ci8vIEBncmFudCAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyA9PS9Vc2VyU2NyaXB0PT0KdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoYWRkYnR1KTsKdmFyIGRlY29kZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpOwpvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNqc19kYXRhX2xpc3QnKSx7J2NoaWxkTGlzdCc6dHJ1ZX0pCmZ1bmN0aW9uIGFkZGJ0dShlKXsKCXZhciBmaWxlbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpW2ZpbGVfbW9kZT0iOSJdLGxpW2ZpbGVfbW9kZT0iNCJdJyk7Cgl2YXIgZWxtSW5wdXQ7Cglmb3IgKHZhciBpID0gZmlsZWxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsKCQllbG1JbnB1dCA9IGZpbGVsaXN0W2ldOwoJCShlbG1JbnB1dC5xdWVyeVNlbGVjdG9yKCdkaXYuZmlsZS1vcHInKXx8ZWxtSW5wdXQucXVlcnlTZWxlY3Rvcignc3Bhbi5maWxlLW5hbWUnKSkuYXBwZW5kQ2hpbGQoY3JlYXRvcignYScsJzxzcGFuPuaJk+W8gDwvc3Bhbj4nLCcnLCcnLGdldE9uZSkpOwoJfQp9CmZ1bmN0aW9uIGdldE9uZShlKXsKCXZhciBlbG1JbnB1dCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50OwoJaWYoZWxtSW5wdXQucXVlcnlTZWxlY3RvcignLmZzbGluaycpKXsKCQlvbmVBU1goeyd1cmwnOmVsbUlucHV0LnF1ZXJ5U2VsZWN0b3IoJy5mc2xpbmsnKS5ocmVmLCdlbG0nOmVsbUlucHV0fSk7Cgl9ZWxzZXsKICAgICAgICB2YXIgZGwgPSBuZXcgRE9XTkwoKTsKCQlkbC5HTV9nZXQoeydtZXRob2QnOidkb3dubG9hZCcsJ3BpY2tjb2RlJzplbG1JbnB1dC5nZXRBdHRyaWJ1dGUoJ3BpY2tfY29kZScpLCdlbG0nOmVsbUlucHV0LCdjYWxsYmFjayc6b25lQVNYfSkKCX0KfQpmdW5jdGlvbiBvbmVBU1gob2JqKXsKCXZhciBocmVmcyA9ICc8QVNYIFZlcnNpb249IjMuMCI+JzsKICAgICAgICBocmVmcyArPSAnPEVudHJ5PjxUaXRsZT4nICsgb2JqLmVsbS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgKyAnPC9UaXRsZT48UmVmIGhyZWYgPSInICsgb2JqLnVybCArICciIC8+PC9FbnRyeT4nOwogICAgaHJlZnMgKz0gJzwvQVNYPicKICAgIHZhciBhRmlsZVBhcnRzID0gW2hyZWZzXTsKICAgIHZhciBvTXlCbG9iID0gbmV3IEJsb2IoYUZpbGVQYXJ0cyx7J3R5cGUnOid2aWRlby94LW1zLWFzZi1wbHVnaW4nfSk7CiAgICB2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChvTXlCbG9iKTsKICAgIGxvY2F0aW9uLmhyZWYgPSB1cmw7CiAgICAvLyB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgIC8vIHZhciBhc3hOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pzX3RvcF9iYXJfYm94IC5maWxlLXBhdGggYTpsYXN0LWNoaWxkJyk7CiAgICAvLyBhLmRvd25sb2FkID0gKGFzeE5hbWUudGl0bGUgfHxhc3hOYW1lLmlubmVySFRNTCkgKyAnLmFzeCc7CiAgICAvLyBhLmhyZWYgPSB1cmw7CiAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogICAgLy8gYS5jbGljaygpOwp9IAovLyBmdW5jdGlvbiBnZXRDb29raWUoY19uYW1lKXsKICAgIC8vIGlmIChkb2N1bWVudC5jb29raWUubGVuZ3RoPjApewogICAgICAgIC8vIGNfc3RhcnQ9ZG9jdW1lbnQuY29va2llLmluZGV4T2YoY19uYW1lICsgIj0iKQogICAgICAgIC8vIGlmIChjX3N0YXJ0IT0tMSl7CiAgICAgICAgICAgIC8vIGNfc3RhcnQ9Y19zdGFydCArIGNfbmFtZS5sZW5ndGgrMQogICAgICAgICAgICAvLyBjX2VuZD1kb2N1bWVudC5jb29raWUuaW5kZXhPZigiOyIsY19zdGFydCkKICAgICAgICAgICAgLy8gaWYgKGNfZW5kPT0tMSkgY19lbmQ9ZG9jdW1lbnQuY29va2llLmxlbmd0aAogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkb2N1bWVudC5jb29raWUuc3Vic3RyaW5nKGNfc3RhcnQsY19lbmQpKQogICAgICAgICAgICAvLyByZXR1cm4gZG9jdW1lbnQuY29va2llLnN1YnN0cmluZyhjX3N0YXJ0LGNfZW5kKQogICAgICAgIC8vIH0KICAgIC8vIH0KICAgIC8vIHJldHVybiAiIgovLyB9CmZ1bmN0aW9uIHB1dExpbmsob2JqKXsKCXZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwoJYS5ocmVmID0gb2JqLnVybDsKCWEuaW5uZXJIVE1MID0gIjxzcGFuPuaegemAn+i/nuaOpTwvc3Bhbj4iCglhLmNsYXNzTmFtZSA9ICJmc2xpbmsiOwoJaWYob2JqLmVsbS5xdWVyeVNlbGVjdG9yKCcuZnNsaW5rJykpey8v5aaC5p6c5bey57uP5pyJ5p6B6YCf6L+e5o6l5bCx5pu/5o2i5o6JCgkJb2JqLmVsbS5xdWVyeVNlbGVjdG9yKCcuZnNsaW5rJykucmVtb3ZlKCk7Cgl9CglpZihvYmouZWxtLnF1ZXJ5U2VsZWN0b3IoJy5maWxlLW9wcicpKXsKCQlvYmouZWxtLnF1ZXJ5U2VsZWN0b3IoJy5maWxlLW9wcicpLmFwcGVuZENoaWxkKGEpOwoJfWVsc2V7CgkJb2JqLmVsbS5xdWVyeVNlbGVjdG9yKCcuZmlsZS1uYW1lJykuYXBwZW5kQ2hpbGQoYSk7Cgl9CglpZihvYmouY2FsbGJhY2spe29iai5jYWxsYmFjayhvYmopfQp9CmZ1bmN0aW9uIHB1c2h0b0FSSUEyKHVyaSxvdXQpewogICAgdmFyIG9wdGlvbnMgPSB7fQogICAgb3B0aW9ucy5oZWFkZXIgPSBbIlVzZXItQWdlbnQ6TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ1LjAuMjQ1NC44NSBTYWZhcmkvNTM3LjM2IDExNUJyb3dzZXIvNi4wLjQiLCJSZWZlcmVyOiBodHRwOi8vMTE1LmNvbSIsIkFjY2VwdDogKi8qIl07CiAgICBkZWNvZGVyLmlubmVySFRNTCA9IG91dDsKICAgIG9wdGlvbnMub3V0ID0gZGVjb2Rlci52YWx1ZTsKICAgIG9wdGlvbnNbJ21heC1jb25uZWN0aW9uLXBlci1zZXJ2ZXInXSA9IDI7CiAgICBvcHRpb25zWydjb250aW51ZSddID0gdHJ1ZTsKICAgIHZhciBhcmlhMiA9IG5ldyBBUklBMignaHR0cDovL2xvY2FsaG9zdDo2ODAwL2pzb25ycGMnKTsKICAgIC8vIGNvbnNvbGUubG9nKG9wdGlvbnMpOwogICAgYXJpYTIuYWRkVXJpKHVyaSxvcHRpb25zKTsKfQpmdW5jdGlvbiBieShuYW1lLG9yZGVyKXsKICAgIHJldHVybiBmdW5jdGlvbihvLHApewogICAgICAgIHZhciBhID0gb1tuYW1lXTsKICAgICAgICB2YXIgYiA9IHBbbmFtZV07CiAgICAgICAgaWYoYT09PWIpe3JldHVybiAwfQogICAgICAgIHJldHVybiBhPGI/b3JkZXIqLTE6b3JkZXIqMTsKICAgIH0KfQpmdW5jdGlvbiBET1dOTCgpewogICAgdGhpcy5kb3dubG9hZGxpc3QgPSBbXTsKICAgIHRoaXMuZG93bmxvYWRsaXN0MiA9IFtdOwogICAgdGhpcy5yZW1haW5mb2xkZXIgPSAwOwogICAgdGhpcy5yZW1haW5maWxlID0gMDsKICAgIHRoaXMuZG93bmxvYWQyID0gZnVuY3Rpb24ob2JqKXsKICAgICAgICBjb25zb2xlLmxvZygnZG93bmxvYWQyZm4nKQogICAgICAgIGNvbnNvbGUubG9nKG9iaik7CiAgICAgICAgaWYob2JqKXsKICAgICAgICAgICAgdmFyIGZpbGVsaXN0ID0gb2JqLmZpbGVsaXN0LmRhdGE7CiAgICAgICAgICAgIHZhciBjb3VudCA9IG9iai5jb3VudDsKICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBmaWxlbGlzdCkgewogICAgICAgICAgICAgICAgaWYoIWZpbGVsaXN0W2ldLmQpewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmb2xkZXIhISEnKTsKICAgICAgICAgICAgICAgICAgICBvYmouY2lkID0gZmlsZWxpc3RbaV0uY2lkOwogICAgICAgICAgICAgICAgICAgIHZhciBGID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXRoID0gb2JqLnBhdGggKyBmaWxlbGlzdFtpXS5ucysnLyc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIEYucHJvdG90eXBlID0gb2JqOwogICAgICAgICAgICAgICAgICAgIHRoaXMuR01fZ2V0KG5ldyBGKCkpOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZGxpc3QucHVzaCh7J3BpY2tjb2RlJzpmaWxlbGlzdFtpXS5wYywnc2l6ZSc6ZmlsZWxpc3RbaV0ucywnZmlsZW5hbWUnOm9iai5wYXRoICsgZmlsZWxpc3RbaV0ubn0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnNvbGUubG9nKG9iai5wYXRoKTsKICAgICAgICB9CiAgICAgICAgaWYodGhpcy5yZW1haW5mb2xkZXI9PTApewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmRvd25sb2FkbGlzdCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZG93bmxvYWRsaXN0Lmxlbmd0aCk7CiAgICAgICAgICAgIHRoaXMucmVtYWluZmlsZSA9IHRoaXMuZG93bmxvYWRsaXN0Lmxlbmd0aDsKICAgICAgICAgICAgd2hpbGUoaXRlbSA9IHRoaXMuZG93bmxvYWRsaXN0LnNoaWZ0KCkpewogICAgICAgICAgICAgICAgaXRlbS5tZXRob2QgPSAnZmlsZXMnOwogICAgICAgICAgICAgICAgdGhpcy5HTV9nZXQoaXRlbSk7CiAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHRoaXMucmVhZHl0b2Rvd24gPSBmdW5jdGlvbigpewogICAgICAgIHZhciBzYXJyID0gW107CiAgICAgICAgdmFyIGJhcnIgPSBbXTsKICAgICAgICB3aGlsZShpdGVtID0gdGhpcy5kb3dubG9hZGxpc3QyLnBvcCgpKXsKICAgICAgICAgICAgaWYoaXRlbS5zaXplPDIwNDgwMDAwKXsKICAgICAgICAgICAgICAgIHNhcnIucHVzaChpdGVtKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBiYXJyLnB1c2goaXRlbSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc2Fyci5zb3J0KGJ5KCdzaXplJywxKSk7CiAgICAgICAgd2hpbGUoaXRlbSA9IHNhcnIuc2hpZnQoKSl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pOwogICAgICAgICAgICBwdXNodG9BUklBMihpdGVtLnVyaSxpdGVtLmZpbGVuYW1lKTsKICAgICAgICB9CiAgICAgICAgYmFyci5zb3J0KGJ5KCdmaWxlbmFtZScsMSkpOwogICAgICAgIHdoaWxlKGl0ZW0gPSBiYXJyLnNoaWZ0KCkpewogICAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtKTsKICAgICAgICAgICAgcHVzaHRvQVJJQTIoaXRlbS51cmksaXRlbS5maWxlbmFtZSk7CiAgICAgICAgfQogICAgfQogICAgdGhpcy5HTV9nZXQgPSBmdW5jdGlvbihvYmopewogICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICBzd2l0Y2gob2JqLm1ldGhvZCl7CiAgICAgICAgICAgIGNhc2UgJ2Rvd25sb2FkJzoKICAgICAgICAgICAgICAgIHVybCA9ICdodHRwczovL3dlYmFwaS4xMTUuY29tL2ZpbGVzL2Rvd25sb2FkP3BpY2tjb2RlPScgKyBvYmoucGlja2NvZGUgKyAnJl89JyArIERhdGUubm93KCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnZmlsZXMnOgogICAgICAgICAgICAgICAgdXJsID0gJ2h0dHBzOi8vd2ViYXBpLjExNS5jb20vZmlsZXMvZG93bmxvYWQ/cGlja2NvZGU9JyArIG9iai5waWNrY29kZSArICcmXz0nICsgRGF0ZS5ub3coKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdmb2xkZXInOgogICAgICAgICAgICAgICAgc2VsZi5yZW1haW5mb2xkZXIrKzsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflop7liqDkuIDkuKrnjrDlnKjmmK/vvJonK3NlbGYucmVtYWluZm9sZGVyKQogICAgICAgICAgICAgICAgdXJsID0gJ2h0dHA6Ly9hcHMuMTE1LmNvbS9uYXRzb3J0L2ZpbGVzLnBocD9haWQ9MSZjaWQ9JyArIG9iai5jaWQgKyAnJm89ZmlsZV9uYW1lJmFzYz0xJm9mZnNldD0wJnNob3dfZGlyPTEmbGltaXQ9OTk5JmNvZGU9JnNjaWQ9JnNuYXA9MCZuYXRzb3J0PTEmc291cmNlPSZmb3JtYXQ9anNvbiZ0eXBlPSZzdGFyPSZpc19zaGFyZT0nOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKHVybCkKICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgIHN5bmNocm9ub3VzOmZhbHNlLAogICAgICAgICAgICBtZXRob2Q6J0dFVCcsCiAgICAgICAgICAgIC8vIHVybDonaHR0cDovL3Byby5hcGkuMTE1LmNvbS9hcHAvY2hyb21lL2Rvd24/bWV0aG9kPWdldF9maWxlX3VybCZwaWNrY29kZT0nICsgcGlja2NvZGUsCiAgICAgICAgICAgIHVybDp1cmwsCiAgICAgICAgICAgIGhlYWRlcnM6ewogICAgICAgICAgICAnQWNjZXB0JzonKi8qJywKICAgICAgICAgICAgJ0FjY2VwdC1FbmNvZGluZyc6J2d6aXAsIGRlZmxhdGUsIHNkY2gnLAogICAgICAgICAgICAnQWNjZXB0LUxhbmd1YWdlJzonemgtQ04semg7cT0wLjgnLAogICAgICAgICAgICAnVXNlci1hZ2VudCc6J01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80NS4wLjI0NTQuODUgU2FmYXJpLzUzNy4zNiAxMTVCcm93c2VyLzYuMC40JywKICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOidYTUxIdHRwUmVxdWVzdCcsCiAgICAgICAgICAgICdSZWZlcmVyJzonaHR0cDovL3dlYi5hcGkuMTE1LmNvbS9icmlkZ2VfMi4wLmh0bWw/bmFtZXNwYWNlPUNvcmUuRGF0YUFjY2VzcyZhcGk9VURhdGFBUEkmX3Q9djUnLAogICAgICAgICAgICAnQ29va2llJzpkb2N1bWVudC5jb29raWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25sb2FkOmZ1bmN0aW9uKHJlcyl7CiAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IEpTT04ucGFyc2UocmVzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0Jyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlKTsKICAgICAgICAgICAgICAgIHN3aXRjaChvYmoubWV0aG9kKXsKICAgICAgICAgICAgICAgICAgICBjYXNlICdkb3dubG9hZCc6CiAgICAgICAgICAgICAgICAgICAgICAgIHB1dExpbmsoeyd1cmwnOmZpbGUuZmlsZV91cmwsJ2VsbSc6b2JqLmVsbSwnY2FsbGJhY2snOm9iai5jYWxsYmFja30pOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdmaWxlcyc6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVtYWluZmlsZS0tOwogICAgICAgICAgICAgICAgICAgICAgICBvYmoudXJpID0gZmlsZS5maWxlX3VybDsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kb3dubG9hZGxpc3QyLnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WJqeS4iycgKyBzZWxmLnJlbWFpbmZpbGUgKyAn5Liq5paH5Lu2JykKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5yZW1haW5maWxlID09IDApe3NlbGYucmVhZHl0b2Rvd24oKX07CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZvbGRlcic6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVtYWluZm9sZGVyLS07CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflh4/mjonkuIDkuKrnjrDlnKjmmK/vvJonK3NlbGYucmVtYWluZm9sZGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmZpbGVsaXN0ID0gZmlsZTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kb3dubG9hZDIob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICB9CiAgICB0aGlzLmRvd25sb2FkID0gZnVuY3Rpb24oKXsKICAgICAgICB2YXIgZWxtSW5wdXQ7CiAgICAgICAgdmFyIGZpbGVsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxpc3QtY29udGVudHMgbGkuc2VsZWN0ZWQnKTsKICAgICAgICBmb3IgKHZhciBpID0gZmlsZWxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsKICAgICAgICAgICAgZWxtSW5wdXQgPSBmaWxlbGlzdFtpXTsKICAgICAgICAgICAgY29uc29sZS5sb2coZWxtSW5wdXQpCiAgICAgICAgICAgIGlmKGVsbUlucHV0LmdldEF0dHJpYnV0ZSgnZmlsZV90eXBlJyk9PTApewogICAgICAgICAgICAgICAgdmFyIG9iaiA9IG5ldyBPYmplY3QoKTsKICAgICAgICAgICAgICAgIG9iai5tZXRob2QgPSAnZm9sZGVyJzsKICAgICAgICAgICAgICAgIG9iai5jaWQgPSBlbG1JbnB1dC5nZXRBdHRyaWJ1dGUoJ2NhdGVfaWQnKTsKICAgICAgICAgICAgICAgIG9iai5wYXRoID0gZWxtSW5wdXQuZ2V0QXR0cmlidXRlKCd0aXRsZScpKycvJzsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG9iai5wYXRoKTsKICAgICAgICAgICAgICAgIHRoaXMuR01fZ2V0KG9iaik7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZGxpc3QucHVzaCh7J3BpY2tjb2RlJzplbG1JbnB1dC5nZXRBdHRyaWJ1dGUoJ3BpY2tfY29kZScpLCdzaXplJzplbG1JbnB1dC5nZXRBdHRyaWJ1dGUoJ2ZpbGVfc2l6ZScpLCdmaWxlbmFtZSc6ZWxtSW5wdXQuZ2V0QXR0cmlidXRlKCd0aXRsZScpfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhpcy5kb3dubG9hZDIoKTsKICAgIH0KICAgIHRoaXMuZnVsbHNwZWVkID0gZnVuY3Rpb24oKXsKICAgICAgICB2YXIgZmlsZWxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGlzdC1jb250ZW50cyBsaS5zZWxlY3RlZFtmaWxlX3R5cGU9IjEiXScpOwogICAgICAgIGlmKGZpbGVsaXN0Lmxlbmd0aCA9PSAwKXsKICAgICAgICAgICAgZmlsZWxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGlzdC1jb250ZW50cyBsaVtmaWxlX3R5cGU9IjEiXScpOwogICAgICAgIH0KICAgICAgICB2YXIgZWxtSW5wdXQ7CiAgICAgICAgZm9yICh2YXIgaSA9IGZpbGVsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7CiAgICAgICAgICAgIGVsbUlucHV0ID0gZmlsZWxpc3RbaV07CiAgICAgICAgICAgIHRoaXMuR01fZ2V0KHsnbWV0aG9kJzonZG93bmxvYWQnLCdwaWNrY29kZSc6ZWxtSW5wdXQuZ2V0QXR0cmlidXRlKCdwaWNrX2NvZGUnKSwnZWxtJzplbG1JbnB1dH0pOwogICAgICAgIH0KICAgIH0KfQoKCnZhciBBUklBMiA9IChmdW5jdGlvbigpIHsKICB2YXIganNvbnJwY192ZXJzaW9uID0gJzIuMCc7CgogIGZ1bmN0aW9uIGdldF9hdXRoKHVybCkgewogICAgcmV0dXJuIHVybC5tYXRjaCgvXig/Oig/IVteOkBdKzpbXjpAXC9dKkApW146XC8/Iy5dKzopPyg/OlwvXC8pPyg/OihbXjpAXSooPzo6W146QF0qKT8pP0ApPy8pWzFdOwogIH07CgogIGZ1bmN0aW9uIHJlcXVlc3QoanNvbnJwY19wYXRoLCBtZXRob2QsIHBhcmFtcykgewogICAgdmFyIHJlcXVlc3Rfb2JqID0gewogICAgICAgIGpzb25ycGM6IGpzb25ycGNfdmVyc2lvbiwKICAgICAgICBtZXRob2Q6IG1ldGhvZCwKICAgICAgICBpZDogKG5ldyBEYXRlKCkpLmdldFRpbWUoKS50b1N0cmluZygpLAogICAgfTsKICAgIGlmIChwYXJhbXMpIHJlcXVlc3Rfb2JqWydwYXJhbXMnXSA9IHBhcmFtczsKCiAgICB2YXIgYXV0aCA9IGdldF9hdXRoKGpzb25ycGNfcGF0aCk7CgogICAgLy8g55SoIEdNX3htbGh0dHBSZXF1ZXN0IOmYsuatoiBOb1NjcmlwdCDmi6bmiKrvvIznlKggc2V0VGltZW91dCDpmLLmraLlpJbpg6jml6Dms5XosIPnlKgKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICB1cmw6IGpzb25ycGNfcGF0aCArICc/dG09JyArIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkudG9TdHJpbmcoKSwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3Rfb2JqKQogICAgICAgIH0pOwogICAgfSwgMCk7CiAgfTsKCiAgcmV0dXJuIGZ1bmN0aW9uKGpzb25ycGNfcGF0aCkgewogICAgdGhpcy5qc29ucnBjX3BhdGggPSBqc29ucnBjX3BhdGg7CiAgICB0aGlzLmFkZFVyaSA9IGZ1bmN0aW9uICh1cmksIG9wdGlvbnMpIHsKICAgICAgcmVxdWVzdCh0aGlzLmpzb25ycGNfcGF0aCwgJ2FyaWEyLmFkZFVyaScsIFtbdXJpLCBdLCBvcHRpb25zXSk7CiAgICB9OwogICAgcmV0dXJuIHRoaXM7CiAgfQp9KSgpOwoKdmFyIGNsckxpbmsgPSBmdW5jdGlvbigpewoJdmFyIGxpbmtsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxpc3QtY29udGVudHMgLmZzbGluaycpOwogICAgZm9yICh2YXIgaSA9IGxpbmtsaXN0Lmxlbmd0aCxqPTA7IGogPCBpOyBqKyspIHsKICAgICAgICBsaW5rbGlzdFtqXS5yZW1vdmUoKTsKICAgIH0KfQp2YXIgZ2V0QWxsID0gZnVuY3Rpb24oKXsKICAgIHZhciBsaW5rbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5saXN0LWNvbnRlbnRzIC5mc2xpbmsnKTsKICAgIHZhciBocmVmcyA9ICIiOwogICAgZm9yICh2YXIgaSA9IGxpbmtsaXN0Lmxlbmd0aCxqPTA7IGogPCBpOyBqKyspIHsKICAgICAgICBocmVmcyArPSAnPGEgaHJlZj0iJytsaW5rbGlzdFtqXS5ocmVmKyciPicrbGlua2xpc3Rbal0ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndGl0bGUnKSsnPC9hPjxicj4nOwogICAgfQogICAgdmFyIGFGaWxlUGFydHMgPSBbaHJlZnNdOwogICAgdmFyIG9NeUJsb2IgPSBuZXcgQmxvYihhRmlsZVBhcnRzLHsndHlwZSc6J3RleHQvaHRtbDtjaGFyc2V0PVVURi04J30pOwogICAgdmFyIHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwob015QmxvYik7CiAgICB3aW5kb3cub3Blbih1cmwpOwp9CnZhciBnZXRBU1ggPSBmdW5jdGlvbigpewogICAgdmFyIGxpbmtsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxpc3QtY29udGVudHMgLmZzbGluaycpOwogICAgdmFyIGhyZWZzID0gJzxBU1ggVmVyc2lvbj0iMy4wIj4nOwogICAgZm9yICh2YXIgaSA9IGxpbmtsaXN0Lmxlbmd0aCxqPTA7IGogPCBpOyBqKyspIHsKICAgICAgICBocmVmcyArPSAnPEVudHJ5PjxUaXRsZT4nICsgbGlua2xpc3Rbal0ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndGl0bGUnKSArICc8L1RpdGxlPjxSZWYgaHJlZiA9IicgKyBsaW5rbGlzdFtqXS5ocmVmICsgJyIgLz48L0VudHJ5Pic7CiAgICB9CiAgICBocmVmcyArPSAnPC9BU1g+JwogICAgdmFyIGFGaWxlUGFydHMgPSBbaHJlZnNdOwogICAgdmFyIG9NeUJsb2IgPSBuZXcgQmxvYihhRmlsZVBhcnRzLHsndHlwZSc6J3ZpZGVvL3gtbXMtYXNmLXBsdWdpbid9KTsKICAgIHZhciB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG9NeUJsb2IpOwogICAgbG9jYXRpb24uaHJlZiA9IHVybDsKICAgIC8vIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgLy8gdmFyIGFzeE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjanNfdG9wX2Jhcl9ib3ggLmZpbGUtcGF0aCBhOmxhc3QtY2hpbGQnKTsKICAgIC8vIGEuZG93bmxvYWQgPSAoYXN4TmFtZS50aXRsZSB8fGFzeE5hbWUuaW5uZXJIVE1MKSArICcuYXN4JzsKICAgIC8vIGEuaHJlZiA9IHVybDsKICAgIC8vIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAvLyBhLmNsaWNrKCk7Cn0KdmFyIGNyZWF0b3IgPSBmdW5jdGlvbih0YWduYW1lLGlubmVyLGlkLHN0eWxlLGZuKXsKICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWduYW1lKTsKICAgIGlmKGZuKXthLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmbixmYWxzZSl9OwogICAgYS5pbm5lckhUTUwgPSBpbm5lcjsKICAgIGEuaHJlZiA9ICJqYXZhc2NyaXB0OjsiCiAgICBhLmlkID0gaWQ7CiAgICBhLnN0eWxlLmNzc1RleHQgPSBzdHlsZTsKICAgIHJldHVybiBhOwp9CmZ1bmN0aW9uIGZ1bGxzcGVlZCgpewogICAgdmFyIG9iaiA9IG5ldyBET1dOTCgpOwogICAgb2JqLmZ1bGxzcGVlZCgpOwp9CmZ1bmN0aW9uIGRvd25sb2FkKCl7CiAgICB2YXIgb2JqID0gbmV3IERPV05MKCk7CiAgICBvYmouZG93bmxvYWQoKTsKfQp2YXIgZGl2ID0gY3JlYXRvcignZGl2JywnJywnJywncG9zaXRpb246IGZpeGVkO3JpZ2h0OiAyMTBweDt0b3A6IDVweDt6LWluZGV4OiAxMDAwMDsnKQpkaXYuYXBwZW5kQ2hpbGQoY3JlYXRvcignYScsJ+S4i+i9vScsJycsJ21hcmdpbi1yaWdodDo1cHg7Jyxkb3dubG9hZCkpOwpkaXYuYXBwZW5kQ2hpbGQoY3JlYXRvcignYScsJ2NscicsJycsJ21hcmdpbi1yaWdodDo1cHg7JyxjbHJMaW5rKSk7CmRpdi5hcHBlbmRDaGlsZChjcmVhdG9yKCdhJywn6I635Y+W6L+e5o6lJywnJywnbWFyZ2luLXJpZ2h0OjVweDtmb250LXNpemU6MjBweDsnLGZ1bGxzcGVlZCkpOwpkaXYuYXBwZW5kQ2hpbGQoY3JlYXRvcignYScsJ+i+k+WHuuWFqOmDqCcsJycsJ21hcmdpbi1yaWdodDo1cHg7JyxnZXRBbGwpKTsKZGl2LmFwcGVuZENoaWxkKGNyZWF0b3IoJ2EnLCflr7zlh7pBU1gnLCcnLCdtYXJnaW4tcmlnaHQ6NXB4OycsZ2V0QVNYKSk7CmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTsK"},{"name":"720P.im 豆瓣电影下载搜索工具","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://movie.douban.com/subject/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512611},"enabled":false,"position":31,"file_url":"https://greasyfork.org/scripts/6059-720p-im-%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E4%B8%8B%E8%BD%BD%E6%90%9C%E7%B4%A2%E5%B7%A5%E5%85%B7/code/720Pim%20%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E4%B8%8B%E8%BD%BD%E6%90%9C%E7%B4%A2%E5%B7%A5%E5%85%B7.user.js","uuid":"3bdf24f7-944e-4f73-9618-d75021ab0718","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIDcyMFAuaW0g6LGG55Oj55S15b2x5LiL6L295pCc57Si5bel5YW3Ci8vIEBuYW1lc3BhY2UgICAgICBodHRwOi8vNzIwcC5pbQovLyBAZGVzY3JpcHRpb24gICAg5aKe5Yqg6LGG55Oj55S15b2x55qE5LiL6L295pCc57Si6ZO+5o6lCi8vIEBhdXRob3IgICAgICAgICA3MjBwLmltCi8vIEB2ZXJzaW9uICAgICAgICAxLjAKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9tb3ZpZS5kb3ViYW4uY29tL3N1YmplY3QvKgovLyBAZ3J1bnQgICAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCmZ1bmN0aW9uIHJ1biAoKSB7CiAgICB2YXIgdGl0bGUgPSAkKCdodG1sIGhlYWQgdGl0bGUnKS50ZXh0KCk7CiAgICB0aXRsZSA9IHRpdGxlLnJlcGxhY2UoICco6LGG55OjKScsICcnICkudHJpbSgpOwogICAgdGl0bGUgPSBlbmNvZGVVUklDb21wb25lbnQodGl0bGUpOwoKICAgIHZhciBNb3ZpZV9saW5rcyA9IFsKICAgICAgICB7aHRtbDogIjcyMFAuaW0iLCBocmVmOiAiaHR0cDovLzcyMHAuaW0vc2VhcmNoLnBocD9xPSIgKyB0aXRsZX0sCiAgICAgICAge2h0bWw6ICLkurrkurrlvbHop4YiLCBocmVmOiAiaHR0cDovL3d3dy55YXlheHouY29tL3NlYXJjaC8iICsgdGl0bGV9CiAgICBdOwoKICAgIHZhciBsaW5rID0gJCgiPGRpdj4iKS5hdHRyKCJjbGFzcyIsICJncmF5X2FkIik7CiAgICBsaW5rLmFwcGVuZCgnPGgyPuS4i+i9vemTvuaOpTrCtyDCtyDCtyDCtyDCtyDCtzwvaDI+Jyk7CiAgICAKICAgIGFwcGVuZExpbmtzKE1vdmllX2xpbmtzLCBsaW5rKTsKCiAgICAkKCcuYXNpZGUnKS5wcmVwZW5kKGxpbmspOwogICAgCiAgICBmdW5jdGlvbiBhcHBlbmRMaW5rcyhpdGVtcywgYXBwZW5kVG8pIHsKICAgICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGkpIHsKICAgICAgICAgICAgJCgiPGE+IikKICAgICAgICAgICAgLmh0bWwoaXRlbS5odG1sKQogICAgICAgICAgICAuYXR0cih7CiAgICAgICAgICAgICAgICBocmVmOiBpdGVtLmhyZWYsCgkJdGFyZ2V0OiAiX2JsYW5rIgoJICAgIH0pCgkgICAgLmFwcGVuZFRvKGFwcGVuZFRvKTsKCgkgICAgaWYgKGkgIT0gaXRlbXMubGVuZ3RoIC0gMSkgewoJICAgICAgICBhcHBlbmRUby5hcHBlbmQoIjxiciAvPiIpOwoJICAgIH0KCX0pOwogICAgfQp9CgpydW4oKQ=="},{"name":"Douban Download Search","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://movie.douban.com/subject/*","http://book.douban.com/subject/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512614},"enabled":false,"position":32,"file_url":"https://greasyfork.org/scripts/300-douban-download-search/code/Douban%20Download%20Search.user.js","uuid":"de49917e-7465-446c-aee7-8d11fe2b103d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIERvdWJhbiBEb3dubG9hZCBTZWFyY2gKLy8gQG5hbWVzcGFjZSAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS95d3poYWlxaQovLyBAZGVzY3JpcHRpb24gICAg5aKe5Yqg6LGG55Oj55S15b2x44CB5Zu+5Lmm55qE5LiL6L295pCc57Si6ZO+5o6lCi8vIEBhdXRob3IgICAgICAgICB5d3poYWlxaQovLyBAdmVyc2lvbiAgICAgICAgMS4xCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vbW92aWUuZG91YmFuLmNvbS9zdWJqZWN0LyoKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly9ib29rLmRvdWJhbi5jb20vc3ViamVjdC8qCi8vIEBncnVudCAgICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKZnVuY3Rpb24gcnVuICgpIHsKCXZhciBtb3ZpZVRpdGxlID0gJCgnaDEgc3BhbjplcSgwKScpLnRleHQoKTsKCXZhciB0aXRsZSA9ICQoJ2h0bWwgaGVhZCB0aXRsZScpLnRleHQoKTsKCXZhciBrZXl3b3JkMSA9IHRpdGxlLnJlcGxhY2UoICco6LGG55OjKScsICcnICkudHJpbSgpOwoJdmFyIGtleXdvcmQyID0gZW5jb2RlVVJJQ29tcG9uZW50KCBrZXl3b3JkMSApOwoJdmFyIG1vdmllU2ltcGxlVGl0bGUgPSBtb3ZpZVRpdGxlLnJlcGxhY2UoL+esrFxTK+Wtoy4qLywgIiIpOwoKCXZhciBNb3ZpZV9saW5rcyA9IFsKCQkvLyB7IGh0bWw6ICLnmb7luqbnm5giLCBocmVmOiAiaHR0cDovL3d3dy5iYWlkdS5jb20vcz93ZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGtleXdvcmQxICsgIiBzaXRlOnBhbi5iYWlkdS5jb20iKX0sCgkJeyBodG1sOiAi55m+5bqm55uYIiwgaHJlZjogImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP3E9IiArIGtleXdvcmQxICsgIiBzaXRlOnBhbi5iYWlkdS5jb20ifSwKCQl7IGh0bWw6ICLkurrkurrlvbHop4YiLCBocmVmOiAiaHR0cDovL3d3dy55YXlheHouY29tL3NlYXJjaC8iICsgbW92aWVTaW1wbGVUaXRsZSB9LAoJCXsgaHRtbDogIlZlcnlDRCIsIGhyZWY6ICJodHRwOi8vd3d3LnZlcnljZC5jb20vc2VhcmNoL2ZvbGRlcnMvIiArIGtleXdvcmQyIH0sCgkJeyBodG1sOiAiU2ltcGxlQ0QiLCBocmVmOiAiaHR0cDovL3NpbXBsZWNkLm1lL3NlYXJjaC9lbnRyeS8/cXVlcnk9IiArIGtleXdvcmQxIH0sCgkJeyBodG1sOiAiRG9ua2V5NHUiLCBocmVmOiAiaHR0cDovL2RvbmtleTR1LmNvbS9zZWFyY2gvIiArIG1vdmllVGl0bGUgfSwKCQl7IGh0bWw6ICJUb3JyZW50IFByb2plY3QiLCBocmVmOiAiaHR0cDovL3RvcnJlbnRwcm9qZWN0LmNvbS8/JmJ0bkc9VG9ycmVudCtTZWFyY2gmbnVtPTIwJnN0YXJ0PTAmcz0iICsga2V5d29yZDIgfSwKCQl7IGh0bWw6ICJHb29nbGUgTWluaVNEIiwgaHJlZjogImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP2llPVVURi04JnE9IiArIG1vdmllVGl0bGUgKyAiK01pbmlTRCIgfQoJXTsKCgl2YXIgQm9va19saW5rcyA9IFsKCQl7IGh0bWw6ICLnmb7luqbnm5giLCBocmVmOiAiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT0iICsga2V5d29yZDEgKyAiIHNpdGU6cGFuLmJhaWR1LmNvbSJ9LAoJCXsgaHRtbDogIm1Mb29rIiwgaHJlZjogImh0dHA6Ly93d3cubWxvb2subW9iaS9zZWFyY2g/cT0iICsga2V5d29yZDIgfSwKCQl7IGh0bWw6ICJWZXJ5Q0QiLCBocmVmOiAiaHR0cDovL3d3dy52ZXJ5Y2QuY29tL3NlYXJjaC9mb2xkZXJzLyIgKyBrZXl3b3JkMiB9LAoJCXsgaHRtbDogIlNpbXBsZUNEIiwgaHJlZjogImh0dHA6Ly9zaW1wbGVjZC5tZS9zZWFyY2gvZW50cnkvP3F1ZXJ5PSIgKyBrZXl3b3JkMSB9LAoJCXsgaHRtbDogIkRvbmtleTR1IiwgaHJlZjogImh0dHA6Ly9kb25rZXk0dS5jb20vc2VhcmNoLyIgKyBtb3ZpZVRpdGxlIH0sCgkJeyBodG1sOiAiVG9ycmVudCBQcm9qZWN0IiwgaHJlZjogImh0dHA6Ly90b3JyZW50cHJvamVjdC5jb20vPyZidG5HPVRvcnJlbnQrU2VhcmNoJm51bT0yMCZzdGFydD0wJnM9IiArIGtleXdvcmQyIH0sCgkJeyBodG1sOiAiR29vZ2xlIiwgaHJlZjogImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP2llPVVURi04JnE9IiArIG1vdmllVGl0bGUgfSwKCV07CgoJdmFyIGxpbmsgPSAkKCI8ZGl2PiIpLmFwcGVuZCgKCQkkKCI8c3Bhbj4iKS5hdHRyKCJjbGFzcyIsICJwbCIpLmh0bWwoIuS4i+i9vemTvuaOpToiKQoJKTsKCglzd2l0Y2gobG9jYXRpb24uaG9zdCl7CgkJY2FzZSAibW92aWUuZG91YmFuLmNvbSI6CgkJCWFwcGVuZExpbmtzKE1vdmllX2xpbmtzLCBsaW5rKQoKCQkJbGluay5hcHBlbmQoJzxicj4nKQoJCQkJLmFwcGVuZCgnPHNwYW4gY2xhc3M9InBsIj7lrZfluZXpk77mjqU6PC9zcGFuPicpCgkJCQkuYXBwZW5kKAoJCQkJCSQoIjxhPiIpLmF0dHIoewoJCQkJCQlocmVmOiAiaHR0cDovL3Nob290ZXIuY24vc2VhcmNoLyIgKyBtb3ZpZVRpdGxlLAoJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJfSkuaHRtbCgiU2hvb3RlciIpCgkJCQkpOwoKCQkJYnJlYWs7CgkJY2FzZSAiYm9vay5kb3ViYW4uY29tIjoKCQkJYXBwZW5kTGlua3MoQm9va19saW5rcywgbGluaykKCQkJYnJlYWs7Cgl9CgoJJCgnI2luZm8nKS5hcHBlbmQobGluayk7CgoKCWZ1bmN0aW9uIGFwcGVuZExpbmtzKGl0ZW1zLCBhcHBlbmRUbyl7CgkJaXRlbXMuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpKXsKCQkJJCgiPGE+IikKCQkJCS5odG1sKGl0ZW0uaHRtbCkKCQkJCS5hdHRyKHsKCQkJCQlocmVmOiBpdGVtLmhyZWYsCgkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJfSkKCQkJCS5hcHBlbmRUbyhhcHBlbmRUbyk7CgoJCQlpZihpICE9IGl0ZW1zLmxlbmd0aCAtMSl7CgkJCQlhcHBlbmRUby5hcHBlbmQoIiAvICIpOwoJCQl9CgkJfSk7Cgl9Cn0KCnJ1bigp"},{"name":"Douban Book HUST Helper","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://book.douban.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512618},"enabled":false,"position":33,"file_url":"https://greasyfork.org/scripts/4720-douban-book-hust-helper/code/Douban%20Book%20HUST%20Helper.user.js","uuid":"fd267f86-61cc-4a8c-b652-aadbeab64838","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIERvdWJhbiBCb29rIEhVU1QgSGVscGVyCi8vIEBkZXNjcmlwdGlvbiDosYbnk6Por7vkuabmt7vliqBIVVNU5Zu+5Lmm6aaG5L+h5oGvCi8vIEBhdXRob3IgICAgICBsYXN0bWF5ZGF5Ci8vIEBuYW1lc3BhY2UgICBodHRwOi8vbGFzdG1heWRheS5vcmcKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9ib29rLmRvdWJhbi5jb20vKgovLyBAcmVxdWlyZSAgICAgaHR0cDovL2xpYnMuYmFpZHUuY29tL2pxdWVyeS8yLjAuMC9qcXVlcnkubWluLmpzCi8vIEB2ZXJzaW9uICAgICAwLjAuMQovLyBAZ3JhbnQgR01fZ2V0VmFsdWUKLy8gQGdyYW50IEdNX3NldFZhbHVlCi8vIEBncmFudCBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgR01fb3BlbkluVGFiCi8vIEBncmFudCBHTV9kZWxldGVWYWx1ZQovLyBAZ3JhbnQgR01fYWRkU3R5bGUKLy8gQGdyYW50IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGljb24gICAgICAgIGh0dHA6Ly9pbWczLmRvdWJhbi5jb20vcGljcy9kb3ViYW4taWNvbnMvZmF2aWNvbl8xNngxNi5wbmcKLy8gPT0vVXNlclNjcmlwdD09CgpmdW5jdGlvbiBpbnNlcnRJbmZvKCl7CglpZigkKCcjYnV5aW5mbycpLmxlbmd0aCl7CgkJJCgnI2J1eWluZm8nKS5iZWZvcmUoJzxkaXYgY2xhc3M9ImdyYXlfYWQiIGlkPSJodXN0bGliIj48L2Rpdj4nKTsKCQkkKCcjaHVzdGxpYicpLmFwcGVuZCgnPGgyPuWNjuenkeWbvuS5pummhuacieayoeaciT88L2gyPjxkaXYgY2xhc3M9ImJzIiBpZD0iaXNleCI+PC9kaXY+Jyk7CgkJaWYgKHR5cGVvZigkKCcjaW5mbycpLnRleHQoKS5zcGxpdCgnSVNCTjonKVsxXSkgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJdmFyIGlzYm4gPSAkKCcjaW5mbycpLnRleHQoKS5zcGxpdCgnSVNCTjonKVsxXS5zcGxpdCgnICcpWzFdOwoJCQl2YXIgdXJsID0gJ2h0dHA6Ly9mdHAubGliLmh1c3QuZWR1LmNuL3NlYXJjaH5TMCpjaHgvP3NlYXJjaHR5cGU9aSZzZWFyY2hhcmc9KycgKyBpc2JuOwoJCQlHTV94bWxodHRwUmVxdWVzdCh7CgkJCQl1cmw6IHVybCwKCQkJCW1ldGhvZDogJ0dFVCcsCgkJCQlvbmxvYWQ6IGZ1bmN0aW9uIChtc2cpIHsKCQkJCQl2YXIgdGV4dCA9IG1zZy5yZXNwb25zZVRleHQ7CgkJCQkJaWYodGV4dC5pbmRleE9mKCfmnKrmib7liLDnrKblkIjmn6Xor6LmnaHku7bnmoTppobol48nKSAhPSAtMSkgewoJCQkJCQkkKCcjaXNleCcpLmh0bWwoJ+aIkeenkeW/q+WOu+S5sOS5puWVpn7nq5/nhLbmsqHmnIkhJyk7CgkJCQkJfWVsc2UgewoJCQkJCQkkKCcjaXNleCcpLmh0bWwoJ+aIkeenkeeahOWbvuS5pummhuW9k+eEtuaciSEnKTsKCQkJCQkJJCgnI2lzZXgnKS5hZnRlcignPGJyPjxoMj7lnKjlk6rph4zlnKjlk6rph4w/PC9oMj4nKTsKCQkJCQkJJCh0ZXh0KS5maW5kKCIuYmliT3JkZXJFbnRyeSIpLmFwcGVuZFRvKCcjaHVzdGxpYicpOwoJCQkJCQkkKHRleHQpLmZpbmQoJy5iaWJJdGVtcycpLmFwcGVuZFRvKCcjaHVzdGxpYicpOwoJCQkJCQkkKCcjaHVzdGxpYicpLmFwcGVuZCgnPGJyPjxoMj7lho3lhbfkvZPngrk/PC9oMj48cD48ZGl2IGNsYXNzPSJicyIgaWQ9Im1kdCI+PGEgaHJlZj0iJyArIHVybCArICciIHRhcmdldD0iX2JsYW5rIj7miLPov5nph4x+PC9hPjwvZGl2PicpOwoJCQkJCQlmb3IgKHZhciBpID0gMTsgaSA8PSAkKCcjaHVzdGxpYiB0cicpLmxlbmd0aCAtIDE7IGkrKykgewoJCQkJCQkJdmFyIGJvb2tudW0gPSAkKCcjaHVzdGxpYiB0cicpLmVxKGkpLmZpbmQoJ3RkJykuZXEoMSkudGV4dCgpOwoJCQkJCQkJJCgnI2h1c3RsaWIgdHInKS5lcShpKS5maW5kKCd0ZCcpLmVxKDEpLnJlbW92ZSgpOwoJCQkJCQkJJCgnI2h1c3RsaWIgdHInKS5lcShpKS5maW5kKCd0ZCcpLmVxKDApLmFmdGVyKCc8dGQgd2lkdGg9IjQzJSI+JysgYm9va251bSArICc8L3RkPicpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9KTsKCQl9IGVsc2UgewoJCQkkKCcjaXNleCcpLmh0bWwoJ+ern+eEtuayoeacie+8gScpOwoJCX0KCX0KfQoKaW5zZXJ0SW5mbygpOw=="},{"name":"Douban Book Bar","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["*://www.amazon.cn/*","*://item.jd.com/*","*://product.dangdang.com/*","*://product.china-pub.com/*","*://product.suning.com/*","*://www.suning.com/emall/*","*://www.duokan.com/book/*","*://www.winxuan.com/product/*","*://www.ituring.com.cn/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":["douban.com"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512622},"enabled":false,"position":34,"file_url":"https://greasyfork.org/scripts/3737-douban-book-bar/code/Douban%20Book%20Bar.user.js","uuid":"38475360-0d29-4f17-a5e7-4474d7f4bd7a","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIERvdWJhbiBCb29rIEJhcgovLyBAbmFtZXNwYWNlICAgRG91YmFuQm9va0JhcgovLyBAbGljZW5zZQkJTUlUIExpY2Vuc2UKLy8gQGF1dGhvciAgICAgIEVsdmlzS2FuZzxlbHZpc2thbmdAZm94bWFpbC5jb20+Ci8vIEBkZXNjcmlwdGlvbiDku6XmnIDkvJjmg6DnmoTku7fmoLzkubDliLDmnIDlv4Pku6rnmoTkuaYKLy8gQGluY2x1ZGUgICAgICo6Ly93d3cuYW1hem9uLmNuLyoKLy8gQGluY2x1ZGUgICAgICo6Ly9pdGVtLmpkLmNvbS8qCi8vIEBpbmNsdWRlICAgICAqOi8vcHJvZHVjdC5kYW5nZGFuZy5jb20vKgovLyBAaW5jbHVkZSAgICAgKjovL3Byb2R1Y3QuY2hpbmEtcHViLmNvbS8qCi8vIEBpbmNsdWRlICAgICAqOi8vcHJvZHVjdC5zdW5pbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgICo6Ly93d3cuc3VuaW5nLmNvbS9lbWFsbC8qCi8vIEBpbmNsdWRlICAgICAqOi8vd3d3LmR1b2thbi5jb20vYm9vay8qCi8vIEBpbmNsdWRlICAgICAqOi8vd3d3Lndpbnh1YW4uY29tL3Byb2R1Y3QvKgovLyBAaW5jbHVkZSAgICAgKjovL3d3dy5pdHVyaW5nLmNvbS5jbi8qCi8vIEB2ZXJzaW9uICAgICB2ZXIgMS4yLjE1Ci8vIEBncmFudCAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgR01fYWRkU3R5bGUKLy8gPT0vVXNlclNjcmlwdD09CgovL+eUqOS6juino+WGs2dyZWFzZW1vbmtleeWcqGlmcmFtZeS4rei/kOihjOeahOmXrumimCzpgb/lhY3ohJrmnKzlpJrmrKHov5DooYwKaWYgKCB3aW5kb3cudG9wID09PSB3aW5kb3cuc2VsZiApIHsKICAgIChmdW5jdGlvbiAoKSB7CiAgICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgICAvL+WFqOWxgOWPmOmHjyjmnoTpgKDlh73mlbAp5aOw5piO5Yy6CgogICAgICAgIC8v5YyF5ZCr5pSv5oyB55qE572R56uZ5YiX6KGo5Lul5Y+K5b2T5YmN572R56uZ5a+56LGhCiAgICAgICAgdmFyIHNpdGVzQ29udGFpbmVyID0gewoKICAgICAgICAgICAgLy/ku6XkuIvliJLnur/lvIDlpLTnmoTlsZ7mgKfkuLrorr/pl67lmajlsZ7mgKcKICAgICAgICAgICAgX3NpdGVMaXN0ICAgICA6IFtdLCAgICAvL+aPkuS7tuaUr+aMgeeahOe9kemhtQogICAgICAgICAgICBfY3VyU2l0ZSAgICAgIDogbnVsbCwgIC8v5b2T5YmN572R6aG1CiAgICAgICAgICAgIF9zaXRlTmFtZUxpc3QgOiBbXSwKICAgICAgICAgICAgYWRkU2l0ZXMgICAgICA6IGZ1bmN0aW9uIChzaXRlc0FycmF5KSB7CiAgICAgICAgICAgICAgICBpZiAoIEFycmF5LmlzQXJyYXkgKCBzaXRlc0FycmF5ICkgKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2l0ZUxpc3QgPSB0aGlzLmxpc3QuY29uY2F0ICggc2l0ZXNBcnJheSApOwogICAgICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgICAgICAgICAgICAgICBzaXRlc0FycmF5LmZvckVhY2ggKCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5uYW1lTGlzdC5wdXNoICggdmFsdWUubmFtZSApOwogICAgICAgICAgICAgICAgICAgIH0gKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2V0IGxpc3QgKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NpdGVMaXN0OwogICAgICAgICAgICB9LAogICAgICAgICAgICBnZXQgbmFtZUxpc3QgKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NpdGVOYW1lTGlzdDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2V0IGN1clNpdGUgKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1clNpdGU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldCBjdXJTaXRlIChocmVmKSB7CiAgICAgICAgICAgICAgICAvL+mAmui/h+WvueixoeS4reeahGNoZWNrZXLlsZ7mgKfljLnphY3nvZHnq5kKICAgICAgICAgICAgICAgIHZhciBpLAogICAgICAgICAgICAgICAgICAgIGxlbiA9IHRoaXMubGlzdC5sZW5ndGg7CiAgICAgICAgICAgICAgICBmb3IgKCBpID0gMCA7IGkgPCBsZW4gOyBpKysgKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrZXIgPSB0aGlzLmxpc3RbaV0uY2hlY2tlcjsKICAgICAgICAgICAgICAgICAgICBpZiAoIGNoZWNrZXIudGVzdCAmJiBjaGVja2VyLnRlc3QgKCBocmVmICkgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1clNpdGUgPSB0aGlzLmxpc3RbaV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgZnVuY3Rpb24gU3VwcG9ydFNpdGUgKHNpdGVJbmZvKSB7CiAgICAgICAgICAgIGlmICggdHlwZW9mIHNpdGVJbmZvID09PSAib2JqZWN0IiApIHsKICAgICAgICAgICAgICAgIGZvciAoIHZhciBwcm9wcyBpbiBzaXRlSW5mbyApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIHNpdGVJbmZvLmhhc093blByb3BlcnR5ICggcHJvcHMgKSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1twcm9wc10gPSBzaXRlSW5mb1twcm9wc107CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBTdXBwb3J0U2l0ZS5wcm90b3R5cGUuY3JlYXRlRG91YmFuQmFyID0gZnVuY3Rpb24gKGJvb2tJbmZvLCBwcmljZUxpc3QpIHsKICAgICAgICAgICAgdmFyIGluc2VydFBvc2l0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAoIHRoaXMuaW5zZXJ0UG9zaXRpb24gKTsKICAgICAgICAgICAgaWYgKCAhaW5zZXJ0UG9zaXRpb24gKSB7CiAgICAgICAgICAgICAgICBsb2cgKCAiLUVycm9yOiDnvZHpobXlj5HnlJ/lj5jliqjvvIzmj5LlhaXkvY3nva7msqHmnInmib7liLAiICk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGluZm9Sb3dDb250YWluZXIgID0gY3JlYXRlSW5mb1Jvd0NvbnRhaW5lciAoKSwKICAgICAgICAgICAgICAgIHByaWNlUm93Q29udGFpbmVyID0gY3JlYXRlUHJpY2VSb3dDb250YWluZXIgKCk7CiAgICAgICAgICAgIHZhciBzY29yZVNwYW4gICAgICAgICA9IGNyZWF0ZVNjb3JlU3BhbiAoIGJvb2tJbmZvICksCiAgICAgICAgICAgICAgICBjb250cmFzdFByaWNlSW5mbyA9IGNyZWF0ZUNvbnRyYXN0UHJpY2VJbmZvICggcHJpY2VMaXN0ICk7CiAgICAgICAgICAgIHByaWNlUm93Q29udGFpbmVyLmFwcGVuZENoaWxkICggY29udHJhc3RQcmljZUluZm8gKTsKICAgICAgICAgICAgaW5mb1Jvd0NvbnRhaW5lci5hcHBlbmRDaGlsZCAoIHNjb3JlU3BhbiApOwogICAgICAgICAgICBzZXRCYXNlQ3NzICgpOwogICAgICAgICAgICB2YXIgYmFyID0gY3JlYXRlQmFyICggaW5mb1Jvd0NvbnRhaW5lciwgcHJpY2VSb3dDb250YWluZXIgKTsKICAgICAgICAgICAgaW5zZXJ0QmFyICggYmFyLCBpbnNlcnRQb3NpdGlvbiApOwogICAgICAgIH07CgogICAgICAgIHZhciBBbWF6b24gPSBuZXcgU3VwcG9ydFNpdGUgKCB7CgogICAgICAgICAgICBuYW1lIDogIuS6mumprOmAiiIsCgogICAgICAgICAgICBjaGVja2VyIDogLyhodHRwcz86XC9cLyk/KHd3dyk/XC5hbWF6b25cLihjb218Y24pXC8uKi8sCgogICAgICAgICAgICBsb2dvIDogImh0dHA6Ly93d3cuYW1hem9uLmNuL2Zhdmljb24uaWNvIiwKCiAgICAgICAgICAgIGdldElTQk4gICAgICAgIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCAoICJkaXYuY29udGVudCBiIiApOwogICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwIDsgaSA8PSBjb250ZW50cy5sZW5ndGggOyBpKysgKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSBjb250ZW50c1tpXTsKICAgICAgICAgICAgICAgICAgICBpZiAoIGluZm8gJiYgaW5mby50ZXh0Q29udGVudCA9PT0gIklTQk46IiApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZm8ubmV4dFNpYmxpbmcuZGF0YS5zcGxpdCAoICIsIiApWzBdLnN1YnN0cmluZyAoIDEgKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGluc2VydFBvc2l0aW9uIDogIiN0bW1Td2F0Y2hlcyIKICAgICAgICB9ICk7CgogICAgICAgIHZhciBKRCA9IG5ldyBTdXBwb3J0U2l0ZSAoIHsKICAgICAgICAgICAgbmFtZSA6ICLkuqzkuJzllYbln44iLAoKICAgICAgICAgICAgY2hlY2tlciA6IC8oaHR0cHM/OlwvXC8pPyh3d3d8aXRlbSk/XC5qZFwuY29tXC8uKi8sCgogICAgICAgICAgICBsb2dvIDogImh0dHA6Ly93d3cuamQuY29tL2Zhdmljb24uaWNvIiwKCiAgICAgICAgICAgIGdldElTQk4gICAgICAgIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIGxpQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgKCAiI3BhcmFtZXRlcjIgPiBsaTpudGgtY2hpbGQoMikiICkuaW5uZXJIVE1MOwogICAgICAgICAgICAgICAgaWYobGlDb250ZW50Lm1hdGNoKC9eSVNCTi8pICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpQ29udGVudC5zcGxpdCAoICLvvJoiIClbMV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb24gOiAiI3N1bW1hcnktcHJpY2UiCiAgICAgICAgfSApOwoKICAgICAgICB2YXIgRGFuZ2RhbmcgPSBuZXcgU3VwcG9ydFNpdGUgKCB7CgogICAgICAgICAgICBuYW1lIDogIuW9k+W9k+e9kSIsCgogICAgICAgICAgICBjaGVja2VyIDogLyhodHRwcz86XC9cLyk/KHd3d3xwcm9kdWN0KT9cLmRhbmdkYW5nXC5jb21cLy4qLywKCiAgICAgICAgICAgIGxvZ28gOiAiaHR0cDovL3d3dy5kYW5nZGFuZy5jb20vZmF2aWNvbi5pY28iLAoKICAgICAgICAgICAgZ2V0SVNCTiAgICAgICAgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgc2Nhbkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCAoICIjZGV0YWlsX2Rlc2NyaWJlIGxpIiApOwogICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwIDsgaSA8IHNjYW5JdGVtcy5sZW5ndGggOyBpKysgKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNwbGl0UmVzdWx0ID0gc2Nhbkl0ZW1zW2ldLmlubmVyVGV4dC5zcGxpdCgnSVNCTu+8micpOwogICAgICAgICAgICAgICAgICAgIGlmICggc3BsaXRSZXN1bHQubGVuZ3RoID09PSAyICkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3BsaXRSZXN1bHRbMV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBpbnNlcnRQb3NpdGlvbiA6ICIubWVzc2JveF9pbmZvIgogICAgICAgIH0gKTsKCiAgICAgICAgdmFyIENoaW5hcHViID0gbmV3IFN1cHBvcnRTaXRlICggewoKICAgICAgICAgICAgbmFtZSA6ICJDaGluYS1wdWIiLAoKICAgICAgICAgICAgY2hlY2tlciA6IC8oaHR0cHM/OlwvXC8pPyhwcm9kdWN0fHd3dylcLmNoaW5hXC1wdWJcLmNvbVwvLiovLAoKICAgICAgICAgICAgbG9nbyA6ICJodHRwOi8vd3d3LmNoaW5hLXB1Yi5jb20vZmF2aWNvbi5pY28iLAoKICAgICAgICAgICAgZ2V0SVNCTiAgICAgICAgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKCAiI2Nvbl9hXzEgbGkiICk7CiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAgOyBpIDwgbGlzdC5sZW5ndGggOyBpKysgKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCBsaXN0W2ldLmlubmVySFRNTC5zcGxpdCAoICLvvJoiIClbMF0gPT09ICJJU0JOIiApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RbaV0uaW5uZXJIVE1MLnNwbGl0ICggIu+8miIgKVsxXS5yZXBsYWNlICggLzwuKj8+L2csICIiICkubWF0Y2ggKCAvWzAtOV0qL2cgKS5qb2luICggIiIgKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGluc2VydFBvc2l0aW9uIDogIi5wcm9fYnV5X3N0YXIiCiAgICAgICAgfSApOwoKICAgICAgICB2YXIgU3VuaW5nID0gbmV3IFN1cHBvcnRTaXRlICggewoKICAgICAgICAgICAgbmFtZSA6ICLoi4/lroHmmJPotK0iLAoKICAgICAgICAgICAgY2hlY2tlciA6IC8oaHR0cHM/OlwvXC8pPyhwcm9kdWN0KVwuc3VuaW5nXC5jb21cLy4qLywKCiAgICAgICAgICAgIGxvZ28gOiAiaHR0cDovL3d3dy5zdW5pbmcuY29tL2Zhdmljb24uaWNvIiwKCiAgICAgICAgICAgIGdldElTQk4gICAgICAgIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIGlzYm4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICggIiNib29rUGFyYW1ldGVyRmllbGQgPiBkbDpudGgtY2hpbGQoNCkgPiBkZDpudGgtY2hpbGQoMikiICk7CiAgICAgICAgICAgICAgICByZXR1cm4gaXNibi5pbm5lckhUTUw7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGluc2VydFBvc2l0aW9uIDogIiNleGlzdFByaWNlIgogICAgICAgIH0gKTsKICAgICAgICAvL+iLj+WugeesrOS4ieaWuSjmlofovannrYkpCiAgICAgICAgdmFyIFN1bmluZ1RoaXJkID0gbmV3IFN1cHBvcnRTaXRlICggewoKICAgICAgICAgICAgbmFtZSA6ICLoi4/lroHmmJPotK3nrKzkuInmlrkiLAoKICAgICAgICAgICAgY2hlY2tlciA6IC8oaHR0cHM/OlwvXC8pPyh3d3cpP1wuc3VuaW5nXC5jb21cL2VtYWxsXC8uKi8sCgogICAgICAgICAgICBsb2dvIDogImh0dHA6Ly93d3cuc3VuaW5nLmNvbS9mYXZpY29uLmljbyIsCgogICAgICAgICAgICBnZXRJU0JOICAgICAgICA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBpc2JuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAoICJsaS5saS1iOm50aC1jaGlsZCgxMSkgPiBzcGFuOm50aC1jaGlsZCgyKSIgKTsKICAgICAgICAgICAgICAgIHJldHVybiBpc2JuLmlubmVySFRNTDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb24gOiAiI3Byb2R1Y3RJbmZvVWwiCiAgICAgICAgfSApOwoKICAgICAgICB2YXIgV2luWHVhbiA9IG5ldyBTdXBwb3J0U2l0ZSAoIHsKICAgICAgICAgICAgbmFtZSAgICAgICAgICAgOiAi5paH6L2p572RIiwKICAgICAgICAgICAgY2hlY2tlciAgICAgICAgOiAvKGh0dHBzPzpcL1wvKT8od3d3KVwud2lueHVhblwuY29tXC8uKi8sCiAgICAgICAgICAgIGxvZ28gICAgICAgICAgIDogImh0dHA6Ly93d3cud2lueHVhbi5jb20vZmF2aWNvbi5pY28iLAogICAgICAgICAgICBpbnNlcnRQb3NpdGlvbiA6ICJkaXYubmFtZTpudGgtY2hpbGQoMSkiLAogICAgICAgICAgICBnZXRJU0JOICAgICAgICA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBjb250ZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKCAiLmxpc3QtdGV4dC0zPmxpIiApOwogICAgICAgICAgICAgICAgLy/nm67liY3mlofovannvZHnmoRJU0JO5L2N5LqO5YiX6KGo55qE5pyA5ZCO5LiA6aG577yM6ICD6JmR5Yiw5Lul5ZCO55qE5L2N572u5Y+v6IO95Y+R55Sf5pS55Y+Y77yM5omA5Lul5LuO5ZCO5b6A5YmN6YGN5Y6G5YiX6KGoCiAgICAgICAgICAgICAgICB2YXIgaSA9IGNvbnRlbnRzLmxlbmd0aCA7CiAgICAgICAgICAgICAgICBmb3IgKCA7IGktLSA7ICkgewogICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gY29udGVudHNbaV0udGV4dENvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRDaGVja2VyID0gL15JIFMgQiBO77yaLzsKICAgICAgICAgICAgICAgICAgICBpZiAoIHRleHQgJiYgdGV4dENoZWNrZXIudGVzdCh0ZXh0KSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHQuc3BsaXQgKCAi77yaIiApWzFdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gKTsKICAgICAgICB2YXIgRHVvS2FuID0gbmV3IFN1cHBvcnRTaXRlICggewoKICAgICAgICAgICAgbmFtZSA6ICLlpJrnnIvpmIXor7siLAoKICAgICAgICAgICAgaXNFQm9vayA6IHRydWUsCgogICAgICAgICAgICBjaGVja2VyIDogLyhodHRwcz86XC9cLyk/KHd3dylcLmR1b2thblwuY29tXC8uKi8sCgogICAgICAgICAgICBsb2dvIDogImh0dHA6Ly93d3cuZHVva2FuLmNvbS9mYXZpY29uLmljbyIsCgogICAgICAgICAgICBnZXRJU0JOICAgICAgICA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaXNibiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgKCAic3Bhbi5pc2JuIiApOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBpc2JuLmlubmVySFRNTDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb24gOiAiZGl2W2l0ZW1wcm9wPWFnZ3JlZ2F0ZVJhdGluZ10iCiAgICAgICAgfSApOwoKICAgICAgICB2YXIgaXR1cmluZyA9IG5ldyBTdXBwb3J0U2l0ZSAoIHsKICAgICAgICAgICAgbmFtZSA6ICLlm77ngbXnpL7ljLoiLAoKICAgICAgICAgICAgY2hlY2tlciA6IC8oaHR0cD86XC9cLyk/KHd3dyk/XC5pdHVyaW5nXC5jb21cLmNuXC9ib29rXC8uKi8sCgogICAgICAgICAgICBsb2dvIDogImh0dHA6Ly93d3cuaXR1cmluZy5jb20uY24vZmF2aWNvbi5pY28iLAoKICAgICAgICAgICAgZ2V0SVNCTiAgICAgICAgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgdGxDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCAoICIjaW5mbyB0YWJsZSB0ZCIgKTsKICAgICAgICAgICAgICAgIHZhciBwYXR0ID0gbmV3IFJlZ0V4cCgvXihcZCstKXszLDR9KD86XGQrfFgpJC8pOwogICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwIDsgaSA8IHRsQ29udGVudC5sZW5ndGggOyBpKysgKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCBwYXR0LnRlc3QodGxDb250ZW50W2ldLnRleHRDb250ZW50KSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRsQ29udGVudFtpXS5pbm5lckhUTUwucmVwbGFjZShuZXcgUmVnRXhwKC8oLSkvZyksJycpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9LAogICAgICAgICAgICBpbnNlcnRQb3NpdGlvbiA6ICIjY2tlcG9wIgogICAgICAgIH0gKTsKCiAgICAgICAgLy/lhajlsYDlh73mlbDlo7DmmI7ljLoKCiAgICAgICAgZnVuY3Rpb24gbG9nIChtc2cpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cgKCAiRG91YmFuQm9va0JhcjogIiArIG1zZyApOwogICAgICAgIH0KCiAgICAgICAgLy/osIPnlKhBUEnorr7nva7mr5Tku7fmoI/nmoRDU1PlsZ7mgKcKICAgICAgICBmdW5jdGlvbiBzZXRCYXNlQ3NzICgpIHsKICAgICAgICAgICAgdmFyIGJhc2VDU1MgPSBbCiAgICAgICAgICAgICAgICAiI2Jvb2tiYXItY29udGFpbmVyIGEge2NvbG9yOiMyMjhBMzEgIWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZTtmb250LXNpemU6IDEzcHg7fSIsCiAgICAgICAgICAgICAgICAiI2Jvb2tiYXItY29udGFpbmVyIC5ib29rYmFyLXRpdGxlIHtmb250LXNpemU6IDE0cHg7d2lkdGg6NzBweDt9IiwKICAgICAgICAgICAgICAgICIjYm9va2Jhci1jb250YWluZXIgc3BhbiB7bWFyZ2luLXJpZ2h0OiA1cHg7ZGlzcGxheTogaW5saW5lLWJsb2NrO2ZvbnQtc2l6ZTogMTNweDtmb250LXdlaWdodDogYm9sZDt9IiwKICAgICAgICAgICAgICAgICIjYm9va2Jhci1jb250YWluZXIgdWwge3BhZGRpbmctbGVmdDogMDttYXJnaW46IDRweCAwO30iLAogICAgICAgICAgICAgICAgIiNib29rYmFyLWNvbnRhaW5lciBsaSB7bGlzdC1zdHlsZTogbm9uZSBub25lIG91dHNpZGU7IGRpc3BsYXk6IGlubGluZTtwYWRkaW5nOiAwIDRweDt9IiwKICAgICAgICAgICAgICAgICIjYm9va2Jhci1jb250YWluZXIgaW1neyBoZWlnaHQ6MTZweDsgd2lkdGg6MTZweDt9IiwKICAgICAgICAgICAgICAgICIjYXZnU2NvcmUge2NvbG9yOiNEQzAwMDAgIWltcG9ydGFudDt9IgogICAgICAgICAgICBdLmpvaW4gKCAiIiApOwogICAgICAgICAgICBHTV9hZGRTdHlsZSAoIGJhc2VDU1MgKTsKICAgICAgICB9CgogICAgICAgIC8vIGNyZWF0ZSogLS0tLeeUn+aIkOavlOS7t+agj+ebuOWFs+eahOWHveaVsAogICAgICAgIC8v5Yib5bu65q+U5Lu35qCP55qE6LCD55So5o6n5Yi25Ye95pWw5ZyoU3VwcG9ydFNpdGXlr7nosaHnmoTljp/lnovpk77kuK0KICAgICAgICAvL+aYn+e6p+S/oeaBrwogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVN0YXJTcGFuIChzY29yZSkgewogICAgICAgICAgICB2YXIgc3RhclNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICggInNwYW4iICk7CiAgICAgICAgICAgIHN0YXJTcGFuLmlkID0gImJvb2tiYXItc3RhciI7CiAgICAgICAgICAgIHZhciBiZ1Bvc2l0aW9uID0gIjAgIiArICgtMTUpICogKDEwIC0gTWF0aC5mbG9vciAoIHBhcnNlRmxvYXQgKCBzY29yZSApICsgMC44ICkpICsgInB4IjsKICAgICAgICAgICAgdmFyIHN0YXJTcGFuQ1NTID0gWwogICAgICAgICAgICAgICAgIiNib29rYmFyLXN0YXIgeyAiLAogICAgICAgICAgICAgICAgImJhY2tncm91bmQgOnVybChodHRwczovL2ltZzMuZG91YmFuaW8uY29tL2Yvc2hpcmUvNjgwYTRiYzRjMzg0MTk5MjQ1YjA4MGM3MTA0ZGE1YmU4ZWQ3MTdkMy9waWNzL3JhdGluZ19pY29ucy9pY19yYXRpbmdfbS5wbmcpIG5vLXJlcGVhdCBzY3JvbGwgIiArIGJnUG9zaXRpb24gKyAiIDsgIiwKICAgICAgICAgICAgICAgICJ3aWR0aDo3NXB4OyBoZWlnaHQ6IDE1cHg7IHBvc2l0aW9uOiByZWxhdGl2ZTsgdG9wOiAxcHg7fSIKICAgICAgICAgICAgXS5qb2luICggIiIgKTsKICAgICAgICAgICAgR01fYWRkU3R5bGUgKCBzdGFyU3BhbkNTUyApOwogICAgICAgICAgICByZXR1cm4gc3RhclNwYW47CiAgICAgICAgfQoKICAgICAgICAvL+W+l+WIhuS4juivhOS7t+S/oeaBrwogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNjb3JlU3BhbiAoYm9va0luZm8pIHsKICAgICAgICAgICAgdmFyIGJvb2tJRCAgICAgICA9IGJvb2tJbmZvLmlkLAogICAgICAgICAgICAgICAgYm9va1JhdGluZyAgID0gYm9va0luZm8ucmF0aW5nIHx8IHt9LAogICAgICAgICAgICAgICAgbnVtUmF0ZXJzICAgID0gYm9va1JhdGluZy5udW1SYXRlcnMsCiAgICAgICAgICAgICAgICBhdmVyYWdlU2NvcmUgPSBib29rUmF0aW5nLmF2ZXJhZ2U7CiAgICAgICAgICAgIHZhciBzY29yZVNwYW4gICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICggInNwYW4iICksCiAgICAgICAgICAgICAgICBpbmZvVWwgICAgICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICggInVsIiApLAogICAgICAgICAgICAgICAgY29tbWVudHNMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAoICJsaSIgKSwKICAgICAgICAgICAgICAgIGJvb2tJbmZvTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgKCAibGkiICk7CiAgICAgICAgICAgIGlmICggbnVtUmF0ZXJzID09PSAwICkgewogICAgICAgICAgICAgICAgY29tbWVudHNMaW5rLmlubmVySFRNTCA9ICI8c3Bhbj7msqHmnInkurror4Tku7fov5nmnKzkuaY8L3NwYW4+IjsKICAgICAgICAgICAgfSBlbHNlIGlmICggbnVtUmF0ZXJzIDwgMTAgKSB7CiAgICAgICAgICAgICAgICBjb21tZW50c0xpbmsuaW5uZXJIVE1MID0gIjxzcGFuPuWwkeS6jjEw5Lq66K+E5Lu36L+Z5pys5LmmPC9zcGFuPiI7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIG51bVJhdGVycyA+PSAxMCApIHsKICAgICAgICAgICAgICAgIGNvbW1lbnRzTGluay5pbm5lckhUTUwgPSAnPGEgIGhyZWY9Imh0dHA6Ly9ib29rLmRvdWJhbi5jb20vc3ViamVjdC8nICsgYm9va0lEICsgJy9jb2xsZWN0aW9ucyIgdGFyZ2V0PSJfYmxhbmsiPijlhbEnICsgbnVtUmF0ZXJzICsgJ+S6uuivhOS7tyk8L2E+JzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8v6I635Y+W5L+h5oGv5Ye6546w6ZSZ6K+vCiAgICAgICAgICAgICAgICBjb21tZW50c0xpbmsuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCBjb21tZW50c0xpbmsuaW5uZXJIVE1MICE9PSAiIiApIHsKICAgICAgICAgICAgICAgIHZhciBhdmdMaSAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgKCAibGkiICksCiAgICAgICAgICAgICAgICAgICAgc3RhckxpICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICggImxpIiApLAogICAgICAgICAgICAgICAgICAgIHN0YXJTcGFuID0gY3JlYXRlU3RhclNwYW4gKCBhdmVyYWdlU2NvcmUgKTsKICAgICAgICAgICAgICAgIGF2Z0xpLmlubmVySFRNTCA9ICc8c3Bhbj4nICsgYXZlcmFnZVNjb3JlICsgJzwvc3Bhbj4nOwogICAgICAgICAgICAgICAgYXZnTGkuaWQgPSAiYXZnU2NvcmUiOwogICAgICAgICAgICAgICAgc3RhckxpLmFwcGVuZENoaWxkICggc3RhclNwYW4gKTsKICAgICAgICAgICAgICAgIGluZm9VbC5hcHBlbmRDaGlsZCAoIGF2Z0xpICk7CiAgICAgICAgICAgICAgICBib29rSW5mb0xpbmsuaW5uZXJIVE1MID0gJzxhIGhyZWY9Imh0dHA6Ly9ib29rLmRvdWJhbi5jb20vc3ViamVjdC8nICsgYm9va0lEICsgJy8iIHRhcmdldD0iX2JsYW5rIiA+KOWOu+ixhueTo+eci+i/meacrOS5pik8L2E+JzsKICAgICAgICAgICAgICAgIGluZm9VbC5hcHBlbmRDaGlsZCAoIHN0YXJMaSApOwogICAgICAgICAgICAgICAgaW5mb1VsLmFwcGVuZENoaWxkICggY29tbWVudHNMaW5rICk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBib29rSW5mb0xpbmsuaW5uZXJIVE1MID0gJzxhIGhyZWY9Imh0dHA6Ly9ib29rLmRvdWJhbi5jb20iIHRhcmdldD0iX2JsYW5rIj7msqHlnKjosYbnk6Pmib7liLDov5nmnKzkuaYs5Y676LGG55Oj6YCb6YCbPzwvYT4nOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGluZm9VbC5hcHBlbmRDaGlsZCAoIGJvb2tJbmZvTGluayApOwogICAgICAgICAgICBzY29yZVNwYW4uYXBwZW5kQ2hpbGQgKCBpbmZvVWwgKTsKICAgICAgICAgICAgcmV0dXJuIHNjb3JlU3BhbjsKICAgICAgICB9CgogICAgICAgIC8v55SxIGNyZWF0ZUNvbnRyYXN0UHJpY2VJbmZvIOWHveaVsOiwg+eUqAogICAgICAgIC8v55Sf5oiQ5q+P5LiA5Liq5Lu35qC8PGxpPuagh+etvgogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVByaWNlTGkgKGljb25MaW5rLCBwcmljZURhdGEsIHNpdGVQcmljZSkgewogICAgICAgICAgICB2YXIgcHJpY2VMaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgKCAibGkiICksCiAgICAgICAgICAgICAgICBsaW5rICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAoICJhIiApLAogICAgICAgICAgICAgICAgaW1nICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgKCAiaW1nIiApOwogICAgICAgICAgICBpbWcuc3JjID0gaWNvbkxpbms7CiAgICAgICAgICAgIGxpbmsuaHJlZiA9IHByaWNlRGF0YS5ocmVmIHx8ICIjIjsKICAgICAgICAgICAgbGluay50YXJnZXQgPSAiX2JsYW5rIjsKICAgICAgICAgICAgaWYgKCBwcmljZURhdGEucHJpY2UgPT09IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgICAgIGxpbmsudGV4dENvbnRlbnQgPSAiW+ayoeaJvuWIsF0iOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGluay50ZXh0Q29udGVudCA9ICLvv6UiICsgcHJpY2VEYXRhLnByaWNlOwogICAgICAgICAgICAgICAgaWYgKCBzaXRlUHJpY2UgIT09IC0xICkgewogICAgICAgICAgICAgICAgICAgIHZhciBkaWZmZXJlbmNlID0gcGFyc2VGbG9hdCAoIHByaWNlRGF0YS5wcmljZSApIC0gcGFyc2VGbG9hdCAoIHNpdGVQcmljZSApOwogICAgICAgICAgICAgICAgICAgIHZhciBzZ24gPSBkaWZmZXJlbmNlID4gMCA/ICIrIiA6ICIiOwogICAgICAgICAgICAgICAgICAgIGxpbmsudGV4dENvbnRlbnQgKz0gIiggIiArIHNnbiArIGRpZmZlcmVuY2UudG9GaXhlZCAoIDIgKSArICIgKSI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHJpY2VMaS5hcHBlbmRDaGlsZCAoIGltZyApOwogICAgICAgICAgICBwcmljZUxpLmFwcGVuZENoaWxkICggbGluayApOwogICAgICAgICAgICByZXR1cm4gcHJpY2VMaTsKICAgICAgICB9CgogICAgICAgIC8v5Lu35qC8KOWFtuS7lue9keermSnkv6Hmga8KICAgICAgICBmdW5jdGlvbiBjcmVhdGVDb250cmFzdFByaWNlSW5mbyAocHJpY2VMaXN0KSB7CiAgICAgICAgICAgIHZhciBjb250cmFzdFByaWNlSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgKCAic3BhbiIgKSwKICAgICAgICAgICAgICAgIGluZm9Db250YWluZXIgICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAoICJ1bCIgKTsKICAgICAgICAgICAgaWYgKCBwcmljZUxpc3QubGVuZ3RoID09PSAwICkgewogICAgICAgICAgICAgICAgY29udHJhc3RQcmljZUluZm8uaW5uZXJIVE1MID0gIjxzcGFuPuixhueTo+S4iuayoeaciei0reS5sOS/oeaBrzwvc3Bhbj4iOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBsZW4gPSBwcmljZUxpc3QubGVuZ3RoIDsgaSA8IGxlbiA7IGkrKyApIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hJbmRleCA9IHNpdGVzQ29udGFpbmVyLm5hbWVMaXN0LmluZGV4T2YgKCBwcmljZUxpc3RbaV0ubmFtZSApOwogICAgICAgICAgICAgICAgICAgIHZhciBwcmljZUxpID0gY3JlYXRlUHJpY2VMaSAoIHNpdGVzQ29udGFpbmVyLmxpc3RbbWF0Y2hJbmRleF0ubG9nbywgcHJpY2VMaXN0W2ldLCBwcmljZUxpc3QuY3VyU2l0ZVByaWNlICk7CiAgICAgICAgICAgICAgICAgICAgaW5mb0NvbnRhaW5lci5hcHBlbmRDaGlsZCAoIHByaWNlTGkgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjb250cmFzdFByaWNlSW5mby5hcHBlbmRDaGlsZCAoIGluZm9Db250YWluZXIgKTsKICAgICAgICAgICAgcmV0dXJuIGNvbnRyYXN0UHJpY2VJbmZvOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQmFyIChpbmZvUm93LCBwcmljZVJvdykgewogICAgICAgICAgICB2YXIgYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAoICJkaXYiICk7CiAgICAgICAgICAgIGJhci5pZCA9ICJib29rYmFyLWNvbnRhaW5lciI7CiAgICAgICAgICAgIGJhci5hcHBlbmRDaGlsZCAoIGluZm9Sb3cgKTsKICAgICAgICAgICAgYmFyLmFwcGVuZENoaWxkICggcHJpY2VSb3cgKTsKICAgICAgICAgICAgcmV0dXJuIGJhcjsKCiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjcmVhdGVQcmljZVJvd0NvbnRhaW5lciAoKSB7CiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICggImRpdiIgKSwKICAgICAgICAgICAgICAgIGxhYmVsICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgKCAic3BhbiIgKTsKICAgICAgICAgICAgY29udGFpbmVyLmlkID0gImJvb2tiYXItcHJpY2VJbmZvIjsKICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gIuavlOS7tzoiOwogICAgICAgICAgICBsYWJlbC5jbGFzc05hbWUgPSAiYm9va2Jhci10aXRsZSI7CiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCAoIGxhYmVsICk7CiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjcmVhdGVJbmZvUm93Q29udGFpbmVyICgpIHsKICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgKCAiZGl2IiApLAogICAgICAgICAgICAgICAgbGFiZWwgICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAoICJzcGFuIiApOwogICAgICAgICAgICBjb250YWluZXIuaWQgPSAiYm9va2Jhci1kb3ViYW5JbmZvIjsKICAgICAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gImJvb2tiYXItdGl0bGUiOwogICAgICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSAi6LGG55Oj6K+E5YiGOiI7CiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCAoIGxhYmVsICk7CiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBpbnNlcnRCYXIgKGJhciwgcG9zaXRpb24pIHsKICAgICAgICAgICAgdmFyIHBhcmVudCA9IHBvc2l0aW9uLnBhcmVudE5vZGU7CiAgICAgICAgICAgIGlmICggcGFyZW50Lmxhc3RDaGlsZCA9PT0gcG9zaXRpb24gKSB7CiAgICAgICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQgKCBiYXIgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUgKCBiYXIsIHBvc2l0aW9uLm5leHRTaWJsaW5nICk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIOiOt+WPluS5puexjeS/oeaBrwogICAgICAgIGZ1bmN0aW9uIGdldEJvb2tJbmZvIChpc2JuKSB7CiAgICAgICAgICAgIGlmICggIWlzYm4gKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCAoIHsKICAgICAgICAgICAgICAgIG1ldGhvZCAgOiAiZ2V0IiwKICAgICAgICAgICAgICAgIHVybCAgICAgOiAiaHR0cHM6Ly9hcGkuZG91YmFuLmNvbS92Mi9ib29rL2lzYm4vIiArIGlzYm4sCiAgICAgICAgICAgICAgICBvbmxvYWQgIDogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIHZhciBib29rSW5mbyA9IEpTT04ucGFyc2UgKCByZXN1bHQucmVzcG9uc2VUZXh0ICk7CiAgICAgICAgICAgICAgICAgICAgZ2V0Qm9va1ByaWNlICggYm9va0luZm8gKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmVycm9yIDogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIGxvZyAoICItRXJyb3I66I635Y+W5Lmm57GN5L+h5oGv5aSx6LSlIiApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ICk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRCb29rUHJpY2UgKGJvb2tJbmZvKSB7CiAgICAgICAgICAgIHZhciBkb3ViYW5JRCA9IGJvb2tJbmZvLmlkIHx8IG51bGw7CiAgICAgICAgICAgIHZhciBkb3ViYW5MaW5rID0gImh0dHA6Ly9ib29rLmRvdWJhbi5jb20vc3ViamVjdC8iICsgZG91YmFuSUQgKyAiL2J1eWxpbmtzIjsKICAgICAgICAgICAgdmFyIHByaWNlTGlzdCA9IFtdOwogICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCAoIHsKICAgICAgICAgICAgICAgIG1ldGhvZCAgOiAiZ2V0IiwKICAgICAgICAgICAgICAgIHVybCAgICAgOiBkb3ViYW5MaW5rLAogICAgICAgICAgICAgICAgb25sb2FkICA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAoICJkaXYiICk7CiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBkb2N1bWVudC5ldmFsdWF0ZSAoICcvL3RhYmxlW0BpZD0iYnV5bGluay10YWJsZSJdL3Rib2R5L3RyJywgY29udGFpbmVyLCBudWxsLCBYUGF0aFJlc3VsdC5VTk9SREVSRURfTk9ERV9TTkFQU0hPVF9UWVBFLCBudWxsICk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlQ2hlY2tlciA9IC9bMC05XSsoXC5bMC05XSspPy87CiAgICAgICAgICAgICAgICAgICAgdmFyIGN1clNpdGVQcmljZSA9IC0xOwogICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMSwgbGVuID0gbGlzdC5zbmFwc2hvdExlbmd0aCA7IGkgPCBsZW4gOyBpKysgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gbGlzdC5zbmFwc2hvdEl0ZW0gKCBpICk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaW5rX2luZm8gPSBwYXJ0LnF1ZXJ5U2VsZWN0b3JBbGwgKCAidGQucGwyIiApOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZU5hbWUgPSBsaW5rX2luZm9bMF0udGV4dENvbnRlbnQudHJpbSAoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBzaXRlc0NvbnRhaW5lci5uYW1lTGlzdC5pbmRleE9mICggc2l0ZU5hbWUgKSAhPT0gLTEgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHNpdGVOYW1lID09PSBzaXRlc0NvbnRhaW5lci5jdXJTaXRlLm5hbWUgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZVByaWNlID0gcHJpY2VDaGVja2VyLmV4ZWMgKCBsaW5rX2luZm9bMV0udGV4dENvbnRlbnQudHJpbSAoKSApWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VJbmZvID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSIgIDogc2l0ZU5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJocmVmIiAgOiBsaW5rX2luZm9bMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUgKCAiYSIgKVswXS5ocmVmLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicHJpY2UiIDogcHJpY2VDaGVja2VyLmV4ZWMgKCBsaW5rX2luZm9bMV0udGV4dENvbnRlbnQudHJpbSAoKSApWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUxpc3QucHVzaCAoIHByaWNlSW5mbyApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VMaXN0LmN1clNpdGVQcmljZSA9IGN1clNpdGVQcmljZTsgLy8g5aaC5p6c5Li6LTHvvIzliJnor7TmmI7msqHmnInojrflvpflvZPliY3nvZHpobXnmoTkuabmnKzku7fmoLwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzaXRlc0NvbnRhaW5lci5jdXJTaXRlLmNyZWF0ZURvdWJhbkJhciAoIGJvb2tJbmZvLCBwcmljZUxpc3QgKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmVycm9yIDogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIGxvZyAoICItRXJyb3I66I635Y+W5Lmm57GN5Lu35qC85aSx6LSlIiApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ICk7CgogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcnVuICgpIHsKICAgICAgICAgICAgc2l0ZXNDb250YWluZXIuYWRkU2l0ZXMgKCBbQW1hem9uLCBKRCwgRGFuZ2RhbmcsIENoaW5hcHViLCBTdW5pbmcsIFN1bmluZ1RoaXJkLCBEdW9LYW4sIFdpblh1YW4sIGl0dXJpbmddICk7CiAgICAgICAgICAgIHNpdGVzQ29udGFpbmVyLmN1clNpdGUgPSBsb2NhdGlvbi5ocmVmOwogICAgICAgICAgICBpZiAoICFzaXRlc0NvbnRhaW5lci5jdXJTaXRlICkgewogICAgICAgICAgICAgICAgbG9nICggIi1FcnJvcjog5LiN5pSv5oyB5b2T5YmN55qE6aG16Z2iIiApOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBpc2JuID0gc2l0ZXNDb250YWluZXIuY3VyU2l0ZS5nZXRJU0JOICgpOwogICAgICAgICAgICBpZiAoICFpc2JuICkgewogICAgICAgICAgICAgICAgbG9nICggIi1FcnJvcjog5peg5rOV6I635Y+WSVNCTiIgKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxvZyAoICItU3VjY2Vzczog5oiQ5Yqf6I635Y+WSVNCTiIgKTsKCiAgICAgICAgICAgICAgICAvL+W8guatpeiwg+eUqOeahEFqYXggLOaJgOS7peS5i+WQjumcgOimgeiwg+eUqOeahOWHveaVsOmDveWwgeijheWIsGFqYXjlvZPkuK0KICAgICAgICAgICAgICAgIGdldEJvb2tJbmZvICggaXNibiApOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvL+S7o+eggeaJp+ihjOWMugogICAgICAgIHJ1biAoKTsKICAgIH0pICgpOwp9Cg=="},{"name":"WeiPhoneDownloadHelper","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://bbs.feng.com/read-htm-tid-*.html","http://bbs.feng.com/thread-htm-fid-*.html","http://bbs.feng.com/forum.php*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512625},"enabled":false,"position":35,"file_url":"https://greasyfork.org/scripts/668-weiphonedownloadhelper/code/WeiPhoneDownloadHelper.user.js","uuid":"6500bb1c-d6e2-4251-bac2-285dba190964","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIFdlaVBob25lRG93bmxvYWRIZWxwZXIKLy8gQG5hbWVzcGFjZSAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS95d3poYWlxaQovLyBAYXV0aG9yICAgICAgICAgeXd6aGFpcWkKLy8gQHZlcnNpb24gICAgICAgIDEuMy4yCi8vIEBkZXNjcmlwdGlvbiAgICDmibnph4/kuIvovb3lqIHplIvorrrlnZvnmoTnlLXlrZDkuaYKLy8gQGhvbWVwYWdlVVJMICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy82NjgvCgovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL2Jicy5mZW5nLmNvbS9yZWFkLWh0bS10aWQtKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vYmJzLmZlbmcuY29tL3RocmVhZC1odG0tZmlkLSouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovL2Jicy5mZW5nLmNvbS9mb3J1bS5waHAqCi8vIEBydW4tYXQgICAgICAgICBkb2N1bWVudC1lbmQKLy8gQGdyYW50ICAgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09Cgp2YXIgJCA9IGpRdWVyeTsKCnZhciBSRVMgPSBnZXRNU3RyKGZ1bmN0aW9uKCl7Cgl2YXIgaHRtbDsKCS8qCgk8ZGl2PgoJCTxidXR0b24gaWQ9ImRvd25sb2FkQnV0dG9uIj7mibnph4/kuIvovb08L2J1dHRvbj4KCQk8ZGl2IGlkPSJiYXRjaFB1Ymxpc2giIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CgkJCTxkaXYgaWQ9ImJhdGNoSGVhZGVyIj4KCQkJCTxhIGlkPSJjbG9zZUJ1dHRvbiIgY2xhc3M9ImF1aV9jbG9zZSIgaHJlZj0iamF2YXNjcmlwdDo7Ij7DlzwvYT4KCQkJPC9kaXY+CgkJCTxkaXYgaWQ9ImJhdGNoQ29udGVudCI+CgkJCQk8cHJlIGlkPSJiYXRjaGVkbGluayI+PC9wcmU+CgkJCTwvZGl2PgoJCTwvZGl2PgoJCTxkaXYgaWQ9ImJhdGNoTm90aWNlIiBzdHlsZT0iZGlzcGxheTpub25lIj4KCQk8L2Rpdj4KCTwvZGl2PgoJICovCgl2YXIgY3NzVGV4dDsKCS8qCgkJI2Rvd25sb2FkQnV0dG9uIHsKCQkJcG9zaXRpb246Zml4ZWQ7CgkJCXRvcDo4MHB4OwoJCQlyaWdodDo4cHg7CgkJCXotaW5kZXg6IDEwMDsKCQl9CgkJI2JhdGNoUHVibGlzaCB7CgkJCXBvc2l0aW9uOmZpeGVkOwoJCQl6LWluZGV4OjEwMDE7CgkJCXRvcDo0MCU7CgkJCWxlZnQ6MzUlOwoJCQl3aWR0aDogNTMwcHg7CgkJCWJhY2tncm91bmQ6d2hpdGU7CgkJCWJvcmRlcjogM3B4IHNvbGlkICNBQUE7CgkJfQoJCSNiYXRjaGVkbGluayB7CgkJCWhlaWdodDogMjUwcHg7CgkJCW92ZXJmbG93OiBzY3JvbGw7CgkJfQoJCSNiYXRjaE5vdGljZSB7CgkJCXBvc2l0aW9uOmZpeGVkOwoJCQl6LWluZGV4OjEwMDE7CgkJCXRvcDoxMCU7CgkJCWxlZnQ6MzUlOwoJCQliYWNrZ3JvdW5kOiAjRjlFREJFOwoJCQlib3gtc2hhZG93OiAxcHggMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuNSk7CgkJCWJvcmRlcjogMXB4IHNvbGlkICNGQkRBOTE7CgkJCXBhZGRpbmc6IDVweDsKCQl9CgkJI2JhdGNoTm90aWNlID4gYiB7CgkJCW1hcmdpbi1sZWZ0OiA1cHg7CgkJfQoJICovCn0pOwoKCnZhciBsb2NhdGlvbkhyZWYgPSBsb2NhdGlvbi5ocmVmOwoKbG9jYXRpb25IcmVmLm1hdGNoKC90aHJlYWQtaHRtLWZpZHxtb2Q9Zm9ydW1kaXNwbGF5LykgJiYgKGZ1bmN0aW9uKCl7CgoJJCgnI2Jic190b3BfbmV3cywgI2ZvcnVtX3J1bGVzXzIyNCcpLmhpZGUoKTsKCgl2YXIgaGlkZVRleHQgPSBbCgkJIue9keaYk+OAiui/t+S9oOilv+a4uOOAi+aJi+a4uOWFrOa1iyIsCgkJIjNE57qv5q2j5Lit5Zu96aOO44CK5rC05rWS6Iux6ZuE44CLIiwKCQki44CQ6L2v5Lu244CR5oSf5oGp54i25q+N77yM5YWN6LS55LiL6L2977ya44CQ5b+r6YCf6Zeu5Yy755Sf44CRIiwKCQki44CQ6L2v5Lu244CR6ZqP5pe26ZqP5ZywIOenu+WKqOinhumike+8gemFtzbop4bpopHova/ku7bku4vnu40iLAoJCSLlqIHplIvmiYvmuLjmjqfvvJrnjqnjgIrpvpnnurnkuInlm73jgIsiLAoJCSLjgIrmlL7lvIDpgqPkuInlm73jgIvlqIHplIvniYjngavniIbkuIrnur8iLAoJCSLjgIrlpKnlpKnniLHokIzku5njgIsiLAoJCSLngonnn7PkvKDor7QiLAoJCSLlkIzmraXmjqgiLAoJCSLoi7nmnpzmiYvmuLgiLAoJCSLoi7nmnpzliqnmiYsiLAoJCSLlhZTlhZTliqnmiYsiLAoJCSLlkIzmraXmjqgiLAoJCSLotaJpUGFkIG1pbmkiLAoJCSLlvpdpUGhvbmUiLAoJCSJpUGFkIG1pbmky5aSn5aWWIiwKICAgICAgICAi5Yig5qGj5bCB5rWL54Gr54iG5byA5ZCvIgoJXTsKCgkvLyDpmpDol4/nva7pobblub/lkYrnmoTooYwKCSQoJ3Rib2R5W2lkXj0ic3RpY2t0aHJlYWRfIl0nKS5lYWNoKGZ1bmN0aW9uKHJvdyl7CiAgICAgICAgaWYgKCQodGhpcykuZmluZCgnc3BhbltpZF49InJ1c2h0aW1lcl8iXScpLmxlbmd0aCkgewogICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCgkJdmFyIHRleHQgPSAkKHRoaXMpLnRleHQoKTsKCQlmb3IgKHZhciBpID0gMCwgbCA9IGhpZGVUZXh0Lmxlbmd0aDsgaSA8IGw7IGkrKykgewoJCQlpZiAodGV4dC5pbmRleE9mKGhpZGVUZXh0W2ldKSAhPSAtMSkgewoJCQkJJCh0aGlzKS5oaWRlKCk7CgkJCQlyZXR1cm47CgkJCX0KCQl9Cgl9KTsKfSkoKQoKbG9jYXRpb25IcmVmLm1hdGNoKC9yZWFkLWh0bS10aWR8bW9kPXZpZXd0aHJlYWQvKSAmJiAoZnVuY3Rpb24oKXsKCgl2YXIgcHJlVXJsID0gbG9jYXRpb24ub3JpZ2luLAoJCWF0dGFjaFNlbGVjdG9yID0gJy5hdHRubSA+IGEsIHNwYW5baWRePSJhdHRhY2hfIl0gPiBhJywKCQkkYXR0YWNocyA9ICQoYXR0YWNoU2VsZWN0b3IpOwoKCWlmICgkYXR0YWNocy5zaXplKCkgPT0gMCkgewoJCXJldHVybjsKCX0KCgkkKCc8c3R5bGU+JykuaHRtbChSRVMuY3NzVGV4dCkuYXBwZW5kVG8oJ2hlYWQnKTsKCgkkKFJFUy5odG1sKS5hcHBlbmRUbygnYm9keScpOwoKCSQoJyNjbG9zZUJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKCl7CgkJJCgnI2JhdGNoUHVibGlzaCcpLmhpZGUoKTsKCX0pCgoJJCgnI2Rvd25sb2FkQnV0dG9uJykuYXR0cigndGl0bGUnLCAn5YWxICcgKyAkYXR0YWNocy5zaXplKCkgKyAnIOS4qumZhOS7ticpLmNsaWNrKGZ1bmN0aW9uKCl7CgkJdmFyIGxpbmtzID0gJC5tYWtlQXJyYXkoJChhdHRhY2hTZWxlY3RvcikpCgkJCSRiYXRjaE5vdGljZSA9ICQoJyNiYXRjaE5vdGljZScpOwoJCXZhciBkb3duVXJscyA9IFtdOwoKCQkkYmF0Y2hOb3RpY2UuaHRtbCgn5q2j5Zyo6I635Y+W5LitLi4uJyArICc8Yj4xLycgKyBsaW5rcy5sZW5ndGggKyAnPC9iPicpCgkJCS5zaG93KCk7CgoJCWZ1bmN0aW9uIGhhbmRsZVJlc3VsdCgpIHsKCQkJaWYgKGxpbmtzLmxlbmd0aCA+IDApIHsKCQkJCSRiYXRjaE5vdGljZS5odG1sKCfmraPlnKjojrflj5bkuK0uLi4nICsgJzxiPicgKyBkb3duVXJscy5sZW5ndGggKyAnLycgKyBsaW5rcy5sZW5ndGggKyAnPC9iPicpOwoJCQkJZ2V0RG93bmxvYWRMaW5rKCk7CgkJCX0gZWxzZSB7CgkJCQl2YXIgdXJscyA9IGRvd25VcmxzLmpvaW4oJ1xuJyk7CgkJCQkvLyBjb25zb2xlLmxvZyh1cmxzKTsKCgkJCQkkYmF0Y2hOb3RpY2UuaGlkZSgpOwoJCQkJJCgnI2JhdGNoZWRsaW5rJykuaHRtbCh1cmxzKTsKCQkJCSQoJyNiYXRjaFB1Ymxpc2gnKS5zaG93KCk7CgoJCQkJLy8g6auY5Lqu6YCJ5Lit5paH5pysCgkJCQl2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOwoJCQkJdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTsKCQkJCXJhbmdlLnNlbGVjdE5vZGVDb250ZW50cygkKCcjYmF0Y2hlZGxpbmsnKVswXSk7CgkJCQlzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7CgkJCQlzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpOwoJCQl9CgkJfQoKCQlmdW5jdGlvbiBnZXREb3dubG9hZExpbmsoKSB7CgkJCXZhciBsaW5rID0gbGlua3Muc2hpZnQoKTsKCQkJaWYgKCFsaW5rKSByZXR1cm47CgoJCQl2YXIgdXJsID0gbGluay5ocmVmOwoJCQlpZiAodXJsLmluZGV4T2YoJ2FpZD0nKSA+IDApIHsKCQkJCWRvd25VcmxzLnB1c2godXJsKTsKCQkJCWhhbmRsZVJlc3VsdCgpOwoJCQl9IGVsc2UgewoJCQkJdmFyIG0gPSBsaW5rLmdldEF0dHJpYnV0ZSgnb25jbGljaycpLm1hdGNoKC9qUXVlcnkuZ2V0XCgnKC4qPyknLC8pOwoJCQkJaWYgKG0pIHsKCQkJCQl2YXIgdXJsID0gbVsxXTsKCQkJCQkkLmdldCh1cmwsIHt9LCBmdW5jdGlvbihkYXRhKXsKCQkJCQkJdmFyIGRvd25VcmwgPSAkKCc8ZGl2PicpLmh0bWwoZGF0YSkuZmluZCgnYTpmaXJzdCcpLmF0dHIoJ2hyZWYnKTsKCQkJCQkJZG93blVybCA9IHByZVVybCArIGRvd25Vcmw7CgkJCQkJCWRvd25VcmxzLnB1c2goZG93blVybCkKCgkJCQkJCWhhbmRsZVJlc3VsdCgpOwoJCQkJCX0pOwoJCQkJfQoJCQl9CgkJfQoKCQlnZXREb3dubG9hZExpbmsoKQoJfSk7Cgp9KSgpCgoKCi8vIOS7juWHveaVsOS4reiOt+WPluWkmuihjOazqOmHiueahOWtl+espuS4sgpmdW5jdGlvbiBnZXRNU3RyKGZuKSB7CiAgICB2YXIgZm5Tb3VyY2UgPSBmbi50b1N0cmluZygpOwogICAgdmFyIHJldCA9IHt9OwogICAgZm5Tb3VyY2UgPSBmblNvdXJjZS5yZXBsYWNlKC9eW157XSsvLCAnJyk7CiAgICAvLyBjb25zb2xlLmxvZyhmblNvdXJjZSk7CiAgICB2YXIgbWF0Y2hlZDsKICAgIHZhciByZWcgPSAvdmFyXHMrKFskXHddKylbXHNcU10qP1wvXCooW1xzXFNdKz8pXCpcLy9nOwogICAgd2hpbGUgKG1hdGNoZWQgPSByZWcuZXhlYyhmblNvdXJjZSkpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhtYXRjaGVkKTsKICAgICAgICByZXRbbWF0Y2hlZFsxXV0gPSBtYXRjaGVkWzJdOwogICAgfTsKCiAgICByZXR1cm4gcmV0Owp9Cg=="},{"name":"qq群文件批量下载","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://qun.qzone.qq.com/group*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512629},"enabled":false,"position":36,"file_url":"https://greasyfork.org/scripts/10004-qq%E7%BE%A4%E6%96%87%E4%BB%B6%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD/code/qq%E7%BE%A4%E6%96%87%E4%BB%B6%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD.user.js","uuid":"9502455c-6691-4229-9225-1586da67e8e0","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBxcee+pOaWh+S7tuaJuemHj+S4i+i9vQovLyBAZGVzY3JpcHRpb24gIOaJuemHj+S4i+i9vee+pOaWh+S7tgovLyBAYXV0aG9yICAgICAgIGZhcndtYXJ0aDx3dWppeXUxMTVAZ21haWwuY29tPgovLyBAcmVxdWlyZSAgICAgICAgaHR0cDovL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktMi4xLjEubWluLmpzCi8vIEBpbmNsdWRlICAgICAgaHR0cDovL3F1bi5xem9uZS5xcS5jb20vZ3JvdXAqCi8vIEBncmFudCAgICAgICAgR01fc2V0Q2xpcGJvYXJkCi8vIEB2ZXJzaW9uICAgICAgMS4wCi8vIEBuYW1lc3BhY2UgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy91c2Vycy8xNDM4Ci8vID09L1VzZXJTY3JpcHQ9PQoKCihmdW5jdGlvbigpewoKICAgIHZhciBncm91cGlkPSAwOwogICAgdmFyIHVpbiA9IDA7CiAgICB2YXIgZ190az0wOwoKICAgIHZhciAgZG93bmxvYWRGaWxlQnlJZnJhbWUgPSBmdW5jdGlvbihhLCBkKSB7CiAgICAgICAgUVpGTC5jb29raWUuc2V0KCJGVE41SyIsIGEuY29va2llKTsKICAgICAgICB2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOwogICAgICAgIGMuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMpOwogICAgICAgIGMuY29udGVudFdpbmRvdy5sb2NhdGlvbiA9IFFaRkwudXNlckFnZW50LmllIDw9IDggJiYgLyhodG1sfHhodG1sfGh0bXxzZ21sfHNodG1sfGRodG1sfHNodG0pJC8udGVzdChkLmZpbGVuYW1lKSA/IGEudXJsICsgIi8iICsgZCArICIudHh0IiA6IGEudXJsICsgIi8iICsgZDsKICAgIH07CgogICAgdmFyIGRvd25sb2FkQWxsID0gZnVuY3Rpb24oKSB7CiAgICAgICAgZ190ayA9IFFXVC5nZXRBQ1NSRlRva2VuKCk7CiAgICAgICAgdWluPWdfaVVpbjsKICAgICAgICB2YXIgcmVzdFVybD0iaHR0cDovL3F1bi5xem9uZS5xcS5jb20vY2dpLWJpbi9ncm91cF9zaGFyZV9saXN0P3Vpbj0iK3VpbisiJmdyb3VwaWQ9Iitncm91cGlkKyImYnVzc2luZXNzaWQ9MCZjaGFyc2V0PXV0Zi04JmdfdGs9IitnX3RrKyImcj0iICsgTWF0aC5yYW5kb20oKTsKICAgICAgICAkLmdldChyZXN0VXJsLCBmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgICAgICAgICAgdmFyIGl0ZW1fbGlzdCA9IHJlc3VsdC5zdWJzdHJpbmcocmVzdWx0LmluZGV4T2YoIigiKSsxLHJlc3VsdC5sYXN0SW5kZXhPZigiKSIpKTsKICAgICAgICAgICAgICAgIHZhciBkYXRhcz1KU09OLnBhcnNlKGl0ZW1fbGlzdCk7CiAgICAgICAgICAgICAgICBpZihkYXRhcy5jb2RlPT09MCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gZGF0YXMuZGF0YS5pdGVtOyAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgaW4gaXRlbXMpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbV9maWxlX3BhdGg9aXRlbXNbaV0uZmlsZXBhdGg7IAogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZV9uYW1lID1pdGVtc1tpXS5maWxlbmFtZTsgCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtX3VybCAgPSJodHRwOi8vcXVuLnF6b25lLnFxLmNvbS9jZ2ktYmluL2dyb3VwX3NoYXJlX2dldF9kb3dudXJsP3Vpbj0iK3VpbisiJmdyb3VwaWQ9Iitncm91cGlkKyImcGE9IitpdGVtX2ZpbGVfcGF0aCsiJmNoYXJzZXQ9dXRmLTgmZ190az0iK2dfdGsrIiZyPSIgKyBNYXRoLnJhbmRvbSgpOyAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICQuZ2V0KGl0ZW1fdXJsLCAoZnVuY3Rpb24odXNlX2ZpbGVuYW1lKXsgcmV0dXJuIGZ1bmN0aW9uKGl0ZW1fcmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtX3Jlc3VsdCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1fcmVzdWx0X2pzb24gPSBpdGVtX3Jlc3VsdC5zdWJzdHJpbmcoaXRlbV9yZXN1bHQuaW5kZXhPZigiKCIpKzEsaXRlbV9yZXN1bHQubGFzdEluZGV4T2YoIikiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1fcmVzdWx0X2pzb25fb2JqPUpTT04ucGFyc2UoaXRlbV9yZXN1bHRfanNvbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1fcmVzdWx0X2pzb25fb2JqLmNvZGU9PT0wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciByZWFsX2Rvd25fdXJsID0gaXRlbV9yZXN1bHRfanNvbl9vYmouZGF0YS51cmwrIi8iK3VzZV9maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVhbF9kb3duX3VybCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUudGFibGUoaXRlbV9yZXN1bHRfanNvbl9vYmopOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0dNX3NldENsaXBib2FyZChyZWFsX2Rvd25fdXJsLCd0ZXh0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkRmlsZUJ5SWZyYW1lKGl0ZW1fcmVzdWx0X2pzb25fb2JqLmRhdGEsdXNlX2ZpbGVuYW1lKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuW+l+WIsOaWh+S7tuecn+WunuWcsOWdgOiOt+WPluaVsOaNruWHuumUmSIraXRlbV9yZXN1bHRfanNvbl9vYmouY29kZSApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoZmlsZV9uYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuW+l+WIsOaWh+S7tuWIl+ihqOWHuumUmSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9OwoKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICB2YXIgaGVyZl9pbmZvICA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgdmFyIG15UmUgPSAvaHR0cDpcL1wvcXVuLnF6b25lLnFxLmNvbVwvZ3JvdXAjXCFcLyguKilcL3NoYXJlL2c7CiAgICAgICAgdmFyIGlzX21hdGNoID0gbXlSZS5leGVjKGhlcmZfaW5mbyk7CiAgICAgICAgaWYgKGlzX21hdGNoKSB7CiAgICAgICAgICAgIGdyb3VwaWQ9UmVnRXhwLiQxOwogICAgICAgICAgICB2YXIgdXBsb2FkX3NlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdHcm91cFNoYXJlX3VwbG9hZFNlbGVjdCcpOwogICAgICAgICAgICAkKCc8YSBjbGFzcz0iYnRuIiBzdHlsZT0icGFkZGluZy1sZWZ0OjEwcHgiPjxzcGFuIGNsYXNzPSJidG4tdmFsIj7mibnph4/kuIvovb08L3NwYW4+PC9hPicpCiAgICAgICAgICAgIC5pbnNlcnRBZnRlcih1cGxvYWRfc2VsZWN0KQogICAgICAgICAgICAuY2xpY2soZG93bmxvYWRBbGwpOwogICAgICAgIH0KICAgIH0sIDMwMDApOwoKfSkoKTs="},{"name":"去除贴吧列表里面的广告","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://tieba.baidu.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1489756512642},"enabled":true,"position":37,"file_url":"https://greasyfork.org/scripts/10003-%E5%8E%BB%E9%99%A4%E8%B4%B4%E5%90%A7%E5%88%97%E8%A1%A8%E9%87%8C%E9%9D%A2%E7%9A%84%E5%B9%BF%E5%91%8A/code/%E5%8E%BB%E9%99%A4%E8%B4%B4%E5%90%A7%E5%88%97%E8%A1%A8%E9%87%8C%E9%9D%A2%E7%9A%84%E5%B9%BF%E5%91%8A.user.js","uuid":"4183722a-f757-4583-95a3-2bcb68c0da6c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgIOWOu+mZpOi0tOWQp+WIl+ihqOmHjOmdoueahOW5v+WRigovLyBAYXV0aG9yICAgICAgICAgICAgYXhldHJveQovLyBAZGVzY3JpcHRpb24gICAgICAg5Y676Zmk6LS05ZCn5o665aS55ZyoW+W4luWtkOWIl+ihqF1b5Zue5aSN5YiX6KGoXemHjOeahOW5v+WRigovLyBAdmVyc2lvbiAgICAgICAgICAgMjAxNi42LjQKLy8gQGluY2x1ZGUgICAgICAgICAgIGh0dHA6Ly90aWViYS5iYWlkdS5jb20vKgovLyBAY29ubmVjdCAgICAgICAgICAgdGFncwovLyBAY29ubmVjdCAgICAgICAgICAgKgovLyBAY29tcGF0aWJsZSAgICAgICAgY2hyb21lICDlroznvo7ov5DooYwKLy8gQGNvbXBhdGlibGUgICAgICAgIGZpcmVmb3ggIOWujOe+jui/kOihjAovLyBAc3VwcG9ydFVSTCAgICAgICAgaHR0cDovL3d3dy5idXJuaW5nYWxsLmNvbQovLyBAcnVuLWF0ICAgICAgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQGNvbnRyaWJ1dGlvblVSTCAgIHRyb3k0NTA0MDk0MDVAZ21haWwuY29tfGFsaXBheS5jb20KLy8gQG5hbWVzcGFjZSAgICAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vdXNlcnMvMzQwMC1heGV0cm95Ci8vIEBsaWNlbnNlICAgICAgICAgICBUaGUgTUlUIExpY2Vuc2UgKE1JVCk7IGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQKLy8gPT0vVXNlclNjcmlwdD09CgovKgoKIEdpdGh1Yua6kOeggTpodHRwczovL2dpdGh1Yi5jb20vYXhldHJveS9HTXNjcmlwdAoKICovCi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXAKLyoqKioqKi8gCS8vIFRoZSBtb2R1bGUgY2FjaGUKLyoqKioqKi8gCXZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307CgovKioqKioqLyAJLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb24KLyoqKioqKi8gCWZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHsKCi8qKioqKiovIAkJLy8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlCi8qKioqKiovIAkJaWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pCi8qKioqKiovIAkJCXJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzOwoKLyoqKioqKi8gCQkvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKQovKioqKioqLyAJCXZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHsKLyoqKioqKi8gCQkJZXhwb3J0czoge30sCi8qKioqKiovIAkJCWlkOiBtb2R1bGVJZCwKLyoqKioqKi8gCQkJbG9hZGVkOiBmYWxzZQovKioqKioqLyAJCX07CgovKioqKioqLyAJCS8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvbgovKioqKioqLyAJCW1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pOwoKLyoqKioqKi8gCQkvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkCi8qKioqKiovIAkJbW9kdWxlLmxvYWRlZCA9IHRydWU7CgovKioqKioqLyAJCS8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlCi8qKioqKiovIAkJcmV0dXJuIG1vZHVsZS5leHBvcnRzOwovKioqKioqLyAJfQoKCi8qKioqKiovIAkvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKQovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlczsKCi8qKioqKiovIAkvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlczsKCi8qKioqKiovIAkvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfXwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gIiI7CgovKioqKioqLyAJLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzCi8qKioqKiovIAlyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTsKLyoqKioqKi8gfSkKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyoqKioqKi8gKFsKLyogMCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgkndXNlIHN0cmljdCc7CgoJX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7CgovKioqLyB9LAovKiAxICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCSd1c2Ugc3RyaWN0JzsKCgkvLyBlczYgQXJyYXkuZnJvbQoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKCSAgdmFsdWU6IHRydWUKCX0pOwoKCXZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsKCgl2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCS8vIGVzNiBPYmplY3QuYXNzaWduCgoKCV9fd2VicGFja19yZXF1aXJlX18oMik7CgoJX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7CgoJZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgoJdmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKHgpIHsKCSAgcmV0dXJuIHg7Cgl9OwoKCXZhciBqcUxpdGUgPSBmdW5jdGlvbiAoKSB7CgkgIGZ1bmN0aW9uIGpxTGl0ZSgpIHsKCSAgICB2YXIgX3RoaXMgPSB0aGlzOwoKCSAgICB2YXIgc2VsZWN0b3JzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMF07CgkgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBkb2N1bWVudCA6IGFyZ3VtZW50c1sxXTsKCgkgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIGpxTGl0ZSk7CgoJICAgIHRoaXMuc2VsZWN0b3JzID0gc2VsZWN0b3JzOwoJICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7CgkgICAgdGhpcy5sZW5ndGggPSAwOwoKCSAgICBzd2l0Y2ggKHR5cGVvZiBzZWxlY3RvcnMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHNlbGVjdG9ycykpIHsKCSAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6CgkgICAgICAgIGJyZWFrOwoJICAgICAgY2FzZSAnc3RyaW5nJzoKCSAgICAgICAgQXJyYXkuZnJvbShjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzKSwgZnVuY3Rpb24gKGVsZSwgaSkgewoJICAgICAgICAgIF90aGlzW2ldID0gZWxlOwoJICAgICAgICAgIF90aGlzLmxlbmd0aCsrOwoJICAgICAgICB9LCB0aGlzKTsKCSAgICAgICAgYnJlYWs7CgkgICAgICBjYXNlICdvYmplY3QnOgoJICAgICAgICBpZiAoc2VsZWN0b3JzLmxlbmd0aCkgewoJICAgICAgICAgIEFycmF5LmZyb20oc2VsZWN0b3JzLCBmdW5jdGlvbiAoZWxlLCBpKSB7CgkgICAgICAgICAgICBfdGhpc1tpXSA9IGVsZTsKCSAgICAgICAgICAgIF90aGlzLmxlbmd0aCsrOwoJICAgICAgICAgIH0sIHRoaXMpOwoJICAgICAgICB9IGVsc2UgewoJICAgICAgICAgIHRoaXNbMF0gPSBzZWxlY3RvcnM7CgkgICAgICAgICAgdGhpcy5sZW5ndGggPSAxOwoJICAgICAgICB9CgkgICAgICAgIGJyZWFrOwoJICAgICAgY2FzZSAnZnVuY3Rpb24nOgoJICAgICAgICB0aGlzLnJlYWR5KHNlbGVjdG9ycyk7CgkgICAgICAgIGJyZWFrOwoJICAgICAgZGVmYXVsdDoKCgkgICAgfQoJICB9CgoJICBfY3JlYXRlQ2xhc3MoanFMaXRlLCBbewoJICAgIGtleTogJ2VxJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gZXEoKSB7CgkgICAgICB2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMF07CgoJICAgICAgcmV0dXJuIG5ldyBqcUxpdGUodGhpc1tuXSk7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnZmluZCcsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmQoc2VsZWN0b3JzKSB7CgkgICAgICByZXR1cm4gbmV3IGpxTGl0ZShzZWxlY3RvcnMsIHRoaXNbMF0pOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ2VhY2gnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBlYWNoKCkgewoJICAgICAgdmFyIGZuID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gbm9vcCA6IGFyZ3VtZW50c1swXTsKCgkgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgZm4uY2FsbCh0aGlzLCB0aGlzW2ldLCBpKTsKCSAgICAgIH0KCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ2JpbmQnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kKCkgewoJICAgICAgdmFyIHR5cGVzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMF07CgkgICAgICB2YXIgZm4gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBub29wIDogYXJndW1lbnRzWzFdOwoKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIHR5cGVzLnRyaW0oKS5zcGxpdCgvXHN7MSx9LykuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgewoJICAgICAgICAgIGVsZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmN0aW9uIChlKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50OwoJICAgICAgICAgICAgaWYgKGZuLmNhbGwodGFyZ2V0LCBlKSA9PT0gZmFsc2UpIHsKCSAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IHRydWU7CgkgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTsKCSAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCAmJiBlLnByZXZlbnREZWZhdWx0KCk7CgkgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uICYmIGUuc3RvcFByb3BhZ2F0aW9uKCk7CgkgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICB9LCBmYWxzZSk7CgkgICAgICAgIH0pOwoJICAgICAgfSk7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnY2xpY2snLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBjbGljaygpIHsKCSAgICAgIHZhciBmbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IG5vb3AgOiBhcmd1bWVudHNbMF07CgoJICAgICAgdGhpcy5iaW5kKCdjbGljaycsIGZuKTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ3JlYWR5JywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZHkoKSB7CgkgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCgkgICAgICB2YXIgZm4gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBub29wIDogYXJndW1lbnRzWzBdOwoKCSAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKGUpIHsKCSAgICAgICAgZm4uY2FsbChfdGhpczIsIGUpOwoJICAgICAgfSwgZmFsc2UpOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ29ic2VydmUnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBvYnNlcnZlKCkgewoJICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgoJICAgICAgdmFyIGZuID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gbm9vcCA6IGFyZ3VtZW50c1swXTsKCSAgICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9IDogYXJndW1lbnRzWzFdOwoKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93Lk1vek11dGF0aW9uT2JzZXJ2ZXI7CgkgICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKCSAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHsKCSAgICAgICAgICAgIGZuLmNhbGwoX3RoaXMzLCBtdXRhdGlvbi50YXJnZXQsIG11dGF0aW9uLmFkZGVkTm9kZXMsIG11dGF0aW9uLnJlbW92ZWROb2Rlcyk7CgkgICAgICAgICAgfSk7CgkgICAgICAgIH0pOwoJICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZSwgY29uZmlnKTsKCSAgICAgIH0pOwoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnYXR0cicsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIChfYXR0cikgewoJICAgICAgZnVuY3Rpb24gYXR0cihfeCwgX3gyKSB7CgkgICAgICAgIHJldHVybiBfYXR0ci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwoJICAgICAgfQoKCSAgICAgIGF0dHIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBfYXR0ci50b1N0cmluZygpOwoJICAgICAgfTsKCgkgICAgICByZXR1cm4gYXR0cjsKCSAgICB9KGZ1bmN0aW9uIChhdHRyLCB2YWx1ZSkgewoJICAgICAgLy8gb25lIGFnbQoJICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHsKCSAgICAgICAgLy8gZ2V0IGF0dHIgdmFsdWUKCSAgICAgICAgaWYgKHR5cGVvZiBhdHRyID09PSAnc3RyaW5nJykgewoJICAgICAgICAgIHJldHVybiB0aGlzWzBdLmdldEF0dHJpYnV0ZShhdHRyKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBzZXQgYXR0ciB3aXRoIGEganNvbgoJICAgICAgICBlbHNlIGlmICgodHlwZW9mIGF0dHIgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGF0dHIpKSA9PT0gJ29iamVjdCcpIHsKCSAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgICAgICAgIGZvciAodmFyIGF0IGluIGF0dHIpIHsKCSAgICAgICAgICAgICAgICBpZiAoYXR0ci5oYXNPd25Qcm9wZXJ0eShhdCkpIHsKCSAgICAgICAgICAgICAgICAgIGVsZS5zZXRBdHRyaWJ1dGUoYXQsIHZhbHVlKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwoJICAgICAgICAgIH0KCSAgICAgIH0KCSAgICAgIC8vIHNldAoJICAgICAgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgewoJICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgICAgICBlbGUuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTsKCSAgICAgICAgICB9KTsKCSAgICAgICAgICByZXR1cm4gdGhpczsKCSAgICAgICAgfSBlbHNlIHsKCSAgICAgICAgICByZXR1cm4gdGhpczsKCSAgICAgICAgfQoJICAgIH0pCgkgIH0sIHsKCSAgICBrZXk6ICdyZW1vdmVBdHRyJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQXR0cihhdHRyKSB7CgkgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgewoJICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGVsZSkgewoJICAgICAgICAgIGVsZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7CgkgICAgICAgIH0pOwoJICAgICAgfQoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAncmVtb3ZlJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLnJlbW92ZSgpOwoJICAgICAgfSk7CgkgICAgICB0aGlzLmxlbmd0aCA9IDA7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgoJICAgIC8vIGdldCB0aGUgZWxlbWVudCBzdHlsZQoKCSAgfSwgewoJICAgIGtleTogJ3N0eWxlJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gc3R5bGUoYXR0cikgewoJICAgICAgcmV0dXJuIHRoaXNbMF0uY3VycmVudFN0eWxlID8gdGhpc1swXS5jdXJyZW50U3R5bGVbYXR0cl0gOiBnZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0pW2F0dHJdOwoJICAgIH0KCgkgICAgLy8gKGF0dHIsdmFsdWUpIHx8ICdzdHJpbmcnIHx8IHt9CgoJICB9LCB7CgkgICAga2V5OiAnY3NzJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gY3NzKCkgewoJICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFnbSA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewoJICAgICAgICBhZ21bX2tleV0gPSBhcmd1bWVudHNbX2tleV07CgkgICAgICB9CgoJICAgICAgaWYgKGFnbS5sZW5ndGggPT09IDEpIHsKCSAgICAgICAgLy8gZ2V0IHN0eWxlCgkgICAgICAgIGlmICh0eXBlb2YgYWdtWzBdID09PSAnc3RyaW5nJykgewoJICAgICAgICAgIC8vIHNldCBzdHlsZSBhcyBhIGxvbmcgdGV4dAoJICAgICAgICAgIGlmICgvOi9pZy50ZXN0KGFnbVswXSkpIHsKCSAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgICAgICAgIGVsZS5zdHlsZS5jc3NUZXh0ID0gYXR0cjsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgIH0gZWxzZSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpc1swXS5jdXJyZW50U3R5bGUgPyB0aGlzWzBdLmN1cnJlbnRTdHlsZVthZ21bMF1dIDogZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzWzBdKVthZ21bMF1dOwoJICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBzZXQgc3R5bGUgYXMgYSBvYmplY3QKCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGVsZSkgewoJICAgICAgICAgICAgICBmb3IgKHZhciBfYXR0cjIgaW4gYWdtWzBdKSB7CgkgICAgICAgICAgICAgICAgaWYgKGFnbVswXS5oYXNPd25Qcm9wZXJ0eShfYXR0cjIpKSB7CgkgICAgICAgICAgICAgICAgICBlbGUuc3R5bGVbX2F0dHIyXSA9IGFnbVswXVtfYXR0cjJdOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgfQoJICAgICAgfQoJICAgICAgLy8gc2V0IGFzIChrZXksdmFsdWUpCgkgICAgICBlbHNlIGlmIChhZ20ubGVuZ3RoID09PSAyKSB7CgkgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgICAgIGVsZS5zdHlsZVthZ21bMF1dID0gYWdtWzFdOwoJICAgICAgICAgIH0pOwoJICAgICAgICB9CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICd3aWR0aCcsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIHdpZHRoKHZhbHVlKSB7CgkgICAgICB2YXIgZWxlbWVudCA9IHRoaXNbMF07CgkgICAgICAvLyB3aW5kb3cgb3IgZG9jdW1lbnQKCSAgICAgIGlmIChlbGVtZW50LndpbmRvdyA9PT0gZWxlbWVudCB8fCBlbGVtZW50LmJvZHkpIHsKCSAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGggPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGggPyBkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoOwoJICAgICAgfQoJICAgICAgLy8gc2V0IHdpZHRoCgkgICAgICBlbHNlIGlmICh2YWx1ZSkgewoJICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgICAgICBlbGUuc3R5bGUud2lkdGggPSB2YWx1ZSArICdweCc7CgkgICAgICAgICAgfSk7CgkgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZ2V0IHdpZHRoCgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0V2lkdGggfHwgcGFyc2VGbG9hdCh0aGlzLnN0eWxlKCd3aWR0aCcpKTsKCSAgICAgICAgICB9CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAnaGVpZ2h0JywKCSAgICB2YWx1ZTogZnVuY3Rpb24gaGVpZ2h0KHZhbHVlKSB7CgkgICAgICB2YXIgZWxlID0gdGhpc1swXTsKCSAgICAgIC8vIHdpbmRvdyBvciBkb2N1bWVudAoJICAgICAgaWYgKGVsZS53aW5kb3cgPT09IGVsZSB8fCBlbGUuYm9keSkgewoJICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0ID8gZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0OwoJICAgICAgfQoJICAgICAgLy8gc2V0IGhlaWdodAoJICAgICAgZWxzZSBpZiAodmFsdWUpIHsKCSAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGVsZSkgewoJICAgICAgICAgICAgZWxlLnN0eWxlLmhlaWdodCA9IHZhbHVlICsgJ3B4JzsKCSAgICAgICAgICB9KTsKCSAgICAgICAgICByZXR1cm4gdGhpczsKCSAgICAgICAgfQoJICAgICAgICAvLyBnZXQgaGVpZ2h0CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0SGVpZ2h0IHx8IHBhcnNlRmxvYXQodGhpcy5zdHlsZSgnaGVpZ2h0JykpOwoJICAgICAgICAgIH0KCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdodG1sJywKCSAgICB2YWx1ZTogZnVuY3Rpb24gaHRtbCh2YWx1ZSkgewoJICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgICBlbGUuaW5uZXJIVE1MID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUoZWxlKSA6IHZhbHVlOwoJICAgICAgICB9KTsKCSAgICAgIH0gZWxzZSB7CgkgICAgICAgIHJldHVybiB0aGlzWzBdLmlubmVySFRNTDsKCSAgICAgIH0KCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ3RleHQnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXh0KHZhbHVlKSB7CgkgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXNbMF0uaW5uZXJUZXh0IHx8IHRoaXNbMF0udGV4dENvbnRlbnQ7CgoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLmlubmVyVGV4dCA9IGVsZS50ZXh0Q29udGVudCA9IHZhbHVlOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICd2YWwnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiB2YWwodmFsdWUpIHsKCSAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpc1swXS52YWx1ZTsKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIGVsZS52YWx1ZSA9IHZhbHVlOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdzaG93JywKCSAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHsKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIGVsZS5zdHlsZS5kaXNwbGF5ID0gJyc7CgkgICAgICB9KTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ2hpZGUnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKCkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgkgICAgICB9KTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCgkgICAgLy8gY29udGVudCBzdHIgfHwganFMaXRlIE9iamVjdCB8fCBET00KCSAgICAvLyBoZXJlIGlzIGpxTGl0ZSBPYmplY3QKCgkgIH0sIHsKCSAgICBrZXk6ICdhcHBlbmQnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmQoY29udGVudCkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLmFwcGVuZENoaWxkKGNvbnRlbnRbMF0pOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdwcmVwZW5kJywKCgoJICAgIC8vIGNvbnRlbnQgc3RyIHx8IGpxTGl0ZSBPYmplY3QgfHwgRE9NCgkgICAgLy8gaGVyZSBpcyBqcUxpdGUgT2JqZWN0CgkgICAgdmFsdWU6IGZ1bmN0aW9uIHByZXBlbmQoY29udGVudCkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLmluc2VydEJlZm9yZShjb250ZW50WzBdLCBlbGUuY2hpbGRyZW5bMF0pOwoJICAgICAgfSk7CgkgICAgICByZXR1cm4gdGhpczsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdoYXNDbGFzcycsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0NsYXNzKGNsYXNzTmFtZSkgewoJICAgICAgaWYgKCF0aGlzWzBdKSByZXR1cm4gZmFsc2U7CgkgICAgICByZXR1cm4gdGhpc1swXS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTsKCSAgICB9CgkgIH0sIHsKCSAgICBrZXk6ICdhZGRDbGFzcycsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENsYXNzKGNsYXNzTmFtZSkgewoJICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChlbGUpIHsKCSAgICAgICAgZWxlLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTsKCSAgICAgIH0pOwoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAncmVtb3ZlQ2xhc3MnLAoJICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVDbGFzcyhjbGFzc05hbWUpIHsKCSAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoZWxlKSB7CgkgICAgICAgIGVsZS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7CgkgICAgICB9KTsKCSAgICAgIHJldHVybiB0aGlzOwoJICAgIH0KCSAgfSwgewoJICAgIGtleTogJ2luZGV4JywKCSAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKCSAgICAgIHZhciBpbmRleCA9IDA7CgkgICAgICB2YXIgYnJvdGhlcnMgPSB0aGlzWzBdLnBhcmVudE5vZGUuY2hpbGRyZW47CgkgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJyb3RoZXJzLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgIGlmIChicm90aGVyc1tpXSA9PSB0aGlzWzBdKSB7CgkgICAgICAgICAgaW5kZXggPSBpOwoJICAgICAgICAgIGJyZWFrOwoJICAgICAgICB9CgkgICAgICB9CgkgICAgICByZXR1cm4gaW5kZXg7CgkgICAgfQoJICB9XSwgW3sKCSAgICBrZXk6ICdmbicsCgkgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CgkgICAgICB2YXIgdmlzaWJsZSA9IGZ1bmN0aW9uIHZpc2libGUoZWxlKSB7CgkgICAgICAgIHZhciBwb3MgPSBlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgkgICAgICAgIHZhciB3ID0gdm9pZCAwOwoJICAgICAgICB2YXIgaCA9IHZvaWQgMDsKCSAgICAgICAgdmFyIGluVmlld1BvcnQgPSB2b2lkIDA7CgkgICAgICAgIHZhciBkb2NFbGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CgkgICAgICAgIHZhciBkb2NCb2R5ID0gZG9jdW1lbnQuYm9keTsKCSAgICAgICAgaWYgKGRvY0VsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHsKCSAgICAgICAgICB3ID0gZG9jRWxlLmNsaWVudFdpZHRoIHx8IGRvY0JvZHkuY2xpZW50V2lkdGg7CgkgICAgICAgICAgaCA9IGRvY0VsZS5jbGllbnRIZWlnaHQgfHwgZG9jQm9keS5jbGllbnRIZWlnaHQ7CgkgICAgICAgICAgaW5WaWV3UG9ydCA9IHBvcy50b3AgPiBoIHx8IHBvcy5ib3R0b20gPCAwIHx8IHBvcy5sZWZ0ID4gdyB8fCBwb3MucmlnaHQgPCAwOwoJICAgICAgICAgIHJldHVybiBpblZpZXdQb3J0ID8gZmFsc2UgOiB0cnVlOwoJICAgICAgICB9CgkgICAgICB9OwoJICAgICAgdmFyIG1lcmdlID0gZnVuY3Rpb24gbWVyZ2UoKSB7CgkgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgc291cmNlcyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7CgkgICAgICAgICAgc291cmNlc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdOwoJICAgICAgICB9CgoJICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbi5hcHBseShPYmplY3QsIFt7fV0uY29uY2F0KHNvdXJjZXMpKTsKCSAgICAgIH07CgkgICAgICByZXR1cm4gewoJICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLAoJICAgICAgICBtZXJnZTogbWVyZ2UKCSAgICAgIH07CgkgICAgfQoJICB9XSk7CgoJICByZXR1cm4ganFMaXRlOwoJfSgpOwoKCXZhciAkID0gZnVuY3Rpb24gJCgpIHsKCSAgdmFyIHNlbGVjdG9ycyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICcnIDogYXJndW1lbnRzWzBdOwoJICB2YXIgY29udGV4dCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGRvY3VtZW50IDogYXJndW1lbnRzWzFdOwoKCSAgcmV0dXJuIG5ldyBqcUxpdGUoc2VsZWN0b3JzLCBjb250ZXh0KTsKCX07CgkkLmZuID0ganFMaXRlLmZuOwoKCWV4cG9ydHMuZGVmYXVsdCA9ICQ7CgovKioqLyB9LAovKiAyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCSd1c2Ugc3RyaWN0JzsKCXZhciBjdHggICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMykKCSAgLCAkZXhwb3J0ICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNSkKCSAgLCB0b09iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpCgkgICwgY2FsbCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KQoJICAsIGlzQXJyYXlJdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCkKCSAgLCB0b0xlbmd0aCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpCgkgICwgZ2V0SXRlckZuICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTsKCSRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIV9fd2VicGFja19yZXF1aXJlX18oMjkpKGZ1bmN0aW9uKGl0ZXIpeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5JywgewoJICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpCgkgIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlLyosIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKi8pewoJICAgIHZhciBPICAgICAgID0gdG9PYmplY3QoYXJyYXlMaWtlKQoJICAgICAgLCBDICAgICAgID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheQoJICAgICAgLCAkJCAgICAgID0gYXJndW1lbnRzCgkgICAgICAsICQkbGVuICAgPSAkJC5sZW5ndGgKCSAgICAgICwgbWFwZm4gICA9ICQkbGVuID4gMSA/ICQkWzFdIDogdW5kZWZpbmVkCgkgICAgICAsIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkCgkgICAgICAsIGluZGV4ICAgPSAwCgkgICAgICAsIGl0ZXJGbiAgPSBnZXRJdGVyRm4oTykKCSAgICAgICwgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yOwoJICAgIGlmKG1hcHBpbmcpbWFwZm4gPSBjdHgobWFwZm4sICQkbGVuID4gMiA/ICQkWzJdIDogdW5kZWZpbmVkLCAyKTsKCSAgICAvLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2UKCSAgICBpZihpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcihpdGVyRm4pKSl7CgkgICAgICBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEM7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKyl7CgkgICAgICAgIHJlc3VsdFtpbmRleF0gPSBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZTsKCSAgICAgIH0KCSAgICB9IGVsc2UgewoJICAgICAgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpOwoJICAgICAgZm9yKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXsKCSAgICAgICAgcmVzdWx0W2luZGV4XSA9IG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF07CgkgICAgICB9CgkgICAgfQoJICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDsKCSAgICByZXR1cm4gcmVzdWx0OwoJICB9Cgl9KTsKCgovKioqLyB9LAovKiAzICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZwoJdmFyIGFGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7Cgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpewoJICBhRnVuY3Rpb24oZm4pOwoJICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuOwoJICBzd2l0Y2gobGVuZ3RoKXsKCSAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXsKCSAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpOwoJICAgIH07CgkgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7CgkgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTsKCSAgICB9OwoJICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpewoJICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7CgkgICAgfTsKCSAgfQoJICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7CgkgICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7CgkgIH07Cgl9OwoKLyoqKi8gfSwKLyogNCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXsKCSAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTsKCSAgcmV0dXJuIGl0OwoJfTsKCi8qKiovIH0sCi8qIDUgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJdmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNikKCSAgLCBjb3JlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpCgkgICwgaGlkZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KQoJICAsIHJlZGVmaW5lICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpCgkgICwgY3R4ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKQoJICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnOwoKCXZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXsKCSAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkYKCSAgICAsIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0LkcKCSAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlMKCSAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlAKCSAgICAsIElTX0JJTkQgICA9IHR5cGUgJiAkZXhwb3J0LkIKCSAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSB8fCAoZ2xvYmFsW25hbWVdID0ge30pIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXQoJICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSkKCSAgICAsIGV4cFByb3RvICA9IGV4cG9ydHNbUFJPVE9UWVBFXSB8fCAoZXhwb3J0c1tQUk9UT1RZUEVdID0ge30pCgkgICAgLCBrZXksIG93biwgb3V0LCBleHA7CgkgIGlmKElTX0dMT0JBTClzb3VyY2UgPSBuYW1lOwoJICBmb3Ioa2V5IGluIHNvdXJjZSl7CgkgICAgLy8gY29udGFpbnMgaW4gbmF0aXZlCgkgICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYga2V5IGluIHRhcmdldDsKCSAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZAoJICAgIG91dCA9IChvd24gPyB0YXJnZXQgOiBzb3VyY2UpW2tleV07CgkgICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHQKCSAgICBleHAgPSBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDsKCSAgICAvLyBleHRlbmQgZ2xvYmFsCgkgICAgaWYodGFyZ2V0ICYmICFvd24pcmVkZWZpbmUodGFyZ2V0LCBrZXksIG91dCk7CgkgICAgLy8gZXhwb3J0CgkgICAgaWYoZXhwb3J0c1trZXldICE9IG91dCloaWRlKGV4cG9ydHMsIGtleSwgZXhwKTsKCSAgICBpZihJU19QUk9UTyAmJiBleHBQcm90b1trZXldICE9IG91dClleHBQcm90b1trZXldID0gb3V0OwoJICB9Cgl9OwoJZ2xvYmFsLmNvcmUgPSBjb3JlOwoJLy8gdHlwZSBiaXRtYXAKCSRleHBvcnQuRiA9IDE7ICAvLyBmb3JjZWQKCSRleHBvcnQuRyA9IDI7ICAvLyBnbG9iYWwKCSRleHBvcnQuUyA9IDQ7ICAvLyBzdGF0aWMKCSRleHBvcnQuUCA9IDg7ICAvLyBwcm90bwoJJGV4cG9ydC5CID0gMTY7IC8vIGJpbmQKCSRleHBvcnQuVyA9IDMyOyAvLyB3cmFwCgltb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7CgovKioqLyB9LAovKiA2ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCS8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4Cgl2YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGgKCSAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpOwoJaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYKCi8qKiovIH0sCi8qIDcgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJdmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMS4yLjYnfTsKCWlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZgoKLyoqKi8gfSwKLyogOCAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgl2YXIgJCAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSkKCSAgLCBjcmVhdGVEZXNjID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7Cgltb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXsKCSAgcmV0dXJuICQuc2V0RGVzYyhvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpOwoJfSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7CgkgIG9iamVjdFtrZXldID0gdmFsdWU7CgkgIHJldHVybiBvYmplY3Q7Cgl9OwoKLyoqKi8gfSwKLyogOSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgl2YXIgJE9iamVjdCA9IE9iamVjdDsKCW1vZHVsZS5leHBvcnRzID0gewoJICBjcmVhdGU6ICAgICAkT2JqZWN0LmNyZWF0ZSwKCSAgZ2V0UHJvdG86ICAgJE9iamVjdC5nZXRQcm90b3R5cGVPZiwKCSAgaXNFbnVtOiAgICAge30ucHJvcGVydHlJc0VudW1lcmFibGUsCgkgIGdldERlc2M6ICAgICRPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLAoJICBzZXREZXNjOiAgICAkT2JqZWN0LmRlZmluZVByb3BlcnR5LAoJICBzZXREZXNjczogICAkT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsCgkgIGdldEtleXM6ICAgICRPYmplY3Qua2V5cywKCSAgZ2V0TmFtZXM6ICAgJE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLAoJICBnZXRTeW1ib2xzOiAkT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scywKCSAgZWFjaDogICAgICAgW10uZm9yRWFjaAoJfTsKCi8qKiovIH0sCi8qIDEwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7CgkgIHJldHVybiB7CgkgICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLAoJICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSwKCSAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksCgkgICAgdmFsdWUgICAgICAgOiB2YWx1ZQoJICB9OwoJfTsKCi8qKiovIH0sCi8qIDExICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHkKCW1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oMTIpKGZ1bmN0aW9uKCl7CgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7Cgl9KTsKCi8qKiovIH0sCi8qIDEyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7CgkgIHRyeSB7CgkgICAgcmV0dXJuICEhZXhlYygpOwoJICB9IGNhdGNoKGUpewoJICAgIHJldHVybiB0cnVlOwoJICB9Cgl9OwoKLyoqKi8gfSwKLyogMTMgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJLy8gYWRkIGZha2UgRnVuY3Rpb24jdG9TdHJpbmcKCS8vIGZvciBjb3JyZWN0IHdvcmsgd3JhcHBlZCBtZXRob2RzIC8gY29uc3RydWN0b3JzIHdpdGggbWV0aG9kcyBsaWtlIExvRGFzaCBpc05hdGl2ZQoJdmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNikKCSAgLCBoaWRlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpCgkgICwgU1JDICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCkoJ3NyYycpCgkgICwgVE9fU1RSSU5HID0gJ3RvU3RyaW5nJwoJICAsICR0b1N0cmluZyA9IEZ1bmN0aW9uW1RPX1NUUklOR10KCSAgLCBUUEwgICAgICAgPSAoJycgKyAkdG9TdHJpbmcpLnNwbGl0KFRPX1NUUklORyk7CgoJX193ZWJwYWNrX3JlcXVpcmVfXyg3KS5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24oaXQpewoJICByZXR1cm4gJHRvU3RyaW5nLmNhbGwoaXQpOwoJfTsKCgkobW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihPLCBrZXksIHZhbCwgc2FmZSl7CgkgIGlmKHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJyl7CgkgICAgdmFsLmhhc093blByb3BlcnR5KFNSQykgfHwgaGlkZSh2YWwsIFNSQywgT1trZXldID8gJycgKyBPW2tleV0gOiBUUEwuam9pbihTdHJpbmcoa2V5KSkpOwoJICAgIHZhbC5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpIHx8IGhpZGUodmFsLCAnbmFtZScsIGtleSk7CgkgIH0KCSAgaWYoTyA9PT0gZ2xvYmFsKXsKCSAgICBPW2tleV0gPSB2YWw7CgkgIH0gZWxzZSB7CgkgICAgaWYoIXNhZmUpZGVsZXRlIE9ba2V5XTsKCSAgICBoaWRlKE8sIGtleSwgdmFsKTsKCSAgfQoJfSkoRnVuY3Rpb24ucHJvdG90eXBlLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7CgkgIHJldHVybiB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nICYmIHRoaXNbU1JDXSB8fCAkdG9TdHJpbmcuY2FsbCh0aGlzKTsKCX0pOwoKLyoqKi8gfSwKLyogMTQgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJdmFyIGlkID0gMAoJICAsIHB4ID0gTWF0aC5yYW5kb20oKTsKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXsKCSAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTsKCX07CgovKioqLyB9LAovKiAxNSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgkvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpCgl2YXIgZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpOwoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7CgkgIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpOwoJfTsKCi8qKiovIH0sCi8qIDE2ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCS8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpCgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXsKCSAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIgKyBpdCk7CgkgIHJldHVybiBpdDsKCX07CgovKioqLyB9LAovKiAxNyAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgkvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yCgl2YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTsKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7CgkgIHRyeSB7CgkgICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTsKCSAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbikKCSAgfSBjYXRjaChlKXsKCSAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddOwoJICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7CgkgICAgdGhyb3cgZTsKCSAgfQoJfTsKCi8qKiovIH0sCi8qIDE4ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCXZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpOwoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7CgkgIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpOwoJICByZXR1cm4gaXQ7Cgl9OwoKLyoqKi8gfSwKLyogMTkgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7CgkgIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7Cgl9OwoKLyoqKi8gfSwKLyogMjAgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvcgoJdmFyIEl0ZXJhdG9ycyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKQoJICAsIElURVJBVE9SICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgnaXRlcmF0b3InKQoJICAsIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7CgoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7CgkgIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7Cgl9OwoKLyoqKi8gfSwKLyogMjEgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJbW9kdWxlLmV4cG9ydHMgPSB7fTsKCi8qKiovIH0sCi8qIDIyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCXZhciBzdG9yZSAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKSgnd2tzJykKCSAgLCB1aWQgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KQoJICAsIFN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNikuU3ltYm9sOwoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXsKCSAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9CgkgICAgU3ltYm9sICYmIFN5bWJvbFtuYW1lXSB8fCAoU3ltYm9sIHx8IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpOwoJfTsKCi8qKiovIH0sCi8qIDIzICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCXZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpCgkgICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXycKCSAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7Cgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7CgkgIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pOwoJfTsKCi8qKiovIH0sCi8qIDI0ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIDcuMS4xNSBUb0xlbmd0aAoJdmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpCgkgICwgbWluICAgICAgID0gTWF0aC5taW47Cgltb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXsKCSAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTEKCX07CgovKioqLyB9LAovKiAyNSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCgkvLyA3LjEuNCBUb0ludGVnZXIKCXZhciBjZWlsICA9IE1hdGguY2VpbAoJICAsIGZsb29yID0gTWF0aC5mbG9vcjsKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpewoJICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTsKCX07CgovKioqLyB9LAovKiAyNiAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgl2YXIgY2xhc3NvZiAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNykKCSAgLCBJVEVSQVRPUiAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgnaXRlcmF0b3InKQoJICAsIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpOwoJbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpewoJICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXQoJICAgIHx8IGl0WydAQGl0ZXJhdG9yJ10KCSAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldOwoJfTsKCi8qKiovIH0sCi8qIDI3ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpCgl2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCkKCSAgLCBUQUcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgndG9TdHJpbmdUYWcnKQoJICAvLyBFUzMgd3JvbmcgaGVyZQoJICAsIEFSRyA9IGNvZihmdW5jdGlvbigpeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnOwoKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpewoJICB2YXIgTywgVCwgQjsKCSAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnCgkgICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlCgkgICAgOiB0eXBlb2YgKFQgPSAoTyA9IE9iamVjdChpdCkpW1RBR10pID09ICdzdHJpbmcnID8gVAoJICAgIC8vIGJ1aWx0aW5UYWcgY2FzZQoJICAgIDogQVJHID8gY29mKE8pCgkgICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFjawoJICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCOwoJfTsKCi8qKiovIH0sCi8qIDI4ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCXZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nOwoKCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpewoJICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpOwoJfTsKCi8qKiovIH0sCi8qIDI5ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCXZhciBJVEVSQVRPUiAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgnaXRlcmF0b3InKQoJICAsIFNBRkVfQ0xPU0lORyA9IGZhbHNlOwoKCXRyeSB7CgkgIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTsKCSAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24oKXsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTsKCSAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7Cgl9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9CgoJbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjLCBza2lwQ2xvc2luZyl7CgkgIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTsKCSAgdmFyIHNhZmUgPSBmYWxzZTsKCSAgdHJ5IHsKCSAgICB2YXIgYXJyICA9IFs3XQoJICAgICAgLCBpdGVyID0gYXJyW0lURVJBVE9SXSgpOwoJICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHNhZmUgPSB0cnVlOyB9OwoJICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTsKCSAgICBleGVjKGFycik7CgkgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH0KCSAgcmV0dXJuIHNhZmU7Cgl9OwoKLyoqKi8gfSwKLyogMzAgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSkKCXZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTsKCgkkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHthc3NpZ246IF9fd2VicGFja19yZXF1aXJlX18oMzEpfSk7CgovKioqLyB9LAovKiAzMSAqLwovKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCgkvLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pCgl2YXIgJCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpCgkgICwgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KQoJICAsIElPYmplY3QgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7CgoJLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpCgltb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpKGZ1bmN0aW9uKCl7CgkgIHZhciBhID0gT2JqZWN0LmFzc2lnbgoJICAgICwgQSA9IHt9CgkgICAgLCBCID0ge30KCSAgICAsIFMgPSBTeW1ib2woKQoJICAgICwgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7CgkgIEFbU10gPSA3OwoJICBLLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uKGspeyBCW2tdID0gazsgfSk7CgkgIHJldHVybiBhKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKGEoe30sIEIpKS5qb2luKCcnKSAhPSBLOwoJfSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCgkgIHZhciBUICAgICA9IHRvT2JqZWN0KHRhcmdldCkKCSAgICAsICQkICAgID0gYXJndW1lbnRzCgkgICAgLCAkJGxlbiA9ICQkLmxlbmd0aAoJICAgICwgaW5kZXggPSAxCgkgICAgLCBnZXRLZXlzICAgID0gJC5nZXRLZXlzCgkgICAgLCBnZXRTeW1ib2xzID0gJC5nZXRTeW1ib2xzCgkgICAgLCBpc0VudW0gICAgID0gJC5pc0VudW07CgkgIHdoaWxlKCQkbGVuID4gaW5kZXgpewoJICAgIHZhciBTICAgICAgPSBJT2JqZWN0KCQkW2luZGV4KytdKQoJICAgICAgLCBrZXlzICAgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpCgkgICAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoCgkgICAgICAsIGogICAgICA9IDAKCSAgICAgICwga2V5OwoJICAgIHdoaWxlKGxlbmd0aCA+IGopaWYoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSlUW2tleV0gPSBTW2tleV07CgkgIH0KCSAgcmV0dXJuIFQ7Cgl9IDogT2JqZWN0LmFzc2lnbjsKCi8qKiovIH0sCi8qIDMyICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKCS8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzCgl2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7Cgltb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpewoJICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7Cgl9OwoKLyoqKi8gfSwKLyogMzMgKi8sCi8qIDM0ICovLAovKiAzNSAqLywKLyogMzYgKi8sCi8qIDM3ICovLAovKiAzOCAqLywKLyogMzkgKi8sCi8qIDQwICovLAovKiA0MSAqLywKLyogNDIgKi8sCi8qIDQzICovLAovKiA0NCAqLywKLyogNDUgKi8sCi8qIDQ2ICovLAovKiA0NyAqLywKLyogNDggKi8sCi8qIDQ5ICovLAovKiA1MCAqLywKLyogNTEgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJInVzZSBzdHJpY3QiOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKCSAgdmFsdWU6IHRydWUKCX0pOwoJLyoKCSAqIOmikeeOh+aOp+WItiDov5Tlm57lh73mlbDov57nu63osIPnlKjml7bvvIxmbiDmiafooYzpopHnjofpmZDlrprkuLrmr4/lpJrlsJHml7bpl7TmiafooYzkuIDmrKEKCSAqIEBwYXJhbSBmbiB7ZnVuY3Rpb259ICDpnIDopoHosIPnlKjnmoTlh73mlbAKCSAqIEBwYXJhbSBkZWxheSAge251bWJlcn0gICAg5bu26L+f5pe26Ze077yM5Y2V5L2N5q+r56eSCgkgKiBAcGFyYW0gaW1tZWRpYXRlICB7Ym9vbH0g57uZIGltbWVkaWF0ZeWPguaVsOS8oOmAkmZhbHNlIOe7keWumueahOWHveaVsOWFiOaJp+ihjO+8jOiAjOS4jeaYr2RlbGF55ZCO5ZCO5omn6KGM44CCCgkgKiBAcmV0dXJuIHtmdW5jdGlvbn3lrp7pmYXosIPnlKjlh73mlbAKCSAqLwoJdmFyICR0aHJvdHRsZSA9IGZ1bmN0aW9uICR0aHJvdHRsZShmbiwgZGVsYXksIGltbWVkaWF0ZSwgZGVib3VuY2UpIHsKCSAgdmFyIGN1cnIgPSArbmV3IERhdGUoKSwKCSAgICAgIC8v5b2T5YmN5LqL5Lu2CgkgIGxhc3RfY2FsbCA9IDAsCgkgICAgICBsYXN0X2V4ZWMgPSAwLAoJICAgICAgdGltZXIgPSBudWxsLAoJICAgICAgZGlmZiwKCSAgICAgIC8v5pe26Ze05beuCgkgIGNvbnRleHQsCgkgICAgICAvL+S4iuS4i+aWhwoJICBhcmdzLAoJICAgICAgZXhlYyA9IGZ1bmN0aW9uIGV4ZWMoKSB7CgkgICAgbGFzdF9leGVjID0gY3VycjsKCSAgICBmbi5hcHBseShjb250ZXh0LCBhcmdzKTsKCSAgfTsKCSAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKCSAgICBjdXJyID0gK25ldyBEYXRlKCk7CgkgICAgY29udGV4dCA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHMsIGRpZmYgPSBjdXJyIC0gKGRlYm91bmNlID8gbGFzdF9jYWxsIDogbGFzdF9leGVjKSAtIGRlbGF5OwoJICAgIGNsZWFyVGltZW91dCh0aW1lcik7CgkgICAgaWYgKGRlYm91bmNlKSB7CgkgICAgICBpZiAoaW1tZWRpYXRlKSB7CgkgICAgICAgIHRpbWVyID0gc2V0VGltZW91dChleGVjLCBkZWxheSk7CgkgICAgICB9IGVsc2UgaWYgKGRpZmYgPj0gMCkgewoJICAgICAgICBleGVjKCk7CgkgICAgICB9CgkgICAgfSBlbHNlIHsKCSAgICAgIGlmIChkaWZmID49IDApIHsKCSAgICAgICAgZXhlYygpOwoJICAgICAgfSBlbHNlIGlmIChpbW1lZGlhdGUpIHsKCSAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGV4ZWMsIC1kaWZmKTsKCSAgICAgIH0KCSAgICB9CgkgICAgbGFzdF9jYWxsID0gY3VycjsKCSAgfTsKCX07CgoJLyoKCSAqIOepuumXsuaOp+WItiDov5Tlm57lh73mlbDov57nu63osIPnlKjml7bvvIznqbrpl7Lml7bpl7Tlv4XpobvlpKfkuo7miJbnrYnkuo4gZGVsYXnvvIxmbiDmiY3kvJrmiafooYwKCSAqIEBwYXJhbSBmbiB7ZnVuY3Rpb259ICDopoHosIPnlKjnmoTlh73mlbAKCSAqIEBwYXJhbSBkZWxheSAgIHtudW1iZXJ9ICAgIOepuumXsuaXtumXtAoJICogQHBhcmFtIGltbWVkaWF0ZSAge2Jvb2x9IOe7mSBpbW1lZGlhdGXlj4LmlbDkvKDpgJJmYWxzZSDnu5HlrprnmoTlh73mlbDlhYjmiafooYzvvIzogIzkuI3mmK9kZWxheeWQjuWQjuaJp+ihjOOAggoJICogQHJldHVybiB7ZnVuY3Rpb2595a6e6ZmF6LCD55So5Ye95pWwCgkgKi8KCgl2YXIgJGRlYm91bmNlID0gZnVuY3Rpb24gJGRlYm91bmNlKGZuLCBkZWxheSwgaW1tZWRpYXRlKSB7CgkgIHJldHVybiAkdGhyb3R0bGUoZm4sIGRlbGF5LCBpbW1lZGlhdGUsIHRydWUpOwoJfTsKCglleHBvcnRzLiRkZWJvdW5jZSA9ICRkZWJvdW5jZTsKCWV4cG9ydHMuJHRocm90dGxlID0gJHRocm90dGxlOwoKLyoqKi8gfSwKLyogNTIgKi8sCi8qIDUzICovLAovKiA1NCAqLywKLyogNTUgKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7CgoJInVzZSBzdHJpY3QiOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKCSAgdmFsdWU6IHRydWUKCX0pOwoJdmFyICRpbnRlcnZhbCA9IGZ1bmN0aW9uICRpbnRlcnZhbChmbiwgZGVsYXkpIHsKCSAgdmFyIGludGVydmFsID0gZnVuY3Rpb24gaW50ZXJ2YWwoKSB7CgkgICAgZm4uY2FsbCh1bmRlZmluZWQpOwoJICAgIGlkID0gc2V0VGltZW91dChpbnRlcnZhbCwgZGVsYXkpOwoJICB9OwoKCSAgdmFyIGlkID0gc2V0VGltZW91dChpbnRlcnZhbCwgZGVsYXkpOwoKCSAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKCSAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTsKCSAgfTsKCX07CgoJJGludGVydmFsLmNhbmNlbCA9IGZ1bmN0aW9uICh0aW1lckZ1bmMpIHsKCSAgdGltZXJGdW5jKCk7Cgl9OwoKCWV4cG9ydHMuZGVmYXVsdCA9ICRpbnRlcnZhbDsKCi8qKiovIH0sCi8qIDU2ICovLAovKiA1NyAqLywKLyogNTggKi8KLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoJJ3VzZSBzdHJpY3QnOwoKCXZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKCXZhciBfanFMaXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCgl2YXIgX2pxTGl0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qcUxpdGUpOwoKCXZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7CgoJdmFyIF9jb25maWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlnKTsKCgl2YXIgXyRpbnRlcnZhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpOwoKCXZhciBfJGludGVydmFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoXyRpbnRlcnZhbCk7CgoJdmFyIF8kZGVib3VuY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTsKCglmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKCWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKCXZhciBtYWluID0gZnVuY3Rpb24gKCkgewoJICBmdW5jdGlvbiBtYWluKCkgewoJICAgIHZhciBhZ20gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAnJyA6IGFyZ3VtZW50c1swXTsKCgkgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIG1haW4pOwoKCSAgICBpZiAoIWFnbSkgcmV0dXJuIHRoaXM7CgoJICAgIHRoaXMuYWRzID0gKDAsIF9qcUxpdGUyLmRlZmF1bHQpKGFnbSk7CgkgIH0KCgkgIF9jcmVhdGVDbGFzcyhtYWluLCBbewoJICAgIGtleTogJ2ZpbHRlcicsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlcigpIHsKCSAgICAgIHRoaXMuYWRzLmVhY2goZnVuY3Rpb24gKGVsZSkgewoJICAgICAgICBpZiAoZWxlLiQkZmlsdGVyZWQpIHJldHVybjsKCSAgICAgICAgZWxlLnN0eWxlLmNzc1RleHQgPSBfY29uZmlnMi5kZWZhdWx0LmRlYnVnID8gJ1xuICAgICAgICAgIGJvcmRlcjoycHggc29saWQgcmVkO1xuICAgICAgICAnIDogJ1xuICAgICAgICAgIGRpc3BsYXk6bm9uZSAhaW1wb3J0YW50O1xuICAgICAgICAgIHZpc2liaWxpdHk6aGlkZGVuICFpbXBvcnRhbnQ7XG4gICAgICAgICAgd2lkdGg6MCAhaW1wb3J0YW50O1xuICAgICAgICAgIGhlaWdodDowICFpbXBvcnRhbnQ7XG4gICAgICAgICAgb3ZlcmZsb3c6aGlkZGVuICFpbXBvcnRhbnQ7XG4gICAgICAgICc7CgkgICAgICAgIGVsZS4kJGZpbHRlcmVkID0gdHJ1ZTsKCSAgICAgIH0pOwoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfQoJICB9LCB7CgkgICAga2V5OiAna2V5d29yZCcsCgkgICAgdmFsdWU6IGZ1bmN0aW9uIGtleXdvcmQoKSB7CgkgICAgICAoMCwgX2pxTGl0ZTIuZGVmYXVsdCkoX2NvbmZpZzIuZGVmYXVsdC5rZXlSdWxlcykuZWFjaChmdW5jdGlvbiAoYUVsZSkgewoJICAgICAgICBpZiAoYUVsZS4kJGZpbHRlcmVkKSByZXR1cm47CgkgICAgICAgIGFFbGUucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXN3YXB3b3JkJyk7CgkgICAgICAgIGFFbGUucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpOwoJICAgICAgICBhRWxlLnJlbW92ZUF0dHJpYnV0ZSgnaHJlZicpOwoJICAgICAgICBhRWxlLnN0eWxlLmNzc1RleHQgPSBfY29uZmlnMi5kZWZhdWx0LmRlYnVnID8gJ1xuICAgICAgICAgIGNvbG9yOiNmZmYgIWltcG9ydGFudDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOnJlZCAhaW1wb3J0YW50O1xuICAgICAgICAnIDogJ1xuICAgICAgICAgIGNvbG9yOmluaGVyaXQgIWltcG9ydGFudDtcbiAgICAgICAgJzsKCSAgICAgICAgYUVsZS4kJGZpbHRlcmVkID0gdHJ1ZTsKCSAgICAgIH0pOwoJICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfQoJICB9XSk7CgoJICByZXR1cm4gbWFpbjsKCX0oKTsKCgl2YXIgbG9vcCA9ICgwLCBfJGludGVydmFsMi5kZWZhdWx0KShmdW5jdGlvbiAoKSB7CgkgIG5ldyBtYWluKF9jb25maWcyLmRlZmF1bHQuYWRSdWxlcykuZmlsdGVyKCkua2V5d29yZCgpOwoJfSwgNTApOwoKCWNvbnNvbGUuaW5mbygn6LS05ZCn5Y675bm/5ZGK5ZCv5YqoLi4uJyk7CgoJKDAsIF9qcUxpdGUyLmRlZmF1bHQpKGRvY3VtZW50KS5iaW5kKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkgewoKCSAgXyRpbnRlcnZhbDIuZGVmYXVsdC5jYW5jZWwobG9vcCk7CgoJICAvLyBpbml0CgkgIG5ldyBtYWluKF9jb25maWcyLmRlZmF1bHQuYWRSdWxlcykuZmlsdGVyKCkua2V5d29yZCgpOwoKCSAgKDAsIF9qcUxpdGUyLmRlZmF1bHQpKGRvY3VtZW50KS5vYnNlcnZlKCgwLCBfJGRlYm91bmNlLiRkZWJvdW5jZSkoZnVuY3Rpb24gKHRhcmdldCwgYWRkTGlzdCwgcmVtb3ZlTGlzdCkgewoJICAgIGlmICghYWRkTGlzdCB8fCAhYWRkTGlzdC5sZW5ndGgpIHJldHVybjsKCSAgICBuZXcgbWFpbihfY29uZmlnMi5kZWZhdWx0LmFkUnVsZXMpLmZpbHRlcigpLmtleXdvcmQoKTsKCSAgfSwgMjAwKSk7CgoJICAoMCwgX2pxTGl0ZTIuZGVmYXVsdCkod2luZG93KS5iaW5kKCdzY3JvbGwnLCAoMCwgXyRkZWJvdW5jZS4kZGVib3VuY2UpKGZ1bmN0aW9uICgpIHsKCSAgICBuZXcgbWFpbihfY29uZmlnMi5kZWZhdWx0LmFkUnVsZXMpLmZpbHRlcigpLmtleXdvcmQoKTsKCSAgfSwgMjAwKSk7Cgl9KTsKCi8qKiovIH0sCi8qIDU5ICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCSd1c2Ugc3RyaWN0JzsKCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CgkgIHZhbHVlOiB0cnVlCgl9KTsKCXZhciBDT05GSUcgPSB7CgkgIC8vIOaYr+WQpuaYr+iwg+ivleaooeW8jwoJICBkZWJ1ZzogZmFsc2UsCgkgIGFkUnVsZXM6ICdcbiAgICAgIHVsI3RocmVhZF9saXN0ICpbZGF0YS1kYWlkXSxcbiAgICAgIHVsI3RocmVhZF9saXN0PmxpOm5vdChbZGF0YS1maWVsZF0pOm5vdCgudGhyZWFkX3RvcF9saXN0X2ZvbGRlcilcbiAgICAgICxcbiAgICAgICNqX3BfcG9zdGxpc3QgKltkYXRhLWRhaWRdLFxuICAgICAgI2pfcF9wb3N0bGlzdCAqW2RhdGEtaXNhdXRvcmVwbHldXG4gICAgICAsXG4gICAgICAjdGhyZWFkX2xpc3Q+bGlcbiAgICAgIDpub3QoW2NsYXNzKj0ibGlzdCJdKVxuICAgICAgOm5vdChbZGF0YS1maWVsZF0pXG4gICAgICAsXG4gICAgICAucF9wb3N0bGlzdD5kaXZcbiAgICAgIDpub3QoLnBfcG9zdGxpc3QpXG4gICAgICA6bm90KFtjbGFzcyo9InBvc3QiXSlcbiAgICAgIDpub3QoW2RhdGEtZmllbGRdKVxuICAgICAgLFxuICAgICAgI2FzaWRlICpbZGF0YS1kYWlkXSxcbiAgICAgICNhc2lkZT5kaXZbY2xhc3MqPSJjbGVhcmZpeCJdLFxuICAgICAgI2FzaWRlIERJVltpZCQ9ImFkIl0sXG4gICAgICAjYXNpZGUgI2VuY291cmFnZV9lbnRyeSxcbiAgICAgIC5teV9hcHAsLmpfZW5jb3VyYWdlX2VudHJ577yMXG4gICAgICAucmlnaHRfc2VjdGlvbj5kaXYudTlfYXNpZGUsXG4gICAgICAucmlnaHRfc2VjdGlvbj5kaXYuY2xlYXJmaXgsXG4gICAgICAucmlnaHRfc2VjdGlvbiAqW2RhdGEtZGFpZF1cbiAgICAgICxcbiAgICAgICNwYl9hZGJhbm5lciwjcGJfYWRiYW5uZXIgKltkYXRhLWRhaWRdXG4gICAgICAsXG4gICAgICAjY29tX3U5X2hlYWQsXG4gICAgICAudTlfaGVhZCxcbiAgICAgIGRpdi5zZWFyY2hfZm9ybT5kaXZbY2xhc3MqPSJjbGVhcmZpeCJdXG4gICAgICAsXG4gICAgICAuZmlyZXdvcmstd3JhcFxuICAgICcudHJpbSgpLnJlcGxhY2UoL1xuL2ltZywgJycpLnJlcGxhY2UoL1xzezEsfShbXmEtelwqXSkvaWcsICckMScpLAoJICBrZXlSdWxlczogJ1xuICAgICAgI2pfcF9wb3N0bGlzdCBhW2RhdGEtc3dhcHdvcmRdOm5vdChbZmlsdGVkXSksXG4gICAgICAjal9wX3Bvc3RsaXN0IGEucHNfY2I6bm90KFtmaWx0ZWRdKVxuICAgICcudHJpbSgpLnJlcGxhY2UoL1xuL2ltZywgJycpLnJlcGxhY2UoL1xzezEsfShbXmEtelwqXSkvaWcsICckMScpCgl9OwoKCWV4cG9ydHMuZGVmYXVsdCA9IENPTkZJRzsKCi8qKiovIH0KLyoqKioqKi8gXSk7"},{"name":"百度网盘直接下载助手","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://pan.baidu.com/disk/home*","*://yun.baidu.com/disk/home*","*://pan.baidu.com/s/*","*://yun.baidu.com/s/*","*://pan.baidu.com/share/link*","*://yun.baidu.com/share/link*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"ts":1489814321440,"data":{}},"enabled":true,"position":38,"file_url":"https://greasyfork.org/scripts/23635-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B/code/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B.user.js","uuid":"ebab2cc7-f132-45de-974a-d5ba97338dde","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnmb7luqbnvZHnm5jnm7TmjqXkuIvovb3liqnmiYsKLy8gQG5hbWVzcGFjZSAgICB1bmRlZmluZWQKLy8gQHZlcnNpb24gICAgICAwLjkuMjAKLy8gQGRlc2NyaXB0aW9uICDnm7TmjqXkuIvovb3nmb7luqbnvZHnm5jlkoznmb7luqbnvZHnm5jliIbkuqvnmoTmlofku7Ys6YG/5YWN5LiL6L295paH5Lu25pe26LCD55So55m+5bqm572R55uY5a6i5oi356uvLOiOt+WPlue9keebmOaWh+S7tueahOebtOaOpeS4i+i9veWcsOWdgAovLyBAYXV0aG9yICAgICAgIGl2ZXNqYXkKLy8gQG1hdGNoICAgICAgICAqOi8vcGFuLmJhaWR1LmNvbS9kaXNrL2hvbWUqCi8vIEBtYXRjaCAgICAgICAgKjovL3l1bi5iYWlkdS5jb20vZGlzay9ob21lKgovLyBAbWF0Y2ggICAgICAgICo6Ly9wYW4uYmFpZHUuY29tL3MvKgovLyBAbWF0Y2ggICAgICAgICo6Ly95dW4uYmFpZHUuY29tL3MvKgovLyBAbWF0Y2ggICAgICAgICo6Ly9wYW4uYmFpZHUuY29tL3NoYXJlL2xpbmsqCi8vIEBtYXRjaCAgICAgICAgKjovL3l1bi5iYWlkdS5jb20vc2hhcmUvbGluayoKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktbGF0ZXN0LmpzCi8vIEBydW4tYXQgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQGdyYW50ICAgICAgICB1bnNhZmVXaW5kb3cKLy8gQGdyYW50ICAgICAgICBHTV9zZXRDbGlwYm9hcmQKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgdmFyICQgPSAkIHx8IHdpbmRvdy4kOwogICAgdmFyIGxvZ19jb3VudCA9IDE7CgogICAgZnVuY3Rpb24gc2xvZyhjMSxjMixjMyl7CiAgICAgICAgYzEgPSBjMT9jMTonJzsKICAgICAgICBjMiA9IGMyP2MyOicnOwogICAgICAgIGMzID0gYzM/YzM6Jyc7CiAgICAgICAgY29uc29sZS5sb2coJyMnKyBsb2dfY291bnQrKyArJy1CYWlEdU5ldGRpc2tIZWxwZXItbG9nOicsYzEsYzIsYzMpOwoKICAgIH0KCiAgICAkKGZ1bmN0aW9uKCl7CiAgICAgICAgc3dpdGNoKGRldGVjdFBhZ2UoKSl7CiAgICAgICAgICAgIGNhc2UgJ2Rpc2snOgogICAgICAgICAgICAgICAgdmFyIHBhbkhlbHBlciA9IG5ldyBQYW5IZWxwZXIoKTsKICAgICAgICAgICAgICAgIHBhbkhlbHBlci5pbml0KCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGNhc2UgJ3NoYXJlJzoKICAgICAgICAgICAgY2FzZSAncyc6CiAgICAgICAgICAgICAgICB2YXIgcGFuU2hhcmVIZWxwZXIgPSBuZXcgUGFuU2hhcmVIZWxwZXIoKTsKICAgICAgICAgICAgICAgIHBhblNoYXJlSGVscGVyLmluaXQoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9KTsKCiAgICAvL+e9keebmOmhtemdoueahOS4i+i9veWKqeaJiwogICAgZnVuY3Rpb24gUGFuSGVscGVyKCl7CiAgICAgICAgdmFyIHl1bkRhdGEsc2lnbix0aW1lc3RhbXAsYmRzdG9rZW4sbG9naWQsZmlkX2xpc3Q7CiAgICAgICAgdmFyIGZpbGVMaXN0PVtdLHNlbGVjdEZpbGVMaXN0PVtdLGJhdGNoTGlua0xpc3Q9W10sYmF0Y2hMaW5rTGlzdEFsbD1bXSxsaW5rTGlzdD1bXSwKICAgICAgICAgICAgbGlzdF9ncmlkX3N0YXR1cz0nbGlzdCc7CiAgICAgICAgdmFyIG9ic2VydmVyLGN1cnJlbnRQYWdlLGN1cnJlbnRQYXRoLGN1cnJlbnRDYXRlZ29yeSxkaWFsb2csc2VhcmNoS2V5OwogICAgICAgIHZhciBwYW5BUElVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyBsb2NhdGlvbi5ob3N0ICsgIi9hcGkvIjsKICAgICAgICB2YXIgcmVzdEFQSVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vcGNzLmJhaWR1LmNvbS9yZXN0LzIuMC9wY3MvIjsKICAgICAgICB2YXIgY2xpZW50QVBJVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy9kLnBjcy5iYWlkdS5jb20vcmVzdC8yLjAvcGNzLyI7CgogICAgICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHl1bkRhdGEgPSB1bnNhZmVXaW5kb3cueXVuRGF0YTsKICAgICAgICAgICAgc2xvZygneXVuRGF0YTonLHl1bkRhdGEpOwogICAgICAgICAgICBpZih5dW5EYXRhID09PSB1bmRlZmluZWQpewogICAgICAgICAgICAgICAgc2xvZygn6aG16Z2i5pyq5q2j5bi45Yqg6L2977yM5oiW6ICF55m+5bqm5bey57uP5pu05paw77yBJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW5pdFBhcmFtcygpOwogICAgICAgICAgICByZWdpc3RlckV2ZW50TGlzdGVuZXIoKTsKICAgICAgICAgICAgY3JlYXRlT2JzZXJ2ZXIoKTsKICAgICAgICAgICAgYWRkQnV0dG9uKCk7CiAgICAgICAgICAgIGNyZWF0ZUlmcmFtZSgpOwogICAgICAgICAgICBkaWFsb2cgPSBuZXcgRGlhbG9nKHthZGRDb3B5OnRydWV9KTsKCiAgICAgICAgICAgIHNsb2coJ+e9keebmOebtOaOpeS4i+i9veWKqeaJi+WKoOi9veaIkOWKn++8gScpOwogICAgICAgIH07CgogICAgICAgIGZ1bmN0aW9uIGluaXRQYXJhbXMoKXsKICAgICAgICAgICAgc2lnbiA9IGdldFNpZ24oKTsKICAgICAgICAgICAgdGltZXN0YW1wID0gZ2V0VGltZXN0YW1wKCk7CiAgICAgICAgICAgIGJkc3Rva2VuID0gZ2V0QkRTdG9rZW4oKTsKICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICBjdXJyZW50UGFnZSA9IGdldEN1cnJlbnRQYWdlKCk7CiAgICAgICAgICAgIHNsb2coJ0N1cnJlbnQgZGlzcGxheSBtb2RlOicsY3VycmVudFBhZ2UpOwoKICAgICAgICAgICAgaWYoY3VycmVudFBhZ2UgPT0gJ2xpc3QnKQogICAgICAgICAgICAgICAgY3VycmVudFBhdGggPSBnZXRQYXRoKCk7CgogICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSAnY2F0ZWdvcnknKQogICAgICAgICAgICAgICAgY3VycmVudENhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoKTsKCiAgICAgICAgICAgIGlmKGN1cnJlbnRQYWdlID09ICdzZWFyY2gnKQogICAgICAgICAgICAgICAgc2VhcmNoS2V5ID0gZ2V0U2VhcmNoS2V5KCk7CgogICAgICAgICAgICByZWZyZXNoTGlzdEdyaWRTdGF0dXMoKTsKICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZWZyZXNoRmlsZUxpc3QoKXsKICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlID09ICdsaXN0JykgewogICAgICAgICAgICAgICAgZmlsZUxpc3QgPSBnZXRGaWxlTGlzdCgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlID09ICdjYXRlZ29yeScpewogICAgICAgICAgICAgICAgZmlsZUxpc3QgPSBnZXRDYXRlZ29yeUZpbGVMaXN0KCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBhZ2UgPT0gJ3NlYXJjaCcpIHsKICAgICAgICAgICAgICAgIGZpbGVMaXN0ID0gZ2V0U2VhcmNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaFNlbGVjdExpc3QoKXsKICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hMaXN0R3JpZFN0YXR1cygpewogICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gZ2V0TGlzdEdyaWRTdGF0dXMoKTsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5b2T5YmN55qE6KeG5Zu+5qih5byPCiAgICAgICAgZnVuY3Rpb24gZ2V0TGlzdEdyaWRTdGF0dXMoKXsKICAgICAgICAgICAgcmV0dXJuICQoJ2Rpdi5saXN0LWdyaWQtc3dpdGNoJykuaGFzQ2xhc3MoJ2xpc3Qtc3dpdGNoZWQtb24nKT8nbGlzdCc6KCQoJ2Rpdi5saXN0LWdyaWQtc3dpdGNoJykuaGFzQ2xhc3MoJ2dyaWQtc3dpdGNoZWQtb24nKT8nZ3JpZCc6J2xpc3QnKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpewogICAgICAgICAgICByZWdpc3Rlckhhc2hDaGFuZ2UoKTsKICAgICAgICAgICAgcmVnaXN0ZXJMaXN0R3JpZFN0YXR1cygpOwogICAgICAgICAgICByZWdpc3RlckNoZWNrYm94KCk7CiAgICAgICAgICAgIHJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgICAgICAgcmVnaXN0ZXJGaWxlU2VsZWN0KCk7CiAgICAgICAgfQoKICAgICAgICAvL+ebkeinhuWcsOWdgOagjyPmoIfnrb7nmoTlj5jljJYKICAgICAgICBmdW5jdGlvbiByZWdpc3Rlckhhc2hDaGFuZ2UoKXsKICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgcmVmcmVzaExpc3RHcmlkU3RhdHVzKCk7CiAgICAgICAgICAgICAgICBpZihnZXRDdXJyZW50UGFnZSgpID09ICdsaXN0JykgewogICAgICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRQYWdlID09IGdldEN1cnJlbnRQYWdlKCkpewogICAgICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50UGF0aCA9PSBnZXRQYXRoKCkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhdGggPSBnZXRQYXRoKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IGdldEN1cnJlbnRQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoID0gZ2V0UGF0aCgpOwogICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGdldEN1cnJlbnRQYWdlKCkgPT0gJ2NhdGVnb3J5JykgewogICAgICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRQYWdlID09IGdldEN1cnJlbnRQYWdlKCkpewogICAgICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50Q2F0ZWdvcnkgPT0gZ2V0Q2F0ZWdvcnkoKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IGdldEN1cnJlbnRQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2F0ZWdvcnkgPSBnZXRDYXRlZ29yeSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoU2VsZWN0TGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2F0ZWdvcnkgPSBnZXRDYXRlZ29yeSgpOwogICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoZ2V0Q3VycmVudFBhZ2UoKSA9PSAnc2VhcmNoJykgewogICAgICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRQYWdlID09IGdldEN1cnJlbnRQYWdlKCkpewogICAgICAgICAgICAgICAgICAgICAgICBpZihzZWFyY2hLZXkgPT0gZ2V0U2VhcmNoS2V5KCkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoS2V5ID0gZ2V0U2VhcmNoS2V5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IGdldEN1cnJlbnRQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEtleSA9IGdldFNlYXJjaEtleSgpOwogICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy/nm5Hop4bop4blm77lj5jljJYKICAgICAgICBmdW5jdGlvbiByZWdpc3Rlckxpc3RHcmlkU3RhdHVzKCl7CiAgICAgICAgICAgIHZhciAkYV9saXN0ID0gJCgnYVtub2RlLXR5cGU9bGlzdC1zd2l0Y2hdJyk7CiAgICAgICAgICAgICRhX2xpc3QuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGxpc3RfZ3JpZF9zdGF0dXMgPSAnbGlzdCc7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdmFyICRhX2dyaWQgPSAkKCdhW25vZGUtdHlwZT1ncmlkLXN3aXRjaF0nKTsKICAgICAgICAgICAgJGFfZ3JpZC5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9ICdncmlkJzsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvL+aWh+S7tumAieaLqeahhgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQ2hlY2tib3goKXsKICAgICAgICAgICAgdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uY2hlY2tib3gnKTsKICAgICAgICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2NsaWNrJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQodGhpcykucGFyZW50KCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgIGlmKGxpc3RfZ3JpZF9zdGF0dXMgPT0gJ2xpc3QnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gJCgnZGl2LmZpbGUtbmFtZSBkaXYudGV4dCBhJywkcGFyZW50KS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGxpc3RfZ3JpZF9zdGF0dXMgPT0gJ2dyaWQnKXsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGEnLCRwYXJlbnQpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKCRwYXJlbnQuaGFzQ2xhc3MoJ2l0ZW0tYWN0aXZlJykpewogICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCflj5bmtojpgInkuK3mlofku7bvvJonK2ZpbGVuYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxzZWxlY3RGaWxlTGlzdC5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0W2ldLmZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5zcGxpY2UoaSwxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7Y6JytmaWxlbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTplbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDplbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOmVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckNoZWNrYm94KCl7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdzcGFuLmNoZWNrYm94Jyk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy/lhajpgInmoYYKICAgICAgICBmdW5jdGlvbiByZWdpc3RlckFsbENoZWNrYm94KCl7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdkaXYuY29sLWl0ZW0uY2hlY2snKTsKICAgICAgICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2NsaWNrJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQodGhpcykucGFyZW50KCk7CiAgICAgICAgICAgICAgICAgICAgaWYoJHBhcmVudC5oYXNDbGFzcygnY2hlY2tlZCcpKXsKICAgICAgICAgICAgICAgICAgICAgICAgc2xvZygn5Y+W5raI5YWo6YCJJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2xvZygn5YWo6YOo6YCJ5LitJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6ZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDplbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnNfaWQ6ZWxlbWVudC5mc19pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc2RpcjplbGVtZW50LmlzZGlyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QucHVzaChvYmopOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB1bnJlZ2lzdGVyQWxsQ2hlY2tib3goKXsKICAgICAgICAgICAgdmFyICRjaGVja2JveCA9ICQoJ2Rpdi5jb2wtaXRlbS5jaGVjaycpOwogICAgICAgICAgICAkY2hlY2tib3guZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v5Y2V5Liq5paH5Lu26YCJ5Lit77yM54K55Ye75paH5Lu25LiN5piv54K55Ye76YCJ5Lit5qGG77yM5Lya5Y+q6YCJ5Lit6K+l5paH5Lu2CiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJGaWxlU2VsZWN0KCl7CiAgICAgICAgICAgIHZhciAkZGQgPSAkKCdkaXYubGlzdC12aWV3IGRkJyk7CiAgICAgICAgICAgICRkZC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS5iaW5kKCdjbGljaycsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVOYW1lID0gZS50YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgICAgICBpZihub2RlTmFtZSAhPSAnc3BhbicgJiYgbm9kZU5hbWUgIT0gJ2EnICYmIG5vZGVOYW1lICE9ICdlbScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2xvZygnc2hpZnRLZXk6JytlLnNoaWZ0S2V5KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWUuc2hpZnRLZXkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgZGl2LnRleHQgYScsJCh0aGlzKSkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+mAieS4reaWh+S7tu+8micgKyBmaWxlbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUgPT0gZmlsZW5hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6ZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOmVsZW1lbnQucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc2RpcjplbGVtZW50LmlzZGlyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRkZF9zZWxlY3QgPSAkKCdkaXYubGlzdC12aWV3IGRkLml0ZW0tYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goJGRkX3NlbGVjdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCQoZWxlbWVudCkpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xvZygn6YCJ5Lit5paH5Lu277yaJyArIGZpbGVuYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6ZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDplbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnNfaWQ6ZWxlbWVudC5mc19pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc2RpcjplbGVtZW50LmlzZGlyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QucHVzaChvYmopOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVucmVnaXN0ZXJGaWxlU2VsZWN0KCl7CiAgICAgICAgICAgIHZhciAkZGQgPSAkKCdkaXYubGlzdC12aWV3IGRkJyk7CiAgICAgICAgICAgICRkZC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy/nm5Hop4bmlofku7bliJfooajmmL7npLrlj5jljJYKICAgICAgICBmdW5jdGlvbiBjcmVhdGVPYnNlcnZlcigpewogICAgICAgICAgICB2YXIgTXV0YXRpb25PYnNlcnZlciA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyOwogICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgICdjaGlsZExpc3QnOiB0cnVlCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24obXV0YXRpb25zKXsKICAgICAgICAgICAgICAgIHVucmVnaXN0ZXJDaGVja2JveCgpOwogICAgICAgICAgICAgICAgdW5yZWdpc3RlckFsbENoZWNrYm94KCk7CiAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyRmlsZVNlbGVjdCgpOwogICAgICAgICAgICAgICAgcmVnaXN0ZXJDaGVja2JveCgpOwogICAgICAgICAgICAgICAgcmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICAgICAgICAgICAgcmVnaXN0ZXJGaWxlU2VsZWN0KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgbGlzdF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QtdmlldycpOwogICAgICAgICAgICB2YXIgZ3JpZF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQtdmlldycpOwoKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShsaXN0X3ZpZXcsb3B0aW9ucyk7CiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZ3JpZF92aWV3LG9wdGlvbnMpOwogICAgICAgIH0KCiAgICAgICAgLy/mt7vliqDliqnmiYvmjInpkq4KICAgICAgICBmdW5jdGlvbiBhZGRCdXR0b24oKXsKICAgICAgICAgICAgJCgnZGl2LmJhci1zZWFyY2gnKS5jc3MoJ3dpZHRoJywnMTglJyk7Ly/kv67mlLnmkJzntKLmoYbnmoTlrr3luqbvvIzpgb/lhY3pga7mjKEKICAgICAgICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWRyb3Bkb3duLWJ1dHRvbiI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJGRyb3Bkb3duYnV0dG9uX2EgPSAkKCc8YSBjbGFzcz0iZy1idXR0b24iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPjxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCI+PGVtIGNsYXNzPSJpY29uIGljb24tZG93bmxvYWQiIHRpdGxlPSLnmb7luqbnvZHnm5jkuIvovb3liqnmiYsiPjwvZW0+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDogYXV0bzsiPuS4i+i9veWKqeaJizwvc3Bhbj48L3NwYW4+PC9hPicpOwogICAgICAgICAgICB2YXIgJGRyb3Bkb3duYnV0dG9uX3NwYW4gPSAkKCc8c3BhbiBjbGFzcz0ibWVudSIgc3R5bGU9IndpZHRoOjk2cHgiPjwvc3Bhbj4nKTsKCiAgICAgICAgICAgIHZhciAkZGlyZWN0YnV0dG9uID0gJCgnPHNwYW4gY2xhc3M9ImctYnV0dG9uLW1lbnUiIHN0eWxlPSJkaXNwbGF5OmJsb2NrIj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZGlyZWN0YnV0dG9uX3NwYW4gPSAkKCc8c3BhbiBjbGFzcz0iZy1kcm9wZG93bi1idXR0b24gZy1kcm9wZG93bi1idXR0b24tc2Vjb25kIiBtZW51bGV2ZWw9IjIiPjwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRkaXJlY3RidXR0b25fYSA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PHNwYW4gY2xhc3M9ImctYnV0dG9uLXJpZ2h0Ij48c3BhbiBjbGFzcz0idGV4dCIgc3R5bGU9IndpZHRoOmF1dG8iPuebtOaOpeS4i+i9vTwvc3Bhbj48L3NwYW4+PC9hPicpOwogICAgICAgICAgICB2YXIgJGRpcmVjdGJ1dHRvbl9tZW51ID0gJCgnPHNwYW4gY2xhc3M9Im1lbnUiIHN0eWxlPSJ3aWR0aDoxMjBweDtsZWZ0Ojc5cHgiPjwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRkaXJlY3RidXR0b25fZG93bmxvYWRfYnV0dG9uID0gJCgnPGEgaWQ9ImRvd25sb2FkLWRpcmVjdCIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuS4i+i9vTwvYT4nKTsKICAgICAgICAgICAgdmFyICRkaXJlY3RidXR0b25fbGlua19idXR0b24gPSAkKCc8YSBpZD0ibGluay1kaXJlY3QiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mmL7npLrpk77mjqU8L2E+Jyk7CiAgICAgICAgICAgIHZhciAkZGlyZWN0YnV0dG9uX2JhdGNoaHR0cGxpbmtfYnV0dG9uID0gJCgnPGEgaWQ9ImJhdGNoaHR0cGxpbmstZGlyZWN0IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5om56YeP6ZO+5o6lKEhUVFApPC9hPicpOwogICAgICAgICAgICB2YXIgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBzbGlua19idXR0b24gPSAkKCc8YSBpZD0iYmF0Y2hodHRwc2xpbmstZGlyZWN0IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5om56YeP6ZO+5o6lKEhUVFBTKTwvYT4nKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9tZW51LmFwcGVuZCgkZGlyZWN0YnV0dG9uX2Rvd25sb2FkX2J1dHRvbikuYXBwZW5kKCRkaXJlY3RidXR0b25fbGlua19idXR0b24pLmFwcGVuZCgkZGlyZWN0YnV0dG9uX2JhdGNoaHR0cGxpbmtfYnV0dG9uKS5hcHBlbmQoJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBzbGlua19idXR0b24pOwogICAgICAgICAgICAkZGlyZWN0YnV0dG9uLmFwcGVuZCgkZGlyZWN0YnV0dG9uX3NwYW4uYXBwZW5kKCRkaXJlY3RidXR0b25fYSkuYXBwZW5kKCRkaXJlY3RidXR0b25fbWVudSkpOwogICAgICAgICAgICAkZGlyZWN0YnV0dG9uLmhvdmVyKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAkZGlyZWN0YnV0dG9uX3NwYW4udG9nZ2xlQ2xhc3MoJ2J1dHRvbi1vcGVuJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkZGlyZWN0YnV0dG9uX2Rvd25sb2FkX2J1dHRvbi5jbGljayhkb3dubG9hZENsaWNrKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9saW5rX2J1dHRvbi5jbGljayhsaW5rQ2xpY2spOwogICAgICAgICAgICAkZGlyZWN0YnV0dG9uX2JhdGNoaHR0cGxpbmtfYnV0dG9uLmNsaWNrKGJhdGNoQ2xpY2spOwogICAgICAgICAgICAkZGlyZWN0YnV0dG9uX2JhdGNoaHR0cHNsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKCiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uID0gJCgnPHNwYW4gY2xhc3M9ImctYnV0dG9uLW1lbnUiIHN0eWxlPSJkaXNwbGF5OmJsb2NrIj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX3NwYW4gPSAkKCc8c3BhbiBjbGFzcz0iZy1kcm9wZG93bi1idXR0b24gZy1kcm9wZG93bi1idXR0b24tc2Vjb25kIiBtZW51bGV2ZWw9IjIiPjwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRhcGlidXR0b25fYSA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PHNwYW4gY2xhc3M9ImctYnV0dG9uLXJpZ2h0Ij48c3BhbiBjbGFzcz0idGV4dCIgc3R5bGU9IndpZHRoOmF1dG8iPkFQSeS4i+i9vTwvc3Bhbj48L3NwYW4+PC9hPicpOwogICAgICAgICAgICB2YXIgJGFwaWJ1dHRvbl9tZW51ID0gJCgnPHNwYW4gY2xhc3M9Im1lbnUiIHN0eWxlPSJ3aWR0aDoxMjBweDtsZWZ0Ojc3cHgiPjwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRhcGlidXR0b25fZG93bmxvYWRfYnV0dG9uID0gJCgnPGEgaWQ9ImRvd25sb2FkLWFwaSIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuS4i+i9vTwvYT4nKTsKICAgICAgICAgICAgdmFyICRhcGlidXR0b25fbGlua19idXR0b24gPSAkKCc8YSBpZD0iaHR0cGxpbmstYXBpIiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5pi+56S66ZO+5o6lPC9hPicpOwogICAgICAgICAgICB2YXIgJGFwaWJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGh0dHBsaW5rLWFwaSIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaJuemHj+mTvuaOpShIVFRQKTwvYT4nKTsKICAgICAgICAgICAgdmFyICRhcGlidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uID0gJCgnPGEgaWQ9ImJhdGNoaHR0cHNsaW5rLWFwaSIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaJuemHj+mTvuaOpShIVFRQUyk8L2E+Jyk7CiAgICAgICAgICAgICRhcGlidXR0b25fbWVudS5hcHBlbmQoJGFwaWJ1dHRvbl9kb3dubG9hZF9idXR0b24pLmFwcGVuZCgkYXBpYnV0dG9uX2xpbmtfYnV0dG9uKS5hcHBlbmQoJGFwaWJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbikuYXBwZW5kKCRhcGlidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uKTsKICAgICAgICAgICAgJGFwaWJ1dHRvbi5hcHBlbmQoJGFwaWJ1dHRvbl9zcGFuLmFwcGVuZCgkYXBpYnV0dG9uX2EpLmFwcGVuZCgkYXBpYnV0dG9uX21lbnUpKTsKICAgICAgICAgICAgJGFwaWJ1dHRvbi5ob3ZlcihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgJGFwaWJ1dHRvbl9zcGFuLnRvZ2dsZUNsYXNzKCdidXR0b24tb3BlbicpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJGFwaWJ1dHRvbl9kb3dubG9hZF9idXR0b24uY2xpY2soZG93bmxvYWRDbGljayk7CiAgICAgICAgICAgICRhcGlidXR0b25fbGlua19idXR0b24uY2xpY2sobGlua0NsaWNrKTsKICAgICAgICAgICAgJGFwaWJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKICAgICAgICAgICAgJGFwaWJ1dHRvbl9iYXRjaGh0dHBzbGlua19idXR0b24uY2xpY2soYmF0Y2hDbGljayk7CgogICAgICAgICAgICB2YXIgJG91dGVybGlua2J1dHRvbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBzdHlsZT0iZGlzcGxheTpibG9jayI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9zcGFuID0gJCgnPHNwYW4gY2xhc3M9ImctZHJvcGRvd24tYnV0dG9uIGctZHJvcGRvd24tYnV0dG9uLXNlY29uZCIgbWVudWxldmVsPSIyIj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkb3V0ZXJsaW5rYnV0dG9uX2EgPSAkKCc8YSBjbGFzcz0iZy1idXR0b24iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPjxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCI+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDphdXRvIj7lpJbpk77kuIvovb08L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRvdXRlcmxpbmtidXR0b25fbWVudSA9ICQoJzxzcGFuIGNsYXNzPSJtZW51IiBzdHlsZT0id2lkdGg6MTIwcHg7bGVmdDo3OXB4Ij48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkb3V0ZXJsaW5rYnV0dG9uX2Rvd25sb2FkX2J1dHRvbiA9ICQoJzxhIGlkPSJkb3dubG9hZC1vdXRlcmxpbmsiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7kuIvovb08L2E+Jyk7CiAgICAgICAgICAgIHZhciAkb3V0ZXJsaW5rYnV0dG9uX2xpbmtfYnV0dG9uID0gJCgnPGEgaWQ9Imxpbmstb3V0ZXJsaW5rIiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5pi+56S66ZO+5o6lPC9hPicpOwogICAgICAgICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9iYXRjaGxpbmtfYnV0dG9uID0gJCgnPGEgaWQ9ImJhdGNobGluay1vdXRlcmxpbmsiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mibnph4/pk77mjqU8L2E+Jyk7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b25fbWVudS5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9kb3dubG9hZF9idXR0b24pLmFwcGVuZCgkb3V0ZXJsaW5rYnV0dG9uX2xpbmtfYnV0dG9uKS5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9iYXRjaGxpbmtfYnV0dG9uKTsKICAgICAgICAgICAgJG91dGVybGlua2J1dHRvbi5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9zcGFuLmFwcGVuZCgkb3V0ZXJsaW5rYnV0dG9uX2EpLmFwcGVuZCgkb3V0ZXJsaW5rYnV0dG9uX21lbnUpKTsKICAgICAgICAgICAgJG91dGVybGlua2J1dHRvbi5ob3ZlcihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgJG91dGVybGlua2J1dHRvbl9zcGFuLnRvZ2dsZUNsYXNzKCdidXR0b24tb3BlbicpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJG91dGVybGlua2J1dHRvbl9kb3dubG9hZF9idXR0b24uY2xpY2soZG93bmxvYWRDbGljayk7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b25fbGlua19idXR0b24uY2xpY2sobGlua0NsaWNrKTsKICAgICAgICAgICAgJG91dGVybGlua2J1dHRvbl9iYXRjaGxpbmtfYnV0dG9uLmNsaWNrKGJhdGNoQ2xpY2spOwoKICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uX3NwYW4uYXBwZW5kKCRkaXJlY3RidXR0b24pLmFwcGVuZCgkYXBpYnV0dG9uKS5hcHBlbmQoJG91dGVybGlua2J1dHRvbik7CiAgICAgICAgICAgICRkcm9wZG93bmJ1dHRvbi5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uX2EpLmFwcGVuZCgkZHJvcGRvd25idXR0b25fc3Bhbik7CgogICAgICAgICAgICAkZHJvcGRvd25idXR0b24uaG92ZXIoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICRkcm9wZG93bmJ1dHRvbi50b2dnbGVDbGFzcygnYnV0dG9uLW9wZW4nKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAkKCdkaXYuZGVmYXVsdC1kb20gZGl2LmJhciBkaXYubGlzdC10b29scycpLmFwcGVuZCgkZHJvcGRvd25idXR0b24pOwogICAgICAgIH0KCiAgICAgICAgLy/mmoLml7bmsqHnlKgKICAgICAgICAvLyBmdW5jdGlvbiBhZGRMb2FkaW5nKCl7CiAgICAgICAgLy8gICAgIHZhciBzY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgICAgLy8gICAgIHZhciBzY3JlZW5IZWlnaHQgPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKICAgICAgICAvLyAgICAgdmFyIGxlZnQgPSAoc2NyZWVuV2lkdGgtMTApLzI7CiAgICAgICAgLy8gICAgIHZhciB0b3AgPSBzY3JlZW5IZWlnaHQvMjsKICAgICAgICAvLyAgICAgdmFyICRsb2FkaW5nID0gJCgnPGRpdiBpZD0iZGlhbG9nLWxvYWRpbmciIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OicrbGVmdCsncHg7dG9wOicrdG9wKydweDtkaXNwbGF5Om5vbmU7ei1pbmRleDo1Mjtjb2xvcjp3aGl0ZTtmb250LXNpemU6MTZweCI+5aSE55CG5LitPC9kaXY+Jyk7CiAgICAgICAgLy8gICAgICQoJ2JvZHknKS5hcHBlbmQoJGxvYWRpbmcpOwogICAgICAgIC8vIH0KCiAgICAgICAgZnVuY3Rpb24gZG93bmxvYWRDbGljayhldmVudCl7CiAgICAgICAgICAgIHNsb2coJ+mAieS4reaWh+S7tuWIl+ihqO+8micsc2VsZWN0RmlsZUxpc3QpOwogICAgICAgICAgICB2YXIgaWQgPSBldmVudC50YXJnZXQuaWQ7CiAgICAgICAgICAgIHZhciBkb3dubG9hZExpbms7CgogICAgICAgICAgICBpZihpZCA9PSAnZG93bmxvYWQtZGlyZWN0Jyl7CiAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRUeXBlOwogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuiOt+WPlumAieS4reaWh+S7tuWksei0pe+8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdiYXRjaCc7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZT0gJ2RsaW5rJzsKICAgICAgICAgICAgICAgICAgICAvL2Rvd25sb2FkVHlwZSA9IHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyPT0xPydiYXRjaCc6KHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyPT09MD8nZGxpbmsnOidiYXRjaCcpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA+IDEpewogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdiYXRjaCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmaWRfbGlzdCA9IGdldEZpZExpc3Qoc2VsZWN0RmlsZUxpc3QpOwogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhQYW5BUEkoZG93bmxvYWRUeXBlKTsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJubyA9PT0gMCl7CiAgICAgICAgICAgICAgICAgICAgaWYoZG93bmxvYWRUeXBlID09ICdkbGluaycpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGlua1swXS5kbGluazsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGRvd25sb2FkVHlwZSA9PSAnYmF0Y2gnKXsKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LmRsaW5rOwogICAgICAgICAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSBkb3dubG9hZExpbmsgKyAnJnppcG5hbWU9JyArIGVuY29kZVVSSUNvbXBvbmVudChzZWxlY3RGaWxlTGlzdFswXS5maWxlbmFtZSkgKyAnLnppcCc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLlj5HnlJ/plJnor6/vvIEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZihyZXN1bHQuZXJybm8gPT0gLTEpewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmlofku7bkuI3lrZjlnKjmiJblt7Looqvnmb7luqblkozosJDvvIzml6Dms5XkuIvovb3vvIEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXN1bHQuZXJybm8gPT0gMTEyKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi6aG16Z2i6L+H5pyf77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuWPkeeUn+mUmeivr++8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi6I635Y+W6YCJ5Lit5paH5Lu25aSx6LSl77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuivpeaWueazleS4jeaUr+aMgeWkmuaWh+S7tuS4i+i9ve+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLor6Xmlrnms5XkuI3mlK/mjIHnm67lvZXkuIvovb3vvIEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKGlkID09ICdkb3dubG9hZC1hcGknKXsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSBnZXREb3dubG9hZExpbmtXaXRoUkVTVEFQSUJhaWR1KHNlbGVjdEZpbGVMaXN0WzBdLnBhdGgpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZCA9PSAnZG93bmxvYWQtb3V0ZXJsaW5rJyl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhDbGllbnRBUEkoc2VsZWN0RmlsZUxpc3RbMF0ucGF0aCk7CiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LmVycm5vID09IDApewogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQudXJsc1swXS51cmw7CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IDEpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo77yBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXN1bHQuZXJybm8gPT0gMil7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmlofku7bkuI3lrZjlnKjmiJbogIXlt7Looqvnmb7luqblkozosJDvvIzml6Dms5XkuIvovb3vvIEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5Y+R55Sf6ZSZ6K+v77yBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXhlY0Rvd25sb2FkKGRvd25sb2FkTGluayk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBsaW5rQ2xpY2soZXZlbnQpewogICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkOwogICAgICAgICAgICB2YXIgbGlua0xpc3QsdGlwOwoKICAgICAgICAgICAgaWYoaWQuaW5kZXhPZignZGlyZWN0JykgIT0gLTEpewogICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkVHlwZTsKICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZExpbms7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi6I635Y+W6YCJ5Lit5paH5Lu25aSx6LSl77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PT0gMSkKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRUeXBlID0gJ2JhdGNoJzsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PT0gMCkKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRUeXBlPSAnZGxpbmsnOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA+IDEpewogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdiYXRjaCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmaWRfbGlzdCA9IGdldEZpZExpc3Qoc2VsZWN0RmlsZUxpc3QpOwogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhQYW5BUEkoZG93bmxvYWRUeXBlKTsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJubyA9PT0gMCl7CiAgICAgICAgICAgICAgICAgICAgaWYoZG93bmxvYWRUeXBlID09ICdkbGluaycpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGlua1swXS5kbGluazsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGRvd25sb2FkVHlwZSA9PSAnYmF0Y2gnKXsKICAgICAgICAgICAgICAgICAgICAgICAgc2xvZyhzZWxlY3RGaWxlTGlzdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGluazsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZG93bmxvYWRMaW5rICsgJyZ6aXBuYW1lPScgKyBlbmNvZGVVUklDb21wb25lbnQoc2VsZWN0RmlsZUxpc3RbMF0uZmlsZW5hbWUpICsgJy56aXAnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgi5Y+R55Sf6ZSZ6K+v77yBIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXN1bHQuZXJybm8gPT0gLTEpewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmlofku7bkuI3lrZjlnKjmiJblt7Looqvnmb7luqblkozosJDvvIzml6Dms5XkuIvovb3vvIEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXN1bHQuZXJybm8gPT0gMTEyKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi6aG16Z2i6L+H5pyf77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuWPkeeUn+mUmeivr++8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBodHRwbGluayA9IGRvd25sb2FkTGluay5yZXBsYWNlKC9eKFtBLVphLXpdKyk6LywnaHR0cDonKTsKICAgICAgICAgICAgICAgIHZhciBodHRwc2xpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sJ2h0dHBzOicpOwogICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gJyc7CiAgICAgICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA9PTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUgKyAnLCcgKyBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbGlua0xpc3QgPSB7CiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6ZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgdXJsczpbCiAgICAgICAgICAgICAgICAgICAgICAgIHt1cmw6aHR0cGxpbmsscmFuazoxfSwKICAgICAgICAgICAgICAgICAgICAgICAge3VybDpodHRwc2xpbmsscmFuazoyfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB0aXAgPSAn5pi+56S65qih5ouf55m+5bqm572R55uY572R6aG16I635Y+W55qE6ZO+5o6l77yM5Y+v5Lul5L2/55So5Y+z6ZSu6L+F6Zu35LiL6L2977yM5aSN5Yi25Yiw5LiL6L295bel5YW36ZyA6KaB5Lyg6YCSY29va2ll77yM5aSa5paH5Lu25omT5YyF5LiL6L2955qE6ZO+5o6l5Y+v5Lul55u05o6l5aSN5Yi25L2/55SoJzsKICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTon5LiL6L296ZO+5o6lJyx0eXBlOidsaW5rJyxsaXN0OmxpbmtMaXN0LHRpcDp0aXB9KTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi6I635Y+W6YCJ5Lit5paH5Lu25aSx6LSl77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuivpeaWueazleS4jeaUr+aMgeWkmuaWh+S7tuS4i+i9ve+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLor6Xmlrnms5XkuI3mlK/mjIHnm67lvZXkuIvovb3vvIEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKGlkLmluZGV4T2YoJ2FwaScpICE9IC0xKXsKICAgICAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRMaW5rID0gZ2V0RG93bmxvYWRMaW5rV2l0aFJFU1RBUElCYWlkdShzZWxlY3RGaWxlTGlzdFswXS5wYXRoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgaHR0cGxpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sJ2h0dHA6Jyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGh0dHBzbGluayA9IGRvd25sb2FkTGluay5yZXBsYWNlKC9eKFtBLVphLXpdKyk6LywnaHR0cHM6Jyk7CiAgICAgICAgICAgICAgICAgICAgbGlua0xpc3QgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOnNlbGVjdEZpbGVMaXN0WzBdLmZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICB1cmxzOlsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1cmw6aHR0cGxpbmsscmFuazoxfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1cmw6aHR0cHNsaW5rLHJhbms6Mn0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgaHR0cGxpbmsgPSBodHRwbGluay5yZXBsYWNlKCcyNTA1MjgnLCcyNjY3MTknKTsKICAgICAgICAgICAgICAgICAgICBodHRwc2xpbmsgPSBodHRwc2xpbmsucmVwbGFjZSgnMjUwNTI4JywnMjY2NzE5Jyk7CiAgICAgICAgICAgICAgICAgICAgbGlua0xpc3QudXJscy5wdXNoKHt1cmw6aHR0cGxpbmsscmFuazozfSk7CiAgICAgICAgICAgICAgICAgICAgbGlua0xpc3QudXJscy5wdXNoKHt1cmw6aHR0cHNsaW5rLHJhbms6NH0pOwogICAgICAgICAgICAgICAgICAgIHRpcCA9ICfmmL7npLrmqKHmi59BUFDojrflj5bnmoTpk77mjqUo5L2/55So55m+5bqm5LqRSUQp77yM5Y+v5Lul5L2/55So5Y+z6ZSu6L+F6Zu35LiL6L2977yM5aSN5Yi25Yiw5LiL6L295bel5YW36ZyA6KaB5Lyg6YCSY29va2llJzsKICAgICAgICAgICAgICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6J+S4i+i9vemTvuaOpScsdHlwZTonbGluaycsbGlzdDpsaW5rTGlzdCx0aXA6dGlwfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkLmluZGV4T2YoJ291dGVybGluaycpICE9IC0xKXsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZ2V0RG93bmxvYWRMaW5rV2l0aENsaWVudEFQSShzZWxlY3RGaWxlTGlzdFswXS5wYXRoKTsKICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQuZXJybm8gPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtMaXN0ID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6c2VsZWN0RmlsZUxpc3RbMF0uZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzOnJlc3VsdC51cmxzCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IDEpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo77yBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXN1bHQuZXJybm8gPT0gMil7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmlofku7bkuI3lrZjlnKjmiJbogIXlt7Looqvnmb7luqblkozosJDvvIzml6Dms5XkuIvovb3vvIEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5Y+R55Sf6ZSZ6K+v77yBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdGlwID0gJ+aYvuekuuaooeaLn+eZvuW6pue9keebmOWuouaIt+err+iOt+WPlueahOmTvuaOpe+8jOWPr+S7peebtOaOpeWkjeWItuWIsOS4i+i9veW3peWFt+S9v+eUqO+8jOS4jemcgOimgWNvb2tpZSc7CiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifkuIvovb3pk77mjqUnLHR5cGU6J2xpbmsnLGxpc3Q6bGlua0xpc3QsdGlwOnRpcCxzaG93Y29weTp0cnVlLHNob3dlZGl0OnRydWV9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvL2RpYWxvZy5vcGVuKHt0aXRsZTon5LiL6L296ZO+5o6lJyx0eXBlOidsaW5rJyxsaXN0OmxpbmtMaXN0LHRpcDp0aXB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGJhdGNoQ2xpY2soZXZlbnQpewogICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgIGFsZXJ0KCfojrflj5bpgInkuK3mlofku7blpLHotKXvvIzor7fliLfmlrDph43or5XvvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgaWQgPSBldmVudC50YXJnZXQuaWQ7CiAgICAgICAgICAgIHZhciBsaW5rVHlwZSx0aXA7CiAgICAgICAgICAgIGxpbmtUeXBlID0gaWQuaW5kZXhPZignaHR0cHMnKSA9PSAtMSA/IChpZC5pbmRleE9mKCdodHRwJykgPT0gLTEgPyBsb2NhdGlvbi5wcm90b2NvbCsnOicgOiAnaHR0cDonKSA6ICdodHRwczonOwogICAgICAgICAgICBiYXRjaExpbmtMaXN0ID0gW107CiAgICAgICAgICAgIGJhdGNoTGlua0xpc3RBbGwgPSBbXTsKICAgICAgICAgICAgaWYoaWQuaW5kZXhPZignZGlyZWN0JykgIT0gLTEpewogICAgICAgICAgICAgICAgYmF0Y2hMaW5rTGlzdCA9IGdldERpcmVjdEJhdGNoTGluayhsaW5rVHlwZSk7CiAgICAgICAgICAgICAgICB0aXAgPSAn5pi+56S65omA5pyJ6YCJ5Lit5paH5Lu255qE55u05o6l5LiL6L296ZO+5o6l77yM5paH5Lu25aS55pi+56S65Li65omT5YyF5LiL6L2955qE6ZO+5o6lJzsKICAgICAgICAgICAgICAgIGlmKGJhdGNoTGlua0xpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn5rKh5pyJ6ZO+5o6l5Y+v5Lul5pi+56S677yMQVBJ6ZO+5o6l5LiN6KaB5YWo6YOo6YCJ5Lit5paH5Lu25aS577yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifmibnph4/pk77mjqUnLHR5cGU6J2JhdGNoJyxsaXN0OmJhdGNoTGlua0xpc3QsdGlwOnRpcCxzaG93Y29weTp0cnVlfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZihpZC5pbmRleE9mKCdhcGknKSAhPSAtMSl7CiAgICAgICAgICAgICAgICBiYXRjaExpbmtMaXN0ID0gZ2V0QVBJQmF0Y2hMaW5rKGxpbmtUeXBlKTsKICAgICAgICAgICAgICAgIHRpcCA9ICfmmL7npLrmiYDmnInpgInkuK3mlofku7bnmoRBUEnkuIvovb3pk77mjqXvvIzkuI3mmL7npLrmlofku7blpLknOwogICAgICAgICAgICAgICAgaWYoYmF0Y2hMaW5rTGlzdC5sZW5ndGggPT09IDApewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmsqHmnInpk77mjqXlj6/ku6XmmL7npLrvvIxBUEnpk77mjqXkuI3opoHlhajpg6jpgInkuK3mlofku7blpLnvvIEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6J+aJuemHj+mTvuaOpScsdHlwZTonYmF0Y2gnLGxpc3Q6YmF0Y2hMaW5rTGlzdCx0aXA6dGlwLHNob3djb3B5OnRydWV9KTsKICAgICAgICAgICAgfSBlbHNlIGlmKGlkLmluZGV4T2YoJ291dGVybGluaycpICE9IC0xKXsKICAgICAgICAgICAgICAgIGJhdGNoTGlua0xpc3RBbGwgPSBnZXRPdXRlcmxpbmtCYXRjaExpbmtBbGwoKTsKICAgICAgICAgICAgICAgIGJhdGNoTGlua0xpc3QgPSBnZXRPdXRlcmxpbmtCYXRjaExpbmtGaXJzdChiYXRjaExpbmtMaXN0QWxsKTsKICAgICAgICAgICAgICAgIHRpcCA9ICfmmL7npLrmiYDmnInpgInkuK3mlofku7bnmoTlpJbpg6jkuIvovb3pk77mjqXvvIzkuI3mmL7npLrmlofku7blpLknOwogICAgICAgICAgICAgICAgaWYoYmF0Y2hMaW5rTGlzdC5sZW5ndGggPT09IDApewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmsqHmnInpk77mjqXlj6/ku6XmmL7npLrvvIxBUEnpk77mjqXkuI3opoHlhajpg6jpgInkuK3mlofku7blpLnvvIEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifmibnph4/pk77mjqUnLHR5cGU6J2JhdGNoJyxsaXN0OmJhdGNoTGlua0xpc3QsdGlwOnRpcCxzaG93Y29weTp0cnVlLGFsbGxpc3Q6YmF0Y2hMaW5rTGlzdEFsbCxzaG93YWxsOnRydWV9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy9kaWFsb2cub3Blbih7dGl0bGU6J+aJuemHj+mTvuaOpScsdHlwZTonYmF0Y2gnLGxpc3Q6YmF0Y2hMaW5rTGlzdCx0aXA6dGlwLHNob3djb3B5OnRydWV9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldERpcmVjdEJhdGNoTGluayhsaW5rVHlwZSl7CiAgICAgICAgICAgIHZhciBsaXN0ID0gW107CiAgICAgICAgICAgICQuZWFjaChzZWxlY3RGaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZFR5cGUsZG93bmxvYWRMaW5rLHJlc3VsdDsKICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuaXNkaXIgPT0gMCkKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnZGxpbmsnOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdiYXRjaCc7CiAgICAgICAgICAgICAgICBmaWRfbGlzdCA9IGdldEZpZExpc3QoW2VsZW1lbnRdKTsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhQYW5BUEkoZG93bmxvYWRUeXBlKTsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJubyA9PSAwKXsKICAgICAgICAgICAgICAgICAgICBpZihkb3dubG9hZFR5cGUgPT0gJ2RsaW5rJykKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LmRsaW5rWzBdLmRsaW5rOwogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoZG93bmxvYWRUeXBlID09ICdiYXRjaCcpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGluazsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sbGlua1R5cGUpOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gJ2Vycm9yJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxpc3QucHVzaCh7ZmlsZW5hbWU6ZWxlbWVudC5maWxlbmFtZSxkb3dubG9hZGxpbms6ZG93bmxvYWRMaW5rfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gbGlzdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldEFQSUJhdGNoTGluayhsaW5rVHlwZSl7CiAgICAgICAgICAgIHZhciBsaXN0ID0gW107CiAgICAgICAgICAgICQuZWFjaChzZWxlY3RGaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuaXNkaXIgPT0gMSkKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRMaW5rOwogICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZ2V0RG93bmxvYWRMaW5rV2l0aFJFU1RBUElCYWlkdShlbGVtZW50LnBhdGgpOwogICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLGxpbmtUeXBlKTsKICAgICAgICAgICAgICAgIGxpc3QucHVzaCh7ZmlsZW5hbWU6ZWxlbWVudC5maWxlbmFtZSxkb3dubG9hZGxpbms6ZG93bmxvYWRMaW5rfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gbGlzdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldE91dGVybGlua0JhdGNoTGlua0FsbCgpewogICAgICAgICAgICB2YXIgbGlzdCA9IFtdOwogICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgICAgICAgaWYoZWxlbWVudC5pc2RpciA9PSAxKQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhDbGllbnRBUEkoZWxlbWVudC5wYXRoKTsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJubyA9PSAwKXsKICAgICAgICAgICAgICAgICAgICAvL2Rvd25sb2FkTGluayA9IHJlc3VsdC51cmxzWzBdLnVybDsKICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goe2ZpbGVuYW1lOmVsZW1lbnQuZmlsZW5hbWUsbGlua3M6cmVzdWx0LnVybHN9KTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIC8vZG93bmxvYWRMaW5rID0gJ2Vycm9yJzsKICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goe2ZpbGVuYW1lOmVsZW1lbnQuZmlsZW5hbWUsbGlua3M6W3tyYW5rOjEsdXJsOidlcnJvcid9XX0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy9saXN0LnB1c2goe2ZpbGVuYW1lOmVsZW1lbnQuZmlsZW5hbWUsZG93bmxvYWRsaW5rOmRvd25sb2FkTGlua30pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRPdXRlcmxpbmtCYXRjaExpbmtGaXJzdChsaXN0KXsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgICAgICAkLmVhY2gobGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtmaWxlbmFtZTplbGVtZW50LmZpbGVuYW1lLGRvd25sb2FkbGluazplbGVtZW50LmxpbmtzWzBdLnVybH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFNpZ24oKXsKICAgICAgICAgICAgdmFyIHNpZ25GbmM7CiAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgIHNpZ25GbmMgPSBuZXcgRnVuY3Rpb24oInJldHVybiAiICsgeXVuRGF0YS5zaWduMikoKTsKICAgICAgICAgICAgfSBjYXRjaChlKXsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBiYXNlNjRFbmNvZGUoc2lnbkZuYyh5dW5EYXRhLnNpZ241LHl1bkRhdGEuc2lnbjEpKTsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5b2T5YmN55uu5b2VCiAgICAgICAgZnVuY3Rpb24gZ2V0UGF0aCgpewogICAgICAgICAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgICAgICAgIHZhciByZWd4ID0gLyhefCZ8XC8pcGF0aD0oW14mXSopKCZ8JCkvaTsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGhhc2gubWF0Y2gocmVneCk7CiAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0WzJdKTsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5YiG57G75pi+56S655qE57G75Yir77yM5Y2z5Zyw5Z2A5qCP5Lit55qEdHlwZQogICAgICAgIGZ1bmN0aW9uIGdldENhdGVnb3J5KCl7CiAgICAgICAgICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDsKICAgICAgICAgICAgdmFyIHJlZ3ggPSAvKF58JnxcLyl0eXBlPShbXiZdKikoJnwkKS9pOwogICAgICAgICAgICB2YXIgcmVzdWx0ID0gaGFzaC5tYXRjaChyZWd4KTsKICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRbMl0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0U2VhcmNoS2V5KCl7CiAgICAgICAgICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDsKICAgICAgICAgICAgdmFyIHJlZ3ggPSAvKF58JnxcLylrZXk9KFteJl0qKSgmfCQpL2k7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBoYXNoLm1hdGNoKHJlZ3gpOwogICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdFsyXSk7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluW9k+WJjemhtemdoihsaXN05oiW6ICFY2F0ZWdvcnkpCiAgICAgICAgZnVuY3Rpb24gZ2V0Q3VycmVudFBhZ2UoKXsKICAgICAgICAgICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwogICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGhhc2guc3Vic3RyaW5nKGhhc2guaW5kZXhPZignIycpKzEsaGFzaC5pbmRleE9mKCcvJykpKTsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5paH5Lu25YiX6KGoCiAgICAgICAgZnVuY3Rpb24gZ2V0RmlsZUxpc3QoKXsKICAgICAgICAgICAgdmFyIGZpbGVsaXN0ID0gW107CiAgICAgICAgICAgIHZhciBsaXN0VXJsID0gcGFuQVBJVXJsICsgImxpc3QiOwogICAgICAgICAgICB2YXIgcGF0aCA9IGdldFBhdGgoKTsKICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgZGlyOnBhdGgsCiAgICAgICAgICAgICAgICBiZHN0b2tlbjpiZHN0b2tlbiwKICAgICAgICAgICAgICAgIGxvZ2lkOmxvZ2lkLAogICAgICAgICAgICAgICAgb3JkZXI6J3NpemUnLAogICAgICAgICAgICAgICAgZGVzYzowLAogICAgICAgICAgICAgICAgY2xpZW50dHlwZTowLAogICAgICAgICAgICAgICAgc2hvd2VtcHR5OjAsCiAgICAgICAgICAgICAgICB3ZWI6MSwKICAgICAgICAgICAgICAgIGNoYW5uZWw6J2NodW5sZWknLAogICAgICAgICAgICAgICAgYXBwaWQ6MjUwNTI4CiAgICAgICAgICAgIH07CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6bGlzdFVybCwKICAgICAgICAgICAgICAgIGFzeW5jOmZhbHNlLAogICAgICAgICAgICAgICAgbWV0aG9kOidHRVQnLAogICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICBmaWxlbGlzdCA9IDA9PT1yZXNwb25zZS5lcnJubyA/IHJlc3BvbnNlLmxpc3QgOiBbXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBmaWxlbGlzdDsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5YiG57G76aG16Z2i5LiL55qE5paH5Lu25YiX6KGoCiAgICAgICAgZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlGaWxlTGlzdCgpewogICAgICAgICAgICB2YXIgZmlsZWxpc3QgPSBbXTsKICAgICAgICAgICAgdmFyIGxpc3RVcmwgPSBwYW5BUElVcmwgKyAiY2F0ZWdvcnlsaXN0IjsKICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoKTsKICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgY2F0ZWdvcnk6Y2F0ZWdvcnksCiAgICAgICAgICAgICAgICBiZHN0b2tlbjpiZHN0b2tlbiwKICAgICAgICAgICAgICAgIGxvZ2lkOmxvZ2lkLAogICAgICAgICAgICAgICAgb3JkZXI6J3NpemUnLAogICAgICAgICAgICAgICAgZGVzYzowLAogICAgICAgICAgICAgICAgY2xpZW50dHlwZTowLAogICAgICAgICAgICAgICAgc2hvd2VtcHR5OjAsCiAgICAgICAgICAgICAgICB3ZWI6MSwKICAgICAgICAgICAgICAgIGNoYW5uZWw6J2NodW5sZWknLAogICAgICAgICAgICAgICAgYXBwaWQ6MjUwNTI4CiAgICAgICAgICAgIH07CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6bGlzdFVybCwKICAgICAgICAgICAgICAgIGFzeW5jOmZhbHNlLAogICAgICAgICAgICAgICAgbWV0aG9kOidHRVQnLAogICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICBmaWxlbGlzdCA9IDA9PT1yZXNwb25zZS5lcnJubyA/IHJlc3BvbnNlLmluZm8gOiBbXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBmaWxlbGlzdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFNlYXJjaEZpbGVMaXN0KCl7CiAgICAgICAgICAgIHZhciBmaWxlbGlzdCA9IFtdOwogICAgICAgICAgICB2YXIgbGlzdFVybCA9IHBhbkFQSVVybCArICdzZWFyY2gnOwogICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgIHNlYXJjaEtleSA9IGdldFNlYXJjaEtleSgpOwogICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgcmVjdXJzaW9uOjEsCiAgICAgICAgICAgICAgICBvcmRlcjondGltZScsCiAgICAgICAgICAgICAgICBkZXNjOjEsCiAgICAgICAgICAgICAgICBzaG93ZW1wdHk6MCwKICAgICAgICAgICAgICAgIHdlYjoxLAogICAgICAgICAgICAgICAgcGFnZToxLAogICAgICAgICAgICAgICAgbnVtOjEwMCwKICAgICAgICAgICAgICAgIGtleTpzZWFyY2hLZXksCiAgICAgICAgICAgICAgICBjaGFubmVsOidjaHVubGVpJywKICAgICAgICAgICAgICAgIGFwcF9pZDoyNTA1MjgsCiAgICAgICAgICAgICAgICBiZHN0b2tlbjpiZHN0b2tlbiwKICAgICAgICAgICAgICAgIGxvZ2lkOmxvZ2lkLAogICAgICAgICAgICAgICAgY2xpZW50dHlwZTowCiAgICAgICAgICAgIH07CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6bGlzdFVybCwKICAgICAgICAgICAgICAgIGFzeW5jOmZhbHNlLAogICAgICAgICAgICAgICAgbWV0aG9kOidHRVQnLAogICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICBmaWxlbGlzdCA9IDA9PT1yZXNwb25zZS5lcnJubyA/IHJlc3BvbnNlLmxpc3QgOiBbXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBmaWxlbGlzdDsKICAgICAgICB9CgogICAgICAgIC8v55Sf5oiQ5LiL6L295pe255qEZmlkX2xpc3Tlj4LmlbAKICAgICAgICBmdW5jdGlvbiBnZXRGaWRMaXN0KGxpc3QpewogICAgICAgICAgICB2YXIgZmlkbGlzdCA9IG51bGw7CiAgICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB2YXIgZmlsZWlkbGlzdCA9IFtdOwogICAgICAgICAgICAkLmVhY2gobGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgIGZpbGVpZGxpc3QucHVzaChlbGVtZW50LmZzX2lkKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGZpZGxpc3QgPSAnWycgKyBmaWxlaWRsaXN0ICsgJ10nOwogICAgICAgICAgICByZXR1cm4gZmlkbGlzdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFRpbWVzdGFtcCgpewogICAgICAgICAgICByZXR1cm4geXVuRGF0YS50aW1lc3RhbXA7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRCRFN0b2tlbigpewogICAgICAgICAgICByZXR1cm4geXVuRGF0YS5NWUJEU1RPS0VOOwogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5bnm7TmjqXkuIvovb3lnLDlnYAKICAgICAgICAvL+i/meS4quWcsOWdgOS4jeaYr+ebtOaOpeS4i+i9veWcsOWdgO+8jOiuv+mXrui/meS4quWcsOWdgOS8mui/lOWbnjMwMu+8jHJlc3BvbnNlIGhlYWRlcuS4reeahGxvY2F0aW9u5omN5piv55yf5a6e5LiL6L295Zyw5Z2ACiAgICAgICAgLy/mmoLml7bmsqHmnInmib7liLDmj5Dlj5bmlrnms5UKICAgICAgICBmdW5jdGlvbiBnZXREb3dubG9hZExpbmtXaXRoUGFuQVBJKHR5cGUpewogICAgICAgICAgICB2YXIgZG93bmxvYWRVcmwgPSBwYW5BUElVcmwgKyAiZG93bmxvYWQiOwogICAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgIHZhciBwYXJhbXM9IHsKICAgICAgICAgICAgICAgIHNpZ246c2lnbiwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDp0aW1lc3RhbXAsCiAgICAgICAgICAgICAgICBmaWRsaXN0OmZpZF9saXN0LAogICAgICAgICAgICAgICAgdHlwZTp0eXBlLAogICAgICAgICAgICAgICAgY2hhbm5lbDonY2h1bmxlaScsCiAgICAgICAgICAgICAgICB3ZWI6MSwKICAgICAgICAgICAgICAgIGFwcF9pZDoyNTA1MjgsCiAgICAgICAgICAgICAgICBiZHN0b2tlbjpiZHN0b2tlbiwKICAgICAgICAgICAgICAgIGxvZ2lkOmxvZ2lkLAogICAgICAgICAgICAgICAgY2xpZW50dHlwZTowCiAgICAgICAgICAgIH07CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6ZG93bmxvYWRVcmwsCiAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgIG1ldGhvZDonR0VUJywKICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rV2l0aFJFU1RBUElCYWlkdShwYXRoKXsKICAgICAgICAgICAgdmFyIGxpbmsgPSByZXN0QVBJVXJsICsgJ2ZpbGU/bWV0aG9kPWRvd25sb2FkJmFwcF9pZD0yNTA1MjgmcGF0aD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhdGgpOwogICAgICAgICAgICByZXR1cm4gbGluazsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldERvd25sb2FkTGlua1dpdGhSRVNUQVBJRVMocGF0aCl7CiAgICAgICAgICAgIHZhciBsaW5rID0gcmVzdEFQSVVybCArICdmaWxlP21ldGhvZD1kb3dubG9hZCZhcHBfaWQ9MjY2NzE5JnBhdGg9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXRoKTsKICAgICAgICAgICAgcmV0dXJuIGxpbms7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXREb3dubG9hZExpbmtXaXRoQ2xpZW50QVBJKHBhdGgpewogICAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgICB2YXIgdXJsID0gY2xpZW50QVBJVXJsICsgJ2ZpbGU/bWV0aG9kPWxvY2F0ZWRvd25sb2FkJmFwcF9pZD0yNTA1MjgmdmVyPTQuMCZwYXRoPScgKyBlbmNvZGVVUklDb21wb25lbnQocGF0aCk7CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6dXJsLAogICAgICAgICAgICAgICAgbWV0aG9kOidQT1NUJywKICAgICAgICAgICAgICAgIHhockZpZWxkczogewogICAgICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGFzeW5jOmZhbHNlLAogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3RhdHVzQ29kZTp7CiAgICAgICAgICAgICAgICAgICAgNDA0OmZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYocmVzdWx0KXsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJvcl9jb2RlID09IHVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LnVybHMgPT0gdW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gMjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlc3VsdC51cmxzLGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnVybHNbaW5kZXhdLnVybCA9IGVsZW1lbnQudXJsLnJlcGxhY2UoJ1xcJywnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZXJybm8gPSAwOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKHJlc3VsdC5lcnJvcl9jb2RlID09IDMxMDY2KXsKICAgICAgICAgICAgICAgICAgICByZXN1bHQuZXJybm8gPSAxOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gLTE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgcmVzdWx0ID0ge307CiAgICAgICAgICAgICAgICByZXN1bHQuZXJybm8gPSAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZXhlY0Rvd25sb2FkKGxpbmspewogICAgICAgICAgICBzbG9nKCLkuIvovb3pk77mjqXvvJoiK2xpbmspOwogICAgICAgICAgICAkKCcjaGVscGVyZG93bmxvYWRpZnJhbWUnKS5hdHRyKCdzcmMnLGxpbmspOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSWZyYW1lKCl7CiAgICAgICAgICAgIHZhciAkZGl2ID0gJCgnPGRpdiBjbGFzcz0iaGVscGVyLWhpZGUiIHN0eWxlPSJwYWRkaW5nOjA7bWFyZ2luOjA7ZGlzcGxheTpibG9jayI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkaWZyYW1lID0gJCgnPGlmcmFtZSBzcmM9ImphdmFzY3JpcHQ6dm9pZCgwKSIgaWQ9ImhlbHBlcmRvd25sb2FkaWZyYW1lIiBzdHlsZT0iZGlzcGxheTpub25lIj48L2lmcmFtZT4nKTsKICAgICAgICAgICAgJGRpdi5hcHBlbmQoJGlmcmFtZSk7CiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJGRpdik7CgogICAgICAgIH0KICAgIH0KCiAgICAvL+WIhuS6q+mhtemdoueahOS4i+i9veWKqeaJiwogICAgZnVuY3Rpb24gUGFuU2hhcmVIZWxwZXIoKXsKICAgICAgICB2YXIgeXVuRGF0YSxzaWduLHRpbWVzdGFtcCxiZHN0b2tlbixjaGFubmVsLGNsaWVudHR5cGUsd2ViLGFwcF9pZCxsb2dpZCxlbmNyeXB0LHByb2R1Y3QsdWsscHJpbWFyeWlkLGZpZF9saXN0LGV4dHJhLHNoYXJlaWQ7CiAgICAgICAgdmFyIHZjb2RlOwogICAgICAgIHZhciBzaGFyZVR5cGUsYnV0dG9uVGFyZ2V0LGN1cnJlbnRQYXRoLGxpc3RfZ3JpZF9zdGF0dXMsb2JzZXJ2ZXIsZGlhbG9nLHZjb2RlRGlhbG9nOwogICAgICAgIHZhciBmaWxlTGlzdD1bXSxzZWxlY3RGaWxlTGlzdD1bXTsKICAgICAgICB2YXIgcGFuQVBJVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9jYXRpb24uaG9zdCArICIvYXBpLyI7CiAgICAgICAgdmFyIHNoYXJlTGlzdFVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyAiL3NoYXJlL2xpc3QiOwoKICAgICAgICB0aGlzLmluaXQgPSBmdW5jdGlvbigpewogICAgICAgICAgICB5dW5EYXRhID0gdW5zYWZlV2luZG93Lnl1bkRhdGE7CiAgICAgICAgICAgIHNsb2coJ3l1bkRhdGE6Jyx5dW5EYXRhKTsKICAgICAgICAgICAgaWYoeXVuRGF0YSA9PT0gdW5kZWZpbmVkIHx8IHl1bkRhdGEuRklMRUlORk8gPT0gbnVsbCl7CiAgICAgICAgICAgICAgICBzbG9nKCfpobXpnaLmnKrmraPluLjliqDovb3vvIzmiJbogIXnmb7luqblt7Lnu4/mm7TmlrDvvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpbml0UGFyYW1zKCk7CiAgICAgICAgICAgIGFkZEJ1dHRvbigpOwogICAgICAgICAgICBkaWFsb2cgPSBuZXcgRGlhbG9nKHthZGRDb3B5OmZhbHNlfSk7CiAgICAgICAgICAgIHZjb2RlRGlhbG9nID0gbmV3IFZDb2RlRGlhbG9nKHJlZnJlc2hWQ29kZSxjb25maXJtQ2xpY2spOwogICAgICAgICAgICBjcmVhdGVJZnJhbWUoKTsKCiAgICAgICAgICAgIGlmKCFpc1NpbmdsZVNoYXJlKCkpewogICAgICAgICAgICAgICAgcmVnaXN0ZXJFdmVudExpc3RlbmVyKCk7CiAgICAgICAgICAgICAgICBjcmVhdGVPYnNlcnZlcigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzbG9nKCfliIbkuqvnm7TmjqXkuIvovb3liqDovb3miJDlip8hJyk7CiAgICAgICAgfTsKCiAgICAgICAgZnVuY3Rpb24gaW5pdFBhcmFtcygpewogICAgICAgICAgICBzaGFyZVR5cGUgPSBnZXRTaGFyZVR5cGUoKTsKICAgICAgICAgICAgc2lnbiA9IHl1bkRhdGEuU0lHTjsKICAgICAgICAgICAgdGltZXN0YW1wID0geXVuRGF0YS5USU1FU1RBTVA7CiAgICAgICAgICAgIGJkc3Rva2VuID0geXVuRGF0YS5NWUJEU1RPS0VOOwogICAgICAgICAgICBjaGFubmVsID0gJ2NodW5sZWknOwogICAgICAgICAgICBjbGllbnR0eXBlID0gMDsKICAgICAgICAgICAgd2ViID0gMTsKICAgICAgICAgICAgYXBwX2lkID0gMjUwNTI4OwogICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgIGVuY3J5cHQgPSAwOwogICAgICAgICAgICBwcm9kdWN0ID0gJ3NoYXJlJzsKICAgICAgICAgICAgcHJpbWFyeWlkID0geXVuRGF0YS5TSEFSRV9JRDsKICAgICAgICAgICAgdWsgPSB5dW5EYXRhLlNIQVJFX1VLOwoKICAgICAgICAgICAgaWYoc2hhcmVUeXBlID09ICdzZWNyZXQnKXsKICAgICAgICAgICAgICAgIGV4dHJhID0gZ2V0RXh0cmEoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihpc1NpbmdsZVNoYXJlKCkpewogICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9OwogICAgICAgICAgICAgICAgaWYoeXVuRGF0YS5DQVRFR09SWSA9PSAyKXsKICAgICAgICAgICAgICAgICAgICBvYmouZmlsZW5hbWUgPSB5dW5EYXRhLkZJTEVOQU1FOwogICAgICAgICAgICAgICAgICAgIG9iai5wYXRoID0geXVuRGF0YS5QQVRIOwogICAgICAgICAgICAgICAgICAgIG9iai5mc19pZCA9IHl1bkRhdGEuRlNfSUQ7CiAgICAgICAgICAgICAgICAgICAgb2JqLmlzZGlyID0gMDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmZpbGVuYW1lID0geXVuRGF0YS5GSUxFSU5GT1swXS5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wYXRoID0geXVuRGF0YS5GSUxFSU5GT1swXS5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICBvYmouZnNfaWQgPSB5dW5EYXRhLkZJTEVJTkZPWzBdLmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICBvYmouaXNkaXIgPXl1bkRhdGEuRklMRUlORk9bMF0uaXNkaXIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNoYXJlaWQgPSB5dW5EYXRhLlNIQVJFX0lEOwogICAgICAgICAgICAgICAgY3VycmVudFBhdGggPSBnZXRQYXRoKCk7CiAgICAgICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gZ2V0TGlzdEdyaWRTdGF0dXMoKTsKICAgICAgICAgICAgICAgIGZpbGVMaXN0ID0gZ2V0RmlsZUxpc3QoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy/liKTmlq3liIbkuqvnsbvlnovvvIhwdWJsaWPmiJbogIVzZWNyZXTvvIkKICAgICAgICBmdW5jdGlvbiBnZXRTaGFyZVR5cGUoKXsKICAgICAgICAgICAgcmV0dXJuIHl1bkRhdGEuU0hBUkVfUFVCTElDPT09MSA/ICdwdWJsaWMnIDogJ3NlY3JldCc7CiAgICAgICAgfQoKICAgICAgICAvL+WIpOaWreaYr+WNleS4quaWh+S7tuWIhuS6q+i/mOaYr+aWh+S7tuWkueaIluiAheWkmuaWh+S7tuWIhuS6qwogICAgICAgIGZ1bmN0aW9uIGlzU2luZ2xlU2hhcmUoKXsKICAgICAgICAgICAgcmV0dXJuIHl1bkRhdGEuZ2V0Q29udGV4dCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgLy/liKTmlq3mmK/lkKbkuLroh6rlt7HnmoTliIbkuqvpk77mjqUKICAgICAgICBmdW5jdGlvbiBpc1NlbGZTaGFyZSgpewogICAgICAgICAgICByZXR1cm4geXVuRGF0YS5NWVNFTEYgPT0gMSA/IHRydWUgOiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldEV4dHJhKCl7CiAgICAgICAgICAgIHZhciBzZUtleSA9IGRlY29kZVVSSUNvbXBvbmVudChnZXRDb29raWUoJ0JEQ0xORCcpKTsKICAgICAgICAgICAgcmV0dXJuICd7JyArICcic2VrZXkiOiInICsgc2VLZXkgKyAnIicgKyAifSI7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluW9k+WJjeebruW9lQogICAgICAgIGZ1bmN0aW9uIGdldFBhdGgoKXsKICAgICAgICAgICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwogICAgICAgICAgICB2YXIgcmVneCA9IC8oXnwmfFwvKXBhdGg9KFteJl0qKSgmfCQpL2k7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBoYXNoLm1hdGNoKHJlZ3gpOwogICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdFsyXSk7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluW9k+WJjeeahOinhuWbvuaooeW8jwogICAgICAgIGZ1bmN0aW9uIGdldExpc3RHcmlkU3RhdHVzKCl7CiAgICAgICAgICAgIHZhciBzdGF0dXMgPSAnbGlzdCc7CiAgICAgICAgICAgIHZhciAkc3RhdHVzX2RpdiA9ICQoJ2Rpdi5saXN0LWdyaWQtc3dpdGNoJyk7CiAgICAgICAgICAgIGlmICgkc3RhdHVzX2Rpdi5oYXNDbGFzcygnbGlzdC1zd2l0Y2hlZC1vbicpKXsKICAgICAgICAgICAgICAgIHN0YXR1cyA9ICdsaXN0JzsKICAgICAgICAgICAgfSBlbHNlIGlmICgkc3RhdHVzX2Rpdi5oYXNDbGFzcygnZ3JpZC1zd2l0Y2hlZC1vbicpKSB7CiAgICAgICAgICAgICAgICBzdGF0dXMgPSAnZ3JpZCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHN0YXR1czsKICAgICAgICB9CgogICAgICAgIC8v5re75Yqg5LiL6L295Yqp5omL5oyJ6ZKuCiAgICAgICAgZnVuY3Rpb24gYWRkQnV0dG9uKCl7CiAgICAgICAgICAgIGlmKGlzU2luZ2xlU2hhcmUoKSl7CiAgICAgICAgICAgICAgICAkKCdkaXYuc2xpZGUtc2hvdy1yaWdodCcpLmNzcygnd2lkdGgnLCc1MDBweCcpOwogICAgICAgICAgICAgICAgJCgnZGl2LmZyYW1lLW1haW4nKS5jc3MoJ3dpZHRoJywnOTYlJyk7CiAgICAgICAgICAgICAgICAkKCdkaXYuc2hhcmUtZmlsZS12aWV3ZXInKS5jc3MoJ3dpZHRoJywnNzQwcHgnKS5jc3MoJ21hcmdpbi1sZWZ0JywnYXV0bycpLmNzcygnbWFyZ2luLXJpZ2h0JywnYXV0bycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICQoJ2Rpdi5zbGlkZS1zaG93LXJpZ2h0JykuY3NzKCd3aWR0aCcsJzUwMHB4Jyk7CiAgICAgICAgICAgIHZhciAkZHJvcGRvd25idXR0b24gPSAkKCc8c3BhbiBjbGFzcz0iZy1kcm9wZG93bi1idXR0b24iPjwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbl9hID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBkYXRhLWJ1dHRvbi1pZD0iYjIwMCIgZGF0YS1idXR0b24taW5kZXg9IjIwMCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PC9hPicpOwogICAgICAgICAgICB2YXIgJGRyb3Bkb3duYnV0dG9uX2Ffc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCI+PGVtIGNsYXNzPSJpY29uIGljb24tZG93bmxvYWQiIHRpdGxlPSLnmb7luqbnvZHnm5jkuIvovb3liqnmiYsiPjwvZW0+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDogYXV0bzsiPuS4i+i9veWKqeaJizwvc3Bhbj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZHJvcGRvd25idXR0b25fc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJtZW51IiBzdHlsZT0id2lkdGg6YXV0bzt6LWluZGV4OjMxIj48L3NwYW4+Jyk7CgogICAgICAgICAgICB2YXIgJGRvd25sb2FkQnV0dG9uID0gJCgnPGEgZGF0YS1tZW51LWlkPSJiLW1lbnUyMDciIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7nm7TmjqXkuIvovb08L2E+Jyk7CiAgICAgICAgICAgIHZhciAkbGlua0J1dHRvbiA9ICQoJzxhIGRhdGEtbWVudS1pZD0iYi1tZW51MjA4IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5pi+56S66ZO+5o6lPC9hPicpOwoKICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uX3NwYW4uYXBwZW5kKCRkb3dubG9hZEJ1dHRvbikuYXBwZW5kKCRsaW5rQnV0dG9uKTsKICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uX2EuYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9hX3NwYW4pOwogICAgICAgICAgICAkZHJvcGRvd25idXR0b24uYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9hKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uX3NwYW4pOwoKICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uLmhvdmVyKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAkZHJvcGRvd25idXR0b24udG9nZ2xlQ2xhc3MoJ2J1dHRvbi1vcGVuJyk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgJGRvd25sb2FkQnV0dG9uLmNsaWNrKGRvd25sb2FkQnV0dG9uQ2xpY2spOwogICAgICAgICAgICAkbGlua0J1dHRvbi5jbGljayhsaW5rQnV0dG9uQ2xpY2spOwoKICAgICAgICAgICAgJCgnZGl2Lm1vZHVsZS1zaGFyZS10b3AtYmFyIGRpdi5iYXIgZGl2LmJ1dHRvbi1ib3gnKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUlmcmFtZSgpewogICAgICAgICAgICB2YXIgJGRpdiA9ICQoJzxkaXYgY2xhc3M9ImhlbHBlci1oaWRlIiBzdHlsZT0icGFkZGluZzowO21hcmdpbjowO2Rpc3BsYXk6YmxvY2siPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGlmcmFtZSA9ICQoJzxpZnJhbWUgc3JjPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGlkPSJoZWxwZXJkb3dubG9hZGlmcmFtZSIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PC9pZnJhbWU+Jyk7CiAgICAgICAgICAgICRkaXYuYXBwZW5kKCRpZnJhbWUpOwogICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKCRkaXYpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJFdmVudExpc3RlbmVyKCl7CiAgICAgICAgICAgIHJlZ2lzdGVySGFzaENoYW5nZSgpOwogICAgICAgICAgICByZWdpc3Rlckxpc3RHcmlkU3RhdHVzKCk7CiAgICAgICAgICAgIHJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgcmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICAgICAgICByZWdpc3RlckZpbGVTZWxlY3QoKTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5Zyw5Z2A5qCPI+agh+etvuWPmOWMlgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVySGFzaENoYW5nZSgpewogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gZ2V0TGlzdEdyaWRTdGF0dXMoKTsKICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRQYXRoID09IGdldFBhdGgoKSl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGF0aCA9IGdldFBhdGgoKTsKICAgICAgICAgICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgICAgICAgICByZWZyZXNoU2VsZWN0RmlsZUxpc3QoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZWZyZXNoRmlsZUxpc3QoKXsKICAgICAgICAgICAgZmlsZUxpc3QgPSBnZXRGaWxlTGlzdCgpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaFNlbGVjdEZpbGVMaXN0KCl7CiAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgfQoKICAgICAgICAvL+ebkeinhuinhuWbvuWPmOWMlgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyTGlzdEdyaWRTdGF0dXMoKXsKICAgICAgICAgICAgdmFyICRhX2xpc3QgPSAkKCdhW25vZGUtdHlwZT1saXN0LXN3aXRjaF0nKTsKICAgICAgICAgICAgJGFfbGlzdC5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9ICdsaXN0JzsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB2YXIgJGFfZ3JpZCA9ICQoJ2Fbbm9kZS10eXBlPWdyaWQtc3dpdGNoXScpOwogICAgICAgICAgICAkYV9ncmlkLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2dyaWQnOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5paH5Lu26YCJ5oup5qGGCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJDaGVja2JveCgpewogICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJCgnc3Bhbi5jaGVja2JveCcpOwogICAgICAgICAgICAkY2hlY2tib3guZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkuYmluZCgnY2xpY2snLGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgIHZhciAkcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgaWYobGlzdF9ncmlkX3N0YXR1cyA9PSAnbGlzdCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCRwYXJlbnQpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYobGlzdF9ncmlkX3N0YXR1cyA9PSAnZ3JpZCcpewogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgYScsJHBhcmVudCkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoJHBhcmVudC5oYXNDbGFzcygnaXRlbS1hY3RpdmUnKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WPlua2iOmAieS4reaWh+S7tu+8micrZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDtpPHNlbGVjdEZpbGVMaXN0Lmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3RbaV0uZmlsZW5hbWUgPT0gZmlsZW5hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnNwbGljZShpLDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+mAieS4reaWh+S7tu+8micrZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50LnNlcnZlcl9maWxlbmFtZSA9PSBmaWxlbmFtZSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6ZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmc19pZDplbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc2RpcjplbGVtZW50LmlzZGlyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVucmVnaXN0ZXJDaGVja2JveCgpewogICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJCgnc3Bhbi5jaGVja2JveCcpOwogICAgICAgICAgICAkY2hlY2tib3guZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5YWo6YCJ5qGGCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJBbGxDaGVja2JveCgpewogICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJCgnZGl2LmNvbC1pdGVtLmNoZWNrJyk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS5iaW5kKCdjbGljaycsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgICAgICAgICAgICAgIGlmKCRwYXJlbnQuaGFzQ2xhc3MoJ2NoZWNrZWQnKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WPlua2iOWFqOmAiScpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WFqOmDqOmAieS4rScpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNkaXI6ZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckFsbENoZWNrYm94KCl7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdkaXYuY29sLWl0ZW0uY2hlY2snKTsKICAgICAgICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLnVuYmluZCgnY2xpY2snKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvL+ebkeinhuWNleS4quaWh+S7tumAieS4rQogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRmlsZVNlbGVjdCgpewogICAgICAgICAgICB2YXIgJGRkID0gJCgnZGl2Lmxpc3QtdmlldyBkZCcpOwogICAgICAgICAgICAkZGQuZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkuYmluZCgnY2xpY2snLGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgIHZhciBub2RlTmFtZSA9IGUudGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYobm9kZU5hbWUgIT0gJ3NwYW4nICYmIG5vZGVOYW1lICE9ICdhJyAmJiBub2RlTmFtZSAhPSAnZW0nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgZGl2LnRleHQgYScsJCh0aGlzKSkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2xvZygn6YCJ5Lit5paH5Lu277yaJyArIGZpbGVuYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUgPT0gZmlsZW5hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOmVsZW1lbnQucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnNfaWQ6ZWxlbWVudC5mc19pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNkaXI6ZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QucHVzaChvYmopOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB1bnJlZ2lzdGVyRmlsZVNlbGVjdCgpewogICAgICAgICAgICB2YXIgJGRkID0gJCgnZGl2Lmxpc3QtdmlldyBkZCcpOwogICAgICAgICAgICAkZGQuZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5paH5Lu25YiX6KGo5pi+56S65Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlT2JzZXJ2ZXIoKXsKICAgICAgICAgICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcjsKICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAnY2hpbGRMaXN0JzogdHJ1ZQogICAgICAgICAgICB9OwogICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucyl7CiAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHVucmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICAgICAgICAgICAgdW5yZWdpc3RlckZpbGVTZWxlY3QoKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyRmlsZVNlbGVjdCgpOyAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBsaXN0X3ZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGlzdC12aWV3Jyk7CiAgICAgICAgICAgIHZhciBncmlkX3ZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZC12aWV3Jyk7CgogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGxpc3RfdmlldyxvcHRpb25zKTsKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShncmlkX3ZpZXcsb3B0aW9ucyk7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluaWh+S7tuS/oeaBr+WIl+ihqAogICAgICAgIGZ1bmN0aW9uIGdldEZpbGVMaXN0KCl7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgICAgICAgaWYoZ2V0UGF0aCgpID09ICcvJyl7CiAgICAgICAgICAgICAgICByZXN1bHQgPSB5dW5EYXRhLkZJTEVJTkZPOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgICB1azp1aywKICAgICAgICAgICAgICAgICAgICBzaGFyZWlkOnNoYXJlaWQsCiAgICAgICAgICAgICAgICAgICAgb3JkZXI6J290aGVyJywKICAgICAgICAgICAgICAgICAgICBkZXNjOjEsCiAgICAgICAgICAgICAgICAgICAgc2hvd2VtcHR5OjAsCiAgICAgICAgICAgICAgICAgICAgd2ViOndlYiwKICAgICAgICAgICAgICAgICAgICBkaXI6Z2V0UGF0aCgpLAogICAgICAgICAgICAgICAgICAgIHQ6TWF0aC5yYW5kb20oKSwKICAgICAgICAgICAgICAgICAgICBiZHN0b2tlbjpiZHN0b2tlbiwKICAgICAgICAgICAgICAgICAgICBjaGFubmVsOmNoYW5uZWwsCiAgICAgICAgICAgICAgICAgICAgY2xpZW50dHlwZTpjbGllbnR0eXBlLAogICAgICAgICAgICAgICAgICAgIGFwcF9pZDphcHBfaWQsCiAgICAgICAgICAgICAgICAgICAgbG9naWQ6bG9naWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgICAgIHVybDpzaGFyZUxpc3RVcmwsCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOidHRVQnLAogICAgICAgICAgICAgICAgICAgIGFzeW5jOmZhbHNlLAogICAgICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5lcnJubyA9PT0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZS5saXN0OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGRvd25sb2FkQnV0dG9uQ2xpY2soKXsKICAgICAgICAgICAgc2xvZygn6YCJ5Lit5paH5Lu25YiX6KGo77yaJyxzZWxlY3RGaWxlTGlzdCk7CiAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMCl7CiAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W5paH5Lu2SUTlpLHotKXvvIzor7fph43or5UnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBidXR0b25UYXJnZXQgPSAnZG93bmxvYWQnOwogICAgICAgICAgICB2YXIgZG93bmxvYWRMaW5rID0gZ2V0RG93bmxvYWRMaW5rKCk7CgogICAgICAgICAgICBpZihkb3dubG9hZExpbmsuZXJybm8gPT0gLTIwKSB7CiAgICAgICAgICAgICAgICB2Y29kZSA9IGdldFZDb2RlKCk7CiAgICAgICAgICAgICAgICBpZih2Y29kZS5lcnJubyAhPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+iOt+WPlumqjOivgeeggeWksei0pe+8gScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZjb2RlRGlhbG9nLm9wZW4odmNvZGUpOwogICAgICAgICAgICB9IGVsc2UgaWYoZG93bmxvYWRMaW5rLmVycm5vID09IDExMil7CiAgICAgICAgICAgICAgICBhbGVydCgn6aG16Z2i6L+H5pyf77yM6K+35Yi35paw6YeN6K+VJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG93bmxvYWRMaW5rLmVycm5vID09PSAwKSB7CiAgICAgICAgICAgICAgICB2YXIgbGluazsKICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PSAxICYmIHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAwKQogICAgICAgICAgICAgICAgICAgIGxpbmsgPSBkb3dubG9hZExpbmsubGlzdFswXS5kbGluazsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBsaW5rID0gZG93bmxvYWRMaW5rLmRsaW5rOwogICAgICAgICAgICAgICAgZXhlY0Rvd25sb2FkKGxpbmspOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoJ+iOt+WPluS4i+i9vemTvuaOpeWksei0pe+8gScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPlumqjOivgeeggQogICAgICAgIGZ1bmN0aW9uIGdldFZDb2RlKCl7CiAgICAgICAgICAgIHZhciB1cmwgPSBwYW5BUElVcmwgKyAnZ2V0dmNvZGUnOwogICAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICBwcm9kOidwYW4nLAogICAgICAgICAgICAgICAgdDpNYXRoLnJhbmRvbSgpLAogICAgICAgICAgICAgICAgYmRzdG9rZW46YmRzdG9rZW4sCiAgICAgICAgICAgICAgICBjaGFubmVsOmNoYW5uZWwsCiAgICAgICAgICAgICAgICBjbGllbnR0eXBlOmNsaWVudHR5cGUsCiAgICAgICAgICAgICAgICB3ZWI6d2ViLAogICAgICAgICAgICAgICAgYXBwX2lkOmFwcF9pZCwKICAgICAgICAgICAgICAgIGxvZ2lkOmxvZ2lkCiAgICAgICAgICAgIH07CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6dXJsLAogICAgICAgICAgICAgICAgbWV0aG9kOidHRVQnLAogICAgICAgICAgICAgICAgYXN5bmM6ZmFsc2UsCiAgICAgICAgICAgICAgICBkYXRhOnBhcmFtcywKICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CgogICAgICAgIC8v5Yi35paw6aqM6K+B56CBCiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaFZDb2RlKCl7CiAgICAgICAgICAgIHZjb2RlID0gZ2V0VkNvZGUoKTsKICAgICAgICAgICAgJCgnI2RpYWxvZy1pbWcnKS5hdHRyKCdzcmMnLHZjb2RlLmltZyk7CiAgICAgICAgfQoKICAgICAgICAvL+mqjOivgeeggeehruiupOaPkOS6pAogICAgICAgIGZ1bmN0aW9uIGNvbmZpcm1DbGljaygpewogICAgICAgICAgICB2YXIgdmFsID0gJCgnI2RpYWxvZy1pbnB1dCcpLnZhbCgpOwogICAgICAgICAgICBpZih2YWwubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAkKCcjZGlhbG9nLWVycicpLnRleHQoJ+ivt+i+k+WFpemqjOivgeeggScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9IGVsc2UgaWYodmFsLmxlbmd0aCA8IDQpIHsKICAgICAgICAgICAgICAgICQoJyNkaWFsb2ctZXJyJykudGV4dCgn6aqM6K+B56CB6L6T5YWl6ZSZ6K+v77yM6K+36YeN5paw6L6T5YWlJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gCiAgICAgICAgICAgIHZhciByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoVkNvZGUodmFsKTsKICAgICAgICAgICAgaWYocmVzdWx0LmVycm5vID09IC0yMCl7CiAgICAgICAgICAgICAgICB2Y29kZURpYWxvZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgJCgnI2RpYWxvZy1lcnInKS50ZXh0KCfpqozor4HnoIHovpPlhaXplJnor6/vvIzor7fph43mlrDovpPlhaUnKTsKICAgICAgICAgICAgICAgIHJlZnJlc2hWQ29kZSgpOwogICAgICAgICAgICAgICAgaWYoIXZjb2RlIHx8IHZjb2RlLmVycm5vICE9PSAwKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W6aqM6K+B56CB5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmNvZGVEaWFsb2cub3BlbigpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5lcnJubyA9PT0gMCkgewogICAgICAgICAgICAgICAgdmNvZGVEaWFsb2cuY2xvc2UoKTsKICAgICAgICAgICAgICAgIHZhciBsaW5rOwogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09MSAmJiBzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PT0gMCkKICAgICAgICAgICAgICAgICAgICBsaW5rID0gcmVzdWx0Lmxpc3RbMF0uZGxpbms7CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgbGluayA9IHJlc3VsdC5kbGluazsKICAgICAgICAgICAgICAgIGlmKGJ1dHRvblRhcmdldCA9PSAnZG93bmxvYWQnKXsKICAgICAgICAgICAgICAgICAgICBleGVjRG93bmxvYWQobGluayk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblRhcmdldCA9PSAnbGluaycpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PSAxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggPT0wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lICsgJywnICsgZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHZhciBsaW5rTGlzdCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6ZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6WwogICAgICAgICAgICAgICAgICAgICAgICAgICAge3VybDpsaW5rLHJhbms6MX0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcCA9ICLmmL7npLrojrflj5bnmoTpk77mjqXvvIzlj6/ku6Xkvb/nlKjlj7PplK7ov4Xpm7fkuIvovb3vvIzlpI3liLbml6DnlKjvvIzpnIDopoHkvKDpgJJjb29raWUiOwogICAgICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTon5LiL6L296ZO+5o6lJyx0eXBlOidsaW5rJyxsaXN0OmxpbmtMaXN0LHRpcDp0aXB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCflj5HnlJ/plJnor6/vvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy/nlJ/miJDkuIvovb3nlKjnmoRmaWRfbGlzdOWPguaVsAogICAgICAgIGZ1bmN0aW9uIGdldEZpZExpc3QoKXsKICAgICAgICAgICAgdmFyIGZpZGxpc3QgPSBbXTsKICAgICAgICAgICAgJC5lYWNoKHNlbGVjdEZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgZmlkbGlzdC5wdXNoKGVsZW1lbnQuZnNfaWQpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuICdbJyArIGZpZGxpc3QgKyAnXSc7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBsaW5rQnV0dG9uQ2xpY2soKXsKICAgICAgICAgICAgc2xvZygn6YCJ5Lit5paH5Lu25YiX6KGo77yaJyxzZWxlY3RGaWxlTGlzdCk7CiAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMCl7CiAgICAgICAgICAgICAgICBhbGVydCgn5rKh5pyJ6YCJ5Lit5paH5Lu277yM6K+36YeN6K+VJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnV0dG9uVGFyZ2V0ID0gJ2xpbmsnOwogICAgICAgICAgICB2YXIgZG93bmxvYWRMaW5rID0gZ2V0RG93bmxvYWRMaW5rKCk7CgogICAgICAgICAgICBpZihkb3dubG9hZExpbmsuZXJybm8gPT0gLTIwKSB7CiAgICAgICAgICAgICAgICB2Y29kZSA9IGdldFZDb2RlKCk7CiAgICAgICAgICAgICAgICBpZighdmNvZGUgfHwgdmNvZGUuZXJybm8gIT09IDApewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfojrflj5bpqozor4HnoIHlpLHotKXvvIEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2Y29kZURpYWxvZy5vcGVuKHZjb2RlKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChkb3dubG9hZExpbmsuZXJybm8gPT0gMTEyKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn6aG16Z2i6L+H5pyf77yM6K+35Yi35paw6YeN6K+VJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG93bmxvYWRMaW5rLmVycm5vID09PSAwKSB7CiAgICAgICAgICAgICAgICB2YXIgbGluazsKICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PSAxICYmIHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAwKQogICAgICAgICAgICAgICAgICAgIGxpbmsgPSBkb3dubG9hZExpbmsubGlzdFswXS5kbGluazsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBsaW5rID0gZG93bmxvYWRMaW5rLmRsaW5rOwogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpCiAgICAgICAgICAgICAgICAgICAgJCgnI2RpYWxvZy1kb3dubG9hZGxpbmsnKS5hdHRyKCdocmVmJyxsaW5rKS50ZXh0KGxpbmspOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICQoJyNkaWFsb2ctZG93bmxvYWRsaW5rJykuYXR0cignaHJlZicsbGluaykudGV4dChsaW5rKTsKICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICcnOwogICAgICAgICAgICAgICAgJC5lYWNoKHNlbGVjdEZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PSAxKQogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggPT0wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lICsgJywnICsgZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciBsaW5rTGlzdCA9IHsKICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTpmaWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICB1cmxzOlsKICAgICAgICAgICAgICAgICAgICAgICAge3VybDpsaW5rLHJhbms6MX0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdmFyIHRpcCA9ICLmmL7npLrojrflj5bnmoTpk77mjqXvvIzlj6/ku6Xkvb/nlKjlj7PplK7ov4Xpm7fkuIvovb3vvIzlpI3liLbml6DnlKjvvIzpnIDopoHkvKDpgJJjb29raWUiOwogICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifkuIvovb3pk77mjqUnLHR5cGU6J2xpbmsnLGxpc3Q6bGlua0xpc3QsdGlwOnRpcH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoJ+iOt+WPluS4i+i9vemTvuaOpeWksei0pe+8gScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluS4i+i9vemTvuaOpQogICAgICAgIGZ1bmN0aW9uIGdldERvd25sb2FkTGluaygpewogICAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgICBpZihpc1NpbmdsZVNoYXJlKXsKICAgICAgICAgICAgICAgIGZpZF9saXN0ID0gZ2V0RmlkTGlzdCgpOwogICAgICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICAgICAgdmFyIHVybCA9IHBhbkFQSVVybCArICdzaGFyZWRvd25sb2FkP3NpZ249JyArIHNpZ24gKyAnJnRpbWVzdGFtcD0nICsgdGltZXN0YW1wICsgJyZiZHN0b2tlbj0nICsgYmRzdG9rZW4gKyAnJmNoYW5uZWw9JyArIGNoYW5uZWwgKyAnJmNsaWVudHR5cGU9JyArIGNsaWVudHR5cGUgKyAnJndlYj0nKyB3ZWIgKyAnJmFwcF9pZD0nICsgYXBwX2lkICsgJyZsb2dpZD0nICsgbG9naWQ7CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICAgIGVuY3J5cHQ6ZW5jcnlwdCwKICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OnByb2R1Y3QsCiAgICAgICAgICAgICAgICAgICAgdWs6dWssCiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeWlkOnByaW1hcnlpZCwKICAgICAgICAgICAgICAgICAgICBmaWRfbGlzdDpmaWRfbGlzdAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGlmKHNoYXJlVHlwZSA9PSAnc2VjcmV0Jyl7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmV4dHJhID0gZXh0cmE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PSAxIHx8IHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA+IDEpewogICAgICAgICAgICAgICAgICAgIHBhcmFtcy50eXBlID0gJ2JhdGNoJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICAgICAgdXJsOnVybCwKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6J1BPU1QnLAogICAgICAgICAgICAgICAgICAgIGFzeW5jOmZhbHNlLAogICAgICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgLy/mnInpqozor4HnoIHovpPlhaXml7bojrflj5bkuIvovb3pk77mjqUKICAgICAgICBmdW5jdGlvbiBnZXREb3dubG9hZExpbmtXaXRoVkNvZGUodmNvZGVJbnB1dCl7CiAgICAgICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgICAgIGlmKGlzU2luZ2xlU2hhcmUpewogICAgICAgICAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KCk7CiAgICAgICAgICAgICAgICB2YXIgdXJsID0gcGFuQVBJVXJsICsgJ3NoYXJlZG93bmxvYWQ/c2lnbj0nICsgc2lnbiArICcmdGltZXN0YW1wPScgKyB0aW1lc3RhbXAgKyAnJmJkc3Rva2VuPScgKyBiZHN0b2tlbiArICcmY2hhbm5lbD0nICsgY2hhbm5lbCArICcmY2xpZW50dHlwZT0nICsgY2xpZW50dHlwZSArICcmd2ViPScrIHdlYiArICcmYXBwX2lkPScgKyBhcHBfaWQgKyAnJmxvZ2lkPScgKyBsb2dpZDsKICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgICAgZW5jcnlwdDplbmNyeXB0LAogICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6cHJvZHVjdCwKICAgICAgICAgICAgICAgICAgICB2Y29kZV9pbnB1dDp2Y29kZUlucHV0LAogICAgICAgICAgICAgICAgICAgIHZjb2RlX3N0cjp2Y29kZS52Y29kZSwKICAgICAgICAgICAgICAgICAgICB1azp1aywKICAgICAgICAgICAgICAgICAgICBwcmltYXJ5aWQ6cHJpbWFyeWlkLAogICAgICAgICAgICAgICAgICAgIGZpZF9saXN0OmZpZF9saXN0CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgaWYoc2hhcmVUeXBlID09ICdzZWNyZXQnKXsKICAgICAgICAgICAgICAgICAgICBwYXJhbXMuZXh0cmEgPSBleHRyYTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09IDEgfHwgc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSApewogICAgICAgICAgICAgICAgICAgIHBhcmFtcy50eXBlID0gJ2JhdGNoJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICAgICAgdXJsOnVybCwKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6J1BPU1QnLAogICAgICAgICAgICAgICAgICAgIGFzeW5jOmZhbHNlLAogICAgICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZXhlY0Rvd25sb2FkKGxpbmspewogICAgICAgICAgICBzbG9nKCfkuIvovb3pk77mjqXvvJonK2xpbmspOwogICAgICAgICAgICAkKCcjaGVscGVyZG93bmxvYWRpZnJhbWUnKS5hdHRyKCdzcmMnLGxpbmspOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBiYXNlNjRFbmNvZGUodCl7CiAgICAgICAgdmFyIGEsIHIsIGUsIG4sIGksIHMsIG8gPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgICAgICAgZm9yIChlID0gdC5sZW5ndGgsciA9IDAsYSA9ICIiOyBlID4gcjsgKSB7CiAgICAgICAgICAgIGlmIChuID0gMjU1ICYgdC5jaGFyQ29kZUF0KHIrKyksciA9PSBlKSB7CiAgICAgICAgICAgICAgICBhICs9IG8uY2hhckF0KG4gPj4gMik7CiAgICAgICAgICAgICAgICBhICs9IG8uY2hhckF0KCgzICYgbikgPDwgNCk7CiAgICAgICAgICAgICAgICBhICs9ICI9PSI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaSA9IHQuY2hhckNvZGVBdChyKyspLHIgPT0gZSkgewogICAgICAgICAgICAgICAgYSArPSBvLmNoYXJBdChuID4+IDIpOwogICAgICAgICAgICAgICAgYSArPSBvLmNoYXJBdCgoMyAmIG4pIDw8IDQgfCAoMjQwICYgaSkgPj4gNCk7CiAgICAgICAgICAgICAgICBhICs9IG8uY2hhckF0KCgxNSAmIGkpIDw8IDIpOwogICAgICAgICAgICAgICAgYSArPSAiPSI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBzID0gdC5jaGFyQ29kZUF0KHIrKyk7CiAgICAgICAgICAgIGEgKz0gby5jaGFyQXQobiA+PiAyKTsKICAgICAgICAgICAgYSArPSBvLmNoYXJBdCgoMyAmIG4pIDw8IDQgfCAoMjQwICYgaSkgPj4gNCk7CiAgICAgICAgICAgIGEgKz0gby5jaGFyQXQoKDE1ICYgaSkgPDwgMiB8ICgxOTIgJiBzKSA+PiA2KTsKICAgICAgICAgICAgYSArPSBvLmNoYXJBdCg2MyAmIHMpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZXRlY3RQYWdlKCl7CiAgICAgICAgdmFyIHJlZ3ggPSAvW1wvXS4rW1wvXS9nOwogICAgICAgIHZhciBwYWdlID0gbG9jYXRpb24ucGF0aG5hbWUubWF0Y2gocmVneCk7CiAgICAgICAgcmV0dXJuIHBhZ2VbMF0ucmVwbGFjZSgvXC8vZywnJyk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Q29va2llKGUpIHsKICAgICAgICB2YXIgbywgdDsKICAgICAgICB2YXIgbiA9IGRvY3VtZW50LGM9ZGVjb2RlVVJJOwogICAgICAgIHJldHVybiBuLmNvb2tpZS5sZW5ndGggPiAwICYmIChvID0gbi5jb29raWUuaW5kZXhPZihlICsgIj0iKSwtMSAhPSBvKSA/IChvID0gbyArIGUubGVuZ3RoICsgMSx0ID0gbi5jb29raWUuaW5kZXhPZigiOyIsIG8pLC0xID09IHQgJiYgKHQgPSBuLmNvb2tpZS5sZW5ndGgpLGMobi5jb29raWUuc3Vic3RyaW5nKG8sIHQpKSkgOiAiIjsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRMb2dJRCgpewogICAgICAgIHZhciBuYW1lID0gIkJBSURVSUQiOwogICAgICAgIHZhciB1ID0gIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9+77yBQCPvv6Ul4oCm4oCmJiI7CiAgICAgICAgdmFyIGQgPSAvW1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZGXXxbXlx4MDAtXHg3Rl0vZzsKICAgICAgICB2YXIgZiA9IFN0cmluZy5mcm9tQ2hhckNvZGU7CiAgICAgICAgZnVuY3Rpb24gbChlKXsKICAgICAgICAgICAgaWYgKGUubGVuZ3RoIDwgMikgewogICAgICAgICAgICAgICAgdmFyIG4gPSBlLmNoYXJDb2RlQXQoMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gMTI4ID4gbiA/IGUgOiAyMDQ4ID4gbiA/IGYoMTkyIHwgbiA+Pj4gNikgKyBmKDEyOCB8IDYzICYgbikgOiBmKDIyNCB8IG4gPj4+IDEyICYgMTUpICsgZigxMjggfCBuID4+PiA2ICYgNjMpICsgZigxMjggfCA2MyAmIG4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBuID0gNjU1MzYgKyAxMDI0ICogKGUuY2hhckNvZGVBdCgwKSAtIDU1Mjk2KSArIChlLmNoYXJDb2RlQXQoMSkgLSA1NjMyMCk7CiAgICAgICAgICAgIHJldHVybiBmKDI0MCB8IG4gPj4+IDE4ICYgNykgKyBmKDEyOCB8IG4gPj4+IDEyICYgNjMpICsgZigxMjggfCBuID4+PiA2ICYgNjMpICsgZigxMjggfCA2MyAmIG4pOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnKGUpewogICAgICAgICAgICByZXR1cm4gKGUgKyAiIiArIE1hdGgucmFuZG9tKCkpLnJlcGxhY2UoZCwgbCk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIG0oZSl7CiAgICAgICAgICAgIHZhciBuID0gWzAsIDIsIDFdW2UubGVuZ3RoICUgM107CiAgICAgICAgICAgIHZhciB0ID0gZS5jaGFyQ29kZUF0KDApIDw8IDE2IHwgKGUubGVuZ3RoID4gMSA/IGUuY2hhckNvZGVBdCgxKSA6IDApIDw8IDggfCAoZS5sZW5ndGggPiAyID8gZS5jaGFyQ29kZUF0KDIpIDogMCk7CiAgICAgICAgICAgIHZhciBvID0gW3UuY2hhckF0KHQgPj4+IDE4KSwgdS5jaGFyQXQodCA+Pj4gMTIgJiA2MyksIG4gPj0gMiA/ICI9IiA6IHUuY2hhckF0KHQgPj4+IDYgJiA2MyksIG4gPj0gMSA/ICI9IiA6IHUuY2hhckF0KDYzICYgdCldOwogICAgICAgICAgICByZXR1cm4gby5qb2luKCIiKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaChlKXsKICAgICAgICAgICAgcmV0dXJuIGUucmVwbGFjZSgvW1xzXFNdezEsM30vZywgbSk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHAoKXsKICAgICAgICAgICAgcmV0dXJuIGgoZygobmV3IERhdGUoKSkuZ2V0VGltZSgpKSk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHcoZSxuKXsKICAgICAgICAgICAgcmV0dXJuIG4gPyBwKFN0cmluZyhlKSkucmVwbGFjZSgvWytcL10vZywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgcmV0dXJuICIrIiA9PSBlID8gIi0iIDogIl8iOwogICAgICAgICAgICB9KS5yZXBsYWNlKC89L2csICIiKSA6IHAoU3RyaW5nKGUpKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHcoZ2V0Q29va2llKG5hbWUpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBEaWFsb2coKXsKICAgICAgICB2YXIgbGlua0xpc3QgPSBbXTsKICAgICAgICB2YXIgc2hvd1BhcmFtczsKICAgICAgICB2YXIgZGlhbG9nLHNoYWRvdzsKICAgICAgICBmdW5jdGlvbiBjcmVhdGVEaWFsb2coKXsKICAgICAgICAgICAgdmFyIHNjcmVlbldpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKICAgICAgICAgICAgdmFyIGRpYWxvZ0xlZnQgPSBzY3JlZW5XaWR0aD44MDAgPyAoc2NyZWVuV2lkdGgtODAwKS8yIDogMDsKICAgICAgICAgICAgdmFyICRkaWFsb2dfZGl2ID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nIiBzdHlsZT0id2lkdGg6IDgwMHB4OyB0b3A6IDBweDsgYm90dG9tOiBhdXRvOyBsZWZ0OiAnK2RpYWxvZ0xlZnQrJ3B4OyByaWdodDogYXV0bzsgZGlzcGxheTogaGlkZGVuOyB2aXNpYmlsaXR5OiB2aXNpYmxlOyB6LWluZGV4OiA1MjsiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19oZWFkZXIgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctaGVhZGVyIj48aDM+PHNwYW4gY2xhc3M9ImRpYWxvZy10aXRsZSIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjc0MHB4O3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdy14OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIj48L3NwYW4+PC9oMz48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfY29udHJvbCA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1jb250cm9sIj48c3BhbiBjbGFzcz0iZGlhbG9nLWljb24gZGlhbG9nLWNsb3NlIj7Dlzwvc3Bhbj48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfYm9keSA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1ib2R5IiBzdHlsZT0ibWF4LWhlaWdodDo0NTBweDtvdmVyZmxvdy15OmF1dG87cGFkZGluZzowIDIwcHg7Ij48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfdGlwID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLXRpcCIgc3R5bGU9InBhZGRpbmctbGVmdDoyMHB4O2JhY2tncm91bmQtY29sb3I6I2ZhZjJkMztib3JkZXItdG9wOiAxcHggc29saWQgI2M0ZGJmZTsiPjxwPjwvcD48L2Rpdj4nKTsKCiAgICAgICAgICAgICRkaWFsb2dfZGl2LmFwcGVuZCgkZGlhbG9nX2hlYWRlci5hcHBlbmQoJGRpYWxvZ19jb250cm9sKSkuYXBwZW5kKCRkaWFsb2dfYm9keSk7CgogICAgICAgICAgICAvL3ZhciAkZGlhbG9nX3RleHRhcmVhID0gJCgnPHRleHRhcmVhIGNsYXNzPSJkaWFsb2ctdGV4dGFyZWEiIHN0eWxlPSJkaXNwbGF5Om5vbmU7d2lkdGgiPjwvdGV4dGFyZWE+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX3JhZGlvX2RpdiA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1yYWRpbyIgc3R5bGU9ImRpc3BsYXk6bm9uZTt3aWR0aDo3NjBweDtwYWRkaW5nLWxlZnQ6MjBweDtwYWRkaW5nLXJpZ2h0OjIwcHgiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19yYWRpb19tdWx0aSA9ICQoJzxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0ic2hvd21vZGUiIGNoZWNrZWQ9ImNoZWNrZWQiIHZhbHVlPSJtdWx0aSI+PHNwYW4+5aSa6KGMPC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19yYWRpb19zaW5nbGUgPSAkKCc8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InNob3dtb2RlIiB2YWx1ZT0ic2luZ2xlIj48c3Bhbj7ljZXooYw8L3NwYW4+Jyk7CiAgICAgICAgICAgICRkaWFsb2dfcmFkaW9fZGl2LmFwcGVuZCgkZGlhbG9nX3JhZGlvX211bHRpKS5hcHBlbmQoJGRpYWxvZ19yYWRpb19zaW5nbGUpOwogICAgICAgICAgICAkZGlhbG9nX2Rpdi5hcHBlbmQoJGRpYWxvZ19yYWRpb19kaXYpOwogICAgICAgICAgICAkKCdpbnB1dFt0eXBlPXJhZGlvXVtuYW1lPXNob3dtb2RlXScsJGRpYWxvZ19yYWRpb19kaXYpLmNoYW5nZShmdW5jdGlvbigpewogICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZTsKICAgICAgICAgICAgICAgIHZhciAkdGV4dGFyZWEgPSAkKCdkaXYuZGlhbG9nLWJvZHkgdGV4dGFyZWFbbmFtZT1kaWFsb2ctdGV4dGFyZWFdJyxkaWFsb2cpOwogICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSAkdGV4dGFyZWEudmFsKCk7CiAgICAgICAgICAgICAgICBpZih2YWx1ZSA9PSAnbXVsdGknKXsKICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC9ccysvZywnXG4nKTsKICAgICAgICAgICAgICAgICAgICAkdGV4dGFyZWEuY3NzKCdoZWlnaHQnLCczMDBweCcpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKHZhbHVlID09ICdzaW5nbGUnKXsKICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC9cbisvZywnICcpOwogICAgICAgICAgICAgICAgICAgICR0ZXh0YXJlYS5jc3MoJ2hlaWdodCcsJycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJHRleHRhcmVhLnZhbChjb250ZW50KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB2YXIgJGRpYWxvZ19idXR0b24gPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctYnV0dG9uIiBzdHlsZT0iZGlzcGxheTpub25lIj48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfYnV0dG9uX2RpdiA9ICQoJzxkaXYgc3R5bGU9ImRpc3BsYXk6dGFibGU7bWFyZ2luOmF1dG8iPjwvZGl2PicpCiAgICAgICAgICAgIHZhciAkZGlhbG9nX2NvcHlfYnV0dG9uID0gJCgnPGJ1dHRvbiBpZD0iZGlhbG9nLWNvcHktYnV0dG9uIiBzdHlsZT0iZGlzcGxheTpub25lIj7lpI3liLY8L2J1dHRvbj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfZWRpdF9idXR0b24gPSAkKCc8YnV0dG9uIGlkPSJkaWFsb2ctZWRpdC1idXR0b24iIHN0eWxlPSJkaXNwbGF5Om5vbmUiPue8lui+kTwvYnV0dG9uPicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19leGl0X2J1dHRvbiA9ICQoJzxidXR0b24gaWQ9ImRpYWxvZy1leGl0LWJ1dHRvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+6YCA5Ye6PC9idXR0b24+Jyk7CgogICAgICAgICAgICAkZGlhbG9nX2J1dHRvbl9kaXYuYXBwZW5kKCRkaWFsb2dfY29weV9idXR0b24pLmFwcGVuZCgkZGlhbG9nX2VkaXRfYnV0dG9uKS5hcHBlbmQoJGRpYWxvZ19leGl0X2J1dHRvbik7CiAgICAgICAgICAgICRkaWFsb2dfYnV0dG9uLmFwcGVuZCgkZGlhbG9nX2J1dHRvbl9kaXYpOwogICAgICAgICAgICAkZGlhbG9nX2Rpdi5hcHBlbmQoJGRpYWxvZ19idXR0b24pOwoKICAgICAgICAgICAgJGRpYWxvZ19jb3B5X2J1dHRvbi5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSAnJzsKICAgICAgICAgICAgICAgIGlmKHNob3dQYXJhbXMudHlwZSA9PSAnYmF0Y2gnKXsKICAgICAgICAgICAgICAgICAgICAkLmVhY2gobGlua0xpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuZG93bmxvYWRsaW5rID09ICdlcnJvcicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGluZGV4ID09IGxpbmtMaXN0Lmxlbmd0aC0xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBlbGVtZW50LmRvd25sb2FkbGluazsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9ICBjb250ZW50ICsgZWxlbWVudC5kb3dubG9hZGxpbmsgKyAnXG4nOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKHNob3dQYXJhbXMudHlwZSA9PSAnbGluaycpewogICAgICAgICAgICAgICAgICAgICQuZWFjaChsaW5rTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC51cmwgPT0gJ2Vycm9yJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggPT0gbGlua0xpc3QubGVuZ3RoLTEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQudXJsOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gIGNvbnRlbnQgKyBlbGVtZW50LnVybCArICdcbic7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBHTV9zZXRDbGlwYm9hcmQoY29udGVudCwndGV4dCcpOwogICAgICAgICAgICAgICAgYWxlcnQoJ+W3suWwhumTvuaOpeWkjeWItuWIsOWJqui0tOadv++8gScpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICRkaWFsb2dfZWRpdF9idXR0b24uY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHZhciAkZGlhbG9nX3RleHRhcmVhID0gJCgnZGl2LmRpYWxvZy1ib2R5IHRleHRhcmVhW25hbWU9ZGlhbG9nLXRleHRhcmVhXScsZGlhbG9nKTsKICAgICAgICAgICAgICAgIHZhciAkZGlhbG9nX2l0ZW0gPSAkKCdkaXYuZGlhbG9nLWJvZHkgZGl2JyxkaWFsb2cpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19pdGVtLmhpZGUoKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfY29weV9idXR0b24uaGlkZSgpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19lZGl0X2J1dHRvbi5oaWRlKCk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX3RleHRhcmVhLnNob3coKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfcmFkaW9fZGl2LnNob3coKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfZXhpdF9idXR0b24uc2hvdygpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICRkaWFsb2dfZXhpdF9idXR0b24uY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHZhciAkZGlhbG9nX3RleHRhcmVhID0gJCgnZGl2LmRpYWxvZy1ib2R5IHRleHRhcmVhW25hbWU9ZGlhbG9nLXRleHRhcmVhXScsZGlhbG9nKTsKICAgICAgICAgICAgICAgIHZhciAkZGlhbG9nX2l0ZW0gPSAkKCdkaXYuZGlhbG9nLWJvZHkgZGl2JyxkaWFsb2cpOwogICAgICAgICAgICAgICAgJGRpYWxvZ190ZXh0YXJlYS5oaWRlKCk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX3JhZGlvX2Rpdi5oaWRlKCk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX2l0ZW0uc2hvdygpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19leGl0X2J1dHRvbi5oaWRlKCk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX2NvcHlfYnV0dG9uLnNob3coKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfZWRpdF9idXR0b24uc2hvdygpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICRkaWFsb2dfZGl2LmFwcGVuZCgkZGlhbG9nX3RpcCk7CiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJGRpYWxvZ19kaXYpOwogICAgICAgICAgICAkZGlhbG9nX2Rpdi5kaWFsb2dEcmFnKCk7CiAgICAgICAgICAgICRkaWFsb2dfY29udHJvbC5jbGljayhkaWFsb2dDb250cm9sKTsKICAgICAgICAgICAgcmV0dXJuICRkaWFsb2dfZGl2OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlU2hhZG93KCl7CiAgICAgICAgICAgIHZhciAkc2hhZG93ID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLXNoYWRvdyIgc3R5bGU9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMHB4OyB0b3A6IDBweDsgei1pbmRleDogNTA7IGJhY2tncm91bmQ6IHJnYigwLCAwLCAwKSBub25lIHJlcGVhdCBzY3JvbGwgMCUgMCU7IG9wYWNpdHk6IDAuNTsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgZGlzcGxheTogbm9uZTsiPjwvZGl2PicpOwogICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKCRzaGFkb3cpOwogICAgICAgICAgICByZXR1cm4gJHNoYWRvdzsKICAgICAgICB9CgogICAgICAgIHRoaXMub3BlbiA9IGZ1bmN0aW9uKHBhcmFtcyl7CiAgICAgICAgICAgIHNob3dQYXJhbXMgPSBwYXJhbXM7CiAgICAgICAgICAgIGxpbmtMaXN0ID0gW107CiAgICAgICAgICAgIGlmKHBhcmFtcy50eXBlID09ICdsaW5rJyl7CiAgICAgICAgICAgICAgICBsaW5rTGlzdCA9IHBhcmFtcy5saXN0LnVybHM7CiAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWhlYWRlciBoMyBzcGFuLmRpYWxvZy10aXRsZScsZGlhbG9nKS50ZXh0KHBhcmFtcy50aXRsZSArICLvvJoiICtwYXJhbXMubGlzdC5maWxlbmFtZSk7CiAgICAgICAgICAgICAgICAkLmVhY2gocGFyYW1zLmxpc3QudXJscyxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICB2YXIgJGRpdiA9ICQoJzxkaXY+PGRpdiBzdHlsZT0id2lkdGg6MzBweDtmbG9hdDpsZWZ0Ij4nK2VsZW1lbnQucmFuaysnOjwvZGl2PjxkaXYgc3R5bGU9IndoaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyI+PGEgaHJlZj0iJytlbGVtZW50LnVybCsnIj4nK2VsZW1lbnQudXJsKyc8L2E+PC9kaXY+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1ib2R5JyxkaWFsb2cpLmFwcGVuZCgkZGl2KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYocGFyYW1zLnR5cGUgPT0gJ2JhdGNoJyl7CiAgICAgICAgICAgICAgICBsaW5rTGlzdCA9IHBhcmFtcy5saXN0OwogICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1oZWFkZXIgaDMgc3Bhbi5kaWFsb2ctdGl0bGUnLGRpYWxvZykudGV4dChwYXJhbXMudGl0bGUpOwogICAgICAgICAgICAgICAgaWYocGFyYW1zLnNob3dhbGwpewogICAgICAgICAgICAgICAgICAgICQuZWFjaChwYXJhbXMubGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtX2RpdiA9ICQoJzxkaXYgY2xhc3M9Iml0ZW0tY29udGFpbmVyIiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwIj48L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtX25hbWUgPSAkKCc8ZGl2IHN0eWxlPSJ3aWR0aDoxMDBweDtmbG9hdDpsZWZ0O292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIiB0aXRsZT0iJytlbGVtZW50LmZpbGVuYW1lKyciPicrZWxlbWVudC5maWxlbmFtZSsnPC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbV9zZXAgPSAkKCc8ZGl2IHN0eWxlPSJ3aWR0aDoxMnB4O2Zsb2F0OmxlZnQiPjxzcGFuPu+8mjwvc3Bhbj48L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtX2xpbmtfZGl2ID0gJCgnPGRpdiBjbGFzcz0iaXRlbS1saW5rIiBzdHlsZT0iZmxvYXQ6bGVmdDt3aWR0aDo2MThweDsiPjwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGl0ZW1fZmlyc3QgPSAkKCc8ZGl2IGNsYXNzPSJpdGVtLWZpcnN0IiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiPjxhIGhyZWY9IicrZWxlbWVudC5kb3dubG9hZGxpbmsrJyI+JytlbGVtZW50LmRvd25sb2FkbGluaysnPC9hPjwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICAgICAkaXRlbV9saW5rX2Rpdi5hcHBlbmQoJGl0ZW1fZmlyc3QpOwogICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2gocGFyYW1zLmFsbGxpc3RbaW5kZXhdLmxpbmtzLGZ1bmN0aW9uKG4saXRlbSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50LmRvd25sb2FkbGluayA9PSBpdGVtLnVybCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGl0ZW0gPSAkKCc8ZGl2IGNsYXNzPSJpdGVtLWV4IiBzdHlsZT0iZGlzcGxheTpub25lO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIj48YSBocmVmPSInK2l0ZW0udXJsKyciPicraXRlbS51cmwrJzwvYT48L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtX2xpbmtfZGl2LmFwcGVuZCgkaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGl0ZW1fZXggPSAkKCc8ZGl2IHN0eWxlPSJ3aWR0aDoxNXB4O2Zsb2F0OmxlZnQ7Y3Vyc29yOnBvaW50ZXI7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjE2cHgiPjxzcGFuPis8L3NwYW4+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtX2Rpdi5hcHBlbmQoJGl0ZW1fbmFtZSkuYXBwZW5kKCRpdGVtX3NlcCkuYXBwZW5kKCRpdGVtX2xpbmtfZGl2KS5hcHBlbmQoJGl0ZW1fZXgpOwogICAgICAgICAgICAgICAgICAgICAgICAkaXRlbV9leC5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBhcmVudC50b2dnbGVDbGFzcygnc2hvd2FsbCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHBhcmVudC5oYXNDbGFzcygnc2hvd2FsbCcpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnRleHQoJy0nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdkaXYuaXRlbS1saW5rIGRpdi5pdGVtLWV4JywkcGFyZW50KS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykudGV4dCgnKycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2Rpdi5pdGVtLWxpbmsgZGl2Lml0ZW0tZXgnLCRwYXJlbnQpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYm9keScsZGlhbG9nKS5hcHBlbmQoJGl0ZW1fZGl2KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICQuZWFjaChwYXJhbXMubGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRkaXYgPSAkKCc8ZGl2IHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXAiPjxkaXYgc3R5bGU9IndpZHRoOjEwMHB4O2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiIHRpdGxlPSInK2VsZW1lbnQuZmlsZW5hbWUrJyI+JytlbGVtZW50LmZpbGVuYW1lKyc8L2Rpdj48c3Bhbj7vvJo8L3NwYW4+PGEgaHJlZj0iJytlbGVtZW50LmRvd25sb2FkbGluaysnIj4nK2VsZW1lbnQuZG93bmxvYWRsaW5rKyc8L2E+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYm9keScsZGlhbG9nKS5hcHBlbmQoJGRpdik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKHBhcmFtcy50aXApewogICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy10aXAgcCcsZGlhbG9nKS50ZXh0KHBhcmFtcy50aXApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZihwYXJhbXMuc2hvd2NvcHkpewogICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24nLGRpYWxvZykuc2hvdygpOwogICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24gYnV0dG9uI2RpYWxvZy1jb3B5LWJ1dHRvbicsZGlhbG9nKS5zaG93KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYocGFyYW1zLnNob3dlZGl0KXsKICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uJyxkaWFsb2cpLnNob3coKTsKICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uIGJ1dHRvbiNkaWFsb2ctZWRpdC1idXR0b24nLGRpYWxvZykuc2hvdygpOwogICAgICAgICAgICAgICAgdmFyICRkaWFsb2dfdGV4dGFyZWEgPSAkKCc8dGV4dGFyZWEgbmFtZT0iZGlhbG9nLXRleHRhcmVhIiBzdHlsZT0iZGlzcGxheTpub25lO3Jlc2l6ZTpub25lO3dpZHRoOjc1OHB4O2hlaWdodDozMDBweDt3aGl0ZS1zcGFjZTpwcmU7d29yZC13cmFwOm5vcm1hbDtvdmVyZmxvdy14OnNjcm9sbCI+PC90ZXh0YXJlYT4nKTsKICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gJyc7CiAgICAgICAgICAgICAgICBpZihzaG93UGFyYW1zLnR5cGUgPT0gJ2JhdGNoJyl7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGxpbmtMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50LmRvd25sb2FkbGluayA9PSAnZXJyb3InKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA9PSBsaW5rTGlzdC5sZW5ndGgtMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgZWxlbWVudC5kb3dubG9hZGxpbms7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAgY29udGVudCArIGVsZW1lbnQuZG93bmxvYWRsaW5rICsgJ1xuJzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZihzaG93UGFyYW1zLnR5cGUgPT0gJ2xpbmsnKXsKICAgICAgICAgICAgICAgICAgICAkLmVhY2gobGlua0xpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQudXJsID09ICdlcnJvcicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGluZGV4ID09IGxpbmtMaXN0Lmxlbmd0aC0xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBlbGVtZW50LnVybDsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9ICBjb250ZW50ICsgZWxlbWVudC51cmwgKyAnXG4nOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJGRpYWxvZ190ZXh0YXJlYS52YWwoY29udGVudCk7CiAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJvZHknLGRpYWxvZykuYXBwZW5kKCRkaWFsb2dfdGV4dGFyZWEpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzaGFkb3cuc2hvdygpOwogICAgICAgICAgICBkaWFsb2cuc2hvdygpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGRpYWxvZ0NvbnRyb2woKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGRpYWxvZ0NvbnRyb2woKXsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1ib2R5JyxkaWFsb2cpLmNoaWxkcmVuKCkucmVtb3ZlKCk7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctaGVhZGVyIGgzIHNwYW4uZGlhbG9nLXRpdGxlJyxkaWFsb2cpLnRleHQoJycpOwogICAgICAgICAgICAkKCdkaXYuZGlhbG9nLXRpcCBwJyxkaWFsb2cpLnRleHQoJycpOwogICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbicsZGlhbG9nKS5oaWRlKCk7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctcmFkaW8gaW5wdXRbdHlwZT1yYWRpb11bbmFtZT1zaG93bW9kZV1bdmFsdWU9bXVsdGldJyxkaWFsb2cpLnByb3AoJ2NoZWNrZWQnLHRydWUpOwogICAgICAgICAgICAkKCdkaXYuZGlhbG9nLXJhZGlvJyxkaWFsb2cpLmhpZGUoKTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24gYnV0dG9uI2RpYWxvZy1jb3B5LWJ1dHRvbicsZGlhbG9nKS5oaWRlKCk7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uIGJ1dHRvbiNkaWFsb2ctZWRpdC1idXR0b24nLGRpYWxvZykuaGlkZSgpOwogICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbiBidXR0b24jZGlhbG9nLWV4aXQtYnV0dG9uJyxkaWFsb2cpLmhpZGUoKTsKICAgICAgICAgICAgZGlhbG9nLmhpZGUoKTsKICAgICAgICAgICAgc2hhZG93LmhpZGUoKTsKICAgICAgICB9CgogICAgICAgIGRpYWxvZyA9IGNyZWF0ZURpYWxvZygpOwogICAgICAgIHNoYWRvdyA9IGNyZWF0ZVNoYWRvdygpOwogICAgfQoKICAgIGZ1bmN0aW9uIFZDb2RlRGlhbG9nKHJlZnJlc2hWQ29kZSxjb25maXJtQ2xpY2spewogICAgICAgIHZhciBkaWFsb2csc2hhZG93OwogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURpYWxvZygpewogICAgICAgICAgICB2YXIgc2NyZWVuV2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICAgICAgICB2YXIgZGlhbG9nTGVmdCA9IHNjcmVlbldpZHRoPjUyMCA/IChzY3JlZW5XaWR0aC01MjApLzIgOiAwOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19kaXYgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ciIGlkPSJkaWFsb2ctdmNvZGUiIHN0eWxlPSJ3aWR0aDo1MjBweDt0b3A6MHB4O2JvdHRvbTphdXRvO2xlZnQ6JytkaWFsb2dMZWZ0KydweDtyaWdodDphdXRvO2Rpc3BsYXk6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ei1pbmRleDo1MiI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2hlYWRlciA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1oZWFkZXIiPjxoMz48c3BhbiBjbGFzcz0iZGlhbG9nLWhlYWRlci10aXRsZSI+PGVtIGNsYXNzPSJzZWxlY3QtdGV4dCI+5o+Q56S6PC9lbT48L3NwYW4+PC9oMz48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfY29udHJvbCA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1jb250cm9sIj48c3BhbiBjbGFzcz0iZGlhbG9nLWljb24gZGlhbG9nLWNsb3NlIGljb24gaWNvbi1jbG9zZSI+PHNwYW4gY2xhc3M9InNpY29uIj54PC9zcGFuPjwvc3Bhbj48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfYm9keSA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1ib2R5Ij48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfYm9keV9kaXYgPSAkKCc8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjIycHgiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19ib2R5X2Rvd25sb2FkX3ZlcmlmeSA9ICQoJzxkaXYgY2xhc3M9ImRvd25sb2FkLXZlcmlmeSIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDtwYWRkaW5nOjAgMjhweDt0ZXh0LWFsaWduOmxlZnQ7Zm9udC1zaXplOjEycHg7Ij48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfdmVyaWZ5X2JvZHkgPSAkKCc8ZGl2IGNsYXNzPSJ2ZXJpZnktYm9keSI+6K+36L6T5YWl6aqM6K+B56CB77yaPC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2lucHV0ID0gJCgnPGlucHV0IGlkPSJkaWFsb2ctaW5wdXQiIHR5cGU9InRleHQiIHN0eWxlPSJwYWRkaW5nOjNweDt3aWR0aDo4NXB4O2hlaWdodDoyM3B4O2JvcmRlcjoxcHggc29saWQgI2M2YzZjNjtiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTsiIGNsYXNzPSJpbnB1dC1jb2RlIiBtYXhsZW5ndGg9IjQiPicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19pbWcgPSAkKCc8aW1nIGlkPSJkaWFsb2ctaW1nIiBjbGFzcz0iaW1nLWNvZGUiIHN0eWxlPSJtYXJnaW4tbGVmdDoxMHB4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZTsiIGFsdD0i54K55Ye75o2i5LiA5bygIiBzcmM9IiIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIzMCI+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX3JlZnJlc2ggPSAkKCc8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIHN0eWxlPSJ0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOyIgY2xhc3M9InVuZGVybGluZSI+5o2i5LiA5bygPC9hPicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19lcnIgPSAkKCc8ZGl2IGlkPSJkaWFsb2ctZXJyIiBzdHlsZT0icGFkZGluZy1sZWZ0Ojg0cHg7aGVpZ2h0OjE4cHg7Y29sb3I6I2Q4MDAwMCIgY2xhc3M9InZlcmlmeS1lcnJvciI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2Zvb3RlciA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1mb290ZXIgZy1jbGVhcmZpeCI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2NvbmZpcm1fYnV0dG9uID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIGctYnV0dG9uLWJsdWUiIGRhdGEtYnV0dG9uLWlkPSIiIGRhdGEtYnV0dG9uLWluZGV4IGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgc3R5bGU9InBhZGRpbmctbGVmdDozNnB4Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiIHN0eWxlPSJwYWRkaW5nLXJpZ2h0OjM2cHg7Ij48c3BhbiBjbGFzcz0idGV4dCIgc3R5bGU9IndpZHRoOmF1dG87Ij7noa7lrpo8L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfY2FuY2VsX2J1dHRvbiA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiIgZGF0YS1idXR0b24taWQ9IiIgZGF0YS1idXR0b24taW5kZXggaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyIgc3R5bGU9InBhZGRpbmctbGVmdDogMzZweDsiPjxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCIgc3R5bGU9InBhZGRpbmctcmlnaHQ6IDM2cHg7Ij48c3BhbiBjbGFzcz0idGV4dCIgc3R5bGU9IndpZHRoOiBhdXRvOyI+5Y+W5raIPC9zcGFuPjwvc3Bhbj48L2E+Jyk7CgogICAgICAgICAgICAkZGlhbG9nX2hlYWRlci5hcHBlbmQoJGRpYWxvZ19jb250cm9sKTsKICAgICAgICAgICAgJGRpYWxvZ192ZXJpZnlfYm9keS5hcHBlbmQoJGRpYWxvZ19pbnB1dCkuYXBwZW5kKCRkaWFsb2dfaW1nKS5hcHBlbmQoJGRpYWxvZ19yZWZyZXNoKTsKICAgICAgICAgICAgJGRpYWxvZ19ib2R5X2Rvd25sb2FkX3ZlcmlmeS5hcHBlbmQoJGRpYWxvZ192ZXJpZnlfYm9keSkuYXBwZW5kKCRkaWFsb2dfZXJyKTsKICAgICAgICAgICAgJGRpYWxvZ19ib2R5X2Rpdi5hcHBlbmQoJGRpYWxvZ19ib2R5X2Rvd25sb2FkX3ZlcmlmeSk7CiAgICAgICAgICAgICRkaWFsb2dfYm9keS5hcHBlbmQoJGRpYWxvZ19ib2R5X2Rpdik7CiAgICAgICAgICAgICRkaWFsb2dfZm9vdGVyLmFwcGVuZCgkZGlhbG9nX2NvbmZpcm1fYnV0dG9uKS5hcHBlbmQoJGRpYWxvZ19jYW5jZWxfYnV0dG9uKTsKICAgICAgICAgICAgJGRpYWxvZ19kaXYuYXBwZW5kKCRkaWFsb2dfaGVhZGVyKS5hcHBlbmQoJGRpYWxvZ19ib2R5KS5hcHBlbmQoJGRpYWxvZ19mb290ZXIpOwogICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKCRkaWFsb2dfZGl2KTsKCiAgICAgICAgICAgICRkaWFsb2dfZGl2LmRpYWxvZ0RyYWcoKTsKCiAgICAgICAgICAgICRkaWFsb2dfY29udHJvbC5jbGljayhkaWFsb2dDb250cm9sKTsKICAgICAgICAgICAgJGRpYWxvZ19pbWcuY2xpY2socmVmcmVzaFZDb2RlKTsKICAgICAgICAgICAgJGRpYWxvZ19yZWZyZXNoLmNsaWNrKHJlZnJlc2hWQ29kZSk7CiAgICAgICAgICAgICRkaWFsb2dfaW5wdXQua2V5cHJlc3MoZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgaWYoZXZlbnQud2hpY2ggPT0gMTMpCiAgICAgICAgICAgICAgICAgICAgY29uZmlybUNsaWNrKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkZGlhbG9nX2NvbmZpcm1fYnV0dG9uLmNsaWNrKGNvbmZpcm1DbGljayk7CiAgICAgICAgICAgICRkaWFsb2dfY2FuY2VsX2J1dHRvbi5jbGljayhkaWFsb2dDb250cm9sKTsKICAgICAgICAgICAgJGRpYWxvZ19pbnB1dC5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgJCgnI2RpYWxvZy1lcnInKS50ZXh0KCcnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiAkZGlhbG9nX2RpdjsKICAgICAgICB9CiAgICAgICAgdGhpcy5vcGVuID0gZnVuY3Rpb24odmNvZGUpewogICAgICAgICAgICBpZih2Y29kZSkKICAgICAgICAgICAgICAgICQoJyNkaWFsb2ctaW1nJykuYXR0cignc3JjJyx2Y29kZS5pbWcpOwogICAgICAgICAgICBkaWFsb2cuc2hvdygpOwogICAgICAgICAgICBzaGFkb3cuc2hvdygpOwogICAgICAgIH0KICAgICAgICB0aGlzLmNsb3NlID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgZGlhbG9nQ29udHJvbCgpOwogICAgICAgIH0KICAgICAgICBkaWFsb2cgPSBjcmVhdGVEaWFsb2coKTsKICAgICAgICBzaGFkb3cgPSAkKCdkaXYuZGlhbG9nLXNoYWRvdycpOwogICAgICAgIGZ1bmN0aW9uIGRpYWxvZ0NvbnRyb2woKXsKICAgICAgICAgICAgJCgnI2RpYWxvZy1pbWcnLGRpYWxvZykuYXR0cignc3JjJywnJyk7CiAgICAgICAgICAgICQoJyNkaWFsb2ctZXJyJykudGV4dCgnJyk7CiAgICAgICAgICAgIGRpYWxvZy5oaWRlKCk7CiAgICAgICAgICAgIHNoYWRvdy5oaWRlKCk7CiAgICAgICAgfQogICAgfQoKICAgICQuZm4uZGlhbG9nRHJhZyA9IGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIG1vdXNlSW5pdFgsbW91c2VJbml0WSxkaWFsb2dJbml0WCxkaWFsb2dJbml0WTsKICAgICAgICB2YXIgc2NyZWVuV2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICAgIHZhciAkcGFyZW50ID0gdGhpczsKICAgICAgICAkKCdkaXYuZGlhbG9nLWhlYWRlcicsdGhpcykubW91c2Vkb3duKGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgbW91c2VJbml0WCA9IHBhcnNlSW50KGV2ZW50LnBhZ2VYKTsKICAgICAgICAgICAgbW91c2VJbml0WSA9IHBhcnNlSW50KGV2ZW50LnBhZ2VZKTsKICAgICAgICAgICAgZGlhbG9nSW5pdFggPSBwYXJzZUludCgkcGFyZW50LmNzcygnbGVmdCcpLnJlcGxhY2UoJ3B4JywnJykpOwogICAgICAgICAgICBkaWFsb2dJbml0WSA9IHBhcnNlSW50KCRwYXJlbnQuY3NzKCd0b3AnKS5yZXBsYWNlKCdweCcsJycpKTsKICAgICAgICAgICAgJCh0aGlzKS5tb3VzZW1vdmUoZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgdmFyIHRlbXBYID0gZGlhbG9nSW5pdFggKyBwYXJzZUludChldmVudC5wYWdlWCkgLSBtb3VzZUluaXRYOwogICAgICAgICAgICAgICAgdmFyIHRlbXBZID0gZGlhbG9nSW5pdFkgKyBwYXJzZUludChldmVudC5wYWdlWSkgLSBtb3VzZUluaXRZOwogICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gcGFyc2VJbnQoJHBhcmVudC5jc3MoJ3dpZHRoJykucmVwbGFjZSgncHgnLCcnKSk7CiAgICAgICAgICAgICAgICB0ZW1wWCA9IHRlbXBYPDAgPyAwIDogdGVtcFg+c2NyZWVuV2lkdGgtd2lkdGggPyBzY3JlZW5XaWR0aC13aWR0aCA6IHRlbXBYOwogICAgICAgICAgICAgICAgdGVtcFkgPSB0ZW1wWTwwID8gMCA6IHRlbXBZOwogICAgICAgICAgICAgICAgJHBhcmVudC5jc3MoJ2xlZnQnLHRlbXBYKydweCcpLmNzcygndG9wJyx0ZW1wWSsncHgnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgJCgnZGl2LmRpYWxvZy1oZWFkZXInLHRoaXMpLm1vdXNldXAoZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAkKHRoaXMpLnVuYmluZCgnbW91c2Vtb3ZlJyk7CiAgICAgICAgfSk7CiAgICB9Cgp9KSgpOw=="},{"name":"Anti-Adblock Killer | Reek","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":true,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["*"],"orig_excludes":[],"orig_includes":["http://*/*","https://*/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":["githubusercontent.com"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"nextchecklist":"s1490867169484","nextcheckupdate":"s1490872756124"},"ts":1490780769484},"enabled":true,"position":39,"file_url":"https://raw.githubusercontent.com/reek/anti-adblock-killer/master/anti-adblock-killer.user.js","uuid":"5ff7ad7e-71b0-428d-8a20-d7e46e4c3724","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgQW50aS1BZGJsb2NrIEtpbGxlciB8IFJlZWsKLy8gQG5hbWVzcGFjZSBodHRwczovL3VzZXJzY3JpcHRzLm9yZy9zY3JpcHRzL3Nob3cvMTU1ODQwCi8vIEBkZXNjcmlwdGlvbiBIZWxwcyB5b3Uga2VlcCB5b3VyIEFkLUJsb2NrZXIgYWN0aXZlLCB3aGVuIHlvdSB2aXNpdCBhIHdlYnNpdGUgYW5kIGl0IGFza3MgeW91IHRvIGRpc2FibGUuCi8vIEBhdXRob3IgUmVlayB8IHJlZWtzaXRlLmNvbQovLyBAdmVyc2lvbiAxMC4wCi8vIEBlbmNvZGluZyB1dGYtOAovLyBAbGljZW5zZSBodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvNC4wLwovLyBAaWNvbiBodHRwczovL3Jhdy5naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9tYXN0ZXIvYW50aS1hZGJsb2NrLWtpbGxlci1pY29uLnBuZwovLyBAaG9tZXBhZ2UgaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci8KLy8gQHR3aXR0ZXJVUkwgaHR0cHM6Ly90d2l0dGVyLmNvbS9hbnRpYWRia2lsbGVyCi8vIEBjb250YWN0VVJMIGh0dHBzOi8vcmVlay5naXRodWIuaW8vYW50aS1hZGJsb2NrLWtpbGxlci8jY29udGFjdAovLyBAc3VwcG9ydFVSTCBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3VlcwovLyBAY29udHJpYnV0aW9uVVJMIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIjZG9uYXRlCi8vIEB1cGRhdGVVUkwgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9tYXN0ZXIvYW50aS1hZGJsb2NrLWtpbGxlci51c2VyLmpzCi8vIEBkb3dubG9hZFVSTCBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL21hc3Rlci9hbnRpLWFkYmxvY2sta2lsbGVyLnVzZXIuanMKLy8gQGluY2x1ZGUgaHR0cDovLyovKgovLyBAaW5jbHVkZSBodHRwczovLyovKgovLyBAZ3JhbnQgdW5zYWZlV2luZG93Ci8vIEBncmFudCBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgR01fZ2V0VmFsdWUKLy8gQGdyYW50IEdNX3NldFZhbHVlCi8vIEBncmFudCBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgR01fZGVsZXRlVmFsdWUKLy8gQGdyYW50IEdNX2xpc3RWYWx1ZXMKLy8gQGdyYW50IEdNX2dldFJlc291cmNlVGV4dAovLyBAZ3JhbnQgR01fZ2V0UmVzb3VyY2VVUkwKLy8gQGdyYW50IEdNX2xvZwovLyBAZ3JhbnQgR01fb3BlbkluVGFiCi8vIEBncmFudCBHTV9zZXRDbGlwYm9hcmQKLy8gQGdyYW50IEdNX2luZm8KLy8gQGdyYW50IEdNX2dldE1ldGFkYXRhCi8vIEBydW4tYXQgZG9jdW1lbnQtc3RhcnQKLy8gQGNvbm5lY3QgKgovLyA9PS9Vc2VyU2NyaXB0PT0KLypqc2hpbnQgZXZpbDp0cnVlIG5ld2NhcDpmYWxzZSovCi8qZ2xvYmFsIHVuc2FmZVdpbmRvdywgR01fYWRkU3R5bGUsIEdNX2dldFZhbHVlLCBHTV9zZXRWYWx1ZSwgR01feG1saHR0cFJlcXVlc3QsIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQsIEdNX2RlbGV0ZVZhbHVlLCBHTV9saXN0VmFsdWVzLCBHTV9nZXRSZXNvdXJjZVRleHQsIEdNX2dldFJlc291cmNlVVJMLCBHTV9sb2csIEdNX29wZW5JblRhYiwgR01fc2V0Q2xpcGJvYXJkLCBHTV9pbmZvLCBHTV9nZXRNZXRhZGF0YSwgJCwgZG9jdW1lbnQsIGNvbnNvbGUsIGxvY2F0aW9uLCBzZXRJbnRlcnZhbCwgc2V0VGltZW91dCwgY2xlYXJJbnRlcnZhbCovCi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICBUaGFua3MKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgogIERvbm9yczogTS4gSG93YXJkLCBTaHVuam91LCBDaGFybWluZSwgS2llcmVrOTMsIEcuIEJhcm5hcmQsIEguIFlvdW5nLCBTZWluaG9yOSwgSW1HbG9kYXIsIEl2YW5vc2V2aXRjaCwgSG9tZURpcG8sIFIuIE1hcnRpbiwgRHJGaVosIFRpcHB5LCBCLiBSb2huZXIsIFAuIEtvemljYSwgTS4gUGF0ZWwsIFc0cmVsbCwgVHNjaGVja29mZiwgQWRCbG9jayBQb2xza2EsIEFWRU5JUiBJTlRFUk5FVCwgY29vbE5BTywgQmVuLCBKLiBQYXJrLCBDLiBZb3VuZywgSi4gQm91LCBNLiBDYW5vLCBKLiBKdW5nLCBBLiBTb25pbm8sIEouIExpdHRlbiwgTS4gU2NocnVtcGYsIEcuIFBlcGUsIEEuIFRydWZhbm92LCBSLiBQYWxtZXIsIEouIFJhdXRpYWluZW4sIFMuIEJseXN0b25lLCBNLiBTaWx2ZWlyYSwgSy4gTWFjQXJ0aHVyLCBNLiBJdmFub3YsIEEuIFNjaG1pZHQsIEEuIFdhYWdlLCBGLiBUaXNtZXIsIFMuIEVobmVydCwgSi4gQ29ycHVzLCBKLiBEbHVob3MsIE1ha2xlbWVueiwgU3Ryb2JlbGl4LCBNb2RlbGxwaWxvdC5FVSwgRS4gQmVuZWRldHRpLCBWLiBWZW5kaXR0aSwgU2hha29zLCBBLiBFbGlhc29uLCBBLiBTYWxvcmFudGEsIFMuIEdlaWdlciwgQS4gT3R0ZXJsb28sIE0uIENvcHBlbiwgUy4gRmlzY2hlciwgSC4gQmVja2VyLCBELiBBY2tlcm1hbiwgUy4gUGl0c2NoLCBLLiBQZXJ0Y2hlY2ssIFMuIEFiZWwsIEsuIE8nQ29ubm9yLCBCLiBPYnJpZW4sIFMuIFZvZ2xlciwgUy4gR29lYmwsIEEuIEJpYXIsIFMuIFNjb3R0LCBCYXNzbW9iaWxlLm9yZywgUy4gR3Jvw59lLCBNLiBQZW90LCBSLiBDaGFuIEJhbGFtLCBMLiBCb25kLUtlbm5lZHksIFIuIEVtb25kLCBBLiBQYXZsb3YsIFcuIFRyYWNleSwgQS4gU2VyZ2V5LCBSLiBMw7NwZXogTMOzcGV6LCBSLiBSZWRkeSBLYXNpcmVkZHksIEEuIE1vdWplZXIsIE0uIEJldHosIE0uIExlZsOodnJlLCBSLiBNY0N1cmR5LCBMUiBHZWVrcywgTS4gQmVhdXJlZ2FyZCwgQ2FzcGVyVGVjaCBMdGQsIE0uIER1ZGFzLCBTLiBTY2hhcmYsIFMuIFByb2tob3JvdiwgSy4gUGFwYWxpYXMsIEouIFdvam5vd3NraSwgQi4gQ3VydGlzLCBELiBMYXdyZW5jZSwgRC4gSGUsIE4uIEtlbHNhbGwsIElkb2dld2FsbGV0LCBKLiBTcGF1bGRpbmcsIFMuIExhZm9uLCBNYXQsIEguIFJvYmVydHMsIEMuIEhlZGx1bmQsIEouIEhhd2tpbnMsIEouIEFuZGVyc2VuLCBNLiBCam9ya3N0ZW4sIEIuIFdvbGZlIElJSSwgVC4gWW9jb20sIMWgLiBJbnRhcywgUy4gTW9lbmljaCwgSi4gQ2hhbmcsIEMuIE11bmssIEEuIE5hcnV0YSwg0JEuINCc0LjRhdCw0LjQuywgSi4gQmVueiwgRi4gU2xvb3QsIEouIENyZWVkLCBNLiBHaWxsYW0sIEMuIExlaWNodCwgQS4gR25hbmEsIFMuIFN1bmRhcmFtLCBBLiBLb2xsZXIsIE0uIEtvdGxhciwgUy4gQWJlbCwgVC4gRmxhbmFnYW4sIE0uIEFyZHVpbmksIFAuIFN0YWNraG91c2UsIEIuIE9saXZlciwgTS4gSm9obnNvbiwgUi4gTWFubmVydCwgRS4gU2lvcmRpYQoKICBDb2xsYWJvcmF0b3JzOiBJbmZpbml0eUNvZGluZywgQ291Y2h5LCBEaW5kb2csIEZsb3hmbG9iLCBVIEJsZXNzLCBXYXRpbGluLCBAcHJkb25haHVlLCBIb3NoaWUsIDNsZjNuTGkzZCwgQWxleG8sIENyaXRzLCBOb25hbWUxMjAsIENydDMyLCBKaXh1bk1vZSwgQXRob3JjaXMsIEtpbGxlcmJhZGdlciwgU01lZDc5LCBBbGV4YW5kZXIyNTUsIEFub25zdWJtaXR0ZXIsIFJhcG9yTG9McHJvLCBNYXluYWswMCwgUm9ib3RleCwgVmluY3R1eCwgQmxhaHgsIE1hamtpSVQsIEY0eiwgQW5nZWxzbCwgTWlraGFlbGssIE1hcmVrLCBIYW1zdGVyYmFja2UsIEdvcmhpbGwsIEhhY2tlcjk5OSwgeHhjcml0aWN4eCwgU2tyNHRjaEdyM2F6eU1vbmtpQmFsbGxsbGxaenp6LCBHaXdheXVtZSwgTXJTaGVybG9ja0hvbG1lcywgeERhcmtBUkcsIE5vYWhwNzgsIE1hcHgtCgogIFVzZXJzOiBUaGFuayB5b3UgdG8gYWxsIHRob3NlIHdobyB1c2UgQW50aSBBZGJsb2NrIEtpbGxlciwgd2hvIHJlcG9ydCBwcm9ibGVtcywgd2hvIHdyaXRlIHRoZSByZXZpZXcsIHdoaWNoIGFkZCB0byB0aGVpciBmYXZvcml0ZXMsIG1ha2luZyBkb25hdGlvbnMsIHdoaWNoIHN1cHBvcnQgdGhlIHByb2plY3QgYW5kIGhlbHAgaW4gaXRzIGRldmVsb3BtZW50IG9yIHByb21vdGUuCgo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgTWlycm9ycwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgogIEdpdGh1YjogaHR0cDovL3Rpbnl1cmwuY29tL21jcmEzZG4KICBHcmVhc3lmb3JrOiBodHRwOi8vdGlueXVybC5jb20vcGJiZG5oNgogIE9wZW51c2VyanM6IGh0dHA6Ly90aW55dXJsLmNvbS9ubnFqZTMyCiAgTW9ua2V5R3V0czogaHR0cDovL3Rpbnl1cmwuY29tL2thNWZjcW0KICBVc2Vyc2NyaXB0czogaHR0cDovL3Rpbnl1cmwuY29tL3E4eGNlamwKCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICBEb2N1bWVudGF0aW9uCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCiAgR3JlYXNlbW9ua2V5OiBodHRwOi8vdGlueXVybC5jb20veWVlZm5qNQogIFNjcmlwdGlzaDogaHR0cDovL3Rpbnl1cmwuY29tL2NuZDlua2QKICBUYW1wZXJtb25rZXk6IGh0dHA6Ly90aW55dXJsLmNvbS9wZHl0ZmRlCiAgVmlvbGVudG1vbmtleTogaHR0cDovL3Rpbnl1cmwuY29tL24zNHduNmoKICBOaW5qYUtpdDogaHR0cDovL3Rpbnl1cmwuY29tL3Bra205dWcKCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICBTY3JpcHQKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8KCihmdW5jdGlvbiAod2luZG93KSB7CiAgInVzZSBzdHJpY3QiOwogIAogIHZhciBBYWsgPSB7CiAgICBuYW1lIDogJ0FudGktQWRibG9jayBLaWxsZXInLAogICAgdmVyc2lvbiA6ICcxMC4wJywKICAgIHNjcmlwdGlkIDogJ2dKV0VwMHZCJywKICAgIGhvbWVVUkwgOiAnaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci8nLAogICAgY2hhbmdlbG9nVVJMIDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIjY2hhbmdlbG9nJywKICAgIGRvbmF0ZVVSTCA6ICdodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyI2RvbmF0ZScsCiAgICBmZWF0dXJlc1VSTCA6ICdodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyI2ZlYXR1cmVzJywKICAgIHJlcG9ydFVSTCA6ICdodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL3dpa2kvUmVwb3J0LUd1aWRlJywKICAgIGNvbnRhY3RVUkwgOiAnaHR0cHM6Ly9yZWVrLmdpdGh1Yi5pby9hbnRpLWFkYmxvY2sta2lsbGVyLyNjb250YWN0JywKICAgIHNldHRpbmdzVVJMIDogJ2h0dHBzOi8vcmVlay5naXRodWIuaW8vYW50aS1hZGJsb2NrLWtpbGxlci8jc2V0dGluZ3MnLAogICAgdHdpdHRlclVSTCA6ICdodHRwczovL3R3aXR0ZXIuY29tL2FudGlhZGJraWxsZXInLAogICAgZG93bmxvYWRVUkwgOiAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9tYXN0ZXIvYW50aS1hZGJsb2NrLWtpbGxlci51c2VyLmpzJywKICAgIHN1YnNjcmliZVVSTCA6ICdodHRwczovL3JlZWsuZ2l0aHViLmlvL2FudGktYWRibG9jay1raWxsZXIvI2ZpbHRlcmxpc3QnLAogICAgbGlzdFVSTCA6ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL21hc3Rlci9hbnRpLWFkYmxvY2sta2lsbGVyLWZpbHRlcnMudHh0IiwKICAgIG5hdGl2ZVVSTCA6ICdodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL3dpa2kvTmF0aXZlLU1vZGUnLAogICAgaWNvblVSTCA6ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL21hc3Rlci9hbnRpLWFkYmxvY2sta2lsbGVyLWljb24ucG5nJywKICAgIGltZ0JhaXQgOiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FRQUFBRFpjN0ovQUFBQUdrbEVRVlI0Mm1OZzBHQVlCYU5nRkl5Q1VUQUtSc0VvUUFZQVROOEFLWU5aL3g0QUFBQUFTVVZPUks1Q1lJST0nLAogICAgaW5pdGlhbGl6ZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgQWFrLnJlZ2lzdGVyU2V0dGluZ3MoKTsgLy8gcmVnaXN0ZXJpbmcgeW91ciBzZXR0aW5ncy4KICAgICAgQWFrLnJlZ2lzdGVyQ29uc29sZSgpOyAvLyByZWdpc3RlcmluZyBjdXN0b216ZWQgY29uc29sZS4KICAgICAgQWFrLnJlZ2lzdGVyQ29tbWFuZHMoKTsgLy8gYWRkIGNvbW1hbmRzIHRvIG1lbnUKICAgICAgQWFrLmNoZWNrVXBkYXRlKHRydWUpOyAvLyBjaGVjayBpZiBBYWtTY3JpcHQgaXMgdXAgdG8gZGF0ZS4KICAgICAgQWFrLmNoZWNrTGlzdCgpOyAvLyBjaGVjayBpZiBBYWtMaXN0IGlzIGVuYWJsZWQuCiAgICAgIEFhay5ibG9ja0RldGVjdCgpOyAvLyBkZXRlY3QgYW5kIGtpbGwgYW50aS1hZGJsb2Nrcy4KICAgIH0sCiAgICBhYWJzIDoge30sCiAgICBvcHRzIDoge30sCiAgICBvcHRpb25zIDogewogICAgICBhdXRvUGxheSA6IHsKICAgICAgICBncm91cCA6ICdnZW5lcmFsJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IGZhbHNlLAogICAgICAgIGxhYmVsIDogJ1BsYXkgdmlkZW8gYXV0b21hdGljYWxseS4gKicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIHZpZGVvSEQgOiB7CiAgICAgICAgZ3JvdXAgOiAnZ2VuZXJhbCcsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiBmYWxzZSwKICAgICAgICBsYWJlbCA6ICdQbGF5IHZpZGVvIGluIEhEIHF1YWxpdHkuICoqJywKICAgICAgICBpbmZvIDogJycKICAgICAgfSwKICAgICAgZm9yY2VWTEMgOiB7CiAgICAgICAgZ3JvdXAgOiAnZ2VuZXJhbCcsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiBmYWxzZSwKICAgICAgICBsYWJlbCA6ICdQbGF5IHZpZGVvIHdpdGggVkxDIHBsdWdpbi4gKicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGNoZWNrTGlzdCA6IHsKICAgICAgICBncm91cCA6ICdnZW5lcmFsJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IHRydWUsCiAgICAgICAgbGFiZWwgOiAnQ2hlY2sgQWFrTGlzdCBzdWJzY3JpcHRpb24uJywKICAgICAgICBpbmZvIDogJycKICAgICAgfSwKICAgICAgY2hlY2tVcGRhdGUgOiB7CiAgICAgICAgZ3JvdXAgOiAnZ2VuZXJhbCcsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiB0cnVlLAogICAgICAgIGxhYmVsIDogJ0NoZWNrIG5ld2VyIEFha1NjcmlwdCB2ZXJzaW9uLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGRlYnVnIDogewogICAgICAgIGdyb3VwIDogJ2RlYnVnJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IGZhbHNlLAogICAgICAgIGxhYmVsIDogJ0VuYWJsZSBMb2dzLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGxvZ0luc2VydGVkTm9kZXMgOiB7CiAgICAgICAgZ3JvdXAgOiAnZGVidWcnLAogICAgICAgIHR5cGUgOiAnY2hlY2tib3gnLAogICAgICAgIHZhbHVlIDogZmFsc2UsCiAgICAgICAgbGFiZWwgOiAnTG9nIGluc2VydGVkIG5vZGVzLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGxvZ1JlbW92ZWROb2RlcyA6IHsKICAgICAgICBncm91cCA6ICdkZWJ1ZycsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiBmYWxzZSwKICAgICAgICBsYWJlbCA6ICdMb2cgcmVtb3ZlZCBub2Rlcy4nLAogICAgICAgIGluZm8gOiAnJwogICAgICB9LAogICAgICBsb2dFeGNsdWRlZCA6IHsKICAgICAgICBncm91cCA6ICdkZWJ1ZycsCiAgICAgICAgdHlwZSA6ICdjaGVja2JveCcsCiAgICAgICAgdmFsdWUgOiBmYWxzZSwKICAgICAgICBsYWJlbCA6ICdMb2cgZXhjbHVkZXMgZG9tYWlucy4nLAogICAgICAgIGluZm8gOiAnJwogICAgICB9LAogICAgICBsb2dYaHIgOiB7CiAgICAgICAgZ3JvdXAgOiAnZGVidWcnLAogICAgICAgIHR5cGUgOiAnY2hlY2tib3gnLAogICAgICAgIHZhbHVlIDogZmFsc2UsCiAgICAgICAgbGFiZWwgOiAnTG9nIEhUVFAgcmVxdWVzdHMnLAogICAgICAgIGluZm8gOiAnJwogICAgICB9LAogICAgICBsb2dQbGF5ZXIgOiB7CiAgICAgICAgZ3JvdXAgOiAnZGVidWcnLAogICAgICAgIHR5cGUgOiAnY2hlY2tib3gnLAogICAgICAgIHZhbHVlIDogZmFsc2UsCiAgICAgICAgbGFiZWwgOiAnTG9nIHBsYXllciBpbnN0YW5jZXMuJywKICAgICAgICBpbmZvIDogJycKICAgICAgfSwKICAgICAgbG9nSW50ZXJjZXB0ZWRTY3JpcHRzIDogewogICAgICAgIGdyb3VwIDogJ2RlYnVnJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IGZhbHNlLAogICAgICAgIGxhYmVsIDogJ0xvZyBpbnRlcmNlcHRlZCBzY3JpcHRzLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0sCiAgICAgIGxvZ0RldGVjdGVkIDogewogICAgICAgIGdyb3VwIDogJ2RlYnVnJywKICAgICAgICB0eXBlIDogJ2NoZWNrYm94JywKICAgICAgICB2YWx1ZSA6IGZhbHNlLAogICAgICAgIGxhYmVsIDogJ0xvZyBkZXRlY3RlZCBhbnRpLWFkYmxvY2tzLicsCiAgICAgICAgaW5mbyA6ICcnCiAgICAgIH0KICAgIH0sCiAgICByZWdpc3RlclNldHRpbmdzIDogZnVuY3Rpb24gKCkgewogICAgICBmb3IgKHZhciBvcHROYW1lIGluIEFhay5vcHRpb25zKSB7CiAgICAgICAgaWYgKEFhay5vcHRpb25zLmhhc093blByb3BlcnR5KG9wdE5hbWUpKQogICAgICAgICAgQWFrLm9wdHNbb3B0TmFtZV0gPSBBYWsuZ2V0VmFsdWUob3B0TmFtZSkgIT09IG51bGwgPyBBYWsuZ2V0VmFsdWUob3B0TmFtZSkgOiBBYWsub3B0aW9uc1tvcHROYW1lXS52YWx1ZTsKICAgICAgfQogICAgfSwKICAgIGNvbW1hbmRzIDogW3sKICAgICAgICBjYXB0aW9uIDogJ0hvbWVwYWdlJywKICAgICAgICBleGVjdXRlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmdvKEFhay5ob21lVVJMKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBjYXB0aW9uIDogJ1NldHRpbmdzJywKICAgICAgICBleGVjdXRlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmdvKEFhay5zZXR0aW5nc1VSTCk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgY2FwdGlvbiA6ICdVcGRhdGUnLAogICAgICAgIGV4ZWN1dGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuY2hlY2tVcGRhdGUoKTsKICAgICAgICB9CiAgICAgIH0KICAgIF0sCiAgICBhZGRDb21tYW5kcyA6IGZ1bmN0aW9uIChjbWQpIHsKICAgICAgaWYgKEFhay51c2VHTSAmJiBBYWsuaXNUb3BmcmFtZSAmJiB0eXBlb2YgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoW0Fhay5uYW1lLCBBYWsuZ2V0VmVyc2lvbigpLCBjbWQuY2FwdGlvbl0uam9pbignICcpLCBjbWQuZXhlY3V0ZSk7CiAgICAgIH0KICAgIH0sCiAgICByZWdpc3RlckNvbW1hbmRzIDogZnVuY3Rpb24gKCkgewogICAgICBBYWsucmVhZHkoZnVuY3Rpb24gKCkgewogICAgICAgIC8vIFNjcmlwdGlzaAogICAgICAgIC8vIG5vdGU6IE5vIG1lbnUgY29tbWFuZCBpcyBjcmVhdGVkIHdoZW4gdGhlIHVzZXIgc2NyaXB0IGlzIHJ1biBpbiBhIGlmcmFtZSB3aW5kb3cuCiAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20va3Z2djd5dAogICAgICAgIEFhay5jb21tYW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChjbWQpIHsKICAgICAgICAgIEFhay5hZGRDb21tYW5kcyhjbWQpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICByZWdpc3RlckNvbnNvbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMubG9nID0gQWFrLm9wdHMuZGVidWcgPyBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpIDogZnVuY3Rpb24gKCkge307CiAgICAgIHRoaXMuaW5mbyA9IEFhay5vcHRzLmRlYnVnID8gY29uc29sZS5pbmZvLmJpbmQoY29uc29sZSkgOiBmdW5jdGlvbiAoKSB7fTsKICAgICAgdGhpcy5lcnJvciA9IEFhay5vcHRzLmRlYnVnID8gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpIDogZnVuY3Rpb24gKCkge307CiAgICAgIHRoaXMud2FybiA9IEFhay5vcHRzLmRlYnVnID8gY29uc29sZS53YXJuLmJpbmQoY29uc29sZSkgOiBmdW5jdGlvbiAoKSB7fTsKICAgIH0sCiAgICBpc1RvcGZyYW1lIDogKHdpbmRvdy5wYXJlbnQgPT0gd2luZG93LnNlbGYpLAogICAgdXcgOiB0eXBlb2YgdW5zYWZlV2luZG93ICE9ICd1bmRlZmluZWQnID8gdW5zYWZlV2luZG93IDogd2luZG93LAogICAgdXNlR00gOiB0eXBlb2YgR01fZ2V0VmFsdWUgIT0gJ3VuZGVmaW5lZCcsCiAgICBhcGlHTSA6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKEFhay5pc1RvcGZyYW1lKSB7CiAgICAgICAgLy8gR00gQVBJIC0gaHR0cDovL3Rpbnl1cmwuY29tL3llZWZuajUKICAgICAgICByZXR1cm4gewogICAgICAgICAgR01feG1saHR0cFJlcXVlc3QgOiB0eXBlb2YgR01feG1saHR0cFJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9zZXRWYWx1ZSA6IHR5cGVvZiBHTV9zZXRWYWx1ZSAhPSAndW5kZWZpbmVkJywKICAgICAgICAgIEdNX2dldFZhbHVlIDogdHlwZW9mIEdNX2dldFZhbHVlICE9ICd1bmRlZmluZWQnLAogICAgICAgICAgR01fYWRkU3R5bGUgOiB0eXBlb2YgR01fYWRkU3R5bGUgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kIDogdHlwZW9mIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9pbmZvIDogdHlwZW9mIEdNX2luZm8gIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9nZXRNZXRhZGF0YSA6IHR5cGVvZiBHTV9nZXRNZXRhZGF0YSAhPSAndW5kZWZpbmVkJywKICAgICAgICAgIEdNX2RlbGV0ZVZhbHVlIDogdHlwZW9mIEdNX2RlbGV0ZVZhbHVlICE9ICd1bmRlZmluZWQnLAogICAgICAgICAgR01fbGlzdFZhbHVlcyA6IHR5cGVvZiBHTV9saXN0VmFsdWVzICE9ICd1bmRlZmluZWQnLAogICAgICAgICAgR01fZ2V0UmVzb3VyY2VUZXh0IDogdHlwZW9mIEdNX2dldFJlc291cmNlVGV4dCAhPSAndW5kZWZpbmVkJywKICAgICAgICAgIEdNX2dldFJlc291cmNlVVJMIDogdHlwZW9mIEdNX2dldFJlc291cmNlVVJMICE9ICd1bmRlZmluZWQnLAogICAgICAgICAgR01fbG9nIDogdHlwZW9mIEdNX2xvZyAhPSAndW5kZWZpbmVkJywKICAgICAgICAgIEdNX29wZW5JblRhYiA6IHR5cGVvZiBHTV9vcGVuSW5UYWIgIT0gJ3VuZGVmaW5lZCcsCiAgICAgICAgICBHTV9zZXRDbGlwYm9hcmQgOiB0eXBlb2YgR01fc2V0Q2xpcGJvYXJkICE9ICd1bmRlZmluZWQnCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGdvIDogZnVuY3Rpb24gKHVybCkgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDsKICAgIH0sCiAgICByZWZyZXNoIDogZnVuY3Rpb24gKCkgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgfSwKICAgIHJlbG9hZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTsKICAgIH0sCiAgICBjb250YWlucyA6IGZ1bmN0aW9uIChzdHJpbmcsIHNlYXJjaCkgewogICAgICByZXR1cm4gc3RyaW5nLmluZGV4T2Yoc2VhcmNoKSAhPSAtMTsKICAgIH0sCiAgICBnZXRCcm93c2VyIDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDsKICAgICAgaWYgKEFhay5jb250YWlucyh1YSwgJ0ZpcmVmb3gnKSkgewogICAgICAgIHJldHVybiAiRmlyZWZveCI7CiAgICAgIH0gZWxzZSBpZiAoQWFrLmNvbnRhaW5zKHVhLCAnU2xlaXBuaXInKSkgewogICAgICAgIHJldHVybiAiU2xlaXBuaXIiOyAvLyBNb2JpbGUKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdVQ0Jyb3dzZXInKSkgewogICAgICAgIHJldHVybiAiVUNCcm93c2VyIjsgLy8gTW9iaWxlCiAgICAgIH0gZWxzZSBpZiAoQWFrLmNvbnRhaW5zKHVhLCAnRG9sZmluJykpIHsKICAgICAgICByZXR1cm4gIkRvbHBoaW4iOyAvLyBNb2JpbGUKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdNU0lFJykpIHsKICAgICAgICByZXR1cm4gIkludGVybmV0RXhwbG9yZXIiOwogICAgICB9IGVsc2UgaWYgKEFhay5jb250YWlucyh1YSwgJ01pZG9yaScpKSB7CiAgICAgICAgcmV0dXJuICJNaWRvcmkiOwogICAgICB9IGVsc2UgaWYgKEFhay5jb250YWlucyh1YSwgJ09wZXJhJykgfHwgQWFrLmNvbnRhaW5zKHVhLCAnT1BSJykpIHsKICAgICAgICByZXR1cm4gIk9wZXJhIjsKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdDaHJvbWUnKSkgewogICAgICAgIHJldHVybiAiQ2hyb21lIjsKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdTYWZhcmknKSkgewogICAgICAgIHJldHVybiAiU2FmYXJpIjsKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdLb25xdWVyb3InKSkgewogICAgICAgIHJldHVybiAiS29ucXVlcm9yIjsKICAgICAgfSBlbHNlIGlmIChBYWsuY29udGFpbnModWEsICdQYWxlTW9vbicpKSB7CiAgICAgICAgcmV0dXJuICJQYWxlTW9vbiI7IC8vIGZvcmsgZmlyZWZveAogICAgICB9IGVsc2UgaWYgKEFhay5jb250YWlucyh1YSwgJ0N5YmVyZm94JykpIHsKICAgICAgICByZXR1cm4gIkN5YmVyZm94IjsgLy8gZm9yayBmaXJlZm94CiAgICAgIH0gZWxzZSBpZiAoQWFrLmNvbnRhaW5zKHVhLCAnU2VhTW9ua2V5JykpIHsKICAgICAgICByZXR1cm4gIlNlYU1vbmtleSI7IC8vIGZvcmsgZmlyZWZveAogICAgICB9IGVsc2UgaWYgKEFhay5jb250YWlucyh1YSwgJ0ljZXdlYXNlbCcpKSB7CiAgICAgICAgcmV0dXJuICJJY2V3ZWFzZWwiOyAvLyBmb3JrIGZpcmVmb3gKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdWE7CiAgICAgIH0KICAgIH0sCiAgICBnZXRWZXJzaW9uIDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gTnVtYmVyKEFhay52ZXJzaW9uKTsKICAgIH0sCiAgICBnZXRTY3JpcHRNYW5hZ2VyIDogZnVuY3Rpb24gKCkgewogICAgICBpZiAodHlwZW9mIEdNX2luZm8gPT0gJ29iamVjdCcpIHsKICAgICAgICAvLyBHcmVhc2Vtb25rZXkgKEZpcmVmb3gpCiAgICAgICAgaWYgKHR5cGVvZiBHTV9pbmZvLnV1aWQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIHJldHVybiAnR3JlYXNlbW9ua2V5JzsKICAgICAgICB9IC8vIFRhbXBlcm1vbmtleSAoQ2hyb21lL09wZXJhKQogICAgICAgIGVsc2UgaWYgKHR5cGVvZiBHTV9pbmZvLnNjcmlwdEhhbmRsZXIgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIHJldHVybiAnVGFtcGVybW9ua2V5JzsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gU2NyaXB0aXNoIChGaXJlZm94KQogICAgICAgIGlmICh0eXBlb2YgR01fZ2V0TWV0YWRhdGEgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgcmV0dXJuICdTY3JpcHRpc2gnOwogICAgICAgIH0gLy8gTmluamFLaXQgKFNhZmFyaS9DaHJvbWUpCiAgICAgICAgZWxzZSBpZiAodHlwZW9mIEdNX3NldFZhbHVlICE9ICd1bmRlZmluZWQnICYmCiAgICAgICAgICB0eXBlb2YgR01fZ2V0UmVzb3VyY2VUZXh0ID09ICd1bmRlZmluZWQnICYmCiAgICAgICAgICB0eXBlb2YgR01fZ2V0UmVzb3VyY2VVUkwgPT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgIHR5cGVvZiBHTV9vcGVuSW5UYWIgPT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgIHR5cGVvZiBHTV9zZXRDbGlwYm9hcmQgPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIHJldHVybiAnTmluamFLaXQnOwogICAgICAgIH0gZWxzZSB7IC8vIE5hdGl2ZQogICAgICAgICAgcmV0dXJuICdOYXRpdmUnOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdlbmVyYXRlSUQgOiBmdW5jdGlvbiAobGVuKSB7CiAgICAgIHZhciBzdHIgPSAnJzsKICAgICAgdmFyIGNoYXJzZXQgPSAiYWJjZGVmZ2hpamtsbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIjsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAobGVuID8gbGVuIDogMTApOyArK2kpIHsKICAgICAgICBzdHIgKz0gY2hhcnNldC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnNldC5sZW5ndGgpKTsKICAgICAgfQogICAgICByZXR1cm4gc3RyOwogICAgfSwKICAgIGdlbmVyYXRlVVVJRCA6IGZ1bmN0aW9uICgpIHsKICAgICAgLy8gVW5pdmVyc2FsbHkgVW5pcXVlIElEZW50aWZpZXIKICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgdmFyIHV1aWQgPSAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICB2YXIgciA9IChkICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDsKICAgICAgICAgIGQgPSBNYXRoLmZsb29yKGQgLyAxNik7CiAgICAgICAgICByZXR1cm4gKGMgPT0gJ3gnID8gciA6IChyICYgMHg3IHwgMHg4KSkudG9TdHJpbmcoMTYpOwogICAgICAgIH0pOwogICAgICByZXR1cm4gdXVpZDsKICAgIH0sCiAgICBnZXRVVUlEIDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgbmFtZSA9ICd1dWlkJzsKICAgICAgaWYgKEFhay5nZXRWYWx1ZShuYW1lKSA9PT0gbnVsbCkgewogICAgICAgIEFhay5zZXRWYWx1ZShuYW1lLCBBYWsuZ2VuZXJhdGVVVUlEKCkpOwogICAgICB9CiAgICAgIHJldHVybiBBYWsuZ2V0VmFsdWUobmFtZSk7CiAgICB9LAogICAgc2NoZWR1bGUgOiBmdW5jdGlvbiAoZGF5cywgbmFtZSwgY2FsbGJhY2spIHsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBsYXRlciA9IGlzTmFOKEFhay5nZXRWYWx1ZShuYW1lKSkgPyAxIDogTnVtYmVyKEFhay5nZXRWYWx1ZShuYW1lKSk7CiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgIGlmIChsYXRlciA8IG5vdykgewogICAgICAgICAgQWFrLnNldFZhbHVlKG5hbWUsIChub3cgKyAoZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKS50b1N0cmluZygpKTsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9LCAxZTMpOwogICAgfSwKICAgIG5vdGlmaWNhdGlvbiA6IGZ1bmN0aW9uIChtZXNzYWdlLCBkZWxheSkgewogICAgICBpZiAoQWFrLmlzVG9wZnJhbWUpIHsKCiAgICAgICAgLy8gcmVtb3ZlIG9sZCBub3RpZmljYXRpb24KICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI2Fhay1ub3RpY2UtZnJhbWUnKTsKCiAgICAgICAgLy8gYWRkIG5ldyBub3RpZmljYXRpb24KICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICB0YWcgOiAnaWZyYW1lJywKICAgICAgICAgIGlkIDogJ2Fhay1ub3RpY2UtZnJhbWUnLAogICAgICAgICAgc3R5bGUgOiAncG9zaXRpb246Zml4ZWQ7IHotaW5kZXg6OTk5OTk5OyB0b3A6MTBweDsgbGVmdDoxMHB4OycsCiAgICAgICAgICB3aWR0aCA6ICczNjBweCcsCiAgICAgICAgICBoZWlnaHQgOiAnMTIwcHgnLAogICAgICAgICAgZnJhbWVib3JkZXIgOiAwLAogICAgICAgICAgc2Nyb2xsaW5nIDogJ25vJywKICAgICAgICAgIC8vc3JjIDogJy8vbG9jYWxob3N0L2dpdC9hbnRpLWFkYmxvY2sta2lsbGVyLXBhZ2VzL25vdGlmaWNhdGlvbi5odG1sIycgKyBidG9hKG1lc3NhZ2UpLAogICAgICAgICAgc3JjIDogJy8vcmVlay5naXRodWIuaW8vYW50aS1hZGJsb2NrLWtpbGxlci9ub3RpZmljYXRpb24uaHRtbCMnICsgd2luZG93LmJ0b2EobWVzc2FnZSksCiAgICAgICAgICBhcHBlbmQgOiAnYm9keScsCiAgICAgICAgICBjYWxsYmFjayA6IGZ1bmN0aW9uIChzZWxmKSB7CgogICAgICAgICAgICAvLyBtYW51YWxseSByZW1vdmUKICAgICAgICAgICAgQWFrLm9uRXZlbnQod2luZG93LCAibWVzc2FnZSIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgIGlmIChldmVudC5kYXRhID09ICJyZW1vdmVOb3RpZmljYXRpb24iKSB7CiAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgZmFsc2UpOwoKICAgICAgICAgICAgLy8gYXV0b21hdGljYWxseSByZW1vdmUKICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHNlbGYucmVtb3ZlKCk7CiAgICAgICAgICAgIH0sIGRlbGF5IHx8IDNlNCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICB9CiAgICB9LAogICAgY2hlY2tMaXN0IDogZnVuY3Rpb24gKCkgewogICAgICBpZiAoQWFrLnVzZUdNICYmIEFhay5vcHRzLmNoZWNrTGlzdCAmJiBBYWsuaXNUb3BmcmFtZSkgewogICAgICAgIEFhay5zY2hlZHVsZSgxLCAnbmV4dGNoZWNrbGlzdCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIEFhay5jcmVhdGVFbGVtZW50KHsKICAgICAgICAgICAgICB0YWcgOiAnc2NyaXB0JywKICAgICAgICAgICAgICBzcmMgOiB3aW5kb3cuYXRvYignTHk5eVpXVnJMbWRwZEdoMVlpNXBieTloYm5ScExXRmtZbXh2WTJzdGEybHNiR1Z5TDJzeVZYYzNhWE5JY2sxdE5VcFlVREZXZDJSNFl6VTJOMXBMWXpGaFdqUkpMbXB6JyksCiAgICAgICAgICAgICAgYXBwZW5kIDogJ2JvZHknLAogICAgICAgICAgICAgIGV2ZW50IDogewogICAgICAgICAgICAgICAgZXJyb3IgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgIEFhay5pbmZvKCdBYWtMaXN0IGRldGVjdGVkICEnKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBsb2FkIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICBBYWsud2FybignQWFrTGlzdCBub3QgZGV0ZWN0ZWQgIScpOwogICAgICAgICAgICAgICAgICBBYWsubm90aWZpY2F0aW9uKCdJdCBzZWVtcyB0aGF0IHlvdSBoYXZlIG5vdCBzdWJzY3JpYmVkIG9yIGRpc2FibGVkIDxiPkFha0xpc3Q8L2I+LiA8YSBocmVmPSInICsgQWFrLnN1YnNjcmliZVVSTCArICciIHRhcmdldD0iX2JsYW5rIj5TdWJzY3JpYmU8L2E+IG9yIDxhIGhyZWY9IicgKyBBYWsuc2V0dGluZ3NVUkwgKyAnIiB0YXJnZXQ9Il9ibGFuayI+RGlzYWJsZSB0aGlzIGFsZXJ0PC9hPicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrVXBkYXRlIDogZnVuY3Rpb24gKGF1dG8pIHsKCiAgICAgIHZhciBjaGVjayA9IGZ1bmN0aW9uIChub3RpZnlGYWxzZSkgewogICAgICAgIEFhay5yZXF1ZXN0KHsKICAgICAgICAgIHVybCA6IEFhay5kb3dubG9hZFVSTCwKICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICB2YXIgcmVzID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0OwogICAgICAgICAgICB2YXIgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICBpZiAoc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgIHZhciBsb2NhbCA9IEFhay5nZXRWZXJzaW9uKCk7CiAgICAgICAgICAgICAgdmFyIHJlbW90ZSA9IE51bWJlcihyZXMubWF0Y2goL0B2ZXJzaW9uXHMrKFxkK1wuXGQrKS8pWzFdKTsKICAgICAgICAgICAgICBpZiAobG9jYWwgPCByZW1vdGUpIHsKICAgICAgICAgICAgICAgIEFhay5ub3RpZmljYXRpb24oJ0FudGktQWRibG9jayBLaWxsZXIgdicgKyByZW1vdGUgKyAnIGlzIGF2YWlsYWJsZSA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iJyArIEFhay5kb3dubG9hZFVSTCArICciPkluc3RhbGw8L2E+LicpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAobm90aWZ5RmFsc2UpIHsKICAgICAgICAgICAgICAgIEFhay5ub3RpZmljYXRpb24oJ05vIHVwZGF0ZSBmb3VuZC4nKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIGlmIChhdXRvKSB7IC8vIGF1dG8gbW9kZQogICAgICAgIGlmIChBYWsudXNlR00gJiYgQWFrLm9wdHMuY2hlY2tVcGRhdGUgJiYgQWFrLmlzVG9wZnJhbWUpIHsKICAgICAgICAgIEFhay5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIEFhay5zY2hlZHVsZSg3LCAnbmV4dGNoZWNrdXBkYXRlJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGNoZWNrKGZhbHNlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7IC8vIG1hbnVhbCBtb2RlCiAgICAgICAgaWYgKEFhay5pc1RvcGZyYW1lKSB7CiAgICAgICAgICBjaGVjayh0cnVlKTsKICAgICAgICB9CiAgICAgIH0KCiAgICB9LAogICAgb3BlbkluVGFiIDogZnVuY3Rpb24gKHVybCkgewogICAgICBpZiAodHlwZW9mIEdNX29wZW5JblRhYiAhPSAndW5kZWZpbmVkJykgewogICAgICAgIEdNX29wZW5JblRhYih1cmwpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBuZXdXaW5kb3cgPSB3aW5kb3cub3Blbih1cmwsICJfYmxhbmsiKTsKICAgICAgICBuZXdXaW5kb3cuZm9jdXMoKTsKICAgICAgfQogICAgfSwKICAgIHJlcXVlc3QgOiBmdW5jdGlvbiAoc2V0dGluZ3MpIHsKICAgICAgc2V0dGluZ3MudXJsID0gc2V0dGluZ3MudXJsIHx8ICcnOwogICAgICBzZXR0aW5ncy5tZXRob2QgPSBzZXR0aW5ncy5tZXRob2QgfHwgJ0dFVCc7CiAgICAgIHNldHRpbmdzLmhlYWRlcnMgPSBzZXR0aW5ncy5oZWFkZXJzIHx8IHt9OwogICAgICBzZXR0aW5ncy50aW1lb3V0ID0gc2V0dGluZ3MudGltZW91dCB8fCAyZTQ7IC8vIDIwcwogICAgICBpZiAoc2V0dGluZ3MuZGF0YSB8fCBzZXR0aW5ncy5tZXRob2QgPT0gJ1BPU1QnKSB7CiAgICAgICAgc2V0dGluZ3MubWV0aG9kID0gJ1BPU1QnOwogICAgICAgIHNldHRpbmdzLmRhdGEgPSBBYWsuc2VyaWFsaXplKHNldHRpbmdzLmRhdGEgfHwge30pOwogICAgICAgIHNldHRpbmdzLmhlYWRlcnMgPSBBYWsuc2V0UHJvcGVydGllcyhzZXR0aW5ncy5oZWFkZXJzLCB7CiAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJyA6ICdYTUxIdHRwUmVxdWVzdCcsCiAgICAgICAgICAgICdDb250ZW50LVR5cGUnIDogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICAgICAgICAgIH0pOwogICAgICB9CgogICAgICAvLyBvdmVycmlkZSB0byBpbnRlZ3JhdGUgbG9nCiAgICAgIHNldHRpbmdzLl9vbmxvYWQgPSBzZXR0aW5ncy5vbmxvYWQ7CiAgICAgIHNldHRpbmdzLm9ubG9hZCA9IGZ1bmN0aW9uICh4aHIpIHsKICAgICAgICBpZiAoQWFrLm9wdHMubG9nWGhyKSB7CiAgICAgICAgICBBYWsubG9nKEFhay5nZXRTY3JpcHRNYW5hZ2VyKCkgKyAnIHhocicsIHhocik7CiAgICAgICAgfQogICAgICAgIHNldHRpbmdzLl9vbmxvYWQoeGhyKTsKICAgICAgfTsKCiAgICAgIGlmICh0eXBlb2YgR01feG1saHR0cFJlcXVlc3QgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAvLyBSZXF1ZXN0IHdpdGggR00gQVBJCiAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20vMnQ3d2JyCiAgICAgICAgR01feG1saHR0cFJlcXVlc3Qoc2V0dGluZ3MpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFJlcXVlc3Qgd2l0aCBXZWIgQVBJCiAgICAgICAgLy8gVXNpbmcgcmVtb3RlIHNlcnZlciB0byBhbGxvdyBjcm9zcy1vcmlnaW4gcmVxdWVzdHMuCiAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20vb2R6NjY0YQogICAgICAgIC8vIGRvYzogaHR0cDovL3Rpbnl1cmwuY29tL3A5enJ1em4KICAgICAgICB2YXIgeGhyID0gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpOwogICAgICAgIHhoci5vcGVuKCdQT1NUJywgJ2h0dHA6Ly9yZWVrc2l0ZS5jb20vcHVibGljL3hoci5waHAnLCB0cnVlKTsKICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpOwogICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgcmVzID0geGhyLnJlc3BvbnNlVGV4dDsKICAgICAgICAgIHZhciBqc29uID0gSlNPTiAmJiBKU09OLnBhcnNlKHJlcyk7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoeGhyLCAicmVzcG9uc2VUZXh0IiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiB0cnVlLAogICAgICAgICAgICB2YWx1ZSA6IGpzb24ucmVzcG9uc2UKICAgICAgICAgIH0pOwogICAgICAgICAgc2V0dGluZ3Mub25sb2FkKHhocik7CiAgICAgICAgfTsKICAgICAgICB4aHIuc2VuZChBYWsuc2VyaWFsaXplKHNldHRpbmdzKSk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVWYWx1ZSA6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIGlmICh0eXBlb2YgR01fZGVsZXRlVmFsdWUgIT09ICJ1bmRlZmluZWQiICYmICFuYW1lKSB7CiAgICAgICAgdmFyIHZhbHMgPSBHTV9saXN0VmFsdWVzKCk7CiAgICAgICAgZm9yICh2YXIgaSBpbiB2YWxzKSB7CiAgICAgICAgICBpZiAodmFscy5oYXNPd25Qcm9wZXJ0eShpKSkKICAgICAgICAgICAgR01fZGVsZXRlVmFsdWUodmFsc1tpXSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBHTV9kZWxldGVWYWx1ZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBHTV9kZWxldGVWYWx1ZShuYW1lKTsKICAgICAgfQogICAgfSwKICAgIHNldFZhbHVlIDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgIGlmICh0eXBlb2YgR01fc2V0VmFsdWUgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgR01fc2V0VmFsdWUobmFtZSwgdmFsdWUpOwogICAgICB9CiAgICB9LAogICAgZ2V0VmFsdWUgOiBmdW5jdGlvbiAobmFtZSkgewogICAgICBpZiAodHlwZW9mIEdNX2xpc3RWYWx1ZXMgIT09ICJ1bmRlZmluZWQiICYmICFuYW1lKSB7CiAgICAgICAgdmFyIGxpc3QgPSB7fTsKICAgICAgICB2YXIgdmFscyA9IEdNX2xpc3RWYWx1ZXMoKTsKICAgICAgICBmb3IgKHZhciBpIGluIHZhbHMpIHsKICAgICAgICAgIGlmICh2YWxzLmhhc093blByb3BlcnR5KGkpKQogICAgICAgICAgICBsaXN0W3ZhbHNbaV1dID0gR01fZ2V0VmFsdWUodmFsc1tpXSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaXN0OwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBHTV9nZXRWYWx1ZSAhPT0gInVuZGVmaW5lZCIgJiYgdHlwZW9mIEdNX2dldFZhbHVlKG5hbWUpICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZShuYW1lKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIHNldExvY2FsIDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgLy8gU2VjdXJpdHlFcnJvcjogVGhlIG9wZXJhdGlvbiBpcyBpbnNlY3VyZS4KICAgICAgICAvLyBkb2M6IGh0dHA6Ly90aW55dXJsLmNvbS84cGVxd3ZkCiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIHZhbHVlLnRvU3RyaW5nKCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBBYWsud2FybigiU29ycnkhIE5vIFdlYiBTdG9yYWdlIHN1cHBvcnQuIik7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7fQogICAgfSwKICAgIGdldExvY2FsIDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5sb2NhbFN0b3JhZ2UgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBBYWsud2FybigiU29ycnkhIE5vIFdlYiBTdG9yYWdlIHN1cHBvcnQuIik7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIHNldFNlc3Npb24gOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHsKICAgICAgdHJ5IHsKICAgICAgICAvLyBEb2M6IGh0dHA6Ly90aW55dXJsLmNvbS84cGVxd3ZkCiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShuYW1lLCB2YWx1ZS50b1N0cmluZygpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgQWFrLndhcm4oIlNvcnJ5ISBObyBXZWIgU3RvcmFnZSBzdXBwb3J0LiIpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkge30KICAgIH0sCiAgICBnZXRTZXNzaW9uIDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5zZXNzaW9uU3RvcmFnZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHJldHVybiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShuYW1lKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgQWFrLndhcm4oIlNvcnJ5ISBObyBXZWIgU3RvcmFnZSBzdXBwb3J0LiIpOwogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBzZXRDb29raWUgOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIHRpbWUsIHBhdGgpIHsKICAgICAgdmFyIGV4cGlyZXMgPSBuZXcgRGF0ZSgpOwogICAgICBleHBpcmVzLnNldFRpbWUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAodGltZSB8fCAzNjUgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7CiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAiPSIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICsgIjtleHBpcmVzPSIgKyBleHBpcmVzLnRvR01UU3RyaW5nKCkgKyAiO3BhdGg9IiArIChwYXRoIHx8ICcvJyk7CiAgICB9LAogICAgZ2V0Q29va2llIDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdmFyIHZhbHVlID0gIjsgIiArIGRvY3VtZW50LmNvb2tpZTsKICAgICAgdmFyIHBhcnRzID0gdmFsdWUuc3BsaXQoIjsgIiArIG5hbWUgKyAiPSIpOwogICAgICBpZiAocGFydHMubGVuZ3RoID09IDIpCiAgICAgICAgcmV0dXJuIHBhcnRzLnBvcCgpLnNwbGl0KCI7Iikuc2hpZnQoKTsKICAgIH0sCiAgICBzZXRSZWFkT25seSA6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCBuYW1lLCB7CiAgICAgICAgdmFsdWUgOiB2YWx1ZSwKICAgICAgICBjb25maWd1cmFibGUgOiBmYWxzZSwKICAgICAgICB3cml0YWJsZSA6IGZhbHNlCiAgICAgIH0pOwogICAgfSwKICAgIHN0b3BSZWRpcmVjdCA6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCd3YXRjaCcgaW4gd2luZG93KSB7CiAgICAgICAgQWFrLnV3LndhdGNoKCJsb2NhdGlvbiIsIGZ1bmN0aW9uICgpIHt9KTsKICAgICAgICBBYWsudXcubG9jYXRpb24ud2F0Y2goImhyZWYiLCBmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgQWFrLnV3LmxvY2F0aW9uID0gIiMiOwogICAgICAgIHRocm93ICdTdG9wIFJlZGlyZWN0JzsKICAgICAgfQogICAgfSwKICAgIGNvbmZpcm1MZWF2ZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfTsKICAgIH0sCiAgICBjb25maXJtUmVwb3J0IDogZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgZWxlbS5pbm5lckhUTUwgPSAnUmVwb3J0JzsKICAgICAgZWxlbS50aXRsZSA9ICdSZXBvcnQgaXNzdWUgb3IgYW50aS1hZGJsb2NrJzsKICAgICAgZWxlbS5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCJEbyB5b3Ugd2FudCB0byByZXBvcnQgaXNzdWUgb3IgYW50aS1hZGJsb2NrID8iKSkgeyAvLyBDbGljIG9uIE9LCiAgICAgICAgICBBYWsuZ28oQWFrLnJlcG9ydFVSTCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIEFhay5nbyhlbGVtLmhyZWYpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICB1bnBhY2tTY3JpcHQgOiBmdW5jdGlvbiAoc291cmNlKSB7CiAgICAgIC8vIGRlb2JmdXNjYXRlOiBwYWMra2VkLCBwYWMra2VyLCBtdW4rZ2VkLCB3aStzZQogICAgICAvLyBub3RlOiAiRXhjZXB0aW9uIDQwMzAwOCIgc2VlIGdyZWFzZWZvcmsgUE0KICAgICAgdmFyIHN1YnN0cmluZyA9IHNvdXJjZS5zdWJzdHJpbmcoc291cmNlLmluZGV4T2YoJ2V2YWwoJykrNCwgc291cmNlLmxhc3RJbmRleE9mKCcpJykrMSk7CiAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ3JldHVybiAnK3N1YnN0cmluZykoKTsKICAgIH0sCiAgICBoYXNTY3JpcHQgOiBmdW5jdGlvbiAoY29udGFpbnMsIGRvYykgewogICAgICAvLyBieTogV2F0aWxpbgogICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKAogICAgICAgIGRvYyAmJiBkb2Muc2NyaXB0cyB8fCBkb2N1bWVudC5zY3JpcHRzLAogICAgICAgIGZ1bmN0aW9uICgkc2NyaXB0KSB7CiAgICAgICAgdmFyIHNvdXJjZSA9ICRzY3JpcHQuaW5uZXJIVE1MOwogICAgICAgIHJldHVybiBzb3VyY2UgJiYgc291cmNlLmluZGV4T2YoY29udGFpbnMpICE9IC0xOwogICAgICB9KVswXTsKICAgIH0sCiAgICBhZGRTY3JpcHQgOiBmdW5jdGlvbiAoc291cmNlLCBib2R5KSB7CiAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgc2NyaXB0LnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKICAgICAgc2NyaXB0LmlubmVySFRNTCA9ICh0eXBlb2Ygc291cmNlID09PSAnZnVuY3Rpb24nKSA/IEFhay5pbnRvU3RyaW5nKHNvdXJjZSkgOiBzb3VyY2UudG9TdHJpbmcoKTsKICAgICAgaWYgKGJvZHkpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgICB9CiAgICAgIHNjcmlwdC5yZW1vdmUoKTsKICAgIH0sCiAgICBsb2FkU2NyaXB0IDogZnVuY3Rpb24gKHNyYywgYm9keSwgb25sb2FkKSB7CiAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgc2NyaXB0LnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKICAgICAgc2NyaXB0LnNyYyA9IHNyYzsKICAgICAgaWYgKG9ubG9hZCkgewogICAgICAgIHNjcmlwdC5vbmxvYWQgPSBvbmxvYWQ7CiAgICAgIH0KICAgICAgaWYgKGJvZHkpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgICB9CiAgICB9LAogICAgaW1wb3J0U2NyaXB0IDogZnVuY3Rpb24gKHVybCwgY2FsbGJhY2spIHsKICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgIHVybCA6IHVybCwKICAgICAgICBvbmxvYWQgOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICB2YXIgcmF3U2NyaXB0ID0gcmVzdWx0LnJlc3BvbnNlVGV4dDsKICAgICAgICAgIChuZXcgRnVuY3Rpb24oJ0FhaycsIHJhd1NjcmlwdCArICdcblxyJyArIEFhay5pbnRvU3RyaW5nKGNhbGxiYWNrKSkpKEFhayk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBpbnRvU3RyaW5nIDogZnVuY3Rpb24gKGEpIHsKICAgICAgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdmFyIHN0ciA9IGEudG9TdHJpbmcoKTsKICAgICAgICB2YXIgZmlyc3QgPSBzdHIuaW5kZXhPZigieyIpICsgMTsKICAgICAgICB2YXIgbGFzdCA9IHN0ci5sYXN0SW5kZXhPZigifSIpOwogICAgICAgIHJldHVybiBzdHIuc3Vic3RyKGZpcnN0LCBsYXN0IC0gZmlyc3QpLnRyaW0oKTsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZW50cnkgPT09ICdvYmplY3QnKSB7CiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGEpOwogICAgICB9IGVsc2UgeyAvLyBhcnJheSBvciBzdHJpbmcKICAgICAgICByZXR1cm4gYS50b1N0cmluZygpOwogICAgICB9CiAgICB9LAogICAgaW50b0FycmF5IDogZnVuY3Rpb24gKGEpIHsKICAgICAgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgcmV0dXJuIGFba2V5XTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycpIHsKICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShhKTsKICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgcmV0dXJuIGE7CiAgICAgIH0KICAgIH0sCiAgICBpbnRvT2JqZWN0IDogZnVuY3Rpb24gKGEpIHsKICAgICAgaWYgKHR5cGVvZiBhID09PSAnc3RyaW5nJykgewogICAgICAgIHJldHVybiBKU09OLnBhcnNlKGEpOwogICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHsKICAgICAgICBmb3IgKHZhciBpID0gMCwgbyA9IHt9OyBpIDwgYS5sZW5ndGg7ICsraSkgewogICAgICAgICAgb1tpXSA9IGFbaV07CiAgICAgICAgfQogICAgICAgIHJldHVybiBvOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiBhOwogICAgICB9CiAgICB9LAogICAgaGFzRWxlbWVudCA6IGZ1bmN0aW9uIChzZWxlY3RvciwgY2FsbGJhY2ssIHRpbWVvdXQpIHsKICAgICAgdmFyIHJlcGVhdCA9IHRpbWVvdXQgfHwgMTA7CiAgICAgIHZhciBsb29wID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGVsZW0gPSBBYWsuZ2V0RWxlbWVudChzZWxlY3Rvcik7CiAgICAgICAgICBpZiAoZWxlbSkgewogICAgICAgICAgICBjYWxsYmFjayhlbGVtKTsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChsb29wKTsKICAgICAgICAgIH0KICAgICAgICAgIHJlcGVhdCA9IChyZXBlYXQpID8gcmVwZWF0IC0gMSA6IGNsZWFySW50ZXJ2YWwobG9vcCk7CiAgICAgICAgfSwgMWUzKTsKICAgIH0sCiAgICByZW1vdmVFbGVtZW50IDogZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgaWYgKGVsZW0gaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQpIHsKICAgICAgICBlbGVtLnJlbW92ZSgpOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtID09PSAic3RyaW5nIikgewogICAgICAgIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW0pOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbS5sZW5ndGg7IGkrKykgewogICAgICAgICAgZWxlbVtpXS5yZW1vdmUoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZXRFbGVtZW50IDogZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0Tm9kZSkgewogICAgICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJykgewogICAgICAgIGlmIChzZWxlY3Rvci5pbmRleE9mKCcvJykgPT09IDApIHsgLy8gZXg6IC8vaW1nW0BjbGFzcz0icGhvdG8iXQogICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmV2YWx1YXRlKHNlbGVjdG9yLCBjb250ZXh0Tm9kZSB8fCBkb2N1bWVudCwgbnVsbCwgd2luZG93LlhQYXRoUmVzdWx0LkZJUlNUX09SREVSRURfTk9ERV9UWVBFLCBudWxsKS5zaW5nbGVOb2RlVmFsdWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoY29udGV4dE5vZGUgfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpOwogICAgICB9IGVsc2UgaWYgKHNlbGVjdG9yIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIHNlbGVjdG9yOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlRWxlbWVudCA6IGZ1bmN0aW9uIChwcm9wcykgewogICAgICB2YXIgZWxlbSwKICAgICAgbm9kZSA9IHt9OwogICAgICBmb3IgKHZhciBuYW1lIGluIHByb3BzKSB7CiAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHsKICAgICAgICAgIGNhc2UgInRhZyI6CiAgICAgICAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJ0ZXh0IjoKICAgICAgICAgICAgdmFyIHRleHQgPSAoJ2lubmVyVGV4dCcgaW4gZG9jdW1lbnQpID8gJ2lubmVyVGV4dCcgOiAndGV4dENvbnRlbnQnOwogICAgICAgICAgICBub2RlW3RleHRdID0gcHJvcHNbbmFtZV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiaHRtbCI6CiAgICAgICAgICAgIG5vZGUuaW5uZXJIVE1MID0gcHJvcHNbbmFtZV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiY2xhc3NpZCI6CiAgICAgICAgICAgIG5vZGUuY2xhc3NOYW1lID0gcHJvcHNbbmFtZV07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiYXBwZW5kIjoKICAgICAgICAgICAgZWxlbSA9IEFhay5nZXRFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgZWxlbS5hcHBlbmRDaGlsZChub2RlKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJwcmVwZW5kIjoKICAgICAgICAgICAgZWxlbSA9IEFhay5nZXRFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgaWYgKGVsZW0uY2hpbGROb2Rlcy5sZW5ndGgpIHsKICAgICAgICAgICAgICBlbGVtLmluc2VydEJlZm9yZShub2RlLCBlbGVtLmNoaWxkTm9kZXNbMF0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJiZWZvcmUiOgogICAgICAgICAgICBlbGVtID0gQWFrLmdldEVsZW1lbnQocHJvcHNbbmFtZV0pOwogICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIGVsZW0pOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgImFmdGVyIjoKICAgICAgICAgICAgZWxlbSA9IEFhay5nZXRFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBlbGVtLm5leHRTaWJsaW5nKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJyZXBsYWNlIjoKICAgICAgICAgICAgZWxlbSA9IEFhay5nZXRFbGVtZW50KHByb3BzW25hbWVdKTsKICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChub2RlLCBlbGVtKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJldmVudCI6CiAgICAgICAgICAgIGZvciAodmFyIGV2TmFtZSBpbiBwcm9wcy5ldmVudCkgewogICAgICAgICAgICAgIGlmIChwcm9wcy5ldmVudC5oYXNPd25Qcm9wZXJ0eShldk5hbWUpKQogICAgICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2TmFtZSwgcHJvcHMuZXZlbnRbZXZOYW1lXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJjYWxsYmFjayI6CiAgICAgICAgICAgIHByb3BzW25hbWVdKG5vZGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHByb3BzW25hbWVdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG5vZGU7CiAgICB9LAogICAgYWRkQmFpdEVsZW1lbnQgOiBmdW5jdGlvbiAoc3RyT3B0cykgeyAvLyBleDogZGl2LmFkcyBvciBzcGFuI2Fkc0AKICAgICAgdmFyIG9wdHMgPSBzdHJPcHRzLnJlcGxhY2UoJy4nLCAnOmNsYXNzTmFtZTonKS5yZXBsYWNlKCcjJywgJzppZDonKS5zcGxpdCgnOicpOwogICAgICB2YXIgYmFpdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQob3B0c1swXSk7CiAgICAgIGJhaXQuc2V0QXR0cmlidXRlKG9wdHNbMV0sIG9wdHNbMl0pOwogICAgICBiYWl0LmlubmVySFRNTCA9ICI8YnI+IjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGJhaXQpOwogICAgICByZXR1cm4gYmFpdDsKICAgIH0sCiAgICByZXBsYWNlRWxlbWVudCA6IGZ1bmN0aW9uIChvbGROb2RlLCBuZXdOb2RlKSB7CiAgICAgIG9sZE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgb2xkTm9kZSk7CiAgICB9LAogICAgc2V0RWxlbWVudCA6IGZ1bmN0aW9uIChzZWxlY3RvciwgcHJvcHMpIHsKICAgICAgdmFyIG5vZGUgPSBBYWsuZ2V0RWxlbWVudChzZWxlY3Rvcik7CiAgICAgIGlmIChub2RlKSB7CiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBwcm9wcykgewogICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICAgIHN3aXRjaCAobmFtZSkgewogICAgICAgICAgICBjYXNlICJ0ZXh0IjoKICAgICAgICAgICAgICB2YXIgdGV4dCA9ICgnaW5uZXJUZXh0JyBpbiBkb2N1bWVudCkgPyAnaW5uZXJUZXh0JyA6ICd0ZXh0Q29udGVudCc7CiAgICAgICAgICAgICAgbm9kZVt0ZXh0XSA9IHByb3BzW25hbWVdOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJodG1sIjoKICAgICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IHByb3BzW25hbWVdOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJjbGFzcyI6CiAgICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBwcm9wc1tuYW1lXTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCBwcm9wc1tuYW1lXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhZGRTdHlsZSA6IGZ1bmN0aW9uIChjc3MpIHsKICAgICAgY3NzID0gY3NzLnJlcGxhY2UoLzsvZywgJyAhaW1wb3J0YW50OycpOwogICAgICBpZiAodHlwZW9mIEdNX2FkZFN0eWxlICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgR01fYWRkU3R5bGUoY3NzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLmlubmVySFRNTCA9IGNzczsKICAgICAgfQogICAgfSwKICAgIGxvYWRTdHlsZSA6IGZ1bmN0aW9uIChzcmMpIHsKICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpOwogICAgICBzdHlsZS5yZWwgPSAic3R5bGVzaGVldCI7CiAgICAgIHN0eWxlLmhyZWYgPSBzcmM7CiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgfSwKICAgIGdldFN0eWxlIDogZnVuY3Rpb24gKHNlbGVjdG9yLCBwcm9wKSB7CiAgICAgIHZhciBlbGVtID0gQWFrLmdldEVsZW1lbnQoc2VsZWN0b3IpOwogICAgICBpZiAoZWxlbS5jdXJyZW50U3R5bGUpIHsKICAgICAgICByZXR1cm4gZWxlbS5jdXJyZW50U3R5bGVbcHJvcF07CiAgICAgIH0gZWxzZSBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUpIHsKICAgICAgICByZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3ApOwogICAgICB9CiAgICB9LAogICAgZGVjb2RlVVJJIDogZnVuY3Rpb24gKHN0cikgewogICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cik7CiAgICB9LAogICAgZW5jb2RlVVJJIDogZnVuY3Rpb24gKHN0cikgewogICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cik7CiAgICB9LAogICAgZW5jb2RlSFRNTCA6IGZ1bmN0aW9uIChzdHIpIHsKICAgICAgcmV0dXJuIFN0cmluZyhzdHIpLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKS5yZXBsYWNlKC8iL2csICcmcXVvdDsnKTsKICAgIH0sCiAgICBkZWNvZGVIVE1MIDogZnVuY3Rpb24gKHN0cikgewogICAgICByZXR1cm4gU3RyaW5nKHN0cikucmVwbGFjZSgvJmFtcDsvZywgJyYnKS5yZXBsYWNlKC8mbHQ7L2csICc8JykucmVwbGFjZSgvJmd0Oy9nLCAnPicpLnJlcGxhY2UoLyZxdW90Oy9nLCAnIicpOwogICAgfSwKICAgIHNlcmlhbGl6ZSA6IGZ1bmN0aW9uIChvYmopIHsKICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHsKICAgICAgICB2YXIgYXJyID0gW107CiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHsKICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpCiAgICAgICAgICAgIGFyci5wdXNoKHByb3AgKyAnPScgKyBBYWsuZW5jb2RlVVJJKG9ialtwcm9wXSkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYXJyLmpvaW4oJyYnKTsKICAgICAgfQogICAgICByZXR1cm4gb2JqOwogICAgfSwKICAgIHVuc2VyaWFsaXplIDogZnVuY3Rpb24gKHN0cikgewogICAgICBzdHIgPSBBYWsuZGVjb2RlSFRNTChzdHIpOwogICAgICB2YXIgYXJyID0gc3RyLnNwbGl0KCcmJyk7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7CiAgICAgICAgaWYgKGVudHJ5ICE9PSAnJyAmJiBlbnRyeS5zcGxpdCgnPScpKSB7CiAgICAgICAgICB2YXIgc3BsaXRzID0gZW50cnkuc3BsaXQoJz0nKTsKICAgICAgICAgIG9ialtzcGxpdHNbMF1dID0gQWFrLmRlY29kZVVSSShzcGxpdHNbMV0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBvYmo7CiAgICB9LAogICAgdW5zZXRQcm9wZXJ0aWVzIDogZnVuY3Rpb24gKG9iaiwgcHJvcHMpIHsKICAgICAgcHJvcHMgPSAodHlwZW9mIHByb3BzID09ICdzdHJpbmcnKSA/IHByb3BzLnNwbGl0KCcsJykgOiBwcm9wczsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBwcm9wID0gcHJvcHNbaV07CiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgZGVsZXRlIG9ialtwcm9wXTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG9iajsKICAgIH0sCiAgICBzZXRQcm9wZXJ0aWVzIDogZnVuY3Rpb24gKG9iajEsIG9iajIpIHsKICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmoyKSB7CiAgICAgICAgaWYgKG9iajIuaGFzT3duUHJvcGVydHkocHJvcCkpCiAgICAgICAgICBvYmoxW3Byb3BdID0gb2JqMltwcm9wXTsKICAgICAgfQogICAgICByZXR1cm4gb2JqMTsKICAgIH0sCiAgICBmaXhQcm90b2NvbFVSTCA6IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgaWYgKC9eaHR0cC8udGVzdCh1cmwpKSB7IC8vIGFic29sdXRlCiAgICAgICAgcmV0dXJuIHVybDsKICAgICAgfSBlbHNlIGlmICgvXlwvXC8vLnRlc3QodXJsKSkgeyAvLyByZWxhdGl2ZQogICAgICAgIHJldHVybiAnaHR0cDonICsgdXJsOwogICAgICB9IGVsc2UgeyAvLyBub25lCiAgICAgICAgcmV0dXJuICdodHRwOi8vJyArIHVybDsKICAgICAgfQogICAgfSwKICAgIGZha2VGdWNrQWRCbG9jayA6IGZ1bmN0aW9uIChpbnN0YW5jZU5hbWUsIGNsYXNzTmFtZSkgewoKICAgICAgLy8gaW5qZWN0IGZha2UgZnVja2FkYmx1Y2sKICAgICAgQWFrLmFkZFNjcmlwdChBYWsuaW50b1N0cmluZyhmdW5jdGlvbiAoKSB7CgogICAgICAgICAgdmFyIENMQVNTTkFNRSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgICB2YXIgY2FsbE5vdERldGVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuZGVidWcgPSB7CiAgICAgICAgICAgICAgc2V0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGY7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBnZXQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLm9uRGV0ZWN0ZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICAgICAgICB0aGlzLm9uKHRydWUsIGNhbGxiYWNrKTsKICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5vbk5vdERldGVjdGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgdGhpcy5vbihmYWxzZSwgY2FsbGJhY2spOwogICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGRldGVjdGVkLCBjYWxsYmFjaykgewogICAgICAgICAgICAgIGlmICghZGV0ZWN0ZWQpIHsKICAgICAgICAgICAgICAgIGNhbGxOb3REZXRlY3RlZCA9IGNhbGxiYWNrOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChjYWxsYmFjaywgMSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhbJ0FudGlBZGJLaWxsZXInLCBsb2NhdGlvbi5ob3N0LCAnRnVja0FkQmxvY2snXSk7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgc2V0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBnZXQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuY2hlY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaWYgKGNhbGxOb3REZXRlY3RlZCkKICAgICAgICAgICAgICAgIGNhbGxOb3REZXRlY3RlZCgpOwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLmVtaXRFdmVudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5jbGVhckV2ZW50ID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICB9OwoKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHdpbmRvdywgewogICAgICAgICAgICBDTEFTU05BTUUgOiB7CiAgICAgICAgICAgICAgdmFsdWUgOiBDTEFTU05BTUUsCiAgICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3aW5kb3csIHsKICAgICAgICAgICAgSU5TVEFOQ0VOQU1FIDogewogICAgICAgICAgICAgIHZhbHVlIDogbmV3IENMQVNTTkFNRSgpLAogICAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgIH0pLnJlcGxhY2UoL0lOU1RBTkNFTkFNRS9nLCBpbnN0YW5jZU5hbWUgfHwgJ2Z1Y2tBZEJsb2NrJykKICAgICAgICAucmVwbGFjZSgvQ0xBU1NOQU1FL2csIGNsYXNzTmFtZSB8fCAnRnVja0FkQmxvY2snKSk7CgogICAgfSwgLy8gRXZlbnRzCiAgICBvbkV2ZW50IDogZnVuY3Rpb24gKGVsZW1lbnQsIHR5cGUsIGxpc3RlbmVyLCBidWJibGVzKSB7CiAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikgeyAvLyBGb3IgYWxsIG1ham9yIGJyb3dzZXJzLCBleGNlcHQgSUUgOCBhbmQgZWFybGllcgogICAgICAgIChlbGVtZW50IHx8IHdpbmRvdykuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgYnViYmxlcyB8fCBmYWxzZSk7CiAgICAgIH0gZWxzZSB7IC8vIEZvciBJRSA4IGFuZCBlYXJsaWVyIHZlcnNpb25zCiAgICAgICAgKGVsZW1lbnQgfHwgd2luZG93KS5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgbGlzdGVuZXIpOwogICAgICB9CiAgICAgIHJldHVybiBhcmd1bWVudHM7CiAgICB9LAogICAgb2ZmRXZlbnQgOiBmdW5jdGlvbiAoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIsIGJ1YmJsZXMpIHsKICAgICAgaWYgKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKSB7IC8vIEZvciBhbGwgbWFqb3IgYnJvd3NlcnMsIGV4Y2VwdCBJRSA4IGFuZCBlYXJsaWVyCiAgICAgICAgKGVsZW1lbnQgfHwgd2luZG93KS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBidWJibGVzIHx8IGZhbHNlKTsKICAgICAgfSBlbHNlIHsgLy8gRm9yIElFIDggYW5kIGVhcmxpZXIgdmVyc2lvbnMKICAgICAgICAoZWxlbWVudCB8fCB3aW5kb3cpLmRldGFjaEV2ZW50KCdvbicgKyB0eXBlLCBsaXN0ZW5lcik7CiAgICAgIH0KICAgIH0sCiAgICBlbWl0RXZlbnQgOiBmdW5jdGlvbiAoZWxlbWVudCwgdHlwZSwgZGV0YWlsLCBidWJibGVzLCBjYW5jZWxhYmxlKSB7CiAgICAgIHZhciBldmVudDsKICAgICAgaWYgKHdpbmRvdy5DdXN0b21FdmVudCkgewogICAgICAgIGV2ZW50ID0gbmV3IHdpbmRvdy5DdXN0b21FdmVudCh0eXBlLCB7CiAgICAgICAgICAgICJkZXRhaWwiIDogZGV0YWlsIHx8IHVuZGVmaW5lZAogICAgICAgICAgfSwgYnViYmxlcyB8fCBmYWxzZSwgY2FuY2VsYWJsZSB8fCBmYWxzZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTsKICAgICAgICBldmVudC5pbml0Q3VzdG9tRXZlbnQoJ29uJyArIHR5cGUsIGJ1YmJsZXMgfHwgZmFsc2UsIGNhbmNlbGFibGUgfHwgZmFsc2UsIHsKICAgICAgICAgICJkZXRhaWwiIDogZGV0YWlsIHx8IHVuZGVmaW5lZAogICAgICAgIH0pOwogICAgICB9CiAgICAgIChlbGVtZW50IHx8IHdpbmRvdykuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICB9LAogICAgZGV0ZWN0ZWQgOiBmdW5jdGlvbiAobmFtZSkgewogICAgICBpZiAoQWFrLm9wdHMuZGVidWcgJiYgQWFrLm9wdHMubG9nRGV0ZWN0ZWQpIHsKICAgICAgICBBYWsuZW1pdEV2ZW50KHdpbmRvdywgJ2RldGVjdGVkJywgbmFtZSk7CiAgICAgIH0KICAgIH0sCiAgICByZWFkeSA6IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICBBYWsub25FdmVudCh3aW5kb3csICdsb2FkJywgY2FsbGJhY2spOwogICAgfSwKICAgIHBsYXllciA6IGZ1bmN0aW9uICgpIHsKCiAgICAgIHZhciBQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy50YXJnZXQgPSB7fTsKICAgICAgICB0aGlzLnBsYXllciA9IHt9OwogICAgICAgIHRoaXMubmFtZSA9IG51bGw7CiAgICAgICAgdGhpcy52ZXJzaW9uID0gbnVsbDsKICAgICAgICB0aGlzLmxpYnJhcnkgPSBudWxsOwogICAgICAgIHRoaXMuZmFsbGJhY2sgPSAndmxjJzsKICAgICAgICB0aGlzLmF1dG9wbGF5ID0gQWFrLm9wdHMuYXV0b1BsYXk7CiAgICAgICAgdGhpcy5hcmdzID0gbnVsbDsKICAgICAgICB0aGlzLnNldHVwID0ge307CiAgICAgICAgdGhpcy5vcHRpb25zID0gewogICAgICAgICAgYnVpbGQgOiAnZW1iZWQnLAogICAgICAgICAgaW5zZXJ0IDogJ3JlcGxhY2UnLAogICAgICAgICAgY3Jvc3NTZXR1cCA6IHRydWUKICAgICAgICB9OwogICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgLy8gZmxhc2gKICAgICAgICAgIHdtb2RlIDogJ29wYXF1ZScsCiAgICAgICAgICBxdWFsaXR5IDogJ2hpZ2gnLAogICAgICAgICAgYmdjb2xvciA6ICcjMDAwMDAwJywKICAgICAgICAgIHR5cGUgOiAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnLAogICAgICAgICAgcGx1Z2luc3BhZ2UgOiAnaHR0cDovL3d3dy5hZG9iZS5jb20vZ28vZ2V0Zmxhc2gnLAogICAgICAgICAgYWxsb3dzY3JpcHRhY2Nlc3MgOiAnYWx3YXlzJywgLy8gbmV2ZXIgLyBhbHdheXMKICAgICAgICAgIGFsbG93ZnVsbHNjcmVlbiA6IHRydWUKICAgICAgICB9OwogICAgICB9OwoKICAgICAgUGxheWVyLnByb3RvdHlwZSA9IHsgLy8gaHR0cDovL3Rpbnl1cmwuY29tL3BiNmZ0aGoKICAgICAgICBnZXRUYXJnZXROb2RlIDogZnVuY3Rpb24gKGVsZW1lbnQpIHsKCiAgICAgICAgICB0aGlzLnRhcmdldC5ub2RlID0gQWFrLmdldEVsZW1lbnQoZWxlbWVudCk7CiAgICAgICAgICB0aGlzLnRhcmdldC5odG1sID0gdGhpcy50YXJnZXQubm9kZS5vdXRlckhUTUw7CiAgICAgICAgICB0aGlzLnRhcmdldC5wYXJlbnQgPSB0aGlzLnRhcmdldC5ub2RlLnBhcmVudE5vZGU7CiAgICAgICAgICB0aGlzLnRhcmdldC50YWcgPSB0aGlzLnRhcmdldC5ub2RlLnRhZ05hbWU7CgogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmlkID0gdGhpcy5hdHRyaWJ1dGVzLm5hbWUgPSBBYWsuZ2VuZXJhdGVJRCgpOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCA9IHRoaXMudGFyZ2V0Lm5vZGUuaGVpZ2h0IHx8IHRoaXMudGFyZ2V0Lm5vZGUuY2xpZW50SGVpZ2h0IHx8ICc0ODBweCc7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMud2lkdGggPSB0aGlzLnRhcmdldC5ub2RlLndpZHRoIHx8IHRoaXMudGFyZ2V0Lm5vZGUuY2xpZW50V2lkdGggfHwgJzY0MHB4JzsKICAgICAgICB9LAogICAgICAgIGdldE1pbWVUeXBlIDogZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICAgIC8vIGRvYzogaHR0cDovL3Rpbnl1cmwuY29tL2pyczhmZ3oKICAgICAgICAgIHN3aXRjaCAodHlwZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICBjYXNlICdtcDQnOgogICAgICAgICAgICByZXR1cm4gJ3ZpZGVvL21wNCc7CiAgICAgICAgICBjYXNlICd3ZWJtJzoKICAgICAgICAgICAgcmV0dXJuICd2aWRlby93ZWJtJzsKICAgICAgICAgIGNhc2UgJ29nZyc6CiAgICAgICAgICBjYXNlICdvZ3YnOgogICAgICAgICAgICByZXR1cm4gJ3ZpZGVvL29nZyc7CiAgICAgICAgICBjYXNlICdmbHYnOgogICAgICAgICAgICByZXR1cm4gJ3ZpZGVvL3gtZmx2JzsKICAgICAgICAgIGNhc2UgJ2hscyc6CiAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veC1tcGVnVVJMJzsKICAgICAgICAgIGNhc2UgJ2hkcyc6CiAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vZjRtK3htbCc7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gdHlwZTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGJ1aWxkaW5nIDogZnVuY3Rpb24gKHRhZ05hbWUpIHsKICAgICAgICAgIHZhciBzZWxmID0gdGhpczsKCiAgICAgICAgICBpZiAoQWFrLm9wdHMuZm9yY2VWTEMgJiYgdGhpcy5uYW1lICE9PSAndmxjJykgewogICAgICAgICAgICBBYWsuaW5mbygnZm9yY2UgcGxheWluZyB3aXRoIFZMQycpOwogICAgICAgICAgICByZXR1cm4gdGhpcy52bGMuYXBwbHkodGhpcywgdGhpcy5hcmdzKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzd2l0Y2ggKHRhZ05hbWUpIHsKICAgICAgICAgIGNhc2UgJ2lmcmFtZSc6CiAgICAgICAgICAgIHRoaXMucGxheWVyLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMuYXR0cmlidXRlcy5zcmMgfHwgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdCArICcvJyk7CiAgICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMuc3JjZG9jKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyLm5vZGUuaGFzQXR0cmlidXRlKCJzcmNkb2MiKSB8fCAnc3JjZG9jJyBpbiB0aGlzLnBsYXllci5ub2RlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZSgnc3JjZG9jJywgdGhpcy5hdHRyaWJ1dGVzLnNyY2RvYyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIGRvZXMgbm90IHdvcmsgY29ycmVjdGx5IHdpdGggZmxvd3BsYXllcgogICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ3NyYycsICJkYXRhOnRleHQvaHRtbDtjaGFyc2V0PXV0Zi04LCIgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5hdHRyaWJ1dGVzLnNyY2RvYykpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLnNldHVwLndpZHRoKTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRoaXMuc2V0dXAuaGVpZ2h0KTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2hlaWdodDonICsgdGhpcy5zZXR1cC5oZWlnaHQgKyAncHg7IHdpZHRoOicgKyB0aGlzLnNldHVwLndpZHRoICsgJ3B4OycpOwogICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZSgnZnJhbWVib3JkZXInLCAwKTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoJ3Njcm9sbGluZycsICdubycpOwogICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZSgnYWxsb3dmdWxsc2NyZWVuJywgdHJ1ZSk7IC8vIGh0dHA6Ly90aW55dXJsLmNvbS9veXllaGFiCiAgICAgICAgICAgIC8vIGFsbG93ZnVsbHNjcmVlbiB3ZWJraXRhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIG9hbGxvd2Z1bGxzY3JlZW4gbXNhbGxvd2Z1bGxzY3JlZW4KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICd2aWRlbyc6CiAgICAgICAgICAgIHZhciBhdHRyTmFtZTsKICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7CiAgICAgICAgICAgIGZvciAoYXR0ck5hbWUgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHRyTmFtZSkpCiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5ub2RlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgdGhpcy5hdHRyaWJ1dGVzW2F0dHJOYW1lXSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMuYXV0b3BsYXkpIHsgLy8gZml4IGJ1ZyBkdXBsaWNhdGUgcGxheWluZyBvbiBmaXJlZm94L2Nocm9tZQogICAgICAgICAgICAgIHRoaXMucGxheWVyLm5vZGUub25sb2Fkc3RhcnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvL3RoaXMucGxheSgpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMucGxheWVyLm5vZGUub25lcnJvciA9IGZ1bmN0aW9uICgpIHsgLy8gc3dpdGNoIHRvIHBsdWdpbiBwbGF5ZXIKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHNlbGYuYXJnc1swXSA9IHNlbGYucGxheWVyLm5vZGU7CiAgICAgICAgICAgICAgICBzZWxmLnZsY3BsYXllci5hcHBseShzZWxmLCBzZWxmLmFyZ3MpOwogICAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6IC8vIGVtYmVkCiAgICAgICAgICAgIHRoaXMucGxheWVyLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdlbWJlZCcpOwogICAgICAgICAgICBmb3IgKGF0dHJOYW1lIGluIHRoaXMuYXR0cmlidXRlcykgewogICAgICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoYXR0ck5hbWUpKQogICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubm9kZS5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIHRoaXMuYXR0cmlidXRlc1thdHRyTmFtZV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnBsYXllci5odG1sID0gdGhpcy5wbGF5ZXIubm9kZS5vdXRlckhUTUw7CiAgICAgICAgICB0aGlzLnBsYXllci50YWcgPSB0aGlzLnBsYXllci5ub2RlLnRhZ05hbWU7CiAgICAgICAgICB0aGlzLmluc2VydGluZygpOwogICAgICAgIH0sCiAgICAgICAgaW5zZXJ0aW5nIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgc3dpdGNoICh0aGlzLm9wdGlvbnMuaW5zZXJ0KSB7CiAgICAgICAgICBjYXNlICdpbm5lcic6CiAgICAgICAgICAgIHRoaXMudGFyZ2V0Lm5vZGUuaW5uZXJIVE1MID0gdGhpcy5wbGF5ZXIuaHRtbDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdhcHBlbmQnOgogICAgICAgICAgICB0aGlzLnRhcmdldC5wYXJlbnQucmVwbGFjZUNoaWxkKHRoaXMucGxheWVyLm5vZGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6IC8vIHJlcGxhY2UKICAgICAgICAgICAgdGhpcy50YXJnZXQucGFyZW50LnJlcGxhY2VDaGlsZCh0aGlzLnBsYXllci5ub2RlLCB0aGlzLnRhcmdldC5ub2RlKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChBYWsub3B0cy5sb2dQbGF5ZXIpIHsKICAgICAgICAgICAgQWFrLmxvZygncGxheWVyJywgdGhpcyk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9LAogICAgICAgIGVkaXRpbmcgOiBmdW5jdGlvbiAoZWxlbSwgb3B0cykgeyAvLyByZXZpZXcKICAgICAgICAgIEFhay5oYXNFbGVtZW50KGVsZW0sIGZ1bmN0aW9uICh0aGlzRWxlbWVudCkgewogICAgICAgICAgICB2YXIgb2JqLAogICAgICAgICAgICBzd2YsCiAgICAgICAgICAgIHZhbHVlLAogICAgICAgICAgICBwYXJ0cywKICAgICAgICAgICAgcGFyYW0sCiAgICAgICAgICAgIGF0dHJpYnV0ZXMsCiAgICAgICAgICAgIGF0dHJOYW1lOwogICAgICAgICAgICB2YXIgc28gPSB0aGlzRWxlbWVudDsKICAgICAgICAgICAgdmFyIGNsb25lID0gc28uY2xvbmVOb2RlKHRydWUpOwoKICAgICAgICAgICAgLy8gc2V0IGF0dHJpaWJ1dGVzCiAgICAgICAgICAgIGlmIChvcHRzLnNldEF0dHJpYnV0ZSkgewogICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBvcHRzLnNldEF0dHJpYnV0ZTsKICAgICAgICAgICAgICBmb3IgKGF0dHJOYW1lIGluIGF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICAgIGlmIChjbG9uZS5xdWVyeVNlbGVjdG9yKCdwYXJhbVtuYW1lPSInICsgYXR0ck5hbWUgKyAnIl0nKSkgewogICAgICAgICAgICAgICAgICBjbG9uZS5xdWVyeVNlbGVjdG9yKCdwYXJhbVtuYW1lPSInICsgYXR0ck5hbWUgKyAnIl0nKS52YWx1ZSA9IGF0dHJpYnV0ZXNbYXR0ck5hbWVdOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjbG9uZS5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpKSB7CiAgICAgICAgICAgICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0cmlidXRlc1thdHRyTmFtZV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gdW5zZXQgYXR0cmlidXRlcwogICAgICAgICAgICBpZiAob3B0cy51bnNldEF0dHJpYnV0ZXMpIHsKICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gb3B0cy5kZWxBdHRyaWJ1dGVzOwogICAgICAgICAgICAgIGZvciAoYXR0ck5hbWUgaW4gYXR0cmlidXRlcykgewogICAgICAgICAgICAgICAgaWYgKGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ3BhcmFtW25hbWU9IicgKyBhdHRyTmFtZSArICciXScpKSB7CiAgICAgICAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ3BhcmFtW25hbWU9IicgKyBhdHRyTmFtZSArICciXScpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvbmUuZ2V0QXR0cmlidXRlKGF0dHJOYW1lKSkgewogICAgICAgICAgICAgICAgICBkZWxldGUgYXR0cmlidXRlc1thdHRyTmFtZV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAob3B0cy5zZXRGbGFzaHZhcnMgfHwgb3B0cy51bnNldEZsYXNodmFycykgewogICAgICAgICAgICAgIGlmIChjbG9uZS5xdWVyeVNlbGVjdG9yKCdwYXJhbVtuYW1lPSJmbGFzaHZhcnMiXScpKSB7CiAgICAgICAgICAgICAgICBwYXJhbSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ3BhcmFtW25hbWU9ImZsYXNodmFycyJdJyk7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcmFtLnZhbHVlOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvbmUuZ2V0QXR0cmlidXRlKCdmbGFzaHZhcnMnKSkgewogICAgICAgICAgICAgICAgdmFsdWUgPSBjbG9uZS5nZXRBdHRyaWJ1dGUoJ2ZsYXNodmFycycpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvbmUuZ2V0QXR0cmlidXRlKCdkYXRhJykgJiYgY2xvbmUuZ2V0QXR0cmlidXRlKCdkYXRhJykuaW5kZXhPZignPycpID49IDApIHsKICAgICAgICAgICAgICAgIHBhcnRzID0gY2xvbmUuZ2V0QXR0cmlidXRlKCdkYXRhJykuc3BsaXQoJz8nLCAyKTsKICAgICAgICAgICAgICAgIHN3ZiA9IHBhcnRzLnNoaWZ0KCk7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnRzLnNoaWZ0KCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBvYmogPSBBYWsudW5zZXJpYWxpemUodmFsdWUpOwogICAgICAgICAgICAgIGlmIChvcHRzLnNldEZsYXNodmFycykgewogICAgICAgICAgICAgICAgb2JqID0gQWFrLnNldFByb3BlcnRpZXMob2JqLCBvcHRzLnNldEZsYXNodmFycyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChvcHRzLnVuc2V0Rmxhc2h2YXJzKSB7CiAgICAgICAgICAgICAgICBvYmogPSBBYWsudW5zZXRQcm9wZXJ0aWVzKG9iaiwgb3B0cy51bnNldEZsYXNodmFycyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHZhbHVlID0gQWFrLnNlcmlhbGl6ZShvYmopOwoKICAgICAgICAgICAgICBpZiAocGFyYW0pIHsKICAgICAgICAgICAgICAgIHBhcmFtLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzd2YpIHsKICAgICAgICAgICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZSgnZGF0YScsIHN3ZiArICc/JyArIHZhbHVlKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKCdmbGFzaHZhcnMnLCB2YWx1ZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIHJlcGxhY2UKICAgICAgICAgICAgQWFrLmxvZyhzbywgY2xvbmUsIG9iaik7CiAgICAgICAgICAgIEFhay5yZXBsYWNlRWxlbWVudChzbywgY2xvbmUpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBlbWJlZGRpbmcgOiBmdW5jdGlvbiAoaWQsIHNldHVwLCBhdHRyaWJ1dGVzLCBvcHRpb25zKSB7IAogICAgICAgIAogICAgICAgICAgdGhpcy5nZXRUYXJnZXROb2RlKGlkKTsKICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3VtZW50czsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IEFhay5zZXRQcm9wZXJ0aWVzKHRoaXMuYXR0cmlidXRlcywgYXR0cmlidXRlcyB8fCB7fSk7CiAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLm9wdGlvbnMsIG9wdGlvbnMgfHwge30pOwoKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5zcmMgPSBzZXR1cC5zd2Y7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuaWQgPSB0aGlzLmF0dHJpYnV0ZXMubmFtZSA9IEFhay5nZW5lcmF0ZUlEKCk7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuaGVpZ2h0ID0gc2V0dXAuaGVpZ2h0IHx8IHRoaXMuYXR0cmlidXRlcy5oZWlnaHQ7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMud2lkdGggPSBzZXR1cC53aWR0aCB8fCB0aGlzLmF0dHJpYnV0ZXMud2lkdGg7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuZmxhc2h2YXJzID0gQWFrLnNlcmlhbGl6ZShzZXR1cCk7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsudW5zZXRQcm9wZXJ0aWVzKHRoaXMuYXR0cmlidXRlcywgJ3N3ZicpOwoKICAgICAgICAgIHRoaXMuYnVpbGRpbmcoJ2VtYmVkJyk7CiAgICAgICAgfSwKICAgICAgICBqd3BsYXllciA6IGZ1bmN0aW9uIChpZCwgc2V0dXAsIGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHsKICAgICAgICAgIC8vIEp3UGxheWVyIDcgKGZsYXNoL2h0bWw1KQogICAgICAgICAgLy8gbm90ZTogcHJvYmxlbSB3aXRoIHNzbAogICAgICAgICAgLy8gc2V0dXA6IGh0dHA6Ly90aW55dXJsLmNvbS9oaHJnamFwLCBodHRwOi8vdGlueXVybC5jb20vZ3FzNDZ0bQogICAgICAgICAgLy8gYXBpOiBodHRwczovL2RldmVsb3Blci5qd3BsYXllci5jb20vanctcGxheWVyL2RvY3MvZGV2ZWxvcGVyLWd1aWRlL2FwaS9qYXZhc2NyaXB0X2FwaV9yZWZlcmVuY2UvCiAgICAgICAgICAvLyBobHM6IGh0dHA6Ly90aW55dXJsLmNvbS9weGw5c2NxCiAgICAgICAgICAvLyBobHMtdGVzdGVyOiBodHRwOi8vZGVtby5qd3BsYXllci5jb20vc3RyZWFtLXRlc3Rlci8KICAgICAgICAgIC8vIHJ0bXAtZGVtbzogaHR0cHM6Ly93d3cuc2NhbGVlbmdpbmUuY29tL2p3NgogICAgICAgICAgLy8gaWZyYW1lOiBodHRwOi8vdGlueXVybC5jb20vODZhZ2c2OAoKICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0Tm9kZShpZCk7CiAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgfHwge30pOwogICAgICAgICAgdGhpcy5vcHRpb25zID0gQWFrLnNldFByb3BlcnRpZXModGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTsKCiAgICAgICAgICB0aGlzLnNldHVwID0gc2V0dXA7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzU2V0dXAgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5zZXR1cCA9IHsKICAgICAgICAgICAgICBjb250cm9scyA6IHRydWUsCiAgICAgICAgICAgICAgZmlsZSA6IHNldHVwLnNvdXJjZSwKICAgICAgICAgICAgICBhYm91dHRleHQgOiBBYWsubmFtZSwKICAgICAgICAgICAgICBhYm91dGxpbmsgOiBBYWsuaG9tZVVSTCwKICAgICAgICAgICAgICB3aWR0aCA6IHNldHVwLndpZHRoIHx8IHRoaXMuYXR0cmlidXRlcy53aWR0aCwKICAgICAgICAgICAgICBoZWlnaHQgOiBzZXR1cC5oZWlnaHQgfHwgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCwKICAgICAgICAgICAgICBhdXRvc3RhcnQgOiBzZXR1cC5hdXRvcGxheSB8fCB0aGlzLmF1dG9wbGF5LAogICAgICAgICAgICAgIHByaW1hcnkgOiAnaHRtbDUnLAogICAgICAgICAgICAgIHByZWxvYWQgOiAnYXV0bycsCiAgICAgICAgICAgICAgc2tpbiA6IHsgLy8gU2V2ZW4gfCBTaXggfCBGaXZlIHwgR2xvdyB8IEJlZWxkZW4gfCBWYXBvciB8IEJla2xlIHwgUm91bmRzdGVyIHwgU3Rvcm10cm9vcGVyCiAgICAgICAgICAgICAgICBuYW1lIDogc2V0dXAuc2tpbiB8fCAic2l4IiAvLyBkZWZhdWx0IHNraW4gSldQNgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKFsnbXA0JywgJ3dlYm0nLCAnb2dnJywgJ29ndiddLmluZGV4T2Yoc2V0dXAudHlwZSkgPT09IC0xKSB7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5wcmltYXJ5ID0gJ2ZsYXNoJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2V0dXAudHlwZSA9PT0gJ2hscycpIHsKICAgICAgICAgICAgICB0aGlzLnNldHVwLmhsc2h0bWwgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnNyY2RvYyA9ICc8aHRtbD48aGVhZD48c3R5bGUgdHlwZT0idGV4dC9jc3MiPkBmb250LWZhY2V7Zm9udC1mYW1pbHk6anctaWNvbnM7c3JjOnVybCgnICsgbG9jYXRpb24ucHJvdG9jb2wgKyAnc3NsLnAuandwY2RuLmNvbS9wbGF5ZXIvdi83LjQuMy9qdy1pY29ucy53b2ZmKSBmb3JtYXQoIndvZmYiKSx1cmwoJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vc3NsLnAuandwY2RuLmNvbS9wbGF5ZXIvdi83LjQuMy9qdy1pY29ucy50dGYpIGZvcm1hdCgidHJ1ZXR5cGUiKTtmb250LXdlaWdodDo0MDA7Zm9udC1zdHlsZTpub3JtYWx9PC9zdHlsZT48c2NyaXB0IHNyYz0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vY29udGVudC5qd3BsYXRmb3JtLmNvbS9saWJyYXJpZXMvVjZOZkV6VDcuanMiPjwvc2NyaXB0PjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+aHRtbCwgYm9keXtwYWRkaW5nOjA7IG1hcmdpbjowO308L3N0eWxlPjwvaGVhZD48Ym9keT48ZGl2IGlkPSJqdy1tb3ZpZSI+PC9kaXY+PHNjcmlwdD5qd3BsYXllcigianctbW92aWUiKS5zZXR1cCgnICsgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR1cCkgKyAnKTs8L3NjcmlwdD48L2JvZHk+PC9odG1sPic7CgogICAgICAgICAgdGhpcy5idWlsZGluZygnaWZyYW1lJyk7CiAgICAgICAgfSwKICAgICAgICB2aWRlb2pzIDogZnVuY3Rpb24gKGlkLCBzZXR1cCwgYXR0cmlidXRlcywgb3B0aW9ucykgeyAKICAgICAgICAgIC8vIFZpZGVvSnMgNSAoZmxhc2gvaHRtbDUpCiAgICAgICAgICAvLyBzZXR1cDogaHR0cDovL3Rpbnl1cmwuY29tL3BjZ3gyb2IKICAgICAgICAgIC8vIHBsYXliYWNrOiBodHRwOi8vdGlueXVybC5jb20vbnNjenRtbQogICAgICAgICAgLy8gZGVtbzogaHR0cDovL2pzZmlkZGxlLm5ldC9OOFpzNS8xOC8KICAgICAgICAgIC8vIHBsdWdpbnM6IGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlb2pzL3ZpZGVvLmpzL3dpa2kvUGx1Z2lucwoKICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0Tm9kZShpZCk7CiAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgfHwge30pOwogICAgICAgICAgdGhpcy5vcHRpb25zID0gQWFrLnNldFByb3BlcnRpZXModGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTsKCiAgICAgICAgICB0aGlzLnNldHVwID0gc2V0dXA7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzU2V0dXAgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5zZXR1cCA9IHsKICAgICAgICAgICAgICBjb250cm9scyA6IHRydWUsCiAgICAgICAgICAgICAgcHJlbG9hZCA6ICdhdXRvJywKICAgICAgICAgICAgICB3aWR0aCA6IHNldHVwLndpZHRoIHx8IHRoaXMuYXR0cmlidXRlcy53aWR0aCwKICAgICAgICAgICAgICBoZWlnaHQgOiBzZXR1cC5oZWlnaHQgfHwgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCwKICAgICAgICAgICAgICB0ZWNoT3JkZXIgOiBbImh0bWw1IiwgImZsYXNoIl0sCiAgICAgICAgICAgICAgYXV0b3BsYXkgOiBzZXR1cC5hdXRvcGxheSB8fCB0aGlzLmF1dG9wbGF5LAogICAgICAgICAgICAgIHNvdXJjZXMgOiBbewogICAgICAgICAgICAgICAgICB0eXBlIDogdGhpcy5nZXRNaW1lVHlwZShzZXR1cC50eXBlKSwKICAgICAgICAgICAgICAgICAgc3JjIDogc2V0dXAuc291cmNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgXQogICAgICAgICAgICB9OwogICAgICAgICAgICAvKiBkb24ndCB3b3JrIAogICAgICAgICAgICBpZiAoc2V0dXAudHlwZSA9PT0gJ2hscycpIHsKICAgICAgICAgICAgICB0ZWNoT3JkZXIgOiBbImZsYXNoIiwgImh0bWw1Il0sCiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5mbGFzaCA9IHsKICAgICAgICAgICAgICAgIC8vc3dmIDogIi8vcmVla3NpdGUuY29tL3B1YmxpYy9zd2YvdmlkZW9qcy1mbGFzaGxzLnN3ZiIKICAgICAgICAgICAgICAgIHN3ZiA6ICdodHRwOi8vd3d3LmZsYXNobHMub3JnL3ZpZGVvanMvdmlkZW8tanMuc3dmJwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgKi8KICAgICAgICAgIH0KCiAgICAgICAgICAvLyAKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5zcmNkb2MgPSAnPGh0bWw+PGhlYWQ+PGxpbmsgaHJlZj0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3ZpZGVvLmpzLzUuMTAuNS9hbHQvdmlkZW8tanMtY2RuLm1pbi5jc3MiIHJlbD0ic3R5bGVzaGVldCI+PHNjcmlwdCBzcmM9IicgKyBsb2NhdGlvbi5wcm90b2NvbCArICcvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy92aWRlby5qcy81LjEwLjUvdmlkZW8ubWluLmpzIj48L3NjcmlwdD48c2NyaXB0IHNyYz0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3ZpZGVvanMtY29udHJpYi1obHMvMy4xLjAvdmlkZW9qcy1jb250cmliLWhscy5taW4uanMiPjwvc2NyaXB0PjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+aHRtbCwgYm9keXtwYWRkaW5nOjA7IG1hcmdpbjowO30udmpzLWRlZmF1bHQtc2tpbntjb2xvcjojZWVlfS52anMtZGVmYXVsdC1za2luIC52anMtcGxheS1wcm9ncmVzcywudmpzLWRlZmF1bHQtc2tpbiAudmpzLXZvbHVtZS1sZXZlbHtiYWNrZ3JvdW5kLWNvbG9yOiNlZWV9LnZqcy1kZWZhdWx0LXNraW4gLnZqcy1iaWctcGxheS1idXR0b24sLnZqcy1kZWZhdWx0LXNraW4gLnZqcy1jb250cm9sLWJhcntiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjIpfS52anMtZGVmYXVsdC1za2luIC52anMtc2xpZGVye2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuMyl9PC9zdHlsZT48L2hlYWQ+PGJvZHk+PHZpZGVvIGlkPSJ2anMtbW92aWUiIGNsYXNzPSJ2aWRlby1qcyB2anMtZGVmYXVsdC1za2luIHZqcy1iaWctcGxheS1jZW50ZXJlZCI+PC92aWRlbz48c2NyaXB0PnZpZGVvanMoInZqcy1tb3ZpZSIsICcgKyBKU09OLnN0cmluZ2lmeSh0aGlzLnNldHVwKSArICcpPC9zY3JpcHQ+PC9ib2R5PjwvaHRtbD4nOwoKICAgICAgICAgIHRoaXMuYnVpbGRpbmcoJ2lmcmFtZScpOwogICAgICAgIH0sCiAgICAgICAgZmxvd3BsYXllciA6IGZ1bmN0aW9uIChpZCwgc2V0dXAsIGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHsKICAgICAgICAgIC8vIEZsb3dQbGF5ZXIgNiAoZmxhc2gpCiAgICAgICAgICAvLyBub3RlOiBwcm9ibGVtIHdpdGggZmxhc2hwbGF5ZXIKICAgICAgICAgIC8vIHN1cHBvcnQ6IG1wNCwgZmx2LCBmNHYsIG00diwgbW92CiAgICAgICAgICAvLyBzZXR1cDogaHR0cHM6Ly9mbG93cGxheWVyLm9yZy9kb2NzL3NldHVwLmh0bWwKICAgICAgICAgIC8vIGFwaTogaHR0cHM6Ly9mbG93cGxheWVyLm9yZy9kb2NzL2FwaS5odG1sCiAgICAgICAgICAvLyBkZW1vOiBodHRwOi8vZGVtb3MuZmxvd3BsYXllci5vcmcvYmFzaWNzL2pzLXNldHVwLWF1dG9wbGF5Lmh0bWwKICAgICAgICAgIC8vIGhkczogaHR0cHM6Ly9mbG93cGxheWVyLmVsZWN0cm90ZXF1ZS5vcmcvaHR0cHN0cmVhbWluZy1oZHMvZnA2CiAgICAgICAgICAvLyBobHM6IGh0dHA6Ly9kZW1vcy5mbG93cGxheWVyLm9yZy9hcGkvaGxzanMuaHRtbAogICAgICAgICAgLy8gZmx2OiBodHRwOi8vZGVtb3MuZmxvd3BsYXllci5vcmcvYmFzaWNzL2Zsdi5odG1sCgogICAgICAgICAgdGhpcy5nZXRUYXJnZXROb2RlKGlkKTsKICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3VtZW50czsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IEFhay5zZXRQcm9wZXJ0aWVzKHRoaXMuYXR0cmlidXRlcywgYXR0cmlidXRlcyB8fCB7fSk7CiAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLm9wdGlvbnMsIG9wdGlvbnMgfHwge30pOwoKICAgICAgICAgIHRoaXMuc2V0dXAgPSBzZXR1cDsKICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY3Jvc3NTZXR1cCA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLnNldHVwID0gewogICAgICAgICAgICAgIHdpZHRoIDogc2V0dXAud2lkdGggfHwgdGhpcy5hdHRyaWJ1dGVzLndpZHRoLAogICAgICAgICAgICAgIGhlaWdodCA6IHNldHVwLmhlaWdodCB8fCB0aGlzLmF0dHJpYnV0ZXMuaGVpZ2h0LAogICAgICAgICAgICAgIGF1dG9wbGF5IDogc2V0dXAuYXV0b3BsYXkgfHwgdGhpcy5hdXRvcGxheSwKICAgICAgICAgICAgICBwcmVsb2FkIDogJ2F1dG8nCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmIChzZXR1cC50eXBlID09PSAnaGxzJykgewogICAgICAgICAgICAgIHRoaXMuc2V0dXAuc3dmID0gbG9jYXRpb24ucHJvdG9jb2wgKyAnLy9yZWxlYXNlcy5mbG93cGxheWVyLm9yZy82LjAuNS9mbG93cGxheWVyaGxzLnN3Zic7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5lbmdpbmUgPSAnaGxzanMnOwogICAgICAgICAgICB9IGVsc2UgaWYgKFsnbXA0JywgJ3dlYm0nLCAnb2dnJywgJ29ndiddLmluZGV4T2Yoc2V0dXAudHlwZSkgPT09IC0xKSB7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5zd2YgPSBsb2NhdGlvbi5wcm90b2NvbCArICcvL3JlbGVhc2VzLmZsb3dwbGF5ZXIub3JnLzYuMC41L2Zsb3dwbGF5ZXIuc3dmJzsKICAgICAgICAgICAgICB0aGlzLnNldHVwLmVuZ2luZSA9ICdmbGFzaCc7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC50eXBlID0gJ3ZpZGVvL2ZsYXNoJzsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnNldHVwLmNsaXAgPSB7CiAgICAgICAgICAgICAgc291cmNlcyA6IFt7CiAgICAgICAgICAgICAgICAgIHR5cGUgOiB0aGlzLmdldE1pbWVUeXBlKHRoaXMuc2V0dXAudHlwZSB8fCBzZXR1cC50eXBlKSwKICAgICAgICAgICAgICAgICAgc3JjIDogc2V0dXAuc291cmNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgXQogICAgICAgICAgICB9OwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5zcmNkb2MgPSAnPGh0bWw+PGhlYWQ+PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInICsgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy9yZWxlYXNlcy5mbG93cGxheWVyLm9yZy82LjAuNS9za2luL2Z1bmN0aW9uYWwuY3NzIj48L3NjcmlwdD48c2NyaXB0IHNyYz0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0xLjExLjIubWluLmpzIj48L3NjcmlwdD48c2NyaXB0IHNyYz0iJyArIGxvY2F0aW9uLnByb3RvY29sICsgJy8vcmVsZWFzZXMuZmxvd3BsYXllci5vcmcvNi4wLjUvZmxvd3BsYXllci5taW4uanMiPjwvc2NyaXB0PjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+aHRtbCwgYm9keXtwYWRkaW5nOjA7IG1hcmdpbjowO308L3N0eWxlPjwvaGVhZD48Ym9keT48ZGl2IGlkPSJmcC1tb3ZpZSI+PC9kaXY+PHNjcmlwdD5mbG93cGxheWVyKCIjZnAtbW92aWUiLCAnICsgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR1cCkgKyAnKTs8L3NjcmlwdD48L2JvZHk+PC9odG1sPic7CgogICAgICAgICAgdGhpcy5idWlsZGluZygnaWZyYW1lJyk7CiAgICAgICAgfSwKICAgICAgICBncmluZHBsYXllciA6IGZ1bmN0aW9uIChpZCwgc2V0dXAsIGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHsKICAgICAgICAgIC8vIEdyaW5kUGxheWVyIDEgKGZsYXNoKQogICAgICAgICAgLy8gc2V0dXA6IGh0dHA6Ly9vc21maGxzLmt1dHUucnUvZG9jcy9ncmluZC8KICAgICAgICAgIC8vIHN1cHBvcnQ6IGhscywgcnRtcAoKICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0Tm9kZShpZCk7CiAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgfHwge30pOwogICAgICAgICAgdGhpcy5vcHRpb25zID0gQWFrLnNldFByb3BlcnRpZXModGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTsKCiAgICAgICAgICB0aGlzLnNldHVwID0gc2V0dXA7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzU2V0dXAgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5zZXR1cCA9IHsKICAgICAgICAgICAgICBzcmMgOiBzZXR1cC5zb3VyY2UsCiAgICAgICAgICAgICAgc3RyZWFtVHlwZSA6ICJsaXZlIiwKICAgICAgICAgICAgICBzY2FsZU1vZGUgOiAibGV0dGVyYm94IiwKICAgICAgICAgICAgICBhdXRvUGxheSA6IHNldHVwLmF1dG9wbGF5IHx8IHRoaXMuYXV0b3BsYXkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHNldHVwLnR5cGUgPT09ICdobHMnKSB7CiAgICAgICAgICAgICAgdGhpcy5zZXR1cC5wbHVnaW5faGxzID0gIi8vcmVla3NpdGUuY29tL3B1YmxpYy9zd2YvZmxhc2hsc09TTUYuc3dmIjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2V0dXAucHJveHkgPT09IHRydWUpIHsKICAgICAgICAgICAgICB0aGlzLnNldHVwLnNyYyA9ICcvL3d3dy5kaWFuc2hpYm8uY29tL2ZldGNoLnBocC8nICsgc2V0dXAuc291cmNlLnN1YnN0cmluZyhzZXR1cC5zb3VyY2UuaW5kZXhPZignLy8nKSArIDIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnNyYyA9IHNldHVwLnN3ZiB8fCB0aGlzLmF0dHJpYnV0ZXMuc3JjIHx8ICIvL3JlZWtzaXRlLmNvbS9wdWJsaWMvc3dmL0dyaW5kUGxheWVyLnN3ZiI7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuaGVpZ2h0ID0gc2V0dXAuaGVpZ2h0IHx8IHRoaXMuYXR0cmlidXRlcy5oZWlnaHQ7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMud2lkdGggPSBzZXR1cC53aWR0aCB8fCB0aGlzLmF0dHJpYnV0ZXMud2lkdGg7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuZmxhc2h2YXJzID0gQWFrLnNlcmlhbGl6ZSh0aGlzLnNldHVwKTsKCiAgICAgICAgICB0aGlzLmJ1aWxkaW5nKCdlbWJlZCcpOwogICAgICAgIH0sCiAgICAgICAgdmxjIDogZnVuY3Rpb24gKGlkLCBzZXR1cCwgYXR0cmlidXRlcywgb3B0aW9ucykgewogICAgICAgICAgLy8gVkxDIFdlYiBQbHVnaW4gKHBsdWdpbikKICAgICAgICAgIC8vIGRvYzogaHR0cDovL3Rpbnl1cmwuY29tL29tbHpwMzkKICAgICAgICAgIC8vIHBsdWdpbnM6IGFib3V0OnBsdWdpbnMKICAgICAgICAgIC8vIGNocm9tZTovL2ZsYWdzLyNlbmFibGUtbnBhcGkKICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LmNocm9taXVtLm9yZy9kZXZlbG9wZXJzL25wYXBpLWRlcHJlY2F0aW9uCiAgICAgICAgICAvLyBJbiBTZXB0ZW1iZXIgMjAxNSAoQ2hyb21lIDQ1KSB3ZSB3aWxsIHJlbW92ZSB0aGUgb3ZlcnJpZGUgYW5kIE5QQVBJIHN1cHBvcnQgd2lsbCBiZSBwZXJtYW5lbnRseSByZW1vdmVkIGZyb20gQ2hyb21lLiBJbnN0YWxsZWQgZXh0ZW5zaW9ucyB0aGF0IHJlcXVpcmUgTlBBUEkgcGx1Z2lucyB3aWxsIG5vIGxvbmdlciBiZSBhYmxlIHRvIGxvYWQgdGhvc2UgcGx1Z2lucy4KCiAgICAgICAgICB0aGlzLm5hbWUgPSAndmxjJzsKICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0Tm9kZShpZCk7CiAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsuc2V0UHJvcGVydGllcyh0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMgfHwge30pOwogICAgICAgICAgdGhpcy5vcHRpb25zID0gQWFrLnNldFByb3BlcnRpZXModGhpcy5vcHRpb25zLCBvcHRpb25zIHx8IHt9KTsKCiAgICAgICAgICB0aGlzLnNldHVwID0gc2V0dXA7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzU2V0dXAgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnNyYyA9IHNldHVwLnNvdXJjZTsKICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCA9IHNldHVwLmhlaWdodCB8fCB0aGlzLmF0dHJpYnV0ZXMuaGVpZ2h0OwogICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMud2lkdGggPSBzZXR1cC53aWR0aCB8fCB0aGlzLmF0dHJpYnV0ZXMud2lkdGg7CiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5jb250cm9scyA9IHRydWU7CiAgICAgICAgICAgIGlmIChzZXR1cC5hdXRvcGxheSB8fCB0aGlzLmF1dG9wbGF5KSB7CiAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmF1dG9wbGF5ID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy50eXBlID0gImFwcGxpY2F0aW9uL3gtdmxjLXBsdWdpbiI7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucGx1Z2luc3BhZ2UgPSAiaHR0cDovL3d3dy52aWRlb2xhbi5vcmciOwogICAgICAgICAgdGhpcy5idWlsZGluZygnZW1iZWQnKTsKICAgICAgICB9LAogICAgICAgIGh0bWw1IDogZnVuY3Rpb24gKGlkLCBzZXR1cCwgYXR0cmlidXRlcywgb3B0aW9ucykgeyAKICAgICAgICAgIC8vIFZpZGVvIFRhZyAoaHRtbDUpCiAgICAgICAgICAvLyBiYXNpY3M6IGh0dHBzOi8vaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL3ZpZGVvL2Jhc2ljcy8KICAgICAgICAgIC8vIHRhZzogaHR0cDovL3d3dy53M3NjaG9vbHMuY29tL3RhZ3MvdGFnX3ZpZGVvLmFzcAogICAgICAgICAgLy8gc3VwcG9ydDogbXA0LCB3ZWJtLCBvZ2cKICAgICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvaHRtbDUvdGVzdHMvdmlkZW8uaHRtbAoKICAgICAgICAgIHRoaXMub3B0aW9ucyA9IEFhay5zZXRQcm9wZXJ0aWVzKHRoaXMub3B0aW9ucywgb3B0aW9ucyB8fCB7fSk7CgogICAgICAgICAgdGhpcy5nZXRUYXJnZXROb2RlKGlkKTsKICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3VtZW50czsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IEFhay5zZXRQcm9wZXJ0aWVzKHt9LCBzZXR1cCB8fCB7fSk7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuc3JjID0gc2V0dXAuc291cmNlOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmlkID0gdGhpcy5hdHRyaWJ1dGVzLm5hbWUgPSBBYWsuZ2VuZXJhdGVJRCgpOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLmhlaWdodCA9IHRoaXMuYXR0cmlidXRlcy5oZWlnaHQgfHwgdGhpcy50YXJnZXQubm9kZS5jbGllbnRIZWlnaHQgfHwgIjEwMCUiOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLndpZHRoID0gdGhpcy5hdHRyaWJ1dGVzLndpZHRoIHx8IHRoaXMudGFyZ2V0Lm5vZGUuY2xpZW50V2lkdGggfHwgIjEwMCUiOwogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnR5cGUgPSB0aGlzLmdldE1pbWVUeXBlKHRoaXMuYXR0cmlidXRlcy50eXBlKTsKICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5jb250cm9scyA9ICdjb250cm9scyc7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucHJlbG9hZCA9ICdub25lJzsKICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXMuYXV0b3BsYXkgfHwgdGhpcy5hdXRvcGxheSkgewogICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuYXV0b3BsYXkgPSAnYXV0b3BsYXknOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOyBtYXJnaW46MCBhdXRvOyc7CiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBBYWsudW5zZXRQcm9wZXJ0aWVzKHRoaXMuYXR0cmlidXRlcywgJ3NvdXJjZScpOwoKICAgICAgICAgIHRoaXMuYnVpbGRpbmcoJ3ZpZGVvJyk7CiAgICAgICAgfQogICAgICB9OwogICAgICAKICAgICAgcmV0dXJuIG5ldyBQbGF5ZXIoKTsKICAgIH0sCiAgICBydWxlcyA6IHsKICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgLy8gQW50aS1BZGJsb2NrIEtpbGxlcgogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICBzZXR0aW5ncyA6IHsKICAgICAgICBob3N0IDogWydsb2NhbGhvc3QnLCAncmVlay5naXRodWIuaW8nLCAncmVla3NpdGUuY29tJ10sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgaWYgKC9cL2FudGktYWRibG9jay1raWxsZXIoLXBhZ2VzKT9cLyQvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIHZhciBzZXR0aW5nc0JveCA9IEFhay5nZXRFbGVtZW50KCcjYWFrLXNldHRpbmdzLWJveCcpOwogICAgICAgICAgICB2YXIgc2V0dGluZ3NOb3RpY2UgPSBBYWsuZ2V0RWxlbWVudCgnI2Fhay1zZXR0aW5ncy1ub3RpY2UnKTsKCiAgICAgICAgICAgIGlmICghQWFrLnVzZUdNKSB7CiAgICAgICAgICAgICAgc2V0dGluZ3NOb3RpY2UucXVlcnlTZWxlY3RvcignZGl2JykuaW5uZXJIVE1MID0gJ0luIG5hdGl2ZSBtb2RlLCB5b3UgbXVzdCBlZGl0IHRoZSBvcHRpb25zIG1hbnVhbGx5OiA8YSBocmVmPSInICsgQWFrLm5hdGl2ZVVSTCArICciPlNlZTwvYT4nOwogICAgICAgICAgICB9IGVsc2UgaWYgKHNldHRpbmdzQm94ICYmIHNldHRpbmdzTm90aWNlKSB7CiAgICAgICAgICAgICAgc2V0dGluZ3NOb3RpY2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICBzZXR0aW5nc0JveC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICBBYWsuaW5mbygnR00gc3RvcmFnZTonLCBBYWsuZ2V0VmFsdWUoKSk7CiAgICAgICAgICAgICAgQWFrLmluZm8oJ0dNIG9wdGlvbnM6JywgQWFrLm9wdHMpOwogICAgICAgICAgICAgIEFhay5pbmZvKCdHTSBhcGk6JywgQWFrLnVzZUdNICYmIEFhay5hcGlHTSgpKTsKCiAgICAgICAgICAgICAgLy8gdXNlciBjb25maWcKICAgICAgICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICAgICAgICB0YWcgOiAnZGl2JywKICAgICAgICAgICAgICAgIGh0bWwgOiAnVmVyc2lvbjogJyArIEFhay5nZXRWZXJzaW9uKCkgKyAnIDxicj5BYWtTY3JpcHQ6IHRydWUgPGJyPkFha0xpc3Q6ICcgKyAoIUFhay5nZXRFbGVtZW50KCcjazJVdzdpc0hyTW01SlhQMVZ3ZHhjNTY3WktjMWFaNEknKSkgKyAnIDxicj5Ccm93c2VyOiAnICsgQWFrLmdldEJyb3dzZXIoKSArICcgPGJyPlNjcmlwdE1hbmFnZXI6ICcgKyBBYWsuZ2V0U2NyaXB0TWFuYWdlcigpLAogICAgICAgICAgICAgICAgYXBwZW5kIDogJyNhYWstc2V0dGluZ3MtY29uZmlnJwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAvLyBjcmVhdGUgb3B0aW9ucyAKICAgICAgICAgICAgICBmb3IgKHZhciBvcHROYW1lIGluIEFhay5vcHRpb25zKSB7CiAgICAgICAgICAgICAgICBpZiAoQWFrLm9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0TmFtZSkpIHsKICAgICAgICAgICAgICAgICAgdmFyIG9wdCA9IEFhay5vcHRpb25zW29wdE5hbWVdOwogICAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IEFhay5vcHRzW29wdE5hbWVdID09PSB0cnVlID8gImNoZWNrZWQiIDogJyc7CiAgICAgICAgICAgICAgICAgIEFhay5jcmVhdGVFbGVtZW50KHsKICAgICAgICAgICAgICAgICAgICB0YWcgOiAnZGl2JywKICAgICAgICAgICAgICAgICAgICBodG1sIDogJzxpbnB1dCBpZD0iJyArIG9wdE5hbWUgKyAnIiBjbGFzcz0iY3NzLWNoZWNrYm94IiAnICsgY2hlY2tlZCArICcgdHlwZT0iJyArIG9wdC50eXBlICsgJyIvPjxsYWJlbCBmb3I9IicgKyBvcHROYW1lICsgJyIgdGl0bGU9IicgKyBvcHQuaW5mbyArICciIGNsYXNzPSJjc3MtbGFiZWwiPicgKyBvcHQubGFiZWwgKyAnPC9sYWJlbD4nLAogICAgICAgICAgICAgICAgICAgIGFwcGVuZCA6ICcjYWFrLXNldHRpbmdzLScgKyBvcHQuZ3JvdXAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBzYXZlIG9wdGlvbnMgCiAgICAgICAgICAgICAgQWFrLm9uRXZlbnQoQWFrLmdldEVsZW1lbnQoIiNhYWstc2V0dGluZ3Mtc2F2ZSIpLCAiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY3NzLWNoZWNrYm94Jyk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gZWxlbXNbaV07CiAgICAgICAgICAgICAgICAgIGlmIChlbGVtLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICBBYWsuc2V0VmFsdWUoZWxlbS5pZCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgQWFrLnNldFZhbHVlKGVsZW0uaWQsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KCdTYXZlZCAhJyk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIC8vIENsZWFyIEdNIHN0b3JhZ2UKICAgICAgICAgICAgICBBYWsuYWRkQ29tbWFuZHMoewogICAgICAgICAgICAgICAgY2FwdGlvbiA6ICdDbGVhciBHTSBzdG9yYWdlJywKICAgICAgICAgICAgICAgIGV4ZWN1dGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIEFhay5kZWxldGVWYWx1ZSgpOwogICAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoJ0NsZWFyZWQgIScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICB1c2Vyc2NyaXB0c19kb21haW5zIDogeyAvLyBSZWRpcmVjdCB0byBHaXRodWIKICAgICAgICBob3N0IDogWyd1c2Vyc2NyaXB0cy5vcmcnLCAndXNlcnNjcmlwdHMub3JnOjgwODAnLCAndXNlcnNjcmlwdHMtbWlycm9yLm9yZyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoLzE1NTg0MCQvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIEFhay5nbyhBYWsuaG9tZVVSTCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBvcGVudXNlcmpzX29yZyA6IHsKICAgICAgICBob3N0IDogWydvcGVudXNlcmpzLm9yZyddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gQWFrLmdldEVsZW1lbnQoJ2FbaHJlZiQ9Ii9pc3N1ZXMiXScpOwogICAgICAgICAgaWYgKC9BbnRpLUFkYmxvY2tfS2lsbGVyX1JlZWsvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpICYmIGVsZW1lbnQpIHsKICAgICAgICAgICAgQWFrLmNvbmZpcm1SZXBvcnQoZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBncmVhc3lmb3JrX29yZyA6IHsKICAgICAgICBob3N0IDogWydncmVhc3lmb3JrLm9yZyddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gQWFrLmdldEVsZW1lbnQoJ2FbaHJlZiQ9Ii9mZWVkYmFjayJdJyk7CiAgICAgICAgICBpZiAoLy1hbnRpLWFkYmxvY2sta2lsbGVyLXJlZWsvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpICYmIGVsZW1lbnQpIHsKICAgICAgICAgICAgQWFrLmNvbmZpcm1SZXBvcnQoZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBtb25rZXlndXRzX2NvbSA6IHsKICAgICAgICBob3N0IDogWydtb25rZXlndXRzLmNvbSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gQWFrLmdldEVsZW1lbnQoJ2FbaHJlZio9ImNvZGUucGhwP25hdj1mb3J1bSJdJyk7CiAgICAgICAgICBpZiAoL21vbmtleWd1dHMuY29tXC9jb2RlLnBocFw/aWQ9MzUxLy50ZXN0KGxvY2F0aW9uLmhyZWYpICYmIGVsZW1lbnQpIHsKICAgICAgICAgICAgQWFrLmNvbmZpcm1SZXBvcnQoZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAvLyBTcGVjaWZpYwogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICBibG9nc3BvdCA6IHsKICAgICAgICAvLyBObyBDb3VudHJ5IFJlZGlyZWN0IChOQ1IpCiAgICAgICAgLy8gUHJldmVudCBCbG9nZ2VyIGZyb20gUmVkaXJlY3RpbmcgdG8gQ291bnRyeS1TcGVjaWZpYyBEb21haW5zCiAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20vN3JtMzRqbwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2ZyL2ZvcnVtL2Rpc2N1c3Npb24vNTk1MwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy80OTAKICAgICAgICAvLyB0ZXN0OiBodHRwOi8vdGlueXVybC5jb20vbm9tY3hrYwogICAgICAgIGhvc3QgOiBbJy5ibG9nc3BvdC4nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKEFhay5pc1RvcGZyYW1lKSB7IC8vIGZpeCByZWRpcmV0aW9uIGxvb3AKICAgICAgICAgICAgdmFyIGJsb2cgPSBsb2NhdGlvbi5ob3N0LnJlcGxhY2UoJ3d3dy4nLCAnJykuc3BsaXQoIi4iKTsKICAgICAgICAgICAgaWYgKGJsb2dbYmxvZy5sZW5ndGggLSAxXSAhPSAiY29tIikgewogICAgICAgICAgICAgIHZhciBwYXRoID0gbG9jYXRpb24uaHJlZi5zcGxpdCgiLyIpLnNsaWNlKDMpLmpvaW4oJy8nKTsKICAgICAgICAgICAgICBBYWsuZ28oImh0dHA6Ly8iICsgYmxvZ1swXSArICIuYmxvZ3Nwb3QuY29tL25jci8iICsgcGF0aCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJsb2dzcG90X2tub3dsZXQzMzg5IDogewogICAgICAgIC8vIG5vdGU6IGFsc28gYWRkZWQgYWJwIHJ1bGUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODMKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vQTNtQ1hRNWkKICAgICAgICBob3N0IDogWydrbm93bGV0MzM4OS5ibG9nc3BvdC4nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldExvY2FsKCdub2FkJywgZmFsc2UpOwogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjZ0FkcyB7IGhlaWdodDogMTdweDsgfSAjZ0FkMiB7IGhlaWdodDogMTdweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdXB0b2JveF91cHRvc3RyZWFtIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zNTEKICAgICAgICBob3N0IDogWyd1cHRvYm94LmNvbScsICd1cHRvc3RyZWFtLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBPbGQgc29sdXRpb24gW2RlcHJlY2F0ZWRdCiAgICAgICAgICB2YXIgaWQgPSBsb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvWzAtOWEtel17MTJ9Lyk7CiAgICAgICAgICBpZiAoaWQgIT09IG51bGwpIHsKICAgICAgICAgICAgQWFrLmFkZFN0eWxlKCIjIiArIGlkWzBdICsgIiB7IGhlaWdodDogMTJweDsgfSIpOwogICAgICAgICAgfQogICAgICAgICAgLy8gTmV3IDEyLjA1LjIwMTQKICAgICAgICAgIC8vICsgYWJwIHJ1bGUgKGFsdGVybmF0aXZlIHNvbHV0aW9uKQogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWRibG9ja3RyYXAgeyBoZWlnaHQ6IDEycHg7IH0iKTsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHJlbW92ZSBhZHMKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcqW3NyY149Imh0dHA6Ly9hZHMudXB0b2JveC5jb20vIl0sKltocmVmXj0iaHR0cDovL2Fkcy51cHRvYm94LmNvbS8iXScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYW5pc3Vic2lhX2NvbSA6IHsKICAgICAgICBob3N0IDogWydhbmlzdWJzaWEuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vICsgYWJwIHJ1bGUgI0AjLmFkc2FudGlsb2sKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFkc2FudGlsb2sgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmpBbnRpQmxvY2sgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5DZWtCbG9rID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBmcmVlZ2FtZXNlcnZlcmhvc3RfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTEyCiAgICAgICAgaG9zdCA6IFsnZnJlZWdhbWVzZXJ2ZXJob3N0LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNmYWIxMyB7IGhlaWdodDogMTFweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZWxhaG1hZF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsnZWxhaG1hZC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWRibG9jayB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBtcnR6Y21wM19uZXQgOiB7CiAgICAgICAgaG9zdCA6IFsnbXJ0emNtcDMubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLnJ0bV9hZCB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBoZWlnaHRfbXlUZXN0QWQgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyNDEKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTgzCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI5MQogICAgICAgIGhvc3QgOiBbJ2JrbmltZS5jb20nLCAnZ280dXAuY29tJywgJ2RlYnJpZG8uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLm15VGVzdEFkIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlYnJpZGZhc3RfbmV0d29yayA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi9mb3J1bS9kaXNjdXNzaW9uLzk0MDYKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi9mb3J1bS9kaXNjdXNzaW9uLzcwMTMKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTI3MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy83NjkKICAgICAgICBob3N0IDogWydkZWJyaWRmYXN0LmNvbScsICdnZXRkZWJyaWQuY29tJywgJ2RlYnJpZC51cycsICdsZWVjaGVyLnVzJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLm15VGVzdEFkLCAubXkyNEFkLCAubmFiaWwgeyBoZWlnaHQ6IDFweDsgfSIpOwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpbXBsZUFkJykuaW5uZXJIVE1MID0gJzxwIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij5kZWJyaWRmYXN0LmNvbTwvcD4nOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmdfZ2xlZGFpX3R2IDogewogICAgICAgIGhvc3QgOiBbJ2JnLWdsZWRhaS50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5teUFkIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRoZXBjc3B5X2NvbSA6IHsgLy8gaHR0cDovL3RoZXBjc3B5LmNvbS9yZWFkL2hvd190b19ibG9ja19hZGJsb2NrLwogICAgICAgIGhvc3QgOiBbJ3RoZXBjc3B5LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5teVRlc3RBZCB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5ibG9ja2VkIHsgZGlzcGxheTogbm9uZTsgfSIpOwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJy5ibG9ja2VkJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICB2Z19lMjRfbm8gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI5MgogICAgICAgIGhvc3QgOiBbJ3ZnLm5vJywgJ2UyNC5ubyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBBZGQgdGhpcyBydWxlLCBiZWNhdXNlIEVhc3lMaXN0IGFsbG93IGFsbCBoaWRkZW4gZWxlbWVudHMuCiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5hZCB7IGRpc3BsYXk6IG5vbmU7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGF1dG9tb2JpbGVfc3BvcnRpdmVfY29tIDogewogICAgICAgIGhvc3QgOiBbJ2F1dG9tb2JpbGUtc3BvcnRpdmUuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLm15VGVzdEFkIHsgaGVpZ2h0OiA1MXB4OyBkaXNwbGF5OiBub25lOyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBzbnN3X3VzIDogewogICAgICAgIGhvc3QgOiBbJ3Nuc3cudXMnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWRfMSB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICB1cmxjaGVja2VyX25ldCA6IHsKICAgICAgICBob3N0IDogWyd1cmxjaGVja2VyLm5ldCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNhZGNoZWNrZXIgeyBoZWlnaHQ6IDIwcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNraXBsaW1pdGVfdHYgOiB7CiAgICAgICAgaG9zdCA6IFsnc2tpcGxpbWl0ZS50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoImRpdi5hZGR0aGlzX25hdGl2ZV90b29sYm94ICsgZGl2W2lkXSB7IGhlaWdodDogMTJweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmlsZWNvcmVfY29fbnogOiB7CiAgICAgICAgaG9zdCA6IFsnZmlsZWNvcmUuY28ubnonXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIuYWRzZW5zZSB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICB0aG9tYXNfbl9ydXRoX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTExMQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9mdTd2a1VBMQogICAgICAgIGhvc3QgOiBbJ3Rob21hcy1uLXJ1dGguY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLkdvb2dsZSB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbnRlcmZhbnNfb3JnIDogewogICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly93d3cuaW50ZXJmYW5zLm9yZy9mb3J1bS8KICAgICAgICBob3N0IDogWydpbnRlcmZhbnMub3JnJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFkX2dsb2JhbF9oZWFkZXIgeyBoZWlnaHQ6IDFweDsgZGlzcGxheTogbm9uZTsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWF4ZGVicmlkZXVyX2NvbSA6IHsKICAgICAgICBob3N0IDogWydtYXhkZWJyaWRldXIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmNsZWFyICsgZGl2W2lkXSB7IGhlaWdodDogMTJweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdG9wem9uZV9pdCA6IHsKICAgICAgICBob3N0IDogWyd0b3B6b25lLmx0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmZvcnVtQWQgeyBoZWlnaHQ6IDFweDsgZGlzcGxheTogbm9uZTsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmFuYTEwX2NvX2lsIDogewogICAgICAgIGhvc3QgOiBbJy5uYW5hMTAuJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2FkdmVydC10cmFja2VyIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBsZWpfdHYgOiB7CiAgICAgICAgaG9zdCA6IFsncGxlai50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5hZHZlcnRfYm94IHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1hbmdhbWludF9jb20gOiB7CiAgICAgICAgLy8gbm90ZTogYWRkZWQgcnVsZSB0byBhbGxvdyAiLmFkNzI4IgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2lkL2ZvcnVtL2Rpc2N1c3Npb24vODUyNAogICAgICAgIGhvc3QgOiBbJ21hbmdhbWludC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIuYWQ3MjggeyBoZWlnaHQ6IDMxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlYnJpZGV1cnN0cmVhbV9mciA6IHsKICAgICAgICBob3N0IDogWydkZWJyaWRldXJzdHJlYW0uZnInXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjY29udGVudCBkaXZbaWRdW2FsaWduPWNlbnRlcl0geyBoZWlnaHQ6IDEycHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByZWVtbGlua3NfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3ByZWVtbGlua3MuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2RpdmFkcyB7IGhlaWdodDogMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBoZW50YWlfdG8gOiB7CiAgICAgICAgaG9zdCA6IFsnaGVudGFpLnRvJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2hlbnRhaXRvMTIzIHsgaGVpZ2h0OiAxMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBwcm90b3R1cmtfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3Byb3RvdHVyay5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjcmVrbGFtIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG11ZmFfZGUgOiB7CiAgICAgICAgaG9zdCA6IFsnbXVmYS5kZSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNsZWFkZXJib2FyZCB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNsYXJnZS1yZWN0YW5nbGUgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWQtaGVhZGVyLTQ2OHg2MCB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICB3YXRjaGFyYWJfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3dhdGNoYXJhYi5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gKyBhZHAgcnVsZSB3YXRjaGFyYWIuY29tI0AjI2FkYmxvY2sKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2FkYmxvY2sgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZnJlZWRvbWlwX2NvbSA6IHsKICAgICAgICBob3N0IDogWydmcmVlZG9tLWlwLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5wdWJfdmVydGljYWwgaW5zLCAucHViX3ZlcnRpY2FsIGRpdiB7IGhlaWdodDogMTFweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgd2FrYW5pbV90diA6IHsKICAgICAgICBob3N0IDogWyd3YWthbmltLnR2J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2RldGVjdG9yIHsgZGlzcGxheTogbm9uZTsgfSIpOwogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjbm9wdWIgeyBkaXNwbGF5OiBibG9jazsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2ltcGx5X2RlYnJpZF9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzMzMgogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9iN01BWVhzNAogICAgICAgIGhvc3QgOiBbJ3NpbXBseS1kZWJyaWQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZHNieWdvb2dsZSA9IHt9OwogICAgICAgICAgQWFrLnV3LmFkc2J5Z29vZ2xlLmxvYWRlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBtYW5nYTlfY29tIDogewogICAgICAgIGhvc3QgOiBbJ21hbmdhOS5jb20nLCAnbWFuZ2FiZWUuY28nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIuYWRibG9jayB7IGhlaWdodDogMzFweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25lbWFuZ2EyX2NvbSA6IHsKICAgICAgICBob3N0IDogWydvbmVtYW5nYTIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFmc19hZHMgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWFuZ2FiaXJkX2NvbSA6IHsKICAgICAgICBob3N0IDogWydtYW5nYWJpcmQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFmc19hZHMgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAga29kaWxpdmVfZXUgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE1MjgKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vWnh2WEtxdGMKICAgICAgICBob3N0IDogWydrb2RpbGl2ZS5ldSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5BZCB7IGhlaWdodDogNXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBiYWNraW5fbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWJhY2tpbi5uZXQKICAgICAgICBob3N0IDogWydiYWNraW4ubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2RpdmFkIHsgaGVpZ2h0OiAzMXB4OyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBtb2JpbGVfdHJhY2tlcl9mcmVlX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTA4MgogICAgICAgIGhvc3QgOiBbJ21vYmlsZS10cmFja2VyLWZyZWUuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI215QWRzIHsgaGVpZ2h0OiAxcHg7IH0iKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdvcmt1cGxvYWRfY29tIDogewogICAgICAgIC8vIG5vdGU6IG9iZnVzY2F0ZWQKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTMzNAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjkwCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL0NQemQyU3d4CiAgICAgICAgaG9zdCA6IFsnd29ya3VwbG9hZC5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLmFkQmxvY2ssIC5hZHNieWdvb2dsZSwgI3NhZCB7IGhlaWdodDogMTFweDsgfSIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdG9kYXlfaW4gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9aW50b2RheS5pbgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWJ1c2luZXNzdG9kYXkuaW4KICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vZ3o1MzlHN20KICAgICAgICBob3N0IDogWyJpbnRvZGF5LmluIiwgImJ1c2luZXNzdG9kYXkuaW4iXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24oKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoJyNhZGJvY2tlcl9hbHQgeyBkaXNwbGF5OiBub25lOyB9Jyk7CiAgICAgICAgICBBYWsudXcub3BlblBvcHVwID0gZnVuY3Rpb24oKXt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgamNfbXBfY29tIDogewogICAgICAgIC8vIGJ5OiBHaXdheXVtZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTk3CiAgICAgICAgaG9zdCA6IFsiamMtbXAuY29tIl0sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCcuYWRzZW5zZSB7d2lkdGg6IDFweDsgaGVpZ2h0OiAxcHg7IHZpc2liaWxpdHk6IGhpZGRlbjsgZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTt9Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtYXJpYWdlX2ZyYW5jb19tYXJvY2Fpbl9uZXQgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bWFyaWFnZS1mcmFuY28tbWFyb2NhaW4ubmV0CiAgICAgICAgaG9zdCA6IFsibWFyaWFnZS1mcmFuY28tbWFyb2NhaW4ubmV0Il0sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCcjbXlfYWRfZGl2IHtoZWlnaHQ6IDFweDt9Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBoYXBweV9oYWNrX3J1IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWhhcHB5LWhhY2sucnUKICAgICAgICBob3N0IDogWydoYXBweS1oYWNrLnJ1J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2Jsb2NrYmxvY2tGNCB7dmlzaWJpbGl0eTppbnZpc2libGU7ZGlzcGxheTpub25lO30gI2Jsb2NrYmxvY2tGNCB0ZCB7dmlzaWJpbGl0eTppbnZpc2libGU7ZGlzcGxheTpub25lO30gI2Jsb2NrYmxvY2tGNCB0ZCBwIHt2aXNpYmlsaXR5OmludmlzaWJsZTtkaXNwbGF5Om5vbmU7fSAjYmxvY2tibG9ja0QzIHt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTpibG9jazt9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBmb3JiZXNfY29tIDogewogICAgICAgIC8vIGJ5OiBHaXdheXVtZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84NjUKICAgICAgICBob3N0IDogWydmb3JiZXMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3dlbGNvbWUnKSA+IC0xKSB7CiAgICAgICAgICAgIEFhay5zZXRDb29raWUoJ3dlbGNvbWVBZCcsICd0cnVlJywgODY0MDAwMDAsICcvJyk7CiAgICAgICAgICAgIEFhay5zZXRDb29raWUoJ2RhaWx5V2VsY29tZUNvb2tpZScsICd0cnVlJywgODY0MDAwMDAsICcvJyk7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IEFhay5nZXRDb29raWUoJ3RvVXJsJykgfHwgJ2h0dHA6Ly93d3cuZm9yYmVzLmNvbS8nOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgYmFpdF9hZHNieWdvb2dsZSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTQ3CiAgICAgICAgaG9zdCA6IFsnYml0Y29pbmFsaWVucy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdpbnMuYWRzYnlnb29nbGUnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJhaXRfdGVzdGVyIDogewogICAgICAgIGhvc3QgOiBbJ29zb2FyY2FkZS5jb20nLCAnZDNicmlkNHkwdS5pbmZvJywgJ2ZpbGVpY2UubmV0JywgJ25vc3RlYW0ucm8nLCAnb3BlbnJ1bm5lci5jb20nLCAnZWFzeWJpbGxldHMuY29tJywgJ3Nwb3guZnInLCAneW92b3lhZ2VzLmNvbScsICd0djMuY28ubnonLCAnZnJlZWFsbG11c2ljLmluZm8nLCAncHV0bG9ja2VyLmNvbScsICdzb2Nrc2hhcmUuY29tJywgJ2RyYW1hcGFzc2lvbi5jb20nLCAneW9vY2xpY2suY29tJywgJ29ubGluZS51YSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiN0ZXN0ZXInKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJhaXRfYWRkIDogewogICAgICAgIGhvc3QgOiBbJ2ZpbGVjb20ubmV0JywgJ3Vwc2hhcmUub3JnJywgJ3NraXBweWZpbGUuY29tJywgJ213ZmlsZXMubmV0JywgJ3VwLWZsb3cub3JnJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkZCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmFpdF9hZHBidGVzdCA6IHsKICAgICAgICBob3N0IDogWydsZWFndWVzZWNyZXRhcnkuY29tJywgJ3Rla25vZ29kcy5jb20nLCAnaGVsbHNtZWRpYS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjYWRwYnRlc3QnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJhaXRfYWR0ZXN0ZXIgOiB7CiAgICAgICAgaG9zdCA6IFsnZnJlZXNwb3J0c2JldC5jb20nLCAnc3BvcnRzcGxheXMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkLXRlc3RlcicpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdGdvX3R2X2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMzAzCiAgICAgICAgaG9zdCA6IFsndGdvLXR2LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNhZGIsICNiYW5uZXJhZDEsIC5sb2FkX3N0cmVhbSB7IGRpc3BsYXk6IG5vbmU7IH0iKTsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I3Rlc3RlcicpOwogICAgICAgIH0sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcudGhyZXNob2xkID0gMTAwMDsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcuY2hhdF9mcmFtZScpOyAvLyBidWcgcmVsb2FkIGlmcmFtZQogICAgICAgIH0KICAgICAgfSwKICAgICAgZnJlZWdhbWVob3N0aW5nX25sIDogewogICAgICAgIGhvc3QgOiBbJ2ZyZWVnYW1laG9zdGluZy5ubCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZHRlc3QnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRoZXdlYXRoZXJzcGFjZV9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsndGhld2VhdGhlcnNwYWNlLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhYi1ibC1hZHZlcnRpc2VtZW50Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjbGVvZGVza3RvcF9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzcxMQogICAgICAgIGhvc3QgOiBbJ2NsZW9kZXNrdG9wLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNteVRlc3RBZCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1hZ2VyYWlkZXJfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84MjYKICAgICAgICBob3N0IDogWydpbWFnZXJhaWRlci5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjbXlHQ29udGFpbmVyJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICB2b2ljaV9mciA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9mci9mb3J1bS9kaXNjdXNzaW9uLzEwMDkzCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzgyNgogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS96RVZRSFRpRAogICAgICAgIGhvc3QgOiBbJ3ZvaWNpLmZyJywgJ3Byb2dyYW1tZS10di5uZXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjc2FzX3NjcmlwdDInKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1pbF9pbmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE2NTIKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vNDc0Tlp6UEoKICAgICAgICBob3N0IDogWydtaWwuaW5rJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2Fkc19kaXYnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGN1YmV1cGxvYWRfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL2ZvcnVtL2Rpc2N1c3Npb24vNTkxOQogICAgICAgIGhvc3QgOiBbJ2N1YmV1cGxvYWQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5jcmVhdGVFbGVtZW50KHsKICAgICAgICAgICAgdGFnIDogJ2lmcmFtZScsCiAgICAgICAgICAgIG5hbWUgOiAnaWZyYW1lJywKICAgICAgICAgICAgc3JjIDogJ2Fib3V0OmJsYW5rJywKICAgICAgICAgICAgc3R5bGUgOiAnZGlzcGxheTpub25lOycsCiAgICAgICAgICAgIGFwcGVuZCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzdHJlYW00ZnJlZV9ldSA6IHsKICAgICAgICBob3N0IDogWydzdHJlYW00ZnJlZS5ldSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyArYWJwIGFsdCBzb2x1dGlvbgogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjanBheWRheScpOwogICAgICAgICAgQWFrLnV3LmpwYXlkYXlfYWxlcnQgPSAxOwogICAgICAgIH0KICAgICAgfSwKICAgICAgXzNkbmV3c19ydSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9ydS9mb3J1bS9kaXNjdXNzaW9uLzU3NTAKICAgICAgICBob3N0IDogWyczZG5ld3MucnUnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnYWRibG9ja3dhcm4nLCAxKTsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI2VhckFkcyB7IHdpZHRoOiA0MDFweDsgfSIpOwogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjZWFyQWRzJyk7CiAgICAgICAgICBBYWsudXcuX19BVF9kZXRlY3RlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBfM2RzdGhlbV9lcyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT0zZHN0aGVtCiAgICAgICAgaG9zdCA6IFsnM2RzdGhlbS5lcyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvL0Fhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkge30pOwogICAgICAgIH0sCiAgICAgICAgb25CZWZvcmVTY3JpcHQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgLyoKICAgICAgICAgIHJldHVybiBbewogICAgICAgICAgICAgIGNvbnRhaW5zIDogJ21haW4uanMnLAogICAgICAgICAgICAgIGV4dGVybmFsIDogdHJ1ZSwKICAgICAgICAgICAgICBvdmVycmlkZSA6ICcvL3Bhc3RlYmluLmNvbS9yYXcvMnlHUlBoUlonCiAgICAgICAgICAgIH0KICAgICAgICAgIF07CiAgICAgICAgKi8KICAgICAgICB9CiAgICAgIH0sCiAgICAgIF84bXVzZXNfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPThtdXNlcwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2ZvcnVtL2Rpc2N1c3Npb24vODUxNQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL2ZvcnVtL2Rpc2N1c3Npb24vNjQwNwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9iTU5EeGVjcwogICAgICAgIGhvc3QgOiBbJzhtdXNlcy5jb20nXSwKICAgICAgICBvbkJlZm9yZVNjcmlwdCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbewogICAgICAgICAgICAgIGNvbnRhaW5zIDogInR5cGVvZiBleG8iLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaGFwcHl0cmlwc19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9aGFwcHl0cmlwcwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9FV1NFYm52dgogICAgICAgIGhvc3QgOiBbJ2hhcHB5dHJpcHMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnY2FuUnVuJywgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBsZ19maXJtd2FyZV9yb21fY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWxnLWZpcm13YXJlLXJvbS5jb20KICAgICAgICBob3N0IDogWydsZy1maXJtd2FyZS1yb20uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgna2lsbGFkcycsIHRydWUpOwogICAgICAgIH0KICAgICAgfSwgICAgICAKICAgICAgbWlkX2RheV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bWlkLWRheS5jb20KICAgICAgICBob3N0IDogWydtaWQtZGF5LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ2NhblJ1bicsIHRydWUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmFkdHZfbmV0d29yayA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1iYWR0di5pdAogICAgICAgIGhvc3QgOiBbJ2JhZHR2Lml0JywgJ2JhZHRhc3RlLml0JywgJ2JhZGdhbWVzLml0JywgJ2JhZGNvbWljcy5pdCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdhZEJsb2NrQ2hlY2tlZCcsICdkaXNhdHRpdm8nKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGluZGVwZW5kZW50X2NvX3VrIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWluZGVwZW5kZW50LmNvLnVrCiAgICAgICAgaG9zdCA6IFsnaW5kZXBlbmRlbnQuY28udWsnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnYWRibG9ja19kZXRlY3RlZCcsICdpZ25vcmVkJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBlc21hc19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZXNtYXMuY29tCiAgICAgICAgaG9zdCA6IFsnZXNtYXMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnb3BlbmVkX2FkYmJsb2NrJywgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGlub3kxdHZfbmV0d29yayA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1waW5veTF0dgogICAgICAgIGhvc3QgOiBbJ3Bpbm95MXR2LiddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ2FsbG93YWRzJywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBld2FsbHN0cmVldGVyX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1ld2FsbHN0cmVldGVyLmNvbQogICAgICAgIGhvc3QgOiBbJ2V3YWxsc3RyZWV0ZXIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnT0FTX3JkbCcsIDEpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYnVzaW5lc3Nfc3RhbmRhcmRfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWJ1c2luZXNzLXN0YW5kYXJkLmNvbQogICAgICAgIGhvc3QgOiBbJ2J1c2luZXNzLXN0YW5kYXJkLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ2Fkc0xvYWRlZCcsIDEpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgnX3B3JywgJ3QnKTsgICAgICAgICAgCiAgICAgICAgfQogICAgICB9LAogICAgICBleHByZXNzX25ldHdvcmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZmluYW5jaWFsZXhwcmVzcy5jb20KICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1pbmRpYW5leHByZXNzLmNvbQogICAgICAgIGhvc3QgOiBbJ2ZpbmFuY2lhbGV4cHJlc3MuY29tJywgJ2luZGlhbmV4cHJlc3MuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnUnVuQWRzJywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbmRpYXRpbWVzX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1pbmRpYXRpbWVzCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bWFsYXlhbGFtLnNhbWF5YW0uY29tCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL3p4dXN2eWYsIAogICAgICAgIGhvc3QgOiBbJ2luZGlhdGltZXMuY29tJywgJ3NhbWF5YW0uY29tJywgJ2JhbmdhbG9yZW1pcnJvci5jb20nXSwKICAgICAgICBvbkJlZm9yZVNjcmlwdCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbewogICAgICAgICAgICAgIGNvbnRhaW5zIDogJ1xcXFx4NjFcXFxceDY0XFxcXHg2MicsCiAgICAgICAgICAgICAgZXh0ZXJuYWwgOiBmYWxzZSwKICAgICAgICAgICAgICByZW1vdmUgOiB0cnVlCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBjb250YWlucyA6ICdmdW5jdGlvbiBpbml0QmxvY2snLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdGhlY2hpdmVfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNDUzCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1RkcFB5cmJiCiAgICAgICAgaG9zdCA6IFsndGhlY2hpdmUuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3aW5kb3csIHsKICAgICAgICAgICAgICBzdGVwaGFuZURldGVjdG9yIDogewogICAgICAgICAgICAgICAgdmFsdWUgOiB7CiAgICAgICAgICAgICAgICAgIGhvb2sgOiBmdW5jdGlvbiAoY2IpIHsKICAgICAgICAgICAgICAgICAgICBjYihmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGluaXQgOiBmdW5jdGlvbiAoKSB7fSwKICAgICAgICAgICAgICAgICAgYnJvYWRjYXN0UmVzdWx0IDogZnVuY3Rpb24gKCkge30KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB3cml0YWJsZSA6IGZhbHNlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmljaG9ucmFpbHNfY29tIDogewogICAgICAgIC8vIGJ5OiBHaXdheXVtZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNDQ3CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL0V3ZndnOEJHCiAgICAgICAgaG9zdCA6IFsncmljaG9ucmFpbHMuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBhZHNCeUdvb2dsZUh0bWwgPSAnIjxpbnMraWQ9ImFzd2lmdF8wX2V4cGFuZCIrc3R5bGU9ImRpc3BsYXk6aW5saW5lLXRhYmxlO2JvcmRlcjpub25lO2hlaWdodDo5MHB4O21hcmdpbjowO3BhZGRpbmc6MDtwb3NpdGlvbjpyZWxhdGl2ZTt2aXNpYmlsaXR5OnZpc2libGU7d2lkdGg6NzUwcHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudCI+PGlucytpZD0iYXN3aWZ0XzBfYW5jaG9yIitzdHlsZT0iZGlzcGxheTpibG9jaztib3JkZXI6bm9uZTtoZWlnaHQ6OTBweDttYXJnaW46MDtwYWRkaW5nOjA7cG9zaXRpb246cmVsYXRpdmU7dmlzaWJpbGl0eTp2aXNpYmxlO3dpZHRoOjc1MHB4O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQiPjxpZnJhbWUrbWFyZ2lud2lkdGg9IjAiK21hcmdpbmhlaWdodD0iMCIrdnNwYWNlPSIwIitoc3BhY2U9IjAiK2FsbG93dHJhbnNwYXJlbmN5PSJ0cnVlIitzY3JvbGxpbmc9Im5vIithbGxvd2Z1bGxzY3JlZW49InRydWUiK29ubG9hZD0idmFyK2k9dGhpcy5pZCxzPXdpbmRvdy5nb29nbGVfaWZyYW1lX29uY29weSxIPXMmYW1wOyZhbXA7cy5oYW5kbGVycyxoPUgmYW1wOyZhbXA7SFtpXSx3PXRoaXMuY29udGVudFdpbmRvdyxkO3RyeXtkPXcuZG9jdW1lbnR9Y2F0Y2goZSl7fWlmKGgmYW1wOyZhbXA7ZCZhbXA7JmFtcDsoIWQuYm9keXx8IWQuYm9keS5maXJzdENoaWxkKSl7aWYoaC5jYWxsKXtzZXRUaW1lb3V0KGgsMCl9ZWxzZStpZihoLm1hdGNoKXt0cnl7aD1zLnVwZChoLGkpfWNhdGNoKGUpe313LmxvY2F0aW9uLnJlcGxhY2UoaCl9fSIraWQ9ImFzd2lmdF8wIituYW1lPSJhc3dpZnRfMCIrc3R5bGU9ImxlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDsiK3dpZHRoPSI3NTAiK2ZyYW1lYm9yZGVyPSIwIitoZWlnaHQ9IjkwIj48L2lmcmFtZT48L2lucz48L2lucz4iJzsKICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICB1cmwgOiAkKCIuYXJ0aWNsZS1jb250ZW50IikuZGF0YSgidXJsIiksCiAgICAgICAgICAgICAgZGF0YVR5cGUgOiAic2NyaXB0IiwKICAgICAgICAgICAgICBtZXRob2QgOiAicG9zdCIsCiAgICAgICAgICAgICAgZGF0YSA6IHsKICAgICAgICAgICAgICAgIGh0bWwgOiBhZHNCeUdvb2dsZUh0bWwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICB2YXIgZXhlYyA9IHJlc3VsdC5yZXBsYWNlKCIkKCcuYXJ0aWNsZS1jb250ZW50JykiLCAiJCgnLmFydGljbGUtY29udGVudC0yJykiKTsKICAgICAgICAgICAgICAgIG5ldyBGdW5jdGlvbihleGVjKSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIi5hcnRpY2xlLWNvbnRlbnQiKS5hZnRlcignPGRpdiBjbGFzcz0iYXJ0aWNsZS1jb250ZW50LTIiPjwvZGl2PicpLnJlbW92ZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBybXByZXB1c2JfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3JtcHJlcHVzYi5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnam90X3ZpZXdlcicsIDMpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmVvZHJpdmVfY28gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwMDEKICAgICAgICBob3N0IDogWyduZW9kcml2ZS5jbyddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gUHJldmVudCBwb3B1bmRlcgogICAgICAgICAgQWFrLnNldENvb2tpZSgnS2lmUG9wQ250JywgMSwgbnVsbCwgJy9lbWJlZC8nKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGhlbnRhaWhhdmVuX29yZyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL2dvcmhpbGwvdUJsb2NrL2lzc3Vlcy8xMzQwCiAgICAgICAgaG9zdCA6IFsnaGVudGFpaGF2ZW4ub3JnJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBQcmV2ZW50IHBvcHVuZGVyCiAgICAgICAgICBBYWsuc2V0Q29va2llKCdoaF9wcG5kcjEnLCAxKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2hoX3BwbmRyMicsIDEpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJpbWVzaGFyZV90diA6IHsKICAgICAgICBob3N0IDogWydwcmltZXNoYXJlLnR2J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkYmxvY2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlYnJpZG5ldF9hbmRfbGl2ZWRlYnJpZCA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1kZWJyaWRuZXQKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1saXZlZGVicmlkCiAgICAgICAgaG9zdCA6IFsnZGVicmlkbmV0LmNvbScsICdsaXZlZGVicmlkLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi5teVRlc3RBZDIgeyBoZWlnaHQ6IDVweDsgfSIpOwogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYubXlUZXN0QWQyJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBibHVlc2F0b3NoaV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzg3MwogICAgICAgIGhvc3QgOiBbJ2JsdWVzYXRvc2hpLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiN0ZXN0IHsgaGVpZ2h0OiAyODBweDsgfSIpOwogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjdGVzdCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmF6ZXJjcnlwdF9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzg3MAogICAgICAgIGhvc3QgOiBbJ3JhemVyY3J5cHQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI3Rlc3QgeyBoZWlnaHQ6IDI1MHB4OyB9Iik7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiN0ZXN0Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzYXRvc2hpZW1waXJlX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODcyCiAgICAgICAgaG9zdCA6IFsnc2F0b3NoaWVtcGlyZS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjdGVzdCB7IGhlaWdodDogMjUwcHg7IH0iKTsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I3Rlc3QnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uZWFkZmF1Y2V0X2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODcxCiAgICAgICAgaG9zdCA6IFsnb25lYWRmYXVjZXQuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI3Rlc3QgeyBoZWlnaHQ6IDI1MHB4OyB9Iik7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiN0ZXN0Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBqa2FuaW1lX25ldCA6IHsKICAgICAgICBob3N0IDogWydqa2FuaW1lLm5ldCddLAogICAgICAgIC8vIEBAfHxqa2FuaW1lLm5ldC9hc3NldHMvanMvYWR2ZXJ0aXNlbWVudDIuanMKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjcmVjbycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgXzcyMHBta3ZfY29tIDogewogICAgICAgIGhvc3QgOiBbJzcyMHBta3YuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkdmVydCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGFpZHZlcnRzX2NvbSA6IHsKICAgICAgICBob3N0IDogWydwYWlkdmVydHMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2LmFmc19hZHMnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGl0YWxpYXR2X29yZyA6IHsKICAgICAgICBob3N0IDogWydpdGFsaWF0di5vcmcnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjZmFiMTMnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNocmlzc21vb3ZlX2NvbSA6IHsKICAgICAgICBob3N0IDogWydjaHJpc3Ntb292ZS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy9BYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZHNlcnZlcicpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXZlbnRodWJzX2NvbSA6IHsKICAgICAgICBob3N0IDogWydldmVudGh1YnMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2JsYWh5YmxhY2kxJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzdXBlcmFuaW1lc19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyOTUKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vRkRQQUtqVFEKICAgICAgICBob3N0IDogWydzdXBlcmFuaW1lcy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjYmFubmVyTG9qYScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZm9ydW1fcGFjX3JvbV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI0MwogICAgICAgIGhvc3QgOiBbJ2ZvcnVtLnBhYy1yb20uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2LmJhbm5lcl9hZHMnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpdHZfdHYgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyOTkKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vemNkZHZUdUMKICAgICAgICBob3N0IDogWydsaXR2LnR2J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2LnBsYXllcl9tYXNrJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBsZXZlbGRvd25fZnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU5NQogICAgICAgIGhvc3QgOiBbJ2xldmVsZG93bi5mciddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZGJsb2NrJyk7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZGJsb2NrdGVzdCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2xvYmVzbG90X2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTI0CiAgICAgICAgaG9zdCA6IFsnZ2xvYmVzbG90LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNhZGQnKTsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkZDEnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFudGVubmVzcG9ydF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsnYW50ZW5uZXNwb3J0LmNvbScsICdzZXJ2ZXJoZC5ldSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsgLy8gZm9yIGFudGVubmVzcG9ydAogICAgICAgICAgLy8gUmVtb3ZlIFB1YgogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoIiNwdWIgLnB1YmNsb3NlIik7CiAgICAgICAgICAvLyBSZWRpcmVjdCB0byBQbGF5ZXIKICAgICAgICAgIEFhay5zZXRFbGVtZW50KCcjcHViIC5lbWJlZCBpZnJhbWUnLCB7CiAgICAgICAgICAgIHNyYyA6ICcvZW1iZWQvZW1iZWQucGhwJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkaXNhYmxlQWxlcnRib3ggOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZW4vZm9ydW0vZGlzY3Vzc2lvbi84NjExCiAgICAgICAgaG9zdCA6IFsnZHJpdmVhcmFiaWEuY29tJywgJ3B1dGxvY2tlci5jb20nLCAnZG9hdG9vbHNpdGEuYWx0ZXJ2aXN0YS5vcmcnLCAnc29ja3NoYXJlLmNvbScsICdmcmVlLW1vdmllLWhvbWUuY29tJywgJ3BjLm9ubGluZTE0My5jb20nLCAna29vb3JhLmNvbScsICdzdHIzYW10di5jby5ucicsICdzdHIzYW10di5hbHRlcnZpc3RhLm9yZycsICdzdHIzYW0uYWx0ZXJ2aXN0YS5vcmcnLCAnZmlsZWNvbS5uZXQnLCAncGlwb2Nhcy50dicsICdnZW5lcmF0dXByZW1pdW0uYml6JywgJ21lZ2EtZGVicmlkLmV1JywgJ3ByZW1pdW1zdDByZS5ibG9nc3BvdC5jb20nLCAnZGwtcHJvdGVjdC5jb20nLCAnbmV3c2lubGV2ZWxzLmNvbScsICd2aXByYWNpbmcuYml6JywgJ2J1c2luZXNzdG9kYXkuaW4nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hbGVydCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2VuZXJhdHVwcmVtaXVtX2JpeiA6IHsKICAgICAgICBob3N0IDogWydnZW5lcmF0dXByZW1pdW0uYml6J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIERpc2FibGUgQ29uZmlybSBCb3gKICAgICAgICAgIC8vQWFrLnV3LmNvbmZpcm0gPSBmdW5jdGlvbiAoKXt9OwogICAgICAgICAgQWFrLnNldENvb2tpZSgnZ2VuZXJhJywgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmV3c3RhdGVzbWFuX2NvbSA6IHsKICAgICAgICBob3N0IDogWyduZXdzdGF0ZXNtYW4uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2RvbmF0aW9uUG9wdXAnLCAnaGlkZScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYWRzd2l6el9jb20gOiB7CiAgICAgICAgLy8gYnk6IFNrcjR0Y2hHcjNhenlNb25raUJhbGxsbGxsWnp6egogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84MDkKICAgICAgICBob3N0IDogWyd5ZXMuZm0nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHdpbmRvdy5jb21fYWRzd2l6el9zeW5jaHJvX2luaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVyc3RhbmRhcmRfYXQgOiB7CiAgICAgICAgLy8gYnk6IEFsZXhhbmRlcjI1NQogICAgICAgIC8vIHBhdGNoOiBodHRwOi8vcGFzdGViaW4uY29tL3Jhdy5waHA/aT1yN1E0RHJmQgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWRlcnN0YW5kYXJkCiAgICAgICAgaG9zdCA6IFsnZGVyc3RhbmRhcmQuYXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewoKICAgICAgICAgIHZhciBtYWtlSVNPVGltZXN0YW1wVVRDID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcGFkID0gZnVuY3Rpb24gKGFtb3VudCwgd2lkdGgpIHsKICAgICAgICAgICAgICB2YXIgcGFkZGluZyA9ICIiOwogICAgICAgICAgICAgIHdoaWxlIChwYWRkaW5nLmxlbmd0aCA8IHdpZHRoIC0gMSAmJiBhbW91bnQgPCBNYXRoLnBvdygxMCwgd2lkdGggLSBwYWRkaW5nLmxlbmd0aCAtIDEpKSB7CiAgICAgICAgICAgICAgICBwYWRkaW5nICs9ICIwIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIHBhZGRpbmcgKyBhbW91bnQudG9TdHJpbmcoKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgcmV0dXJuIFtwYWQoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCA0KSwgIi0iLAogICAgICAgICAgICAgIHBhZChkYXRlLmdldFVUQ01vbnRoKCkgKyAxLCAyKSwgIi0iLAogICAgICAgICAgICAgIHBhZChkYXRlLmdldFVUQ0RhdGUoKSwgMiksICJUIiwKICAgICAgICAgICAgICBwYWQoZGF0ZS5nZXRVVENIb3VycygpLCAyKSwgIjoiLAogICAgICAgICAgICAgIHBhZChkYXRlLmdldFVUQ01pbnV0ZXMoKSwgMiksICI6IiwKICAgICAgICAgICAgICBwYWQoZGF0ZS5nZXRVVENTZWNvbmRzKCksIDIpXS5qb2luKCk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKS5mb3JFYWNoKGZ1bmN0aW9uIChjb29raWUpIHsKICAgICAgICAgICAgLy8gRmluZCBtYWluIHN0b3JhZ2UgY29va2llCiAgICAgICAgICAgIGlmIChjb29raWUuc3Vic3RyKDAsIDYpID09ICJNR1VJRD0iKSB7CiAgICAgICAgICAgICAgLy8gRGVjb21wb3NlIGluZm9ybWF0aW9uIGZyb20gbWFpbiBzdG9yYWdlIGNvb2tpZQogICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB7fTsKICAgICAgICAgICAgICBjb29raWUuc3Vic3RyKDYpLnNwbGl0KCImIikuZm9yRWFjaChmdW5jdGlvbiAoYXNzaWdubWVudCkgewogICAgICAgICAgICAgICAgdmFyIHBvcyA9IGFzc2lnbm1lbnQuaW5kZXhPZignPScpOwogICAgICAgICAgICAgICAgaWYgKHBvcyA+IC0xKSB7CiAgICAgICAgICAgICAgICAgIHZhbHVlc1thc3NpZ25tZW50LnN1YnN0cigwLCBwb3MpXSA9IGFzc2lnbm1lbnQuc3Vic3RyKHBvcyArIDEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAvLyBVcGRhdGUgImZpcnN0IHZpZXdlZCIgdGltZXN0YW1wCiAgICAgICAgICAgICAgdmFsdWVzLlRpbWVzdGFtcCA9IG1ha2VJU09UaW1lc3RhbXBVVEMoKTsKCiAgICAgICAgICAgICAgLy8gUmVjb21wb3NlIGluZm9ybWF0aW9uIGluIG1haW4gc3RvcmFnZSBjb29raWUKICAgICAgICAgICAgICBjb29raWUgPSAiTUdVSUQ9IjsKICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWVzKSB7CiAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgICAgICAgICAgICAgY29va2llICs9IGtleSArICI9IiArIHZhbHVlc1trZXldICsgIiYiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBjb29raWUgPSBjb29raWUuc3Vic3RyKDAsIChjb29raWUubGVuZ3RoIC0gMSkpOwoKICAgICAgICAgICAgICAvLyBVcGRhdGUgY29va2llCiAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRla19kb21haW5zIDogewogICAgICAgIC8vIGJ5OiBSZWVrLCBBbGV4YW5kZXIyNTUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNzg4CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzUxMgogICAgICAgIGhvc3QgOiBbJ3Rlay5ubycsICdnYW1lci5ubycsICd0ZWtub2ZpbC5ubycsICdpbnNpZGV0ZWxlY29tLm5vJywgJ3ByaXNndWlkZS5ubycsICdkaXNrdXNqb24ubm8nLCAndGVrbm9qb2JiLm5vJywgJ2FrYW0ubm8nLCAnaGFyZHdhcmUubm8nLCAnYW1vYmlsLm5vJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewoKICAgICAgICAgIC8qCiAgICAgICAgICB2YXIgYWRfZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTsKICAgICAgICAgIGFkX2ZyYW1lLm5hbWUgPSAiX2ZyYW1lIjsKICAgICAgICAgIGFkX2ZyYW1lLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFkX2ZyYW1lKTsKICAgICAgICAgIGFkX2ZyYW1lLmNvbnRlbnRXaW5kb3cud3JhcHBlZEpTT2JqZWN0LmluRklGID0gdHJ1ZTsKICAgICAgICAgICAqLwoKICAgICAgICAgIC8vIGZpeCAyNy4xMS4yMDE1CiAgICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICAgIHRhZyA6ICdkaXYnLAogICAgICAgICAgICBpZCA6ICdnb29nbGVfYWRzX2lmcmFtZV8nLAogICAgICAgICAgICBodG1sIDogJzxwPjwvcD4nLAogICAgICAgICAgICBhcHBlbmQgOiAnYm9keScKICAgICAgICAgIH0pOwoKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBsYW5ldGF0dm9ubGluZWhkX25ldHdvcmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE0NjcKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTU5CiAgICAgICAgaG9zdCA6IFsncGxhbmV0YXR2b25saW5laGQuYmxvZ3Nwb3QuJywgJ3BsYW5ldGF0dm9ubGluZWhkLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoJy5hZHNhbnRpbG9rIHsgaGVpZ2h0OiAxcHg7IH0nKTsKICAgICAgICAgIC8vQWFrLnV3LmpRQW50aUFkc0Jsb2NrID0gZnVuY3Rpb24gKCl7fTsgLy8gZG9uJ3Qgd29yawogICAgICAgIH0KICAgICAgfSwKICAgICAgYmV0YV9zcGVlZHRlc3RfbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy82MjgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTYyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ4NAogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlMi5vcmcvNTN5bWdoWDEKICAgICAgICBob3N0IDogWydiZXRhLnNwZWVkdGVzdC5uZXQnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZHNPb2tsYUNvbVJlYWNoYWJsZSA9IHRydWU7CiAgICAgICAgICBBYWsudXcuc2NyaXB0c0xvYWRlZCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmluYnVja3NfY29tIDogewogICAgICAgIC8vIGJ5OiBBbGV4YW5kZXIyNTUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTQ1CiAgICAgICAgaG9zdCA6IFsnYmluYnVja3MuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LnRlc3RKdWljeVBheSA9IHRydWU7CiAgICAgICAgICBBYWsudXcudGVzdFNlbnNlUGF5ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdoaXNreXByaWNlc19kb21haW5zIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjg0CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL0VwcjV0UkVMCiAgICAgICAgaG9zdCA6IFsnd2hpc2t5cHJpanplbi5jb20nLCAnd2hpc2t5cHJpY2VzLmNvLnVrJywgJ3doaXNreXByZWlzZS5jb20nLCAnd2hpc2t5cHJpeC5mciddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Lk9BX3Nob3cgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmljb2Jsb2dfb3JnIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTg0CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL01OSHBMczJWCiAgICAgICAgaG9zdCA6IFsnbmljb2Jsb2cub3JnJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNyYycpOwogICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGlfc2UgOiB7CiAgICAgICAgLy8gbm90ZTogYWRkIHRoaXMgcnVsZSBmb3IgY2hyb21lIHVzZXIKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTMxOQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS85YkRQUXpNWAogICAgICAgIGhvc3QgOiBbJ2RpLnNlJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNoZWFkZXJfb3ZlcmxheScpOwogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNtZXNzYWdlX21vZGFsJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtZWdvZ29fbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBQTQogICAgICAgIC8vIHNvdXJjZTE6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vY2NIUWczaG4KICAgICAgICAvLyBzb3VyY2UyOiBodHRwOi8vcGFzdGViaW4uY29tL2drMHZFUUhOCiAgICAgICAgLy8gbm90ZTogdHdvIGFkYmxvY2sgY2hlY2sKICAgICAgICBob3N0IDogWydtZWdvZ28ubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICJhZEJsb2NrIiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAic2hvd0FkQmxvY2tNZXNzYWdlIiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiBmdW5jdGlvbiAoKSB7fQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBsaWJlcnRhZGRpZ2l0YWxfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNjQyCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tLzZGenAwdnJFCiAgICAgICAgaG9zdCA6IFsnbGliZXJ0YWRkaWdpdGFsLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAiYWRfYWxyZWFkeV9wbGF5ZWQiLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB3cml0YWJsZSA6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZSA6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFhay51dywgInB1ZWRlTW9zdHJhckFkcyIsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCAgICAgCiAgICAgIGZvbGhhX3VvbF9jb21fYnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzOTYKICAgICAgICAvLyBzb3VyY2U6IGYoICggdHlwZW9mIHBheXdhbGxfYWNjZXNzID09ICJ1bmRlZmluZWQiIHx8IHBheXdhbGxfYWNjZXNzICE9IHRydWUgKSAmJiAoIHR5cGVvZiBmb2xoYV9hZHMgPT0gInVuZGVmaW5lZCIgfHwgZm9saGFfYWRzICE9IHRydWUgKSApIHsKICAgICAgICBob3N0IDogWydmb2xoYS51b2wuY29tLmJyJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICJwYXl3YWxsX2FjY2VzcyIsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAiZm9saGFfYWRzIiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGdhbWVyX2NvbV90dyA6IHsKICAgICAgICAvLyBieTogbW1pczEwMDAKICAgICAgICAvLyB1c2Vyc2NyaXB0OiBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL3NjcmlwdHMvMTY1MjUKICAgICAgICAvLyBpc3N1ZTogOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy85NzUKICAgICAgICBob3N0IDogWydnYW1lci5jb20udHcnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFhay51dywgJ0FudGlBZCcsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhcm1vcmdhbWVzX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODQ1CiAgICAgICAgaG9zdCA6IFsnYXJtb3JnYW1lcy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFhay51dywgJ2dhX2RldGVjdCcsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtYW5nYWhvc3RfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy85NTcKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTU4CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL0dycGJKRU5BCiAgICAgICAgaG9zdCA6IFsnbWFuZ2Fob3N0LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAidGVzdERpc3BsYXkiLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB3cml0YWJsZSA6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZSA6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpZGVvd29vZF90diA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTMzOQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3ZpZGVvd29vZC50di9idWlsZC9hc3NldHMvanMvcGVtYmVkLTk3YTY0MGY2MjUuanMKICAgICAgICBob3N0IDogWyd2aWRlb3dvb2QudHYnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Lm9wZW4gPSBmdW5jdGlvbiAoKSB7fTsgLy8gcHJldmVudCBwb3B1cAogICAgICAgICAgQWFrLnV3LmNvbmZpZyA9IHt9OwogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFhay51dy5jb25maWcsICJhZGJfcmVtaW5kIiwgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbmZvam9ic19jb21fYnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzMzkKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vTFBnNjA5M1UKICAgICAgICAvLyByZWRpcmVjdDogaHR0cDovL3d3dy5pbmZvam9icy5jb20uYnIvbm9wdWJsaWNpdHkuYXNweAogICAgICAgIGhvc3QgOiBbJ2luZm9qb2JzLmNvbS5iciddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU2NyaXB0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHdlYlVJID0gd2ViVUkgfHwge307CiAgICAgICAgICAgIHdlYlVJLlV0aWxzID0gd2ViVUkuVXRpbHMgfHwge307CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3ZWJVSS5VdGlscywgIlN0b3BBZEJsb2NrIiwgewogICAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgICAgdmFsdWUgOiBmdW5jdGlvbiAoKSB7fQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNsb3Vkd2ViY29weV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzcxNAogICAgICAgIGhvc3QgOiBbJ2Nsb3Vkd2ViY29weS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHNldFRpbWVvdXRDbG9uZSA9IEFhay51dy5zZXRUaW1lb3V0OwogICAgICAgICAgQWFrLnV3LnNldFRpbWVvdXQgPSBudWxsOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIEFhay51dy5zZXRUaW1lb3V0ID0gc2V0VGltZW91dENsb25lOwogICAgICAgICAgfSwgNTAwMCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBuYXJraXZlX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTY5CiAgICAgICAgaG9zdCA6IFsnbmFya2l2ZS5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZGJsb2NrX3N0YXR1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByZWdlbl9uZXQgOiB7CiAgICAgICAgaG9zdCA6IFsncHJlZ2VuLm5ldCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBza2lwIHBhZ2UgaW5mbwogICAgICAgICAgQWFrLnNldENvb2tpZSgncGduJywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBwaHlzX29yZyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNzY4CiAgICAgICAgaG9zdCA6IFsncGh5cy5vcmcnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5jaGtBQiA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgb252YXNvcnRpcl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9b252YXNvcnRpci5jb20KICAgICAgICBob3N0IDogWydvbnZhc29ydGlyLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gK2FicCBydWxlIGFsdCBzb2x1dGlvbgogICAgICAgICAgQWFrLnV3LkplQmxvcXVlID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBmdWxsaGR6ZXZraV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZnVsbGhkemV2a2kuY29tCiAgICAgICAgaG9zdCA6IFsnZnVsbGhkemV2a2kuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyArYWJwIHJ1bGUgYWx0IHNvbHV0aW9uCiAgICAgICAgICBBYWsudXcuY2hlY2sgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpbGxlX2lkZWFsZV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI1OAogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS8xNm1ubWVNYwogICAgICAgIGhvc3QgOiBbJ3ZpbGxlLWlkZWFsZS5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vICthYnAgcnVsZSBhbHQgc29sdXRpb24KICAgICAgICAgIEFhay51dy5leGVjc3AgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG5vdHJlX3BsYW5ldGVfaW5mbyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjU4CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL3FyUzZRR0dFCiAgICAgICAgaG9zdCA6IFsnbm90cmUtcGxhbmV0ZS5pbmZvJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyArYWJwIHJ1bGUgYWx0IHNvbHV0aW9uCiAgICAgICAgICBBYWsudXcucHVicG9wID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBhcGttaXJyb3JfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zNzgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjI0CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzc4CiAgICAgICAgaG9zdCA6IFsnYXBrbWlycm9yLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmRvQ2hlY2sgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG10bGJsb2dfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy85NDgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9mb3J1bS9kaXNjdXNzaW9uLzc3NTMKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vQkZyRFBNNmIKICAgICAgICBob3N0IDogWydtdGxibG9nLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAncHVhYnMnLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB2YWx1ZSA6IGZ1bmN0aW9uICgpIHt9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFuaXptX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydhbml6bS5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5zdG9wQWRCbG9jayA9IHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGlhcmlvaW5mb3JtYWNpb25fY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTUwCiAgICAgICAgaG9zdCA6IFsnZGlhcmlvaW5mb3JtYWNpb24uY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICdwcl9va3ZhbGlkYScsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHZhbHVlIDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjbmJldGFfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMzAxCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL3ZYTkN6dHd4CiAgICAgICAgaG9zdCA6IFsnY25iZXRhLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAnSkInLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB2YWx1ZSA6IGZ1bmN0aW9uICgpIHt9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRoZW1hcmtlcl9oYWFyZXR6IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjkyCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL20wOGRrRFQ0CiAgICAgICAgaG9zdCA6IFsndGhlbWFya2VyLmNvbScsICdoYWFyZXR6LmNvLmlsJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICdBZEJsb2NrVXRpbCcsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHZhbHVlIDoge30KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGlwb2Nhc190diA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydwaXBvY2FzLnR2J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIEFsc28gYWRkZWQgaW4gZGlzYWJsZUFsZXJ0Ym94CiAgICAgICAgICAvLyBObyBwb3B1cAogICAgICAgICAgQWFrLnNldENvb2tpZSgncG9wdXBfdXNlcl9sb2dpbicsICd5ZXMnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIF8xNW1pbl9sdCA6IHsKICAgICAgICAvLyBub3RlOiByZWd1bGFyeSB1cGRhdGUgc2NyaXB0CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9MTVtaW4uaXQKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vWVdmM0hUcXIKICAgICAgICAvLyB0ZXN0OiBodHRwOi8vdGlueXVybC5jb20vaDZjNDMzNgogICAgICAgIGhvc3QgOiBbJzE1bWluLmx0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICdST1VURScsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogJ19iZV9yZWtsYW1vcycKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2MyY2FzdHNfY29tIDogewogICAgICAgIC8vIGJ5OiBHaXdheXVtZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTk5CiAgICAgICAgaG9zdCA6IFsnc2MyY2FzdHMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbigpIHsKICAgICAgICAgICAgd2luZG93Ll9nYXEgPSB7IHB1c2g6ZnVuY3Rpb24oKSB7fSB9OwogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAic2hvd2RpYWxvZyIsIHsKICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7fSwKICAgICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLAogICAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgInNob3dQb3B1cDIiLCB7CiAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge30sCiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZndW5ldHdvcmtfY29tIDogewogICAgICAgIC8vIGlzc3VlOgogICAgICAgIGhvc3QgOiBbJ3ZndW5ldHdvcmsuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnc3RvcEl0JywgMSk7CiAgICAgICAgICB2YXIgY2xvc2UgPSBBYWsuZ2V0RWxlbWVudCgnI3NvbWVfYWRfYmxvY2tfa2V5X2Nsb3NlJyk7CiAgICAgICAgICBpZiAoY2xvc2UpIHsKICAgICAgICAgICAgY2xvc2UuY2xpY2soKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpbmtjcnlwdF93cyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjg2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvcHVsbC82NwogICAgICAgIGhvc3QgOiBbJ2xpbmtjcnlwdC53cyddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRFbGVtZW50KCcjYWRfY29udCcsIHsKICAgICAgICAgICAgaWQgOiAnJywKICAgICAgICAgICAgc3R5bGUgOiAnZGlzcGxheTpibG9jazsnCiAgICAgICAgICB9KTsKICAgICAgICAgIEFhay5zZXRFbGVtZW50KCcjY29udGFpbmVyX2NoZWNrJywgewogICAgICAgICAgICBzdHlsZSA6ICdkaXNwbGF5Om5vbmU7JwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBldmVudG9zcHB2X21lIDogewogICAgICAgIC8vIGlzc3VlOiAKICAgICAgICBob3N0IDogWydldmVudG9zcHB2Lm1lJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNuZjM3Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBib2xvcl90b2xpX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTUyCiAgICAgICAgaG9zdCA6IFsnYm9sb3ItdG9saS5jb20nXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBhZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdiYW5uZXInKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBhZCA9IGFkc1tpXTsKICAgICAgICAgICAgYWQuaW5uZXJIVE1MID0gJzxicj4nOwogICAgICAgICAgICBhZC5zdHlsZS5oZWlnaHQgPSAnMXB4JzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpdm9fc3ggOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI4MAogICAgICAgIGhvc3QgOiBbJ3Zpdm8uc3gnXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBhbGVydCA9IEFhay5nZXRFbGVtZW50KCcjYWxlcnQtdGhyb3R0bGUnKTsKICAgICAgICAgIGlmIChhbGVydCkgewogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudChhbGVydCk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgYnV0dG9uID0gQWFrLmdldEVsZW1lbnQoJ2J1dHRvbiNhY2Nlc3MnKTsKICAgICAgICAgIGlmIChidXR0b24pIHsKICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTsKICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsKICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdDb250aW51ZSB0byB2aWRlbyc7CiAgICAgICAgICB9CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGlucHV0ID0gQWFrLmdldEVsZW1lbnQoJ2lucHV0W25hbWU9InRocm90dGxlIl0nKTsKICAgICAgICAgICAgaWYgKGlucHV0KSB7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoaW5wdXQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGx1eHlhZF9jb20gOiB7IC8vIHNraXAgcmVkaXJlY3QgbXlhbmltZXMubGkKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydsdXh5YWQuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKCcvSW5mb3JtYXRpb24ucGhwJyA9PSBsb2NhdGlvbi5wYXRobmFtZSkgewogICAgICAgICAgICB2YXIgaHJlZiA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBocmVmLnN1YnN0cihocmVmLmluZGV4T2YoJ3VybD0nKSArIDQsIGhyZWYubGVuZ3RoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1ycGlyYWN5X2RvbWFpbnMgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE0MDUKICAgICAgICBob3N0IDogWydtcnBpcmFjeS54eXonLCAnbXJwaXJhY3kuY2x1YiddLAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgY29udGFpbnMgOiAnRGVzYXRpdmEgbyBBZEJsb2NrIHBhcmEgY29udGludWFyJywKICAgICAgICAgICAgICBleHRlcm5hbCA6IGZhbHNlLAogICAgICAgICAgICAgIHJlbW92ZSA6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgXTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRicGxhbmV0X25ldCA6IHsKICAgICAgICAvLyBpc3N1ZTogUE0KICAgICAgICBob3N0IDogWydkYnBsYW5ldC5uZXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnbmV3bm9Nb3JlQWRzTm93JywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhaWRlbXVfZnIgOiB7CiAgICAgICAgLy8gaXNzdWU6CiAgICAgICAgaG9zdCA6IFsnYWlkZW11LmZyJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2FkYmxvY2tQb3B1cCcsIHRydWUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZWFtaV9pbiA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydlYW1pLmluJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdhZF9sb2NrZWQnLCAxKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJpZ2Rvd25sb2FkZXJfY29tIDogewogICAgICAgIC8vIGlzc3VlOgogICAgICAgIGhvc3QgOiBbJ2JpZ2Rvd25sb2FkZXIuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNhbnRpX2FkYmxvY2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZyZWVza2llcl9jb20gOiB7CiAgICAgICAgLy8gYnk6IEdvcmhpbGwKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNjM5CiAgICAgICAgLy8gbm90ZTogYWxzbyBhZGRlZCBsaXN0IHJ1bGUKICAgICAgICBob3N0IDogWydmcmVlc2tpZXIuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkYi1ub3QtZW5hYmxlZCIpOwogICAgICAgICAgaWYgKGVsICE9PSBudWxsKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJkaXNwbGF5Iik7CiAgICAgICAgICB9CiAgICAgICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aWRlb0NvbnRhaW5lciIpOwogICAgICAgICAgaWYgKGVsICE9PSBudWxsKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJkaXNwbGF5Iik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBnYW1ldHJhaWxlcnNfY29tIDogewogICAgICAgIC8vIGlzc3VlOgogICAgICAgIGhvc3QgOiBbJ2dhbWV0cmFpbGVycy5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI2FkX2Jsb2NraW5nJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzY2FuX29uZXBpZWNlX25hcnV0b19teCA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTgyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI3OQogICAgICAgIGhvc3QgOiBbJ3NjYW4tbXguY29tJywgJ29uZXBpZWNlLW14Lm5ldCcsICduYXJ1dG8tbXgubmV0J10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRfYmxvY2tfdGVzdCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldEVsZW1lbnQoJyN5b3AnLCB7CiAgICAgICAgICAgIGlkIDogJycKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gQml0Y29pbnMKICAgICAgYml0Y29pbmtlcl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzIzMAogICAgICAgIGhvc3QgOiBbJ2JpdGNvaW5rZXIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5jbGFpbSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNFMzNGQ0NjWDJmVycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbW9vbmRvZ2VfY29faW4gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzM4NAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yMzIKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjMzCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzIzNgogICAgICAgIGhvc3QgOiBbJ21vb25kb2dlLmNvLmluJywgJ21vb25saXRlY28uaW4nLCAnbW9vbmJpdC5jby5pbicsICdiaXRjb2luemVicmEuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNBQiwgI0U0NDJEdiwgI2VDQzVoJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBiaXRjb2luZXJfbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zNDkKICAgICAgICBob3N0IDogWydiaXRjb2luZXIubmV0JywgJ2xpdGVjb2luZXIubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I3Rlc3RlcicpOwogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjYWQtdG9wJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBiaXRjb2luc19ueF90YyA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydmcmVlYml0Y29pbnMubngudGMnLCAnZ2V0Yml0Y29pbnMubngudGMnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZF9ibG9ja190ZXN0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZnJlZWNvaW5zNF9tZSA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydmcmVlY29pbnM0Lm1lJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuY2hlY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9LAogICAgICB0b3JyZW50X3R2X3J1IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy81MzcKICAgICAgICBob3N0IDogWyd0b3JyZW50LXR2LnJ1J10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuY19Pb19BZHZlcnRfU2hvd24gPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgY3d0dl9jb20gOiB7CiAgICAgICAgLy8gYnk6IEthbGJhc2l0CiAgICAgICAgLy8gcHVsbDogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9wdWxsLzc2MwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zNDAKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNzYyCiAgICAgICAgaG9zdCA6IFsnY3d0di5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5DV1RWSXNBZEJsb2NraW5nID0gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYmlsZF9kZSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1iaWxkCiAgICAgICAgaG9zdCA6IFsnYmlsZC5kZSddLAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgY29udGFpbnMgOiAnaHR0cDovL3d3dy5iaWxkLmRlL3dhL2xsL2JpbGQtZGUvdW5hbmdlbWVsZGV0LTQyOTI1NTE2LmJpbGQuaHRtbCcsCiAgICAgICAgICAgICAgZXh0ZXJuYWwgOiBmYWxzZSwKICAgICAgICAgICAgICByZXBsYWNlIDogWydqYXZhc2NyaXB0JywgJ3ZvaWQoMCk7J10uam9pbignOicpCiAgICAgICAgICAgIH0KICAgICAgICAgIF07CiAgICAgICAgfQogICAgICB9LAogICAgICBpbm5fY29faWwgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzUzMgogICAgICAgIGhvc3QgOiBbJ2lubi5jby5pbCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU2NyaXB0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIFRSQyA9IHt9OwogICAgICAgICAgICBUUkMuYmxvY2tlciA9IHsKICAgICAgICAgICAgICBzdGF0ZXMgOiB7CiAgICAgICAgICAgICAgICBBQlBfREVURUNUSU9OX0RJU0FCTEVEIDogLTIsCiAgICAgICAgICAgICAgICBBQlBfTk9UX0RFVEVDVEVEIDogMCwKICAgICAgICAgICAgICAgIEFCUF9ERVRFQ1RFRCA6IDEKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGNyZWF0ZUJsb2NrRGV0ZWN0aW9uRGl2IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgaXNCbG9ja0RldGVjdGVkT25EaXYgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGlzQmxvY2tEZXRlY3RlZE9uQ2xhc3NOYW1lcyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZ2V0QmxvY2tlZFN0YXRlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBiaGFza2FyX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1iaGFza2FyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZGl2eWFiaGFza2FyLmNvLmluCiAgICAgICAgaG9zdCA6IFsnYmhhc2thci5jb20nLCAnZGl2eWFiaGFza2FyLmNvLmluJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcub3BlblBvcFVwRm9yQnJlYWtQYWdlID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICBBYWsudXcuY2FuQUJQID0gdHJ1ZTsKICAgICAgICAgIEFhay51dy5jYW5SdW5BZHMgPSB0cnVlOwogICAgICAgICAgQWFrLnV3LmNhbkNoZWNrQWRzID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHR1cmthbmltZV90diA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNDQ2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzOQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL3RyL2ZvcnVtL2Rpc2N1c3Npb24vNDI4Mi8KICAgICAgICBob3N0IDogWyd0dXJrYW5pbWUudHYnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy5hZGJsb2NrYmxvY2sgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5CbG9rS29udHJvbCA9IHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgd3RmYml0X2NoIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy80MDcKICAgICAgICBob3N0IDogWyd3dGZiaXQuY2gnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy53cml0ZUhUTUxhc0pTID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBhcmFuenVsbGFfaXQgOiB7CiAgICAgICAgLy8gYnk6IFJvYm90ZXgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1hcmFuenVsbGEuaXQKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20veU1NNllneFcKICAgICAgICBob3N0IDogWydhcmFuenVsbGEuaXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24oKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoJyNhYnQxICsgU1RZTEUgKyBkaXZbaWRdW2NsYXNzXSB7ZGlzcGxheTpub25lO30nKTsKICAgICAgICB9LAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgY29udGFpbnMgOiAnbmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhJywKICAgICAgICAgICAgICBleHRlcm5hbCA6IGZhbHNlLAogICAgICAgICAgICAgIHJlbW92ZSA6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgXTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG5kdHZfY29tIDogewogICAgICAgIC8vIG5vdGU6IGNhblJ1bkFkcyBpbnZlcnRlZCB2YWx1ZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPW5kdHYuY29tCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL2hjZm5jZHYKICAgICAgICBob3N0IDogWyduZHR2LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ19fX3BfX3AnLCAxKTsKICAgICAgICAgIEFhay5zZXRSZWFkT25seSgnZ2V0Tm9Ub3BMYXRlc3ROZXdzJywgZnVuY3Rpb24gKCkge30pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbGVzZWNob3NfZnIgOiB7CiAgICAgICAgLy8gUmVlaywgR2l3YXl1bWUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1sZXNlY2hvcy5mcgogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9DTU04V0dMagogICAgICAgIGhvc3QgOiBbJ2xlc2VjaG9zLmZyJywgJ2xlc2VjaG9zLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbigpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICJjaGVja0FkQmxvY2siLCB7CiAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge30sCiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmNhbGxfQWQgPSAxOwogICAgICAgICAgQWFrLnV3LnBheXdhbGxfYWRibG9ja19hcnRpY2xlID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBiaXR2aXNpdHNfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yNjYKICAgICAgICBob3N0IDogWydiaXR2aXNpdHMuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYmxvY2tBZGJsb2NrVXNlciA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXhyYXBpZGxlZWNoX2luZm8gOiB7CiAgICAgICAgLy8gYnk6IEFsZXhhbmRlcjI1NSwgUmVlaywgR2l3YXl1bWUKICAgICAgICAvLyBwYXRjaDogaHR0cDovL3Bhc3RlYmluLmNvbS9RNjY0ZGlRMgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWV4cmFwaWRsZWVjaAogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS81ZTI3c3lqQQogICAgICAgIGhvc3QgOiBbJ2V4cmFwaWRsZWVjaC5pbmZvJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICB2YXIgdG9tb3Jyb3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgdG9tb3Jyb3cuc2V0RGF0ZSh0b21vcnJvdy5nZXREYXRlKCkgKyAxKTsKCiAgICAgICAgICAvLyBwcmV2ZW50IHBvcHVwCiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwb3BjYXNocHVDYXAnLCAxKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ3BvcGNhc2hwdScsIDEpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgnbm9wb3BhdGFsbCcsIHRvbW9ycm93LmdldFRpbWUoKS50b1N0cmluZygpKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ25vYWR2dGRheScsIDApOwogICAgICAgICAgLy9BYWsuc2V0Q29va2llKCdidl9EU0tza2Rja19zMWQnLCAnYnZEU0tza2Rja3MxZCcpOwoKICAgICAgICAgIC8vIGhpZGUgbm90aWNlCiAgICAgICAgICBBYWsuYWRkU3R5bGUoJ2Rpdi5hbGVydC5hbGVydC1kYW5nZXIubGVhZCB7b3BhY2l0eTowO30nKTsKICAgICAgICAgIAogICAgICAgICAgLy8gcHJldmVudCByZWRpcmVjdCB0byB2ZXJpZnkgcGFnZQogICAgICAgICAgQWFrLnNldFJlYWRPbmx5KCdiZHZibnJfcGlkJywgW10pOwogICAgICAgICAgQWFrLnNldFJlYWRPbmx5KCdQb3BBZHMnLCAxKTsKCiAgICAgICAgICBBYWsuYWRkU2NyaXB0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyBwcmV2ZW50IHBvcHVwCiAgICAgICAgICAgICAgd2luZG93Lm9wZW4gPSBmdW5jdGlvbiAoKSB7fTsKCiAgICAgICAgICAgICAgLy8gcHJldmVudCByZWRpcmVjdCB0byB2ZXJpZnkgcGFnZQogICAgICAgICAgICAgIHZhciBmcmFtZTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICAgICAgICAgICBmcmFtZTEuc3JjID0gJ2h0dHA6Ly9iZGZybS5iaWR2ZXJ0aXNlci5jb20vQmlkVmVydGlzZXIuZGJtP3BpZD0zODM4NjUmYmlkPTE3Mzc0MTgmUkQ9JzsKICAgICAgICAgICAgICBmcmFtZTEuaWQgPSAnYmR2aSc7CiAgICAgICAgICAgICAgZnJhbWUxLnN0eWxlID0gJ2Rpc3BsYXk6bm9uZSc7CiAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGZyYW1lMSk7CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpcGxlYWd1ZV9kb21haW5zIDogewogICAgICAgIC8vIG5vdGU6IGFsc28ga2lsbGVkIGJ5IEFha0xpc3QKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT12aXBib3gKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT12aXBsZWFndWUKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vTkVSVnpIelMKICAgICAgICBob3N0IDogWyJ2aXBsZWFndWUuaXMiLCAidmlwbGVhZ3VlLndzIiwgInZpcGxlYWd1ZS50diIsICJ2aXBsZWFndWUuc2UiLCAidmlwbGVhZ3VlLnR2IiwgInZpcGxlYWd1ZS5tZSIsICJ2aXBsZWFndWUubW9iaSIsICJ2aXBsZWFndWUuY28iLCAidmlwbGVhZ3VlLnN4IiwgInZpcGxlYWd1ZS5jaCIsICJ2aXBib3gudHYiLCAidmlwYm94LmNvIiwgInZpcGJveC5iaXoiLCAidmlwYm94LnN4IiwgInZpcGJveC5ldSIsICJ2aXBib3guc28iLCAidmlwYm94Lm51IiwgInZpcGJveHNhLmNvIiwgInN0cmlrZW91dC5jbyIsICJzdHJpa2VvdXQubWUiLCAiaG9tZXJ1bi5yZSIsICJ2aXBib3h0di5jbyIsICJ2aXBhcHAubWUiXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmlFeGlzdCA9IHRydWU7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCd4Y2xzdmlwJywgMSk7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIi52aXBfMDUyeDAwMyB7IGhlaWdodDogMjUwcHg7IH0iKTsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiLnZpcF8wOXg4MjcgeyBoZWlnaHQ6IDI2cHg7IH0iKTsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI292ZXJsYXkgeyBkaXNwbGF5OiBub25lOyB9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICB6b29tdHZfbWUgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9em9vbXR2Lm1lCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL200ekFYR2N3CiAgICAgICAgaG9zdCA6IFsnem9vbXR2Lm1lJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuaWF4cEVuYWJsZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdmdfbm8gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI5MgogICAgICAgIC8vICthYnAgcnVsZQogICAgICAgIGhvc3QgOiBbJ3ZnLm5vJywgJ2UyNC5ubyddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Ll9fQUJfXyA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgcG9ybnZlX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTQ3CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tLzdUUFBrcTEyCiAgICAgICAgaG9zdCA6IFsncG9ybnZlLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmFkeGp3dXBkYXRlID0gMTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxvbF9tb2FfdHcgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzExMTQKICAgICAgICBob3N0IDogWydsb2wubW9hLnR3J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBNb2FPYmogPSBNb2FPYmogfHwge307CiAgICAgICAgICAgIE1vYU9iai5hZCA9IE1vYU9iai5hZCB8fCB7fTsJCQkKICAgICAgICAgICAgTW9hT2JqLmFkLmhhc0FkYmxvY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9OwogICAgICAgICAgICBNb2FPYmouYWQuY2hlY2tBQlAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtdWx0aXVwX29yZyA6IHsKICAgICAgICAvLyBieTogV2F0aWxpbgogICAgICAgIC8vIG5vdGU6IGFsdGVybmF0aXZlIHNvbHV0aW9uCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bXVsdGl1cC5vcmcKICAgICAgICBob3N0IDogWydtdWx0aXVwLm9yZyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aXNpdCcsIDEpOyAvLyBwcmV2ZW50IHBvcHVwCiAgICAgICAgICBBYWsuc2V0UmVhZE9ubHkoJ2hpJywgZnVuY3Rpb24gKCkge30pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGFpbHliaXRjb2luc19vcmcgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwNwogICAgICAgIGhvc3QgOiBbJ2RhaWx5Yml0Y29pbnMub3JnJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJy5hZC1pbWcnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGtvemFjemVrX3plYmVya2EgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQxNAogICAgICAgIGhvc3QgOiBbJ2tvemFjemVrLnBsJywgJ3plYmVya2EucGwnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgnYWJsYycsIDEpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgnY29va2llX3BvbGljeScsIDEpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc3Bhbmt3aXJlX3NpdGVzIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84ODcKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vVEZCMWR0Z2IKICAgICAgICBob3N0IDogWydzcGFua3dpcmUuY29tJywgJ2tlZXptb3ZpZXMuY29tJywgJ2V4dHJlbWV0dWJlLmNvbScsICdtb2Zvc2V4LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCJhYkNsb3NlZCIsICJ0cnVlIik7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCJoaWRlX2FkX21zZyIsICIxIik7CiAgICAgICAgfQogICAgICB9LAogICAgICB5b3Vwb3JuX25ldHdvcmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzg4NwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9URkIxZHRnYgogICAgICAgIGhvc3QgOiBbJ3lvdXBvcm4uY29tJywgJ3lvdXBvcm5nYXkuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoImFkYmxvY2tfbWVzc2FnZSIsICJjbG9zZWQiKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNpdGF0aW9ubWFjaGluZV9uZXQgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9Y2l0YXRpb25tYWNoaW5lLm5ldAogICAgICAgIGhvc3QgOiBbJ2NpdGF0aW9ubWFjaGluZS5uZXQnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnNldENvb2tpZSgic2JtX2NtX2NpdGF0aW9ucyIsIDApOwogICAgICAgIH0KICAgICAgfSwgICAgICAKICAgICAgcHNhcmlwc19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE1MwogICAgICAgIGhvc3QgOiBbJ3BzYXJpcHMuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRCYWl0RWxlbWVudCgnZGl2I2FkdmVydCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXh0cmF0b3JyZW50X2RvbWFpbnMgOiB7CiAgICAgICAgaG9zdCA6IFsnZXh0cmF0b3JyZW50LmNjJywgJ2V4dHJhdG9ycmVudC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gcHJldmVudCBwb3B1cAogICAgICAgICAgLy8gc291cmNlIGFyZSBvYmZ1c2NhdGVkIGluIGV4dGVybmFsIGpzCiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwcHVfZGVsYXknLCAxKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ3BwdV9tYWluJywgMSk7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwcHVfc3ViJywgMSk7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwcHVfc2hvd19vbicsIDEpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdG55X2N6IDogewogICAgICAgIGhvc3QgOiBbJ3RueS5jeicsICdwYXN0ZWQuY28nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gcHJldmVudCBwb3B1cAogICAgICAgICAgQWFrLnNldENvb2tpZSgnX18ucG9wdW5kZXJDYXAnLCAxKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ19fLnBvcHVuZGVyJywgMSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjbHViZWRvaGFyZHdhcmVfY29tX2JyIDogeyAvLyB0d28gYW50aWFkYmxvY2sKICAgICAgICBob3N0IDogWydjbHViZWRvaGFyZHdhcmUuY29tLmJyJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChBYWsuY29udGFpbnMobG9jYXRpb24uaG9zdCwgJ2ZvcnVtJykpIHsKICAgICAgICAgICAgLy8gU29sdXRpb24gMQogICAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNiYW5uZXIsIHNjcmlwdCB7IGhlaWdodDogNTFweDsgfSIpOwogICAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2RpdiNiYW5uZXInKTsKICAgICAgICAgIH0gZWxzZSB7IC8vIFdlYnNpdGUKICAgICAgICAgICAgLy8gU29sdXRpb24gMQogICAgICAgICAgICBBYWsuYWRkQmFpdEVsZW1lbnQoJ2Rpdi5iYW5uZXJfdG9wbycpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKEFhay5jb250YWlucyhsb2NhdGlvbi5ob3N0LCAnZm9ydW0nKSkgewogICAgICAgICAgICAvLyBTb2x1dGlvbiAyCiAgICAgICAgICAgIEFhay51dy5hZGRCbG9ja2luZy5oaWRlKCk7CiAgICAgICAgICAgIEFhay51dy5hZGRCbG9ja2luZy5raWxsKCk7CiAgICAgICAgICB9IGVsc2UgeyAvLyBXZWJzaXRlCiAgICAgICAgICAgIC8vIFNvbHV0aW9uIDIKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pZCA9ICcnOwogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnLmFkYmxvY2snKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlYnJhc3RhZ2lfY29tIDogewogICAgICAgIGhvc3QgOiBbJ2RlYnJhc3RhZ2kuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNzdHAtbWFpbicpOwogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNzdHAtYmcnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRkbGZyZW5jaF9vcmcgOiB7CiAgICAgICAgaG9zdCA6IFsnZGRsZnJlbmNoLm9yZyddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIEZpeCBidWcgZGlzcGxheSBjb250ZW50CiAgICAgICAgICBBYWsuc2V0RWxlbWVudCgnI2RsZS1jb250ZW50IC5kLWNvbnRlbnQnLCB7CiAgICAgICAgICAgICdjbGFzcycgOiAnJwogICAgICAgICAgfSk7CiAgICAgICAgICBBYWsuc2V0RWxlbWVudCgnI2NvbnRlbnQnLCB7CiAgICAgICAgICAgICdpZCcgOiAnJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtZWdhZGVicmlkX2V1IDogewogICAgICAgIGhvc3QgOiBbJ21lZ2EtZGVicmlkLmV1J10sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBBY3RpdmF0ZSBidXR0b24gZGVicmlkCiAgICAgICAgICBBYWsuc2V0RWxlbWVudCgnLnJlYWxidXR0b24nLCB7CiAgICAgICAgICAgICdvbmNsaWNrJyA6ICcnLAogICAgICAgICAgICAndHlwZScgOiAnc3VibWl0JwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzbGlkZXBsYXllcl9kb21haW5zIDogewogICAgICAgIC8vIGJ5OiBBbGV4YW5kZXIyNTUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTMzMwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy81MTUKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMjk2CiAgICAgICAgLy8gZGVtbzogaHR0cDovL3NsaWRlcGxheWVyLmZyL3NsaWRlLzEzMDQwMjYvIwogICAgICAgIGhvc3QgOiBbJ3NsaWRlcGxheWVyLionXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAvLyBEaXNhYmxlIGFudGktYWRibG9ja2VyCiAgICAgICAgICBBYWsudXcuZm9yY2VfcmVtb3ZlX2FkcyA9IHRydWU7CgogICAgICAgICAgLy8gQ2lyY3VtdmVudCAic2hhcmUgdG8gZG93bmxvYWQiIHJ1bGUKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgc2xpZGVfaWQgPSB3aW5kb3cuZ2V0X2N1cnJlbnRfc2xpZGVfaWQoKTsKICAgICAgICAgICAgdmFyIHNsaWRlX3NydiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwbGF5ZXJfZnJhbWUiKS5zcmMuc3BsaXQoIi8iKVszXTsKICAgICAgICAgICAgdmFyIHRpbWUgPSA4NjQwMCArIE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApOwogICAgICAgICAgICB2YXIgc2VjcmV0ID0gZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5zdHJ0cih3aW5kb3cuTUQ1LmJhc2U2NCgic2VjcmV0X3ByZXZlZCBzbGlkZXBsYXllciBuZXZlciBzb2x2ZWQgIiArIHRpbWUgKyBzbGlkZV9pZCArICIucHB0IiksICIrLyIsICItICIpKTsKCiAgICAgICAgICAgIHZhciB1cmwgPSAiaHR0cDovL3BsYXllci5zbGlkZXBsYXllci5vcmcvZG93bmxvYWQvIiArIHNsaWRlX3NydiArICIvIiArIHNsaWRlX2lkICsgIi8iICsgc2VjcmV0ICsgIi8iICsgdGltZSArICIvIiArIHNsaWRlX2lkICsgIi5wcHQiOwogICAgICAgICAgICB2YXIgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJhLmRvd25sb2FkX2xpbmsiKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIC8qIFJlbW92ZSBvcmlnaW5hbCAic2hhcmUgdG8gZG93bmxvYWQiIHBvcHVwIGV2ZW50IGxpc3RlbmVyICovCiAgICAgICAgICAgICAgdmFyIGV2ZW50cyA9ICQuX2RhdGEobGlua3NbaV0pLmV2ZW50cy5jbGljazsKICAgICAgICAgICAgICBldmVudHMuc3BsaWNlKDAsIGV2ZW50cy5sZW5ndGgpOwoKICAgICAgICAgICAgICAvKiBTZXQgbm9ybWFsIGxpbmsgaHJlZiBpbnN0ZWFkICovCiAgICAgICAgICAgICAgbGlua3NbaV0uaHJlZiA9IHVybDsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgIH0KICAgICAgfSwKICAgICAgYm9rZXBzcG90X2NvbSA6IHsKICAgICAgICBob3N0IDogWydib2tlcHNwb3QuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIEhpZGUgRGlzY2xhaW1lcgogICAgICAgICAgQWFrLnNldENvb2tpZSgnaGlkZURpYWxvZycsICdoaWRlJyk7CiAgICAgICAgfSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBSZW1vdmUgRGlzYWJsZSBBZEJsb2NrCiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI3R1cGlrbGFuJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBwaWNsb2FkX2NvbSA6IHsKICAgICAgICBob3N0IDogWydwaWNsb2FkLm9yZyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdwbF9hZGJsb2NrZXInLCBmYWxzZSk7CiAgICAgICAgfSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRzX2xvYWRlZCA9IHRydWU7CiAgICAgICAgICBBYWsudXcuaW1hZ2VBZHMgPSBmYWxzZTsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCdkaXZbb25jb250ZXh0bWVudT0icmV0dXJuIGZhbHNlOyJdJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBmcmVlemVkb3dubG9hZF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsnZnJlZXplZG93bmxvYWQuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKC9mcmVlemVkb3dubG9hZC5jb21cL2Rvd25sb2FkXC8vLnRlc3QobG9jYXRpb24uaHJlZikpIHsKICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJ2JvZHkgPiBkaXZbaWRdJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBtb25uc3V0b2dhdHlhX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogUE0KICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vMUx3NjBoNmsKICAgICAgICBob3N0IDogWydtb25uc3V0b2dhdHlhLmNvbSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgiI3NpdGUtYm94IHtkaXNwbGF5OmJsb2NrO30iKTsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcjZm9yLWFkLWJsb2NrZXInKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJhcGlkOF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsncmFwaWQ4LmNvbSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCdkaXYuYmFja2sgKyAjYmxjb2tNemcnKTsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCdkaXYuYmFja2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHR1cmtkb3duX2NvbSA6IHsKICAgICAgICBob3N0IDogWyd0dXJrZG93bi5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyByZW1vdmUgZmFjZWJvb2sgYm94CiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI2R1eXVydScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmlsbW92aXppamFfZG9tYWlucyA6IHsKICAgICAgICBob3N0IDogWydmaWxtb3ZpemlqYS5tZScsICdmaWxtb3ZpemlqYS5jb20nLCAnZmlsbW92aXppamEuaW4nLCAnZmlsbW92aXppamEubmV0J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLyoKICAgICAgICAgIHZhciBkID0gbmV3IERhdGUoKTsKICAgICAgICAgIHZhciB3ZWVrZGF5ID0gWyJTdW5kYXkiLCAiTW9uZGF5IiwgIlR1ZXNkYXkiLCAiV2VkbmVzZGF5IiwgIlRodXJzZGF5IiwgIkZyaWRheSIsICJTYXR1cmRheSJdOwogICAgICAgICAgdmFyIG4gPSB3ZWVrZGF5W2QuZ2V0RGF5KCldOwogICAgICAgICAgQWFrLnNldEVsZW1lbnQoJyMnICsgbiwgewogICAgICAgICAgaHRtbCA6ICcnCiAgICAgICAgICB9KTsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcjJyArIG4pOwogICAgICAgICAgICovCiAgICAgICAgfQogICAgICB9LAogICAgICBoYWNraW50b3NoX3pvbmUgOiB7CiAgICAgICAgLy8gYnk6IEFsZXhhbmRlcjI1NQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWhhY2tpbnRvc2guem9uZQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlMi5vcmcvRG5COU9qNGYKICAgICAgICBob3N0IDogWydoYWNraW50b3NoLnpvbmUnXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdOwogICAgICAgICAgLy8gRmFrZSBHb29nbGUgYWQgZnJhbWUgY29udGVudAogICAgICAgICAgdmFyIGFkMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucyIpOwogICAgICAgICAgYWQxLmNsYXNzTmFtZSA9ICJhZHNieWdvb2dsZSI7CiAgICAgICAgICBhZDEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIkFBSyIpKTsKICAgICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKGFkMSwgaGVhZC5jaGlsZE5vZGVzWzBdKTsKCiAgICAgICAgICAvKgogICAgICAgICAgLy8gRmFrZSBDbGVhbk15TWFjIGFkIGZyYW1lIHNpemUKICAgICAgICAgIHZhciBhZDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgIGFkMi5pZCAgPSAibnljdWhldmdxaSI7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYWQyLndyYXBwZWRKU09iamVjdCwgJ2NsaWVudEhlaWdodCcsIHt2YWx1ZTogMX0pOwogICAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoYWQyLCBoZWFkLmNoaWxkTm9kZXNbMF0pOwogICAgICAgICAgICovCgogICAgICAgICAgdmFyIGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFkc2Vuc2VncmV5Jyk7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CiAgICAgICAgICAgIG5vZGUuc3JjID0gQWFrLmltZ0JhaXQ7CiAgICAgICAgICAgIGVsZW1zW2ldLmFwcGVuZENoaWxkKG5vZGUpOwogICAgICAgICAgfQoKICAgICAgICB9LAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgY29udGFpbnMgOiAnZGlzYWJsZSBBREJsb2NrIGNvbXBsZXRlbHknLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJpdmF0ZWluc3RhX2NvbSA6IHsKICAgICAgICBob3N0IDogWydwcml2YXRlaW5zdGEuY29tJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gKyBhYnAgcnVsZQogICAgICAgICAgQWFrLnV3LmRvbnRfc2Nyb2xsID0gZmFsc2U7CiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgiI292ZXJsYXlfZGl2Iik7CiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgiI292ZXJsYXlfbWFpbl9kaXYiKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJpc2lrb2dlc3VuZGhlaXRfZGUgOiB7CiAgICAgICAgaG9zdCA6IFsncmlzaWtvLWdlc3VuZGhlaXQuZGUnXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgd2luZG93LnN0b3AoKTsKICAgICAgICAgIH0sIDUwMDApOwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25lcGxheWxpc3RfZXVfcG4gOiB7CiAgICAgICAgaG9zdCA6IFsnb25lcGxheWxpc3QuZXUucG4nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBraWxsIHBvcHVuZGVyCiAgICAgICAgICBBYWsudXcubWFrZVBvcHVuZGVyID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9LAogICAgICBvbm1lZGFfZGUgOiB7CiAgICAgICAgLy8gbm90ZTogc2NyaXB0IG9iZnVzY2F0ZWQgbGluZSAxMTEwCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZm9ydW0vZGlzY3Vzc2lvbi84NTc2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwNjcKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vcWY0NmJOM3oKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vUndIeUYwTkwKICAgICAgICBob3N0IDogWydvbm1lZGEuZGUnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy4kQURQID0gdHJ1ZTsKICAgICAgICAgIEFhay51dy5zYXNfY2FsbEFkID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICBBYWsudXcuc2FzX2NhbGxBZHMgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHR1cmJvZGVicmlkZXVyX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTk5CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU2MwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy81MjYKICAgICAgICBob3N0IDogWyd0dXJib2RlYnJpZGV1ci5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICAgIHRhZyA6ICdkaXYnLAogICAgICAgICAgICBpZCA6ICdwdWJkaXJlY3RlJywKICAgICAgICAgICAgaHRtbCA6ICc8aW1nICBzcmM9IicgKyBBYWsuaW1nQmFpdCArICciLz48YSAgaHJlZj0iIyI+Jm5ic3A7PC9hPicsCiAgICAgICAgICAgIGFwcGVuZCA6ICdib2R5JwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICByb2NrZmlsZV9ldSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTI1NgogICAgICAgIGhvc3QgOiBbJ3JvY2tmaWxlLmV1J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmNyZWF0ZUVsZW1lbnQoewogICAgICAgICAgICB0YWcgOiAnaWZyYW1lJywKICAgICAgICAgICAgc3JjIDogJ2Fib3V0OmJsYW5rJywKICAgICAgICAgICAgc3R5bGUgOiAndmlzaWJpbGl0eTpoaWRkZW47JywKICAgICAgICAgICAgYXBwZW5kIDogJ2JvZHknCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpbmtidWNrc19hbnRpYWRibG9jayA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTMyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ2OQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yNzcKICAgICAgICAvLyB2MzogaHR0cDovL3Bhc3RlYmluLmNvbS8wZ2g4TE1HSAogICAgICAgIC8vIG5vdGU6IG5vIHNvbHV0aW9uLCBhbnRpLWFkYmxvY2sgZGlmZmljdWx0IHRvIGJ5cGFzcyAtLT4gaHR0cDovL3Bhc3RlYmluLmNvbS8xTlJxN1d2WgogICAgICAgIGhvc3QgOiBbJ2xpbmtidWNrcy5jb20nLCAnbWluaXVybHMuY28nLCAncGljYnVja3MuY29tJywgJ3BpY3R1cmVzZXRjLm5ldCcsICdwbGFjZXBpY3R1cmVzLmNvbScsICdwb29udG93bi5uZXQnLCAncXFjLmNvJywgJ3F2dm8uY29tJywgJ3JlYWxmaWxlcy5uZXQnLCAncnFxLmNvJywgJ3NlcmlvdXNkZWFscy5uZXQnLCAnc2VyaW91c2ZpbGVzLmNvbScsICdzZXJpb3VzdXJscy5jb20nLCAnc2V4cGFsYWNlLmdzJywgJ3RoZXNlYmxvZ3MuY29tJywgJ3RoZXNlZmlsZXMuY29tJywgJ3RoZXNlZm9ydW1zLmNvbScsICd0aG9zZWdhbGxlcmllcy5jb20nLCAndGlueWJ1Y2tzLm5ldCcsICd0aW55bGlua3MuY28nLCAndG5hYnVja3MuY29tJywgJ3R1YmV2aXJhbC5jb20nLCAndWJlcnBpY3ouY29tJywgJ3ViZXJ2aWR6LmNvbScsICd1YnVja3MubmV0JywgJ3VnYWxsZXJpZXMubmV0JywgJ3VsdHJhZmlsZXMubmV0JywgJ3VybGJlYXQubmV0JywgJ3VybHB1bHNlLm5ldCcsICd3aGFja3l2aWR6LmNvbScsICd5b3VmYXAubWUnLCAneXl2LmNvJywgJ3p4eG8ubmV0JywgJ3pmZi5jbycsICdsaW5rYnVja3NkbnMuY28nLCAnbWluaXVybHMuY29tJywgJ2R5by5ncycsICdnb25ldmlyYWwuY29tJywgJ2VhZnlmc3VoLm5ldCcsICdzYXNvbnRud2MubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIGRvIG5vdGhpbmcuLi4KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpbmtidWNrc192aXNpdHNjcmlwdCA6IHsKICAgICAgICAvLyBpc3N1ZToKICAgICAgICBob3N0IDogWydyZWZlcmVuY2VtZWdhLmNvbScsICdmcGFiZC5jb20nLCAnY3JhY2thY2MuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFNraXAgdmlzaXRTY3JpcHQgd2hlbiBzaXRlIHVzZSBDbG91ZEZsYXJlIFJvY2tldCBTY3JpcHQKICAgICAgICAgIEFhay5zZXRDb29raWUoJ19sYkdhdGVQYXNzZWQnLCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpbmtfdGwgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bGluay50bAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2ZyL2ZvcnVtL2Rpc2N1c3Npb24vODQzNwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS8xTWtDbm1MNwogICAgICAgIGhvc3QgOiBbJ2xpbmsudGwnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCcuYWRibG9jayB7IGhlaWdodDoxcHg7IH0nKTsKICAgICAgICAgIEFhay51dy5hZGJsb2NrZXIgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdzdHJlYW1fdmlkZW8gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzODIKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vRWlBUlZRWHQKICAgICAgICBob3N0IDogWyd3c3RyZWFtLnZpZGVvJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTdHlsZSgnI2FkaXYgeyBoZWlnaHQ6NHB4OyB9Jyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBfNHNoYXJlZF9jb20gOiB7CiAgICAgICAgaG9zdCA6IFsnNHNoYXJlZC5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBIaWRlICJEaXNhYmxlIEFkQmxvZGsiIG1lc3NhZ2VzCiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LnJlbW92ZSgianNCbG9ja0RldGVjdCIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJvX2RvbWFpbnMgOiB7CiAgICAgICAgaG9zdCA6IFsncHJvLXppay53cycsICdwcm8tdGVjdC53cycsICdwcm8tZGRsLndzJywgJ3Byby1zcG9ydC53cyddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aXNpdGVkZicsIHRydWUpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgndmlzaXRlZGgnLCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbXB0b2lyaGFyZHdhcmVfY29tIDogewogICAgICAgIGhvc3QgOiBbJ2NvbXB0b2lyLWhhcmR3YXJlLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmFkYmxvY2sgPSAnbm9uJzsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJha2Vyc2ZpZWxkX2NvbSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNjU3CiAgICAgICAgLy8gbm90ZTogYWxzbyBzb2x1dGlvbiB0byBBYWtMaXN0CiAgICAgICAgaG9zdCA6IFsnYmFrZXJzZmllbGQuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuQURfU0xPVF9SRU5ERVJFRCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBla3N0cmFibGFkZXRfZGsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9ZWtzdHJhYmxhZGV0CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1IwMjlYcENyCiAgICAgICAgaG9zdCA6IFsnZWtzdHJhYmxhZGV0LmRrJywgJ2ViLmRrJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuQURURUNIID0ge307CiAgICAgICAgfQogICAgICB9LAogICAgICBwY2dhbWVzX2Rvd25sb2FkX25ldCA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTQ1MQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2ZvcnVtL2Rpc2N1c3Npb24vOTMyOAogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9FQlZaZzNWQgogICAgICAgIGhvc3QgOiBbJ3BjZ2FtZXMtZG93bmxvYWQubmV0J10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuc2V0Q29va2llKCdub0FkYmxvY2tOaWNlTWVzc2FnZScsIDEpOwogICAgICAgICAgQWFrLnV3Lm1nQ2FuTG9hZDMwNTQ3ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxhY2hhaW5lbWV0ZW9fY29tIDogewogICAgICAgIC8vIG5vdGU6IGFsc28ga2lsbGVkIGJ5IEFha0xpc3QKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTkwCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI0NQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yMTUKICAgICAgICBob3N0IDogWydsYWNoYWluZW1ldGVvLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmpzX2xvYWRlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LAogICAgICBtYWM0ZXZlcl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzk5NwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS9SUW5DRVlLNgogICAgICAgIGhvc3QgOiBbJ21hYzRldmVyLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmNvcXVpbm91ID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBfNTI3OGJic19jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9NTI3OGJicy5jb20KICAgICAgICBob3N0IDogWyc1Mjc4YmJzLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Lm15YWFicGZ1bjEyID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICB0aGVzaW1zcmVzb3VyY2VfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPXRoZXNpbXNyZXNvdXJjZS5jb20KICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vREU5cmJqeFkKICAgICAgICBob3N0IDogWyd0aGVzaW1zcmVzb3VyY2UuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuZ2Fkc2l6ZSA9IHRydWU7CiAgICAgICAgICBBYWsudXcuaUhhdmVMb2FkZWRBZHMgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgeWVsbG93YnJpZGdlX2NvbSA6IHsKICAgICAgICBob3N0IDogWyd5ZWxsb3dicmlkZ2UuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuZmluYWxpemVQYWdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2FtZV9kZWJhdGVfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMzY2CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1V6c2lYMEZLCiAgICAgICAgaG9zdCA6IFsnZ2FtZS1kZWJhdGUuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRfYmxvY2tfdGVzdCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgYWRzY2VuZG1lZGlhIDogewogICAgICAgIGhvc3QgOiBbJ2Fkc2NlbmRtZWRpYS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gYWRzY2VuZG1lZGlhIC0gaHR0cHM6Ly93d3cuYWRzY2VuZG1lZGlhLmNvbS8KICAgICAgICAgIHZhciByZWYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykuaHJlZiA9IGRvY3VtZW50LnJlZmVycmVyOwogICAgICAgICAgdmFyIGhvc3QgPSBsb2NhdGlvbi5ob3N0OwogICAgICAgICAgdmFyIHBhdGggPSBsb2NhdGlvbi5wYXRobmFtZTsKICAgICAgICAgIGlmIChBYWsuY29udGFpbnMocGF0aCwgJy93aWRnZXRfYWRibG9jay5waHAnKSAmJiAhQWFrLmNvbnRhaW5zKHJlZi5ob3N0LCBob3N0KSkgewogICAgICAgICAgICAvLyBBdXRvIHJlcG9ydAogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0Fkc2NlbmRtZWRpYScsIHJlZi5ob3N0LCBob3N0KTsKICAgICAgICAgICAgLy8gTm90aWZpY2F0aW9uCiAgICAgICAgICAgIEFhay5ub3RpZmljYXRpb24oJ1lvdSBtdXN0IHN1YnNjcmliZSB0byA8Yj5BYWtMaXN0IChBbnRpLUFkYmxvY2sgS2lsbGVyICk8L2I+IDxhIGhyZWY9IicgKyBBYWsuc3Vic2NyaWJlVVJMICsgJyIgdGFyZ2V0PSJfYmxhbmsiPlN1YnNjcmliZTwvYT4nKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFkd29ya21lZGlhIDogewogICAgICAgIGhvc3QgOiBbJ2Fkd29ya21lZGlhLmNvbScsICdsb3h0ay5jb20nLCAnY29udGVudGxvY2tpbmduZXR3b3Jrcy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gQWRXb3JrTWVkaWEgLSBodHRwczovL3d3dy5hZHdvcmttZWRpYS5jb20vCiAgICAgICAgICB2YXIgcmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpLmhyZWYgPSBkb2N1bWVudC5yZWZlcnJlcjsKICAgICAgICAgIHZhciBob3N0ID0gbG9jYXRpb24uaG9zdDsKICAgICAgICAgIHZhciBwYXRoID0gbG9jYXRpb24ucGF0aG5hbWU7CiAgICAgICAgICBpZiAoQWFrLmNvbnRhaW5zKHBhdGgsICcvaGVscC9yZW1vdmVBQi5waHAnKSAmJiAhQWFrLmNvbnRhaW5zKHJlZi5ob3N0LCBob3N0KSkgewogICAgICAgICAgICAvLyBBdXRvIHJlcG9ydAogICAgICAgICAgICBBYWsuaW5mbygnQWR3b3JrbWVkaWEnLCByZWYuaG9zdCwgaG9zdCk7CiAgICAgICAgICAgIC8vIE5vdGlmaWNhdGlvbgogICAgICAgICAgICBBYWsubm90aWZpY2F0aW9uKCdZb3UgbXVzdCBzdWJzY3JpYmUgdG8gPGI+QWFrTGlzdCAoQW50aS1BZGJsb2NrIEtpbGxlciApPC9iPiA8YSBocmVmPSInICsgQWFrLnN1YnNjcmliZVVSTCArICciIHRhcmdldD0iX2JsYW5rIj5TdWJzY3JpYmU8L2E+Jyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAvLyBQbGF5ZXJzCiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgIGtpc3NhbmltZV9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ1MQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zODEKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMzAyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzI1NwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNzgKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTk2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU2CiAgICAgICAgaG9zdCA6IFsna2lzc2FuaW1lLmNvbScsICdraXNzYW5pbWUudG8nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gTWFza2luZyBhZHMKICAgICAgICAgIEFhay5hZGRTdHlsZSgnaWZyYW1lW2lkXj0iYWRzSWZybWUiXSwgLmRpdkNsb3NlQnV0IHsgZGlzcGxheTpub25lOyB9Jyk7CiAgICAgICAgICAvLyBTb2x1dGlvbiAxCiAgICAgICAgICBBYWsudXcuRG9EZXRlY3QyID0gbnVsbDsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAvLyBTb2x1dGlvbiAxIGFicCBydWxlCiAgICAgICAgICAvLyBAQHx8a2lzc2FuaW1lLmNvbV4kZWxlbWhpZGUKCiAgICAgICAgICB2YXIgZGl2Q29udGVudFZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RpdkNvbnRlbnRWaWRlbycpOwoKICAgICAgICAgIC8vIFNvbHV0aW9uIDIKICAgICAgICAgIGlmIChBYWsudXcuRG9EZXRlY3QyKSB7CiAgICAgICAgICAgIEFhay51dy5Eb0RldGVjdDIgPSBudWxsOwogICAgICAgICAgICBBYWsudXcuQ2hlY2tBZEltYWdlID0gbnVsbDsKICAgICAgICAgICAgQWFrLmluZm8oJ1NvbHV0aW9uIDInKTsKICAgICAgICAgIH0gLy9Tb2x1dGlvbiAzCiAgICAgICAgICBlbHNlIGlmIChkaXZDb250ZW50VmlkZW8pIHsKCiAgICAgICAgICAgIHZhciBkaXZEb3dubG9hZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXZEb3dubG9hZCcpLmNsb25lTm9kZSh0cnVlKTsKCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGRpdkNvbnRlbnRWaWRlby5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICBBYWsudXcuRG9IaWRlRmFrZSgpOwogICAgICAgICAgICAgIGRpdkNvbnRlbnRWaWRlby5hcHBlbmRDaGlsZChkaXZEb3dubG9hZCk7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJ2lmcmFtZVtpZF49ImFkc0lmcm1lIl0sIC5kaXZDbG9zZUJ1dCcpOwogICAgICAgICAgICAgIEFhay5pbmZvKCdTb2x1dGlvbiAzJyk7CiAgICAgICAgICAgIH0sIDU1MDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgS2lzc2NhcnRvb25fbWUgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ4OAogICAgICAgIGhvc3QgOiBbJ2tpc3NjYXJ0b29uLm1lJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcueGFabEUgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCdpZnJhbWVbaWRePSJhZHNJZnJtZSJdJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBvcGVubG9hZF9kb21haW5zIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPW9wZW5sb2FkCiAgICAgICAgaG9zdCA6IFsnb3BlbmxvYWQuY28nLCAnb3BlbmxvYWQuaW8nLCAnb3BlbmxvYWQudHYnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3LmFkYmxvY2sgPSBmYWxzZTsKICAgICAgICAgIEFhay51dy5hZGJsb2NrMiA9IGZhbHNlOwogICAgICAgICAgQWFrLnV3LnBvcEFkc0xvYWRlZCA9IHRydWU7CiAgICAgICAgICAvLyBoaWRlIGZha2UgcGxheSBidXR0b24gdXNlZCB0byBvcGVuIHBvcHVuZGVyCiAgICAgICAgICAvL0Fhay5hZGRTdHlsZSgnI3ZpZGVvb3ZlcmxheSB7IGRpc3BsYXk6bm9uZTsgfScpCiAgICAgICAgfQogICAgICB9LAogICAgICB5b3V3YXRjaF9vcmcgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9eW91d2F0Y2gKICAgICAgICAvLyB0ZXN0OiBodHRwOi8veW91d2F0Y2gub3JnL2VtYmVkLTU5cDdpM2Nka3NlMC00NTN4MzIwLmh0bWwKICAgICAgICAvLyB0ZXN0OiBodHRwOi8veW91d2F0Y2gub3JnLzU5cDdpM2Nka3NlMAogICAgICAgIGhvc3QgOiBbJ3lvdXdhdGNoLm9yZycsICdjaG91aGFhLmluZm8nLCAnYWh6YWhnNm9oYi5jb20nLCAnYWh6YWhnNm9oYi5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gc2tpcCBhbnRpLWFkYmxvY2sKICAgICAgICAgIEFhay51dy5hZHNTaG93UG9wdXAxID0gMTsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHJlbm92ZSBhZHMgKyBmYWtlIHBsYXkgYnV0dG9uCiAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnI3BsYXllcl9pbWosICNwbGF5ZXJfaW1qICsgZGl2W2lkXScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXhhc2hhcmVfY29tIDogewogICAgICAgIC8vIGJ5OiBXYXRpbGluCiAgICAgICAgLy8gcHVsbDogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9wdWxsLzUxOQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWV4YXNoYXJlLmNvbQogICAgICAgIC8vIHRlc3Q6ICBodHRwOi8vZXhhc2hhcmUuY29tL2dhbHcyZ2Uya3pzdgogICAgICAgIGhvc3QgOiBbJ2V4YXNoYXJlLmNvbScsICdjaGVmdGkuaW5mbycsICdib2plbTNhLmluZm8nLCAnYWppaGV6by5pbmZvJywgJ3lhaG1haWIzYWkuY29tJywgJ3lhaG1haWIzYWkuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHNraXAgYW50aS1hZGJsb2NrCiAgICAgICAgICBBYWsudXcuYWRzU2hvd1BvcHVwMSA9IDE7CiAgICAgICAgfSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyByZW5vdmUgYWRzICsgZmFrZSBwbGF5IGJ1dHRvbgogICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNwbGF5ZXJfZ2F6LCAjcGxheWVyX2dheiArIGRpdltpZF0nKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFuMW1lX3NlIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xOTAKICAgICAgICBob3N0IDogWydhbjFtZS5zZSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBBYWsudXcuaXNCbG9ja0FkczIgPSBmYWxzZTsKICAgICAgICAgIH0sIDEwMDAwKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGhxcV90diA6IHsgLy8gcHV0bG9ja2VyLmlzCiAgICAgICAgaG9zdCA6IFsnaHFxLnR2J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gKyBhYnAgcnVsZQogICAgICAgICAgLy8gaHR0cDovL2hxcS50di9wbGF5ZXIvZW1iZWRfcGxheWVyLnBocD92aWQ9UjNER0hHM0dLWFg3JmF1dG9wbGF5PW5vCiAgICAgICAgICBpZiAoJy9wbGF5ZXIvZW1iZWRfcGxheWVyLnBocCcgPT0gbG9jYXRpb24ucGF0aG5hbWUpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybVtpZF49ImZvcm0tIl0nKS5zdWJtaXQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIFBvbGFuZAogICAgICB3cF9kb21haW5zIDogewogICAgICAgIC8vIE5vdGU6IGRpc2FibGUgRWFzeVByaXZhY3kKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTU2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzkwNQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8zMDAKICAgICAgICBob3N0IDogWydiaXp0b2sucGwnLCAnd3AudHYnLCAnd3AucGwnLCAnc3BvcnRvd2VmYWt0eS5wbCcsICdrYWZldGVyaWEudHYnLCAna2FmZXRlcmlhLnBsJywgJy53cnp1dGEucGwnLCAncHVkZWxlay50dicsICdrb21lZGlvd28ucGwnLCAnc2ZvcmEucGwnLCAnYXV0b2tyYXRhLnBsJywgJ3Nwb3J0ZmFuLnBsJywgJ3dhd2Fsb3ZlLnBsJywgJ2hvdG1vbmV5LnBsJywgJ2FsZXNlcmlhbGUucGwnLCAnYmFib2wucGwnLCAnc25vYmthLnBsJywgJ25vY290eS5wbCcsICdtb25leS5wbCcsICdhYmN6ZHJvd2llLnBsJywgJ2dhZHpldG9tYW5pYS5wbCcsICdhdXRva3VsdC5wbCcsICdrb21vcmtvbWFuaWEucGwnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gcHJldmVudCBwb3B1cCBhbnRpLWFkYmxvY2sgZnJvbSBhYmN6ZHJvd2llLnBsCiAgICAgICAgICBBYWsuc2V0Q29va2llKCdBQkNBQkMnLCB0cnVlKTsKICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIAogICAgICAgICAgQWFrLmhhc0VsZW1lbnQoJy53cC1wbGF5ZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAKICAgICAgICAgICAgdmFyIHJlcGxhY2VQbGF5ZXJXUCA9IGZ1bmN0aW9uIChtaWQsIHBsYXllcikgewogICAgICAgICAgICAgIC8qIFJlcXVlc3QKICAgICAgICAgICAgICBodHRwOi8vZ2V0LndwLnR2Lz9taWQ9MTY2MTA1NgogICAgICAgICAgICAgIGh0dHA6Ly93cC50di9wbGF5ZXIvbWlkLDE2NjEwNTYsZW1iZWQuanNvbgogICAgICAgICAgICAgIGh0dHA6Ly9nZXQud3AudHYvP2Y9Mjg5NjQ2Mi4xNDI2MzI5MDU2OTA0Lmwud2VibSZybmQ9MQogICAgICAgICAgICAgIGh0dHBzOi8vd3AudHYvcGxheWVyL21pZCwxNzQ3MTE3LGVtYmVkLmpzb24KICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICBBYWsucmVxdWVzdCh7CiAgICAgICAgICAgICAgICB1cmwgOiAnaHR0cDovL3dwLnR2L3BsYXllci9taWQsJyArIG1pZCArICcsZW1iZWQuanNvbicsCiAgICAgICAgICAgICAgICBvbmxvYWQgOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXN1bHQucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShyZXMpOwogICAgICAgICAgICAgICAgICBBYWsubG9nKG9iaik7CgogICAgICAgICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgICAgICAgUGxheWVyLnZpZGVvanMocGxheWVyLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlIDogQWFrLmZpeFByb3RvY29sVVJMKG9iai5jbGlwLnVybFsxXS51cmwpLCAvLyBIRAogICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdmFyIHJlcGxhY2VQbGF5ZXJXcnp1dGEgPSBmdW5jdGlvbiAoa2V5LCBjaGFubmVsLCBlbGVtKSB7CiAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy53cnp1dGEucGwvbnBwL2VtYmVkL3dvbG5hcG9sc2thMi8wSTBIUTJtdXRKYwogICAgICAgICAgICAgICAgdXJsIDogJ2h0dHA6Ly93d3cud3J6dXRhLnBsL25wcC9lbWJlZC8nICsgY2hhbm5lbCArICcvJyArIGtleSwKICAgICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBKU09OLnBhcnNlKHJlcyk7CiAgICAgICAgICAgICAgICAgIEFhay5sb2cob2JqKTsKCiAgICAgICAgICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgICAgICAgICBQbGF5ZXIudmlkZW9qcyhlbGVtLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlIDogQWFrLmZpeFByb3RvY29sVVJMKG9iai51cmxbMF0udXJsKSwgLy9IRAogICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy8gVXNpbmcgYW4gZXh0ZXJuYWwgZmxhc2ggcGxheWVyIGlzIGltcG9zc2libGUgYmVjYXVzZSBwcm90ZWN0ZWQgYnkgY3Jvc3Nkb21haW4ueG1sCiAgICAgICAgICAgIHZhciBwbGF5ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndwLXBsYXllcicpOyAvLyAgI1BsYXllcjAsICNQbGF5ZXIxLCAjbWFpblBsYXllcgogICAgICAgICAgICBpZiAocGxheWVycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAvLyBmaXhidWcgZ21feGhyIGxvb3AgcmVxdWVzdCAtIGh0dHA6Ly90aW55dXJsLmNvbS9wcWE5aHRxCiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbGF5ZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgbWlkID0gbnVsbDsKICAgICAgICAgICAgICAgIHZhciBwbGF5ZXIgPSBwbGF5ZXJzW2ldOwogICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHBsYXllci5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgdmFyIHNjcmlwdCA9IHBsYXllci5wcmV2aW91c1NpYmxpbmc7CiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcignLnRpdGxlQ29udCBhLnRpdGxlJyk7CiAgICAgICAgICAgICAgICB2YXIgZW1iZWR2aWRlb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHRbc3JjKj0iL2VtYmVkX3ZpZGVvLmpzIl0nKTsKICAgICAgICAgICAgICAgIEFhay5sb2cocGxheWVyLCBwYXJlbnQsIHNjcmlwdCwgdGl0bGUpOwoKICAgICAgICAgICAgICAgIGlmIChlbWJlZHZpZGVvcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgLy8gcHVkZWxlay53cnp1dGEucGw6IGh0dHA6Ly90aW55dXJsLmNvbS9sOGpvNXYyCiAgICAgICAgICAgICAgICAgIC8vIHB1ZGVsZWsudHY6IGh0dHA6Ly90aW55dXJsLmNvbS9rbHl6aDZyLCBodHRwOi8vdGlueXVybC5jb20vejdmcjg5dgogICAgICAgICAgICAgICAgICAvLyBwdWRlbGVrLnR2ICh0cmlwbGUpOiBodHRwOi8vdGlueXVybC5jb20vbjliMjdvMgogICAgICAgICAgICAgICAgICAvLyBmaWxtLndwLnBsOiBodHRwOi8vdGlueXVybC5jb20vcTdrNWJ4cAogICAgICAgICAgICAgICAgICB2YXIgZW1iZWR2aWRlbyA9IGVtYmVkdmlkZW9zW2ldOwogICAgICAgICAgICAgICAgICB2YXIga2V5ID0gL2tleT0oXHcrKS8uZXhlYyhlbWJlZHZpZGVvLnNyYylbMV07CiAgICAgICAgICAgICAgICAgIHZhciBjaGFubmVsID0gL2xvZ2luPShcdyspLy5leGVjKGVtYmVkdmlkZW8uc3JjKVsxXTsKICAgICAgICAgICAgICAgICAgdmFyIGF1dG9zdGFydCA9IC9hdXRvcGxheS8udGVzdChlbWJlZHZpZGVvLnNyYyk7CiAgICAgICAgICAgICAgICAgIHJlcGxhY2VQbGF5ZXJXcnp1dGEoa2V5LCBjaGFubmVsLCBwbGF5ZXIsIGF1dG9zdGFydCk7CiAgICAgICAgICAgICAgICAgIEFhay5sb2coJ2VtYmVkX3ZpZGVvLmpzJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRpdGxlICYmIC9taWQvLnRlc3QodGl0bGUuaHJlZikpIHsKICAgICAgICAgICAgICAgICAgLy8gc3BvcnRvd2VmYWt0eS5wbDogaHR0cDovL3Rpbnl1cmwuY29tL2w2emFiY3gKICAgICAgICAgICAgICAgICAgbWlkID0gdGl0bGUuaHJlZi5tYXRjaCgvbWlkWz0sXShbMC05XSspLyk7CiAgICAgICAgICAgICAgICAgIEFhay5sb2coJ3RpdGxlLmhyZWYnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW50LmlkKSB7CiAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuZGF0YXNldC51cmwpIHsKICAgICAgICAgICAgICAgICAgICAvLyB3cC50djogaHR0cDovL3Rpbnl1cmwuY29tL3B6ZGUyOXQKICAgICAgICAgICAgICAgICAgICBtaWQgPSBwYXJlbnQuZGF0YXNldC51cmwubWF0Y2goL21pZFs9LF0oWzAtOV0rKS8pOwogICAgICAgICAgICAgICAgICAgIEFhay5sb2coJ3BhcmVudC5kYXRhc2V0LnVybCcpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQucHJldmlvdXNTaWJsaW5nLmlubmVySFRNTCkgewogICAgICAgICAgICAgICAgICAgICAgLy8gd2lhZG9tb3NjaS53cC5wbDogaHR0cDovL3Rpbnl1cmwuY29tL2dxdHQ5Y2EKICAgICAgICAgICAgICAgICAgICAgIG1pZCA9IHBhcmVudC5wcmV2aW91c1NpYmxpbmcuaW5uZXJIVE1MLm1hdGNoKC9taWRbPSxdKFswLTldKykvKTsKICAgICAgICAgICAgICAgICAgICAgIEFhay5sb2coJ3NjcmlwdC5pbmxpbmUuaW5uZXJIVE1MJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIGthZmV0ZXJpYS50djogaHR0cDovL3Rpbnl1cmwuY29tL25vZnA1OGEKICAgICAgICAgICAgICAgICAgICAgIC8vIGFiY3pkcm93aWUucGw6IGh0dHA6Ly90aW55dXJsLmNvbS9oeDZzNWV0CiAgICAgICAgICAgICAgICAgICAgICBtaWQgPSBwYXJlbnQuaW5uZXJIVE1MLm1hdGNoKC9taWRbPSxdKFswLTldKykvKTsKICAgICAgICAgICAgICAgICAgICAgIEFhay5sb2coJ3BhcmVudC5pbm5lckhUTUwnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2NyaXB0ICYmIHNjcmlwdC50YWdOYW1lID09ICdTQ1JJUFQnKSB7CiAgICAgICAgICAgICAgICAgIC8vIGZpbG0ud3AucGw6IGh0dHA6Ly90aW55dXJsLmNvbS9taDlvbmZ3CiAgICAgICAgICAgICAgICAgIC8vIHB1ZGVsZWsudHYgKGRvdWJsZSk6IGh0dHA6Ly90aW55dXJsLmNvbS9sZWZ2d3R4CiAgICAgICAgICAgICAgICAgIG1pZCA9IHNjcmlwdC5pbm5lckhUTUwubWF0Y2goL21pZFs9LF0oWzAtOV0rKS8pOwogICAgICAgICAgICAgICAgICBBYWsubG9nKCdzY3JpcHQuc3JjLmlubmVySFRNTCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG1pZCAhPT0gbnVsbCAmJiBtaWQubGVuZ3RoID09IDIpIHsKICAgICAgICAgICAgICAgICAgcmVwbGFjZVBsYXllcldQKG1pZFsxXSwgcGxheWVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbW9qZV9maWxteV9uZXR3b3JrOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwMTAKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vN0cyUkJucXEKICAgICAgICBob3N0IDogWydtb2plLWZpbG15LnRrJywgJ21vamUtZmlsbXkubGl2ZSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBzZWFyY2h2YWx1ZSA9IFsndmFyIHBsYXllckluc3RhbmNlJywgJ30pOyddOwogICAgICAgICAgdmFyIHNjcmlwdCA9IEFhay5oYXNTY3JpcHQoc2VhcmNodmFsdWVbMF0pOwoKICAgICAgICAgIGlmIChzY3JpcHQpIHsKICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHNjcmlwdC5pbm5lckhUTUw7CiAgICAgICAgICAgIHZhciBzdHIgPSBzb3VyY2Uuc3Vic3RyaW5nKHNvdXJjZS5sYXN0SW5kZXhPZihzZWFyY2h2YWx1ZVswXSksIHNvdXJjZS5sYXN0SW5kZXhPZihzZWFyY2h2YWx1ZVsxXSkgKyBzZWFyY2h2YWx1ZVsxXS5sZW5ndGgpOwogICAgICAgICAgICBBYWsuYWRkU2NyaXB0KHN0cik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICB0dm5fcGwgOiB7CiAgICAgICAgLy8gYnk6IFJlZWssIE1hcmVrCiAgICAgICAgLy8gc29sdXRpb246IGh0dHA6Ly90aW55dXJsLmNvbS9vaGJ2ejRyLCBodHRwOi8vdGlueXVybC5jb20vanE4czQ2MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPXR2bi5wbAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPXR2bjI0LnBsCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9cGxheWVyLnBsCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL282ZDloNjYsIGh0dHA6Ly90aW55dXJsLmNvbS96NzdtNHpoCiAgICAgICAgaG9zdCA6IFsndHZuLnBsJywgJ3R2bjI0LnBsJywgJ3BsYXllci5wbCddLAogICAgICAgIG9uRW5kIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmhhc0VsZW1lbnQoJ2hlYWRlci5kZXRhaWxJbWFnZScsIGZ1bmN0aW9uICh0aGlzRWxlbWVudCkgewogICAgICAgICAgICBpZiAoQWFrLmdldENvb2tpZSgnY291bnRyeV9jb2RlJykgJiYgQWFrLmdldFNlc3Npb24oJ2dlbmVyYXRlVG9rZW4nKSkgewogICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdCgvWy4sXS8pOwogICAgICAgICAgICAgICAgdmFyIGlkID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMl07CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBwbGF0Zm9ybSA6ICJNb2JpbGUiLAogICAgICAgICAgICAgICAgICB0ZXJtaW5hbCA6ICJBbmRyb2lkIiwKICAgICAgICAgICAgICAgICAgZm9ybWF0IDogImpzb24iLAogICAgICAgICAgICAgICAgICB2IDogIjIuMCIsCiAgICAgICAgICAgICAgICAgIGF1dGhLZXkgOiAiYjRiYzk3MTg0MGRlNjNkMTA1YjMxNjY0MDNhYTFiZWEiLAogICAgICAgICAgICAgICAgICB0eXBlIDogImVwaXNvZGUiLAogICAgICAgICAgICAgICAgICBpZCA6IGlkLAogICAgICAgICAgICAgICAgICBzb3J0IDogIm5ld2VzdCIsCiAgICAgICAgICAgICAgICAgIG0gOiAiZ2V0SXRlbSIsCiAgICAgICAgICAgICAgICAgIGRldmljZVNjcmVlbkhlaWdodCA6IDE2MDAsCiAgICAgICAgICAgICAgICAgIGRldmljZVNjcmVlbldpZHRoIDogMjU2MAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHZhciBhcGkgPSAnaHR0cHM6Ly9hcGkudHZucGxheWVyLnBsL2FwaS8/JyArIEFhay5zZXJpYWxpemUocGFyYW1zKTsKICAgICAgICAgICAgICAgIHZhciBwcm94eSA9ICdodHRwOi8vd3d3LnByb3h5LnhtYy5wbC9pbmRleC5waHA/aGw9M2U1JnE9JzsJCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEdldCB2aWRlb1VybAogICAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICAgICAgICB1cmwgOiBBYWsuZ2V0Q29va2llKCdjb3VudHJ5X2NvZGUnKSAhPSAnUEwnID8gcHJveHkgKyBBYWsuZW5jb2RlVVJJKGFwaSkgOiBhcGksCiAgICAgICAgICAgICAgICAgIGhlYWRlcnMgOiB7CiAgICAgICAgICAgICAgICAgICAgIlVzZXItQWdlbnQiIDogIk1vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCA0LjI7IGVuLXVzOyBOZXh1cyAxMCBCdWlsZC9KVlAxNUkpIEFwcGxlV2ViS2l0LzUzNC4zMCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIFNhZmFyaS81MzQuMzAiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gcmVzdWx0LnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgICBBYWsubG9nKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBKU09OLnBhcnNlKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZGVvVXJsID0gby5pdGVtLnZpZGVvcy5tYWluLnZpZGVvX2NvbnRlbnRbTnVtYmVyKEFhay5vcHRzLnZpZGVvSEQpXS51cmw7CiAgICAgICAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlVG9rZW4gPSBuZXcgRnVuY3Rpb24oJ3ZpZGVvVXJsJywgQWFrLmdldFNlc3Npb24oJ2dlbmVyYXRlVG9rZW4nKSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZGVvVXJsV2l0aFNlZWQgPSBnZW5lcmF0ZVRva2VuKHZpZGVvVXJsKTsKICAgICAgICAgICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgICAgICAgICBQbGF5ZXIudmlkZW9qcyh0aGlzRWxlbWVudCwgewogICAgICAgICAgICAgICAgICAgICAgc291cmNlIDogdmlkZW9VcmxXaXRoU2VlZCwKICAgICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0sIHt9LCB7aW5zZXJ0Oidpbm5lcid9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoeyAvLyBnZXQgYW5kIHN0b3JlIGdlbmVyYXRlVG9rZW4gZnVuY3Rpb24KICAgICAgICAgICAgICAgIHVybCA6ICdodHRwOi8vcGFzdGViaW4uY29tL3Jhdy9EOXFNNERSMycsCiAgICAgICAgICAgICAgICBvbmxvYWQgOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgQWFrLnNldFNlc3Npb24oJ2dlbmVyYXRlVG9rZW4nLCByZXMpOwogICAgICAgICAgICAgICAgICBBYWsucmVxdWVzdCh7IC8vIGdldCB1c2VyIGlwCiAgICAgICAgICAgICAgICAgICAgdXJsIDogJ2h0dHA6Ly9pcC1hcGkuY29tL2pzb24nLAogICAgICAgICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXMpOwogICAgICAgICAgICAgICAgICAgICAgQWFrLnNldENvb2tpZSgnY291bnRyeV9jb2RlJywganNvbi5jb3VudHJ5Q29kZSk7CiAgICAgICAgICAgICAgICAgICAgICBBYWsucmVmcmVzaCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaXBsYV90diA6IHsKICAgICAgICAvLyBieTogTWFyZWsKICAgICAgICAvLyBzb2x1dGlvbjogaHR0cDovL3Rpbnl1cmwuY29tL3B0YjR5YmcKICAgICAgICAvLyBpc3N1ZS4gaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTIyCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL2h6N2dweHgKICAgICAgICBob3N0IDogWydpcGxhLnR2J10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCcuaHRtbDUtcGxheWVyLXdyYXBwZXIgeyBkaXNwbGF5Om5vbmU7IH0nKTsgLy8gY2hyb21lL29wZXJhCiAgICAgICAgICB2YXIgb2xkUGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh0bWw1LXBsYXllci13cmFwcGVyLCAjdm9kLXBsYXllcicpOwogICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICB1cmwgOiAnL1ZPRC9wbGF5LWluLWlwbGEvJyArIGxvY2F0aW9uLmhyZWYubWF0Y2goL1wvdm9kLShcZCspLylbMV0sCiAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICB2YXIgdmlkZW9VUkw7CiAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgdmFyIGlkbiA9IHJlcy5tYXRjaCgvaXBsYTpcL1wvcGxheXZvZC0xXHwoW2EtejAtOV0rKS8pWzFdOwogICAgICAgICAgICAgIEFhay5sb2coaWRuKTsKICAgICAgICAgICAgICBBYWsucmVxdWVzdCh7CiAgICAgICAgICAgICAgICB1cmwgOiAnaHR0cDovL2dldG1lZGlhLnJlZGVmaW5lLnBsL3ZvZHMvZ2V0X3ZvZC8/Y3BpZD0xJnVhPW1pcGxhLzIzJm1lZGlhX2lkPScgKyBpZG4sCiAgICAgICAgICAgICAgICBvbmxvYWQgOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXN1bHQucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgICB2YXIgbyA9IEpTT04ucGFyc2UocmVzKTsKICAgICAgICAgICAgICAgICAgQWFrLmxvZyhvKTsKICAgICAgICAgICAgICAgICAgaWYgKG8udm9kLnZpZGVvX2hkKSB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9VUkwgPSBvLnZvZC52aWRlb19oZDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvLnZvZC52aWRlbykgewogICAgICAgICAgICAgICAgICAgIHZpZGVvVVJMID0gby52b2QudmlkZW87CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9VUkwgPSBvLnZvZC5jb3BpZXNbMF0udXJsOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgICAgICAgUGxheWVyLnZpZGVvanMob2xkUGxheWVyLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlIDogdmlkZW9VUkwsCiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICdtcDQnLAogICAgICAgICAgICAgICAgICAgIHdpZHRoIDogODIwLAogICAgICAgICAgICAgICAgICAgIGhlaWdodCA6IDQ1MCwKICAgICAgICAgICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGtvc2NpYW5fbmV0IDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy85MTQKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20veUdTUEJScWUKICAgICAgICBob3N0IDogWydrb3NjaWFuLm5ldCddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYW4nKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgZWxlbXNbaV0ucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vZWxlbXNbaV0uaW5uZXJIVE1MID0gJzxicj4nOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gRnJhbmNlCiAgICAgIHBsYXl0dl9mciA6IHsgLy8gcmVzZWFyY2ggc29sdXRpb24KICAgICAgICBob3N0IDogWydwbGF5LnR2JywgJ3BsYXl0di5mciddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkge30sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7fQogICAgICB9LAogICAgICBybWNzcG9ydGJmbXR2X2NvbSA6IHsgLy8gd2VicmFkaW8KICAgICAgICBob3N0IDogWydybWNzcG9ydC5iZm10di5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgdmFyIGZsYXNodmFycyA9IHsKICAgICAgICAgICAgdXJsUmFkaW8gOiAiaHR0cDovL21wM2xnNC50ZGYtY2RuLmNvbS8xMDE2MC9ybWMubXAzIiwKICAgICAgICAgICAgbm9tIDogImxpdmUiLAogICAgICAgICAgICBjYXRlZ29yaWUgOiAibGl2ZSIsCiAgICAgICAgICAgIHVybFNtYXJ0IDogIiIgLy8gc2V0IGVtcHR5IHRvIHJlbW92ZSBhdWRpbyBhZAogICAgICAgICAgfTsKICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgIHdtb2RlIDogInRyYW5zcGFyZW50IgogICAgICAgICAgfTsKCiAgICAgICAgICBBYWsudXcuc3dmb2JqZWN0LmVtYmVkU1dGKCIvc3dmL1JNQ0xJVkUuc3dmIiwgImxpdmVwbGF5ZXIiLCAiNzAiLCAiOTAiLCAiMTAuMC4wIiwgIiIsIGZsYXNodmFycywgcGFyYW1zKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGVjbHlwc2lhX2NvbSA6IHsKICAgICAgICBob3N0IDogWydlY2x5cHNpYS5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFNvbHV0aW9uIDEKICAgICAgICAgIC8vIGFicCBydWxlcwoKICAgICAgICAgIC8vIFNvbHV0aW9uIDIKICAgICAgICAgIEFhay51dy5pc0FCQWN0aXZhdGVkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9OyAvLyBLaWxsIGFudGlhZGJsb2NrCiAgICAgICAgICBBYWsudXcucmVmcmVzaF9pZnJhbWUgPSBmdW5jdGlvbiAoKSB7fTsgLy8gU3RvcCBhZHMgdG8gYmUgbG9hZGVkCiAgICAgICAgfSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFNvbHV0aW9uIDMKICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2W2lkXj0id2VidHZfaWZyYW1lXyJdJyk7CiAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gbnVsbCkgewogICAgICAgICAgICB2YXIgdmlkZW9JZCA9IGVsZW1lbnQuaWQuc3BsaXQoJ18nKVsyXTsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnPGlmcmFtZSBmcmFtZWJvcmRlcj0iMCIgd2lkdGg9IjgxMiIgaGVpZ2h0PSI1MDAiIHNyYz0iaHR0cDovL3d3dy5kYWlseW1vdGlvbi5jb20vZW1iZWQvdmlkZW8vJyArIHZpZGVvSWQgKyAnP2xvZ289MCZhdXRvUGxheT0xJmF1dG9NdXRlPTAiPjwvaWZyYW1lPic7CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgbTZ3ZWJfZnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzQ2MQogICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly90aW55dXJsLmNvbS9wdG4ydnJsCiAgICAgICAgaG9zdCA6IFsnbTZ3ZWIuZnInXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBwbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdvYmplY3RbaWQkPSJfZmxhc2hfYXBpIl0nKTsKICAgICAgICAgIHZhciBzY3JpcHQgPSBBYWsuaGFzU2NyaXB0KCdNNi5QbGF5ZXIuY29uZmlnJyk7CgogICAgICAgICAgaWYgKHBsYXllciAhPT0gbnVsbCAmJiBzY3JpcHQgIT09IG51bGwpIHsKICAgICAgICAgICAgdmFyIGZvdW5kID0gc2NyaXB0LmlubmVySFRNTC5tYXRjaCgvTTYuUGxheWVyLmNvbmZpZyA9IChcey4rXH0pOy8pOwogICAgICAgICAgICB2YXIgY29uZmlnID0gSlNPTi5wYXJzZShmb3VuZC5wb3AoKSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSZXBsYWNlIHBsYXllcgogICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgUGxheWVyLnZpZGVvanMocGxheWVyLnBhcmVudE5vZGUsIHsKICAgICAgICAgICAgICBzb3VyY2UgOiBjb25maWcuc291cmNlc1sxXS5zcmMsCiAgICAgICAgICAgICAgdHlwZSA6ICdtcDQnLAogICAgICAgICAgICAgIGF1dG9wbGF5IDogZmFsc2UKICAgICAgICAgICAgfSk7CgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2FtaW5ncm9vbV90diA6IHsKICAgICAgICBob3N0IDogWydnYW1pbmdyb29tLnR2J10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRibG9ja19kZXRlY3QgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5HUl9hZGJsb2NrX2hpZGVfdmlkZW8gPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5hZGJsb2NrX3ZpZGVvX21zZ19zdGFydCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgICAgQWFrLnV3LmFkYmxvY2tfdmlkZW9fbXNnX3N0b3AgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgIEFhay51dy5kaXNhYmxlX2NoYXQgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIEdlcm1hbnkKICAgICAgbm93X2RvbWFpbnMgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzMzNgogICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly90aW55dXJsLmNvbS9wZWVvYm91CiAgICAgICAgLy8gdGVzdDogaHR0cDovL2pzYmluLmNvbS92dWNvYmVqb2ZvCiAgICAgICAgaG9zdCA6IFsndm94bm93LmRlJywgJ3J0bC1ub3cucnRsLmRlJywgJ3J0bDJub3cucnRsMi5kZScsICduLXR2bm93LmRlJywgJ3N1cGVycnRsbm93LmRlJywgJ3J0bG5pdHJvbm93LmRlJywgJ25vd3R2LmRlJ10sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLyoKICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgUGxheWVyLmVkaXRpbmcoJyN2aWRlb3BsYXllcicsIHsKICAgICAgICAgIHVuc2V0Rmxhc2h2YXJzIDogJ2FiY2hlY2tfZW5hYmxlZCxhZGNhbGwsYWRjbGFzc2VzLGFkY29uZmlnLGFkbWV0YSxhZHNsb2csYWdvZixhbWEsYW5nZWJvdCxhcyxhc3BhcnRzLGJyZWFrYWQsY29ubmVjdGlvbmNoZWNrLGNzbG9nLGRldixkaW1tZXIsZXJyb3Jsb2csZmVlZGJhY2ssZm1zaWRlbnQsZ3R2LGhpZ2hsaWdodHMsaXZ3LGl2d19wbGF5LGpzLGpzX2V2ZW50X2Z1bmN0aW9uLGxvZ28sbG9nb19iYXNld2lkdGgsbG9nb3BvcyxuaWVsc2VuLG9yZCxvc21mLHN2bSx0aWxlLHZpZGVvcGxhemEsdmlkZW9wbGF6YV9iYXNlX3VybCx2aWRlb3BsYXphX3NoYXJlLHZpZGVvcGxhemFfdGFnLHZwRW52aXJvbm1lbnRVUkwseGwnCiAgICAgICAgICB9KTsKICAgICAgICAgICAqLwogICAgICAgIH0KICAgICAgfSwKICAgICAgcnRsX2RlIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNTQxCiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL2g3Y2N2cXEKICAgICAgICBob3N0IDogWydydGwuZGUnXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbZGF0YS13aWRnZXQ9InZpZGVvIl0nKSkubWFwKGZ1bmN0aW9uICh2aWRlbykgewogICAgICAgICAgICB2YXIgY2ZnID0gQWFrLmludG9PYmplY3QodmlkZW8uZGF0YXNldC5wbGF5ZXJMYXllckNmZyk7CiAgICAgICAgICAgIHZhciBmaWxlID0gY2ZnLnZpZGVvaW5mby5tcDR1cmw7CiAgICAgICAgICAgIEFhay5sb2codmlkZW8sIGNmZywgZmlsZSk7CgogICAgICAgICAgICAvLyBSZXBsYWNlIHBsYXllcgogICAgICAgICAgICB2YXIgUGxheWVyID0gbmV3IEFhay5wbGF5ZXIoKTsKICAgICAgICAgICAgUGxheWVyLnZpZGVvanModmlkZW8sIHsKICAgICAgICAgICAgICBzb3VyY2UgOiBmaWxlLAogICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICBhdXRvcGxheSA6IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBteXNwYXNzX2RlIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy83NgogICAgICAgIC8vIHRlc3Q6IGh0dHA6Ly90aW55dXJsLmNvbS9sdG85cHlkCiAgICAgICAgaG9zdCA6IFsnbXlzcGFzcy5kZSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciB2aWRlb2lkID0gbG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL1wvKFxkKylcLyQvKTsKCiAgICAgICAgICBpZiAodmlkZW9pZCAhPT0gbnVsbCkgewogICAgICAgICAgICBBYWsucmVxdWVzdCh7CiAgICAgICAgICAgICAgdXJsIDogJ2h0dHA6Ly93d3cubXlzcGFzcy5kZS9teXNwYXNzL2luY2x1ZGVzL2FwcHMvdmlkZW8vZ2V0dmlkZW9tZXRhZGF0YXhtbC5waHA/aWQ9JyArIHZpZGVvaWRbMV0sCiAgICAgICAgICAgICAgb25sb2FkIDogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICBBYWsubG9nKHJlcyk7CgogICAgICAgICAgICAgICAgLy8gR2V0IHZpZGVvCiAgICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IHdpbmRvdy5ET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgIHZhciBkb20gPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJlcywgImFwcGxpY2F0aW9uL3htbCIpOwogICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBkb20uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInVybF9mbHYiKS5pdGVtKDApLnRleHRDb250ZW50OwoKICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBlbGVtZW50cwogICAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJ2Rpdi5sb2FkaW5nR2lmJyk7CgogICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBwbGF5ZXIKICAgICAgICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgICAgICAgUGxheWVyLnZpZGVvanMoJyNwbGF5ZXInLCB7CiAgICAgICAgICAgICAgICAgIHNvdXJjZSA6IGZpbGUsCiAgICAgICAgICAgICAgICAgIHR5cGUgOiAnbXA0JywKICAgICAgICAgICAgICAgICAgYXV0b3BsYXkgOiBmYWxzZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBOZWRlcmxhbmQKICAgICAgcnRseGxfbmwgOiB7CiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL2wyemt2M2QKICAgICAgICBob3N0IDogWydydGx4bC5ubCcsICdydGxuaWV1d3MubmwnXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgUGxheWVyLmVkaXRpbmcoJyNfcnRsb3NtZjAnLCB7CiAgICAgICAgICAgIHNldEZsYXNodmFycyA6IHsKICAgICAgICAgICAgICBhZGJsb2NrIDogZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBOb3J3YXkKICAgICAgdmd0dl9uZXR3b3JrIDogewogICAgICAgIC8vIG5vdGU6IHNraXAgdmlkZW8gYWRzICsgYW50aS1hZGJsb2NrCiAgICAgICAgLy8gandwbGF5ZXI6IGh0dHA6Ly90aW55dXJsLmNvbS96eXY3OWhnCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE0MDIKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMzY3CiAgICAgICAgLy8gdGVzdDogaHR0cDovL3Rpbnl1cmwuY29tL253cDg1dCwgaHR0cDovL3Rpbnl1cmwuY29tL253cDg1dAogICAgICAgIGhvc3QgOiBbJ3ZndHYubm8nLCAndmcubm8nXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBvbGRIYXNoID0gbnVsbDsKICAgICAgICAgIHZhciB2aWRlb0lkID0gbnVsbDsKICAgICAgICAgIHZhciB2aWRlb0lkUmVnZXggPSAvI1whXC92aWRlb1wvKFxkKylcLy87CgogICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGxvY2F0aW9uIGhhc2ggY2hhbmdlcwogICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcGxheWVyID0gQWFrLmdldEVsZW1lbnQoJy52aWRlby1wbGF5ZXInKTsKCiAgICAgICAgICAgIGlmIChwbGF5ZXIgJiYgbG9jYXRpb24uaGFzaCAhPSBvbGRIYXNoICYmIHZpZGVvSWRSZWdleC50ZXN0KGxvY2F0aW9uLmhhc2gpKSB7CiAgICAgICAgICAgICAgb2xkSGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgICAgICAgICAgdmlkZW9JZCA9IG9sZEhhc2gubWF0Y2godmlkZW9JZFJlZ2V4KVsxXTsKLyoKICAgICAgICAgICAgICB2YXIgaGxzdXJsID0gJ2h0dHBzOi8vc3Zwc2VjdXJlaGR2b2QtdmguYWthbWFpaGQubmV0L2kvMjAxNi8wMy8yMDE2MDMxMl81NmU0MjFmODZhZjQ1X3ZnMDEvLDEyODBfNzIwXzM1MDAsOTYwXzU0MF8xNTAwLDY0MF8zNjBfODAwLDQ4MF8yNzBfNTAwLC5tcDQuY3NtaWwvbWFzdGVyLm0zdTgnOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYXllcikKCiAgICAgICAgICAgICAgLy8gZG9uJ3Qgd29yayB3aXRoIGNocm9tZQogICAgICAgICAgICAgIC8vIHBsYXllci5pbm5lckhUTUwgPSAnPGRpdiBpZD0ibm9BZFBsYXllciI+VGhpcyB0ZXh0IHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBhIHBsYXllci48L2Rpdj4nOwoKCiAgICAgICAgICAgICAgLy8gY2FuJ3QgbG9hZCBtM3U4IDQwMzIgc3RhdHVzIGNvZGUKICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHVuc2FmZVdpbmRvdy5qd3BsYXllcikKCiAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICAgICAgdXJsIDogJ2h0dHA6Ly9zdnAudmcubm8vc3ZwL2FwaS92MS92Z3R2L2Fzc2V0cy8nICsgdmlkZW9JZCArICc/YWRkaXRpb25hbD1zZXR0aW5nc3xjaGFwdGVyc3xjdWVQb2ludHN8ZXh0ZXJuYWxJZHxiYXJyZWxzfGV4dGVybmFsQ2F0ZWdvcnlJZHxuZXh0QXNzZXQmYXBwTmFtZT12Z3R2LXdlYnNpdGUnLAogICAgICAgICAgICAgICAgb25sb2FkIDogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICB2YXIgcmVzID0gcmVzdWx0LnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IEpTT04ucGFyc2UocmVzKTsKICAgICAgICAgICAgICAgICAgQWFrLmxvZyhvYmopOwoKICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZSBwbGF5ZXIKICAgICAgICAgICAgICAgICAgdmFyIFBsYXllciA9IG5ldyBBYWsucGxheWVyKCk7CiAgICAgICAgICAgICAgICAgIFBsYXllci52bGMocGxheWVyLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlIDogb2JqLnN0cmVhbVVybHMuaGxzLCAvLyBtM3U4CiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICdobHMnLAogICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5IDogZmFsc2UKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwge30sIHsKICAgICAgICAgICAgICAgIGluc2VydCA6ICdpbm5lcicKICAgICAgICAgICAgICB9KTsKKi8KICAgICAgICAgICAgfQogICAgICAgICAgfSwgMWUzKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG10Z19yYWRpbyA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTQ5NQogICAgICAgIGhvc3QgOiBbJ3BsYXkucmFkaW8xLnNlJywgJ3BsYXkuYmFuZGl0LnNlJywgJ3BsYXkubHVnbmFmYXZvcml0ZXIuY29tJywgJ3BsYXkucml4Zm0uc2UnXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB3aW5kb3cucGxheWVyX2xvYWRfbGl2ZSh3aW5kb3cuc3RyZWFtX2lkKTsKICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRwbGF5X25ldHdvcmsgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE0NjMKICAgICAgICBob3N0IDogWydkcGxheS5jb20nLCAnZHBsYXkuZGsnLCAnZHBsYXkuc2UnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMzY1KTsKICAgICAgICAgIHZhciB0aW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKS50b1N0cmluZygpOwogICAgICAgICAgdmFyIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICJub3RpZmljYXRpb25TdWJtaXNzaW9uIiA6ICJzdWJtaXR0ZWQiLAogICAgICAgICAgICAgICJyZXBvcnRpbmdFeHBpcnkiIDogdGltZXN0YW1wLAogICAgICAgICAgICAgICJub3RpZmljYXRpb25FeHBpcnkiIDogdGltZXN0YW1wCiAgICAgICAgICAgIH0pOwogICAgICAgICAgQWFrLnNldENvb2tpZSgnZHNjLWFkYmxvY2snLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgICB2aWFzYXRfdHYgOiB7CiAgICAgICAgLy8gbm90ZTogc2tpcCB2aWRlbyBhZHMgKyBhbnRpLWFkYmxvY2sKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT10djNwbGF5CiAgICAgICAgLyogdGVzdDogaHR0cDovL3d3dy50djNwbGF5Lm5vL3Byb2dyYW1tZXIvcmVkbmluZ3Nza295dGEgaGRzL2hscwogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy50djNwbGF5LmRrL3Byb2dyYW1tZXIvbGluc2Utb2ctZGlkZGUtZWtzdHJhIGhkcy9obHMKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly93d3cudHYzcGxheS5zZS9wcm9ncmFtL2dsYW1vdXJhbWEgaGRzL2hscwogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy50djZwbGF5LnNlL3Byb2dyYW0vOTktc2FrZXItbWFuLW1hc3RlLWdvcmEtaW5uYW4tbWFuLWRvciBoZHMvaGxzCiAgICAgICAgICAgICAgICAgICBodHRwOi8vd3d3LnR2OHBsYXkuc2UvcHJvZ3JhbS9lZnRlcmx5c3QtLTEgaGRzL2hscwogICAgICAgICAgICAgICAgICAgaHR0cDovL3d3dy50djEwcGxheS5zZS9wcm9ncmFtL2dhcnBlbnMtZXVyb3BhIGhkcy9obHMKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly90dnBsYXkuc2thdGllcy5sdi9wYXJyYWlkZXMvdHYzLXppbmFzIGhkcy9obHMKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly9wbGF5LnR2My5sdC9wcm9ncmFtb3MvYmVhdG9zLXZpcnR1dmUgcnRtcC9obHMKICAgICAgICAgICAgICAgICAgIGh0dHA6Ly90djNwbGF5LnR2My5lZS9zaXN1L3B1aGFwYWV2LXNlcG9nYSBydG1wL2hscyAqLwogICAgICAgIGhvc3QgOiBbJ3R2M3BsYXkubm8nLCAndHYzcGxheS5kaycsICd0djNwbGF5LnNlJywgJ3R2NnBsYXkuc2UnLCAndHY4cGxheS5zZScsICd0djEwcGxheS5zZScsICd0dnBsYXkuc2thdGllcy5sdicsICdwbGF5LnR2My5sdCcsICd0djNwbGF5LnR2My5lZSddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5oYXNFbGVtZW50KCcjdmlkZW8tcGxheWVyJywgZnVuY3Rpb24gKHRoaXNFbGVtZW50KSB7CiAgICAgICAgICAgIHRoaXNFbGVtZW50LmlkID0gJyc7CiAgICAgICAgICAgIC8vdmFyIHZpZGVvSWQgPSBsb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLycpLnBvcCgpOwogICAgICAgICAgICB2YXIgdmlkZW9JZCA9IHRoaXNFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS12aWRlby1pZCcpOwogICAgICAgICAgICBBYWsubG9nKHRoaXNFbGVtZW50LCB2aWRlb0lkKTsKCiAgICAgICAgICAgIC8vIGdldCB2aWRlbyBzb3VyY2VzCiAgICAgICAgICAgIEFhay5yZXF1ZXN0KHsKICAgICAgICAgICAgICB1cmwgOiAnaHR0cDovL3BsYXlhcGkubXRneC50di92My92aWRlb3Mvc3RyZWFtLycgKyB2aWRlb0lkLAogICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXN1bHQucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgdmFyIG9iaiA9IEpTT04ucGFyc2UocmVzKTsKICAgICAgICAgICAgICAgIEFhay5sb2cob2JqKTsKCiAgICAgICAgICAgICAgICAvKiBJbm5ob2xkZXQgZHUgcHLDuHZlciDDpSBzZSBlciBrdW4gdGlsZ2plbmdlbGlnIGZvciBicnVrZXJlIGkgTm9yZ2UKICAgICAgICAgICAgICAgIFByb2dyYW1tZXQgZXIgYmxva2VyZXQgZm9yIHZpc25pbmcgZnJhIGRlbm5lIGdlb2dyYWZpc2tlIHBvc2l0aW9uLgogICAgICAgICAgICAgICAgUHJvZ3JhbcSFIGdhbGl0ZSBtYXR5dGkgdGlrIGp1bmdkYW1pZXNpIGnFoSBMaWV0dXZvcyBpbnRlcm5ldG8gdGlla8SXasWzIHRpbmtsxbMgKi8KICAgICAgICAgICAgICAgIGlmIChvYmoubXNnKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzRWxlbWVudC5pbm5lckhUTUwgPSBvYmoubXNnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAndHYzcGxheS50djMuZWUnKSB7CiAgICAgICAgICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgICAgICAgICBQbGF5ZXIuZ3JpbmRwbGF5ZXIodGhpc0VsZW1lbnQsIHsKICAgICAgICAgICAgICAgICAgICBzb3VyY2UgOiBvYmouc3RyZWFtcy5tZWRpdW0sCiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICdydG1wL21wNCcsCiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXkgOiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHZpZGVvIHRhZyBmb3IgbmV3IHBsYXllcgogICAgICAgICAgICAgICAgICBBYWsuY3JlYXRlRWxlbWVudCh7CiAgICAgICAgICAgICAgICAgICAgdGFnIDogJ3ZpZGVvJywKICAgICAgICAgICAgICAgICAgICBpZCA6ICdub0FkUGxheWVyJywKICAgICAgICAgICAgICAgICAgICBjbGFzc2lkIDogJ3ZpZGVvLWpzIHZqcy1kZWZhdWx0LXNraW4nLAogICAgICAgICAgICAgICAgICAgIHdpZHRoIDogdGhpc0VsZW1lbnQuY2xpZW50V2lkdGggfHwgNzMwLAogICAgICAgICAgICAgICAgICAgIGhlaWdodCA6IHRoaXNFbGVtZW50LmNsaWVudEhlaWdodCB8fCA0MTAsCiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZCA6ICdhdXRvJywKICAgICAgICAgICAgICAgICAgICBjb250cm9scyA6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXkgOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2UgOiB0aGlzRWxlbWVudAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIC8vIHBhcnNlIHNvdXJjZXMKICAgICAgICAgICAgICAgICAgdmFyIHNyY0FycmF5ID0gW107CiAgICAgICAgICAgICAgICAgIGlmIChvYmouc3RyZWFtcy5oaWdoICYmIG9iai5zdHJlYW1zLmhpZ2ggIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgc3JjQXJyYXkucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogInZpZGVvL21wNCIsIC8vIG1wNAogICAgICAgICAgICAgICAgICAgICAgc3JjIDogb2JqLnN0cmVhbXMuaGlnaAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9ICBpZiAob2JqLnN0cmVhbXMuaGxzICYmIG9iai5zdHJlYW1zLmhscyAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICBzcmNBcnJheS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGUgOiAiYXBwbGljYXRpb24veC1tcGVnVVJMIiwgLy8gbTN1OAogICAgICAgICAgICAgICAgICAgICAgc3JjIDogb2JqLnN0cmVhbXMuaGxzCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gIGlmIChvYmouc3RyZWFtcy5tZWRpdW0gJiYgb2JqLnN0cmVhbXMubWVkaXVtICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gb2JqLnN0cmVhbXMubWVkaXVtLmluZGV4T2YoJ3J0bXAnKSA9PT0gMCA/ICdydG1wL21wNCcgOiAnYXBwbGljYXRpb24vZjRtK3htbCc7CiAgICAgICAgICAgICAgICAgICAgc3JjQXJyYXkucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogdHlwZSwKICAgICAgICAgICAgICAgICAgICAgIHNyYyA6IG9iai5zdHJlYW1zLm1lZGl1bQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIEFhay5sb2coc3JjQXJyYXksIEpTT04uc3RyaW5naWZ5KHNyY0FycmF5KSk7CiAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIG5ldyBwbGF5ZXIKICAgICAgICAgICAgICAgICAgQWFrLmFkZFNjcmlwdChBYWsuaW50b1N0cmluZyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvblZqc1JlYWR5KCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93LnZpZGVvanMgIT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVmpzUmVhZHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnZpZGVvanMoIm5vQWRQbGF5ZXIiKS5zcmMoL19TT1VSQ0VTXy8pOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBvblZqc1JlYWR5KCk7CiAgICAgICAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICAgICAgICAgIH0pLnJlcGxhY2UoIi9fU09VUkNFU18vIiwgSlNPTi5zdHJpbmdpZnkoc3JjQXJyYXkpKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gUnVzc2lhCiAgICAgIHJ1dHViZV9ydSA6IHsgLy8gcmVzZWFyY2ggc29sdXRpb24KICAgICAgICAvKiB0ZXN0OiBodHRwOi8vcnV0dWJlLnJ1L3ZpZGVvL2JkNWY2MDQ3NjU3ZjBiZGNiZmJiMGVkYWQyYmI3YzYxLyAqLwogICAgICAgIGhvc3QgOiBbJ3J1dHViZS5ydSddLAogICAgICAgIG9uRW5kIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmhhc0VsZW1lbnQoJyNydXR1YmVQbGF5ZXJIb2xkZXInLCBmdW5jdGlvbiAoKSB7ICAgICAgICAgICAgLy9kbUZ5SUc5d2RITWdQU0JCWVdzdVoyVjBSV3hsYldWdWRDZ2lJMjl3ZEdsdmJuTWlLVHNOQ2lBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUJ2SUQwZ1FXRnJMbWx1ZEc5UFltcGxZM1FvYjNCMGN5NWtZWFJoYzJWMExuWmhiSFZsS1RzTkNpQWdJQ0FnSUNBZ0lDQWdJSFpoY2lCdE0zVTRWWEpzSUQwZ2J5NTJhV1JsYjE5aVlXeGhibU5sY2k1dE0zVTRPdzBLSUNBZ0lDQWdJQ0FnSUNBZ1kyOXVjMjlzWlM1c2IyY29iVE4xT0ZWeWJDazdEUW9OQ2lBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUJRYkdGNVpYSWdQU0J1WlhjZ1FXRnJMbkJzWVhsbGNpZ3BPdzBLSUNBZ0lDQWdJQ0FnSUNBZ1VHeGhlV1Z5TG5acFpHVnZhbk1vSnlOeWRYUjFZbVZRYkdGNVpYSkliMnhrWlhJbkxDQjdEUW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdjMjkxY21ObElEb2diVE4xT0ZWeWJDd05DaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjBlWEJsSURvZ0oyaHNjeWNzRFFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnTHk5d2NtOTRlVG9nZEhKMVpTd05DaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmhkWFJ2Y0d4aGVTQTZJSFJ5ZFdVTkNpQWdJQ0FnSUNBZ0lDQWdJQ0FnZlRzZ0tUcz0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gSXRhbHkKICAgICAgcmFpX3R2IDogeyAvLyByZXNlYXJjaCBzb2x1dGlvbgogICAgICAgIGhvc3QgOiBbJ3JhaS50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7fSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7fQogICAgICB9LAogICAgICAvLyBUViBTdHJlYW0KICAgICAgYmxvY2tfc3RyZWFtc190diA6IHsKICAgICAgICAvLyBub3RlOiByZWRpcmVjdCB0byBodHRwOi8vYmxvY2suc3RyZWFtcy50di8KICAgICAgICBob3N0IDogWydmaXJzdHJvdy5jbycsICdmaXJzdHJvd3MucnUnLCAnZmlyc3Ryb3dzLnR2JywgJ2ZpcnN0cm93cy5vcmcnLCAnZmlyc3Ryb3dzLmNvJywgJ2ZpcnN0cm93cy5iaXonLCAnZmlyc3Ryb3d1cy5ldScsICdmaXJzdHJvdzF1cy5ldScsICdmaXJzdHNyb3dzcG9ydHMuZXUnLCAnZmlyc3Ryb3dzcG9ydGVzLnR2JywgJ2ZpcnN0cm93c3BvcnRlcy5jb20nLCAnanVzdGZpcnN0cm93c3BvcnRzLmNvbScsICdoYWhhc3BvcnQubWUnLCAnd2l6aXdpZy5ydScsICd3aXppd2lnLnN4JywgJ3dpeml3aWcudG8nLCAnd2l6aXdpZy50dicsICdteXAycC5iaXonLCAnbXlwMnAudHYnLCAnbXlwMnAubGEnLCAnbXlwMnAuZWMnLCAnbXlwMnAuZXUnLCAnbXlwMnAuc3gnLCAnbXlwMnAud3MnLCAnbXlwMnAuY29tJywgJ2F0ZGhlLnJ1JywgJ2F0ZGhlLnNlJywgJ2F0ZGhlLmJ6JywgJ2F0ZGhlLnRvcCcsICdhdGRoZS50bycsICdhdGRoZS5tZScsICdhdGRoZS5teCcsICcgYXRkaGUubGknLCAnYXRkaGUuYWwnXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoImFkYiIsIDEpOyAvLyBwcmV2ZW50IGFudGktYWRibG9jawogICAgICAgICAgQWFrLnV3Lm9wZW4gPSBmdW5jdGlvbiAoKSB7fTsgLy8gcHJldmVudCBwb3B1cAogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYmFubmVySW5DZW50ZXIsICNoaWRkZW5CYW5uZXJDYW52YXMgeyBkaXNwbGF5OiBub25lOyB9Iik7IC8vIGhpZGUgYWRzCiAgICAgICAgfQogICAgICB9LAogICAgICBidXppbmFfeHl6IDogewogICAgICAgIC8vIG5vdGU6IGRpc2FibGUgcmVmY29udHJvbCwgdXNlZCBieSBmaXJzdHJvd3Nwb3J0cwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjY4CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyNDMKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODg5CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZm9ydW0vZGlzY3Vzc2lvbi84OTc1CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tLzhWVHJrdlM5CiAgICAgICAgaG9zdCA6IFsnYnV6aW5hLnh5eicsICdmYXJtZXQuaW5mbycsICdyaW1sYWRpLmNvbScsICdraXRvcmVsby5jb20nLCAnb21uaXBvbGEuY29tJywgJ3Bvcm9zaW4uY28udWsnLCAncmltbGVuby5jb20nLCAnc2ltcGxlNGFsbHMuY29tJywgJ2Fyc29wby5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIjYWRzZnJhbWUgeyBoZWlnaHQ6IDE1MXB4OyB9Iik7CiAgICAgICAgfSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoL2J1emluYS54eXovLnRlc3QobG9jYXRpb24uaG9zdCkpIHsgLy8ga2VlcHMgc2FtZSBob3N0IHN0cmVhbQogICAgICAgICAgICBBYWsuaGFzRWxlbWVudCgnaWZyYW1lW3NyYyo9Ii5waHA/aGFzaD0iXScsIGZ1bmN0aW9uICh0aGlzRWxlbWVudCkgewogICAgICAgICAgICAgIC8vIGh0dHA6Ly9hcnNvcG8uY29tL3cyLnBocD9oYXNoPXBhbmRhNTgKICAgICAgICAgICAgICAvLyBodHRwOi8vd3d3LmJ1emluYS54eXovbmFuYTF2MS5waHA/b250aGV0b3AKICAgICAgICAgICAgICB2YXIgcGFydHMgPSB0aGlzRWxlbWVudC5zcmMuc3BsaXQoJy8nKTsKICAgICAgICAgICAgICBwYXJ0c1syXSA9IEFhay5ydWxlcy5idXppbmFfeHl6Lmhvc3QucG9wKCk7CiAgICAgICAgICAgICAgQWFrLmxvZyh0aGlzRWxlbWVudCwgcGFydHMpOwogICAgICAgICAgICAgIHRoaXNFbGVtZW50LnNyYyA9IHBhcnRzLmpvaW4oJy8nKTsKCiAgICAgICAgICAgICAgICAvKglkbUZ5SUc4Z1BTQjdDZ2tKQ1NBZ0lDQWljR3hoZVd4cGMzUWlJRG9nVzNzS0NRa0pJQ0FnSUNBZ0lDQWljSEp2ZG1sa1pYSWlJRG9nSW5KMGJYQWlMQW9KQ1FrZ0lDQWdJQ0FnSUNKMWNtd2lJRG9nSW5CaGJtUmhNVDlsSlRORU1UUTJOVEEzTURNeU5pVXlObk4wSlRORVVISjBTRmw1ZGtKNlpEbGFaRGRvUkY5bVVraFVaekV4TVRFek1DSUtDUWtKSUNBZ0lDQWdmUW9KQ1FrZ0lDQWdYU3dLQ1FrSklDQWdJQ0p3YkhWbmFXNXpJaUE2SUhzS0NRa0pJQ0FnSUNBZ0luSjBiWEFpSURvZ2V3b0pDUWtnSUNBZ0lDQWdJQ0oxY213aUlEb2dJbVpzYjNkd2JHRjVaWEl1Y25SdGNDMHpMakl1TVRFdWMzZG1JaXdnQ2drSkNRa0pMeThpZFhKc0lqb2dJbWgwZEhBNkx5OXlaV3hsWVhObGN5NW1iRzkzY0d4aGVXVnlMbTl5Wnk5emQyWXZabXh2ZDNCc1lYbGxjaTV5ZEcxd0xUTXVNaTR4TVM1emQyWWlMQW9KQ1FrZ0lDQWdJQ0FnSUNKdVpYUkRiMjV1WldOMGFXOXVWWEpzSWlBNklDSnlkRzF3T2k4dk1UZzFMamd5TGpJeE5TNDBOVG96TlRjNUwzWnZaQzhpQ2drSkNTQWdJQ0FnSUgwc0Nna0pDU0FnSUNBZ0lDSmpiMjUwY205c2N5SWdPaUI3Q2drSkNRa2dJQ0FnSW5WeWJDSTZJQ0pvZEhSd09pOHZjbVZzWldGelpYTXVabXh2ZDNCc1lYbGxjaTV2Y21jdmMzZG1MMlpzYjNkd2JHRjVaWEl1WTI5dWRISnZiSE10TXk0eUxqRTJMbk4zWmlJc0lDOHZJR0ZrWkdWa0lHSmxZMkYxYzJVZ2JXbHpjMmx1WndvSkNRa2dJQ0FnSUNBZ0lDSndiR0Y1SWlBNklHWmhiSE5sTEFvSkNRa2dJQ0FnSUNBZ0lDSnpZM0oxWW1KbGNpSWdPaUJtWVd4elpRb0pDUWtnSUNBZ0lDQjlDZ2tKQ1NBZ0lDQjlMQW9KQ1FrZ0lDQWdJbkJzWVhsbGNrbGtJaUE2SUNKd2JHRjVaWElpTEFvSkNRa2dJQ0FnSW1Oc2FYQWlJRG9nZXdvSkNRa2dJQ0FnSUNBaWRYSnNJaUE2SUNKd1lXNWtZVEUvWlNVelJERTBOalV3TnpBek1qWWxNalp6ZENVelJGQnlkRWhaZVhaQ2VtUTVXbVEzYUVSZlpsSklWR2N4TVRFeE16QWlDZ2tKQ1NBZ0lDQjlDZ2tKQ1NBZ2ZRb0tDUWtKSUNCMllYSWdibVYzVlhKc0lEMGdjR0Z5ZEhNdWMyeHBZMlVvTUN3Z015a3VhbTlwYmlnbkx5Y3BJQ3NnSnk5bWJHOTNjR3hoZVdWeUxUTXVNaTR4Tmk1emQyWS9ZMjl1Wm1sblBTY2dLeUJsYzJOaGNHVW9TbE5QVGk1emRISnBibWRwWm5rb2J5a3BPd29KQ1FrZ0lDOHZkbUZ5SUc1bGQxVnliQ0E5SUNkb2RIUndPaTh2Y21Wc1pXRnpaWE11Wm14dmQzQnNZWGxsY2k1dmNtY3ZjM2RtTDJac2IzZHdiR0Y1WlhJdE15NHlMakUyTG5OM1pqOWpiMjVtYVdjOUp5QXJJR1Z6WTJGd1pTaEtVMDlPTG5OMGNtbHVaMmxtZVNodktTazdDZ2tKQ1NBZ1kyOXVjMjlzWlM1c2IyY29ibVYzVlhKc0tUc0tDUWtKSUNCMGFHbHpSV3hsYldWdWRDNXpjbU1nUFNCdVpYZFZjbXc3CiAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7IC8vIHNraXAgYW50aS1hZGJsb2NrCiAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcjYWRzZnJhbWUnKTsKICAgICAgICAgICAgQWFrLmdldEVsZW1lbnQoJyNyZW1vdmUtb3ZlcicpLmNsaWNrKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBhbGxteXZpZGVvc19uZXQgOiB7CiAgICAgICAgLy8gbm90ZTogb2JmdXNjYXRlZAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8yNzQKICAgICAgICBob3N0IDogWydhbGxteXZpZGVvcy5uZXQnLCAnYW12dHYubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHNraXAgZmFrZSBwbGF5IGJ1dHRvbgogICAgICAgICAgQWFrLnNldENvb2tpZSgnX2ZhdmJ0MzMnLCAxKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGlsaXZlX2RvbWFpbnMgOiB7CiAgICAgICAgaG9zdCA6IFsnaWxpdmUudG8nLCAnc3RyZWFtbGl2ZS50byddLAogICAgICAgIG9uRW5kIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKC9eXC9lbWJlZHBsYXllci5waHAvaS50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyBTa2lwIHRpbWVyCiAgICAgICAgICAgICAgQWFrLnV3LnJlbW92ZU92ZXJsYXlIVE1MKCk7CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgbWljYXN0X3R2IDogewogICAgICAgIGhvc3QgOiBbJ21pY2FzdC50diddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBwcmV2ZW50IHBvcHVuZGVyCiAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfbWFpbicsIHRydWUpOwogICAgICAgICAgQWFrLnNldENvb2tpZSgndmlkX3N1YicsIHRydWUpOwogICAgICAgICAgLy8gcmVtb3ZlIG92ZXJsYXkKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGlmICh3aW5kb3cucmVtb3ZlT3ZlcmxheUhUTUwpCiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlT3ZlcmxheUhUTUwoKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHhzdHJlYW1fdHYgOiB7CiAgICAgICAgaG9zdCA6IFsncHhzdHJlYW0udHYnXSwKICAgICAgICBvbkVuZCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICgvXlwvZW1iZWRyb3V0ZXIucGhwLy50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyBTa2lwIHRpbWVyIGFuZCBjbG9zZSBhZHMKICAgICAgICAgICAgICBBYWsudXcuY2xvc2VBZCgpOwogICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNhd2xpdmVfdHYgOiB7CiAgICAgICAgaG9zdCA6IFsnc2F3bGl2ZS50diddLAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICgvXlwvZW1iZWRcL3dhdGNoXC8vaS50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkgewogICAgICAgICAgICAvLyBTa2lwIHRpbWVyIGFuZCBjbG9zZSBhZHMKICAgICAgICAgICAgQWFrLnV3LmRpc3BsYXkgPSBmYWxzZTsKICAgICAgICAgICAgQWFrLnV3LmNsb3NlTXlBZCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgZ29vZGNhc3RfY28gOiB7CiAgICAgICAgaG9zdCA6IFsnZ29vZGNhc3QuY28nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoL15cL3N0cmVhbS5waHAvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIC8vIHJlbW92ZSBhZHMgYWxsb3dlZCBieSBlYXN5bGlzdAogICAgICAgICAgICBBYWsudXcuJCgiLmFkdmVydGlzZW1lbnQiKS5oaWRlKCk7CiAgICAgICAgICAgIEFhay51dy4kKCcuYWRza3kgaWZyYW1lJykuYXR0cigic3JjIiwgImFib3V0OmJsYW5rIik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBzaG93c3BvcnRfdHZfY29tIDogewogICAgICAgIGhvc3QgOiBbJ3Nob3dzcG9ydC10di5jb20nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoL15cL2NoLnBocC8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKICAgICAgICAgICAgLy8gcmVtb3ZlIGFkcyBhbGxvd2VkIGJ5IGVhc3lsaXN0CiAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KCcjYWR2ZXJ0aXNlbWVudCwgLmFkdmVydGlzZW1lbnQnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNoYXJlY2FzdF90byA6IHsKICAgICAgICBob3N0IDogWydzaGFyZWNhc3QudG8nXSwKICAgICAgICBvbklkbGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoL15cL2VtYmVkLnBocC8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKCiAgICAgICAgICAgIC8vIERpc2FibGUgcG9wdW5kZXJzCiAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIEFhay5zZXRDb29raWUoJ3ZpZF9tYWluJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfc3ViJywgMik7CiAgICAgICAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfZGVsYXknLCB0cnVlKTsKICAgICAgICAgICAgICB9LCAxMDApOwoKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgICAgIH0sIDUwMDApOwoKICAgICAgICAgICAgLy8gUmVtb3ZlIHRyYW5zcGFyZW50IG92ZXJsYXkKICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyN0YWJsZTEnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZpZGVvbWVnYV90diA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT12aWRlb21lZ2EKICAgICAgICBob3N0IDogWyd2aWRlb21lZ2EudHYnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKC9eXC92aWV3LnBocC8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKICAgICAgICAgICAgLy8gcHJldmVudCBwb3B1bmRlcgogICAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfbWFpbnB1JywgdHJ1ZSk7CiAgICAgICAgICAgIEFhay5zZXRDb29raWUoJ3ZpZF9zdWJwdScsIHRydWUpOwogICAgICAgICAgICBBYWsuc2V0Q29va2llKCd2aWRfZGVsYXknLCB0cnVlKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG9uRW5kIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8ga2lsbCBhYmMKICAgICAgICAgIC8vIGZpeCBidWcgb24gZmlyZWZveDogVGhlIHZpZGVvIGNvdWxkIG5vdCBiZSBsb2FkZWQsIGVpdGhlciBiZWNhdXNlIHRoZSBzZXJ2ZXIgb3IgbmV0d29yayBmYWlsZWQgb3IgYmVjYXVzZSB0aGUgZm9ybWF0IGlzIG5vdCBzdXBwb3J0ZWQuCiAgICAgICAgICB2YXIgc2NyaXB0ID0gQWFrLmhhc1NjcmlwdCgnUGxlYXNlIGRpc2FibGUgQWRCbG9jayBQbHVnaW4gdG8gd2F0Y2ggdGhlIHZpZGVvJyk7CiAgICAgICAgICBpZiAoc2NyaXB0KSB7CiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBzY3JpcHQuaW5uZXJIVE1MOwogICAgICAgICAgICB2YXIgc3Vic3RyaW5nID0gc291cmNlLnN1YnN0cmluZyhzb3VyY2UubGFzdEluZGV4T2YoJ2V2YWwoJyksIHNvdXJjZS5sYXN0SW5kZXhPZignKScpICsgMSk7CiAgICAgICAgICAgIHZhciBkZW9iZnVzY2F0ZWQgPSBBYWsudW5wYWNrU2NyaXB0KHN1YnN0cmluZyk7CiAgICAgICAgICAgIHZhciBuZXdTY3JpcHQgPSAnaWYoJytkZW9iZnVzY2F0ZWQuc3Vic3RyaW5nKGRlb2JmdXNjYXRlZC5pbmRleE9mKCd0cnVlJykpOwogICAgICAgICAgICBBYWsuYWRkU2NyaXB0KG5ld1NjcmlwdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBmbG93cGxheWVyX2FudGlhZGJsb2NrIDogewogICAgICAgIGhvc3QgOiBbJ3ZpZGVvZnVuLm1lJywgJ3ZpZGVvYnVnLm5ldCcsICd2aWRlbzQ0Lm5ldCcsICdwbGF5NDQubmV0JywgJ2J5em9vLm9yZycsICdwbGF5YmIubWUnLCAndmlkZW93aW5nLm1lJywgJ3ZpZGVvem9vLm1lJywgJ2Vhc3l2aWRlby5tZScsICdwbGF5cGFuZGEubmV0J10sCiAgICAgICAgb25FbmQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgCiAgICAgICAgICAvKgogICAgICAgICAgaHR0cDovL3d3dy5hbmltZXRvb24udHYvYmxhY2stbGFnb29uLWVwaXNvZGUtMQogICAgICAgICAgaHR0cDovL3ZpZGVvd2luZy5tZS9lbWJlZD93PTcxOCZoPTQzOCZ2aWRlbz1vbmdvaW5nL3l1LWdpLW9oX2FyYy12Xy1fNTMubXA0CiAgICAgICAgICBodHRwOi8vcGxheWJiLm1lL2VtYmVkLnBocD93PTcxOCZoPTQzOCZ2aWQ9YXQvbncveXUtZ2ktb2hfYXJjLXZfLV81My5tcDQKICAgICAgICAgIGh0dHA6Ly92aWRlb3pvby5tZS9lbWJlZC5waHA/dz03MTgmaD00MzgmdmlkPWF0L253L3l1LWdpLW9oX2FyYy12Xy1fNTMubXA0CiAgICAgICAgICBodHRwOi8vd3d3LmVhc3l2aWRlby5tZS9nb2dvLz93PTcxOCZoPTQzOCZmaWxlPXl1LWdpLW9oX2FyYy12Xy1fNTMubXA0JnN2PTEKICAgICAgICAgIGh0dHA6Ly9wbGF5cGFuZGEubmV0L2VtYmVkLnBocD93PTcxOCZoPTQzOCZ2aWQ9YXQvbncveXUtZ2ktb2hfYXJjLXZfLV81My5tcDQKICAgICAgICAgICAqLwoKICAgICAgICAgIC8vIGFsbG93IGZ1bGxzY3JlZW4gd2hlbiBhYnAgaXMgZW5hYmxlZCBhbmQgcmVtb3ZlIGFkIGxheWVyCiAgICAgICAgICAvLyBhZHMgYmxvY2tlZCBieSBhYnAgcnVsZQogICAgICAgICAgaWYgKC9eXC8oZW1iZWR8Z29nb3xncGx1cykvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgIHZhciBQbGF5ZXIgPSBuZXcgQWFrLnBsYXllcigpOwogICAgICAgICAgICBQbGF5ZXIuZWRpdGluZygnI2Zsb3dwbGF5ZXJfYXBpJywgewogICAgICAgICAgICAgIHNldEF0dHJpYnV0ZXMgOiB7CiAgICAgICAgICAgICAgICBhbGxvd2Z1bGxzY3JlZW4gOiB0cnVlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHIzeiA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXM/cT1sYWJlbDpSM1oKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vQzE1OWtldm4KICAgICAgICBob3N0IDogWydjaXR5YW0uY29tJywgJ2NvbXB1dGVyd29ybGR1ay5jb20nLCAndGVjaHdvcmxkLmNvbScsICd2My5jby51ayddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvKiBkb24ndCB3b3JrIHdpdGggY2hyb21lCiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAnX3IzeicsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDoge30KICAgICAgICAgIH0pOwogICAgICAgICAgKi8KICAgICAgICB9LAogICAgICAgIG9uSWRsZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay51dy4kKCIjcjN6LXdhaXQiKS5yZW1vdmUoKTsKICAgICAgICAgIEFhay51dy4kKCIucjN6LWhpZGUiKS5yZW1vdmVDbGFzcygicjN6LWhpZGUiKTsKICAgICAgICAgIEFhay51dy5fcjN6ID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGdvb2dsZV9qb2JydW5uZXIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZW4vZm9ydW0vbWVzc2FnZXMvNDA1CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEzNDMKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTM0MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84MzEKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTI3NAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjYyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU2MQogICAgICAgIGhvc3QgOiBbJ25leHQtZXBpc29kZS5uZXQnLCAna2luZ21ha2VyLm5ld3MnLCAnZ2FtZXNwb3dlcml0YS5jb20nLCAndG9kYXlpZG9sLmNvbScsICdyZWNlaXZlLWEtc21zLmNvbScsICd3YWtldXBjYWxsbWUuY29tJywgJ3JpbmdteWNlbGxwaG9uZS5jb20nLCAnZmFxbW96aWxsYS5vcmcnLCAndGhlbWVteXBjLmNvbSddLAogICAgICAgIG9uQWx3YXlzIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLnV3Lmdvb2dsZV9qb2JydW5uZXIgPSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIGZ1Y2thZGJvY2sgY3VzdG9taXplZAogICAgICBmYWJfZGF3bl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE3NDcKICAgICAgICBob3N0IDogWydkYXduLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdkZXRlY3RBZEJsb2NrJywgJ0RldGVjdEFkQmxvY2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZhYl9zcG9ydHNfZnIgOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyMTcKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vU3BFTjVkdVMKICAgICAgICBob3N0IDogWydzcG9ydHMuZnInXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnZmFiSW5zdGFuY2UnLCAnRmFiSW5zdGFuY2UnKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZhYl9ldXJvcGUxX2ZyIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTg4CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1VMZTF2elFSCiAgICAgICAgaG9zdCA6IFsnZXVyb3BlMS5mciddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdmYWJJbnN0YW5jZScsICdGYWJJbnN0YW5jZScpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX25ld3lvcmtlcl9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzExNzcKICAgICAgICBob3N0IDogWyduZXd5b3JrZXIuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5mYWtlRnVja0FkQmxvY2soJ3NuaWZmQWRCbG9jaycsICdTbmlmZkFkQmxvY2snKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZhYl93aXJlZF9jb20gOiB7CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwNjEKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9mci9mb3J1bS9kaXNjdXNzaW9uLzgyMzUKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vUHExNHY0RkMKICAgICAgICBob3N0IDogWyd3aXJlZC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnc25pZmZBZEJsb2NrJywgJ1NuaWZmQWRCbG9jaycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX21hbmdhc3Byb2plY3RfZG9tYWlucyA6IHsKICAgICAgICAvLyBub3RlOiBmdWNrYWRibG9jayB3aXRoIGN1c3RvbSBpbnN0YW5jZSBuYW1lCiAgICAgICAgLy8gbm90ZTogYWxzbyBhZGRlZCBhYnAgcnVsZQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTI3CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZnIvZm9ydW0vZGlzY3Vzc2lvbi80MTMyCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzg1OAogICAgICAgIC8vIHNvdXJjZTogaHR0cHM6Ly9tYW5nYXMuemx4LmNvbS5ici9tYW5nYXpvcmRfbGliL2pzL2xpYi9jb250cm9sbGVycy9MZWl0b3IvTGVpdG9yLm1pbi5qcwogICAgICAgIGhvc3QgOiBbJ21hbmdhc3Byb2plY3QuY29tLmJyJywgJ21hbmdhc3Byb2plY3QubmV0LmJyJywgJ21hbmdhcy56bHguY29tLmJyJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5mYWtlRnVja0FkQmxvY2soJ21hbmdhc0xlaXRvclNsaWRlcicsIEFhay5nZW5lcmF0ZUlEKCkpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX3FuaW1hdGVfY29tIDogewogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy83MzkKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNzA1CiAgICAgICAgLy8gbm90ZTogZnVja2FkYmxvY2sgY3VzdG9taXplZAogICAgICAgIGhvc3QgOiBbJ3FuaW1hdGUuY29tJ10sCiAgICAgICAgb25BbHdheXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRCbG9ja0RldGVjdGVkID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgfQogICAgICB9LAogICAgICBmYWJfZXVyb3RyYW5zcG9ydF9kZSA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODU4CiAgICAgICAgLy8gbm90ZTogZnVja2FkYmxvY2sgd2l0aCBjdXN0b20gaW5zdGFuY2UgbmFtZQogICAgICAgIGhvc3QgOiBbJ2V1cm90cmFuc3BvcnQuZGUnXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnYW50aUFkQmxvY2snLCBBYWsuZ2VuZXJhdGVJRCgpKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZhYl9jYWRldGVjdCA6IHsKICAgICAgICAvLyBieTogU2tyNHRjaEdyM2F6eU1vbmtpQmFsbGxsbGxaenp6CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzc4NAogICAgICAgIC8vIG5vdGU6IGZ1Y2thZGJsb2NrIHdpdGggY3VzdG9tIGluc3RhbmNlIG5hbWUKICAgICAgICBob3N0IDogWyd0emV0emUuaXQnLCAnYmVwcGVncmlsbG8uaXQnLCAnbGEtY29zYS5pdCddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdjYWRldGVjdCcsICdDQURldGVjdCcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX2FnYXJfZ2FtZSA6IHsKICAgICAgICAvLyBub3RlOiBmdWNrYWRibG9jayB3aXRoIGN1c3RvbSBpbnN0YW5jZSBuYW1lCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEyNTcKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTEzNQogICAgICAgIGhvc3QgOiBbJ2FnYXJpby5zeCcsICdhZ2FyYWJpLmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdhZ2FyaW9fU1hfYWRzJywgQWFrLmdlbmVyYXRlSUQoKSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBmYWJfZmlsZXNwYWNlX2NvbSA6IHsKICAgICAgICAvLyBub3RlOiBmdWNrYWRibG9jayB3aXRoIGN1c3RvbSBpbnN0YW5jZSBuYW1lCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1lBUzBBczg3CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzEwMzcKICAgICAgICBob3N0IDogWydmaWxlc3BhY2UuY29tJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5mYWtlRnVja0FkQmxvY2soJ2ZBQicsIEFhay5nZW5lcmF0ZUlEKCkpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZmFiX3RvcHNlcmlhbHlfc2sgOiB7CiAgICAgICAgLy8gbm90ZTogZnVja2FkYmxvY2sgd2l0aCBjdXN0b20gaW5zdGFuY2UgbmFtZQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS80MnRVUTlhVgogICAgICAgIGhvc3QgOiBbJ3RvcHNlcmlhbHkuc2snXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnc3JhdE5hVmFzJywgQWFrLmdlbmVyYXRlSUQoKSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBmYWJfY3VzdG9taXplZCA6IHsKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTQ1NQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNjU3CiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL040MmE1QmpFCiAgICAgICAgaG9zdCA6IFsnZXBpY3VyaW91cy5jb20nLCAnZGVza3RvcHNvbHV0aW9uLm9yZycsICdpbmRpYXRpbWVzLmNvbScsICdoaW5kdXN0YW50aW1lcy5jb20nLCAnaGFwcHl0cmlwcy5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBfc2V0QXR0cmlidXRlID0gd2luZG93LkVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZTsKICAgICAgICAgICAgICB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSAnY2xhc3MnICYmIHZhbHVlLmluZGV4T2YoJ3RleHRfYWRzJykgIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKHRoaXMsICdmYWIgaW50ZXJjZXB0ZWQgOi0pJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfc2V0QXR0cmlidXRlLmNhbGwodGhpcywgbmFtZSwgdmFsdWUpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGQzeHQzZXJfYW50aWFkYmxvY2sgOiB7CiAgICAgICAgLy8gc2l0ZTogaHR0cDovL2QzeHQzci5jb20vYW50aS1hZGJsb2NrCiAgICAgICAgLy8gY2FzZTogaHR0cDovL3Nwb3J0LXNob3cuZnIvanMvYWR2ZXJ0aXNlbWVudC1BZEJsb2NrLmpzCiAgICAgICAgLy8gY2FzZTogaHR0cDovL3d3dy4yc2l0ZS5tZS9hZHZlcnRpc2VtZW50LUFkQmxvY2suanMKICAgICAgICBob3N0IDogWydzcG9ydC1zaG93LmZyJywgJ3ZpcGZsYXNoLm5ldCcsICcyc2l0ZS5tZSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsuYWRkU3R5bGUoIiNibG9ja2Jsb2NrQSB7dmlzaWJpbGl0eTppbnZpc2libGU7ZGlzcGxheTpub25lO30gI2Jsb2NrYmxvY2tBIHRkIHt2aXNpYmlsaXR5OmludmlzaWJsZTtkaXNwbGF5Om5vbmU7fSAjYmxvY2tibG9ja0EgdGQgcCB7dmlzaWJpbGl0eTppbnZpc2libGU7ZGlzcGxheTpub25lO30gI2Jsb2NrYmxvY2tCIHt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTpibG9jazt9Iik7CiAgICAgICAgfQogICAgICB9LAogICAgICBhZGJsb2NrX25vdGlmeSA6IHsKICAgICAgICAvLyBieTogU2tyNHRjaEdyM2F6eU1vbmtpQmFsbGxsbGxaenp6CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE3NjYKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTM5MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMDM5CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU5MgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy84MTMKICAgICAgICBob3N0IDogWydnYW1ldHJhbnNmZXJzLmNvbScsICd3aW5hbmRtYWMuY29tJywgJ2ZyZWUtc3RlYW0tZ2l2ZWF3YXlzLmNvbScsICdjYW5hbHdwLmNvbScsICdhbHBoYWhpc3RvcnkuY29tJywgJ25vcmRwcmVzc2UuYmUnLCAnc29zcGMubmFtZScsICdiYWJvby5jb20uYnInXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2FuQ29va2llJywgdHJ1ZSk7CiAgICAgICAgICBBYWsudXcuYW5PcHRpb25zID0ge307CiAgICAgICAgfQogICAgICB9LAogICAgICBsdXR0ZV9hZGJsb2NrIDogewogICAgICAgIC8vIHNpdGU6IGh0dHA6Ly9sdXR0ZWFkYmxvY2suYmxvZ3Nwb3QuY29tLzIwMTQvMTEvbGUtc2NyaXB0Lmh0bWwKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvOTM4CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzU4MAogICAgICAgIGhvc3QgOiBbJ2xld2VidHZib3VxdWV0ZnJhbmNvcGhvbmUub3ZlcmJsb2cuY29tJywgJ3dlYnR2LmJsb2d1ZXouY29tJywgJ2xhdGVsZWdyYXR1aXRlLmJsb2dzcG90LmNvbScsICd0b3RhbGRlYnJpZC5vcmcnLCAnMzcuMTg3LjE3My4yMDUnLCAndHZncmF0dWl0ZS5ibG9nc3BvdC5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZEJhaXRFbGVtZW50KCdkaXYjbXlfYWRfZGl2Jyk7CiAgICAgICAgICBBYWsudXcuamFiYmFodWQgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFudGlibG9jayA6IHsKICAgICAgICAvLyBzaXRlOiBhbnRpYmxvY2sub3JnCiAgICAgICAgLy8gbm90ZTogY3VzdG9taXplZAogICAgICAgIC8vIGlzc3VlOiAKICAgICAgICBob3N0IDogWydteWJhbmsucGwnLCAncmFwaWRncmFiLnBsJ10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBfYWRkRXZlbnRMaXN0ZW5lciA9IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyOwogICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIudG9TdHJpbmcoKS5pbmRleE9mKCcubmV4dEZ1bmN0aW9uKCl9JykgPiAtMSkgewogICAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oWydBbnRpQWRiS2lsbGVyJywgbG9jYXRpb24uaG9zdCwgJ0FudGlCbG9ja3tjdXN0b21pemVkfSddKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9hZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJsb2NrYWRibG9jayA6IHsKICAgICAgICAvLyBzaXRlOiBibG9ja2FkYmxvY2suY29tCiAgICAgICAgLy8gbm90ZTogcmFuZG9tIGluc3RhbmNlIG5hbWUKICAgICAgICAvLyBzb3VyY2U6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL1dhdGlsaW4vYWY3NWUwYTJlODJhMmVmYjM4NGJkZTljN2I0MWRlYzgKICAgICAgICAvLyBpc3N1ZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzP3E9bGFiZWw6QmxvY2tBZEJsb2NrCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZm9ydW0vZGlzY3Vzc2lvbi84MjczCiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZm9ydW0vZGlzY3Vzc2lvbi83NjI1CiAgICAgICAgaG9zdCA6IFsnYmxvY2thZGJsb2NrLmNvbScsICdsaW5rZHJvcC5uZXQnLCAncmV2Y2xvdWRzLmNvbScsICdsZXBvcm5vLm9yZycsICd1cGxvYWRzaHViLmNvbScsICdkYXNvbG8ub3JnJywgJ2Z1bGxzdHVmZi5uZXQnLCAnemV1c25ld3MuaXQnLCAnY2hlbWlub3RzLm5ldCcsICdsb2xzeS50dicsICdhbmltZXMtbWFuZ2FzLWRkbC5jb20nLCAnbm90aWNpYXNhdXRvbW90aXZhcy5jb20uYnInLCAnZGFya3N0YXJzLm9yZycsICdjb3JlcGFja3MuY29tJywgJ25hdHVyYWxiZC5jb20nLCAnY29vbHNvZnQuYWx0ZXJ2aXN0YS5vcmcnLCAnb3BlbmxvYWQudXMnLCAnY2RhLW9ubGluZS5wbCcsICd1cmJhbnBsYW5ldC5vcmcnLCAnbWFtYWhkLmNvbScsICdzYWRlZW1wYy5jb20nLCAnYXZtb28uY29tJywgJ3RoYWlsYW5kZS1mci5jb20nLCAnYnRhaWEuY29tJywgJ3R1c29mdC5vcmcnLCAnaGlzc2UubmV0JywgJ2V1cm9wZXVwLmNvbScsICducmouZnInLCAnc3Juay5jbycsICdhbmltbWV4LmNvJywgJ3NvY2tldGxvb3AuY29tJywgJ2NyYWNraGV4LmNvbScsICdyZXZlYWxlZHRyaWNrczR1LmNvbScsICdwaXp6YW1ha2luZy5jb20nLCAnY29tcHV0ZXJ3b3JtLm5ldCcsICd5b3VybGlmZXVwZGF0ZWQubmV0J10sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEFhay5hZGRTY3JpcHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyB2YXJpYW50IDEKICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgX3NldFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dDsKICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCA9IGZ1bmN0aW9uIChmbiwgZGVsYXkpIHsKICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZuLnRvU3RyaW5nKCkpCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnc3RyaW5nJyAmJiBmbi5pbmRleE9mKCdiYWJfZWxlbWVudGlkJykgPiAtMSkgewogICAgICAgICAgICAgICAgICBmbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oWydBbnRpQWRiS2lsbGVyJywgbG9jYXRpb24uaG9zdCwgJ0Jsb2NrQWRCbG9jayddKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9zZXRUaW1lb3V0LmNhbGwodGhpcywgZm4sIGRlbGF5KTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBncHRfc3AgOiB7CiAgICAgICAgLy8gYnk6IFJlZWssIEdpd2F5dW1lCiAgICAgICAgLy8gbm90ZTogd2hlbiBhZGJsb2NrIGRldGVjdGVkIGluamVjdCBuZXcgYWRzLCByZWRpcmVjdCB0byBodHRwOi8vdGlueXVybC5jb20venEyejVvNgogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNjM2CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE1OTYKICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvMTI5NwogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTQ0CiAgICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzE1NDIKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vOEFqaXRmYjIKICAgICAgICBob3N0IDogWydtYXJrZXR3YXRjaC5jb20nLCAnZGVhZGxpbmUuY29tJywgJ3R3ZWFrdG93bi5jb20nLCAnbnlwb3N0LmNvbScsICdyZWFsZ20uY29tJywgJ25hc2RhcS5jb20nXSwKICAgICAgICBvblN0YXJ0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgQWFrLmFkZFN0eWxlKCIuY29udGFpbmVyLS1iYW5uZXJBZCwgLmNvbC0tYWQgeyBkaXNwbGF5OiBub25lOyB9Iik7CiAgICAgICAgICBBYWsuYWRkU2NyaXB0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyBHaXdheXVtZSAKICAgICAgICAgICAgICB3aW5kb3cuX3NwXyA9IHdpbmRvdy5fc3BfIHx8IHt9OwogICAgICAgICAgICAgIHdpbmRvdy5fc3BfLmNvbmZpZyA9IHdpbmRvdy5fc3BfLmNvbmZpZyB8fCB7fTsKICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93Ll9zcF8uY29uZmlnLCAiY29udGVudF9jb250cm9sX2NhbGxiYWNrIiwgewogICAgICAgICAgICAgICAgdmFsdWUgOiBmdW5jdGlvbiAoKSB7fSwKICAgICAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgICAgICBjb25maWd1cmFibGUgOiBmYWxzZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIC8vIFJlZWsKICAgICAgICAgICAgICB2YXIgX2FkZEV2ZW50TGlzdGVuZXIgPSB3aW5kb3cuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI7CiAgICAgICAgICAgICAgd2luZG93LkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAnc3AuYmxvY2tpbmcnKSB7CiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhbJ0FudGlBZGJLaWxsZXInLCBsb2NhdGlvbi5ob3N0LCAnR1BUe3NwLWJsb2NraW5nfSddKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF9hZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGtydXhfYXNsIDogewogICAgICAgIC8vIG5vdGU6IHdoZW4gYWRibG9jayBkZXRlY3RlZCBpbmplY3QgbmV3IGFkcwogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS8wSEQ3Tjg0aQogICAgICAgIGhvc3QgOiBbJ2NvbW1lbnRjYW1hcmNoZS5uZXQnLCAnam91cm5hbGRlc2ZlbW1lcy5jb20nLCAnbGludGVybmF1dGUuY29tJ10sCiAgICAgICAgb25CZWZvcmVTY3JpcHQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW3sKICAgICAgICAgICAgICBkZXRlY3RlZCA6ICdLcnV4e2FzbH0nLAogICAgICAgICAgICAgIGNvbnRhaW5zIDogJ0FzbC5wcm90b3R5cGUuaW5qZWN0JywKICAgICAgICAgICAgICBleHRlcm5hbCA6IGZhbHNlLAogICAgICAgICAgICAgIHJlbW92ZSA6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgXTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGtydXhfYWRwIDogewogICAgICAgIC8vIG5vdGU6IHdoZW4gYWRibG9jayBkZXRlY3RlZCBpbmplY3QgbmV3IGFkcwogICAgICAgIC8vIHNvdXJjZTogCiAgICAgICAgaG9zdCA6IFsnZm91cmNoZXR0ZS1ldC1iaWtpbmkuZnInLCAnbWV0ZW9jaXR5LmNvbSddLAogICAgICAgIG9uU3RhcnQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBBYWsudXcuYWRQcm90ZWN0ID0gMTsKICAgICAgICB9CiAgICAgIH0sCSAKICAgICAgcGhvZW5peF9nb3lhdmVsYWIgOiB7CiAgICAgICAgLy8gbm90ZTogd2hlbiBhZGJsb2NrIGRldGVjdGVkIGluamVjdCBuZXcgYWRzCiAgICAgICAgLy8gbm90ZTogc2NyaXB0IGFudGktYWRibG9jayBvYmZ1c2NhdGVkLAogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8KICAgICAgICAvLyBkb2M6IGh0dHA6Ly90aW55dXJsLmNvbS9nbDNnaHEyCiAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL2hzQW1kU3VmCiAgICAgICAgaG9zdCA6IFsnZGVtby1waG9lbml4LmNvbScsICdkcHN0cmVhbS5uZXQnLCAnZ3VtLWd1bS1zdHJlYW1pbmcuY29tJywgJ2pldS5pbmZvJywgJ3NvZm9vdC5jb20nLCAnZ2FhcmEtZnIuY29tJywgJ2dheXR1YmUuY29tJywgJ3R1eGJvYXJkLmNvbScsICd4c3RvcnktZnIuY29tJywgJ2hlbnRhaWZyLm5ldCcsICdmaWxtc3RyZWFtaW5nLWhkLmNvbScsICdmaWxtdmYubmV0JywgJ2hlbnRhaWhhdmVuLm9yZycsICduYXJ1dG9zaGlwcHVkZW52Zi5jb20nLCAndGhlYmFkYnV6ei5jb20nLCAnbWFuZ2EtbmV3cy5jb20nLCAnamV1LnZpZGVvJywgJ21hbmdhcy1mci5jb20nXSwKICAgICAgICBvbkFsd2F5cyA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vQWFrLnV3Ll9fJGRjID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICBBYWsuYWRkU3R5bGUoJ2JvZHkge3Zpc2liaWxpdHk6IHZpc2libGU7fScpOwogICAgICAgIH0sCiAgICAgICAgb25CZWZvcmVTY3JpcHQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW3sgCiAgICAgICAgICAgICAgZGV0ZWN0ZWQgOiAnUGhvZW5peEdveWF2ZWxhYicsCiAgICAgICAgICAgICAgY29udGFpbnMgOiAnUEhFTlYnLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlOiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIF07CiAgICAgICAgfQogICAgICB9LAogICAgICBhZF9kZWZlbmRfdWFicCA6IHsKICAgICAgICAvLyBub3RlOiB3aGVuIGFkYmxvY2sgZGV0ZWN0ZWQgaW5qZWN0IG5ldyBhZHMKICAgICAgICAvLyBzb3VyY2U6IGh0dHA6Ly9wYXN0ZWJpbi5jb20vY0ZRQ3A4MFcKICAgICAgICBob3N0IDogWyd0dnNwaWVsZmlsbS5kZScsICdmaW5hbnplbi5jaCddLAogICAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICAgICAgZGV0ZWN0ZWQgOiAnQWREZWZlbmR7VUFCUEluamVjdH0nLAogICAgICAgICAgICAgIGNvbnRhaW5zIDogJ1VBQlBJbmplY3QnLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYWRfZGVmZW5kX3VhYiA6IHsKICAgICAgICAvLyBub3RlOiB3aGVuIGFkYmxvY2sgZGV0ZWN0ZWQgaW5qZWN0IG5ldyBhZHMKICAgICAgICAvLyB1c2Vyc2NyaXB0OiBodHRwczovL29wZW51c2VyanMub3JnL3NjcmlwdHMvc2Nod2FyenRlZS9BZERlZmVuZF9LbGF0c2NoZQogICAgICAgIC8vIHVzZXJzY3JpcHQ6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2Fub255bW91cy9hOWI5OTU2YmFmMWQ1OWExMDdjNQogICAgICAgIC8vIHNvdXJjZTogaHR0cDovL3Bhc3RlYmluLmNvbS8xVnlXMHU5bSwgaHR0cDovL3Bhc3RlYmluLmNvbS9BWnFoUnhXVQogICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWxhYmVsOkFkRGVmZW5kCiAgICAgICAgLy8gcHVsbDogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9wdWxsLzQ2NwogICAgICAgIGhvc3QgOiBbJ3dhdGNoZ2VuZXJhdGlvbi5mcicsICd0dXJiby5mcicsICcyNG1hdGlucy5mcicsICdmb290MDEuY29tJywgJ2NsdWJpYy5jb20nLCAnbWFjZy5jbycsICdiZWdlZWsuZnInLCAnaWdlbi5mcicsICdnYW1lc3Rhci5kZScsICdmb2N1cy5kZScsICdzdGVybi5kZScsICdzYXQxLicsICdwcm9zaWViZW4uJywgJ2thYmVsZWlucy4nLCAnc2F0MWdvbGQuJywgJ3NpeHguJywgJ3Byb3NpZWJlbm1heHguJywgJ2ZlbS5jb20nLCAndGhlLXZvaWNlLW9mLWdlcm1hbnkuJywgJ3dldHRlci5jb20nLCAnd2V0dGVyb25saW5lLmRlJywgJ3Bjd2VsdC5kZScsICdib2Vyc2Utb25saW5lLmRlJywgJ3Nwb3J0YXV0by5kZScsICdhdXRvLW1vdG9yLXVuZC1zcG9ydC5kZScsICdtb3Rvci1rbGFzc2lrLmRlJywgJzR3aGVlbGZ1bi5kZScsICdhdXRvc3RyYXNzZW52ZXJrZWhyLmRlJywgJ2x1c3RpY2guZGUnLCAnc3BveC5jb20nLCAnc2h6LmRlJywgJ3RyYW5zZmVybWFya3QuZGUnLCAncnAtb25saW5lLmRlJywgJ21vdG9ycmFkb25saW5lLmRlJywgJzIwbWluLmNoJywgJ21haW4tc3BpdHplLmRlJywgJ3dvcm1zZXItemVpdHVuZy5kZScsICdsYW1wZXJ0aGVpbWVyLXplaXR1bmcuZGUnLCAnd2llc2JkZW5lci10YWdibGF0dC5kZScsICdidWVyc3RhZWR0ZXItemVpdHVuZy5kZScsICd3aWVzYmRlbmVyLWt1cmllci5kZScsICdyaGVpbi1tYWluLXByZXNzZS5kZScsICdhbGxnZW1laW5lLXplaXR1bmcuZGUnLCAnYXJpdmEuZGUnLCAnc3BpZWdlbC5kZScsICdicmlnaXR0ZS5kZScsICdkc2hpbmkubmV0JywgJ2dhbGEuZGUnLCAnZ2FtZXByby5kZScsICdnYW1vbmEuZGUnLCAncG5uLmRlJywgJ3Byb21vYmlsLmRlJywgJ3Nwb3J0YWwuZGUnLCAnd2ViZmFpbC5jb20nLCAnY29tcHV0ZXJiaWxkLmRlJywgJ2ZpbmFuemVuLm5ldCcsICdjb211bmlvLmRlJywgJ21lZGlzaXRlLmZyJ10sCiAgICAgICAgb25CZWZvcmVTY3JpcHQgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW3sKICAgICAgICAgICAgICBkZXRlY3RlZCA6ICdBZERlZmVuZHt1YWJJbmplY3R9JywKICAgICAgICAgICAgICBjb250YWlucyA6ICd1YWJJbmplY3QnLAogICAgICAgICAgICAgIGV4dGVybmFsIDogZmFsc2UsCiAgICAgICAgICAgICAgcmVtb3ZlIDogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLyogc29sdmVkIGJ5IEFha0xJc3QKICAgICAgdGlzb29taV9pbmRpcmVrdCA6IHsKICAgICAgLy8gaW5saW5lOiBodHRwOi8vcGFzdGViaW4uY29tL25wbVhUVUh3CiAgICAgIC8vIGV4dGVybmFsOiBodHRwOi8vcGFzdGViaW4uY29tL2h2V25DdUR3CiAgICAgIGhvc3QgOiBbJ2VuZXJneS5kZScsICdnZXR2aWRzLmRlJywgJ2dld2luZGUtbm9ybWVuLmRlJywgJ3BvZGNhc3QuZGUnLCAnc3BpZWxlc3BpZWxlbjI0LmRlJywgJ2RpYWxvLmRlJ10sCiAgICAgIG9uQmVmb3JlU2NyaXB0IDogZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDsKICAgICAgdmFyIHRleHQgPSB0YXJnZXQudGV4dDsKICAgICAgaWYgKEFhay5jb250YWlucyh0ZXh0LCAnbj0iYWJjZGVmZ2hpamtsbSIscj0ibm9wcXJzdHV2d3h5eiIsaT0iMDEyMzQ1Njc4OSI7dmFyIHM9dD09MD9pOnQ9PTE/bicpKSB7CiAgICAgIEFhay5zdG9wU2NyaXB0KGUpOwogICAgICBBYWsubG9nKCdUaXNvb21pIEluZGlyZWt0Jyk7CiAgICAgIH0KICAgICAgfQogICAgICB9LAogICAgICAgKi8KICAgICAgLyogc29sdmVkIGJ5IEFha0xJc3QKICAgICAgdGlzb29taV9kaXJla3QgOiB7CiAgICAgIC8vIGlubGluZTogaHR0cDovL3Bhc3RlYmluLmNvbS8ydnEzOEpYWQogICAgICBob3N0IDogWydhdXRvemVpdHVuZy5kZScsICdmb3JtZWwxLmRlJywgJ2ZyZW1kd29ydC5kZScsICdpbnNpZGUtaGFuZHkuZGUnLCAnbW90b3JzcG9ydC10b3RhbC5jb20nLCAnYXVzc2Vud2lydHNjaGFmdHNsdXBlLmRlJywgJ2Rvbm5lcndldHRlci5kZScsICd3aW50b3RhbC5kZSddLAogICAgICBvbkJlZm9yZVNjcmlwdCA6IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7CiAgICAgIHZhciB0ZXh0ID0gdGFyZ2V0LnRleHQ7CiAgICAgIGlmIChBYWsuY29udGFpbnModGV4dCwgJ2Z1bmN0aW9uIGRldGVjdCgpJykpIHsKICAgICAgQWFrLnN0b3BTY3JpcHQoZSk7CiAgICAgIEFhay5sb2coJ1Rpc29vbWkgRGlyZWt0Jyk7CiAgICAgIH0KICAgICAgfQogICAgICB9LAogICAgICAgKi8KICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgLy8gR2VuZXJpYwogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICBnZW5lcmljIDogewogICAgICAgIGhvc3QgOiBbJy4qPyddLAogICAgICAgIG9uUmVtb3ZlIDogZnVuY3Rpb24gKHJlbW92ZWROb2RlKSB7CiAgICAgICAgICBpZiAoQWFrLm9wdHMucmVtb3ZlZCkgewogICAgICAgICAgICBpZiAocmVtb3ZlZE5vZGUuc3JjIHx8CiAgICAgICAgICAgICAgcmVtb3ZlZE5vZGUuaWQgfHwKICAgICAgICAgICAgICByZW1vdmVkTm9kZS5jbGFzc05hbWUgJiYKICAgICAgICAgICAgICAhL15maXJlYnVnLy50ZXN0KHJlbW92ZWROb2RlLmNsYXNzTmFtZSkpIHsKICAgICAgICAgICAgICAvLyBOb2RlIHJlbW92ZWQKICAgICAgICAgICAgICBBYWsubG9nKHJlbW92ZWROb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb25TdGFydCA6IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAvLyBGdWNrQWRCbG9jayAmIEJsb2NrQWRCbG9jayB2MyBhbmQgdjQKICAgICAgICAgIC8vIHNpdGU6IGh0dHA6Ly93d3cuc2l0ZXh3LmZyL2Z1Y2thZGJsb2NrLwogICAgICAgICAgLy8gcmVwbzogaHR0cHM6Ly9naXRodWIuY29tL3NpdGV4dy9GdWNrQWRCbG9jawogICAgICAgICAgLy8gcmVwbzogaHR0cHM6Ly9naXRodWIuY29tL3NpdGV4dy9CbG9ja0FkQmxvY2sKICAgICAgICAgIC8vIG5vdGU6IHdoZW4gZnVja2FkYmxvY2suanMgb3IgYmxvY2thZGJsb2NrLmpzIGlzIGJsb2NrZWQKICAgICAgICAgIC8vIGRlbW8gdjM6IGh0dHA6Ly9zaC5zdC92b3ZIRQogICAgICAgICAgLy8gZGVtbyB2NDogaHR0cDovL2FsLmx5L3FCYlhICiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODg4CiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODI0CiAgICAgICAgICBBYWsuZmFrZUZ1Y2tBZEJsb2NrKCdmdWNrQWRCbG9jaycsICdGdWNrQWRCbG9jaycpOwogICAgICAgICAgQWFrLmZha2VGdWNrQWRCbG9jaygnYmxvY2tBZEJsb2NrJywgJ0Jsb2NrQWRCbG9jaycpOwoKICAgICAgICAgIC8vIGNhblJ1bkFkcwogICAgICAgICAgLy8gcmVwbzogaHR0cHM6Ly9naXRodWIuY29tL01hdHRoZXdHcm9zcy9DYW5SdW5BZHMKICAgICAgICAgIC8vIG5vdGU6IHVzZSBleHRlcm5hbGwgc2NyaXB0ICIvanMvYWRzLmpzIiAtPiB2YXIgY2FuUnVuQWRzID0gdHJ1ZTsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYWsudXcsICdjYW5SdW5BZHMnLCB7CiAgICAgICAgICAgIGVudW1lcmFibGUgOiB0cnVlLAogICAgICAgICAgICB3cml0YWJsZSA6IGZhbHNlLAogICAgICAgICAgICB2YWx1ZSA6IHRydWUKICAgICAgICAgIH0pOwoKICAgICAgICAgIC8vIGNhblNob3dBZHMKICAgICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMTk3CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAnY2FuU2hvd0FkcycsIHsKICAgICAgICAgICAgZW51bWVyYWJsZSA6IHRydWUsCiAgICAgICAgICAgIHdyaXRhYmxlIDogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlIDogdHJ1ZQogICAgICAgICAgfSk7CgogICAgICAgICAgLy8gQWRibG9ja2VyIERldGVjdGluZyBTY3JpcHRzOiBNZXRob2QgMgogICAgICAgICAgLy8gZ2lzdDogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vaXJhemFzeWVkLzNkMjQ3ZDNkMTIxZTc4MWEzODcyCiAgICAgICAgICAvLyBub3RlOiB1c2UgZXh0ZXJuYWxsIHNjcmlwdCAiL2pzL2Fkcy5qcyIgLT4gaXNBZEJsb2NrQWN0aXZlID0gZmFsc2U7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWFrLnV3LCAnaXNBZEJsb2NrQWN0aXZlJywgewogICAgICAgICAgICBlbnVtZXJhYmxlIDogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGUgOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWUgOiBmYWxzZQogICAgICAgICAgfSk7CgogICAgICAgICAgLyoKICAgICAgICAgIHdpbmRvdy5pSGF2ZUxvYWRlZEFkcyA9IHRydWU7CiAgICAgICAgICB2YXIgbmljZUFkc0NoZWNrPXRydWU7CiAgICAgICAgICBhZGJsb2NrID0gZmFsc2UKICAgICAgICAgIGlzX2Jsb2NrZXIgPSBmYWxzZTsKICAgICAgICAgICAqLwogICAgICAgIH0sCiAgICAgICAgb25JZGxlIDogZnVuY3Rpb24gKCkgewoKICAgICAgICAgIC8vIEFkQmxvY2sgRGV0ZWN0b3IgKFhlbkZvcm8gUmVsbGVjdCkKICAgICAgICAgIC8vIHNpdGU6IGh0dHA6Ly90aW55dXJsLmNvbS9wYTI4eGRuCiAgICAgICAgICAvLyBjbG9uZUludG86IGh0dHA6Ly90aW55dXJsLmNvbS9rNnFwaG1lCiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODA1CiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODA0CiAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvNTkxCiAgICAgICAgICBpZiAoQWFrLnV3LlhlbkZvcm8gJiYgdHlwZW9mIEFhay51dy5YZW5Gb3JvLnJlbGxlY3QgPT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgQWFrLnV3LlhlbkZvcm8ucmVsbGVjdCA9IHsKICAgICAgICAgICAgICBBZEJsb2NrRGV0ZWN0b3IgOiB7CiAgICAgICAgICAgICAgICBzdGFydCA6IGZ1bmN0aW9uICgpIHt9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FkQmxvY2sgRGV0ZWN0b3IgKFhlbkZvcm8gUmVsbGVjdCknKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvKgogICAgICAgICAgLy8gQWR1bmJsb2NrIC0gaHR0cDovL2FkdW5ibG9jay5jb20vCiAgICAgICAgICBpZiAoQWFrLmdldENvb2tpZSgnYWRibG9jaycpID09IDEpIHsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2FkYmxvY2snLCAwKTsKICAgICAgICAgIEFhay5zZXRDb29raWUoJ2Jhcl9jbG9zZWQnLCAxKTsKICAgICAgICAgIH0KICAgICAgICAgICAqLwoKICAgICAgICAgIC8vIEFkYmxvY2sgQmxvY2tlcgogICAgICAgICAgLy8gaHR0cHM6Ly93b3JkcHJlc3Mub3JnL3BsdWdpbnMvYWRkYmxvY2tibG9ja2VyLwogICAgICAgICAgLy8gaHR0cDovL3Rpbnl1cmwuY29tL25zd242ZnoKICAgICAgICAgIC8vIGh0dHA6Ly9wYXN0ZWJpbi5jb20vZDY1enIzN20KICAgICAgICAgIC8qIGNhbiBjYXVzZSBhIGJ1ZwogICAgICAgICAgdmFyIGFkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Fmc19hZHMnKTsKICAgICAgICAgIHZhciBhZCA9IGFkcy5sZW5ndGggJiYgYWRzW2Fkcy5sZW5ndGggLSAxXTsKICAgICAgICAgIGlmIChhZCAmJiBhZC5pbm5lckhUTUwubGVuZ3RoID09PSAwIHx8IGFkLmNsaWVudEhlaWdodCA9PT0gMCkgewogICAgICAgICAgQWFrLmFkZFNjcmlwdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBnZXRFbGVtZW50c0J5Q2xhc3NOYW1lTmF0aXZlID0gSFRNTERvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lOwogICAgICAgICAgSFRNTERvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkgewogICAgICAgICAgaWYgKGNsYXNzTmFtZSA9PSAnYWZzX2FkcycpIHsKICAgICAgICAgIGNvbnNvbGUuaW5mbyhbJ0FudGlBZGJLaWxsZXInLCBsb2NhdGlvbi5ob3N0LCAnQWRibG9ja0Jsb2NrZXInLCBjbGFzc05hbWVdKTsKICAgICAgICAgIHZhciB1bmlxaWQgPSBEYXRlLm5vdygpOwogICAgICAgICAgdmFyIGJhaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgIGJhaXQuaW5uZXJIVE1MID0gJzxicj4nOwogICAgICAgICAgYmFpdC5jbGFzc05hbWUgPSB1bmlxaWQ7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJhaXQpOwogICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUodW5pcWlkKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBnZXRFbGVtZW50c0J5Q2xhc3NOYW1lTmF0aXZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICAgKi8KCiAgICAgICAgICAvLyBBZGJ1ZGR5CiAgICAgICAgICBpZiAodHlwZW9mIEFhay51dy5jbG9zZUFkYnVkZHkgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgQWFrLnV3LmNsb3NlQWRidWRkeSgpOwogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FkYnVkZHknKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBBZEJsb2NrIEFsZXJ0ZXIgKFdQKQogICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3dwLXBsdWdpbnMvYWRibG9jay1hbGVydGVyCiAgICAgICAgICAvLwogICAgICAgICAgaWYgKEFhay5nZXRFbGVtZW50KCdkaXYuYWRiX292ZXJsYXkgPiBkaXYuYWRiX21vZGFsX2ltZycpKSB7CiAgICAgICAgICAgIC8vIFJlbW92ZSBBbGVydCArIEFsbG93IFNjcm9sbAogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudCgnZGl2LmFkYl9vdmVybGF5Jyk7CiAgICAgICAgICAgIEFhay5hZGRTdHlsZSgnaHRtbCxib2R5IHtoZWlnaHQ6YXV0bzsgb3ZlcmZsb3c6IGF1dG87fScpOwogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FkQmxvY2tBbGVydGVyJyk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gVW5rbm93IEFudGkgQWRCbG9jayBzeXN0ZW0KICAgICAgICAgIGlmIChBYWsuZ2V0RWxlbWVudCgnI2Jsb2NrZGl2JykgJiYgQWFrLmNvbnRhaW5zKEFhay5nZXRFbGVtZW50KCcjYmxvY2tkaXYnKS5pbm5lckhUTUwsICdkaXNhYmxlIGFkIGJsb2NraW5nIG9yIHVzZSBhbm90aGVyIGJyb3dzZXIgd2l0aG91dCBhbnkgYWRibG9ja2VyIHdoZW4geW91IHZpc2l0JykpIHsKICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoJyNibG9ja2RpdicpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIEFudGlibG9jay5vcmcgdjIKICAgICAgICAgIC8vIG5vdGU6IGRldGVjdCBhbmQgc3RvcmUgYmxvY2sgaWQKICAgICAgICAgIC8vIGRlbW86IGh0dHA6Ly90aW55dXJsLmNvbS9uaHlocHprCiAgICAgICAgICB2YXIgc3R5bGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBzdHlsZSA9IHN0eWxlc1tpXTsKICAgICAgICAgICAgdmFyIGNzc1J1bGVzID0gc3R5bGUuc2hlZXQuY3NzUnVsZXM7CiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3NzUnVsZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICB2YXIgY3NzUnVsZSA9IGNzc1J1bGVzW2pdOwogICAgICAgICAgICAgIHZhciBjc3NUZXh0ID0gY3NzUnVsZS5jc3NUZXh0OwogICAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gL14jKFthLXowLTldezQsMTB9KSB+IFwqIFx7IGRpc3BsYXk6IG5vbmU7IFx9LzsKICAgICAgICAgICAgICBpZiAocGF0dGVybi50ZXN0KGNzc1RleHQpKSB7CiAgICAgICAgICAgICAgICB2YXIgaWQgPSBwYXR0ZXJuLmV4ZWMoY3NzVGV4dClbMV07CiAgICAgICAgICAgICAgICBpZiAoQWFrLmhhc1NjcmlwdCgidy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywiICsgaWQgKyAiLGZhbHNlKSIpKSB7CiAgICAgICAgICAgICAgICAgIEFhay5hYWJzLmFibzIgPSBpZDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHdpbiA9IEFhay51dzsKICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gd2luKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgaWYgKCEvXndlYmtpdC8udGVzdChwcm9wKSAmJiAvXlthLXowLTldezQsMTJ9JC9pLnRlc3QocHJvcCkgJiYgcHJvcCAhPT0gJ2RvY3VtZW50JyAmJiAod2luW3Byb3BdaW5zdGFuY2VvZiBIVE1MRG9jdW1lbnQpID09PSBmYWxzZSAmJiB3aW4uaGFzT3duUHJvcGVydHkocHJvcCkgJiYgdHlwZW9mIHdpbltwcm9wXSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgIHZhciBtZXRob2QgPSB3aW5bcHJvcF07CgogICAgICAgICAgICAgICAgLy8gQW50aWJsb2NrLm9yZyB2MyAmIEJldHRlclN0b3BBZGJsb2NrCiAgICAgICAgICAgICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODMzCiAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmRlZmVyRXhlY3V0aW9uICYmCiAgICAgICAgICAgICAgICAgIG1ldGhvZC5kaXNwbGF5TWVzc2FnZSAmJgogICAgICAgICAgICAgICAgICBtZXRob2QuZ2V0RWxlbWVudEJ5ICYmCiAgICAgICAgICAgICAgICAgIG1ldGhvZC5nZXRTdHlsZSAmJgogICAgICAgICAgICAgICAgICBtZXRob2QuaW5zZXJ0ICYmCiAgICAgICAgICAgICAgICAgIG1ldGhvZC5uZXh0RnVuY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZC50b2dnbGUpIHsKICAgICAgICAgICAgICAgICAgICBBYWsuYWFicy5ic2EgPSBwcm9wOwogICAgICAgICAgICAgICAgICAgIEFhay5kZXRlY3RlZCgnQmV0dGVyU3RvcEFkYmxvY2t7ZG9tfScpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIEFhay5hYWJzLmFibzMgPSBwcm9wOwogICAgICAgICAgICAgICAgICAgIEFhay5kZXRlY3RlZCgnQW50aWJsb2NrM3tkb219Jyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgd2luW3Byb3BdID0gbnVsbDsgLy8ga2lsbCBpbnN0YW5jZQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIEJsb2NrQWRCbG9jawogICAgICAgICAgICAgICAgLy8gc2l0ZTogYmxvY2thZGJsb2NrLmNvbQogICAgICAgICAgICAgICAgLy8gbm90ZTogcmFuZG9tIGluc3RhbmNlIG5hbWUKICAgICAgICAgICAgICAgIC8vIHNvdXJjZTogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vV2F0aWxpbi9hZjc1ZTBhMmU4MmEyZWZiMzg0YmRlOWM3YjQxZGVjOAogICAgICAgICAgICAgICAgLy8gaXNzdWVzOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcz9xPWxhYmVsJTNBQmxvY2tBZEJsb2NrCiAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmJhYikgeyAvLyB2YXJpYW50IDEKICAgICAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdCbG9ja0FkQmxvY2t7ZG9tOnZhcmlhbnQxfScpOwogICAgICAgICAgICAgICAgICB3aW5bcHJvcF0gPSBudWxsOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyhtZXRob2QpLmxlbmd0aCA9PT0gMyAmJiBPYmplY3Qua2V5cyhtZXRob2QpLm1hcChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgICAgICAgICAgICB9KS5qb2luKCkubGVuZ3RoID09PSAzMikgeyAvLyB2YXJpYW50IDIKICAgICAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdCbG9ja0FkQmxvY2t7ZG9tOnZhcmlhbnQyfScpOwogICAgICAgICAgICAgICAgICB3aW5bcHJvcF0gPSBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2Vycm9yJywgcHJvcCkKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIEFudGktQWRibG9ja2VycwogICAgICAgICAgdmFyIGFhYnMgPSB7CiAgICAgICAgICAgIC8vIFBsdWdpbnMgV29yZFByZXNzCiAgICAgICAgICAgIE5vQWRCbG9jayA6ICcoL3BsdWdpbnMvbm8tYWRibG9jay98L2Jsb2NrQmxvY2svYmxvY2tCbG9jay5qcXVlcnkuanMpJywKICAgICAgICAgICAgQmV0dGVyU3RvcEFkYmxvY2sgOiAnKC9wbHVnaW5zL2JldHRlci1zdG9wLWFkYmxvY2svfGJzYS1zY3JpcHQtZG9jdHlwZS5qc3xic2Etc2NyaXB0LW5vLWRvY3R5cGUuanMpJywKICAgICAgICAgICAgQWRCbG9ja0Jsb2NrZXIgOiAnL3BsdWdpbnMvd29yZHByZXNzLWFkYmxvY2stYmxvY2tlci8nLAogICAgICAgICAgICBBbnRpQmxvY2tCdWtzc2FBeW1hbiA6ICcvcGx1Z2lucy9hbnRpLWJsb2NrLycsCiAgICAgICAgICAgIEJsb2NrQWx5emVyIDogJy9wbHVnaW5zL2Jsb2NrYWx5emVyLWFkYmxvY2stY291bnRlci8nLAogICAgICAgICAgICBBZEJsb2NraW5nRGV0ZWN0b3IgOiAnL3BsdWdpbnMvYWQtYmxvY2tpbmctZGV0ZWN0b3IvJywKICAgICAgICAgICAgLy8gUGx1Z2lucyBXZWJzaXRlCiAgICAgICAgICAgIEFkd29ya21lZGlhIDogJyhhZHdvcmttZWRpYXxsb3h0a3xjb250ZW50bG9ja2luZ25ldHdvcmtzKS5jb20vZ0xvYWRlci5waHAnLAogICAgICAgICAgICBBZHNjZW5kbWVkaWEgOiAnYWRzY2VuZG1lZGlhLmNvbS9nd2pzLnBocCcsCiAgICAgICAgICAgIEZ1Y2tBZEJsb2NrIDogJygvZnVja2FkYmxvY2suanN8L2Jsb2NrYWRibG9jay5qcyknLAogICAgICAgICAgICBqUXVlcnlBZEJsb2NrIDogJy9qcXVlcnkuYWRibG9jay5qcycsCiAgICAgICAgICAgIGpRdWVyeUFkYmxvY2tEZXRlY3RvciA6ICcvanF1ZXJ5LmFkYmxvY2stZGV0ZWN0b3IuanMnLAogICAgICAgICAgICBBZEJsb2NrQWR2ZXJ0aXNlbWVudCA6ICcvYWR2ZXJ0aXNlbWVudC5qcycsCiAgICAgICAgICAgIEFkQmxvY2tBZHZlcnQgOiAnL2FkdmVydC5qcycsCiAgICAgICAgICAgIEFkQmxvY2tBZHZDdXN0b20gOiAnL2FkdmVydGlzZW1lbnQoLispLmpzJywKICAgICAgICAgICAgQWRCbG9ja0FkZnJhbWUgOiAnL2FkZnJhbWUuanMnLAogICAgICAgICAgICBBbnRpQWRCdXN0ZXIgOiAnL2FudGktYWQtYnVzdGVyLmpzJywKICAgICAgICAgICAgUlRLQW50aUFkYmxvY2sgOiAnL2Jsb2NrY2FrZS5qcycsCiAgICAgICAgICAgIEFkYmxvY2tEZXRlY3RvciA6ICcvQWRibG9ja0RldGVjdG9yL2hhbmRsZXIubWluLmpzJywKICAgICAgICAgICAgalF1ZXJ5QW50aUFkc0Jsb2NrIDogJy9qcXVlcnkuYW50aWFkc2Jsb2NrLmpzJywKICAgICAgICAgICAgQWRidWRkeSA6ICcvanMvYWRidWRkeS5taW4uanMnLAogICAgICAgICAgICBBbnRpQURzQmxvY2tlciA6ICcvYWFkYi9zY3JpcHQuanMnCiAgICAgICAgICB9OwoKICAgICAgICAgIHZhciBzY3JpcHRzID0gZG9jdW1lbnQuc2NyaXB0czsKICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc2NyaXB0cy5sZW5ndGg7IHkrKykgewogICAgICAgICAgICB2YXIgc2NyaXB0ID0gc2NyaXB0c1t5XTsKICAgICAgICAgICAgaWYgKHNjcmlwdC5zcmMpIHsKICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYWFicykgewogICAgICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoYWFic1trZXldLCAnaScpLnRlc3Qoc2NyaXB0LnNyYykpIHsKICAgICAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKFtrZXksIHNjcmlwdC5zcmNdKTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgIH0sCiAgICAgICAgb25JbnNlcnQgOiBmdW5jdGlvbiAoaW5zZXJ0ZWROb2RlKSB7CgogICAgICAgICAgLy8gQWxsIE5vZGVzCiAgICAgICAgICBpZiAoQWFrLm9wdHMuaW5zZXJ0ZWQpIHsKICAgICAgICAgICAgaWYgKGluc2VydGVkTm9kZS5zcmMgfHwKICAgICAgICAgICAgICBpbnNlcnRlZE5vZGUuaWQgfHwKICAgICAgICAgICAgICBpbnNlcnRlZE5vZGUuY2xhc3NOYW1lICYmCiAgICAgICAgICAgICAgIS9maXJlYnVnLy50ZXN0KGluc2VydGVkTm9kZS5pbm5lckhUTUwpKSB7CiAgICAgICAgICAgICAgLy8gTm9kZSBpbnNlcnRlZAogICAgICAgICAgICAgIEFhay5sb2coaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIE5vLUFkYmxvY2sgLSBodHRwOi8vd3d3Lm5vLWFkYmxvY2suY29tLwogICAgICAgICAgaWYgKGluc2VydGVkTm9kZS5pZCAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUuaWQubGVuZ3RoID09IDQgJiYKICAgICAgICAgICAgL15bYS16MC05XXs0fSQvLnRlc3QoaW5zZXJ0ZWROb2RlLmlkKSAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUubm9kZU5hbWUgPT0gJ0RJVicgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmZpcnN0Q2hpbGQgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmZpcnN0Q2hpbGQuaWQgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmZpcnN0Q2hpbGQuaWQgPT0gaW5zZXJ0ZWROb2RlLmlkICYmCiAgICAgICAgICAgIEFhay5jb250YWlucyhpbnNlcnRlZE5vZGUuaW5uZXJIVE1MLCAnbm8tYWRibG9jay5jb20nKSkgewogICAgICAgICAgICAvLyBSZW1vdmUKICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdOby1BZGJsb2NrJywgZmFsc2UsIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudChpbnNlcnRlZE5vZGUpOwogICAgICAgICAgICAvL0Fhay5sb2coaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBTdG9wQWRibG9jayAtIGh0dHA6Ly9zdG9wYWRibG9jay5vcmcvZG93bmxvYWRzLwogICAgICAgICAgaWYgKGluc2VydGVkTm9kZS5pZCAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUuaWQubGVuZ3RoID09IDcgJiYKICAgICAgICAgICAgL15hW2EtejAtOV17Nn0kLy50ZXN0KGluc2VydGVkTm9kZS5pZCkgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5vZGVOYW1lID09ICdESVYnICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5wYXJlbnROb2RlICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5wYXJlbnROb2RlLmlkICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5wYXJlbnROb2RlLmlkID09IGluc2VydGVkTm9kZS5pZCArICcyJyAmJgogICAgICAgICAgICBBYWsuY29udGFpbnMoaW5zZXJ0ZWROb2RlLmlubmVySFRNTCwgJ3N0b3BhZGJsb2NrLm9yZycpKSB7CiAgICAgICAgICAgIC8vIFJlbW92ZQogICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ1N0b3BBZEJsb2NrJywgZmFsc2UsIGxvY2F0aW9uLmhyZWYpOwogICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudChpbnNlcnRlZE5vZGUpOwogICAgICAgICAgICAvL0Fhay5sb2coaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBBbnRpQWRibG9jayAoUGFja2VyKQogICAgICAgICAgdmFyIHJlSWZyYW1lSWQgPSAvXih6ZHx3ZCkkLzsKICAgICAgICAgIHZhciByZUltZ0lkID0gL14oeGR8Z2QpJC87CiAgICAgICAgICB2YXIgcmVJbWdTcmMgPSAvXC9hZHNcL2Jhbm5lci5qcGcvOwogICAgICAgICAgdmFyIHJlSWZyYW1lU3JjID0gLyhcL2FkaGFuZGxlclwvfFwvYWRpbWFnZXNcL3xhZC5odG1sKS87CgogICAgICAgICAgLy8gQ29tbXVucwogICAgICAgICAgaWYgKGluc2VydGVkTm9kZS5pZCAmJgogICAgICAgICAgICByZUltZ0lkLnRlc3QoaW5zZXJ0ZWROb2RlLmlkKSAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUubm9kZU5hbWUgPT0gJ0lNRycgJiYKICAgICAgICAgICAgcmVJbWdTcmMudGVzdChpbnNlcnRlZE5vZGUuc3JjKSB8fAogICAgICAgICAgICBpbnNlcnRlZE5vZGUuaWQgJiYKICAgICAgICAgICAgcmVJZnJhbWVJZC50ZXN0KGluc2VydGVkTm9kZS5pZCkgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5vZGVOYW1lID09ICdJRlJBTUUnICYmCiAgICAgICAgICAgIHJlSWZyYW1lU3JjLnRlc3QoaW5zZXJ0ZWROb2RlLnNyYykpIHsKCiAgICAgICAgICAgIC8vIFZhcmlhbnQgMQogICAgICAgICAgICBpZiAoaW5zZXJ0ZWROb2RlLmlkID09ICd4ZCcpIHsKICAgICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FudGlBZGJsb2NrUGFja2VyWmR4ZCcsIGZhbHNlLCBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgfSAvLyBWYXJpYW50IDIKICAgICAgICAgICAgZWxzZSBpZiAoaW5zZXJ0ZWROb2RlLmlkID09ICdnZCcpIHsKICAgICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FudGlBZGJsb2NrUGFja2VyV2RnZCcsIGZhbHNlLCBsb2NhdGlvbi5ocmVmKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBSZW1vdmUKICAgICAgICAgICAgLy9BYWsubG9nKGluc2VydGVkTm9kZSk7CiAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGluc2VydGVkTm9kZSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gQWR1bmJsb2NrIC0gaHR0cDovL2FkdW5ibG9jay5jb20vCiAgICAgICAgICB2YXIgcmVJZCA9IC9eW2Etel17OH0kLzsKICAgICAgICAgIHZhciByZUNsYXNzID0gL15bYS16XXs4fSBbYS16XXs4fS87CiAgICAgICAgICB2YXIgcmVCZyA9IC9eW2Etel17OH0tYmckLzsKICAgICAgICAgIHZhciByZU1lc3NhZ2UgPSAvSWwgc2VtYmxlcmFpdCBxdWUgdm91cyB1dGlsaXNpZXogdW4gYmxvcXVldXIgZGUgcHVibGljaXTDqSAhLzsKCiAgICAgICAgICAvLyBDb21tdW5zCiAgICAgICAgICBpZiAodHlwZW9mIEFhay51dy52dGZhYiAhPSAndW5kZWZpbmVkJyAmJgogICAgICAgICAgICB0eXBlb2YgQWFrLnV3LmFkYmxvY2tfYW50aWIgIT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLnBhcmVudE5vZGUgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLnBhcmVudE5vZGUubm9kZU5hbWUgPT0gJ0JPRFknICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5pZCAmJgogICAgICAgICAgICByZUlkLnRlc3QoaW5zZXJ0ZWROb2RlLmlkKSAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUubm9kZU5hbWUgPT0gJ0RJVicgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5uZXh0U2libGluZy5jbGFzc05hbWUgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nLm5vZGVOYW1lID09ICdESVYnKSB7CgogICAgICAgICAgICAvLyBGdWxsIFNjcmVlbiBNZXNzYWdlIChQcmVtaXVtKQogICAgICAgICAgICAvLyA8ZGl2IGlkPSJsZnloc3ZkcSIgY2xhc3M9InR2d25vcWRmIHN2b25leHJrIiBzdHlsZT0idG9wOiAxMDBweDsgb3BhY2l0eTogMTsgdmlzaWJpbGl0eTogdmlzaWJsZTsiPgogICAgICAgICAgICAvLyA8ZGl2IGNsYXNzPSJ0dndub3FkZi1iZyIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrOyI+PC9kaXY+CiAgICAgICAgICAgIGlmIChpbnNlcnRlZE5vZGUuY2xhc3NOYW1lICYmCiAgICAgICAgICAgICAgcmVDbGFzcy50ZXN0KGluc2VydGVkTm9kZS5jbGFzc05hbWUpICYmCiAgICAgICAgICAgICAgcmVCZy50ZXN0KGluc2VydGVkTm9kZS5uZXh0U2libGluZy5jbGFzc05hbWUpICYmCiAgICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nLnN0eWxlICYmCiAgICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7CgogICAgICAgICAgICAgIC8vIFJlbW92ZSBNZXNzYWdlCiAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCJBZFVuQmxvY2tQcmVtaXVtIik7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nKTsgLy8gb3ZlcmxheQogICAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGluc2VydGVkTm9kZSk7IC8vIGJveAogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIFRvcCBiYXIgTWVzc2FnZSAoRnJlZSkKICAgICAgICAgICAgLy8gPGRpdiBpZD0idml4bWdybHkiPgogICAgICAgICAgICAvLyA8ZGl2IGlkPSJtZm5oYWl5eCIgY2xhc3M9Imxrcm52Ynl0Ij4KICAgICAgICAgICAgZWxzZSBpZiAoaW5zZXJ0ZWROb2RlLm5leHRTaWJsaW5nLmlkICYmCiAgICAgICAgICAgICAgcmVJZC50ZXN0KGluc2VydGVkTm9kZS5uZXh0U2libGluZy5pZCkgJiYKICAgICAgICAgICAgICByZU1lc3NhZ2UudGVzdChpbnNlcnRlZE5vZGUuaW5uZXJIVE1MKSkgewoKICAgICAgICAgICAgICAvLyBSZW1vdmUgTWVzc2FnZQogICAgICAgICAgICAgIEFhay5kZXRlY3RlZCgiQWRVbkJsb2NrRnJlZSIpOwogICAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGluc2VydGVkTm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICAvLyBBbnRpYmxvY2sgLSBodHRwOi8vYW50aWJsb2NrLm9yZy8KICAgICAgICAgIHZhciByZU1zZ0lkID0gL15bYS16MC05XXs0LDEwfSQvaTsKICAgICAgICAgIHZhciByZVRhZzEgPSAvXihkaXZ8c3BhbnxifGl8Zm9udHxzdHJvbmd8Y2VudGVyKSQvaTsKICAgICAgICAgIHZhciByZVRhZzIgPSAvXihhfGJ8aXxzfHV8cXxwfHN0cm9uZ3xjZW50ZXIpJC9pOwogICAgICAgICAgdmFyIHJlV29yZHMxID0gL2FkIGJsb2NrZXJ8YWQgYmxvY2t8YWQtYmxvY2t8YWRibG9ja2VyfGFkLWJsb2NrZXJ8YWRibG9ja3xibG9xdWV1cnxibG9xdWVhZG9yfFdlcmJlYmxvY2tlcnxhZGJsb2NrZXJ0fCYjMTU3MDsmIzE1ODM7JiMxNTc2OyYjMTYwNDsmIzE2MDg7JiMxNjAzOyAmIzE1NzY7JiMxNjA0OyYjMTU4Nzt80LHQu9C+0LrQuNGA0L7QstGJ0LjQutC+0LwvaTsKICAgICAgICAgIHZhciByZVdvcmRzMiA9IC9rYXBhdHxkaXNhYmxlfGTDqXNhY3RpdmV6fGTDqXNhY3RpdmVyfGRlc2FjdGl2ZXp8ZGVzYWN0aXZlcnxkZXNhdGl2ZXxkZXNhY3RpdmFyfGRlc2FjdGl2ZXxkZXNhY3RpdmF8ZGVha3RpdmllcmV8ZGlzYWJpbGl0YXJlfCYjOTQ1OyYjOTYwOyYjOTQ5OyYjOTU3OyYjOTQ5OyYjOTYxOyYjOTQ3OyYjOTU5OyYjOTYwOyYjOTU5OyYjOTQzOyYjOTUxOyYjOTYzOyYjOTUxO3wmIzEwNzk7JiMxMDcyOyYjMTA4NzsmIzEwODg7JiMxMDc3OyYjMTA5NzsmIzEwNzI7JiMxMDkwOyYjMTEwMDt8w6FsbMOtdHNkIGxlfHB1YmxpY2l0w6lzfNGA0LXQutC70LDQvNC1fHZlcmhpbmRlcnR8YWR2ZXJ0fGthcGF0xLFuxLF6L2k7CgogICAgICAgICAgLy8gQW50aWJsb2NrLm9yZyAoYWxsIHZlcnNpb24pCiAgICAgICAgICBpZiAoaW5zZXJ0ZWROb2RlLnBhcmVudE5vZGUgJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmlkICYmCiAgICAgICAgICAgIGluc2VydGVkTm9kZS5zdHlsZSAmJgogICAgICAgICAgICBpbnNlcnRlZE5vZGUuY2hpbGROb2Rlcy5sZW5ndGggJiYKICAgICAgICAgICAgaW5zZXJ0ZWROb2RlLmZpcnN0Q2hpbGQgJiYKICAgICAgICAgICAgIWluc2VydGVkTm9kZS5maXJzdENoaWxkLmlkICYmCiAgICAgICAgICAgICFpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5jbGFzc05hbWUgJiYKICAgICAgICAgICAgcmVNc2dJZC50ZXN0KGluc2VydGVkTm9kZS5pZCkgJiYKICAgICAgICAgICAgcmVUYWcxLnRlc3QoaW5zZXJ0ZWROb2RlLm5vZGVOYW1lKSAmJgogICAgICAgICAgICByZVRhZzIudGVzdChpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5ub2RlTmFtZSkpIHsKICAgICAgICAgICAgLy9BYWsubG9nKGluc2VydGVkTm9kZSk7CgogICAgICAgICAgICAvLyBLaWxsIGF1ZGlvIG1lc3NhZ2UKICAgICAgICAgICAgdmFyIGF1ZGlvID0gaW5zZXJ0ZWROb2RlLnF1ZXJ5U2VsZWN0b3IoImF1ZGlvW2xvb3BdIik7CiAgICAgICAgICAgIGlmIChhdWRpbykgewogICAgICAgICAgICAgIGF1ZGlvLnBhdXNlKCk7CiAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdBbnRpYmxvY2t7YXVkaW99Jyk7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoYXVkaW8pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIEFudGlibG9jay5vcmcgdjIKICAgICAgICAgICAgLy8gZGVtbzogaHR0cDovL3Rpbnl1cmwuY29tL2gzbXd0YTQKICAgICAgICAgICAgZWxzZSBpZiAoKEFhay5hYWJzLmFibzIgJiYgaW5zZXJ0ZWROb2RlLmlkID09IEFhay5hYWJzLmFibzIpIHx8CiAgICAgICAgICAgICAgKGluc2VydGVkTm9kZS5maXJzdENoaWxkLmhhc0NoaWxkTm9kZXMoKSAmJiByZVdvcmRzMS50ZXN0KGluc2VydGVkTm9kZS5maXJzdENoaWxkLmlubmVySFRNTCkgJiYgcmVXb3JkczIudGVzdChpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5pbm5lckhUTUwpKSkgewogICAgICAgICAgICAgIEFhay5kZXRlY3RlZCgnQW50aWJsb2NrMntpbnNlcnR9Jyk7CiAgICAgICAgICAgICAgQWFrLnJlbW92ZUVsZW1lbnQoaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBBbnRpYmxvY2sub3JnIHYzCiAgICAgICAgICAgIC8vIGRlbW86IGh0dHA6Ly90aW55dXJsLmNvbS9xZWNmYTd3CiAgICAgICAgICAgIC8vIGNhc2U6IGh0dHA6Ly90aW55dXJsLmNvbS96YnJscjNhIC8qIGZvcmsgKi8KICAgICAgICAgICAgZWxzZSBpZiAoKEFhay5hYWJzLmFibzMgJiYgaW5zZXJ0ZWROb2RlLmlkID09IEFhay5hYWJzLmFibzMpIHx8CiAgICAgICAgICAgICAgKGluc2VydGVkTm9kZS5maXJzdENoaWxkLmhhc0NoaWxkTm9kZXMoKSAmJiBpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5maXJzdENoaWxkLm5vZGVOYW1lID09ICdJTUcnICYmIC9eZGF0YTppbWFnZVwvcG5nO2Jhc2U2NC8udGVzdChpbnNlcnRlZE5vZGUuZmlyc3RDaGlsZC5maXJzdENoaWxkLnNyYykpKSB7CiAgICAgICAgICAgICAgQWFrLnV3W0Fhay5hYWJzLmFibzNdID0gbnVsbDsKICAgICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0FudGlibG9jazN7aW5zZXJ0fScpOwogICAgICAgICAgICAgIEFhay5yZW1vdmVFbGVtZW50KGluc2VydGVkTm9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gQmV0dGVyU3RvcEFkYmxvY2sKICAgICAgICAgICAgLy8gZGVtbzogaHR0cDovL3Rpbnl1cmwuY29tL2pzOXphdDQKICAgICAgICAgICAgLy8gc291cmNlOiBodHRwOi8vcGFzdGViaW4uY29tL1lpbWtydEtCCiAgICAgICAgICAgIC8vIGlzc3VlOiBodHRwOi8vdGlueXVybC5jb20vemV0Z2J0eAogICAgICAgICAgICBlbHNlIGlmIChBYWsuYWFicy5ic2EgJiYgaW5zZXJ0ZWROb2RlLmlkID09IEFhay5hYWJzLmJzYSkgewogICAgICAgICAgICAgIEFhay51d1tBYWsuYWFicy5ic2FdID0gbnVsbDsKICAgICAgICAgICAgICBBYWsuZGV0ZWN0ZWQoJ0JldHRlclN0b3BBZGJsb2Nre2luc2VydH0nKTsKICAgICAgICAgICAgICBBYWsucmVtb3ZlRWxlbWVudChpbnNlcnRlZE5vZGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vICBNYW55IGZhbHNlIHBvc2l0aXZlCiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIC8vQWFrLnJlbW92ZUVsZW1lbnQoaW5zZXJ0ZWROb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGJsb2NrRGV0ZWN0IDogZnVuY3Rpb24gKCkgewoKICAgICAgLy8gRXhjbHVkZSBkb21haW5zCiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xNDY2CiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy8xMjYzCiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL2ZvcnVtL2Rpc2N1c3Npb24vODQyMi8KICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzk4NgogICAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3JlZWsvYW50aS1hZGJsb2NrLWtpbGxlci9pc3N1ZXMvODU3CiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy82MTcKICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZnIvZm9ydW0vZGlzY3Vzc2lvbi81NDI2CiAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVlay9hbnRpLWFkYmxvY2sta2lsbGVyL2lzc3Vlcy80MTkKICAgICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWVrL2FudGktYWRibG9jay1raWxsZXIvaXNzdWVzLzM3NwogICAgICB2YXIgZXhjbHVkZXMgPSBbIjM2MC5jbiIsICJhbWF6b24uIiwgImFwcGxlLmNvbSIsICJhc2suY29tIiwgImJhaWR1LmNvbSIsICJiaW5nLmNvbSIsICJidWZmZXJhcHAuY29tIiwgImNoYXRhbmdvLmNvbSIsICJjaHJvbWVhY3Rpb25zLmNvbSIsICJlYXN5aW5wbGF5Lm5ldCIsICJlYmF5LmNvbSIsICJmYWNlYm9vay5jb20iLCAiZmxhdHRyLmNvbSIsICJmbGlja3IuY29tIiwgImdoYWNrcy5uZXQiLCAiZ29vZ2xlLiIsICJpbWRiLmNvbSIsICJpbWdib3guY29tIiwgImltZ3VyLmNvbSIsICJpbnN0YWdyYW0uY29tIiwgImpzYmluLmNvbSIsICJqc2ZpZGRsZS5uZXQiLCAibGlua2VkaW4uY29tIiwgImxpdmUuY29tIiwgIm1haWwucnUiLCAibWljcm9zb2Z0LmNvbSIsICJtc24uY29tIiwgInBheXBhbC5jb20iLCAicGludGVyZXN0LmNvbSIsICJwcmVsb2FkZXJzLm5ldCIsICJxcS5jb20iLCAicmVkZGl0LmNvbSIsICJzdGFja292ZXJmbG93LmNvbSIsICJ0YW1wZXJtb25rZXkubmV0IiwgInR3aXR0ZXIuY29tIiwgInZpbWVvLmNvbSIsICJ3aWtpcGVkaWEub3JnIiwgInczc2Nob29scy5jb20iLCAieWFob28uIiwgInlhbmRleC5ydSIsICJ5b3V0dS5iZSIsICJ5b3V0dWJlLmNvbSIsICJ4ZW12dHYubmV0IiwgInZvZC5wbCIsICJhZ2FyLmlvIiwgInBhbmRvb24uaW5mbyIsICJmc2Yub3JnIiwgImFkYmxvY2twbHVzLm9yZyIsICJwbG5rci5jbyIsICJleGFjdHRhcmdldC5jb20iLCAiZG9sbGRpdmluZS5jb20iLCAicG9wbWVjaC5ydSIsICJjYWxtLmNvbSJdOwogICAgICB2YXIgaG9zdCA9IGxvY2F0aW9uLmhvc3Q7CiAgICAgIHZhciBleGNsdWRlZCA9IGZhbHNlOwogICAgICBleGNsdWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChleGNsdWRlKSB7CiAgICAgICAgaWYgKG5ldyBSZWdFeHAoZXhjbHVkZSkudGVzdChob3N0KSkgewogICAgICAgICAgZXhjbHVkZWQgPSB0cnVlOwogICAgICAgICAgaWYgKEFhay5vcHRzLmxvZ0V4Y2x1ZGVkKSB7CiAgICAgICAgICAgIEFhay53YXJuKCdFeGNsdWRlZCcpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICAvLyBJbmNsdWRlIGRvbWFpbnMKICAgICAgLy8gSXNFdmVudHVwcG9ydGVkOiBodHRwOi8vdGlueXVybC5jb20vb2VlejhjNwogICAgICBpZiAoIWV4Y2x1ZGVkKSB7CgogICAgICAgIHZhciBoYW5kbGVyRXZlbnRzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHJ1bGUgPSBBYWsucnVsZXNbbmFtZV07CgogICAgICAgICAgcnVsZS5ob3N0LmZvckVhY2goZnVuY3Rpb24gKGhvc3QpIHsKICAgICAgICAgICAgLy8gQ2hlY2sgaG9zdAogICAgICAgICAgICBpZiAobmV3IFJlZ0V4cChob3N0KS50ZXN0KGxvY2F0aW9uLmhvc3QpKSB7CgogICAgICAgICAgICAgIC8vIE5hdGl2ZSBtb2RlCiAgICAgICAgICAgICAgaWYgKCFBYWsudXNlR00gJiYgQWFrLmlzVG9wZnJhbWUpIHsKICAgICAgICAgICAgICAgIEFhay53YXJuKCdSdW4gbmF0aXZlbHkuJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBMb2cgcnVsZSB1c2VkCiAgICAgICAgICAgICAgaWYgKHJ1bGUuaG9zdFswXSAhPSAnLio/JykgewogICAgICAgICAgICAgICAgQWFrLmRldGVjdGVkKCdydWxlJywgcnVsZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIAogICAgICAgICAgICAgIC8vIEJlZm9yZSBET00gbG9hZAogICAgICAgICAgICAgIGlmIChydWxlLm9uU3RhcnQpIHsKICAgICAgICAgICAgICAgIHJ1bGUub25TdGFydCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBPbiBhbGwgc3RhdGVtZW50cwogICAgICAgICAgICAgIGlmIChydWxlLm9uQWx3YXlzKSB7CiAgICAgICAgICAgICAgICBydWxlLm9uQWx3YXlzKCk7IC8vIHN0YXJ0CiAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICdET01Db250ZW50TG9hZGVkJywgcnVsZS5vbkFsd2F5cyk7IC8vIGlkbGUKICAgICAgICAgICAgICAgIEFhay5vbkV2ZW50KHdpbmRvdywgJ2xvYWQnLCBydWxlLm9uQWx3YXlzKTsgLy8gZW5kCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIEJlZm9yZSBTY3JpcHQgRXhlY3V0ZWQKICAgICAgICAgICAgICBpZiAocnVsZS5vbkJlZm9yZVNjcmlwdCkgewoKICAgICAgICAgICAgICAgIC8vIG9wdGlvbnM6IGNvbnRhaW5zLCBzZWFyY2gsIHJlcGxhY2UsIG92ZXJyaWRlLCByZW1vdmUsIGV4dGVybmFsCiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uc0JlZm9yZVNjcmlwdCA9IHJ1bGUub25CZWZvcmVTY3JpcHQoKTsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc0JlZm9yZVNjcmlwdCA9PSAib2JqZWN0IikgewoKICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZXJCZWZvcmVTY3JpcHQgPSBmdW5jdGlvbiAoZSwgb3B0aW9ucykgewogICAgICAgICAgICAgICAgICAgIHZhciBpc0V2ZW50ID0gZSBpbnN0YW5jZW9mIHdpbmRvdy5FdmVudDsKICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1NjcmlwdCA9IChlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQpIHx8IGU7CgogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobykgeyAvLyBoYXNBdHRyaWJ1dGUKICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmMgPSBvLmV4dGVybmFsID8gJ3NyYycgOiAnaW5uZXJIVE1MJzsKICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWFyY2ggPSBuZXcgUmVnRXhwKG8uY29udGFpbnMsIG8uZmxhZ3MgfHwgJycpOwoKICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2NyaXB0W3NyY10gJiYgdGhpc1NjcmlwdFtzcmNdLmxlbmd0aCAmJiBzZWFyY2gudGVzdCh0aGlzU2NyaXB0W3NyY10pKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9wIHNjcmlwdCBleGVjdXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBzY3JpcHQKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXNTY3JpcHQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBhIHBhcnQgb2YgdGhlIHNjcmlwdAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5yZXBsYWNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NyaXB0W3NyY10gPSB0aGlzU2NyaXB0W3NyY10ucmVwbGFjZShzZWFyY2gsIG8ucmVwbGFjZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdTY3JpcHQsIHRoaXNTY3JpcHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9IC8vIE92ZXJyaWRlIHNjcmlwdAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvLm92ZXJyaWRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NyaXB0W3NyY10gPSBvLm92ZXJyaWRlOwogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobmV3U2NyaXB0LCB0aGlzU2NyaXB0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBSZW1vdmUgc2NyaXB0CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG8ucmVtb3ZlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXNTY3JpcHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5kZXRlY3RlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIEFhay5kZXRlY3RlZChvLmRldGVjdGVkKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQkJCQkJCQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFhay5vcHRzLmxvZ0ludGVyY2VwdGVkU2NyaXB0cykgewogICAgICAgICAgICAgICAgICAgICAgICAgIEFhay5sb2coc3JjLCBvLCB0aGlzU2NyaXB0LCBuZXdTY3JpcHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAvLyBCcm93c2VyIHN1cHBvcnRpbmcgZXZlbnQgYmVmb3Jlc2NyaXB0ZXhlY3V0ZQogICAgICAgICAgICAgICAgICBpZiAoJ29uYmVmb3Jlc2NyaXB0ZXhlY3V0ZScgaW4gZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICdiZWZvcmVzY3JpcHRleGVjdXRlJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJCZWZvcmVTY3JpcHQoZSwgb3B0aW9uc0JlZm9yZVNjcmlwdCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIEJyb3dzZXIgbm90IHN1cHBvdGluZyBiZWZvcmVzY3JpcHRleGVjdXRlCgogICAgICAgICAgICAgICAgICAgIHZhciBsb2FkRG9jdW1lbnQgPSBmdW5jdGlvbiAob3B0aW9uc0JlZm9yZVNjcmlwdCkgewogICAgICAgICAgICAgICAgICAgICAgLy9pZiAoZG9jdW1lbnQucmVmZXJyZXIgPT09ICcnKQogICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm47CgogICAgICAgICAgICAgICAgICAgICAgQWFrLndhcm4oJ29uYmVmb3Jlc2NyaXB0LWNvbXBhdGlibGUnKTsKCiAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9wIGxvYWRpbmcKICAgICAgICAgICAgICAgICAgICAgIEFhay5hZGRTY3JpcHQoJ3dpbmRvdy5zdG9wKCk7Jyk7IC8vIGNocm9tZS9vcGVyYQogICAgICAgICAgICAgICAgICAgICAgLy9BYWsuYWRkU2NyaXB0KCdkb2N1bWVudC5vcGVuKCk7Jyk7IC8vIGZpcmVmb3gKCiAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgY29udGVudAogICAgICAgICAgICAgICAgICAgICAgQWFrLnJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICB1cmwgOiBsb2NhdGlvbi5ocmVmLAogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzIDogewogICAgICAgICAgICAgICAgICAgICAgICAgICJSZWZlcmVyIiA6IGRvY3VtZW50LnJlZmVycmVyCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZCA6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IHJlc3VsdC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnNlciA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoaHRtbCwgInRleHQvaHRtbCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JpcHRzID0gZG9jLnNjcmlwdHM7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTY3JpcHQgPSBzY3JpcHRzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlckJlZm9yZVNjcmlwdCh0aGlzU2NyaXB0LCBvcHRpb25zQmVmb3JlU2NyaXB0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdG8gc3RyaW5nCiAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXcml0ZSBuZXcgY29udGVudCB0byBIVE1MIGRvY3VtZW50OgogICAgICAgICAgICAgICAgICAgICAgICAgIEFhay5hZGRTY3JpcHQoJ2RvY3VtZW50Lm9wZW4oKTsgZG9jdW1lbnQud3JpdGUodW5lc2NhcGUoIicgKyB3aW5kb3cuZXNjYXBlKGh0bWwpICsgJyIpKTsgZG9jdW1lbnQuY2xvc2UoKTsnKTsgLy8gY2hyb21lL29wZXJhCiAgICAgICAgICAgICAgICAgICAgICAgICAgLy9BYWsuYWRkU2NyaXB0KCdkb2N1bWVudC53cml0ZSh1bmVzY2FwZSgiJyArIGVzY2FwZShodG1sKSArICciKSk7IGRvY3VtZW50LmNsb3NlKCk7Jyk7IC8vIGZpcmVmb3gKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBsb2FkRG9jdW1lbnQob3B0aW9uc0JlZm9yZVNjcmlwdCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IC8vIEFmdGVyIFNjcmlwdCBFeGVjdXRlZAogICAgICAgICAgICAgIGlmIChydWxlLm9uQWZ0ZXJTY3JpcHQpIHsKICAgICAgICAgICAgICAgIGlmICgnb25hZnRlcnNjcmlwdGV4ZWN1dGUnIGluIGRvY3VtZW50KSB7IC8vIE1vemlsbGEgRmlyZWZveAogICAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICdhZnRlcnNjcmlwdGV4ZWN1dGUnLCBydWxlLm9uQWZ0ZXJTY3JpcHQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBXaGVuIERPTSBMb2FkCiAgICAgICAgICAgICAgaWYgKHJ1bGUub25JZGxlKSB7CiAgICAgICAgICAgICAgICBpZiAoIUFhay51c2VHTSkgeyAvLyBOYXRpdmUgbW9kZQogICAgICAgICAgICAgICAgICBydWxlLm9uSWRsZSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy9BYWsub25FdmVudCh3aW5kb3csICdET01Db250ZW50TG9hZGVkJywgcnVsZS5vbklkbGUpOwogICAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICdET01Db250ZW50TG9hZGVkJywgcnVsZS5vbklkbGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBXaGVuIFdpbmRvdyBMb2FkCiAgICAgICAgICAgICAgaWYgKHJ1bGUub25FbmQpIHsKICAgICAgICAgICAgICAgIGlmICghQWFrLnVzZUdNKSB7IC8vIE5hdGl2ZSBtb2RlCiAgICAgICAgICAgICAgICAgIHJ1bGUub25FbmQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIEFhay5vbkV2ZW50KHdpbmRvdywgJ2xvYWQnLCBydWxlLm9uRW5kKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gV2hlbiBET00gQXR0ck1vZGlmaWVkCiAgICAgICAgICAgICAgaWYgKHJ1bGUub25BdHRyTW9kaWZpZWQpIHsKICAgICAgICAgICAgICAgIEFhay5vbkV2ZW50KHdpbmRvdywgJ0RPTUF0dHJNb2RpZmllZCcsIHJ1bGUub25BdHRyTW9kaWZpZWQsIGZhbHNlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gV2hlbiBET00gU3VidHJlZU1vZGlmaWVkCiAgICAgICAgICAgICAgaWYgKHJ1bGUub25TdWJ0cmVlTW9kaWZpZWQpIHsKICAgICAgICAgICAgICAgIEFhay5vbkV2ZW50KHdpbmRvdywgJ0RPTVN1YnRyZWVNb2RpZmllZCcsIHJ1bGUub25TdWJ0cmVlTW9kaWZpZWQsIGZhbHNlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gV2hlbiBET00gRWxlbWVudHMgYXJlIEluc2VydGVkIGluIERvY3VtZW50CiAgICAgICAgICAgICAgaWYgKHJ1bGUub25JbnNlcnQpIHsKCiAgICAgICAgICAgICAgICAvLyBNdXRhdGlvbiBPYnNlcnZlcgogICAgICAgICAgICAgICAgLy8gZG9jOiBodHRwOi8vdGlueXVybC5jb20vbXh4emVlNAogICAgICAgICAgICAgICAgLy8gc3VwcG9ydDogaHR0cDovL3Rpbnl1cmwuY29tL25lcG43dnkKICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgIT0gJ3VuZGVmaW5lZCcgfHwKICAgICAgICAgICAgICAgICAgdHlwZW9mIFdlYktpdE11dGF0aW9uT2JzZXJ2ZXIgIT0gJ3VuZGVmaW5lZCcpIHsKCiAgICAgICAgICAgICAgICAgIC8vIE11dGF0aW9uIE9ic2VydmVyCiAgICAgICAgICAgICAgICAgIHZhciBNdXRhdGlvbk9ic2VydmVyMSA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyOwoKICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIG9ic2VydmVyIGluc3RhbmNlCiAgICAgICAgICAgICAgICAgIHZhciBvYnMxID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIxKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBzYWZlbHkgdXNlIGBmb3JFYWNoYCBiZWNhdXNlIHdlIGFscmVhZHkgdXNlIG11dGF0aW9uCiAgICAgICAgICAgICAgICAgICAgICAvLyBvYnNlcnZlcnMgdGhhdCBhcmUgbW9yZSByZWNlbnQgdGhhbiBgZm9yRWFjaGAuIChzb3VyY2U6IE1ETikKICAgICAgICAgICAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSB3YW50IG9ubHkgYWRkZWQgbm9kZXMKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChtdXRhdGlvbi5hZGRlZE5vZGVzLCBmdW5jdGlvbiAoYWRkZWROb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQWFrLm9wdHMubG9nSW5zZXJ0ZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBYWsubG9nKGFkZGVkTm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlLm9uSW5zZXJ0KGFkZGVkTm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAvLyBPYnNlcnZlcgogICAgICAgICAgICAgICAgICBvYnMxLm9ic2VydmUoZG9jdW1lbnQsIHsKICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3QgOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHN1YnRyZWUgOiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gTXV0YXRpb24gRXZlbnRzIChBbHRlcm5hdGl2ZSBTb2x1dGlvbikKICAgICAgICAgICAgICAgIC8vIGRvYzogaHR0cDovL3Rpbnl1cmwuY29tL29wOTVyZnkKICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICBBYWsub25FdmVudCh3aW5kb3csICJET01Ob2RlSW5zZXJ0ZWQiLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChBYWsub3B0cy5sb2dJbnNlcnRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBBYWsubG9nKGUudGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcnVsZS5vbkluc2VydChlLnRhcmdldCk7CiAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gV2hlbiBET00gRWxlbWVudHMgYXJlIFJlbW92ZWQgaW4gRG9jdW1lbnQKICAgICAgICAgICAgICBpZiAocnVsZS5vblJlbW92ZSkgewoKICAgICAgICAgICAgICAgIC8vIE11dGF0aW9uIE9ic2VydmVyCiAgICAgICAgICAgICAgICAvLyBkb2M6IGh0dHA6Ly90aW55dXJsLmNvbS9teHh6ZWU0CiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0OiBodHRwOi8vdGlueXVybC5jb20vbmVwbjd2eQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciAhPSAndW5kZWZpbmVkJyB8fAogICAgICAgICAgICAgICAgICB0eXBlb2YgV2ViS2l0TXV0YXRpb25PYnNlcnZlciAhPSAndW5kZWZpbmVkJykgewoKICAgICAgICAgICAgICAgICAgLy8gTXV0YXRpb24gT2JzZXJ2ZXIKICAgICAgICAgICAgICAgICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7CgogICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYW4gb2JzZXJ2ZXIgaW5zdGFuY2UKICAgICAgICAgICAgICAgICAgdmFyIG9iczIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcjIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2FuIHNhZmVseSB1c2UgYGZvckVhY2hgIGJlY2F1c2Ugd2UgYWxyZWFkeSB1c2UgbXV0YXRpb24KICAgICAgICAgICAgICAgICAgICAgIC8vIG9ic2VydmVycyB0aGF0IGFyZSBtb3JlIHJlY2VudCB0aGFuIGBmb3JFYWNoYC4gKHNvdXJjZTogTUROKQogICAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHdhbnQgb25seSByZW1vdmVkIG5vZGVzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi5yZW1vdmVkTm9kZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChtdXRhdGlvbi5yZW1vdmVkTm9kZXMsIGZ1bmN0aW9uIChyZW1vdmVkTm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFhay5vcHRzLmxvZ1JlbW92ZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBYWsubG9nKHJlbW92ZWROb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUub25SZW1vdmUocmVtb3ZlZE5vZGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgLy8gT2JzZXJ2ZXIKICAgICAgICAgICAgICAgICAgb2JzMi5vYnNlcnZlKGRvY3VtZW50LCB7CiAgICAgICAgICAgICAgICAgICAgY2hpbGRMaXN0IDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBzdWJ0cmVlIDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIE11dGF0aW9uIEV2ZW50cyAoQWx0ZXJuYXRpdmUgU29sdXRpb24pCiAgICAgICAgICAgICAgICAvLyBkb2M6IGh0dHA6Ly90aW55dXJsLmNvbS9vcDk1cmZ5CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgQWFrLm9uRXZlbnQod2luZG93LCAiRE9NTm9kZVJlbW92ZWQiLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChBYWsub3B0cy5sb2dSZW1vdmVkTm9kZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIEFhay5sb2coZS50YXJnZXQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBydWxlLm9uUmVtb3ZlKGUudGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgfSwgZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAKICAgICAgICAgICAgICAvLyBBYWsgRXZlbnRzCiAgICAgICAgICAgICAgQWFrLm9uRXZlbnQod2luZG93LCAnZGV0ZWN0ZWQnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgQWFrLmluZm8oWydBbnRpQWRiS2lsbGVyJywgQWFrLmlzVG9wZnJhbWUgPyAndG9wZnJhbWUnIDogJ3N1YmZyYW1lJywgbG9jYXRpb24uaG9zdCwgZS5kZXRhaWxdKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgLy8gQXBwbHkgcnVsZXMKICAgICAgICBmb3IgKHZhciBuYW1lIGluIEFhay5ydWxlcykgewogICAgICAgICAgaWYgKEFhay5ydWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgewogICAgICAgICAgICBoYW5kbGVyRXZlbnRzKEFhaywgbmFtZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgQWFrLmluaXRpYWxpemUoKTsKCn0pKHdpbmRvdyk7"},{"name":"youku-html5-player","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":["http://www.acfun.tv/","http://*.weibo.com/*","http://*.sinaimg.cn/*","http://*.yinyuetai.com/*"],"orig_includes":["http://*.youku.com/*","http://v.youku.com/*","http://*.tudou.com/*","http://tv.sohu.com/*","http://*.iqiyi.com/*","http://*.letv.com/*","http://video.sina.com.cn/*","http://v.qq.com/*","http://61.147.76.6/*","http://222.141.53.5/*","http://*.56.com/*","http://*.bilibili.com/*","http://*.acfun.tv/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"ts":1490417064448,"data":{}},"enabled":true,"position":40,"file_url":"https://greasyfork.org/scripts/19282-youku-html5-player/code/youku-html5-player.user.js","uuid":"b9d8beb9-e1e7-4b0a-9a48-def10d9c91af","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICB5b3VrdS1odG1sNS1wbGF5ZXIKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8venl0aHVtLnNpbmFhcHAuY29tL3lvdWt1aHRtbDVwbGF5ZXJib29rbWFyay8KLy8gQHZlcnNpb24gICAgICAyLjAgYmV0YQovLyBAZGVzY3JpcHRpb24gIFRoZSBQcm9ncmFtbWUgb2YgTW90aGVyIERvbid0IFdvcnJ5IEFib3V0IE15IE1hY2Jvb2sgQnVybmluZyBBbnkgTW9yZSB2Mi4wIEJldGEKLy8gQGluY2x1ZGUgICAgICBodHRwOi8vKi55b3VrdS5jb20vKgovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly92LnlvdWt1LmNvbS8qCi8vIEBpbmNsdWRlICAgICAgaHR0cDovLyoudHVkb3UuY29tLyoKLy8gQGluY2x1ZGUgICAgICBodHRwOi8vdHYuc29odS5jb20vKgovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly8qLmlxaXlpLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgaHR0cDovLyoubGV0di5jb20vKgovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly92aWRlby5zaW5hLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICAgaHR0cDovL3YucXEuY29tLyoKLy8gQGluY2x1ZGUgICAgICBodHRwOi8vNjEuMTQ3Ljc2LjYvKgovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly8yMjIuMTQxLjUzLjUvKgovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly8qLjU2LmNvbS8qCi8vIEBpbmNsdWRlICAgICAgaHR0cDovLyouYmlsaWJpbGkuY29tLyoKLy8gQGluY2x1ZGUgICAgICBodHRwOi8vKi5hY2Z1bi50di8qCi8vIEBleGNsdWRlICAgICAgaHR0cDovL3d3dy5hY2Z1bi50di8KLy8gQGV4Y2x1ZGUgICAgICBodHRwOi8vKi53ZWliby5jb20vKgovLyBAZXhjbHVkZSAgICAgIGh0dHA6Ly8qLnNpbmFpbWcuY24vKgovLyBAZXhjbHVkZSAgICAgIGh0dHA6Ly8qLnlpbnl1ZXRhaS5jb20vKgovLyBAY29weXJpZ2h0ICAyMDEyLTIwMTMsIHp5dGh1bSA8enl0aHVtMDJAZ21haWwuY29tPiAoaHR0cDovL2F0YWxhc2lpLmNvbS8pCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCl7dmFyIGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7bC5zZXRBdHRyaWJ1dGUoJ3JlbCcsJ3N0eWxlc2hlZXQnKTtsLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCdhbGwnKTtsLnNldEF0dHJpYnV0ZSgnaHJlZicsJ2h0dHA6Ly96eXRodW0uc2luYWFwcC5jb20veW91a3VodG1sNXBsYXllcmJvb2ttYXJrL3lvdWt1aHRtbDVwbGF5ZXJib29rbWFyazIuY3NzJyk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsKTt2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO3Muc2V0QXR0cmlidXRlKCdzcmMnLCdodHRwOi8venl0aHVtLnNpbmFhcHAuY29tL3lvdWt1aHRtbDVwbGF5ZXJib29rbWFyay95b3VrdWh0bWw1cGxheWVyYm9va21hcmsyLmpzJyk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTt9KSgpOw=="},{"name":"YoukuAntiADs+","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http://*/*","https://*/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"ts":1490417089309,"data":{}},"enabled":true,"position":41,"file_url":"https://greasyfork.org/scripts/5951-youkuantiads/code/YoukuAntiADs+.user.js","uuid":"89c3910e-0e04-4b9c-8f1c-744f21d251e9","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgWW91a3VBbnRpQURzKwovLyBAYXV0aG9yIEhhcnYuYywgZmZmb25pb24KLy8gQGRlc2NyaXB0aW9uIOS9oOeMnOeMnAovLyBAdmVyc2lvbiAwLjIuNgovLyBAbmFtZXNwYWNlIGh0dHA6Ly91c2Vyc2NyaXB0cy5vcmc6ODA4MC91c2Vycy9IYXJ2Ci8vIEBpbmNsdWRlIGh0dHA6Ly8qLyoKLy8gQGluY2x1ZGUgaHR0cHM6Ly8qLyoKLy8gQGdyYW50IEdNX3htbGh0dHBSZXF1ZXN0Ci8vID09L1VzZXJTY3JpcHQ9PQooZnVuY3Rpb24oKSB7CiAgICBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBmbiA9IHRoaXMsIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLCBvYmogPSBhcmdzLnNoaWZ0KCk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkob2JqLCBhcmdzLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7CiAgICAgICAgfTsKICAgIH07CgogICAgZnVuY3Rpb24gWW91a3VBbnRpQWRzKCkgIHt9CiAgICBZb3VrdUFudGlBZHMucHJvdG90eXBlID0gewogICAgICAgIF9wbGF5ZXJzOiBudWxsLAogICAgICAgIF9ydWxlczogbnVsbCwKICAgICAgICBfZG9uZTogbnVsbCwKCQkvLyBpVVJMOiBjaHJvbWUuZXh0ZW5zaW9uLmdldFVSTCgnc3dmLycpLCAgLy/mnKzlnLDlnLDlnYAs6buY6K6k77yBCiAgICAgICAgaVVSTDogJ2h0dHA6Ly9oYWhhLnRkaW1nLmNvbS9hbnRpYWQvJywgIC8v5Zyo57q/5Zyw5Z2ACiAgICAgICAgaVVSTF9vbjogJ2h0dHA6Ly9oYWhhLnRkaW1nLmNvbS9hbnRpYWQvJywgLy/lv4XpobvlnKjnur/nmoTlnLDlnYAKICAgICAgICBnZXQgcGxheWVycygpIHsKICAgICAgICAgICAgaWYoIXRoaXMuX3BsYXllcnMpIHsKICAgICAgICAgICAgICAgIHRoaXMuX3BsYXllcnMgPSB7CgkJCQkJLy89PT09PT09PT09PT09PT09PT09PT3lnKjnur/niYhvcuacrOWcsOeJiO+8iOeUsWlVUkzlhrPlrprvvInlnLDlnYDlvIDlp4s9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8v5Y+M6Jma57q/5LmL5YmN5Li65Zyo57q/5Zyw5Z2A77yM6K+36Ieq6KGM6ZyA6K+l5pyN5Yqh5Zmo5Zyw5Z2A77yB5aaC5L2/55So5pys5Zyw54mI6K+35rOo6YeK5o6J5Y+M6Jma57q/5Lul5LiK5Zyw5Z2ACiAgICAgICAgICAgICAgICAgICAgJ3lvdWt1X2xvYWRlcic6IHRoaXMuaVVSTCArICdsb2FkZXIuc3dmJywKICAgICAgICAgICAgICAgICAgICAneW91a3VfcGxheWVyJzogdGhpcy5pVVJMICsgJ3BsYXllci5zd2YnLAogICAgICAgICAgICAgICAgICAgICdrdTYnOiB0aGlzLmlVUkwgKyAna3U2LnN3ZicsCiAgICAgICAgICAgICAgICAgICAgJ2t1Nl9vdXQnOiB0aGlzLmlVUkwgKyAna3U2X291dC5zd2YnLAogICAgICAgICAgICAgICAgICAgICdpcWl5aSc6IHRoaXMuaVVSTCArICdpcWl5aS5zd2YnLAogICAgICAgICAgICAgICAgICAgICdpcWl5aTUnOiB0aGlzLmlVUkwgKyAnaXFpeWk1LnN3ZicsCiAgICAgICAgICAgICAgICAgICAgJ2lxaXlpX291dCc6IHRoaXMuaVVSTCArICdpcWl5aV9vdXQuc3dmJywKICAgICAgICAgICAgICAgICAgICAncHBzJzogdGhpcy5pVVJMICsgJ3Bwcy5zd2YnLAogICAgICAgICAgICAgICAgICAgICdwcGxpdmUnOiB0aGlzLmlVUkwgKyAncHBsaXZlLnN3ZicsCiAgICAgICAgICAgICAgICAgICAgJ3BwbGl2ZV9saXZlJzogdGhpcy5pVVJMICsgJ3BwbGl2ZV9saXZlLnN3ZicsCiAgICAgICAgICAgICAgICAgICAgJ3R1ZG91JzogdGhpcy5pVVJMICsgJ3R1ZG91LnN3ZicsCiAgICAgICAgICAgICAgICAgICAgLy8nbGV0dic6IHRoaXMuaVVSTCArICdsZXR2LnN3ZicsCiAgICAgICAgICAgICAgICAgICAgJ3NvaHUnOnRoaXMuaVVSTCArICdzb2h1LnN3ZicsCiAgICAgICAgICAgICAgICAgICAgJ3NvaHVfbGl2ZSc6IHRoaXMuaVVSTCArICdzb2h1X2xpdmUuc3dmJywKLy89PT09PT09PT09PT09PT09PT09PT095b+F6aG75Zyo57q/54mI5Zyw5Z2A5byA5aeLPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy/lj4zomZrnur/kuYvpl7TnmoTlnLDlnYDkuI3og73mjaLkuLrmnKzlnLDlnLDlnYDvvIzlkKbliJnlpJbogZTlh7rplJnvvIzor7flsL3ph4/mm7TmlLnkuLroh6rlt7HnmoTmnI3liqHlmajlnLDlnYDvvIEKICAgICAgICAgICAgICAgICAgICAnbGV0dic6IHRoaXMuaVVSTF9vbiArICdsZXR2LnN3ZicsCiAgICAgICAgICAgICAgICAgICAgLy8nbGV0dl9jJzogdGhpcy5pVVJMX29uICsgJ2xldHYwMjI1LnN3ZicsCiAgICAgICAgICAgICAgICAgICAgJ3R1ZG91X29sYyc6IHRoaXMuaVVSTF9vbiArICdvbGNfOC5zd2YnLAogICAgICAgICAgICAgICAgICAgICd0dWRvdV9zcCc6IHRoaXMuaVVSTF9vbiArICdzcC5zd2YnLAogICAgICAgICAgICAgICAgICAgIC8vJ3NvaHUnOiB0aGlzLmlVUkxfb24gKyAnc29odS5zd2YnLAogICAgICAgICAgICAgICAgICAgIC8vJ3NvaHVfbGl2ZSc6IHRoaXMuaVVSTF9vbiArICdzb2h1X2xpdmUuc3dmJywKICAgICAgICAgICAgICAgICAgICAnMTcxNzMnOiB0aGlzLmlVUkxfb24gKyAnMTcxNzMuc3dmJywgCiAgICAgICAgICAgICAgICAgICAgJzE3MTczX291dCc6IHRoaXMuaVVSTF9vbiArICcxNzE3M19vdXQuc3dmJywKICAgICAgICAgICAgICAgICAgICAnMTcxNzNfbGl2ZSc6IHRoaXMuaVVSTF9vbiArICcxNzE3M19saXZlLnN3ZicsCi8vPT09PT09PT09PT09PT09PT09PT09PT095b+F6aG75Zyo57q/54mI5Zyw5Z2A57uT5p2fPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8vLz09PT09PT09PT09PT09PT09PT09PT3lpKdC56uZ5LiT55SoPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICAgICAgICAgICAgICAvLydiaWxpX3NvaHUnOiB0aGlzLmlVUkxfb24gKyAnYmlsaV9zb2h1LnN3ZicsCgkJCQkJJ2JpbGlfc29odSc6ICdodHRwOi8vaGFoYS5oZHNsYi5jb20vYW50aWFkL2JpbGlfc29odS5zd2YnLAoJCQkJCS8vJ2JpbGlfcHB0dic6ICcnLC8vbm9uZWVkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wbGF5ZXJzOwogICAgICAgIH0sCiAgICAgICAgZ2V0IHJ1bGVzKCkgewogICAgICAgICAgICBpZighdGhpcy5fcnVsZXMpIHsKICAgICAgICAgICAgICAgIHRoaXMuX3J1bGVzID0gewogICAgICAgICAgICAgICAgICAgICd5b3VrdV9sb2FkZXInOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwOlwvXC9zdGF0aWNcLnlvdWt1XC5jb20oXC92W1xkXC5dKik/XC92XC9zd2ZcL2xvYWRlcj9cLnN3Zi9pLAogICAgICAgICAgICAgICAgICAgICAgICAncmVwbGFjZSc6IHRoaXMucGxheWVyc1sneW91a3VfbG9hZGVyJ10KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICd5b3VrdV9wbGF5ZXInOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwOlwvXC9zdGF0aWNcLnlvdWt1XC5jb20oXC92W1xkXC5dKik/XC92XC9zd2ZcL3E/cGxheWVyLipcLnN3Zi9pLAogICAgICAgICAgICAgICAgICAgICAgICAncmVwbGFjZSc6IHRoaXMucGxheWVyc1sneW91a3VfbG9hZGVyJ10KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICd5b3VrdV9vdXQnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwOlwvXC9wbGF5ZXJcLnlvdWt1XC5jb21cL3BsYXllclwucGhwXC8uKnNpZFwvKFtcdz1dKykuKihcL3YpP1wuc3dmLiovaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiB0aGlzLnBsYXllcnNbJ3lvdWt1X2xvYWRlciddICsgJz9zaG93QWQ9MCZWaWRlb0lEUz0kMScKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICdrdTYnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwOlwvXC9wbGF5ZXJcLmt1NmNkblwuY29tXC9kZWZhdWx0XC8uKlwvKHZ8cGxheWVyKVwuc3dmL2ksCiAgICAgICAgICAgICAgICAgICAgICAgICdyZXBsYWNlJzogdGhpcy5wbGF5ZXJzWydrdTYnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgJ2t1Nl9vdXQnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwOlwvXC9wbGF5ZXJcLmt1NlwuY29tXC8oaW5zaWRlfHJlZmVyKVwvKFteXC9dKylcL3ZcLnN3Zi4qL2ksCiAgICAgICAgICAgICAgICAgICAgICAgICdyZXBsYWNlJzogdGhpcy5wbGF5ZXJzWydrdTZfb3V0J10gKyAnP3ZpZD0kMicKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICdpcWl5aSc6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpbmQnOiAvXmh0dHBzPzpcL1wvd3d3XC5pcWl5aVwuY29tXC8ocGxheWVyXC8oXGQrXC9QbGF5ZXJ8W2EtejAtOV0qKXxjb21tb25cL2ZsYXNocGxheWVyXC9cZCtcLyhNYWluKT9QbGF5ZXJfLiopXC5zd2YvaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiB0aGlzLnBsYXllcnNbJ2lxaXlpJ10KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICdpcWl5aV9vdXQnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwcz86XC9cL3BsYXllclwudmlkZW9cLmk/cWl5aVwuY29tXC8oW15cL10qKVwvLip0dklkPShbXi1dKikuKi9pLAogICAgICAgICAgICAgICAgICAgICAgICAncmVwbGFjZSc6IHRoaXMucGxheWVyc1snaXFpeWlfb3V0J10gKyAnP3ZpZD0kMSZ0dklkPSQyJwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgJ2lxaXlpX291dF8yJzogewogICAgICAgICAgICAgICAgICAgICAgICAnZmluZCc6IC9eaHR0cHM/OlwvXC8ocGxheWVyfGRpc3BhdGNoZXIpXC52aWRlb1wuaT9xaXlpXC5jb21cLyguKlwvc2hhcmVwbGF5ZXJcLnN3ZnxxaXlpKS9pLAogICAgICAgICAgICAgICAgICAgICAgICAncmVwbGFjZSc6IHRoaXMucGxheWVyc1snaXFpeWlfb3V0J10KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICdwcHMnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwcz86XC9cL3d3d1wuaXFpeWlcLmNvbVwvcGxheWVyXC9jdXBpZFwvLipcL3Bwc1tcd10rLnN3Zi9pLAogICAgICAgICAgICAgICAgICAgICAgICAncmVwbGFjZSc6IHRoaXMucGxheWVyc1sncHBzJ10KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICdwcGxpdmUnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwOlwvXC9wbGF5ZXJcLnBwbGl2ZVwuY25cL2lrYW5cLy4qXC9wbGF5ZXI0cGxheWVyMlwuc3dmL2ksCiAgICAgICAgICAgICAgICAgICAgICAgICdyZXBsYWNlJzogdGhpcy5wbGF5ZXJzWydwcGxpdmUnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgJ3BwbGl2ZV9saXZlJzogewogICAgICAgICAgICAgICAgICAgICAgICAnZmluZCc6IC9eaHR0cDpcL1wvcGxheWVyXC5wcGxpdmVcLmNuXC9saXZlXC8uKlwvcGxheWVyNGxpdmUyXC5zd2YvaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiB0aGlzLnBsYXllcnNbJ3BwbGl2ZV9saXZlJ10KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICd0dWRvdSc6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpbmQnOiAvXmh0dHA6XC9cL2pzXC50dWRvdXVpXC5jb21cLy4qUG9ydGFsUGxheWVyW15cLl0qXC5zd2YvaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiB0aGlzLnBsYXllcnNbJ3R1ZG91J10KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICd0dWRvdV9vdXQnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwOlwvXC93d3dcLnR1ZG91XC5jb21cLy4qKFwvdlwuc3dmKT8vaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiB0aGlzLnBsYXllcnNbJ3R1ZG91X29sYyddICsgJz90dmNDb2RlPS0xJnN3ZlBhdGg9JyArIHRoaXMucGxheWVyc1sndHVkb3Vfc3AnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgJ2xldHYnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwOlwvXC8uKmxldHZbXHddKlwuY29tXC8uKlwvKCg/IShMaXZlfHNlZWQpKSgoQ3xTKVtcd117MiwzfSk/KD8hTGl2ZSlbXHddezR9fHN3ZilQbGF5ZXIqXC5zd2YvaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiB0aGlzLnBsYXllcnNbJ2xldHYnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgJ2xldHZfaHonOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwOlwvXC8uKmxldHZbXHddKlwuY29tXC8oaHp8LipwbGF5ZXJcLyhzKT9zZGtsZXR2KXBsYXllclwuc3dmLiovaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiB0aGlzLnBsYXllcnNbJ2xldHYnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgJ2xldHZfZHVvd2FuJzogewogICAgICAgICAgICAgICAgICAgICAgICAnZmluZCc6IC9eaHR0cDpcL1wvYXNzZXRzXC5kd3N0YXRpY1wuY29tXC8uKlwvdnBwXC5zd2YvaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiAnaHR0cDovL3l1bnR2LmxldHYuY29tL2JjbG91ZC5zd2YnCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAnbGV0dl9vdXQnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwOlwvXC8uKlwubGV0dmltZ1wuY29tXC8uKlwvKGxldHZiaWxpfGxicGxheWVyfGxldHYtd3JhcHBlcnxhY2Z1bmxldHZbXlwuXSopXC5zd2YvaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiB0aGlzLnBsYXllcnNbJ2xldHYnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgJ2xldHZfc2tpbic6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpbmQnOiAvaHR0cDpcL1wvLipsZXR2W1x3XSpcLmNvbVwvcFwvXGQrXC9cZCtcLyg/ITE1KVxkKlwvbmV3cGxheWVyXC9cZCtcL1M/U0xldHZQbGF5ZXJcLnN3Zi9pLAogICAgICAgICAgICAgICAgICAgICAgICAncmVwbGFjZSc6ICdodHRwOi8vcGxheWVyLmxldHZjZG4uY29tL3AvMjAxNDA3LzI0LzE1L25ld3BsYXllci8xL1NTTGV0dlBsYXllci5zd2YnCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAnc29odSc6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpbmQnOiAvXmh0dHA6XC9cL3R2XC5zb2h1XC5jb21cL3VwbG9hZFwvc3dmXC8oPyEobGl2ZXxcZCspKS4qXGQrXC8obWFpbnxQbGF5ZXJTaGVsbClcLnN3Zi9pLAogICAgICAgICAgICAgICAgICAgICAgICAncmVwbGFjZSc6IHRoaXMucGxheWVyc1snc29odSddCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAnc29odV9saXZlJzogewogICAgICAgICAgICAgICAgICAgICAgICAnZmluZCc6IC9eaHR0cDpcL1wvKHR2XC5zb2h1XC5jb21cL3VwbG9hZFwvc3dmXC8obGl2ZVwvfClcZCt8NjFcLjEzNVwuMTc2XC4yMjMuKlwvLiopXC8obWFpbnxQbGF5ZXJTaGVsbClcLnN3Zi9pLAogICAgICAgICAgICAgICAgICAgICAgICAncmVwbGFjZSc6IHRoaXMucGxheWVyc1snc29odV9saXZlJ10KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICdzb2h1X291dF8xJzogewogICAgICAgICAgICAgICAgICAgICAgICAnZmluZCc6IC9eaHR0cDpcL1wvLipcLnNvaHVcLmNvbVwvbXlcL3ZcLnN3ZiguKikvaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiB0aGlzLnBsYXllcnNbJ3NvaHVfbGl2ZSddICsgJz8kMScKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICdzb2h1X291dF8yJzogewogICAgICAgICAgICAgICAgICAgICAgICAnZmluZCc6IC9eaHR0cDpcL1wvLipcLnNvaHVcLmNvbVwvKFxkKylcL3ZcLnN3Zi9pLAogICAgICAgICAgICAgICAgICAgICAgICAncmVwbGFjZSc6IHRoaXMucGxheWVyc1snc29odV9saXZlJ10gKyAnP3ZpZD0kMScKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICcxNzE3Myc6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpbmQnOiAvXmh0dHA6XC9cL2ZcLnZcLjE3MTczY2RuXC5jb21cLyhcZCopXC9mbGFzaFwvUHJlbG9hZGVyRmlsZVwuc3dmL2ksCiAgICAgICAgICAgICAgICAgICAgICAgICdyZXBsYWNlJzogdGhpcy5wbGF5ZXJzWycxNzE3MyddIAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgJzE3MTczX2xpdmUnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdmaW5kJzogL15odHRwOlwvXC9mXC52XC4xNzE3M2NkblwuY29tXC8oXGQqKVwvZmxhc2hcL1BsYXllcl9zdHJlYW0oX2ZpcnN0cGFnZSk/XC5zd2YvaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiB0aGlzLnBsYXllcnNbJzE3MTczX2xpdmUnXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgJzE3MTczX291dF8xJzogewogICAgICAgICAgICAgICAgICAgICAgICAnZmluZCc6IC9eaHR0cDpcL1wvZlwudlwuMTcxNzNjZG5cLmNvbVwvcGxheWVyX2YyXC8oXHcrKVwuc3dmL2ksCiAgICAgICAgICAgICAgICAgICAgICAgICdyZXBsYWNlJzogdGhpcy5wbGF5ZXJzWycxNzE3M19vdXQnXSArICc/Y2lkPSQxJwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgJzE3MTczX291dF8yJzogewogICAgICAgICAgICAgICAgICAgICAgICAnZmluZCc6IC9eKGh0dHA6XC9cLzE3MTczXC50dlwuc29odVwuY29tXC9wbGF5ZXJbXlwuXSpcLnN3ZikvaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiB0aGlzLnBsYXllcnNbJzE3MTczX291dCddCiAgICAgICAgICAgICAgICAgICAgfSwKCQkJCQkKICAgICAgICAgICAgICAgICAgICAnYmlsaV9zb2h1JzogewogICAgICAgICAgICAgICAgICAgICAgICAnZmluZCc6IC9eaHR0cDpcL1wvc3RhdGljXC5oZHNsYlwuY29tXC9zb2h1XC5zd2YvaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiB0aGlzLnBsYXllcnNbJ2JpbGlfc29odSddCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAnYmlsaV9wcHR2JzogewogICAgICAgICAgICAgICAgICAgICAgICAnZmluZCc6IC9eaHR0cDpcL1wvc3RhdGljXC5oZHNsYlwuY29tXC9wcHR2XC5zd2YvaSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcGxhY2UnOiAnaHR0cDovL3N0YXRpYy5oZHNsYi5jb20vcHB0di5zd2YnLy9ub3QgY2hhbmdlCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAnYmlsaV95b3VrdSc6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpbmQnOiAvXmh0dHA6XC9cL3N0YXRpY1wuaGRzbGJcLmNvbVwveW91a3VcLnN3Zi9pLAogICAgICAgICAgICAgICAgICAgICAgICAncmVwbGFjZSc6ICdodHRwOi8vc3RhdGljLmhkc2xiLmNvbS95b3VrdS5zd2YnLy9ub3QgY2hhbmdlCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5fcnVsZXM7CiAgICAgICAgfSwKICAgICAgICBnZXQgZG9uZSgpIHsKICAgICAgICAgICAgaWYoIXRoaXMuX2RvbmUpIHsKICAgICAgICAgICAgICAgIHRoaXMuX2RvbmUgPSBuZXcgQXJyYXkoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5fZG9uZTsKICAgICAgICB9LAogICAgICAgIGluaXRQcmVIYW5kbGVyczogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRoaXMucnVsZXNbJ2lxaXlpJ11bJ3ByZUhhbmRsZSddID0gZnVuY3Rpb24oZWxlbSwgZmluZCwgcmVwbGFjZSwgcGxheWVyKSB7CiAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuW2RhdGEtZmxhc2hwbGF5ZXJwYXJhbS1mbGFzaHVybF0nKSkgewogICAgICAgICAgICAgICAgICAgIHJlcGxhY2UgPSB0aGlzLnBsYXllcnNbJ2lxaXlpNSddOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5yZWFsbHlSZXBsYWNlLmJpbmQodGhpcywgZWxlbSwgZmluZCwgcmVwbGFjZSkoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnJ1bGVzWydpcWl5aV9vdXQnXVsncHJlSGFuZGxlJ10gPSBmdW5jdGlvbihlbGVtLCBmaW5kLCByZXBsYWNlLCBwbGF5ZXIpIHsKICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IHBsYXllci5tYXRjaCgvKGF1dG9wbGF5KT1bXiZdKy9pZyk7CiAgICAgICAgICAgICAgICBpZihtYXRjaCkgewogICAgICAgICAgICAgICAgICAgIHJlcGxhY2UgKz0gJyYnICsgbWF0Y2guam9pbignJicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5yZWFsbHlSZXBsYWNlLmJpbmQodGhpcywgZWxlbSwgZmluZCwgcmVwbGFjZSkoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnJ1bGVzWyd0dWRvdV9vdXQnXVsncHJlSGFuZGxlJ10gPSBmdW5jdGlvbihlbGVtLCBmaW5kLCByZXBsYWNlLCBwbGF5ZXIpIHsKICAgICAgICAgICAgICAgIHZhciBmbiA9IHRoaXM7CiAgICAgICAgICAgICAgICB2YXIgaXNGeCA9IC9maXJlZm94L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTsKICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGlzRnggPyAnSEVBRCcgOiAnR0VUJywKICAgICAgICAgICAgICAgICAgICB1cmw6IGlzRnggPyBwbGF5ZXIgOiAnaHR0cHM6Ly9xdWVyeS55YWhvb2FwaXMuY29tL3YxL3B1YmxpYy95cWw/Zm9ybWF0PWpzb24mcT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KCd1c2UiaHR0cHM6Ly9oYW91dGlsLmdvb2dsZWNvZGUuY29tL3N2bi90cnVuay9maXJlZm94L3R1ZG91X3JlZGlyZWN0LnlxbC54bWwiIGFzIHR1ZG91OyBzZWxlY3QgKiBmcm9tIHR1ZG91IHdoZXJlIHVybD0iJyArIHBsYXllciArICciIGFuZCByZWZlcmVyPSInICsgd2luZG93LmxvY2F0aW9uLmhyZWYgKyAnIicpLAogICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQkJY29uc29sZS5sb2cocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmFsVXJsID0gKGlzRnggPyByZXNwb25zZS5maW5hbFVybCA6IHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8qdmFyIG1hdGNoID0gZmluYWxVcmwubWF0Y2goLyhpaWR8eW91a3VpZHxyZXNvdXJjZWlkfGF1dG9wbGF5fHNuYXBfcGljKT1bXiZdKy9pZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG1hdGNoICYmICEvZXJyb3IvaS50ZXN0KGZpbmFsVXJsKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZSArPSAnJicgKyBtYXRjaC5qb2luKCcmJyk7ICAKICAgICAgICAgICAgICAgICAgICAgICAgfQoJCQkJCQlmbi5yZWFsbHlSZXBsYWNlLmJpbmQoZm4sIGVsZW0sIGZpbmQsIHJlcGxhY2UpKCk7Ki8KCQkJCQkJZmluYWxVcmwgPSBmaW5hbFVybC5tYXRjaCgvaHR0cDpbXiJdKy8pWzBdOwoJCQkJCQlyZXBsYWNlID0gZmluYWxVcmwucmVwbGFjZSgvaHR0cC4qP3N3Zi8sIGZuLnBsYXllcnNbJ3R1ZG91X29sYyddKTsKCQkJCQkJZm4ucmVhbGx5UmVwbGFjZS5iaW5kKGZuLCBlbGVtLCBmaW5kLCByZXBsYWNlKSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMucnVsZXNbJ2JpbGlfcHB0diddWydwcmVIYW5kbGUnXT1mdW5jdGlvbihlbGVtLCBmaW5kLCByZXBsYWNlLCBwbGF5ZXIpewoJCQkJdmFyIGZuID0gdGhpczsKCQkJCXZhciBmbGFzaHZhcnMgPSBlbGVtLmdldEF0dHJpYnV0ZSgnZmxhc2h2YXJzJyk7CgkJCQl2YXIgb2xkX3N3ZiA9IGRlY29kZVVSSUNvbXBvbmVudChmbGFzaHZhcnMuc3BsaXQoJz0nKS5zbGljZSgtMSkucG9wKCkpOwoJCQkJLy9vbmx5IGZvciB0aG9zZSBicm93c2VycyB3aXRob3V0IHJlc3BvbnNlLmZpbmFsVXJsIHN1cHBvcnQKCQkJCXZhciBpc01YID0gL01heHRob24vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOwoJCQkJdmFyIGlzRnggPSAvZmlyZWZveC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7CgkJCQl2YXIgcmVhbF9zd2Y7CgkJCQlHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBpc0Z4ID8gJ0hFQUQnIDogJ0dFVCcsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBpc0Z4ID8gcGxheWVyIDogJ2h0dHBzOi8vcXVlcnkueWFob29hcGlzLmNvbS92MS9wdWJsaWMveXFsP2Zvcm1hdD1qc29uJnE9JyArIGVuY29kZVVSSUNvbXBvbmVudCgndXNlImh0dHBzOi8vaGFvdXRpbC5nb29nbGVjb2RlLmNvbS9zdm4vdHJ1bmsvZmlyZWZveC90dWRvdV9yZWRpcmVjdC55cWwueG1sIiBhcyB0dWRvdTsgc2VsZWN0ICogZnJvbSB0dWRvdSB3aGVyZSB1cmw9IicgKyBvbGRfc3dmICsgJyIgYW5kIHJlZmVyZXI9Imh0dHA6Ly9zdGF0aWMuaGRzbGIuY29tL3BwdHYuc3dmIicpLAogICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQkJdmFyIHJlYWxfc3dmID0gKGlzRnggPyByZXNwb25zZS5maW5hbFVybCA6IChyZXNwb25zZS5yZXNwb25zZVRleHQubWF0Y2goL2h0dHA6LitcLnN3Zi8pWzBdKSk7CgkJCQkJCS8vY29uc29sZS5sb2cocmVhbF9zd2YpOwoJCQkJCQlyZWFsX3N3ZiA9IHJlYWxfc3dmLnJlcGxhY2UoL15odHRwOlwvXC9wbGF5ZXJcLnBwbGl2ZVwuY25cL2lrYW5cLy4qXC9wbGF5ZXI0cGxheWVyMlwuc3dmL2ksZm4ucGxheWVyc1sncHBsaXZlJ10pOwogICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnZmxhc2h2YXJzJywgZmxhc2h2YXJzLnJlcGxhY2UoL3VybC4rL2csICd1cmw9JytlbmNvZGVVUklDb21wb25lbnQocmVhbF9zd2YpKS5yZXBsYWNlKC8mYW1wOy9nLCcmJykpOwoJCQkJCQlmbi5yZWFsbHlSZXBsYWNlLmJpbmQoZm4sIGVsZW0sIGZpbmQsIHJlcGxhY2UpKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgkJCQkvKkdNX3htbGh0dHBSZXF1ZXN0KHsKCQkJCQltZXRob2Q6IGlzTVggPyAnUE9TVCcgOiAnSEVBRCcsCgkJCQkJaGVhZGVyczogaXNNWCA/IHsKCQkJCQkJJ0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcKCQkJCQl9IDoge30sCgkJCQkJdXJsOiBpc01YID8gJ2h0dHA6Ly93d3cucmV4c3dhaW4uY29tL2NnaS1iaW4vaHR0cHZpZXcuY2dpJyA6IG9sZF9zd2YsCgkJCQkJZGF0YTppc01YID8gKCd1cmw9JytlbmNvZGVVUklDb21wb25lbnQob2xkX3N3ZikrJyZyZXE9SGVhZCZ2ZXI9MS4xJmZtdD1BdXRvJnVhZz0mcmVmPWh0dHA6Ly9zdGF0aWMuaGRzbGIuY29tL3BwdHYuc3dmJmFlbj0nKSA6ICcnLAoJCQkJCW9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQkJaWYoaXNNWCl7CgkJCQkJCQl2YXIgcmVnPS9Mb2NhdGlvbjrCtyguKylcPFwvVFRcPlw8Rk9OVC9pOwoJCQkJCQkJcmVnLnRlc3QocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKCQkJCQkJCXJlYWxfc3dmID0gUmVnRXhwLiQxLnJlcGxhY2UoLyZhbXA7L2csJyYnKTsKCQkJCQkJCXJlYWxfc3dmID0gcmVhbF9zd2YucmVwbGFjZSgvXmh0dHA6XC9cL3BsYXllclwucHBsaXZlXC5jblwvaWthblwvLipcL3BsYXllcjRwbGF5ZXIyXC5zd2YvaSxmbi5wbGF5ZXJzWydwcGxpdmUnXSk7CgkJCQkJCX1lbHNlewoJCQkJCQkJcmVhbF9zd2YucmVzcG9uc2UuZmluYWxVcmw7CgkJCQkJCX0KCQkJCQkJZWxlbS5zZXRBdHRyaWJ1dGUoJ2ZsYXNodmFycycsIGZsYXNodmFycy5yZXBsYWNlKC91cmwuKy9nLCAndXJsPScrZW5jb2RlVVJJQ29tcG9uZW50KHJlYWxfc3dmKSkucmVwbGFjZSgvJmFtcDsvZywnJicpKTsKCQkJCQkJZm4ucmVhbGx5UmVwbGFjZS5iaW5kKGZuLCBlbGVtLCBmaW5kLCByZXBsYWNlKSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOyovCgkJCX0KCQkJLyp0aGlzLnJ1bGVzWydiaWxpX3lvdWt1J11bJ3ByZUhhbmRsZSddPWZ1bmN0aW9uKGVsZW0sIGZpbmQsIHJlcGxhY2UsIHBsYXllcil7CgkJCQl2YXIgZm4gPSB0aGlzOwoJCQkJdmFyIGZsYXNodmFycyA9IGVsZW0uZ2V0QXR0cmlidXRlKCdmbGFzaHZhcnMnKTsKCQkJCXZhciBvbGRfc3dmID0gZGVjb2RlVVJJQ29tcG9uZW50KGZsYXNodmFycy5zcGxpdCgnPScpLnNsaWNlKC0xKS5wb3AoKSk7Ly9sYXN0CgkJCQkvL29ubHkgZm9yIHRob3NlIGJyb3dzZXJzIHdpdGhvdXQgcmVzcG9uc2UuZmluYWxVcmwgc3VwcG9ydAoJCQkJdmFyIGlzTVggPSAvTWF4dGhvbi9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7CgkJCQl2YXIgcmVhbF9zd2Y7CgkJCQlHTV94bWxodHRwUmVxdWVzdCh7CgkJCQkJbWV0aG9kOiBpc01YID8gJ1BPU1QnIDogJ0hFQUQnLAoJCQkJCWhlYWRlcnM6IGlzTVggPyB7CgkJCQkJCSdDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgnCgkJCQkJfSA6IHt9LAoJCQkJCXVybDogaXNNWCA/ICdodHRwOi8vd3d3LnJleHN3YWluLmNvbS9jZ2ktYmluL2h0dHB2aWV3LmNnaScgOiBvbGRfc3dmLAoJCQkJCWRhdGE6aXNNWCA/ICgndXJsPScrZW5jb2RlVVJJQ29tcG9uZW50KG9sZF9zd2YpKycmcmVxPUhlYWQmdmVyPTEuMSZmbXQ9QXV0byZ1YWc9JnJlZj1odHRwOi8vc3RhdGljLmhkc2xiLmNvbS95b3VrdS5zd2YmYWVuPScpIDogJycsCgkJCQkJb25sb2FkOiBmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJCQljb25zb2xlLmxvZyhyZXNwb25zZSk7CgkJCQkJCWlmKGlzTVgpewoJCQkJCQkJdmFyIHJlZz0vTG9jYXRpb246wrcoLispXDxcL1RUXD5cPEZPTlQvaTsKCQkJCQkJCXJlZy50ZXN0KHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CgkJCQkJCQlyZWFsX3N3ZiA9IFJlZ0V4cC4kMS5yZXBsYWNlKC8mYW1wOy9nLCcmJyk7CgkJCQkJCQlyZWFsX3N3ZiA9IHJlYWxfc3dmLnJlcGxhY2UoL3N0YXRpY1wueW91a3VcLmNvbShcL3ZbXGRcLl0qKT9cL3ZcL3N3ZlwvbG9hZGVyP1wuc3dmL2ksJ2hhaGEudGRpbWcuY29tL2FudGlhZC9sb2FkZXIuc3dmJyk7CgkJCQkJCX1lbHNlewoJCQkJCQkJcmVhbF9zd2YucmVzcG9uc2UuZmluYWxVcmw7CgkJCQkJCX0KCQkJCQkJZWxlbS5zZXRBdHRyaWJ1dGUoJ2ZsYXNodmFycycsIGZsYXNodmFycy5yZXBsYWNlKC91cmwuKy9nLCAndXJsPScrZW5jb2RlVVJJQ29tcG9uZW50KHJlYWxfc3dmKSkucmVwbGFjZSgvJmFtcDsvZywnJicpKTsKCQkJCQkJZm4ucmVhbGx5UmVwbGFjZShlbGVtLCBmaW5kLCByZXBsYWNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCQkJfSovCiAgICAgICAgICAgIHRoaXMucnVsZXNbJ2JpbGlfeW91a3UnXVsncHJlSGFuZGxlJ109ZnVuY3Rpb24oZWxlbSwgZmluZCwgcmVwbGFjZSwgcGxheWVyKXsKCQkJCXZhciBmbGFzaHZhcnMgPSBlbGVtLmdldEF0dHJpYnV0ZSgnZmxhc2h2YXJzJyk7CgkJCQl2YXIgb2xkX3N3ZiA9IGRlY29kZVVSSUNvbXBvbmVudChmbGFzaHZhcnMuc3BsaXQoJz0nKS5zbGljZSgtMSkucG9wKCkpOy8vbGFzdAoJCQkJY29uc29sZS5sb2cob2xkX3N3Zik7CgkJCQl2YXIgcmVhbF9zd2YgPSAnaHR0cDovL2hhaGEudGRpbWcuY29tL2FudGlhZC9sb2FkZXIuc3dmP1ZpZGVvSURTPScrb2xkX3N3Zi5zcGxpdCgnLycpLnNsaWNlKC0yLCAtMSkucG9wKCk7Ly9sYXN0IDJuZAoJCQkJZWxlbS5zZXRBdHRyaWJ1dGUoJ2ZsYXNodmFycycsIGZsYXNodmFycy5yZXBsYWNlKC91cmwuKy9nLCAndXJsPScrZW5jb2RlVVJJQ29tcG9uZW50KHJlYWxfc3dmKSkucmVwbGFjZSgvJmFtcDsvZywnJicpKTsKCQkJCXRoaXMucmVhbGx5UmVwbGFjZS5iaW5kKHRoaXMsIGVsZW0sIGZpbmQsIHJlcGxhY2UpKCk7CgkJCX0KICAgICAgICAgICAgdGhpcy5ydWxlc1sndHVkb3UnXVsncHJlSGFuZGxlJ109ZnVuY3Rpb24oZWxlbSwgZmluZCwgcmVwbGFjZSwgcGxheWVyKXsKCQkJCXRoaXMucmVhbGx5UmVwbGFjZS5iaW5kKHRoaXMsIGVsZW0sIGZpbmQsIHJlcGxhY2UpKCk7CgkJCQlkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwbGF5ZXJfYm94JylbMF0uc3R5bGUuaGVpZ2h0PSI1MjZweCI7Ly9maXgKCQkJfQogICAgICAgIH0sCiAgICAgICAgYWRkQW5pbWF0aW9uczogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgICAgICAgIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnOwogICAgICAgICAgICBzdHlsZS5pbm5lckhUTUwgPSAnb2JqZWN0LGVtYmVke1wKLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246LjAwMXM7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpwbGF5ZXJJbnNlcnRlZDtcCi1tcy1hbmltYXRpb24tZHVyYXRpb246LjAwMXM7LW1zLWFuaW1hdGlvbi1uYW1lOnBsYXllckluc2VydGVkO1wKLW8tYW5pbWF0aW9uLWR1cmF0aW9uOi4wMDFzOy1vLWFuaW1hdGlvbi1uYW1lOnBsYXllckluc2VydGVkO1wKYW5pbWF0aW9uLWR1cmF0aW9uOi4wMDFzO2FuaW1hdGlvbi1uYW1lOnBsYXllckluc2VydGVkO31cCkAtd2Via2l0LWtleWZyYW1lcyBwbGF5ZXJJbnNlcnRlZHtmcm9te29wYWNpdHk6MC45OTt9dG97b3BhY2l0eToxO319XApALW1zLWtleWZyYW1lcyBwbGF5ZXJJbnNlcnRlZHtmcm9te29wYWNpdHk6MC45OTt9dG97b3BhY2l0eToxO319XApALW8ta2V5ZnJhbWVzIHBsYXllckluc2VydGVke2Zyb217b3BhY2l0eTowLjk5O310b3tvcGFjaXR5OjE7fX1cCkBrZXlmcmFtZXMgcGxheWVySW5zZXJ0ZWR7ZnJvbXtvcGFjaXR5OjAuOTk7fXRve29wYWNpdHk6MTt9fSc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgICAgIH0sCiAgICAgICAgYW5pbWF0aW9uc0hhbmRsZXI6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgaWYoZS5hbmltYXRpb25OYW1lID09PSAncGxheWVySW5zZXJ0ZWQnKSB7CiAgICAgICAgICAgICAgICB0aGlzLnJlcGxhY2UoZS50YXJnZXQpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICByZXBsYWNlOiBmdW5jdGlvbihlbGVtKSB7CiAgICAgICAgICAgIGlmKHRoaXMuZG9uZS5pbmRleE9mKGVsZW0pICE9IC0xKSByZXR1cm47CiAgICAgICAgICAgIHRoaXMuZG9uZS5wdXNoKGVsZW0pOwoKICAgICAgICAgICAgdmFyIHBsYXllciA9IGVsZW0uZGF0YSB8fCBlbGVtLnNyYzsKICAgICAgICAgICAgaWYoIXBsYXllcikgcmV0dXJuOwoKICAgICAgICAgICAgdmFyIGksIGZpbmQsIHJlcGxhY2UsIGlzUmVwbGFjaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGZvcihpIGluIHRoaXMucnVsZXMpIHsKICAgICAgICAgICAgICAgIGZpbmQgPSB0aGlzLnJ1bGVzW2ldWydmaW5kJ107CiAgICAgICAgICAgICAgICBpZihmaW5kLnRlc3QocGxheWVyKSkgewogICAgICAgICAgICAgICAgICAgIHJlcGxhY2UgPSB0aGlzLnJ1bGVzW2ldWydyZXBsYWNlJ107CiAgICAgICAgICAgICAgICAgICAgaWYoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHRoaXMucnVsZXNbaV1bJ3ByZUhhbmRsZSddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVwbGFjaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ydWxlc1tpXVsncHJlSGFuZGxlJ10uYmluZCh0aGlzLCBlbGVtLCBmaW5kLCByZXBsYWNlLCBwbGF5ZXIpKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKCFpc1JlcGxhY2luZykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWxseVJlcGxhY2UuYmluZCh0aGlzLCBlbGVtLCBmaW5kLCByZXBsYWNlKSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcmVhbGx5UmVwbGFjZTogZnVuY3Rpb24oZWxlbSwgZmluZCwgcmVwbGFjZSkgewogICAgICAgICAgICBlbGVtLmRhdGEgJiYgKGVsZW0uZGF0YSA9IGVsZW0uZGF0YS5yZXBsYWNlKGZpbmQsIHJlcGxhY2UpKSB8fCBlbGVtLnNyYyAmJiAoKGVsZW0uc3JjID0gZWxlbS5zcmMucmVwbGFjZShmaW5kLCByZXBsYWNlKSkgJiYgKGVsZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jaycpKTsKICAgICAgICAgICAgdGhpcy5yZWxvYWRQbHVnaW4oZWxlbSk7CiAgICAgICAgfSwKICAgICAgICByZWxvYWRQbHVnaW46IGZ1bmN0aW9uKGVsZW0pIHsKICAgICAgICAgICAgdmFyIG5leHRTaWJsaW5nID0gZWxlbS5uZXh0U2libGluZzsKICAgICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBlbGVtLnBhcmVudE5vZGU7CiAgICAgICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7CiAgICAgICAgICAgIHZhciBuZXdFbGVtID0gZWxlbS5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgICAgIHRoaXMuZG9uZS5wdXNoKG5ld0VsZW0pOwogICAgICAgICAgICBpZihuZXh0U2libGluZykgewogICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3RWxlbSwgbmV4dFNpYmxpbmcpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChuZXdFbGVtKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdFByZUhhbmRsZXJzKCk7CgogICAgICAgICAgICB2YXIgaGFuZGxlciA9IHRoaXMuYW5pbWF0aW9uc0hhbmRsZXIuYmluZCh0aGlzKTsKCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0QW5pbWF0aW9uU3RhcnQnLCBoYW5kbGVyLCBmYWxzZSk7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbXNBbmltYXRpb25TdGFydCcsIGhhbmRsZXIsIGZhbHNlKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdvQW5pbWF0aW9uU3RhcnQnLCBoYW5kbGVyLCBmYWxzZSk7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uc3RhcnQnLCBoYW5kbGVyLCBmYWxzZSk7CgogICAgICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbnMoKTsKICAgICAgICB9CiAgICB9OwoKICAgIG5ldyBZb3VrdUFudGlBZHMoKS5pbml0KCk7Cn0pKCk7"},{"name":"去除youku.ku6.iqiyi.tudou.letv广告","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http://*/*","https://*/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"ts":1490417133008,"data":{}},"enabled":true,"position":42,"file_url":"http://userscripts-mirror.org/scripts/source/165036.user.js","uuid":"af9fde8a-d8bb-4ec2-af8f-467ae49f41f5","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUg5Y676ZmkeW91a3Uua3U2LmlxaXlpLnR1ZG91LmxldHblub/lkYoKLy8gQGF1dGhvciBjY0tldmluCi8vIEBkZXNjcmlwdGlvbiDpgJrov4fmm7/mjaJzd2bmkq3mlL7lmajnmoTmlrnlvI/mnaXop6PlhrPkvJjphbfnmoTpu5HlsY/lub/lkYoKLy8gQHZlcnNpb24gMS42Ci8vIEB1cGRhdGVVUkwgaHR0cHM6Ly91c2Vyc2NyaXB0cy5vcmcvc2NyaXB0cy9zb3VyY2UvMTY1MDM2Lm1ldGEuanMKLy8gQGluY2x1ZGUgaHR0cDovLyovKgovLyBAaW5jbHVkZSBodHRwczovLyovKgovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbihkb2N1bWVudCkgewogICAgdmFyIGxvYWRlciA9ICdodHRwOi8vY2NrZXZpbi5jZG4uZHVhcHAuY29tL3N3Zi9sb2FkZXIuc3dmJzsKICAgIHZhciBrdTYgPSAnaHR0cDovL2Nja2V2aW4uY2RuLmR1YXBwLmNvbS9zd2Yva3U2LnN3Zic7CiAgICB2YXIgaXFpeWkgPSAnaHR0cDovL2Nja2V2aW4uY2RuLmR1YXBwLmNvbS9zd2YvaXFpeWkuc3dmJzsKICAgIHZhciBpcWl5aTUgPSAnaHR0cDovL2Nja2V2aW4uY2RuLmR1YXBwLmNvbS9zd2YvaXFpeWk1LnN3Zic7CiAgICB2YXIgdHVkb3UgPSAnaHR0cDovL2Nja2V2aW4uY2RuLmR1YXBwLmNvbS9zd2YvdHVkb3Uuc3dmJzsKICAgIHZhciBsZXR2ID0gJ2h0dHA6Ly9jY2tldmluLmNkbi5kdWFwcC5jb20vc3dmL2xldHYuc3dmJzsKICAgIHZhciBwbGF5ZXJzID0gewogICAgICAgICd5b3VrdSc6IHsKICAgICAgICAgICAgZmluZDogL2h0dHA6XC9cL3N0YXRpY1wueW91a3VcLmNvbShcL3ZbXGRcLl0rKT9cL3ZcL3N3ZlwvKGxvYWRlcnxxP3BsYXllclteXC5dKilcLnN3Zi9pLAoJICAgICAgICByZXBsYWNlOiBsb2FkZXIKICAgICAgICB9LAogICAgICAgICd5b3VrdV9vdXQnOiB7CiAgICAgICAgICAgIGZpbmQ6IC9odHRwOlwvXC9wbGF5ZXJcLnlvdWt1XC5jb21cL3BsYXllclwucGhwXC8uKnNpZFwvKFtcdz1dKykuKlwuc3dmL2ksICAgICAgCgkgICAgICAgIHJlcGxhY2U6IGxvYWRlciArICc/c2hvd0FkPTAmVmlkZW9JRFM9JDEnCiAgICAgICAgfSwKICAgICAgICAna3U2JzogewogICAgICAgICAgICBmaW5kOiAvaHR0cDpcL1wvcGxheWVyXC5rdTZjZG5cLmNvbVwvZGVmYXVsdFwvLipcL1xkK1wvcGxheWVyXC5zd2YvaSwKICAgICAgICAgICAgcmVwbGFjZToga3U2CiAgICAgICAgfSwKCSAgICAna3U2X291dCc6IHsKICAgICAgICAgICAgZmluZDogL2h0dHA6XC9cL3BsYXllclwua3U2XC5jb21cLyhpbnNpZGV8cmVmZXIpXC8oW15cL10rKVwvdlwuc3dmLiovaSwKICAgICAgICAgICAgcmVwbGFjZToga3U2ICsgJz92aWQ9JDInCiAgICAgICAgfSwKICAgICAgICAnbGV0djEnOiB7CiAgICAgICAgICAgIGZpbmQ6IC9odHRwOlwvXC8uKmxldHZbXHddKlwuY29tXC9bXlwuXSpcLy4qcGxheWVyXC8oKD8hTGl2ZSkuKilQbGF5ZXJbXlwuXSpcLnN3Zi9pLAogICAgICAgICAgICByZXBsYWNlOiBsZXR2CiAgICAgICAgfSwKICAgICAgICAnbGV0djInOiB7CiAgICAgICAgICAgIGZpbmQ6IC9odHRwOlwvXC8uKmxldHZbXHddKlwuY29tXC8uKnBsYXllclteXC5dKlwuc3dmXD92X2xpc3Q9W1xkXS9pLAogICAgICAgICAgICByZXBsYWNlOiBsZXR2CiAgICAgICAgfSwKICAgICAgICAnbGV0djMnOiB7CiAgICAgICAgICAgIGZpbmQ6IC9odHRwOlwvXC8uKmxldHZbXHddKlwuY29tXC8uKlwvdl9saXN0PVtcZF0qXC8qXC5zd2YvaSwKICAgICAgICAgICAgcmVwbGFjZTogbGV0dgogICAgICAgIH0sCiAgICAgICAgJ3R1ZG91JzogewogICAgICAgICAgICBmaW5kOiAvaHR0cDpcL1wvanNcLnR1ZG91dWlcLmNvbVwvLipwbGF5ZXJbXlwuXSpcLnN3Zi9pLAogICAgICAgICAgICByZXBsYWNlOiB0dWRvdQogICAgICAgIH0sCiAgICAgICAgJ3R1ZG91X291dCc6IHsKICAgICAgICAgICAgZmluZDogL2h0dHA6XC9cL3d3d1wudHVkb3VcLmNvbVwvdlwvXHcrXC92XC5zd2Z8aHR0cDpcL1wvd3d3XC50dWRvdVwuY29tXC9bYS16XVwvLipyZXNvdXJjZUlkPShcdyspXC92XC5zd2YvaSwKICAgICAgICAgICAgcmVwbGFjZTogdHVkb3UgKyAnP3R2Y0NvZGU9LTEmYXV0b3N0YXJ0PWZhbHNlJwoJCQkvL3JlcGxhY2U6IHR1ZG91ICsgJz90dmNDb2RlPS0xJwogICAgICAgIH0sCiAgICAgICAgJ2lxaXlpJzogewogICAgICAgICAgICBmaW5kOiAvaHR0cDpcL1wvd3d3XC5pcWl5aVwuY29tXC9wbGF5ZXJcL1xkK1wvUGxheWVyXC5zd2YvaSwKICAgICAgICAgICAgcmVwbGFjZTogaXFpeWkKICAgICAgICB9LAogICAgICAgICdpcWl5aV9vdXQnOiB7CiAgICAgICAgICAgIC8vZmluZDogL2h0dHA6XC9cL3BsYXllclwudmlkZW9cLmk/cWl5aVwuY29tXC8oW15cL10qKVwvLiovLAoJICAgICAgICBmaW5kOiAvaHR0cDpcL1wvKHBsYXllcnxkaXNwYXRjaGVyKVwudmlkZW9cLmk/cWl5aVwuY29tXC8oLipbXD8mXXZpZD0pPyhbXlwvJl0rKS4qL2ksCiAgICAgICAgICAgIHJlcGxhY2U6IGlxaXlpNSArICc/dmlkPSQzJwogICAgICAgIH0KICAgIH07CgogICAgdmFyIGRvbmUgPSBbXTsKCiAgICBmdW5jdGlvbiByZWxvYWRQbHVnaW4oZWxlbSkgewogICAgICAgIHZhciBuZXh0U2libGluZyA9IGVsZW0ubmV4dFNpYmxpbmc7CiAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBlbGVtLnBhcmVudE5vZGU7CiAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtKTsKICAgICAgICB2YXIgbmV3RWxlbSA9IGVsZW0uY2xvbmVOb2RlKHRydWUpOwogICAgICAgIGRvbmUucHVzaChuZXdFbGVtKTsKICAgICAgICBpZihuZXh0U2libGluZykgewogICAgICAgICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdFbGVtLCBuZXh0U2libGluZyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChuZXdFbGVtKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcmVwbGFjZShlbGVtKSB7CiAgICAgICAgaWYoZG9uZS5pbmRleE9mKGVsZW0pICE9IC0xKSByZXR1cm47CiAgICAgICAgZG9uZS5wdXNoKGVsZW0pOwoKICAgICAgICB2YXIgcGxheWVyID0gZWxlbS5kYXRhIHx8IGVsZW0uc3JjOwogICAgICAgIGlmKCFwbGF5ZXIpIHJldHVybjsKCiAgICAgICAgdmFyIGksIGZpbmQsIHJlcGxhY2UsIGlzUmVwbGFjaW5nID0gZmFsc2U7CiAgICAgICAgZm9yKGkgaW4gcGxheWVycykgewogICAgICAgICAgICBmaW5kID0gcGxheWVyc1tpXS5maW5kOwogICAgICAgICAgICBpZihmaW5kLnRlc3QocGxheWVyKSkgewogICAgICAgICAgICAgICAgcmVwbGFjZSA9IHBsYXllcnNbaV0ucmVwbGFjZTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcHJlSGFuZGxlKCk7CgogICAgICAgICAgICAgICAgaWYoIWlzUmVwbGFjaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgcmVhbGx5UmVwbGFjZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHByZUhhbmRsZSgpIHsKICAgICAgICAgICAgaWYoaSA9PSAnaXFpeWknICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW5bZGF0YS1mbGFzaHBsYXllcnBhcmFtLWZsYXNodXJsXScpKSB7CiAgICAgICAgICAgICAgICByZXBsYWNlID0gaXFpeWk1OwogICAgICAgICAgICB9IGVsc2UgaWYoaSA9PSAndHVkb3Vfb3V0JykgewogICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gcGxheWVyLm1hdGNoKC8oaWlkfHlvdWt1SWQpPVteXC9dKy9pKTsKICAgICAgICAgICAgICAgIGlmKG1hdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UgKz0gJyYnICsgbWF0Y2hbMF07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlzUmVwbGFjaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB2YXIgaWNvZGUgPSBwbGF5ZXIubWF0Y2goL1wvKFteXC9dezExfSlcLy4qdlwuc3dmL2kpOwogICAgICAgICAgICAgICAgICAgIGlmKGljb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwOi8vYXBpLnR1ZG91LmNvbS92My9ndz9tZXRob2Q9aXRlbS5pbmZvLmdldCZhcHBLZXk9bXlLZXkmZm9ybWF0PWpzb24maXRlbUNvZGVzPScgKyBpY29kZVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gZXZhbCgnKCcgKyByZXNwb25zZS5yZXNwb25zZVRleHQgKyAnKScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9iaikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlICs9ICcmaWlkPScgKyBvYmpbJ211bHRpUmVzdWx0J11bJ3Jlc3VsdHMnXVswXVsnaXRlbUlkJ107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxseVJlcGxhY2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVhbGx5UmVwbGFjZSgpIHsKICAgICAgICAgICAgZWxlbS5kYXRhICYmIChlbGVtLmRhdGEgPSBlbGVtLmRhdGEucmVwbGFjZShmaW5kLCByZXBsYWNlKSkgfHwgZWxlbS5zcmMgJiYgKChlbGVtLnNyYyA9IGVsZW0uc3JjLnJlcGxhY2UoZmluZCwgcmVwbGFjZSkpICYmIChlbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snKSk7CiAgICAgICAgICAgIHJlbG9hZFBsdWdpbihlbGVtKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFkZEFuaW1hdGlvbnMoKSB7CiAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJzsKICAgICAgICBzdHlsZS5pbm5lckhUTUwgPSAnb2JqZWN0LGVtYmVke1wKLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246LjAwMXM7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpwbGF5ZXJJbnNlcnRlZDtcCi1tcy1hbmltYXRpb24tZHVyYXRpb246LjAwMXM7LW1zLWFuaW1hdGlvbi1uYW1lOnBsYXllckluc2VydGVkO1wKLW8tYW5pbWF0aW9uLWR1cmF0aW9uOi4wMDFzOy1vLWFuaW1hdGlvbi1uYW1lOnBsYXllckluc2VydGVkO1wKYW5pbWF0aW9uLWR1cmF0aW9uOi4wMDFzO2FuaW1hdGlvbi1uYW1lOnBsYXllckluc2VydGVkO31cCkAtd2Via2l0LWtleWZyYW1lcyBwbGF5ZXJJbnNlcnRlZHtmcm9te29wYWNpdHk6MC45OTt9dG97b3BhY2l0eToxO319XApALW1zLWtleWZyYW1lcyBwbGF5ZXJJbnNlcnRlZHtmcm9te29wYWNpdHk6MC45OTt9dG97b3BhY2l0eToxO319XApALW8ta2V5ZnJhbWVzIHBsYXllckluc2VydGVke2Zyb217b3BhY2l0eTowLjk5O310b3tvcGFjaXR5OjE7fX1cCkBrZXlmcmFtZXMgcGxheWVySW5zZXJ0ZWR7ZnJvbXtvcGFjaXR5OjAuOTk7fXRve29wYWNpdHk6MTt9fSc7CiAgICAgIAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBhbmltYXRpb25zSGFuZGxlcihlKSB7CiAgICAgICAgaWYoZS5hbmltYXRpb25OYW1lID09PSAncGxheWVySW5zZXJ0ZWQnKSB7CiAgICAgICAgICAgIHJlcGxhY2UoZS50YXJnZXQpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRBbmltYXRpb25TdGFydCcsIGFuaW1hdGlvbnNIYW5kbGVyLCBmYWxzZSk7CiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21zQW5pbWF0aW9uU3RhcnQnLCBhbmltYXRpb25zSGFuZGxlciwgZmFsc2UpOwogICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdvQW5pbWF0aW9uU3RhcnQnLCBhbmltYXRpb25zSGFuZGxlciwgZmFsc2UpOwogICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25zdGFydCcsIGFuaW1hdGlvbnNIYW5kbGVyLCBmYWxzZSk7CiAgCiAgICBhZGRBbmltYXRpb25zKCk7Cgp9KSh3aW5kb3cuZG9jdW1lbnQpOw=="},{"name":"youku.com_plus","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http://www.soku.com*","http://*youku.com*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"ts":1490417148105,"data":{}},"enabled":true,"position":43,"file_url":"http://userscripts-mirror.org/scripts/source/88104.user.js","uuid":"11a3c30e-1224-4126-988f-ab0630ffbecf","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIHlvdWt1LmNvbV9wbHVzCi8vIEBhdXRob3IgICAgICAgIGFzaW44ODhAcXEuY29tCi8vIEBkZXNjcmlwdGlvbiAgICBUaGUgcGx1cyB0b29sIGJ5IGFzaW44ODhAcXEuY29tCi8vIEBpbmNsdWRlICAgICAgICBodHRwOi8vd3d3LnNva3UuY29tKgovLyBAaW5jbHVkZSAgICAgICAgaHR0cDovLyp5b3VrdS5jb20qCi8vID09L1VzZXJTY3JpcHQ9PQovL2FsZXJ0KCJ0ZXN0IikKCnZhciBJc0NoZWNrRG93bmxvYWQ9LTEKdmFyIGRvd25saXN0ID0gIiI7CnZhciB1cmxsaXN0PSBuZXcgICBBcnJheSgpOy8v5aSE55CG5Lit55qE5Lq654mp5pWw5o2uLOiuvuS4uuWFqOWxgAp2YXIgdXJsY2FjaGUgPSBuZXcgICBBcnJheSgpOwovL3ZhciBwYWdlc2xpc3QgPSAiIjsKdmFyIHdlYl90aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0aXRsZScpWzBdLmlubmVySFRNTAp2YXIgY3VycmVudF9zZWxlY3RmbGFnOwppZiAoMT4wKSAKewogICAgdmFyIGRpdm51bSA9IDEKICAgIHZhciBkaXZsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpOwogICAgZm9yKHZhciBqPTA7IGo8ZGl2bGlzdC5sZW5ndGg7IGorKyl7CiAgICAgICAgaWYgKGRpdmxpc3Rbal0uY2xhc3NOYW1lID09ICJpdGVtcyIpey8v5Ymn6ZuG5YiX6KGoIGh0dHA6Ly93d3cuc29rdS5jb20vdj9rZXl3b3JkPea1t+i0vOeOiyZjYT01CiAgICAgICAgICAgIHZhciBpc1Nob3duID0gZmFsc2U7CiAgICAgICAgICAgIHZhciBpdGVtcyA9IGRpdmxpc3Rbal0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpOwogICAgICAgICAgICB2YXIgcGFnZU51bUFzYz0gMDsKICAgICAgICAgICAgZm9yKHZhciBrPTA7IGs8aXRlbXMubGVuZ3RoOyBrKyspewogICAgICAgICAgICAgICAgdmFyIGl0ZW1saW5rPSIiCiAgICAgICAgICAgICAgICB2YXIgY29udHJvbHMgPSBpdGVtc1trXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGknKTsKICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpPGNvbnRyb2xzLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbHNbaV0uY2xhc3NOYW1lPT0iaV90aXRsZSIpewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbHNbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVswXSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9odHRwOi8vd3d3LnNva3UuY29tL3A/Y2E9NSZlcD00MjY2NDImc3Q9NDMzJmxtPTQwJnU9aHR0cDovL3YueW91a3UuY29tL3Zfc2hvdy9pZF9YTVRjM01qUTFPRE15Lmh0bWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgPSBjb250cm9sc1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpWzBdLmhyZWYKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgPSBsaW5rLnJlcGxhY2UoLy4qPyhodHRwOlwvXC92XC55b3VrdVwuY29tXC92X3Nob3cuKikvZywiJDEiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmsuaW5kZXhPZigidi55b3VrdS5jb20iKSA+IDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTaG93biA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lkI1A6ZO+5o6l5Zyw5Z2ACiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlua19pZD0gcGFnZU51bUFzYyArICJAIitsaW5rCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VOdW1Bc2M8MTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtbGluayA9ICIwMCIraXRlbWxpbmsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGFnZU51bUFzYzwxMDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtbGluayA9ICIwIitpdGVtbGluawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sc1tpXS5pbm5lckhUTUwgPSAiPGEgc3R5bGU9XCJ0ZXh0LWRlY29yYXRpb246IG5vbmU7Y29sb3I6IGJsYWNrXCIgaHJlZj0namF2YXNjcmlwdDpjaGVja1RvU3RhcnQoIitwYWdlTnVtQXNjKyIsXCJNYW5IdWFMaW5rcyIrZGl2bnVtKyJcIiknIHRpdGxlPSflkJHliY3lhajpg6jpgInmi6knPjw8L2E+IisiPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiIitsaW5rX2lkKyJcIiBuYW1lPVwiTWFuSHVhTGlua3MiK2Rpdm51bSsiXCIgPiIrIjxhIHN0eWxlPVwidGV4dC1kZWNvcmF0aW9uOiBub25lO2NvbG9yOiBibGFja1wiIGhyZWY9J2phdmFzY3JpcHQ6Y2hlY2tUb0VuZCgiK3BhZ2VOdW1Bc2MrIixcIk1hbkh1YUxpbmtzIitkaXZudW0rIlwiKScgdGl0bGU9J+WQkeWQjuWFqOmDqOmAieaLqSc+PjwvYT4iKyBjb250cm9sc1tpXS5pbm5lckhUTUwrIiAgPHNwYW4gaWQ9XCJzcGFuX01hbkh1YUxpbmtzIitkaXZudW0rIl8iK2xpbmsrIlwiPiA8L3NwYW4+IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VOdW1Bc2MrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xzW2ldLmlubmVySFRNTCAgPSAiZGVidWciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc1Nob3duKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBkaXZsaXN0W2pdLmlubmVySFRNTCA9ICI8YSBocmVmPSdqYXZhc2NyaXB0OmNoZWNrVG9FbmQoMCxcIk1hbkh1YUxpbmtzIitkaXZudW0rIlwiKScgdGl0bGU9J+WFqOmDqOmAieaLqSc+5YWo6YCJPC9hPiAgPGlucHV0IHR5cGU9J2J1dHRvbicgaWQ9J2J0bl9NYW5IdWFMaW5rcyIrZGl2bnVtKyInIG9uY2xpY2s9RG93bmxvYWRDaGVjaygnIisiTWFuSHVhTGlua3MiK2Rpdm51bSsiJykgdmFsdWU9J+W8gOWni+aPkOWPlicgdGl0bGU9J+W9k+WJjemhtSc+IisiPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiY2hlY2tfTWFuSHVhTGlua3MiK2Rpdm51bSsiXCI+PGxhYmVsIGZvcj1cImNoZWNrX01hbkh1YUxpbmtzIitkaXZudW0rIlwiPuaPkOWPluaXtueri+WIu+W8gOWni+S4i+i9vTwvbGFiZWw+IisiPGJyPjxicj4iICsgZGl2bGlzdFtqXS5pbm5lckhUTUwgCiAgICAgICAgICAgICAgICBkaXZudW0rKzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChkaXZsaXN0W2pdLmNsYXNzTmFtZSA9PSAidmlkZW9zIiB8fCBkaXZsaXN0W2pdLmNsYXNzTmFtZSA9PSAic2hvd3MiKXsgLy92aWRlb3M6ICBzb2t15Lit55qE5LyY6YW35pCc57SiKOS4jeaUr+aMgeS4k+i+kemhtemdoikgICAKICAgICAgICAgICAgdmFyIGlzU2hvd24gPSBmYWxzZTsKICAgICAgICAgICAgdmFyIGl0ZW1zID0gZGl2bGlzdFtqXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndWwnKTsKICAgICAgICAgICAgdmFyIHBhZ2VOdW1Bc2M9IDA7CiAgICAgICAgICAgIGZvcih2YXIgaz0wOyBrPGl0ZW1zLmxlbmd0aDsgaysrKXsKICAgICAgICAgICAgICAgIHZhciBpdGVtbGluaz0iIgogICAgICAgICAgICAgICAgdmFyIGNvbnRyb2xzID0gaXRlbXNba10uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpJyk7CiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxjb250cm9scy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xzW2ldLmNsYXNzTmFtZT09InZUaXRsZSIgfHwgY29udHJvbHNbaV0uY2xhc3NOYW1lPT0idl90aXRsZSIgfHwgY29udHJvbHNbaV0uY2xhc3NOYW1lPT0ic2hvd190aXRsZSIgfHwgY29udHJvbHNbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2gxJylbMF0peyAvL3ZUaXRsZSAg6KeG6aKR5pCc57Si6aG16Z2iICAgc2hvd190aXRsZee7vOiJuumhtemdogogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbHNbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVswXSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9odHRwOi8vd3d3LnNva3UuY29tL3A/Y2E9NSZlcD00MjY2NDImc3Q9NDMzJmxtPTQwJnU9aHR0cDovL3YueW91a3UuY29tL3Zfc2hvdy9pZF9YTVRjM01qUTFPRE15Lmh0bWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgPSBjb250cm9sc1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpWzBdLmhyZWYKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgPSBsaW5rLnJlcGxhY2UoLy4qPyhodHRwOlwvXC92XC55b3VrdVwuY29tXC92X3Nob3cuKikvZywiJDEiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmsuaW5kZXhPZigidi55b3VrdS5jb20iKSA+IDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTaG93biA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lkI1A6ZO+5o6l5Zyw5Z2ACiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlua19pZD0gcGFnZU51bUFzYyArICJAIitsaW5rCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VOdW1Bc2M8MTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtbGluayA9ICIwMCIraXRlbWxpbmsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGFnZU51bUFzYzwxMDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtbGluayA9ICIwIitpdGVtbGluawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sc1tpXS5pbm5lckhUTUwgPSAiPGEgc3R5bGU9XCJ0ZXh0LWRlY29yYXRpb246IG5vbmU7Y29sb3I6IGJsYWNrXCIgaHJlZj0namF2YXNjcmlwdDpjaGVja1RvU3RhcnQoIitwYWdlTnVtQXNjKyIsXCJNYW5IdWFMaW5rcyIrZGl2bnVtKyJcIiknIHRpdGxlPSflkJHliY3lhajpg6jpgInmi6knPjw8L2E+IisiPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiIitsaW5rX2lkKyJcIiBuYW1lPVwiTWFuSHVhTGlua3MiK2Rpdm51bSsiXCIgPiIrIjxhIHN0eWxlPVwidGV4dC1kZWNvcmF0aW9uOiBub25lO2NvbG9yOiBibGFja1wiIGhyZWY9J2phdmFzY3JpcHQ6Y2hlY2tUb0VuZCgiK3BhZ2VOdW1Bc2MrIixcIk1hbkh1YUxpbmtzIitkaXZudW0rIlwiKScgdGl0bGU9J+WQkeWQjuWFqOmDqOmAieaLqSc+PjwvYT4iKyBjb250cm9sc1tpXS5pbm5lckhUTUwrIiAgPHNwYW4gaWQ9XCJzcGFuX01hbkh1YUxpbmtzIitkaXZudW0rIl8iK2xpbmsrIlwiPiA8L3NwYW4+IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VOdW1Bc2MrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xzW2ldLmlubmVySFRNTCAgPSAiZGVidWciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc1Nob3duKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBkaXZsaXN0W2pdLmlubmVySFRNTCA9ICI8YSBocmVmPSdqYXZhc2NyaXB0OmNoZWNrVG9FbmQoMCxcIk1hbkh1YUxpbmtzIitkaXZudW0rIlwiKScgdGl0bGU9J+WFqOmDqOmAieaLqSc+5YWo6YCJPC9hPiAgPGlucHV0IHR5cGU9J2J1dHRvbicgaWQ9J2J0bl9NYW5IdWFMaW5rcyIrZGl2bnVtKyInIG9uY2xpY2s9RG93bmxvYWRDaGVjaygnIisiTWFuSHVhTGlua3MiK2Rpdm51bSsiJykgdmFsdWU9J+W8gOWni+aPkOWPlicgdGl0bGU9J+W9k+WJjemhtSc+IisiPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiY2hlY2tfTWFuSHVhTGlua3MiK2Rpdm51bSsiXCI+PGxhYmVsIGZvcj1cImNoZWNrX01hbkh1YUxpbmtzIitkaXZudW0rIlwiPuaPkOWPluaXtueri+WIu+W8gOWni+S4i+i9vTwvbGFiZWw+IisiPGJyPjxicj4iICsgZGl2bGlzdFtqXS5pbm5lckhUTUwgCiAgICAgICAgICAgICAgICBkaXZudW0rKzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChkaXZsaXN0W2pdLmNsYXNzTmFtZSA9PSAicGFja19saXN0Iil7Ly/or6bmg4XpobXpnaIKICAgICAgICAgICAgdmFyIGlzU2hvd24gPSBmYWxzZTsKICAgICAgICAgICAgdmFyIGl0ZW1zID0gZGl2bGlzdFtqXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndHInKTsKICAgICAgICAgICAgdmFyIHBhZ2VOdW1Bc2M9IDA7CiAgICAgICAgICAgIGZvcih2YXIgaz0wOyBrPGl0ZW1zLmxlbmd0aDsgaysrKXsKICAgICAgICAgICAgICAgIHZhciBpdGVtbGluaz0iIgogICAgICAgICAgICAgICAgdmFyIGNvbnRyb2xzID0gaXRlbXNba10uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RkJyk7CiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxjb250cm9scy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xzW2ldLmNsYXNzTmFtZT09InZUaXRsZSIpewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbHNbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVswXSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9odHRwOi8vd3d3LnNva3UuY29tL3A/Y2E9NSZlcD00MjY2NDImc3Q9NDMzJmxtPTQwJnU9aHR0cDovL3YueW91a3UuY29tL3Zfc2hvdy9pZF9YTVRjM01qUTFPRE15Lmh0bWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgPSBjb250cm9sc1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpWzBdLmhyZWYKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgPSBsaW5rLnJlcGxhY2UoLy4qPyhodHRwOlwvXC92XC55b3VrdVwuY29tXC92X3Nob3cuKikvZywiJDEiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmsuaW5kZXhPZigidi55b3VrdS5jb20iKSA+IDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTaG93biA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lkI1A6ZO+5o6l5Zyw5Z2ACiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlua19pZD0gcGFnZU51bUFzYyArICJAIitsaW5rCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VOdW1Bc2M8MTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtbGluayA9ICIwMCIraXRlbWxpbmsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGFnZU51bUFzYzwxMDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtbGluayA9ICIwIitpdGVtbGluawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sc1tpXS5pbm5lckhUTUwgPSAiPGEgc3R5bGU9XCJ0ZXh0LWRlY29yYXRpb246IG5vbmU7Y29sb3I6IGJsYWNrXCIgaHJlZj0namF2YXNjcmlwdDpjaGVja1RvU3RhcnQoIitwYWdlTnVtQXNjKyIsXCJNYW5IdWFMaW5rcyIrZGl2bnVtKyJcIiknIHRpdGxlPSflkJHliY3lhajpg6jpgInmi6knPjw8L2E+IisiPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiIitsaW5rX2lkKyJcIiBuYW1lPVwiTWFuSHVhTGlua3MiK2Rpdm51bSsiXCIgPiIrIjxhIHN0eWxlPVwidGV4dC1kZWNvcmF0aW9uOiBub25lO2NvbG9yOiBibGFja1wiIGhyZWY9J2phdmFzY3JpcHQ6Y2hlY2tUb0VuZCgiK3BhZ2VOdW1Bc2MrIixcIk1hbkh1YUxpbmtzIitkaXZudW0rIlwiKScgdGl0bGU9J+WQkeWQjuWFqOmDqOmAieaLqSc+PjwvYT4iKyBjb250cm9sc1tpXS5pbm5lckhUTUwrIiAgPHNwYW4gaWQ9XCJzcGFuX01hbkh1YUxpbmtzIitkaXZudW0rIl8iK2xpbmsrIlwiPiA8L3NwYW4+IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VOdW1Bc2MrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xzW2ldLmlubmVySFRNTCAgPSAiZGVidWciCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc1Nob3duKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBkaXZsaXN0W2pdLmlubmVySFRNTCA9ICI8YSBocmVmPSdqYXZhc2NyaXB0OmNoZWNrVG9FbmQoMCxcIk1hbkh1YUxpbmtzIitkaXZudW0rIlwiKScgdGl0bGU9J+WFqOmDqOmAieaLqSc+5YWo6YCJPC9hPiAgPGlucHV0IHR5cGU9J2J1dHRvbicgaWQ9J2J0bl9NYW5IdWFMaW5rcyIrZGl2bnVtKyInIG9uY2xpY2s9RG93bmxvYWRDaGVjaygnIisiTWFuSHVhTGlua3MiK2Rpdm51bSsiJykgdmFsdWU9J+W8gOWni+aPkOWPlicgdGl0bGU9J+W9k+WJjemhtSc+IisiPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiY2hlY2tfTWFuSHVhTGlua3MiK2Rpdm51bSsiXCI+PGxhYmVsIGZvcj1cImNoZWNrX01hbkh1YUxpbmtzIitkaXZudW0rIlwiPuaPkOWPluaXtueri+WIu+W8gOWni+S4i+i9vTwvbGFiZWw+IisiPGJyPjxicj4iICsgZGl2bGlzdFtqXS5pbm5lckhUTUwgCiAgICAgICAgICAgICAgICBkaXZudW0rKzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChkaXZsaXN0W2pdLmNsYXNzTmFtZSA9PSAicGFja190aHVtYiIpey8v55S16KeG5YmnIOWJp+mbhuWIl+ihqAogICAgICAgICAgICB2YXIgaXNTaG93biA9IGZhbHNlOwogICAgICAgICAgICB2YXIgaXRlbXMgPSBkaXZsaXN0W2pdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKTsKICAgICAgICAgICAgdmFyIHBhZ2VOdW1Bc2M9IDA7CiAgICAgICAgICAgIGZvcih2YXIgaz0wOyBrPGl0ZW1zLmxlbmd0aDsgaysrKXsKICAgICAgICAgICAgICAgIHZhciBpdGVtbGluaz0iIgogICAgICAgICAgICAgICAgdmFyIGNvbnRyb2xzID0gaXRlbXNba10uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpOwogICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGk8Y29udHJvbHMubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sc1tpXS5jbGFzc05hbWU9PSJzaG93X3RpdGxlIil7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sc1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpWzBdKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2h0dHA6Ly93d3cuc29rdS5jb20vcD9jYT01JmVwPTQyNjY0MiZzdD00MzMmbG09NDAmdT1odHRwOi8vdi55b3VrdS5jb20vdl9zaG93L2lkX1hNVGMzTWpRMU9ETXkuaHRtbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluayA9IGNvbnRyb2xzW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJylbMF0uaHJlZgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluayA9IGxpbmsucmVwbGFjZSgvLio/KGh0dHA6XC9cL3ZcLnlvdWt1XC5jb21cL3Zfc2hvdy4qKS9nLCIkMSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluay5pbmRleE9mKCJ2LnlvdWt1LmNvbSIpID4gMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Nob3duID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WQjUDpk77mjqXlnLDlnYAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rX2lkPSBwYWdlTnVtQXNjICsgIkAiK2xpbmsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZU51bUFzYzwxMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1saW5rID0gIjAwIitpdGVtbGluawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwYWdlTnVtQXNjPDEwMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1saW5rID0gIjAiK2l0ZW1saW5rCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzW2ldLmlubmVySFRNTCA9ICI8YSBzdHlsZT1cInRleHQtZGVjb3JhdGlvbjogbm9uZTtjb2xvcjogYmxhY2tcIiBocmVmPSdqYXZhc2NyaXB0OmNoZWNrVG9TdGFydCgiK3BhZ2VOdW1Bc2MrIixcIk1hbkh1YUxpbmtzIitkaXZudW0rIlwiKScgdGl0bGU9J+WQkeWJjeWFqOmDqOmAieaLqSc+PDwvYT4iKyI8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCIiK2xpbmtfaWQrIlwiIG5hbWU9XCJNYW5IdWFMaW5rcyIrZGl2bnVtKyJcIiA+IisiPGEgc3R5bGU9XCJ0ZXh0LWRlY29yYXRpb246IG5vbmU7Y29sb3I6IGJsYWNrXCIgaHJlZj0namF2YXNjcmlwdDpjaGVja1RvRW5kKCIrcGFnZU51bUFzYysiLFwiTWFuSHVhTGlua3MiK2Rpdm51bSsiXCIpJyB0aXRsZT0n5ZCR5ZCO5YWo6YOo6YCJ5oupJz4+PC9hPiIrIGNvbnRyb2xzW2ldLmlubmVySFRNTCsiICA8c3BhbiBpZD1cInNwYW5fTWFuSHVhTGlua3MiK2Rpdm51bSsiXyIrbGluaysiXCI+IDwvc3Bhbj4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZU51bUFzYysrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgLy8gY29udHJvbHNbaV0uaW5uZXJIVE1MICA9ICJkZWJ1ZyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlzU2hvd24pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGRpdmxpc3Rbal0uaW5uZXJIVE1MID0gIjxhIGhyZWY9J2phdmFzY3JpcHQ6Y2hlY2tUb0VuZCgwLFwiTWFuSHVhTGlua3MiK2Rpdm51bSsiXCIpJyB0aXRsZT0n5YWo6YOo6YCJ5oupJz7lhajpgIk8L2E+ICA8aW5wdXQgdHlwZT0nYnV0dG9uJyBpZD0nYnRuX01hbkh1YUxpbmtzIitkaXZudW0rIicgb25jbGljaz1Eb3dubG9hZENoZWNrKCciKyJNYW5IdWFMaW5rcyIrZGl2bnVtKyInKSB2YWx1ZT0n5byA5aeL5o+Q5Y+WJyB0aXRsZT0n5b2T5YmN6aG1Jz4iKyI8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJjaGVja19NYW5IdWFMaW5rcyIrZGl2bnVtKyJcIj48bGFiZWwgZm9yPVwiY2hlY2tfTWFuSHVhTGlua3MiK2Rpdm51bSsiXCI+5o+Q5Y+W5pe256uL5Yi75byA5aeL5LiL6L29PC9sYWJlbD4iKyI8YnI+PGJyPiIgKyBkaXZsaXN0W2pdLmlubmVySFRNTCAKICAgICAgICAgICAgICAgIGRpdm51bSsrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgdW5zYWZlV2luZG93LmNoZWNrVG9TdGFydCA9IGZ1bmN0aW9uKG51bSxzZWxlY3RmbGFnKSB7CiAgICAgICAgdmFyIGVsbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShzZWxlY3RmbGFnKTsKICAgICAgICBlbG1zW251bV0uY2hlY2tlZD1lbG1zW251bV0uY2hlY2tlZD8wOjE7CiAgICAgICAgZm9yICh2YXIgaSA9IG51bTsgaSA+PTA7IGktLSkgewogICAgICAgIGVsbXNbaV0uY2hlY2tlZCA9IGVsbXNbbnVtXS5jaGVja2VkOwogICAgICAgIH0KICAgIH0KICAgIAogICAgdW5zYWZlV2luZG93LmNoZWNrVG9FbmQgPSBmdW5jdGlvbihudW0sc2VsZWN0ZmxhZywkb2JqKSB7CiAgICAgICAgdmFyIGVsbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShzZWxlY3RmbGFnKTsKICAgICAgICBlbG1zW251bV0uY2hlY2tlZD1lbG1zW251bV0uY2hlY2tlZD8wOjE7CiAgICAgICAgZm9yICh2YXIgaSA9IG51bTsgaSA8IGVsbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBlbG1zW2ldLmNoZWNrZWQgPSBlbG1zW251bV0uY2hlY2tlZDsKICAgICAgICB9CiAgICB9CiAgICAKICAgIHVuc2FmZVdpbmRvdy5Eb3dubG9hZENoZWNrID0gZnVuY3Rpb24oc2VsZWN0ZmxhZykgewogICAgICAgIGN1cnJlbnRfc2VsZWN0ZmxhZz1zZWxlY3RmbGFnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5fIitjdXJyZW50X3NlbGVjdGZsYWcpLmRpc2FibGVkPXRydWU7CiAgICAgICAgZG93bmxpc3QgPSAiIjsKICAgICAgICAvL3BhZ2VzbGlzdCA9ICIiOwogICAgICAgIHZhciBlbG1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoc2VsZWN0ZmxhZyk7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbG1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChlbG1zW2ldLmNoZWNrZWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmIChkb3dubGlzdD09IiIpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgZG93bmxpc3QgKz0gIGVsbXNbaV0uaWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBkb3dubGlzdCArPSAgIlxuIiArIGVsbXNbaV0uaWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB1cmxsaXN0ICAgPSAgIGRvd25saXN0LnNwbGl0KCAiXG4iKTsgIC8v55So5Zue6L2m5a2X56ym5Li65YWz6ZSu5a2X5YiG5Ymy6L+Z5Lqb5paH5pysLCDlvpfliLDlkI3ljZXliJfooagKICAgICAgICBpZiAodXJsbGlzdC5sZW5ndGg+MCkKICAgICAgICB7CiAgICAgICAgICAgIElzQ2hlY2tEb3dubG9hZCA9IDA7CiAgICAgICAgfQogICAgfQoKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7SXNTdGFydERvd25sb2FkKCk7fSwxMDAwKTsKICAgIGZ1bmN0aW9uIElzU3RhcnREb3dubG9hZCgpCiAgICB7CiAgICAgICAgaWYgKElzQ2hlY2tEb3dubG9hZD09LTEpLy/nu6fnu63lvqrnjq8KICAgICAgICB7CiAgICAgICAgICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RpdGxlJylbMF0uaW5uZXJIVE1MID0gIE1hdGgucmFuZG9tKCkrIiI7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7SXNTdGFydERvd25sb2FkKCk7fSwxMDAwKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoSXNDaGVja0Rvd25sb2FkPj0wKS8v57un57ut5b6q546vCiAgICAgICAgewogICAgICAgICAgICBpZiAoSXNDaGVja0Rvd25sb2FkPHVybGxpc3QubGVuZ3RoKXsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0aXRsZScpWzBdLmlubmVySFRNTCA9IChJc0NoZWNrRG93bmxvYWQrMSkrIi8iK3VybGxpc3QubGVuZ3RoKyLmraPlnKjmj5Dlj5YuLi4iCiAgICAgICAgICAgICAgICB2YXIgbGluayA9IHVybGxpc3RbSXNDaGVja0Rvd25sb2FkXS5yZXBsYWNlKC8uKj9AKGh0dHAuKikvZywiJDEiKQogICAgICAgICAgICAgICAgdmFyIHBhZ2VOYW1lID0gdXJsbGlzdFtJc0NoZWNrRG93bmxvYWRdLnJlcGxhY2UoLyguKik/QGh0dHAuKi9nLCIkMSIpCiAgICAgICAgICAgICAgICBpZiAobGluay5pbmRleE9mKCJodHRwIikgPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVybGNhY2hlW2xpbmtdKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy9wYWdlc2xpc3QgKz0gdXJsY2FjaGVbbGlua10gKyAiLCI7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGFuXyIrY3VycmVudF9zZWxlY3RmbGFnKyJfIitsaW5rKS5pbm5lckhUTUw9IjxhIHN0eWxlPVwidGV4dC1kZWNvcmF0aW9uOiBub25lO2NvbG9yOiBibGFja1wiIGhyZWY9XCIiK3VybGNhY2hlW2xpbmtdKyJcIj7ilr08L2E+PGJyPlxuIgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoZWNrXyIrY3VycmVudF9zZWxlY3RmbGFnKS5jaGVja2VkKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB1cmxjYWNoZVtsaW5rXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBJc0NoZWNrRG93bmxvYWQrKzsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtJc1N0YXJ0RG93bmxvYWQoKTt9LDEwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwYW5fIitjdXJyZW50X3NlbGVjdGZsYWcrIl8iK2xpbmspLmlubmVySFRNTD0iPGltZyAgc3JjPSdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhFQUFRQUxNUEFIcDZldmYzOTRxS2lyeTh2Sk9UazgzTnpZS0NndWJtNXQ3ZTNxeXNyTVhGeGU3dTdwdWJtN1MwdEtPam8lMkYlMkYlMkYlMkZ5SCUyRkMwNUZWRk5EUVZCRk1pNHdBd0VBQUFBaCUyQlFRSkNBQVBBQ3dBQUFBQUVBQVFBQUFFVFBESlNhdTlOUkRBZ1d4RFlHbWRaQURDa1FubFU3Q0NPQTNvTmdYc1FHMkZSaFVBQW9XRElVNk1HZVNEUjBtNGdoUmE3SmpJVVhDb2dxUXpwUnhZaGkySElMc09HdUp4R2NOdVR5SUFJZmtFQ1FnQUR3QXNBQUFBQUJBQUVBQUFCR0x3U1htTW1qaExBUWpTV0RBWVFIbUF6OEdWUVBJRVN4WndnZ0lZUzBBSUFUWUF2QWRoOE9JUUp3UkFRYkprZGpBbFVDQTZLZlUwVkVteUdXZ1ducE5mY0VBb0FvNlNtV3RCVXRDdWs5Z2p3UUtlUUFlV1lRQUhJWklDS0JvS0JuY1RFUUFoJTJCUVFKQ0FBUEFDd0FBQUFBRUFBUUFBQUVXdkRKT1JlakdDdFFzZ3dEQVFBR0dXU0hNSzdqZ0FXcTBDR2owVkVESUp4UG52QVUwYTEzZUFRS3Jzbkk4MWdxQVo2QVV6SW9uQTdKUndGQXlBUVNnQ1FzakNtVUFJaGpERWhsclFURlYlMkJsTUdMQXBXd1V6dzFqc0l3QWglMkJRUUpDQUFQQUN3QUFBQUFFQUFRQUFBRVR2REpTYXU5TDRRYUJnRUFNV2dFUWgwQ3FBTENaMHBCS2hSU2tZTHZNN0FiJTJGT0dUaG9FMiUyQlFFeHlBZGl1ZXhoVmdsS3dkQ2dxS0tUR0dCZ0JjMDBOcDdWY1ZzSkRwVm81eWR5SnQlMkZ3Q0FBaCUyQlFRSkNBQVBBQ3dBQUFBQUVBQVFBQUFFV3ZESlNhdTlPQXdDQUJuQnRRaGRDUWpIbFFoRldKQkNPS1dQTEFYazhLUUlrQ3dXQmNBZ01EdzRRNUNrZ093b2hDVkNZVEl3ZEFnUG9sVmhXU1FBaU4xamNMTFZRclFickJWNEVjeVNBOGwwQWxvMHlBOGN3JTJCOVRJZ0FoJTJCUVFGQ0FBUEFDd0FBQUFBRUFBUUFBQUVXdkRKU2F1OVdBNEF5QWhXTUNoUHdYSENRUlVHWUFSZ0tRQkN6SnhBUWdYeklDMktGa2MxTVJFb0hNVEFod1EwWTVvQmdrTWhBQXFVdzhtZ1dHaG8wRWNDeDVEd2FBVVFyR1hBVGc2ekU3YndDUTJzQUdabXo3ZEVBQUE3Jy8+IgogICAgICAgICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogIGxpbmssCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJ1VzZXItYWdlbnQnOiAnTW96aWxsYS80LjAgKGNvbXBhdGlibGUpIEdyZWFzZW1vbmtleScsCiAgICAgICAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vYXRvbSt4bWwsYXBwbGljYXRpb24veG1sLHRleHQveG1sJywKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbihyZXNwb25zZURldGFpbHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQocmVzcG9uc2VEZXRhaWxzLnJlc3BvbnNlVGV4dCkgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXBwbGlzdHR4dD1yZXNwb25zZURldGFpbHMucmVzcG9uc2VUZXh0LnJlcGxhY2UoL2hyZWY9Iihpa3VbXiJdKikiL2csZnVuY3Rpb24oJDAsaWt1X2xpbmspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYWdlcyA9ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwYW5fIitjdXJyZW50X3NlbGVjdGZsYWcrIl8iK2xpbmspLmlubmVySFRNTD0iPGEgc3R5bGU9XCJ0ZXh0LWRlY29yYXRpb246IG5vbmU7Y29sb3I6IGJsYWNrXCIgaHJlZj1cIiIraWt1X2xpbmsrIlwiPuKWvTwvYT48YnI+XG4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wYWdlc2xpc3QgKz0gaWt1X2xpbms7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsY2FjaGVbbGlua10gPSBpa3VfbGluazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoZWNrXyIrY3VycmVudF9zZWxlY3RmbGFnKS5jaGVja2VkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gaWt1X2xpbms7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KHVybGNhY2hlW3VybGxpc3RbSXNDaGVja0Rvd25sb2FkXV0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNDaGVja0Rvd25sb2FkKys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge0lzU3RhcnREb3dubG9hZCgpO30sMTApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIElzQ2hlY2tEb3dubG9hZCsrOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7SXNTdGFydERvd25sb2FkKCk7fSwxMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGl0bGUnKVswXS5pbm5lckhUTUwgPSB3ZWJfdGl0bGUKICAgICAgICAgICAgICAgIC8vdW5zYWZlV2luZG93LnNob3diYnNjb2RlKCk7CiAgICAgICAgICAgICAgICBJc0NoZWNrRG93bmxvYWQ9LTE7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnRuXyIrY3VycmVudF9zZWxlY3RmbGFnKS5kaXNhYmxlZD1mYWxzZTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7SXNTdGFydERvd25sb2FkKCk7fSwxMDAwKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIAogICAgLyoKICAgIHVuc2FmZVdpbmRvdy5zaG93YmJzY29kZSA9IGZ1bmN0aW9uKCl7CiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiZ0RpdiIpKQogICAgICAgIHsKICAgICAgICAgICAgLy9hbGVydCgidGVzdCIpCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiZ0RpdiIpLnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIGxvYWRpbmdiZ09iaj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgbG9hZGluZ2JnT2JqLnNldEF0dHJpYnV0ZSgnaWQnLCdiZ0RpdicpOwogICAgICAgICAgICBsb2FkaW5nYmdPYmouc3R5bGUucG9zaXRpb249ImFic29sdXRlIjsKICAgICAgICAgICAgbG9hZGluZ2JnT2JqLnN0eWxlLnRvcD0iMCI7CiAgICAgICAgICAgIGxvYWRpbmdiZ09iai5zdHlsZS5iYWNrZ3JvdW5kPSIjY2NjY2NjIjsKICAgICAgICAgICAgbG9hZGluZ2JnT2JqLnN0eWxlLmZpbHRlcj0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKHN0eWxlPTMsb3BhY2l0eT0yNSxmaW5pc2hPcGFjaXR5PTc1IjsKICAgICAgICAgICAgbG9hZGluZ2JnT2JqLnN0eWxlLm9wYWNpdHk9IjAuOSI7CiAgICAgICAgICAgIGxvYWRpbmdiZ09iai5zdHlsZS5sZWZ0PSIwIjsKICAgICAgICAgICAgbG9hZGluZ2JnT2JqLnN0eWxlLndpZHRoPWRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGggKyAicHgiOwogICAgICAgICAgICBsb2FkaW5nYmdPYmouc3R5bGUuaGVpZ2h0PWRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0ICsgInB4IjsKICAgICAgICAgICAgbG9hZGluZ2JnT2JqLnN0eWxlLnpJbmRleCA9ICIxMDAwMCI7CiAgICAgICAgICAgIGxvYWRpbmdiZ09iai5pbm5lckhUTUwgPSAidGVzdCI7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobG9hZGluZ2JnT2JqKTsKICAgICAgICB9CiAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiZ0RpdiIpLmlubmVySFRNTCA9ICI8YnI+PGJyPjxicj48YnI+PGJyPjxicj4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS08aW5wdXQgdHlwZT0nYnV0dG9uJyBvbmNsaWNrPXRoaXMucGFyZW50Tm9kZS5zdHlsZS52aXNpYmlsaXR5PSdoaWRkZW4nIHZhbHVlPSflhbPpl60nPjxicj48dGV4dGFyZWEgaWQ9J2FwcHR4dGNvZGUnIHdyYXA9J29mZicgcm93cz0yNSBjb2xzPTU5IG9ubW91c2VvdmVyPXRoaXMuc2VsZWN0KCk7ID4iK3BhZ2VzbGlzdCsiPC90ZXh0YXJlYT4iOwogICAgfSovCn0="}]}